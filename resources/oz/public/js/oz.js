var shadow$provide = {};
(function(){
shadow$provide[0]=function(ha,ia,E,t){(function(d,m){"object"===typeof t&&"undefined"!==typeof E?m(t):"function"===typeof define&&define.amd?define(["exports"],m):(d=d||self,m(d.vega={}))})(this,function(d){function m(a,b,c){a.fields=b||[];a.fname=c;return a}function t(a){return null==a?null:a.fields}function L(a){return 1===a.length?V(a[0]):W(a)}function w(a){throw Error(a);}function F(a){function b(){c.push(d+a.substring(g,h));d="";g=h+1}var c=[],f=null,e=0,l=a.length,d="",g,h;a+="";for(g=h=0;h<
l;++h){var n=a[h];"\\"===n?(d+=a.substring(g,h),d+=a.substring(++h,++h),g=h):n===f?(b(),f=null,e=-1):f||(g===e&&'"'===n?(g=h+1,f=n):g===e&&"'"===n?(g=h+1,f=n):"."!==n||e?"["===n?(h>g&&b(),e=g=h+1):"]"===n&&(e||w("Access path missing open bracket: "+a),0<e&&b(),e=0,g=h+1):h>g?b():g=h+1)}e&&w("Access path missing closing bracket: "+a);f&&w("Access path missing closing quote: "+a);h>g&&(h++,b());return c}function G(a,b,c){var f=F(a);a=1===f.length?f[0]:a;return m((c&&c.get||L)(f),[a],b||a)}function x(a,
b,c){b=[b].concat([].slice.call(c));console[a].apply(console,b)}function y(a){return a===Object(a)}function H(a,b,c,f){if("__proto__"!==b){var e;if(y(c)&&!z(c))for(e in a=y(a[b])?a[b]:a[b]={},c)f&&(!0===f||f[e])?H(a,e,c[e]):"__proto__"!==e&&(a[e]=c[e]);else a[b]=c}}function E(a,b){function c(a){f[a.name]||(f[a.name]=1,e.push(a))}if(null==a)return b;var f={},e=[];b.forEach(c);a.forEach(c);return e}function r(a){return a[a.length-1]}function I(a){return null==a||""===a?null:+a}function M(a){return function(b){return a*
Math.exp(b)}}function N(a){return function(b){return Math.log(a*b)}}function O(a){return function(b){return Math.sign(b)*Math.log1p(Math.abs(b/a))}}function P(a){return function(b){return Math.sign(b)*Math.expm1(Math.abs(b))*a}}function A(a){return function(b){return 0>b?-Math.pow(-b,a):Math.pow(b,a)}}function B(a,b,c,f){var e=c(a[0]);a=c(r(a));b*=a-e;return[f(e-b),f(a-b)]}function C(a,b,c,f,e){var l=f(a[0]);a=f(r(a));b=null!=b?f(b):(l+a)/2;return[e(b+(l-b)*c),e(b+(a-b)*c)]}function u(a){return null!=
a?z(a)?a:[a]:[]}function J(a){return"function"===typeof a}function p(a,b){return X.call(a,b)}function Q(a){return"[object Date]"===Object.prototype.toString.call(a)}function R(a){return"number"===typeof a}function S(a){return"string"===typeof a}function v(a,b){for(var c="";0<=--b;)c+=a;return c}function T(a){return z(a)?"["+a.map(T)+"]":y(a)||S(a)?JSON.stringify(a).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):a}function Y(a){return R(a)?a:Q(a)?a:Date.parse(a)}var V=function(a){return function(b){return b[a]}},
W=function(a){var b=a.length;return function(c){for(var f=0;f<b;++f)c=c[a[f]];return c}},q=[],Z=G("id"),K=m(function(a){return a},q,"identity"),aa=m(function(){return 0},q,"zero"),ba=m(function(){return 1},q,"one"),ca=m(function(){return!0},q,"true");q=m(function(){return!1},q,"false");var z=Array.isArray,U=function(a,b){return(a<b||null==a)&&null!=b?-1:(a>b||null==b)&&null!=a?1:(b=b instanceof Date?+b:b,a=a instanceof Date?+a:a)!==a&&b===b?-1:b!==b&&a===a?1:0},fa=function(a,b){return 1===a.length?
da(a[0],b[0]):ea(a,b,a.length)},da=function(a,b){return function(c,f){return U(a(c),a(f))*b}},ea=function(a,b,c){b.push(0);return function(f,e){var l=0;for(var d=-1;0===l&&++d<c;)l=a[d],l=U(l(f),l(e));return l*b[d]}},X=Object.prototype.hasOwnProperty,D={};d.Debug=4;d.Error=1;d.Info=3;d.None=0;d.Warn=2;d.accessor=m;d.accessorFields=t;d.accessorName=function(a){return null==a?null:a.fname};d.array=u;d.clampRange=function(a,b,c){var f=a[0];a=a[1];if(a<f){var e=a;a=f;f=e}e=a-f;return e>=c-b?[b,c]:[f=
Math.min(Math.max(f,b),c-e),f+e]};d.compare=function(a,b,c){c=c||{};b=u(b)||[];var f=[],e=[],d={},k=c.comparator||fa;u(a).forEach(function(a,l){null!=a&&(f.push("descending"===b[l]?-1:1),e.push(a=J(a)?a:G(a,null,c)),(t(a)||[]).forEach(function(a){return d[a]=1}))});return 0===e.length?null:m(k(e,f),Object.keys(d))};d.constant=function(a){return J(a)?a:function(){return a}};d.debounce=function(a,b){function c(){b(e);f=e=null}var f,e;return function(b){e=b;f&&clearTimeout(f);f=setTimeout(c,a)}};d.error=
w;d.extend=function(a){for(var b,c,f=1,e=arguments.length;f<e;++f)for(c in b=arguments[f],b)a[c]=b[c];return a};d.extent=function(a,b){var c=0,f,e,d,k;if(a&&(f=a.length))if(null==b){for(e=a[c];c<f&&(null==e||e!==e);e=a[++c]);for(d=k=e;c<f;++c)e=a[c],null!=e&&(e<d&&(d=e),e>k&&(k=e))}else{for(e=b(a[c]);c<f&&(null==e||e!==e);e=b(a[++c]));for(d=k=e;c<f;++c)e=b(a[c]),null!=e&&(e<d&&(d=e),e>k&&(k=e))}return[d,k]};d.extentIndex=function(a,b){var c=-1,f=a.length,e,d,k;if(null==b){for(;++c<f;){var g=a[c];
if(null!=g&&g>=g){var h=e=g;break}}if(c===f)return[-1,-1];for(d=k=c;++c<f;)g=a[c],null!=g&&(h>g&&(h=g,d=c),e<g&&(e=g,k=c))}else{for(;++c<f;)if(g=b(a[c],c,a),null!=g&&g>=g){h=e=g;break}if(c===f)return[-1,-1];for(d=k=c;++c<f;)g=b(a[c],c,a),null!=g&&(h>g&&(h=g,d=c),e<g&&(e=g,k=c))}return[d,k]};d.falsy=q;d.fastmap=function(a){function b(a){return p(c,a)&&c[a]!==D}var c={},f;var e={size:0,empty:0,object:c,has:b,get:function(a){return b(a)?c[a]:void 0},set:function(a,f){b(a)||(++e.size,c[a]===D&&--e.empty);
c[a]=f;return this},delete:function(a){b(a)&&(--e.size,++e.empty,c[a]=D);return this},clear:function(){e.size=e.empty=0;e.object=c={}},test:function(a){return arguments.length?(f=a,e):f},clean:function(){var a={},b=0,d;for(d in c){var h=c[d];h===D||f&&f(h)||(a[d]=h,++b)}e.size=b;e.empty=0;e.object=c=a}};a&&Object.keys(a).forEach(function(b){e.set(b,a[b])});return e};d.field=G;d.flush=function(a,b,c,f,e,d){if(!c&&0!==c)return d;var k=a[0];a=r(a);c=+c;if(a<k){var g=k;k=a;a=g}g=Math.abs(b-k);b=Math.abs(a-
b);return g<b&&g<=c?f:b<=c?e:d};d.hasOwnProperty=p;d.id=Z;d.identity=K;d.inherits=function(a,b){b=a.prototype=Object.create(b.prototype);b.constructor=a;return b};d.inrange=function(a,b,c,f){var e=b[0];b=b[b.length-1];if(e>b){var d=e;e=b;b=d}return(void 0===c||c?e<=a:e<a)&&(void 0===f||f?a<=b:a<b)};d.isArray=z;d.isBoolean=function(a){return"boolean"===typeof a};d.isDate=Q;d.isFunction=J;d.isNumber=R;d.isObject=y;d.isRegExp=function(a){return"[object RegExp]"===Object.prototype.toString.call(a)};d.isString=
S;d.key=function(a,b,c){a&&(a=b?u(a).map(function(a){return a.replace(/\\(.)/g,"$1")}):u(a));var f=a&&a.length,e=c&&c.get||L;c=function(a){return e(b?[a]:F(a))};if(f)if(1===f){var d=c(a[0]);c=function(a){return""+d(a)}}else{var k=a.map(c);c=function(a){for(var b=""+k[0](a),c=0;++c<f;)b+="|"+k[c](a);return b}}else c=function(){return""};return m(c,a,"key")};d.lerp=function(a,b){var c=a[0];a=r(a);return(b=+b)?1===b?a:c+b*(a-c):c};d.logger=function(a,b){var c=a||0;return{level:function(a){return arguments.length?
(c=+a,this):c},error:function(){1<=c&&x(b||"error","ERROR",arguments);return this},warn:function(){2<=c&&x(b||"warn","WARN",arguments);return this},info:function(){3<=c&&x(b||"log","INFO",arguments);return this},debug:function(){4<=c&&x(b||"log","DEBUG",arguments);return this}}};d.lruCache=function(a){a=+a||1E4;var b,c,f,e=function(){b={};c={};f=0},d=function(e,d){++f>a&&(c=b,b={},f=1);return b[e]=d};e();return{clear:e,has:function(a){return p(b,a)||p(c,a)},get:function(a){return p(b,a)?b[a]:p(c,
a)?d(a,c[a]):void 0},set:function(a,c){return p(b,a)?b[a]=c:d(a,c)}}};d.merge=function(a,b,c,f){var e=b.length,d=c.length;if(!d)return b;if(!e)return c;f=f||new b.constructor(e+d);for(var k=0,g=0,h=0;k<e&&g<d;++h)f[h]=0<a(b[k],c[g])?c[g++]:b[k++];for(;k<e;++k,++h)f[h]=b[k];for(;g<d;++g,++h)f[h]=c[g];return f};d.mergeConfig=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];return b.reduce(function(a,b){for(var c in b)"signals"===c?a.signals=E(a.signals,b.signals):H(a,c,b[c],"legend"===
c?{layout:1}:"style"===c?!0:null);return a},{})};d.one=ba;d.pad=function(a,b,c,d){c=c||" ";a+="";b-=a.length;return 0>=b?a:"left"===d?v(c,b)+a:"center"===d?v(c,~~(b/2))+a+v(c,Math.ceil(b/2)):a+v(c,b)};d.panLinear=function(a,b){return B(a,b,I,K)};d.panLog=function(a,b){var c=Math.sign(a[0]);return B(a,b,N(c),M(c))};d.panPow=function(a,b,c){return B(a,b,A(c),A(1/c))};d.panSymlog=function(a,b,c){return B(a,b,O(c),P(c))};d.peek=r;d.quarter=function(a){return 1+~~((new Date(a)).getMonth()/3)};d.repeat=
v;d.span=function(a){return a&&r(a)-a[0]||0};d.splitAccessPath=F;d.stringValue=T;d.toBoolean=function(a){return null==a||""===a?null:a&&"false"!==a&&"0"!==a?!!a:!1};d.toDate=function(a,b){b=b||Y;return null==a||""===a?null:b(a)};d.toNumber=I;d.toSet=function(a){for(var b={},c=0,d=a.length;c<d;++c)b[a[c]]=!0;return b};d.toString=function(a){return null==a||""===a?null:a+""};d.truncate=function(a,b,c,d){d=null!=d?d:"…";a+="";var e=a.length,f=Math.max(0,b-d.length);return e<=b?a:"left"===c?d+a.slice(e-
f):"center"===c?a.slice(0,Math.ceil(f/2))+d+a.slice(e-~~(f/2)):a.slice(0,f)+d};d.truthy=ca;d.utcquarter=function(a){return 1+~~((new Date(a)).getUTCMonth()/3)};d.visitArray=function(a,b,c){if(a)if(b)for(var d=0,e=a.length,l;d<e;++d)(l=b(a[d]))&&c(l,d,a);else a.forEach(c)};d.writeConfig=H;d.zero=aa;d.zoomLinear=function(a,b,c){return C(a,b,c,I,K)};d.zoomLog=function(a,b,c){var d=Math.sign(a[0]);return C(a,b,c,N(d),M(d))};d.zoomPow=function(a,b,c,d){return C(a,b,c,A(d),A(1/d))};d.zoomSymlog=function(a,
b,c,d){return C(a,b,c,O(d),P(d))};Object.defineProperty(d,"__esModule",{value:!0})})};
shadow$provide[1]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z):"function"===typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.d3=a.d3||{}))})(this,function(a){function b(a){return new Function("d","return {"+a.map(function(a,b){return JSON.stringify(a)+": d["+b+'] || ""'}).join(",")+"}")}function d(a,d){var p=b(a);return function(b,u){return d(p(b),u,a)}}function w(a){var b=Object.create(null),d=[];a.forEach(function(a){for(var u in a)u in b||d.push(b[u]=
u)});return d}function la(a,b){a+="";var d=a.length;return d<b?Array(b-d+1).join(0)+a:a}function l(a){function u(a,b){function c(){if(p)return Na;if(h)return h=!1,P;var b,c=e,f;if(34===a.charCodeAt(c)){for(;e++<m&&34!==a.charCodeAt(e)||34===a.charCodeAt(++e););(b=e)>=m?p=!0:10===(f=a.charCodeAt(e++))?h=!0:13===f&&(h=!0,10===a.charCodeAt(e)&&++e);return a.slice(c+1,b-1).replace(/""/g,'"')}for(;e<m;){if(10===(f=a.charCodeAt(b=e++)))h=!0;else if(13===f)h=!0,10===a.charCodeAt(e)&&++e;else if(f!==U)continue;
return a.slice(c,b)}return p=!0,a.slice(c,m)}var f=[],m=a.length,e=0,d=0,u,p=0>=m,h=!1;10===a.charCodeAt(m-1)&&--m;for(13===a.charCodeAt(m-1)&&--m;(u=c())!==Na;){for(var g=[];u!==P&&u!==Na;)g.push(u),u=c();b&&null==(g=b(g,d++))||f.push(g)}return f}function p(b,f){return b.map(function(b){return f.map(function(a){return r(b[a])}).join(a)})}function g(b){return b.map(r).join(a)}function r(a){if(null==a)a="";else{if(a instanceof Date){var b=a.getUTCHours();var c=a.getUTCMinutes(),K=a.getUTCSeconds(),
m=a.getUTCMilliseconds();if(isNaN(a))a="Invalid Date";else{var e=a.getUTCFullYear();a=(0>e?"-"+la(-e,6):9999<e?"+"+la(e,6):la(e,4))+"-"+la(a.getUTCMonth()+1,2)+"-"+la(a.getUTCDate(),2)+(m?"T"+la(b,2)+":"+la(c,2)+":"+la(K,2)+"."+la(m,3)+"Z":K?"T"+la(b,2)+":"+la(c,2)+":"+la(K,2)+"Z":c||b?"T"+la(b,2)+":"+la(c,2)+"Z":"")}b=a}else b=x.test(a+="")?'"'+a.replace(/"/g,'""')+'"':a;a=b}return a}var x=new RegExp('["'+a+"\n\r]"),U=a.charCodeAt(0);return{parse:function(a,f){var c,K;a=u(a,function(a,e){if(c)return c(a,
e-1);K=a;c=f?d(a,f):b(a)});a.columns=K||[];return a},parseRows:u,format:function(b,f){null==f&&(f=w(b));return[f.map(r).join(a)].concat(p(b,f)).join("\n")},formatBody:function(a,b){null==b&&(b=w(a));return p(a,b).join("\n")},formatRows:function(a){return a.map(g).join("\n")},formatRow:g,formatValue:r}}var P={},Na={},W=l(","),M=W.parse,N=W.parseRows,Z=W.format,G=W.formatBody,x=W.formatRows,D=W.formatRow;W=W.formatValue;var S=l("\t"),C=S.parse,r=S.parseRows,g=S.format,R=S.formatBody,B=S.formatRows,
u=S.formatRow;S=S.formatValue;var U=(new Date("2019-01-01T00:00")).getHours()||(new Date("2019-07-01T00:00")).getHours();a.autoType=function(a){for(var b in a){var d=a[b].trim(),u;if(d)if("true"===d)d=!0;else if("false"===d)d=!1;else if("NaN"===d)d=NaN;else if(isNaN(u=+d))if(u=d.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))U&&u[4]&&!u[7]&&(d=d.replace(/-/g,"/").replace(/T/," ")),d=new Date(d);else continue;else d=u;else d=null;a[b]=d}return a};
a.csvFormat=Z;a.csvFormatBody=G;a.csvFormatRow=D;a.csvFormatRows=x;a.csvFormatValue=W;a.csvParse=M;a.csvParseRows=N;a.dsvFormat=l;a.tsvFormat=g;a.tsvFormatBody=R;a.tsvFormatRow=u;a.tsvFormatRows=B;a.tsvFormatValue=S;a.tsvParse=C;a.tsvParseRows=r;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[2]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z):"function"===typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.topojson=a.topojson||{}))})(this,function(a){function b(a){return a}function d(a){if(null==a)return b;var d,l,G=a.scale[0],C=a.scale[1],r=a.translate[0],g=a.translate[1];return function(a,b){b||(d=l=0);b=2;var u=a.length,x=Array(u);x[0]=(d+=a[0])*G+r;for(x[1]=(l+=a[1])*C+g;b<u;)x[b]=a[b],++b;return x}}function w(a){function b(a){a=
G(a);a[0]<r&&(r=a[0]);a[0]>R&&(R=a[0]);a[1]<g&&(g=a[1]);a[1]>B&&(B=a[1])}function l(a){switch(a.type){case "GeometryCollection":a.geometries.forEach(l);break;case "Point":b(a.coordinates);break;case "MultiPoint":a.coordinates.forEach(b)}}var G=d(a.transform),C,r=Infinity,g=r,R=-r,B=-r;a.arcs.forEach(function(a){for(var b=-1,d=a.length,u;++b<d;)u=G(a[b],b),u[0]<r&&(r=u[0]),u[0]>R&&(R=u[0]),u[1]<g&&(g=u[1]),u[1]>B&&(B=u[1])});for(C in a.objects)l(a.objects[C]);return[r,g,R,B]}function la(a,b){var d=
b.id,x=b.bbox,C=null==b.properties?{}:b.properties;a=l(a,b);return null==d&&null==x?{type:"Feature",properties:C,geometry:a}:null==x?{type:"Feature",id:d,properties:C,geometry:a}:{type:"Feature",id:d,bbox:x,properties:C,geometry:a}}function l(a,b){function x(a){return G(a)}function l(a){for(var b=[],d=0,u=a.length;d<u;++d){var h=a[d],g=b;g.length&&g.pop();for(var r=B[0>h?~h:h],x=0,l=r.length;x<l;++x)g.push(G(r[x],x));if(0>h)for(h=g,g=h.length,r=g-l;r<--g;)l=h[r],h[r++]=h[g],h[g]=l}2>b.length&&b.push(b[0]);
return b}function C(a){for(a=l(a);4>a.length;)a.push(a[0]);return a}function r(a){return a.map(C)}function g(a){var b=a.type;switch(b){case "GeometryCollection":return{type:b,geometries:a.geometries.map(g)};case "Point":a=G(a.coordinates);break;case "MultiPoint":a=a.coordinates.map(x);break;case "LineString":a=l(a.arcs);break;case "MultiLineString":a=a.arcs.map(l);break;case "Polygon":a=r(a.arcs);break;case "MultiPolygon":a=a.arcs.map(r);break;default:return null}return{type:b,coordinates:a}}var G=
d(a.transform),B=a.arcs;return g(b)}function P(a,b){function d(b){var d=a.arcs[0>b?~b:b],p=d[0];if(a.transform){var u=[0,0];d.forEach(function(a){u[0]+=a[0];u[1]+=a[1]})}else u=d[d.length-1];return 0>b?[u,p]:[p,u]}function x(a,b){for(var d in a){var u=a[d];delete b[u.start];delete u.start;delete u.end;u.forEach(function(a){l[0>a?~a:a]=1});G.push(u)}}var l={},r={},g={},G=[],B=-1;b.forEach(function(d,g){var u=a.arcs[0>d?~d:d];3>u.length&&!u[1][0]&&!u[1][1]&&(u=b[++B],b[B]=d,b[g]=u)});b.forEach(function(a){var b=
d(a),p=b[0],u=b[1];(b=g[p])?(delete g[b.end],b.push(a),b.end=u,(a=r[u])?(delete r[a.start],p=a===b?b:b.concat(a),r[p.start=b.start]=g[p.end=a.end]=p):r[b.start]=g[b.end]=b):(b=r[u])?(delete r[b.start],b.unshift(a),b.start=p,(a=g[p])?(delete g[a.end],p=a===b?b:a.concat(b),r[p.start=a.start]=g[p.end=b.end]=p):r[b.start]=g[b.end]=b):(b=[a],r[b.start=p]=g[b.end=u]=b)});x(g,r);x(r,g);b.forEach(function(a){l[0>a?~a:a]||G.push([a])});return G}function Na(a,b,d){var x;if(1<arguments.length)var l=W(a,b,d);
else{var r=0;for(l=Array(x=a.arcs.length);r<x;++r)l[r]=r}return{type:"MultiLineString",arcs:P(a,l)}}function W(a,b,d){function x(a){var b=0>a?~a:a;(B[b]||(B[b]=[])).push({i:a,g:u})}function l(a){a.forEach(x)}function r(a){a.forEach(l)}function g(a){switch(u=a,a.type){case "GeometryCollection":a.geometries.forEach(g);break;case "LineString":l(a.arcs);break;case "MultiLineString":case "Polygon":r(a.arcs);break;case "MultiPolygon":a.arcs.forEach(r)}}var D=[],B=[],u;g(b);B.forEach(null==d?function(a){D.push(a[0].i)}:
function(a){d(a[0].g,a[a.length-1].g)&&D.push(a[0].i)});return D}function M(a,b){function d(a){switch(a.type){case "GeometryCollection":a.geometries.forEach(d);break;case "Polygon":x(a.arcs);break;case "MultiPolygon":a.arcs.forEach(x)}}function x(a){a.forEach(function(b){b.forEach(function(b){(r[b=0>b?~b:b]||(r[b]=[])).push(a)})});g.push(a)}function C(b){b=l(a,{type:"Polygon",arcs:[b]}).coordinates[0];for(var d=-1,g=b.length,p,r=b[g-1],h=0;++d<g;)p=r,r=b[d],h+=p[0]*r[1]-p[1]*r[0];return Math.abs(h)}
var r={},g=[],G=[];b.forEach(d);g.forEach(function(a){if(!a._){var b=[],d=[a];a._=1;for(G.push(b);a=d.pop();)b.push(a),a.forEach(function(a){a.forEach(function(a){r[0>a?~a:a].forEach(function(a){a._||(a._=1,d.push(a))})})})}});g.forEach(function(a){delete a._});return{type:"MultiPolygon",arcs:G.map(function(b){var d=[];b.forEach(function(a){a.forEach(function(a){a.forEach(function(a){2>r[0>a?~a:a].length&&d.push(a)})})});d=P(a,d);if(1<(b=d.length))for(var g=1,p=C(d[0]),x;g<b;++g)(x=C(d[g]))>p&&(p=
d[0],d[0]=d[g],d[g]=p,p=x);return d}).filter(function(a){return 0<a.length})}}function N(a,b){for(var d=0,x=a.length;d<x;){var l=d+x>>>1;a[l]<b?d=l+1:x=l}return d}function Z(a){if(null==a)return b;var d,l,G=a.scale[0],C=a.scale[1],r=a.translate[0],g=a.translate[1];return function(a,b){b||(d=l=0);b=2;var u=a.length,x=Array(u),p=Math.round((a[0]-r)/G),ca=Math.round((a[1]-g)/C);x[0]=p-d;d=p;x[1]=ca-l;for(l=ca;b<u;)x[b]=a[b],++b;return x}}a.bbox=w;a.feature=function(a,b){"string"===typeof b&&(b=a.objects[b]);
return"GeometryCollection"===b.type?{type:"FeatureCollection",features:b.geometries.map(function(b){return la(a,b)})}:la(a,b)};a.merge=function(a){return l(a,M.apply(this,arguments))};a.mergeArcs=M;a.mesh=function(a){return l(a,Na.apply(this,arguments))};a.meshArcs=Na;a.neighbors=function(a){function b(a,b){a.forEach(function(a){0>a&&(a=~a);var d=C[a];d?d.push(b):C[a]=[b]})}function d(a,d){a.forEach(function(a){b(a,d)})}function l(a,b){if("GeometryCollection"===a.type)a.geometries.forEach(function(a){l(a,
b)});else if(a.type in g)g[a.type](a.arcs,b)}var C={},r=a.map(function(){return[]}),g={LineString:b,MultiLineString:d,Polygon:d,MultiPolygon:function(a,b){a.forEach(function(a){d(a,b)})}};a.forEach(l);for(var G in C){a=C[G];for(var B=a.length,u=0;u<B;++u)for(var U=u+1;U<B;++U){var p=a[u],ca=a[U],h;(h=r[p])[G=N(h,ca)]!==ca&&h.splice(G,0,ca);(h=r[ca])[G=N(h,p)]!==p&&h.splice(G,0,p)}}return r};a.quantize=function(a,b){function d(a){return u(a)}function l(a){switch(a.type){case "GeometryCollection":var b=
{type:"GeometryCollection",geometries:a.geometries.map(l)};break;case "Point":b={type:"Point",coordinates:u(a.coordinates)};break;case "MultiPoint":b={type:"MultiPoint",coordinates:a.coordinates.map(d)};break;default:return a}null!=a.id&&(b.id=a.id);null!=a.bbox&&(b.bbox=a.bbox);null!=a.properties&&(b.properties=a.properties);return b}if(a.transform)throw Error("already quantized");if(b&&b.scale)var x=a.bbox;else{if(!(2<=(B=Math.floor(b))))throw Error("n must be ≥2");x=a.bbox||w(a);b=x[0];var r=x[1],
g=x[2],G=x[3],B;b={scale:[g-b?(g-b)/(B-1):1,G-r?(G-r)/(B-1):1],translate:[b,r]}}var u=Z(b),U;r=a.objects;g={};for(U in r)g[U]=l(r[U]);return{type:"Topology",bbox:x,transform:b,objects:g,arcs:a.arcs.map(function(a){var b=0,d=1,g=a.length,r,p=Array(g);for(p[0]=u(a[0],0);++b<g;)if((r=u(a[b],b))[0]||r[1])p[d++]=r;1===d&&(p[d++]=[0,0]);p.length=d;return p})}};a.transform=d;a.untransform=Z;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[3]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z):"function"===typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.d3=a.d3||{}))})(this,function(a){function b(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function d(a){1===a.length&&(a=w(a));return{left:function(b,c,e,f){null==e&&(e=0);null==f&&(f=b.length);for(;e<f;){var m=e+f>>>1;0>a(b[m],c)?e=m+1:f=m}return e},right:function(b,c,e,f){null==e&&(e=0);null==f&&(f=b.length);for(;e<f;){var m=e+f>>>
1;0<a(b[m],c)?f=m:e=m+1}return e}}}function w(a){return function(c,e){return b(a(c),e)}}function la(a,b){var c=0;if(void 0===b){a=$jscomp.makeIterator(a);for(var e=a.next();!e.done;e=a.next())b=e.value,null!=b&&(b=+b)>=b&&++c}else{var f=-1,m=$jscomp.makeIterator(a);for(e=m.next();!e.done;e=m.next())e=e.value,null!=(e=b(e,++f,a))&&(e=+e)>=e&&++c}return c}function l(a){return a.length|0}function P(a){return!(0<a)}function Na(a){return"object"!==typeof a||"length"in a?a:Array.from(a)}function W(a){return function(b){return a.apply(null,
$jscomp.arrayFromIterable(b))}}function M(a,b){var c=0,e,f=0,m=0;if(void 0===b)for(a=$jscomp.makeIterator(a),e=a.next();!e.done;e=a.next())b=e.value,null!=b&&(b=+b)>=b&&(e=b-f,f+=e/++c,m+=e*(b-f));else{var t=-1,k=$jscomp.makeIterator(a);for(e=k.next();!e.done;e=k.next()){var v=e.value;null!=(v=b(v,++t,a))&&(v=+v)>=v&&(e=v-f,f+=e/++c,m+=e*(v-f))}}if(1<c)return m/(c-1)}function N(a,b){return(a=M(a,b))?Math.sqrt(a):a}function Z(a,b){var c,e;if(void 0===b){a=$jscomp.makeIterator(a);for(var f=a.next();!f.done;f=
a.next())b=f.value,null!=b&&(void 0===c?b>=b&&(c=e=b):(c>b&&(c=b),e<b&&(e=b)))}else{var m=-1,t=$jscomp.makeIterator(a);for(f=t.next();!f.done;f=t.next())f=f.value,null!=(f=b(f,++m,a))&&(void 0===c?f>=f&&(c=e=f):(c>f&&(c=f),e<f&&(e=f)))}return[c,e]}function G(a){return a}function x(a,b,c,e){return function k(a,f){if(f>=e.length)return c(a);for(var v=new Map,n=e[f++],m=-1,t=$jscomp.makeIterator(a),d=t.next();!d.done;d=t.next()){d=d.value;var K=n(d,++m,a),ea=v.get(K);ea?ea.push(d):v.set(K,[d])}a=$jscomp.makeIterator(v);
for(n=a.next();!n.done;n=a.next())m=$jscomp.makeIterator(n.value),n=m.next().value,m=m.next().value,v.set(n,k(m,f));return b(v)}(a,0)}function D(a){return function(){return a}}function S(a,b,c){a=+a;b=+b;c=2>(f=arguments.length)?(b=a,a=0,1):3>f?1:+c;for(var e=-1,f=Math.max(0,Math.ceil((b-a)/c))|0,m=Array(f);++e<f;)m[e]=a+e*c;return m}function C(a,b,c){b=(b-a)/Math.max(0,c);a=Math.floor(Math.log(b)/Math.LN10);b/=Math.pow(10,a);return 0<=a?(b>=ka?10:b>=X?5:b>=Wa?2:1)*Math.pow(10,a):-Math.pow(10,-a)/
(b>=ka?10:b>=X?5:b>=Wa?2:1)}function r(a,b,c){var e=Math.abs(b-a)/Math.max(0,c);c=Math.pow(10,Math.floor(Math.log(e)/Math.LN10));e/=c;e>=ka?c*=10:e>=X?c*=5:e>=Wa&&(c*=2);return b<a?-c:c}function g(a){return Math.ceil(Math.log(la(a))/Math.LN2)+1}function R(){function a(a){Array.isArray(a)||(a=Array.from(a));var m,t=a.length,k=Array(t);for(m=0;m<t;++m)k[m]=b(a[m],m,a);m=c(k);var v=m[0],n=m[1],d=f(k,v,n);Array.isArray(d)||(d=r(v,n,d),d=S(Math.ceil(v/d)*d,n,d));for(var da=d.length;d[0]<=v;)d.shift(),
--da;for(;d[da-1]>n;)d.pop(),--da;var K=Array(da+1);for(m=0;m<=da;++m){var ea=K[m]=[];ea.x0=0<m?d[m-1]:v;ea.x1=m<da?d[m]:n}for(m=0;m<t;++m)ea=k[m],v<=ea&&ea<=n&&K[e(d,ea,0,da)].push(a[m]);return K}var b=G,c=Z,f=g;a.value=function(c){return arguments.length?(b="function"===typeof c?c:D(c),a):b};a.domain=function(b){return arguments.length?(c="function"===typeof b?b:D([b[0],b[1]]),a):c};a.thresholds=function(b){return arguments.length?(f="function"===typeof b?b:Array.isArray(b)?D(ea.call(b)):D(b),a):
f};return a}function B(a,b){var c;if(void 0===b){a=$jscomp.makeIterator(a);for(var e=a.next();!e.done;e=a.next())b=e.value,null!=b&&(c<b||void 0===c&&b>=b)&&(c=b)}else{var f=-1,m=$jscomp.makeIterator(a);for(e=m.next();!e.done;e=m.next())e=e.value,null!=(e=b(e,++f,a))&&(c<e||void 0===c&&e>=e)&&(c=e)}return c}function u(a,b){var c;if(void 0===b){a=$jscomp.makeIterator(a);for(var e=a.next();!e.done;e=a.next())b=e.value,null!=b&&(c>b||void 0===c&&b>=b)&&(c=b)}else{var f=-1,m=$jscomp.makeIterator(a);for(e=
m.next();!e.done;e=m.next())e=e.value,null!=(e=b(e,++f,a))&&(c>e||void 0===c&&e>=e)&&(c=e)}return c}function U(a,c,e,f,m){e=void 0===e?0:e;f=void 0===f?a.length-1:f;for(m=void 0===m?b:m;f>e;){if(600<f-e){var d=f-e+1,t=c-e+1,k=Math.log(d),v=.5*Math.exp(2*k/3);k=.5*Math.sqrt(k*v*(d-v)/d)*(0>t-d/2?-1:1);U(a,c,Math.max(e,Math.floor(c-t*v/d+k)),Math.min(f,Math.floor(c+(d-t)*v/d+k)),m)}d=a[c];t=e;v=f;p(a,e,c);for(0<m(a[f],d)&&p(a,e,f);t<v;){p(a,t,v);++t;for(--v;0>m(a[t],d);)++t;for(;0<m(a[v],d);)--v}0===
m(a[e],d)?p(a,e,v):(++v,p(a,v,f));v<=c&&(e=v+1);c<=v&&(f=v-1)}return a}function p(a,b,c){var e=a[b];a[b]=a[c];a[c]=e}function ca(a){return null===a?NaN:+a}function h(a,b){var c,e,f,m,t,k;return $jscomp.generator.createGenerator(h,function(v){switch(v.nextAddress){case 1:if(void 0===b){v.jumpTo(2);break}c=-1;e=$jscomp.makeIterator(a);f=e.next();case 4:if(f.done){v.jumpTo(0);break}m=f.value;if(!(null!=(m=b(m,++c,a))&&(m=+m)>=m)){v.jumpTo(5);break}return v.yield(m,5);case 5:f=e.next();v.jumpTo(4);break;
case 2:t=$jscomp.makeIterator(a),f=t.next();case 9:if(f.done){v.jumpTo(0);break}k=f.value;if(!(null!=k&&(k=+k)>=k)){v.jumpTo(10);break}return v.yield(k,10);case 10:f=t.next(),v.jumpTo(9)}})}function T(a,b,c){a=Float64Array.from(h(a,c));if(c=a.length){if(0>=(b=+b)||2>c)return u(a);if(1<=b)return B(a);b*=c-1;c=Math.floor(b);var e=B(U(a,c).subarray(0,c+1));a=u(a.subarray(c+1));return e+(a-e)*(b-c)}}function O(a,b){var c=-1,e=-1;if(void 0===b){a=$jscomp.makeIterator(a);for(var f=a.next();!f.done;f=a.next())if(b=
f.value,++e,null!=b&&(m<b||void 0===m&&b>=b)){var m=b;c=e}}else{var t=$jscomp.makeIterator(a);for(f=t.next();!f.done;f=t.next())f=f.value,null!=(f=b(f,++e,a))&&(m<f||void 0===m&&f>=f)&&(m=f,c=e)}return c}function fa(a){var b,c,e;return $jscomp.generator.createGenerator(fa,function(f){1==f.nextAddress&&(b=$jscomp.makeIterator(a),c=b.next());if(3!=f.nextAddress){if(c.done)return f.jumpTo(0);e=c.value;return f.yieldAll(e,3)}c=b.next();return f.jumpTo(2)})}function qa(a,b){var c=-1,e=-1;if(void 0===b){a=
$jscomp.makeIterator(a);for(var f=a.next();!f.done;f=a.next())if(b=f.value,++e,null!=b&&(m>b||void 0===m&&b>=b)){var m=b;c=e}}else{var t=$jscomp.makeIterator(a);for(f=t.next();!f.done;f=t.next())f=f.value,null!=(f=b(f,++e,a))&&(m>f||void 0===m&&f>=f)&&(m=f,c=e)}return c}function ua(a,b){return[a,b]}function f(a,c){c=void 0===c?b:c;if(1===c.length)return qa(a,c);var e=-1,f=-1;a=$jscomp.makeIterator(a);for(var m=a.next();!m.done;m=a.next())if(m=m.value,++f,0>e?0===c(m,m):0>c(m,d)){var d=m;e=f}return e}
function c(a){if(!(m=a.length))return[];for(var b=-1,c=u(a,K),e=Array(c);++b<c;)for(var f=-1,m,t=e[b]=Array(m);++f<m;)t[f]=a[f][b];return e}function K(a){return a.length}var m=d(b),e=m.right;m=m.left;var ea=Array.prototype.slice,ka=Math.sqrt(50),X=Math.sqrt(10),Wa=Math.sqrt(2);a.ascending=b;a.bin=R;a.bisect=e;a.bisectLeft=m;a.bisectRight=e;a.bisector=d;a.count=la;a.cross=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];var e=b;b="function"===typeof e[e.length-1]&&W(e.pop());
e=e.map(Na);c=e.map(l);var f=e.length-1,m=Array(f+1).fill(0),t=[];if(0>f||c.some(P))return t;for(;;){t.push(m.map(function(a,b){return e[b][a]}));for(var k=f;++m[k]===c[k];){if(0===k)return b?t.map(b):t;m[k--]=0}}};a.cumsum=function(a,b){var c=0,e=0;return Float64Array.from(a,void 0===b?function(a){return c+=+a||0}:function(f){return c+=+b(f,e++,a)||0})};a.descending=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN};a.deviation=N;a.extent=Z;a.greatest=function(a,c){c=void 0===c?b:c;var e=!1;if(1===c.length){a=
$jscomp.makeIterator(a);for(var f=a.next();!f.done;f=a.next()){f=f.value;var m=c(f);if(e?0<b(m,t):0===b(m,m)){var d=f;var t=m;e=!0}}}else for(t=$jscomp.makeIterator(a),a=t.next();!a.done;a=t.next())if(a=a.value,e?0<c(a,d):0===c(a,a))d=a,e=!0;return d};a.greatestIndex=function(a,c){c=void 0===c?b:c;if(1===c.length)return O(a,c);var e=-1,f=-1;a=$jscomp.makeIterator(a);for(var m=a.next();!m.done;m=a.next())if(m=m.value,++f,0>e?0===c(m,m):0<c(m,d)){var d=m;e=f}return e};a.group=function(a,b){for(var c=
[],e=1;e<arguments.length;++e)c[e-1]=arguments[e];return x(a,G,G,c)};a.groups=function(a,b){for(var c=[],e=1;e<arguments.length;++e)c[e-1]=arguments[e];return x(a,Array.from,G,c)};a.histogram=R;a.least=function(a,c){c=void 0===c?b:c;var e=!1;if(1===c.length){a=$jscomp.makeIterator(a);for(var f=a.next();!f.done;f=a.next()){f=f.value;var m=c(f);if(e?0>b(m,t):0===b(m,m)){var d=f;var t=m;e=!0}}}else for(t=$jscomp.makeIterator(a),a=t.next();!a.done;a=t.next())if(a=a.value,e?0>c(a,d):0===c(a,a))d=a,e=!0;
return d};a.leastIndex=f;a.max=B;a.maxIndex=O;a.mean=function(a,b){var c=0,e=0;if(void 0===b){a=$jscomp.makeIterator(a);for(var f=a.next();!f.done;f=a.next())b=f.value,null!=b&&(b=+b)>=b&&(++c,e+=b)}else{var m=-1,d=$jscomp.makeIterator(a);for(f=d.next();!f.done;f=d.next())f=f.value,null!=(f=b(f,++m,a))&&(f=+f)>=f&&(++c,e+=f)}if(c)return e/c};a.median=function(a,b){return T(a,.5,b)};a.merge=function(a){return Array.from(fa(a))};a.min=u;a.minIndex=qa;a.pairs=function(a,b){b=void 0===b?ua:b;var c=[],
e=!1;a=$jscomp.makeIterator(a);for(var f=a.next();!f.done;f=a.next()){f=f.value;e&&c.push(b(m,f));var m=f;e=!0}return c};a.permute=function(a,b){return Array.from(b,function(b){return a[b]})};a.quantile=T;a.quantileSorted=function(a,b,c){c=void 0===c?ca:c;if(e=a.length){if(0>=(b=+b)||2>e)return+c(a[0],0,a);if(1<=b)return+c(a[e-1],e-1,a);var e;b*=e-1;e=Math.floor(b);var f=+c(a[e],e,a);a=+c(a[e+1],e+1,a);return f+(a-f)*(b-e)}};a.quickselect=U;a.range=S;a.rollup=function(a,b,c){for(var e=[],f=2;f<arguments.length;++f)e[f-
2]=arguments[f];return x(a,G,b,e)};a.rollups=function(a,b,c){for(var e=[],f=2;f<arguments.length;++f)e[f-2]=arguments[f];return x(a,Array.from,b,e)};a.scan=function(a,b){a=f(a,b);return 0>a?void 0:a};a.shuffle=function(a,b,c){b=void 0===b?0:b;c=void 0===c?a.length:c;c-=b=+b;for(var e,f;c;)f=Math.random()*c--|0,e=a[c+b],a[c+b]=a[f+b],a[f+b]=e;return a};a.sum=function(a,b){var c=0;if(void 0===b){a=$jscomp.makeIterator(a);for(var e=a.next();!e.done;e=a.next())if(b=e.value,b=+b)c+=b}else{var f=-1,m=$jscomp.makeIterator(a);
for(e=m.next();!e.done;e=m.next())if(e=e.value,e=+b(e,++f,a))c+=e}return c};a.thresholdFreedmanDiaconis=function(a,b,c){return Math.ceil((c-b)/(2*(T(a,.75)-T(a,.25))*Math.pow(la(a),-1/3)))};a.thresholdScott=function(a,b,c){return Math.ceil((c-b)/(3.5*N(a)*Math.pow(la(a),-1/3)))};a.thresholdSturges=g;a.tickIncrement=C;a.tickStep=r;a.ticks=function(a,b,c){var e,f=-1,m;b=+b;a=+a;c=+c;if(a===b&&0<c)return[a];if(e=b<a){var d=a;a=b;b=d}if(0===(m=C(a,b,c))||!isFinite(m))return[];if(0<m)for(a=Math.ceil(a/
m),b=Math.floor(b/m),b=Array(d=Math.ceil(b-a+1));++f<d;)b[f]=(a+f)*m;else for(a=Math.floor(a*m),b=Math.ceil(b*m),b=Array(d=Math.ceil(a-b+1));++f<d;)b[f]=(a-f)/m;e&&b.reverse();return b};a.transpose=c;a.variance=M;a.zip=function(){return c(arguments)};Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[4]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z):"function"===typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.d3=a.d3||{}))})(this,function(a){function b(a,b){if(0>(b=(a=b?a.toExponential(b-1):a.toExponential()).indexOf("e")))return null;var d=a.slice(0,b);return[1<d.length?d[0]+d.slice(2):d,+a.slice(b+1)]}function d(a){return a=b(Math.abs(a)),a?a[1]:NaN}function w(a,b){return function(d,g){for(var u=d.length,r=[],p=0,l=a[0],h=0;0<
u&&0<l;){h+l+1>g&&(l=Math.max(1,g-h));r.push(d.substring(u-=l,u+l));if((h+=l+1)>g)break;l=a[p=(p+1)%a.length]}return r.reverse().join(b)}}function la(a){return function(b){return b.replace(/[0-9]/g,function(b){return a[+b]})}}function l(a){if(!(b=Z.exec(a)))throw Error("invalid format: "+a);var b;return new P({fill:b[1],align:b[2],sign:b[3],symbol:b[4],zero:b[5],width:b[6],comma:b[7],precision:b[8]&&b[8].slice(1),trim:b[9],type:b[10]})}function P(a){this.fill=void 0===a.fill?" ":a.fill+"";this.align=
void 0===a.align?"\x3e":a.align+"";this.sign=void 0===a.sign?"-":a.sign+"";this.symbol=void 0===a.symbol?"":a.symbol+"";this.zero=!!a.zero;this.width=void 0===a.width?void 0:+a.width;this.comma=!!a.comma;this.precision=void 0===a.precision?void 0:+a.precision;this.trim=!!a.trim;this.type=void 0===a.type?"":a.type+""}function Na(a,d){d=b(a,d);if(!d)return a+"";a=d[0];d=d[1];return 0>d?"0."+Array(-d).join("0")+a:a.length>d+1?a.slice(0,d+1)+"."+a.slice(d+1):a+Array(d-a.length+2).join("0")}function W(a){return a}
function M(a){function b(a){function b(a){var b=O,c=D,t,k;if("c"===X)c=B(a)+c,a="";else{a=+a;var v=0>a||0>1/a;a=isNaN(a)?T:B(Math.abs(a),ea);if(ka){var n=a.length,ba=1,sa=-1;a:for(;ba<n;++ba)switch(a[ba]){case ".":sa=t=ba;break;case "0":0===sa&&(sa=ba);t=ba;break;default:if(!+a[ba])break a;0<sa&&(sa=0)}a=0<sa?a.slice(0,sa)+a.slice(t+1):a}v&&0===+a&&"+"!==f&&(v=!1);b=(v?"("===f?f:h:"-"===f||"("===f?"":f)+b;c=("s"===X?S[8+G/3]:"")+c+(v&&"("===f?")":"");if(tb)for(v=-1,t=a.length;++v<t;)if(k=a.charCodeAt(v),
48>k||57<k){c=(46===k?U+a.slice(v+1):a.slice(v))+c;a=a.slice(0,v);break}}e&&!K&&(a=r(a,Infinity));k=b.length+a.length+c.length;v=k<m?Array(m-k+1).join(d):"";e&&K&&(a=r(v+a,v.length?m-c.length:Infinity),v="");switch(g){case "\x3c":a=b+a+c+v;break;case "\x3d":a=b+v+a+c;break;case "^":a=v.slice(0,k=v.length>>1)+b+a+c+v.slice(k);break;default:a=v+b+a+c}return p(a)}a=l(a);var d=a.fill,g=a.align,f=a.sign,c=a.symbol,K=a.zero,m=a.width,e=a.comma,ea=a.precision,ka=a.trim,X=a.type;"n"===X?(e=!0,X="g"):x[X]||
(void 0===ea&&(ea=12),ka=!0,X="g");if(K||"0"===d&&"\x3d"===g)K=!0,d="0",g="\x3d";var O="$"===c?C:"#"===c&&/[boxX]/.test(X)?"0"+X.toLowerCase():"",D="$"===c?u:/[%p]/.test(X)?ca:"",B=x[X],tb=/[defgprs%]/.test(X);ea=void 0===ea?6:/[gprs]/.test(X)?Math.max(1,Math.min(21,ea)):Math.max(0,Math.min(20,ea));b.toString=function(){return a+""};return b}var r=void 0===a.grouping||void 0===a.thousands?W:w(D.call(a.grouping,Number),a.thousands+""),C=void 0===a.currency?"":a.currency[0]+"",u=void 0===a.currency?
"":a.currency[1]+"",U=void 0===a.decimal?".":a.decimal+"",p=void 0===a.numerals?W:la(D.call(a.numerals,String)),ca=void 0===a.percent?"%":a.percent+"",h=void 0===a.minus?"-":a.minus+"",T=void 0===a.nan?"NaN":a.nan+"";return{format:b,formatPrefix:function(a,p){var g=b((a=l(a),a.type="f",a));a=3*Math.max(-8,Math.min(8,Math.floor(d(p)/3)));var u=Math.pow(10,-a),f=S[8+a/3];return function(a){return g(u*a)+f}}}}function N(b){C=M(b);a.format=C.format;a.formatPrefix=C.formatPrefix;return C}var Z=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;
l.prototype=P.prototype;P.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var G,x={"%":function(a,b){return(100*a).toFixed(b)},b:function(a){return Math.round(a).toString(2)},c:function(a){return a+""},d:function(a){return Math.round(a).toString(10)},e:function(a,b){return a.toExponential(b)},
f:function(a,b){return a.toFixed(b)},g:function(a,b){return a.toPrecision(b)},o:function(a){return Math.round(a).toString(8)},p:function(a,b){return Na(100*a,b)},r:Na,s:function(a,d){var g=b(a,d);if(!g)return a+"";var r=g[0];g=g[1];g=g-(G=3*Math.max(-8,Math.min(8,Math.floor(g/3))))+1;var u=r.length;return g===u?r:g>u?r+Array(g-u+1).join("0"):0<g?r.slice(0,g)+"."+r.slice(g):"0."+Array(1-g).join("0")+b(a,Math.max(0,d+g-1))[0]},X:function(a){return Math.round(a).toString(16).toUpperCase()},x:function(a){return Math.round(a).toString(16)}},
D=Array.prototype.map,S="y z a f p n µ m  k M G T P E Z Y".split(" "),C;N({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});a.FormatSpecifier=P;a.formatDefaultLocale=N;a.formatLocale=M;a.formatSpecifier=l;a.precisionFixed=function(a){return Math.max(0,-d(Math.abs(a)))};a.precisionPrefix=function(a,b){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(d(b)/3)))-d(Math.abs(a)))};a.precisionRound=function(a,b){a=Math.abs(a);b=Math.abs(b)-a;return Math.max(0,d(b)-d(a))+1};Object.defineProperty(a,
"__esModule",{value:!0})})};
shadow$provide[5]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z):"function"===typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.d3=a.d3||{}))})(this,function(a){function b(a,c,e,f){function n(b){return a(b=0===arguments.length?new Date:new Date(+b)),b}n.floor=function(b){return a(b=new Date(+b)),b};n.ceil=function(b){return a(b=new Date(b-1)),c(b,1),a(b),b};n.round=function(a){var b=n(a),c=n.ceil(a);return a-b<c-a?b:c};n.offset=function(a,b){return c(a=
new Date(+a),null==b?1:Math.floor(b)),a};n.range=function(b,e,f){var k=[],v;b=n.ceil(b);f=null==f?1:Math.floor(f);if(!(b<e&&0<f))return k;do k.push(v=new Date(+b)),c(b,f),a(b);while(v<b&&b<e);return k};n.filter=function(e){return b(function(b){if(b>=b)for(;a(b),!e(b);)b.setTime(b-1)},function(a,b){if(a>=a)if(0>b)for(;0>=++b;)for(;c(a,-1),!e(a););else for(;0<=--b;)for(;c(a,1),!e(a););})};e&&(n.count=function(b,c){la.setTime(+b);l.setTime(+c);a(la);a(l);return Math.floor(e(la,l))},n.every=function(a){a=
Math.floor(a);return isFinite(a)&&0<a?1<a?n.filter(f?function(b){return 0===f(b)%a}:function(b){return 0===n.count(0,b)%a}):n:null});return n}function d(a){return b(function(b){b.setDate(b.getDate()-(b.getDay()+7-a)%7);b.setHours(0,0,0,0)},function(a,b){a.setDate(a.getDate()+7*b)},function(a,b){return(b-a-6E4*(b.getTimezoneOffset()-a.getTimezoneOffset()))/6048E5})}function w(a){return b(function(b){b.setUTCDate(b.getUTCDate()-(b.getUTCDay()+7-a)%7);b.setUTCHours(0,0,0,0)},function(a,b){a.setUTCDate(a.getUTCDate()+
7*b)},function(a,b){return(b-a)/6048E5})}var la=new Date,l=new Date,P=b(function(){},function(a,b){a.setTime(+a+b)},function(a,b){return b-a});P.every=function(a){a=Math.floor(a);return isFinite(a)&&0<a?1<a?b(function(b){b.setTime(Math.floor(b/a)*a)},function(b,c){b.setTime(+b+c*a)},function(b,c){return(c-b)/a}):P:null};var Na=P.range,W=b(function(a){a.setTime(a-a.getMilliseconds())},function(a,b){a.setTime(+a+1E3*b)},function(a,b){return(b-a)/1E3},function(a){return a.getUTCSeconds()}),M=W.range,
N=b(function(a){a.setTime(a-a.getMilliseconds()-1E3*a.getSeconds())},function(a,b){a.setTime(+a+6E4*b)},function(a,b){return(b-a)/6E4},function(a){return a.getMinutes()}),Z=N.range,G=b(function(a){a.setTime(a-a.getMilliseconds()-1E3*a.getSeconds()-6E4*a.getMinutes())},function(a,b){a.setTime(+a+36E5*b)},function(a,b){return(b-a)/36E5},function(a){return a.getHours()}),x=G.range,D=b(function(a){a.setHours(0,0,0,0)},function(a,b){a.setDate(a.getDate()+b)},function(a,b){return(b-a-6E4*(b.getTimezoneOffset()-
a.getTimezoneOffset()))/864E5},function(a){return a.getDate()-1}),S=D.range,C=d(0),r=d(1),g=d(2),R=d(3),B=d(4),u=d(5),U=d(6),p=C.range,ca=r.range,h=g.range,T=R.range,O=B.range,fa=u.range,qa=U.range,ua=b(function(a){a.setDate(1);a.setHours(0,0,0,0)},function(a,b){a.setMonth(a.getMonth()+b)},function(a,b){return b.getMonth()-a.getMonth()+12*(b.getFullYear()-a.getFullYear())},function(a){return a.getMonth()}),f=ua.range,c=b(function(a){a.setMonth(0,1);a.setHours(0,0,0,0)},function(a,b){a.setFullYear(a.getFullYear()+
b)},function(a,b){return b.getFullYear()-a.getFullYear()},function(a){return a.getFullYear()});c.every=function(a){return isFinite(a=Math.floor(a))&&0<a?b(function(b){b.setFullYear(Math.floor(b.getFullYear()/a)*a);b.setMonth(0,1);b.setHours(0,0,0,0)},function(b,c){b.setFullYear(b.getFullYear()+c*a)}):null};var K=c.range,m=b(function(a){a.setUTCSeconds(0,0)},function(a,b){a.setTime(+a+6E4*b)},function(a,b){return(b-a)/6E4},function(a){return a.getUTCMinutes()}),e=m.range,ea=b(function(a){a.setUTCMinutes(0,
0,0)},function(a,b){a.setTime(+a+36E5*b)},function(a,b){return(b-a)/36E5},function(a){return a.getUTCHours()}),ka=ea.range,X=b(function(a){a.setUTCHours(0,0,0,0)},function(a,b){a.setUTCDate(a.getUTCDate()+b)},function(a,b){return(b-a)/864E5},function(a){return a.getUTCDate()-1}),Wa=X.range,wa=w(0),Va=w(1),tb=w(2),ib=w(3),da=w(4),Oa=w(5),t=w(6),k=wa.range,v=Va.range,n=tb.range,ba=ib.range,sa=da.range,ya=Oa.range,Ka=t.range,ab=b(function(a){a.setUTCDate(1);a.setUTCHours(0,0,0,0)},function(a,b){a.setUTCMonth(a.getUTCMonth()+
b)},function(a,b){return b.getUTCMonth()-a.getUTCMonth()+12*(b.getUTCFullYear()-a.getUTCFullYear())},function(a){return a.getUTCMonth()}),jb=ab.range,db=b(function(a){a.setUTCMonth(0,1);a.setUTCHours(0,0,0,0)},function(a,b){a.setUTCFullYear(a.getUTCFullYear()+b)},function(a,b){return b.getUTCFullYear()-a.getUTCFullYear()},function(a){return a.getUTCFullYear()});db.every=function(a){return isFinite(a=Math.floor(a))&&0<a?b(function(b){b.setUTCFullYear(Math.floor(b.getUTCFullYear()/a)*a);b.setUTCMonth(0,
1);b.setUTCHours(0,0,0,0)},function(b,c){b.setUTCFullYear(b.getUTCFullYear()+c*a)}):null};var y=db.range;a.timeDay=D;a.timeDays=S;a.timeFriday=u;a.timeFridays=fa;a.timeHour=G;a.timeHours=x;a.timeInterval=b;a.timeMillisecond=P;a.timeMilliseconds=Na;a.timeMinute=N;a.timeMinutes=Z;a.timeMonday=r;a.timeMondays=ca;a.timeMonth=ua;a.timeMonths=f;a.timeSaturday=U;a.timeSaturdays=qa;a.timeSecond=W;a.timeSeconds=M;a.timeSunday=C;a.timeSundays=p;a.timeThursday=B;a.timeThursdays=O;a.timeTuesday=g;a.timeTuesdays=
h;a.timeWednesday=R;a.timeWednesdays=T;a.timeWeek=C;a.timeWeeks=p;a.timeYear=c;a.timeYears=K;a.utcDay=X;a.utcDays=Wa;a.utcFriday=Oa;a.utcFridays=ya;a.utcHour=ea;a.utcHours=ka;a.utcMillisecond=P;a.utcMilliseconds=Na;a.utcMinute=m;a.utcMinutes=e;a.utcMonday=Va;a.utcMondays=v;a.utcMonth=ab;a.utcMonths=jb;a.utcSaturday=t;a.utcSaturdays=Ka;a.utcSecond=W;a.utcSeconds=M;a.utcSunday=wa;a.utcSundays=k;a.utcThursday=da;a.utcThursdays=sa;a.utcTuesday=tb;a.utcTuesdays=n;a.utcWednesday=ib;a.utcWednesdays=ba;a.utcWeek=
wa;a.utcWeeks=k;a.utcYear=db;a.utcYears=y;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[6]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z,y(0),y(5),y(3)):"function"===typeof define&&define.amd?define(["exports","vega-util","d3-time","d3-array"],b):(a=a||self,b(a.vega={},a.vega,a.d3,a.d3))})(this,function(a,b,d,w){function la(a){var c=b.array(a).slice(),f={};c.length||b.error("Missing time unit.");c.forEach(function(a){b.hasOwnProperty(r,a)?f[a]=1:b.error("Invalid time unit: "+a+".")});1<(f.week||f.day?1:0)+(f.quarter||f.month||f.date?
1:0)+(f.dayofyear?1:0)&&b.error("Incompatible time units: "+a);c.sort(function(a,b){return r[a]-r[b]});return c}function l(a){B.setFullYear(a);B.setMonth(0);B.setDate(1);B.setHours(0,0,0,0);return B}function P(a){return d.timeDay.count(l(a.getFullYear())-1,a)}function Na(a){return d.timeWeek.count(l(a.getFullYear())-1,a)}function W(a,b,c,f,d,K,p){return 0<=a&&100>a?(b=new Date(-1,b,c,f,d,K,p),b.setFullYear(a),b):new Date(a,b,c,f,d,K,p)}function M(a){var b=Date.UTC(a.getUTCFullYear(),0,1);return d.utcDay.count(b-
1,a)}function N(a){var b=Date.UTC(a.getUTCFullYear(),0,1);return d.utcWeek.count(b-1,a)}function Z(a){B.setTime(Date.UTC(a,0,1));return B.getUTCDay()}function G(a,b,c,f,d,K,p){return 0<=a&&100>a?(a=new Date(Date.UTC(-1,b,c,f,d,K,p)),a.setUTCFullYear(c.y),a):new Date(Date.UTC(a,b,c,f,d,K,p))}function x(a,c,f,d,K){var e=c||1,m=b.peek(a);c=function(a,b,c){c=c||a;return D(f[c],d[c],a===m&&e,b)};var ea=new Date;a=b.toSet(a);var p=a.year?c("year"):b.constant(2012),u=a.month?c("month"):a.quarter?c("quarter"):
b.zero,da=a.week&&a.day?c("day",1,"weekday"):a.week?c("week",1):a.day?c("day",1):a.date?c("date",1):a.dayofyear?c("dayofyear",1):b.one,h=a.hours?c("hours"):b.zero,t=a.minutes?c("minutes"):b.zero,k=a.seconds?c("seconds"):b.zero,v=a.milliseconds?c("milliseconds"):b.zero;return function(a){ea.setTime(+a);a=p(ea);return K(a,u(ea),da(ea,a),h(ea),t(ea),k(ea),v(ea))}}function D(a,b,c,f){var e=1>=c?a:f?function(b,e){return f+c*Math.floor((a(b,e)-f)/c)}:function(b,e){return c*Math.floor(a(b,e)/c)};return b?
function(a,c){return b(e(a,c),c)}:e}function S(a,b,c){return b+7*a-(c+6)%7}var C="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),r=C.reduce(function(a,b,c){return a[b]=1+c,a},{}),g={},R=(g.year="%Y ",g.quarter="Q%q ",g.month="%b ",g.date="%d ",g.week="W%U ",g.day="%a ",g.dayofyear="%j ",g.hours="%H:00",g.minutes="00:%M",g.seconds=":%S",g.milliseconds=".%L",g["year-month"]="%Y-%m ",g["year-month-date"]="%Y-%m-%d ",g["hours-minutes"]="%H:%M",g),B=new Date;
g={};var u=(g.year=function(a){return a.getFullYear()},g.quarter=function(a){return Math.floor(a.getMonth()/3)},g.month=function(a){return a.getMonth()},g.date=function(a){return a.getDate()},g.hours=function(a){return a.getHours()},g.minutes=function(a){return a.getMinutes()},g.seconds=function(a){return a.getSeconds()},g.milliseconds=function(a){return a.getMilliseconds()},g.dayofyear=function(a){return P(a)},g.week=function(a){return Na(a)},g.weekday=function(a,b){return S(Na(a),a.getDay(),l(b).getDay())},
g.day=function(a,b){return S(1,a.getDay(),l(b).getDay())},g);g={};var U=(g.quarter=function(a){return 3*a},g.week=function(a,b){return S(a,0,l(b).getDay())},g);g={};var p=(g.year=function(a){return a.getUTCFullYear()},g.quarter=function(a){return Math.floor(a.getUTCMonth()/3)},g.month=function(a){return a.getUTCMonth()},g.date=function(a){return a.getUTCDate()},g.hours=function(a){return a.getUTCHours()},g.minutes=function(a){return a.getUTCMinutes()},g.seconds=function(a){return a.getUTCSeconds()},
g.milliseconds=function(a){return a.getUTCMilliseconds()},g.dayofyear=function(a){return M(a)},g.week=function(a){return N(a)},g.day=function(a,b){return S(1,a.getUTCDay(),Z(b))},g.weekday=function(a,b){return S(N(a),a.getUTCDay(),Z(b))},g);g={};var ca=(g.quarter=function(a){return 3*a},g.week=function(a,b){return S(a,0,Z(b))},g);g={};var h=(g.year=d.timeYear,g.quarter=d.timeMonth.every(3),g.month=d.timeMonth,g.week=d.timeWeek,g.date=d.timeDay,g.day=d.timeDay,g.dayofyear=d.timeDay,g.hours=d.timeHour,
g.minutes=d.timeMinute,g.seconds=d.timeSecond,g.milliseconds=d.timeMillisecond,g);g={};var T=(g.year=d.utcYear,g.quarter=d.utcMonth.every(3),g.month=d.utcMonth,g.week=d.utcWeek,g.date=d.utcDay,g.day=d.utcDay,g.dayofyear=d.utcDay,g.hours=d.utcHour,g.minutes=d.utcMinute,g.seconds=d.utcSecond,g.milliseconds=d.utcMillisecond,g),O="year month date hours minutes seconds milliseconds".split(" ");g=O.slice(0,-1);var fa=g.slice(0,-1),qa=fa.slice(0,-1),ua=qa.slice(0,-1),f=["year","month"],c=["year"],K=[[g,
1,1E3],[g,5,5E3],[g,15,15E3],[g,30,3E4],[fa,1,6E4],[fa,5,3E5],[fa,15,9E5],[fa,30,18E5],[qa,1,36E5],[qa,3,108E5],[qa,6,216E5],[qa,12,432E5],[ua,1,864E5],[["year","week"],1,6048E5],[f,1,2592E6],[f,3,7776E6],[c,1,31536E6]];a.DATE="date";a.DAY="day";a.DAYOFYEAR="dayofyear";a.HOURS="hours";a.MILLISECONDS="milliseconds";a.MINUTES="minutes";a.MONTH="month";a.QUARTER="quarter";a.SECONDS="seconds";a.TIME_UNITS=C;a.WEEK="week";a.YEAR="year";a.dayofyear=function(a){return P(new Date(a))};a.timeBin=function(a){var e=
a.extent;a=a.maxbins||40;var f=Math.abs(b.span(e))/a,d=w.bisector(function(a){return a[2]}).right(K,f);d===K.length?(f=c,e=w.tickStep(e[0]/31536E6,e[1]/31536E6,a)):d?(d=K[f/K[d-1][2]<K[d][2]/f?d-1:d],f=d[0],e=d[1]):(f=O,e=Math.max(w.tickStep(e[0],e[1],a),1));return{units:f,step:e}};a.timeFloor=function(a,b){return x(a,b||1,u,U,W)};a.timeInterval=function(a){return h[a]};a.timeOffset=function(a,b,c){return(a=h[a])?a.offset(b,c):void 0};a.timeSequence=function(a,b,c,f){return(a=h[a])?a.range(b,c,f):
void 0};a.timeUnitSpecifier=function(a,c){c=b.extend({},R,c);a=la(a);var f=a.length,e="",d,m;for(d=0;d<f;)for(m=a.length;m>d;--m){var K=a.slice(d,m).join("-");if(null!=c[K]){e+=c[K];d=m;break}}return e.trim()};a.timeUnits=la;a.utcFloor=function(a,b){return x(a,b||1,p,ca,G)};a.utcInterval=function(a){return T[a]};a.utcOffset=function(a,b,c){return(a=T[a])?a.offset(b,c):void 0};a.utcSequence=function(a,b,c,f){return(a=T[a])?a.range(b,c,f):void 0};a.utcdayofyear=function(a){return M(new Date(a))};a.utcweek=
function(a){return N(new Date(a))};a.week=function(a){return Na(new Date(a))};Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[7]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z,y(5)):"function"===typeof define&&define.amd?define(["exports","d3-time"],b):(a=a||self,b(a.d3=a.d3||{},a.d3))})(this,function(a,b){function d(a){if(0<=a.y&&100>a.y){var b=new Date(-1,a.m,a.d,a.H,a.M,a.S,a.L);b.setFullYear(a.y);return b}return new Date(a.y,a.m,a.d,a.H,a.M,a.S,a.L)}function w(a){if(0<=a.y&&100>a.y){var b=new Date(Date.UTC(-1,a.m,a.d,a.H,a.M,a.S,a.L));b.setUTCFullYear(a.y);return b}return new Date(Date.UTC(a.y,
a.m,a.d,a.H,a.M,a.S,a.L))}function la(a,b,c){return{y:a,m:b,d:c,H:0,M:0,S:0,L:0}}function l(a){function l(a,b){return function(c){var f=[],e=-1,n=0,k=a.length,v,d;for(c instanceof Date||(c=new Date(+c));++e<k;)if(37===a.charCodeAt(e)){f.push(a.slice(n,e));null!=(n=Yb[v=a.charAt(++e)])?v=a.charAt(++e):n="e"===v?" ":"0";if(d=b[v])v=d(c,n);f.push(v);n=e+1}f.push(a.slice(n,e));return f.join("")}}function P(a,c){return function(f){var e=la(1900,void 0,1);if(xb(e,a,f+="",0)!=f.length)return null;if("Q"in
e)return new Date(e.Q);if("s"in e)return new Date(1E3*e.s+("L"in e?e.L:0));!c||"Z"in e||(e.Z=0);"p"in e&&(e.H=e.H%12+12*e.p);void 0===e.m&&(e.m="q"in e?e.q:0);if("V"in e){if(1>e.V||53<e.V)return null;"w"in e||(e.w=1);if("Z"in e){f=w(la(e.y,0,1));var n=f.getUTCDay();f=4<n||0===n?b.utcMonday.ceil(f):b.utcMonday(f);f=b.utcDay.offset(f,7*(e.V-1));e.y=f.getUTCFullYear();e.m=f.getUTCMonth();e.d=f.getUTCDate()+(e.w+6)%7}else f=d(la(e.y,0,1)),n=f.getDay(),f=4<n||0===n?b.timeMonday.ceil(f):b.timeMonday(f),
f=b.timeDay.offset(f,7*(e.V-1)),e.y=f.getFullYear(),e.m=f.getMonth(),e.d=f.getDate()+(e.w+6)%7}else if("W"in e||"U"in e)"w"in e||(e.w="u"in e?e.u%7:"W"in e?1:0),n="Z"in e?w(la(e.y,0,1)).getUTCDay():d(la(e.y,0,1)).getDay(),e.m=0,e.d="W"in e?(e.w+6)%7+7*e.W-(n+5)%7:e.w+7*e.U-(n+6)%7;return"Z"in e?(e.H+=e.Z/100|0,e.M+=e.Z%100,w(e)):d(e)}}function xb(a,b,c,e){for(var f=0,n=b.length,k=c.length,v;f<n;){if(e>=k)return-1;v=b.charCodeAt(f++);if(37===v){if(v=b.charAt(f++),v=Wb[v in Yb?b.charAt(f++):v],!v||
0>(e=v(a,c,e)))return-1}else if(v!=c.charCodeAt(e++))return-1}return e}var Ja=a.dateTime,Xb=a.date,Na=a.time,qb=a.periods,Ta=a.days,Xa=a.shortDays,Ya=a.months,Pa=a.shortMonths,wb=W(qb),bb=M(qb),Rb=W(Ta),J=M(Ta),tc=W(Xa),Qb=M(Xa),Tc=W(Ya),Wc=M(Ya),lb=W(Pa),Cc=M(Pa),Aa={a:function(a){return Xa[a.getDay()]},A:function(a){return Ta[a.getDay()]},b:function(a){return Pa[a.getMonth()]},B:function(a){return Ya[a.getMonth()]},c:null,d:ua,e:ua,f:e,H:f,I:c,j:K,L:m,m:ea,M:ka,p:function(a){return qb[+(12<=a.getHours())]},
q:function(a){return 1+~~(a.getMonth()/3)},Q:E,s:zb,S:X,u:Wa,U:wa,V:Va,w:tb,W:ib,x:null,X:null,y:da,Y:Oa,Z:t,"%":cb},Ab={a:function(a){return Xa[a.getUTCDay()]},A:function(a){return Ta[a.getUTCDay()]},b:function(a){return Pa[a.getUTCMonth()]},B:function(a){return Ya[a.getUTCMonth()]},c:null,d:k,e:k,f:ya,H:v,I:n,j:ba,L:sa,m:Ka,M:ab,p:function(a){return qb[+(12<=a.getUTCHours())]},q:function(a){return 1+~~(a.getUTCMonth()/3)},Q:E,s:zb,S:jb,u:db,U:y,V:Ha,w:z,W:va,x:null,X:null,y:Db,Y:Ra,Z:Kb,"%":cb},
Wb={a:function(a,b,c){return(b=tc.exec(b.slice(c)))?(a.w=Qb[b[0].toLowerCase()],c+b[0].length):-1},A:function(a,b,c){return(b=Rb.exec(b.slice(c)))?(a.w=J[b[0].toLowerCase()],c+b[0].length):-1},b:function(a,b,c){return(b=lb.exec(b.slice(c)))?(a.m=Cc[b[0].toLowerCase()],c+b[0].length):-1},B:function(a,b,c){return(b=Tc.exec(b.slice(c)))?(a.m=Wc[b[0].toLowerCase()],c+b[0].length):-1},c:function(a,b,c){return xb(a,Ja,b,c)},d:B,e:B,f:T,H:U,I:U,j:u,L:h,m:R,M:p,p:function(a,b,c){return(b=wb.exec(b.slice(c)))?
(a.p=bb[b[0].toLowerCase()],c+b[0].length):-1},q:g,Q:fa,s:qa,S:ca,u:Z,U:G,V:x,w:N,W:D,x:function(a,b,c){return xb(a,Xb,b,c)},X:function(a,b,c){return xb(a,Na,b,c)},y:C,Y:S,Z:r,"%":O};Aa.x=l(Xb,Aa);Aa.X=l(Na,Aa);Aa.c=l(Ja,Aa);Ab.x=l(Xb,Ab);Ab.X=l(Na,Ab);Ab.c=l(Ja,Ab);return{format:function(a){var b=l(a+="",Aa);b.toString=function(){return a};return b},parse:function(a){var b=P(a+="",!1);b.toString=function(){return a};return b},utcFormat:function(a){var b=l(a+="",Ab);b.toString=function(){return a};
return b},utcParse:function(a){var b=P(a+="",!0);b.toString=function(){return a};return b}}}function P(a,b,c){var e=0>a?"-":"";a=(e?-a:a)+"";var f=a.length;return e+(f<c?Array(c-f+1).join(b)+a:a)}function Na(a){return a.replace(Qb,"\\$\x26")}function W(a){return new RegExp("^(?:"+a.map(Na).join("|")+")","i")}function M(a){for(var b={},c=-1,e=a.length;++c<e;)b[a[c].toLowerCase()]=c;return b}function N(a,b,c){return(b=bb.exec(b.slice(c,c+1)))?(a.w=+b[0],c+b[0].length):-1}function Z(a,b,c){return(b=
bb.exec(b.slice(c,c+1)))?(a.u=+b[0],c+b[0].length):-1}function G(a,b,c){return(b=bb.exec(b.slice(c,c+2)))?(a.U=+b[0],c+b[0].length):-1}function x(a,b,c){return(b=bb.exec(b.slice(c,c+2)))?(a.V=+b[0],c+b[0].length):-1}function D(a,b,c){return(b=bb.exec(b.slice(c,c+2)))?(a.W=+b[0],c+b[0].length):-1}function S(a,b,c){return(b=bb.exec(b.slice(c,c+4)))?(a.y=+b[0],c+b[0].length):-1}function C(a,b,c){return(b=bb.exec(b.slice(c,c+2)))?(a.y=+b[0]+(68<+b[0]?1900:2E3),c+b[0].length):-1}function r(a,b,c){return(b=
/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(b.slice(c,c+6)))?(a.Z=b[1]?0:-(b[2]+(b[3]||"00")),c+b[0].length):-1}function g(a,b,c){return(b=bb.exec(b.slice(c,c+1)))?(a.q=3*b[0]-3,c+b[0].length):-1}function R(a,b,c){return(b=bb.exec(b.slice(c,c+2)))?(a.m=b[0]-1,c+b[0].length):-1}function B(a,b,c){return(b=bb.exec(b.slice(c,c+2)))?(a.d=+b[0],c+b[0].length):-1}function u(a,b,c){return(b=bb.exec(b.slice(c,c+3)))?(a.m=0,a.d=+b[0],c+b[0].length):-1}function U(a,b,c){return(b=bb.exec(b.slice(c,c+2)))?(a.H=+b[0],
c+b[0].length):-1}function p(a,b,c){return(b=bb.exec(b.slice(c,c+2)))?(a.M=+b[0],c+b[0].length):-1}function ca(a,b,c){return(b=bb.exec(b.slice(c,c+2)))?(a.S=+b[0],c+b[0].length):-1}function h(a,b,c){return(b=bb.exec(b.slice(c,c+3)))?(a.L=+b[0],c+b[0].length):-1}function T(a,b,c){return(b=bb.exec(b.slice(c,c+6)))?(a.L=Math.floor(b[0]/1E3),c+b[0].length):-1}function O(a,b,c){return(a=J.exec(b.slice(c,c+1)))?c+a[0].length:-1}function fa(a,b,c){return(b=bb.exec(b.slice(c)))?(a.Q=+b[0],c+b[0].length):
-1}function qa(a,b,c){return(b=bb.exec(b.slice(c)))?(a.s=+b[0],c+b[0].length):-1}function ua(a,b){return P(a.getDate(),b,2)}function f(a,b){return P(a.getHours(),b,2)}function c(a,b){return P(a.getHours()%12||12,b,2)}function K(a,c){return P(1+b.timeDay.count(b.timeYear(a),a),c,3)}function m(a,b){return P(a.getMilliseconds(),b,3)}function e(a,b){return m(a,b)+"000"}function ea(a,b){return P(a.getMonth()+1,b,2)}function ka(a,b){return P(a.getMinutes(),b,2)}function X(a,b){return P(a.getSeconds(),b,
2)}function Wa(a){a=a.getDay();return 0===a?7:a}function wa(a,c){return P(b.timeSunday.count(b.timeYear(a)-1,a),c,2)}function Va(a,c){var e=a.getDay();a=4<=e||0===e?b.timeThursday(a):b.timeThursday.ceil(a);return P(b.timeThursday.count(b.timeYear(a),a)+(4===b.timeYear(a).getDay()),c,2)}function tb(a){return a.getDay()}function ib(a,c){return P(b.timeMonday.count(b.timeYear(a)-1,a),c,2)}function da(a,b){return P(a.getFullYear()%100,b,2)}function Oa(a,b){return P(a.getFullYear()%1E4,b,4)}function t(a){a=
a.getTimezoneOffset();return(0<a?"-":(a*=-1,"+"))+P(a/60|0,"0",2)+P(a%60,"0",2)}function k(a,b){return P(a.getUTCDate(),b,2)}function v(a,b){return P(a.getUTCHours(),b,2)}function n(a,b){return P(a.getUTCHours()%12||12,b,2)}function ba(a,c){return P(1+b.utcDay.count(b.utcYear(a),a),c,3)}function sa(a,b){return P(a.getUTCMilliseconds(),b,3)}function ya(a,b){return sa(a,b)+"000"}function Ka(a,b){return P(a.getUTCMonth()+1,b,2)}function ab(a,b){return P(a.getUTCMinutes(),b,2)}function jb(a,b){return P(a.getUTCSeconds(),
b,2)}function db(a){a=a.getUTCDay();return 0===a?7:a}function y(a,c){return P(b.utcSunday.count(b.utcYear(a)-1,a),c,2)}function Ha(a,c){var e=a.getUTCDay();a=4<=e||0===e?b.utcThursday(a):b.utcThursday.ceil(a);return P(b.utcThursday.count(b.utcYear(a),a)+(4===b.utcYear(a).getUTCDay()),c,2)}function z(a){return a.getUTCDay()}function va(a,c){return P(b.utcMonday.count(b.utcYear(a)-1,a),c,2)}function Db(a,b){return P(a.getUTCFullYear()%100,b,2)}function Ra(a,b){return P(a.getUTCFullYear()%1E4,b,4)}function Kb(){return"+0000"}
function cb(){return"%"}function E(a){return+a}function zb(a){return Math.floor(+a/1E3)}function Ja(b){Pa=l(b);a.timeFormat=Pa.format;a.timeParse=Pa.parse;a.utcFormat=Pa.utcFormat;a.utcParse=Pa.utcParse;return Pa}function Ya(a){return a.toISOString()}function Xb(a){a=new Date(a);return isNaN(a)?null:a}var Yb={"-":"",_:" ",0:"0"},bb=/^\s*\d+/,J=/^%/,Qb=/[\\^$*+?|[\]().{}]/g,Pa;Ja({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var qb=Date.prototype.toISOString?Ya:a.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),Rb=+new Date("2000-01-01T00:00:00.000Z")?Xb:a.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");a.isoFormat=qb;a.isoParse=Rb;a.timeFormatDefaultLocale=Ja;a.timeFormatLocale=l;Object.defineProperty(a,"__esModule",
{value:!0})})};
shadow$provide[8]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z,y(3),y(4),y(6),y(0),y(7)):"function"===typeof define&&define.amd?define("exports d3-array d3-format vega-time vega-util d3-time-format".split(" "),b):(a=a||self,b(a.vega={},a.d3,a.d3,a.vega,a.vega,a.d3))})(this,function(a,b,d,w,la,l){function P(a){var b={};return function(d){return b[d]||(b[d]=a(d))}}function Na(a,b){return function(d){d=a(d);var u=d.indexOf(b);if(0>u)return d;a:{var h=d.lastIndexOf("e");
if(!(0<h)){for(h=d.length;--h>u;){var p=d.charCodeAt(h);if(48<=p&&57>=p){h+=1;break a}}h=void 0}}for(p=h<d.length?d.slice(h):"";--h>u;)if("0"!==d[h]){++h;break}return d.slice(0,h)+p}}function W(a){var u=P(a.format),p=a.formatPrefix;return{format:u,formatPrefix:p,formatFloat:function(a){a=d.formatSpecifier(a||",");if(null==a.precision){a.precision=12;switch(a.type){case "%":a.precision-=2;break;case "e":--a.precision}return Na(u(a),u(".1f")(1)[1])}return u(a)},formatSpan:function(a,h,g,r){r=d.formatSpecifier(null==
r?",f":r);g=b.tickStep(a,h,g);a=Math.max(Math.abs(a),Math.abs(h));if(null==r.precision)switch(r.type){case "s":return isNaN(h=d.precisionPrefix(g,a))||(r.precision=h),p(r,a);case "":case "e":case "g":case "p":case "r":isNaN(h=d.precisionRound(g,a))||(r.precision=h-("e"===r.type));break;case "f":case "%":isNaN(h=d.precisionFixed(g))||(r.precision=h-2*("%"===r.type))}return u(r)}}}function M(){return g=W({format:d.format,formatPrefix:d.formatPrefix})}function N(a){return W(d.formatLocale(a))}function Z(a){return arguments.length?
g=N(a):g}function G(a,b,d){d=d||{};la.isObject(d)||la.error("Invalid time multi-format specifier: "+d);var g=b(w.SECONDS),h=b(w.MINUTES),u=b(w.HOURS),p=b(w.DATE),r=b(w.WEEK),l=b(w.MONTH),x=b(w.QUARTER),f=b(w.YEAR),c=a(d[w.MILLISECONDS]||".%L"),K=a(d[w.SECONDS]||":%S"),m=a(d[w.MINUTES]||"%I:%M"),e=a(d[w.HOURS]||"%I %p"),ea=a(d[w.DATE]||d[w.DAY]||"%a %d"),ka=a(d[w.WEEK]||"%b %d"),X=a(d[w.MONTH]||"%B"),C=a(d[w.QUARTER]||"%B"),D=a(d[w.YEAR]||"%Y");return function(a){return(g(a)<a?c:h(a)<a?K:u(a)<a?m:
p(a)<a?e:l(a)<a?r(a)<a?ea:ka:f(a)<a?x(a)<a?X:C:D)(a)}}function x(a){var b=P(a.format),d=P(a.utcFormat);return{timeFormat:function(a){return la.isString(a)?b(a):G(b,w.timeInterval,a)},utcFormat:function(a){return la.isString(a)?d(a):G(d,w.utcInterval,a)},timeParse:P(a.parse),utcParse:P(a.utcParse)}}function D(){return R=x({format:l.timeFormat,parse:l.timeParse,utcFormat:l.utcFormat,utcParse:l.utcParse})}function S(a){return x(l.timeFormatLocale(a))}function C(a){return arguments.length?R=S(a):R}function r(a,
b){var d=arguments.length;d&&2!==d&&la.error("defaultLocale expects either zero or two arguments.");return d?B(Z(a),C(b)):B(Z(),C())}var g;M();var R;D();var B=function(a,b){return la.extend({},a,b)};a.defaultLocale=r;a.locale=function(a,b){a=a?N(a):Z();b=b?S(b):C();return B(a,b)};a.numberFormatDefaultLocale=Z;a.numberFormatLocale=N;a.resetDefaultLocale=function(){M();D();return r()};a.resetNumberFormatDefaultLocale=M;a.resetTimeFormatDefaultLocale=D;a.timeFormatDefaultLocale=C;a.timeFormatLocale=
S;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[9]=function(E,y,J,z){function a(a){var b=a.length;if(0<b%4)throw Error("Invalid string. Length must be a multiple of 4");a=a.indexOf("\x3d");-1===a&&(a=b);return[a,a===b?0:4-a%4]}function b(a,b,w){for(var l=[],M=b;M<w;M+=3)b=(a[M]<<16&16711680)+(a[M+1]<<8&65280)+(a[M+2]&255),l.push(d[b>>18&63]+d[b>>12&63]+d[b>>6&63]+d[b&63]);return l.join("")}z.byteLength=function(b){b=a(b);var d=b[1];return 3*(b[0]+d)/4-d};z.toByteArray=function(b){var d=a(b);var l=d[0];d=d[1];var W=new la(3*(l+d)/
4-d),M=0,N=0<d?l-4:l,Z;for(Z=0;Z<N;Z+=4)l=w[b.charCodeAt(Z)]<<18|w[b.charCodeAt(Z+1)]<<12|w[b.charCodeAt(Z+2)]<<6|w[b.charCodeAt(Z+3)],W[M++]=l>>16&255,W[M++]=l>>8&255,W[M++]=l&255;2===d&&(l=w[b.charCodeAt(Z)]<<2|w[b.charCodeAt(Z+1)]>>4,W[M++]=l&255);1===d&&(l=w[b.charCodeAt(Z)]<<10|w[b.charCodeAt(Z+1)]<<4|w[b.charCodeAt(Z+2)]>>2,W[M++]=l>>8&255,W[M++]=l&255);return W};z.fromByteArray=function(a){for(var l=a.length,w=l%3,W=[],M=0,N=l-w;M<N;M+=16383)W.push(b(a,M,M+16383>N?N:M+16383));1===w?(a=a[l-
1],W.push(d[a>>2]+d[a<<4&63]+"\x3d\x3d")):2===w&&(a=(a[l-2]<<8)+a[l-1],W.push(d[a>>10]+d[a>>4&63]+d[a<<2&63]+"\x3d"));return W.join("")};var d=[],w=[],la="undefined"!==typeof Uint8Array?Uint8Array:Array;for(E=0;64>E;++E)d[E]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[E],w["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(E)]=E;w[45]=62;w[95]=63};
shadow$provide[10]=function(E,y,J,z){z.read=function(a,b,d,w,la){var l=8*la-w-1;var P=(1<<l)-1,y=P>>1,W=-7;la=d?la-1:0;var M=d?-1:1,N=a[b+la];la+=M;d=N&(1<<-W)-1;N>>=-W;for(W+=l;0<W;d=256*d+a[b+la],la+=M,W-=8);l=d&(1<<-W)-1;d>>=-W;for(W+=w;0<W;l=256*l+a[b+la],la+=M,W-=8);if(0===d)d=1-y;else{if(d===P)return l?NaN:Infinity*(N?-1:1);l+=Math.pow(2,w);d-=y}return(N?-1:1)*l*Math.pow(2,d-w)};z.write=function(a,b,d,w,la,l){var P,y=8*l-la-1,W=(1<<y)-1,M=W>>1,N=23===la?Math.pow(2,-24)-Math.pow(2,-77):0;l=w?
0:l-1;var Z=w?1:-1,G=0>b||0===b&&0>1/b?1:0;b=Math.abs(b);isNaN(b)||Infinity===b?(b=isNaN(b)?1:0,w=W):(w=Math.floor(Math.log(b)/Math.LN2),1>b*(P=Math.pow(2,-w))&&(w--,P*=2),b=1<=w+M?b+N/P:b+N*Math.pow(2,1-M),2<=b*P&&(w++,P/=2),w+M>=W?(b=0,w=W):1<=w+M?(b=(b*P-1)*Math.pow(2,la),w+=M):(b=b*Math.pow(2,M-1)*Math.pow(2,la),w=0));for(;8<=la;a[d+l]=b&255,l+=Z,b/=256,la-=8);w=w<<la|b;for(y+=la;0<y;a[d+l]=w&255,l+=Z,w/=256,y-=8);a[d+l-Z]|=128*G}};
shadow$provide[11]=function(E,y,J,z){var a={}.toString;J.exports=Array.isArray||function(b){return"[object Array]"==a.call(b)}};
shadow$provide[12]=function(E,y,J,z){function a(){try{var a=new Uint8Array(1);a.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return 42===a.foo()&&"function"===typeof a.subarray&&0===a.subarray(1,1).byteLength}catch(c){return!1}}function b(a,b){if((d.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<b)throw new RangeError("Invalid typed array length");d.TYPED_ARRAY_SUPPORT?(a=new Uint8Array(b),a.__proto__=d.prototype):(null===a&&(a=new d(b)),a.length=b);return a}function d(a,b,K){if(!(d.TYPED_ARRAY_SUPPORT||
this instanceof d))return new d(a,b,K);if("number"===typeof a){if("string"===typeof b)throw Error("If encoding is specified then the first argument must be a string");return l(this,a)}return w(this,a,b,K)}function w(a,c,K,m){if("number"===typeof c)throw new TypeError('"value" argument must not be a number');if("undefined"!==typeof ArrayBuffer&&c instanceof ArrayBuffer){c.byteLength;if(0>K||c.byteLength<K)throw new RangeError("'offset' is out of bounds");if(c.byteLength<K+(m||0))throw new RangeError("'length' is out of bounds");
c=void 0===K&&void 0===m?new Uint8Array(c):void 0===m?new Uint8Array(c,K):new Uint8Array(c,K,m);d.TYPED_ARRAY_SUPPORT?(a=c,a.__proto__=d.prototype):a=P(a,c);return a}if("string"===typeof c){m=a;a=K;if("string"!==typeof a||""===a)a="utf8";if(!d.isEncoding(a))throw new TypeError('"encoding" must be a valid string encoding');K=M(c,a)|0;m=b(m,K);c=m.write(c,a);c!==K&&(m=m.slice(0,c));return m}return Na(a,c)}function la(a){if("number"!==typeof a)throw new TypeError('"size" argument must be a number');
if(0>a)throw new RangeError('"size" argument must not be negative');}function l(a,c){la(c);a=b(a,0>c?0:W(c)|0);if(!d.TYPED_ARRAY_SUPPORT)for(var f=0;f<c;++f)a[f]=0;return a}function P(a,c){var f=0>c.length?0:W(c.length)|0;a=b(a,f);for(var d=0;d<f;d+=1)a[d]=c[d]&255;return a}function Na(a,c){if(d.isBuffer(c)){var f=W(c.length)|0;a=b(a,f);if(0===a.length)return a;c.copy(a,0,0,f);return a}if(c){if("undefined"!==typeof ArrayBuffer&&c.buffer instanceof ArrayBuffer||"length"in c)return(f="number"!==typeof c.length)||
(f=c.length,f=f!==f),f?b(a,0):P(a,c);if("Buffer"===c.type&&fa(c.data))return P(a,c.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}function W(a){if(a>=(d.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(d.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return a|0}function M(a,b){if(d.isBuffer(a))return a.length;if("undefined"!==typeof ArrayBuffer&&
"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(a)||a instanceof ArrayBuffer))return a.byteLength;"string"!==typeof a&&(a=""+a);var c=a.length;if(0===c)return 0;for(var f=!1;;)switch(b){case "ascii":case "latin1":case "binary":return c;case "utf8":case "utf-8":case void 0:return p(a).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*c;case "hex":return c>>>1;case "base64":return T.toByteArray(U(a)).length;default:if(f)return p(a).length;b=(""+b).toLowerCase();f=!0}}
function N(a,b,d){var c=!1;if(void 0===b||0>b)b=0;if(b>this.length)return"";if(void 0===d||d>this.length)d=this.length;if(0>=d)return"";d>>>=0;b>>>=0;if(d<=b)return"";for(a||(a="utf8");;)switch(a){case "hex":a=b;b=d;d=this.length;if(!a||0>a)a=0;if(!b||0>b||b>d)b=d;c="";for(d=a;d<b;++d)a=c,c=this[d],c=16>c?"0"+c.toString(16):c.toString(16),c=a+c;return c;case "utf8":case "utf-8":return D(this,b,d);case "ascii":a="";for(d=Math.min(this.length,d);b<d;++b)a+=String.fromCharCode(this[b]&127);return a;
case "latin1":case "binary":a="";for(d=Math.min(this.length,d);b<d;++b)a+=String.fromCharCode(this[b]);return a;case "base64":return b=0===b&&d===this.length?T.fromByteArray(this):T.fromByteArray(this.slice(b,d)),b;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":b=this.slice(b,d);d="";for(a=0;a<b.length;a+=2)d+=String.fromCharCode(b[a]+256*b[a+1]);return d;default:if(c)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase();c=!0}}function Z(a,b,d){var c=a[b];a[b]=a[d];a[d]=c}function G(a,
b,K,m,e){if(0===a.length)return-1;"string"===typeof K?(m=K,K=0):2147483647<K?K=2147483647:-2147483648>K&&(K=-2147483648);K=+K;isNaN(K)&&(K=e?0:a.length-1);0>K&&(K=a.length+K);if(K>=a.length){if(e)return-1;K=a.length-1}else if(0>K)if(e)K=0;else return-1;"string"===typeof b&&(b=d.from(b,m));if(d.isBuffer(b))return 0===b.length?-1:x(a,b,K,m,e);if("number"===typeof b)return b&=255,d.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?e?Uint8Array.prototype.indexOf.call(a,b,K):Uint8Array.prototype.lastIndexOf.call(a,
b,K):x(a,[b],K,m,e);throw new TypeError("val must be string, number or Buffer");}function x(a,b,d,m,e){function c(a,b){return 1===f?a[b]:a.readUInt16BE(b*f)}var f=1,K=a.length,g=b.length;if(void 0!==m&&(m=String(m).toLowerCase(),"ucs2"===m||"ucs-2"===m||"utf16le"===m||"utf-16le"===m)){if(2>a.length||2>b.length)return-1;f=2;K/=2;g/=2;d/=2}if(e)for(m=-1;d<K;d++)if(c(a,d)===c(b,-1===m?0:d-m)){if(-1===m&&(m=d),d-m+1===g)return m*f}else-1!==m&&(d-=d-m),m=-1;else for(d+g>K&&(d=K-g);0<=d;d--){K=!0;for(m=
0;m<g;m++)if(c(a,d+m)!==c(b,m)){K=!1;break}if(K)return d}return-1}function D(a,b,d){d=Math.min(a.length,d);for(var c=[];b<d;){var e=a[b],f=null,K=239<e?4:223<e?3:191<e?2:1;if(b+K<=d)switch(K){case 1:128>e&&(f=e);break;case 2:var g=a[b+1];128===(g&192)&&(e=(e&31)<<6|g&63,127<e&&(f=e));break;case 3:g=a[b+1];var h=a[b+2];128===(g&192)&&128===(h&192)&&(e=(e&15)<<12|(g&63)<<6|h&63,2047<e&&(55296>e||57343<e)&&(f=e));break;case 4:g=a[b+1];h=a[b+2];var p=a[b+3];128===(g&192)&&128===(h&192)&&128===(p&192)&&
(e=(e&15)<<18|(g&63)<<12|(h&63)<<6|p&63,65535<e&&1114112>e&&(f=e))}null===f?(f=65533,K=1):65535<f&&(f-=65536,c.push(f>>>10&1023|55296),f=56320|f&1023);c.push(f);b+=K}a=c.length;if(a<=qa)c=String.fromCharCode.apply(String,c);else{d="";for(b=0;b<a;)d+=String.fromCharCode.apply(String,c.slice(b,b+=qa));c=d}return c}function S(a,b,d){if(0!==a%1||0>a)throw new RangeError("offset is not uint");if(a+b>d)throw new RangeError("Trying to access beyond buffer length");}function C(a,b,K,m,e,ea){if(!d.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');
if(b>e||b<ea)throw new RangeError('"value" argument is out of bounds');if(K+m>a.length)throw new RangeError("Index out of range");}function r(a,b,d,m){0>b&&(b=65535+b+1);for(var c=0,f=Math.min(a.length-d,2);c<f;++c)a[d+c]=(b&255<<8*(m?c:1-c))>>>8*(m?c:1-c)}function g(a,b,d,m){0>b&&(b=4294967295+b+1);for(var c=0,f=Math.min(a.length-d,4);c<f;++c)a[d+c]=b>>>8*(m?c:3-c)&255}function R(a,b,d,m,e,ea){if(d+m>a.length)throw new RangeError("Index out of range");if(0>d)throw new RangeError("Index out of range");
}function B(a,b,d,m,e){e||R(a,b,d,4,3.4028234663852886E38,-3.4028234663852886E38);O.write(a,b,d,m,23,4);return d+4}function u(a,b,d,m,e){e||R(a,b,d,8,1.7976931348623157E308,-1.7976931348623157E308);O.write(a,b,d,m,52,8);return d+8}function U(a){a=a.trim?a.trim():a.replace(/^\s+|\s+$/g,"");a=a.replace(ua,"");if(2>a.length)return"";for(;0!==a.length%4;)a+="\x3d";return a}function p(a,b){b=b||Infinity;for(var c,f=a.length,e=null,d=[],g=0;g<f;++g){c=a.charCodeAt(g);if(55295<c&&57344>c){if(!e){if(56319<
c){-1<(b-=3)&&d.push(239,191,189);continue}else if(g+1===f){-1<(b-=3)&&d.push(239,191,189);continue}e=c;continue}if(56320>c){-1<(b-=3)&&d.push(239,191,189);e=c;continue}c=(e-55296<<10|c-56320)+65536}else e&&-1<(b-=3)&&d.push(239,191,189);e=null;if(128>c){if(0>--b)break;d.push(c)}else if(2048>c){if(0>(b-=2))break;d.push(c>>6|192,c&63|128)}else if(65536>c){if(0>(b-=3))break;d.push(c>>12|224,c>>6&63|128,c&63|128)}else if(1114112>c){if(0>(b-=4))break;d.push(c>>18|240,c>>12&63|128,c>>6&63|128,c&63|128)}else throw Error("Invalid code point");
}return d}function ca(a){for(var b=[],f=0;f<a.length;++f)b.push(a.charCodeAt(f)&255);return b}function h(a,b,d,m){for(var c=0;c<m&&!(c+d>=b.length||c>=a.length);++c)b[c+d]=a[c];return c}var T=y(9),O=y(10),fa=y(11);z.Buffer=d;z.SlowBuffer=function(a){+a!=a&&(a=0);return d.alloc(+a)};z.INSPECT_MAX_BYTES=50;d.TYPED_ARRAY_SUPPORT=void 0!==E.TYPED_ARRAY_SUPPORT?E.TYPED_ARRAY_SUPPORT:a();z.kMaxLength=d.TYPED_ARRAY_SUPPORT?2147483647:1073741823;d.poolSize=8192;d._augment=function(a){a.__proto__=d.prototype;
return a};d.from=function(a,b,d){return w(null,a,b,d)};d.TYPED_ARRAY_SUPPORT&&(d.prototype.__proto__=Uint8Array.prototype,d.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&d[Symbol.species]===d&&Object.defineProperty(d,Symbol.species,{value:null,configurable:!0}));d.alloc=function(a,c,d){la(a);a=0>=a?b(null,a):void 0!==c?"string"===typeof d?b(null,a).fill(c,d):b(null,a).fill(c):b(null,a);return a};d.allocUnsafe=function(a){return l(null,a)};d.allocUnsafeSlow=function(a){return l(null,
a)};d.isBuffer=function(a){return!(null==a||!a._isBuffer)};d.compare=function(a,b){if(!d.isBuffer(a)||!d.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var c=a.length,f=b.length,e=0,ea=Math.min(c,f);e<ea;++e)if(a[e]!==b[e]){c=a[e];f=b[e];break}return c<f?-1:f<c?1:0};d.isEncoding=function(a){switch(String(a).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;
default:return!1}};d.concat=function(a,b){if(!fa(a))throw new TypeError('"list" argument must be an Array of Buffers');if(0===a.length)return d.alloc(0);var c;if(void 0===b)for(c=b=0;c<a.length;++c)b+=a[c].length;b=d.allocUnsafe(b);var f=0;for(c=0;c<a.length;++c){var e=a[c];if(!d.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(b,f);f+=e.length}return b};d.byteLength=M;d.prototype._isBuffer=!0;d.prototype.swap16=function(){var a=this.length;if(0!==a%2)throw new RangeError("Buffer size must be a multiple of 16-bits");
for(var b=0;b<a;b+=2)Z(this,b,b+1);return this};d.prototype.swap32=function(){var a=this.length;if(0!==a%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var b=0;b<a;b+=4)Z(this,b,b+3),Z(this,b+1,b+2);return this};d.prototype.swap64=function(){var a=this.length;if(0!==a%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var b=0;b<a;b+=8)Z(this,b,b+7),Z(this,b+1,b+6),Z(this,b+2,b+5),Z(this,b+3,b+4);return this};d.prototype.toString=function(){var a=this.length|
0;return 0===a?"":0===arguments.length?D(this,0,a):N.apply(this,arguments)};d.prototype.equals=function(a){if(!d.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?!0:0===d.compare(this,a)};d.prototype.inspect=function(){var a="",b=z.INSPECT_MAX_BYTES;0<this.length&&(a=this.toString("hex",0,b).match(/.{2}/g).join(" "),this.length>b&&(a+=" ... "));return"\x3cBuffer "+a+"\x3e"};d.prototype.compare=function(a,b,K,m,e){if(!d.isBuffer(a))throw new TypeError("Argument must be a Buffer");
void 0===b&&(b=0);void 0===K&&(K=a?a.length:0);void 0===m&&(m=0);void 0===e&&(e=this.length);if(0>b||K>a.length||0>m||e>this.length)throw new RangeError("out of range index");if(m>=e&&b>=K)return 0;if(m>=e)return-1;if(b>=K)return 1;b>>>=0;K>>>=0;m>>>=0;e>>>=0;if(this===a)return 0;var c=e-m,f=K-b,g=Math.min(c,f);m=this.slice(m,e);a=a.slice(b,K);for(b=0;b<g;++b)if(m[b]!==a[b]){c=m[b];f=a[b];break}return c<f?-1:f<c?1:0};d.prototype.includes=function(a,b,d){return-1!==this.indexOf(a,b,d)};d.prototype.indexOf=
function(a,b,d){return G(this,a,b,d,!0)};d.prototype.lastIndexOf=function(a,b,d){return G(this,a,b,d,!1)};d.prototype.write=function(a,b,d,m){if(void 0===b)m="utf8",d=this.length,b=0;else if(void 0===d&&"string"===typeof b)m=b,d=this.length,b=0;else if(isFinite(b))b|=0,isFinite(d)?(d|=0,void 0===m&&(m="utf8")):(m=d,d=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var c=this.length-b;if(void 0===d||d>c)d=c;if(0<a.length&&(0>d||0>b)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");
m||(m="utf8");for(c=!1;;)switch(m){case "hex":a:{b=Number(b)||0;m=this.length-b;d?(d=Number(d),d>m&&(d=m)):d=m;m=a.length;if(0!==m%2)throw new TypeError("Invalid hex string");d>m/2&&(d=m/2);for(m=0;m<d;++m){c=parseInt(a.substr(2*m,2),16);if(isNaN(c)){a=m;break a}this[b+m]=c}a=m}return a;case "utf8":case "utf-8":return h(p(a,this.length-b),this,b,d);case "ascii":return h(ca(a),this,b,d);case "latin1":case "binary":return h(ca(a),this,b,d);case "base64":return h(T.toByteArray(U(a)),this,b,d);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":m=
a;c=this.length-b;for(var f=[],g=0;g<m.length&&!(0>(c-=2));++g){var K=m.charCodeAt(g);a=K>>8;K%=256;f.push(K);f.push(a)}return h(f,this,b,d);default:if(c)throw new TypeError("Unknown encoding: "+m);m=(""+m).toLowerCase();c=!0}};d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var qa=4096;d.prototype.slice=function(a,b){var c=this.length;a=~~a;b=void 0===b?c:~~b;0>a?(a+=c,0>a&&(a=0)):a>c&&(a=c);0>b?(b+=c,0>b&&(b=0)):b>c&&(b=c);b<a&&(b=a);if(d.TYPED_ARRAY_SUPPORT)b=
this.subarray(a,b),b.__proto__=d.prototype;else{c=b-a;b=new d(c,void 0);for(var f=0;f<c;++f)b[f]=this[f+a]}return b};d.prototype.readUIntLE=function(a,b,d){a|=0;b|=0;d||S(a,b,this.length);d=this[a];for(var c=1,e=0;++e<b&&(c*=256);)d+=this[a+e]*c;return d};d.prototype.readUIntBE=function(a,b,d){a|=0;b|=0;d||S(a,b,this.length);d=this[a+--b];for(var c=1;0<b&&(c*=256);)d+=this[a+--b]*c;return d};d.prototype.readUInt8=function(a,b){b||S(a,1,this.length);return this[a]};d.prototype.readUInt16LE=function(a,
b){b||S(a,2,this.length);return this[a]|this[a+1]<<8};d.prototype.readUInt16BE=function(a,b){b||S(a,2,this.length);return this[a]<<8|this[a+1]};d.prototype.readUInt32LE=function(a,b){b||S(a,4,this.length);return(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]};d.prototype.readUInt32BE=function(a,b){b||S(a,4,this.length);return 16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])};d.prototype.readIntLE=function(a,b,d){a|=0;b|=0;d||S(a,b,this.length);d=this[a];for(var c=1,e=0;++e<b&&(c*=256);)d+=
this[a+e]*c;d>=128*c&&(d-=Math.pow(2,8*b));return d};d.prototype.readIntBE=function(a,b,d){a|=0;b|=0;d||S(a,b,this.length);d=b;for(var c=1,e=this[a+--d];0<d&&(c*=256);)e+=this[a+--d]*c;e>=128*c&&(e-=Math.pow(2,8*b));return e};d.prototype.readInt8=function(a,b){b||S(a,1,this.length);return this[a]&128?-1*(255-this[a]+1):this[a]};d.prototype.readInt16LE=function(a,b){b||S(a,2,this.length);a=this[a]|this[a+1]<<8;return a&32768?a|4294901760:a};d.prototype.readInt16BE=function(a,b){b||S(a,2,this.length);
a=this[a+1]|this[a]<<8;return a&32768?a|4294901760:a};d.prototype.readInt32LE=function(a,b){b||S(a,4,this.length);return this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24};d.prototype.readInt32BE=function(a,b){b||S(a,4,this.length);return this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]};d.prototype.readFloatLE=function(a,b){b||S(a,4,this.length);return O.read(this,a,!0,23,4)};d.prototype.readFloatBE=function(a,b){b||S(a,4,this.length);return O.read(this,a,!1,23,4)};d.prototype.readDoubleLE=function(a,
b){b||S(a,8,this.length);return O.read(this,a,!0,52,8)};d.prototype.readDoubleBE=function(a,b){b||S(a,8,this.length);return O.read(this,a,!1,52,8)};d.prototype.writeUIntLE=function(a,b,d,m){a=+a;b|=0;d|=0;m||C(this,a,b,d,Math.pow(2,8*d)-1,0);m=1;var c=0;for(this[b]=a&255;++c<d&&(m*=256);)this[b+c]=a/m&255;return b+d};d.prototype.writeUIntBE=function(a,b,d,m){a=+a;b|=0;d|=0;m||C(this,a,b,d,Math.pow(2,8*d)-1,0);m=d-1;var c=1;for(this[b+m]=a&255;0<=--m&&(c*=256);)this[b+m]=a/c&255;return b+d};d.prototype.writeUInt8=
function(a,b,g){a=+a;b|=0;g||C(this,a,b,1,255,0);d.TYPED_ARRAY_SUPPORT||(a=Math.floor(a));this[b]=a&255;return b+1};d.prototype.writeUInt16LE=function(a,b,g){a=+a;b|=0;g||C(this,a,b,2,65535,0);d.TYPED_ARRAY_SUPPORT?(this[b]=a&255,this[b+1]=a>>>8):r(this,a,b,!0);return b+2};d.prototype.writeUInt16BE=function(a,b,g){a=+a;b|=0;g||C(this,a,b,2,65535,0);d.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=a&255):r(this,a,b,!1);return b+2};d.prototype.writeUInt32LE=function(a,b,h){a=+a;b|=0;h||C(this,a,b,4,4294967295,
0);d.TYPED_ARRAY_SUPPORT?(this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=a&255):g(this,a,b,!0);return b+4};d.prototype.writeUInt32BE=function(a,b,h){a=+a;b|=0;h||C(this,a,b,4,4294967295,0);d.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=a&255):g(this,a,b,!1);return b+4};d.prototype.writeIntLE=function(a,b,d,m){a=+a;b|=0;m||(m=Math.pow(2,8*d-1),C(this,a,b,d,m-1,-m));m=0;var c=1,f=0;for(this[b]=a&255;++m<d&&(c*=256);)0>a&&0===f&&0!==this[b+m-1]&&(f=1),this[b+
m]=(a/c>>0)-f&255;return b+d};d.prototype.writeIntBE=function(a,b,d,m){a=+a;b|=0;m||(m=Math.pow(2,8*d-1),C(this,a,b,d,m-1,-m));m=d-1;var c=1,f=0;for(this[b+m]=a&255;0<=--m&&(c*=256);)0>a&&0===f&&0!==this[b+m+1]&&(f=1),this[b+m]=(a/c>>0)-f&255;return b+d};d.prototype.writeInt8=function(a,b,g){a=+a;b|=0;g||C(this,a,b,1,127,-128);d.TYPED_ARRAY_SUPPORT||(a=Math.floor(a));0>a&&(a=255+a+1);this[b]=a&255;return b+1};d.prototype.writeInt16LE=function(a,b,g){a=+a;b|=0;g||C(this,a,b,2,32767,-32768);d.TYPED_ARRAY_SUPPORT?
(this[b]=a&255,this[b+1]=a>>>8):r(this,a,b,!0);return b+2};d.prototype.writeInt16BE=function(a,b,g){a=+a;b|=0;g||C(this,a,b,2,32767,-32768);d.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=a&255):r(this,a,b,!1);return b+2};d.prototype.writeInt32LE=function(a,b,h){a=+a;b|=0;h||C(this,a,b,4,2147483647,-2147483648);d.TYPED_ARRAY_SUPPORT?(this[b]=a&255,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24):g(this,a,b,!0);return b+4};d.prototype.writeInt32BE=function(a,b,h){a=+a;b|=0;h||C(this,a,b,4,2147483647,
-2147483648);0>a&&(a=4294967295+a+1);d.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=a&255):g(this,a,b,!1);return b+4};d.prototype.writeFloatLE=function(a,b,d){return B(this,a,b,!0,d)};d.prototype.writeFloatBE=function(a,b,d){return B(this,a,b,!1,d)};d.prototype.writeDoubleLE=function(a,b,d){return u(this,a,b,!0,d)};d.prototype.writeDoubleBE=function(a,b,d){return u(this,a,b,!1,d)};d.prototype.copy=function(a,b,g,m){g||(g=0);m||0===m||(m=this.length);b>=a.length&&
(b=a.length);b||(b=0);0<m&&m<g&&(m=g);if(m===g||0===a.length||0===this.length)return 0;if(0>b)throw new RangeError("targetStart out of bounds");if(0>g||g>=this.length)throw new RangeError("sourceStart out of bounds");if(0>m)throw new RangeError("sourceEnd out of bounds");m>this.length&&(m=this.length);a.length-b<m-g&&(m=a.length-b+g);var c=m-g;if(this===a&&g<b&&b<m)for(m=c-1;0<=m;--m)a[m+b]=this[m+g];else if(1E3>c||!d.TYPED_ARRAY_SUPPORT)for(m=0;m<c;++m)a[m+b]=this[m+g];else Uint8Array.prototype.set.call(a,
this.subarray(g,g+c),b);return c};d.prototype.fill=function(a,b,g,m){if("string"===typeof a){"string"===typeof b?(m=b,b=0,g=this.length):"string"===typeof g&&(m=g,g=this.length);if(1===a.length){var c=a.charCodeAt(0);256>c&&(a=c)}if(void 0!==m&&"string"!==typeof m)throw new TypeError("encoding must be a string");if("string"===typeof m&&!d.isEncoding(m))throw new TypeError("Unknown encoding: "+m);}else"number"===typeof a&&(a&=255);if(0>b||this.length<b||this.length<g)throw new RangeError("Out of range index");
if(g<=b)return this;b>>>=0;g=void 0===g?this.length:g>>>0;a||(a=0);if("number"===typeof a)for(m=b;m<g;++m)this[m]=a;else for(a=d.isBuffer(a)?a:p((new d(a,m)).toString()),c=a.length,m=0;m<g-b;++m)this[m+b]=a[m%c];return this};var ua=/[^+\/0-9A-Za-z-_]/g};
shadow$provide[13]=function(E,y,J,z){var a=y(12).Buffer;(function(a,d){"object"===typeof z&&"undefined"!==typeof J?d(z,y(0),y(1),y(2),y(8)):"function"===typeof define&&define.amd?define(["exports","vega-util","d3-dsv","topojson-client","vega-format"],d):(a=a||self,d(a.vega={},a.vega,a.d3,a.topojson,a.vega))})(this,function(b,d,w,y,l){function P(a,b){var c=this,d,f;return $jscomp.asyncExecutePromiseGeneratorProgram(function(e){if(1==e.nextAddress)return e.yield(c.sanitize(a,b),2);d=e.yieldResult;f=
d.href;return e.return(d.localFile?c.file(f):c.http(f,b))})}function la(a,b){var c=this,f,m,e,g,h,r,l;return $jscomp.asyncExecutePromiseGeneratorProgram(function(ea){b=d.extend({},c.options,b);f=c.fileAccess;m={href:null};r=U.test(a.replace(p,""));null!=a&&"string"===typeof a&&r||d.error("Sanitize failure, invalid URI: "+d.stringValue(a));l=u.test(a);(h=b.baseURL)&&!l&&(a.startsWith("/")||"/"===h[h.length-1]||(a="/"+a),a=h+a);g=(e=a.startsWith("file://"))||"file"===b.mode||"http"!==b.mode&&!l&&f;
e?a=a.slice(7):a.startsWith("//")&&("file"===b.defaultProtocol?(a=a.slice(2),g=!0):a=(b.defaultProtocol||"http")+":"+a);Object.defineProperty(m,"localFile",{value:!!g});m.href=a;b.target&&(m.target=b.target+"");b.rel&&(m.rel=b.rel+"");"image"===b.context&&b.crossOrigin&&(m.crossOrigin=b.crossOrigin+"");return ea.return(m)})}function W(a){return a?function(b){return new Promise(function(c,d){a.readFile(b,function(a,b){a?d(a):c(b)})})}:M}function M(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(a){d.error("No file system access.");
a.jumpToEnd()})}function N(a){return a?function(b,c){var f=this,m,e,g;return $jscomp.asyncExecutePromiseGeneratorProgram(function(h){if(1==h.nextAddress)return m=d.extend({},f.options.http,c),e=c&&c.response,h.yield(a(b,m),2);g=h.yieldResult;return h.return(g.ok?d.isFunction(g[e])?g[e]():g.text():d.error(g.status+""+g.statusText))})}:Z}function Z(){return $jscomp.asyncExecutePromiseGeneratorProgram(function(a){d.error("No HTTP fetch method available.");a.jumpToEnd()})}function G(a,b){if(!a||!a.length)return"unknown";
for(var c=a.length,d=h.length,f=h.map(function(a,b){return b+1}),e=0,g=0,p=void 0,u=void 0;e<c;++e)for(u=b?a[e][b]:a[e],p=0;p<d;++p)if(f[p]&&null!=u&&u===u&&!h[p](u)&&(f[p]=0,++g,g===h.length))return"string";return T[f.reduce(function(a,b){return 0===a?b:a},0)-1]}function x(a,b){return b.reduce(function(b,d){b[d]=G(a,d);return b},{})}function D(a){return!Number.isNaN(+a)&&!(a instanceof Date)}function S(a){var b=function(b,f){var c={delimiter:a};return C(b,f?d.extend(f,c):c)};b.responseType="text";
return b}function C(a,b){b.header&&(a=b.header.map(d.stringValue).join(b.delimiter)+"\n"+a);return w.dsvFormat(b.delimiter).parse(a+"")}function r(b,f){f=f&&f.property?d.field(f.property):d.identity;var c;if(c=d.isObject(b))c=!("function"===typeof a&&d.isFunction(a.isBuffer)&&a.isBuffer(b));return c?f(b):f(JSON.parse(b))}function g(a,b){var c;a=r(a,b);if(b&&b.feature){var f=y.feature;var m=b.feature}else if(b&&b.mesh){f=y.mesh;m=b.mesh;var e=O[b.filter]}else d.error("Missing TopoJSON feature or mesh parameter.");
return(c=(c=a.objects[m])?f(a,c,e):d.error("Invalid TopoJSON object: "+m))&&c.features||[c]}function R(a,b){return 1<arguments.length?(fa[a]=b,this):d.hasOwnProperty(fa,a)?fa[a]:null}function B(a,b,c,d){if(a.length){var f=l.timeFormatDefaultLocale();c=c||f.timeParse;d=d||f.utcParse;f=a.columns||Object.keys(a[0]);var e,g;"auto"===b&&(b=x(a,f));f=Object.keys(b);var h=f.map(function(a){var e=b[a];if(e&&(e.startsWith("date:")||e.startsWith("utc:"))){a=e.split(/:(.+)?/,2);e=a[1];if("'"===e[0]&&"'"===e[e.length-
1]||'"'===e[0]&&'"'===e[e.length-1])e=e.slice(1,-1);return("utc"===a[0]?d:c)(e)}if(!ca[e])throw Error("Illegal format pattern: "+a+":"+e);return ca[e]});var p=0;var u=a.length;for(g=f.length;p<u;++p){var r=a[p];for(e=0;e<g;++e){var K=f[e];r[K]=h[e](r[K])}}}}var u=/^([A-Za-z]+:)?\/\//,U=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,p=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,ca={boolean:d.toBoolean,integer:d.toNumber,number:d.toNumber,
date:d.toDate,string:d.toString,unknown:d.identity},h=[function(a){return"true"===a||"false"===a||!0===a||!1===a},function(a){return D(a)&&Number.isInteger(+a)},D,function(a){return!Number.isNaN(Date.parse(a))}],T=["boolean","integer","number","date"];C.responseType="text";r.responseType="json";var O={interior:function(a,b){return a!==b},exterior:function(a,b){return a===b}};g.responseType="json";var fa={dsv:C,csv:S(","),tsv:S("\t"),json:r,topojson:g},qa=function(a,b){return function(c){return{options:c||
{},sanitize:la,load:P,fileAccess:!!b,file:W(b),http:N(a)}}}("undefined"!==typeof fetch&&fetch,null);b.format=fa;b.formats=R;b.inferType=G;b.inferTypes=x;b.loader=qa;b.read=function(a,b,c,g){b=b||{};var f=R(b.type||"json");f||d.error("Unknown data format type: "+b.type);a=f(a,b);b.parse&&B(a,b.parse,c,g);d.hasOwnProperty(a,"columns")&&delete a.columns;return a};b.responseType=function(a){return(a=R(a))&&a.responseType||"text"};b.typeParsers=ca;Object.defineProperty(b,"__esModule",{value:!0})})};
shadow$provide[14]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z,y(0),y(13),y(8)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],b):(a=a||self,b(a.vega={},a.vega,a.vega,a.vega))})(this,function(a,b,d,w){function y(a){var c=a||b.identity,e=[],d={};e.add=function(a){var b=c(a);d[b]||(d[b]=1,e.push(a));return e};e.remove=function(a){var b=c(a),v;d[b]&&(d[b]=0,0<=(v=e.indexOf(a))&&e.splice(v,1));return e};return e}function l(a,
b){var c;return $jscomp.asyncExecutePromiseGeneratorProgram(function(e){if(1==e.nextAddress)return e.setCatchFinallyBlocks(2),e.yield(b(a),4);if(2!=e.nextAddress)return e.leaveTryBlock(0);c=e.enterCatchBlock();a.error(c);e.jumpToEnd()})}function P(a){a=a===Object(a)?a:{data:a};if(!a[c]){var b=K++;a[c]=b}return a}function z(a,b){for(var c in a)b[c]=a[c];return b}function W(a){return a&&a.constructor===M}function M(){var a=[],e=[],d=[],f=[],t=[],k=null,v=!1;return{constructor:M,insert:function(c){c=
b.array(c);for(var e=0,d=c.length;e<d;++e)a.push(c[e]);return this},remove:function(a){var c=b.isFunction(a)?f:e;a=b.array(a);for(var d=0,n=a.length;d<n;++d)c.push(a[d]);return this},modify:function(a,c,e){c={field:c,value:b.constant(e)};b.isFunction(a)?(c.filter=a,t.push(c)):(c.tuple=a,d.push(c));return this},encode:function(a,c){b.isFunction(a)?t.push({filter:a,field:c}):d.push({tuple:a,field:c});return this},clean:function(a){k=a;return this},reflow:function(){v=!0;return this},pulse:function(b,
ba){function n(a,e,d){d?a[e]=d(a):b.encode=e;v||(g[a[c]]=a)}var m={},g={},h;var ea=0;for(h=ba.length;ea<h;++ea)m[ba[ea][c]]=1;ea=0;for(h=e.length;ea<h;++ea){var da=e[ea];m[da[c]]=-1}ea=0;for(h=f.length;ea<h;++ea){var p=f[ea];ba.forEach(function(a){p(a)&&(m[a[c]]=-1)})}ea=0;for(h=a.length;ea<h;++ea){da=a[ea];var u=da[c];m[u]?m[u]=1:b.add.push(P(a[ea]))}ea=0;for(h=ba.length;ea<h;++ea)da=ba[ea],0>m[da[c]]&&b.rem.push(da);ea=0;for(h=d.length;ea<h;++ea){var r=d[ea];da=r.tuple;p=r.field;u=m[da[c]];0<u&&
(n(da,p,r.value),b.modifies(p))}ea=0;for(h=t.length;ea<h;++ea)r=t[ea],p=r.filter,ba.forEach(function(a){p(a)&&0<m[a[c]]&&n(a,r.field,r.value)}),b.modifies(r.field);if(v)b.mod=e.length||f.length?ba.filter(function(a){return 0<m[a[c]]}):ba.slice();else for(u in g)b.mod.push(g[u]);(k||null==k&&(e.length||f.length))&&b.clean(!0);return b}}}function N(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function Z(a,b,c,d){this.id=++e;this.value=a;this.qrank=this.rank=this.stamp=-1;this.flags=
0;b&&(this._update=b);c&&this.parameters(c,d)}function G(a){return function(b){var c=this.flags;if(0===arguments.length)return!!(c&a);this.flags=b?c|a:c&~a;return this}}function x(a,b,c){this.id=++ka;this.value=null;c&&(this.receive=c);a&&(this._filter=a);b&&(this._apply=b)}function D(a,b,c){return new x(a,b,c)}function S(a){var b=new Promise(function(a){c=a}),c;b.requests=0;b.done=function(){0===--b.requests&&(a._pending=null,c(a))};return a._pending=b}function C(a,c,e,d,t,k){var v=b.extend({},k,
X);b.isFunction(e)||(e=b.constant(e));if(void 0===d)t=function(b){return a.touch(e(b))};else if(b.isFunction(d)){var n=new Z(null,d,t,!1);t=function(b){n.evaluate(b);b=e(b);var c=n.value;W(c)?a.pulse(b,c,k):a.update(b,c,v)}}else t=function(b){return a.update(e(b),d,v)};c.apply(t)}function r(a,b,c,e,d,k){void 0===e?b.targets().add(c):(k=k||{},e=new Z(null,g(c,e),d,!1),e.modified(k.force),e.rank=b.rank,b.targets().add(e),c&&(e.skip(!0),e.value=c.value,e.targets().add(c),a.connect(c,[e])))}function g(a,
c){c=b.isFunction(c)?c:b.constant(c);return a?function(b,e){b=c(b,e);a.skip()||(a.skip(b!==this.value).value=b);return b}:c}function R(a,b,c){this.dataflow=a;this.stamp=null==b?-1:b;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=c||null}function B(a,b){return a?function(c,e){return a(c,e)&&b(c,e)}:b}function u(a,c){var e=[];b.visitArray(a,c,function(a){return e.push(a)});return e}function U(a,b){var e={};a.visit(b,function(a){e[a[c]]=1});return function(a){return e[a[c]]?null:a}}
function p(a,b,c,e){var d=0,k,v;this.dataflow=a;this.stamp=b;this.fields=null;this.encode=e||null;this.pulses=c;var n=0;for(k=c.length;n<k;++n)if(a=c[n],a.stamp===b){if(a.fields)for(v in e=this.fields||(this.fields={}),a.fields)e[v]=1;a.changed(this.ADD)&&(d|=this.ADD);a.changed(this.REM)&&(d|=this.REM);a.changed(this.MOD)&&(d|=this.MOD)}this.changes=d}function ca(a){a.error("Dataflow already running. Use runAsync() to chain invocations.");return a}function h(a,b){if(b&&b.stamp===a.stamp)return b;
a=a.fork();b&&b!==Wa&&(a.source=b.source);return a}function T(a){var b=[];return{clear:function(){return b=[]},size:function(){return b.length},peek:function(){return b[0]},push:function(c){b.push(c);return O(b,0,b.length-1,a)},pop:function(){var c=b.pop();if(b.length){var e=b[0];b[0]=c;c=b;for(var d=0,k=d,v=c.length,n=c[d],f=(d<<1)+1,m;f<v;)m=f+1,m<v&&0<=a(c[f],c[m])&&(f=m),c[d]=c[f],d=f,f=(d<<1)+1;c[d]=n;O(c,k,d,a)}else e=c;return e}}}function O(a,b,c,e){var d;for(d=a[c];c>b;){var k=c-1>>1;var v=
a[k];if(0>e(d,v))a[c]=v,c=k;else break}return a[c]=d}function fa(){this.logger(b.logger());this.logLevel(b.Error);this._rank=this._clock=0;this._locale=w.defaultLocale();try{this._loader=d.loader()}catch(tb){}this._touched=y(b.id);this._input={};this._pulse=null;this._heap=T(function(a,b){return a.qrank-b.qrank});this._postrun=[]}function qa(a){return function(){return this._log[a].apply(this,arguments)}}function ua(a,b){Z.call(this,a,null,b)}function f(a){a=a&&a.toLowerCase();return b.hasOwnProperty(Va,
a)?Va[a]:null}$jscomp.initSymbol();var c=Symbol("vega_id"),K=1,m=N.prototype;m.set=function(a,c,e,d){var t=this[a],k=this["_:mod:_"];if(null!=c&&0<=c){if(t[c]!==e||d)t[c]=e,k[c+":"+a]=-1,k[a]=-1}else if(t!==e||d)this[a]=e,k[a]=b.isArray(e)?1+e.length:-1;return this};m.modified=function(a,c){var e=this["_:mod:_"],d;if(!arguments.length){for(d in e)if(e[d])return!0;return!1}if(b.isArray(a)){for(d=0;d<a.length;++d)if(e[a[d]])return!0;return!1}return null!=c&&0<=c?c+1<e[a]||!!e[c+":"+a]:!!e[a]};m.clear=
function(){this["_:mod:_"]={};return this};var e=0,ea=new N;m=Z.prototype;m.targets=function(){return this._targets||(this._targets=y(b.id))};m.set=function(a){return this.value!==a?(this.value=a,1):0};m.skip=G(1);m.modified=G(2);m.parameters=function(a,c,e){function d(a,b,e){e instanceof Z?(e!==t&&(c&&e.targets().add(t),n.push(e)),v.push({op:e,name:a,index:b})):k.set(a,b,e)}c=!1!==c;var t=this,k=t._argval=t._argval||new N,v=t._argops=t._argops||[],n=[],f,m,g;for(f in a){var h=a[f];if("pulse"===f)b.array(h).forEach(function(a){a instanceof
Z?a!==t&&(a.targets().add(t),n.push(a)):b.error("Pulse parameters must be operator instances.")}),t.source=h;else if(b.isArray(h))for(k.set(f,-1,Array(m=h.length)),g=0;g<m;++g)d(f,g,h[g]);else d(f,-1,h)}this.marshall().clear();e&&(v.initonly=!0);return n};m.marshall=function(a){var b=this._argval||ea,c=this._argops,e;if(c){var d=0;for(e=c.length;d<e;++d){var k=c[d];var v=k.op;var n=v.modified()&&v.stamp===a;b.set(k.name,k.index,v.value,n)}if(c.initonly){for(d=0;d<e;++d)k=c[d],k.op.targets().remove(this);
this._update=this._argops=null}}return b};m.detach=function(){var a=this._argops,b;if(a){var c=0;for(b=a.length;c<b;++c){var e=a[c];e=e.op;e._targets&&e._targets.remove(this)}}};m.evaluate=function(a){var b=this._update;if(b){var c=this.marshall(a.stamp);b=b.call(this,c,a);c.clear();if(b!==this.value)this.value=b;else if(!this.modified())return a.StopPropagation}};m.run=function(a){if(a.stamp<this.stamp)return a.StopPropagation;if(this.skip()){this.skip(!1);var b=0}else b=this.evaluate(a);return this.pulse=
b||a};var ka=0;m=x.prototype;m._filter=b.truthy;m._apply=b.identity;m.targets=function(){return this._targets||(this._targets=y(b.id))};m.consume=function(a){if(!arguments.length)return!!this._consume;this._consume=!!a;return this};m.receive=function(a){if(this._filter(a)){for(var b=this.value=this._apply(a),c=this._targets,e=c?c.length:0,d=0;d<e;++d)c[d].receive(b);this._consume&&(a.preventDefault(),a.stopPropagation())}};m.filter=function(a){a=D(a);this.targets().add(a);return a};m.apply=function(a){a=
D(null,a);this.targets().add(a);return a};m.merge=function(){var a=D();this.targets().add(a);for(var b=0,c=arguments.length;b<c;++b)arguments[b].targets().add(a);return a};m.throttle=function(a){var b=-1;return this.filter(function(){var c=Date.now();return c-b>a?(b=c,1):0})};m.debounce=function(a){var c=D();this.targets().add(D(null,null,b.debounce(a,function(a){var b=a.dataflow;c.receive(a);b&&b.run&&b.run()})));return c};m.between=function(a,b){var c=!1;a.targets().add(D(null,null,function(){c=
!0}));b.targets().add(D(null,null,function(){c=!1}));return this.filter(function(){return c})};var X={skip:!0},Wa={};m=R.prototype;m.StopPropagation=Wa;m.ADD=1;m.REM=2;m.MOD=4;m.ADD_REM=3;m.ADD_MOD=5;m.ALL=7;m.REFLOW=8;m.SOURCE=16;m.NO_SOURCE=32;m.NO_FIELDS=64;m.fork=function(a){return(new R(this.dataflow)).init(this,a)};m.clone=function(){var a=this.fork(7);a.add=a.add.slice();a.rem=a.rem.slice();a.mod=a.mod.slice();a.source&&(a.source=a.source.slice());return a.materialize(23)};m.addAll=function(){var a=
this;a.source&&a.source.length!==a.add.length&&(a=(new R(this.dataflow)).init(this),a.add=a.source);return a};m.init=function(a,b){this.stamp=a.stamp;this.encode=a.encode;!a.fields||b&64||(this.fields=a.fields);b&1?(this.addF=a.addF,this.add=a.add):(this.addF=null,this.add=[]);b&2?(this.remF=a.remF,this.rem=a.rem):(this.remF=null,this.rem=[]);b&4?(this.modF=a.modF,this.mod=a.mod):(this.modF=null,this.mod=[]);b&32?this.source=this.srcF=null:(this.srcF=a.srcF,this.source=a.source,a.cleans&&(this.cleans=
a.cleans));return this};m.runAfter=function(a){this.dataflow.runAfter(a)};m.changed=function(a){a=a||7;return a&1&&this.add.length||a&2&&this.rem.length||a&4&&this.mod.length};m.reflow=function(a){if(a)return this.fork(7).reflow();a=this.add.length;var b=this.source&&this.source.length;b&&b!==a&&(this.mod=this.source,a&&this.filter(4,U(this,1)));return this};m.clean=function(a){return arguments.length?(this.cleans=!!a,this):this.cleans};m.modifies=function(a){var c=this.fields||(this.fields={});b.isArray(a)?
a.forEach(function(a){return c[a]=!0}):c[a]=!0;return this};m.modified=function(a,c){var e=this.fields;return(c||this.mod.length)&&e?arguments.length?b.isArray(a)?a.some(function(a){return e[a]}):e[a]:!!e:!1};m.filter=function(a,b){a&1&&(this.addF=B(this.addF,b));a&2&&(this.remF=B(this.remF,b));a&4&&(this.modF=B(this.modF,b));a&16&&(this.srcF=B(this.srcF,b));return this};m.materialize=function(a){a=a||7;a&1&&this.addF&&(this.add=u(this.add,this.addF),this.addF=null);a&2&&this.remF&&(this.rem=u(this.rem,
this.remF),this.remF=null);a&4&&this.modF&&(this.mod=u(this.mod,this.modF),this.modF=null);a&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this};m.visit=function(a,c){var e;if(a&16)return b.visitArray(this.source,this.srcF,c),this;a&1&&b.visitArray(this.add,this.addF,c);a&2&&b.visitArray(this.rem,this.remF,c);a&4&&b.visitArray(this.mod,this.modF,c);a&8&&(e=this.source)&&(a=this.add.length+this.mod.length,a!==e.length&&(a?b.visitArray(e,U(this,5),c):b.visitArray(e,
this.srcF,c)));return this};m=b.inherits(p,R);m.fork=function(a){var b=(new R(this.dataflow)).init(this,a&this.NO_FIELDS);void 0!==a&&(a&b.ADD&&this.visit(b.ADD,function(a){return b.add.push(a)}),a&b.REM&&this.visit(b.REM,function(a){return b.rem.push(a)}),a&b.MOD&&this.visit(b.MOD,function(a){return b.mod.push(a)}));return b};m.changed=function(a){return this.changes&a};m.modified=function(a){var c=this.fields;return c&&this.changes&this.MOD?b.isArray(a)?a.some(function(a){return c[a]}):c[a]:0};
m.filter=function(){b.error("MultiPulse does not support filtering.")};m.materialize=function(){b.error("MultiPulse does not support materialization.")};m.visit=function(a,b){var c=this.pulses,e=c.length,d=0;if(a&this.SOURCE)for(;d<e;++d)c[d].visit(a,b);else for(;d<e;++d)c[d].stamp===this.stamp&&c[d].visit(a,b);return this};var wa={skip:!1,force:!1};m=fa.prototype;m.stamp=function(){return this._clock};m.loader=function(a){return arguments.length?(this._loader=a,this):this._loader};m.locale=function(a){return arguments.length?
(this._locale=a,this):this._locale};m.cleanThreshold=1E4;m.add=function(a,c,e,d){var f=1;a instanceof Z||(a&&a.prototype instanceof Z?a=new a:b.isFunction(a)?a=new Z(null,a):(f=0,a=new Z(a,c)));this.rank(a);f&&(d=e,e=c);e&&this.connect(a,a.parameters(e,d));this.touch(a);return a};m.connect=function(a,b){var c=a.rank,e;var d=0;for(e=b.length;d<e;++d)if(c<b[d].rank){this.rerank(a);break}};m.rank=function(a){a.rank=++this._rank};m.rerank=function(a){for(var c=[a],e,d,f;c.length;)if(this.rank(e=c.pop()),
d=e._targets)for(f=d.length;0<=--f;)c.push(e=d[f]),e===a&&b.error("Cycle detected in dataflow graph.")};m.pulse=function(a,b,c){this.touch(a,c||wa);c=new R(this,this._clock+(this._pulse?0:1));var e=a.pulse&&a.pulse.source||[];c.target=a;this._input[a.id]=b.pulse(c,e);return this};m.touch=function(a,b){b=b||wa;this._pulse?this._enqueue(a):this._touched.add(a);b.skip&&a.skip(!0);return this};m.update=function(a,b,c){c=c||wa;(a.set(b)||c.force)&&this.touch(a,c);return this};m.changeset=M;m.ingest=function(a,
b,c){b=this.parse(b,c);return this.pulse(a,this.changeset().insert(b))};m.parse=function(a,b){var c=this.locale();return d.read(a,b,c.timeParse,c.utcParse)};m.preload=function(a,c,e){var d=this,f,k,v;return $jscomp.asyncExecutePromiseGeneratorProgram(function(n){if(1==n.nextAddress)return f=d,k=f._pending||S(f),k.requests+=1,n.yield(f.request(c,e),2);v=n.yieldResult;f.pulse(a,f.changeset().remove(b.truthy).insert(v.data||[]));k.done();return n.return(v)})};m.request=function(a,b){var c=this,e,f,k,
v;return $jscomp.asyncExecutePromiseGeneratorProgram(function(n){switch(n.nextAddress){case 1:return e=c,f=0,n.setCatchFinallyBlocks(2),n.yield(e.loader().load(a,{context:"dataflow",response:d.responseType(b&&b.type)}),4);case 4:k=n.yieldResult;try{k=e.parse(k,b)}catch(ba){f=-2,e.warn("Data ingestion failed",a,ba)}n.leaveTryBlock(3);break;case 2:v=n.enterCatchBlock(),f=-1,e.warn("Loading failed",a,v);case 3:return n.return({data:k,status:f})}})};m.events=function(a,c,e,d){var f=this,k=D(e,d);e=function(a){a.dataflow=
f;try{k.receive(a)}catch(ba){f.error(ba)}finally{f.run()}};a="string"===typeof a&&"undefined"!==typeof document?document.querySelectorAll(a):b.array(a);d=0;for(var v=a.length;d<v;++d)a[d].addEventListener(c,e);return k};m.on=function(a,b,c,e,d){(a instanceof Z?r:C)(this,a,b,c,e,d);return this};m.evaluate=function(a,c,e){var d=this,f,k,v,n,m,g,h,ea,p,u;return $jscomp.asyncExecutePromiseGeneratorProgram(function(t){switch(t.nextAddress){case 1:f=d;k=[];if(f._pulse)return t.return(ca(f));if(!f._pending){t.jumpTo(2);
break}return t.yield(f._pending,2);case 2:if(!c){t.jumpTo(4);break}return t.yield(l(f,c),4);case 4:if(!f._touched.length)return f.debug("Dataflow invoked, but nothing to do."),t.return(f);v=++f._clock;f._pulse=new R(f,v,a);f._touched.forEach(function(a){return f._enqueue(a,!0)});f._touched=y(b.id);n=0;t.setCatchFinallyBlocks(6);case 8:if(!(0<f._heap.size())){t.leaveTryBlock(7);break}m=f._heap.pop();if(m.rank!==m.qrank){f._enqueue(m,!0);t.jumpTo(8);break}g=m.run(f._getPulse(m,a));if(!g.then){g.async&&
(k.push(g.async),g=Wa);t.jumpTo(10);break}return t.yield(g,11);case 11:g=t.yieldResult;case 10:g!==Wa&&m._targets&&m._targets.forEach(function(a){return f._enqueue(a)});++n;t.jumpTo(8);break;case 6:ea=t.enterCatchBlock(),f._heap.clear(),h=ea;case 7:f._input={};f._pulse=null;f.debug("Pulse "+v+": "+n+" operators");h&&(f._postrun=[],f.error(h));if(!f._postrun.length){t.jumpTo(12);break}p=f._postrun.sort(function(a,b){return b.priority-a.priority});f._postrun=[];u=0;case 13:if(!(u<p.length)){t.jumpTo(12);
break}return t.yield(l(f,p[u].callback),14);case 14:++u;t.jumpTo(13);break;case 12:if(!e){t.jumpTo(17);break}return t.yield(l(f,e),17);case 17:return k.length&&Promise.all(k).then(function(a){return f.runAsync(null,function(){a.forEach(function(a){try{a(f)}catch(Xa){f.error(Xa)}})})}),t.return(f)}})};m.run=function(a,b,c){return this._pulse?ca(this):(this.evaluate(a,b,c),this)};m.runAsync=function(a,b,c){var e=this,d;return $jscomp.asyncExecutePromiseGeneratorProgram(function(k){if(1==k.nextAddress)return e._running?
k.yield(e._running,1):k.jumpTo(3);d=function(){return e._running=null};(e._running=e.evaluate(a,b,c)).then(d,d);return k.return(e._running)})};m.runAfter=function(a,b,c){if(this._pulse||b)this._postrun.push({priority:c||0,callback:a});else try{a(this)}catch(Oa){this.error(Oa)}};m._enqueue=function(a,b){var c=a.stamp<this._clock;c&&(a.stamp=this._clock);if(c||b)a.qrank=a.rank,this._heap.push(a)};m._getPulse=function(a,c){var e=a.source,d=this._clock;return e&&b.isArray(e)?new p(this,d,e.map(function(a){return a.pulse}),
c):this._input[a.id]||h(this._pulse,e&&e.pulse)};m.logger=function(a){return arguments.length?(this._log=a,this):this._log};m.error=qa("error");m.warn=qa("warn");m.info=qa("info");m.debug=qa("debug");m.logLevel=qa("level");m=b.inherits(ua,Z);m.run=function(a){var b=this;if(a.stamp<this.stamp)return a.StopPropagation;var c;this.skip()?this.skip(!1):c=this.evaluate(a);c=c||a;c.then?c=c.then(function(a){return b.pulse=a}):c!==a.StopPropagation&&(this.pulse=c);return c};m.evaluate=function(a){var b=this.marshall(a.stamp);
a=this.transform(b,a);b.clear();return a};m.transform=function(){};var Va={};a.Dataflow=fa;a.EventStream=x;a.MultiPulse=p;a.Operator=Z;a.Parameters=N;a.Pulse=R;a.Transform=ua;a.UniqueList=y;a.asyncCallback=l;a.changeset=M;a.definition=function(a){return(a=f(a))&&a.Definition||null};a.derive=function(a){return z(a,P({}))};a.ingest=P;a.isChangeSet=W;a.isTuple=function(a){return!(!a||!a[c])};a.rederive=z;a.replace=function(a,b){b[c]=a[c];return b};a.stableCompare=function(a,b){return a?b?function(e,
d){return a(e,d)||b(e)[c]-b(d)[c]}:function(b,e){return a(b,e)||b[c]-e[c]}:null};a.transform=f;a.transforms=Va;a.tupleid=function(a){return a[c]};Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[15]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z,y(3)):"function"===typeof define&&define.amd?define(["exports","d3-array"],b):(a=a||self,b(a.vega={},a.d3))})(this,function(a,b){function d(a,b){var c,e,f,g,h,p;return $jscomp.generator.createGenerator(d,function(d){switch(d.nextAddress){case 1:if(null==b){d.jumpTo(2);break}c=-1;e=$jscomp.makeIterator(a);f=e.next();case 4:if(f.done){d.jumpTo(0);break}g=f.value;g=b(g,++c,a);if(!(null!=g&&""!==g&&(g=
+g)>=g)){d.jumpTo(5);break}return d.yield(g,5);case 5:f=e.next();d.jumpTo(4);break;case 2:h=$jscomp.makeIterator(a),f=h.next();case 9:if(f.done){d.jumpTo(0);break}p=f.value;if(!(null!=p&&""!==p&&(p=+p)>=p)){d.jumpTo(10);break}return d.yield(p,10);case 10:f=h.next(),d.jumpTo(9)}})}function w(a,f,m){var c=Float64Array.from(d(a,m));c.sort(b.ascending);return f.map(function(a){return b.quantileSorted(c,a)})}function y(a,b){return w(a,[.25,.5,.75],b)}function l(a,d){var c=a.length,e=b.deviation(a,d);a=
y(a,d);e=Math.min(e,(a[2]-a[0])/1.34)||e||Math.abs(a[0])||1;return 1.06*e*Math.pow(c,-.2)}function P(a,b){for(var c=a.length,e=0,d=1,f,g;a[e]===a[d];)++d;for(;d<c;){for(f=d+1;a[d]===a[f];)++f;if(a[d]-a[d-1]<b){for(g=d+(e+f-d-d>>1);g<d;)a[g++]=a[d];for(;g>d;)a[g--]=a[e]}e=d;d=f}return a}function z(b,d){b=b||0;d=null==d?1:d;if(ua===ua){var c=ua;ua=NaN}else{do{c=2*a.random()-1;var e=2*a.random()-1;var f=c*c+e*e}while(0===f||1<f);f=Math.sqrt(-2*Math.log(f)/f);c*=f;ua=e*f}return b+c*d}function W(a,b,d){d=
null==d?1:d;a=(a-(b||0))/d;return Math.exp(-.5*a*a)/(d*fa)}function M(a,b,d){a=(a-(b||0))/(null==d?1:d);b=Math.abs(a);37<b?b=0:(d=Math.exp(-b*b/2),b=7.07106781186547>b?d*((((((.0352624965998911*b+.700383064443688)*b+6.37396220353165)*b+33.912866078383)*b+112.079291497871)*b+221.213596169931)*b+220.206867912376)/(((((((.0883883476483184*b+1.75566716318264)*b+16.064177579207)*b+86.7807322029461)*b+296.564248779674)*b+637.333633378831)*b+793.826512519948)*b+440.413735824752):d/(b+1/(b+2/(b+3/(b+4/(b+
.65)))))/2.506628274631);return 0<a?1-b:b}function N(a,b,d){if(0>a||1<a)return NaN;a=2*a-1;var c=-Math.log((1-a)*(1+a));6.25>c?(c-=3.125,c=1.6536545626831027+(.24015818242558962+(-.006033670871430149+(-7.40702534166267E-4+(1.8673420803405714E-4+(-1.3882523362786469E-5+(-1.3654692000834679E-6+(4.2347877827932404E-7+(-2.9070369957882005E-8+(-4.112633980346984E-9+(1.0512122733215323E-9+(-5.415412054294628E-11+(-1.2975133253453532E-11+(2.6335093153082323E-12+(-8.151934197605472E-14+(-4.054566272975207E-14+
(6.637638134358324E-15+(2.0972767875968562E-17+(-1.333171662854621E-16+(1.1157877678025181E-17+(1.28584807152564E-18+(-1.6850591381820166E-19+-3.64441206401782E-21*c)*c)*c)*c)*c)*c)*c)*c)*c)*c)*c)*c)*c)*c)*c)*c)*c)*c)*c)*c)*c)*c):16>c?(c=Math.sqrt(c)-3.25,c=3.0838856104922208+(1.0052589676941592+(.005370914553590064+(-.003751208507569241+(.002491442096107851+(-.0016882755560235047+(9.532893797373805E-4+(-3.550375203628475E-4+(2.4031110387097894E-5+(6.828485145957318E-5+(-4.7318229009055734E-5+(1.2475304481671779E-5+
(2.9234449089955446E-6+(-4.013867526981546E-6+(1.5027403968909828E-6+(1.8239629214389228E-8+(-2.7517406297064545E-7+(9.075656193888539E-8+2.2137376921775787E-9*c)*c)*c)*c)*c)*c)*c)*c)*c)*c)*c)*c)*c)*c)*c)*c)*c)*c):Number.isFinite(c)?(c=Math.sqrt(c)-5,c=4.849906401408584+(1.0103004648645344+(-1.3871931833623122E-4+(-2.1503011930044477E-4+(7.599527703001776E-5+(-1.968177810553167E-5+(4.526062597223154E-6+(-9.9298272942317E-7+(2.2900482228026655E-7+(-6.771199775845234E-8+(2.914795345090108E-8+(-1.496002662714924E-8+
(7.61570120807834E-9+(-3.789465440126737E-9+(1.5076572693500548E-9+(-2.555641816996525E-10+-2.7109920616438573E-11*c)*c)*c)*c)*c)*c)*c)*c)*c)*c)*c)*c)*c)*c)*c)*c):c=Infinity;return(b||0)+(null==d?1:d)*qa*c*a}function Z(a,b){var c,e,d={mean:function(a){return arguments.length?(c=a||0,d):c},stdev:function(a){return arguments.length?(e=null==a?1:a,d):e},sample:function(){return z(c,e)},pdf:function(a){return W(a,c,e)},cdf:function(a){return M(a,c,e)},icdf:function(a){return N(a,c,e)}};return d.mean(a).stdev(b)}
function G(a,b){b=null==b?1:b;return Math.exp((a||0)+z()*b)}function x(a,b,d){if(0>=a)return 0;d=null==d?1:d;b=(Math.log(a)-(b||0))/d;return Math.exp(-.5*b*b)/(d*fa*a)}function D(a,b,d){return M(Math.log(a),b,d)}function S(a,b,d){return Math.exp(N(a,b,d))}function C(b,d){null==d&&(d=null==b?1:b,b=0);return b+(d-b)*a.random()}function r(a,b,d){null==d&&(d=null==b?1:b,b=0);return a>=b&&a<=d?1/(d-b):0}function g(a,b,d){null==d&&(d=null==b?1:b,b=0);return a<b?0:a>d?1:(a-b)/(d-b)}function R(a,b,d){null==
d&&(d=null==b?1:b,b=0);return 0<=a&&1>=a?b+a*(d-b):NaN}function B(a,b,d,e){e-=a*a;d=1E-24>Math.abs(e)?0:(d-a*b)/e;return[b-d*a,d]}function u(a,b,d,e){a=a.filter(function(a){var c=b(a);a=d(a);return null!=c&&(c=+c)>=c&&null!=a&&(a=+a)>=a});e&&a.sort(function(a,c){return b(a)-b(c)});e=a.length;var c=new Float64Array(e),f=new Float64Array(e),g=0,m=0,h=0,p;a=$jscomp.makeIterator(a);for(p=a.next();!p.done;p=a.next()){var u=p.value;c[g]=p=+b(u);f[g]=u=+d(u);++g;m+=(p-m)/g;h+=(u-h)/g}for(g=0;g<e;++g)c[g]-=
m,f[g]-=h;return[c,f,m,h]}function U(a,b,d,e){var c=-1,f;a=$jscomp.makeIterator(a);for(f=a.next();!f.done;f=a.next()){var g=f.value;f=b(g);g=d(g);null!=f&&(f=+f)>=f&&null!=g&&(g=+g)>=g&&e(f,g,++c)}}function p(a,b,d,e,f){var c=0,g=0;U(a,b,d,function(a,b){a=b-f(a);b-=e;c+=a*a;g+=b*b});return 1-c/g}function ca(a,b,d){var c=0,f=0,g=0,m=0,h=0;U(a,b,d,function(a,b){++h;c+=(a-c)/h;f+=(b-f)/h;g+=(a*b-g)/h;m+=(a*a-m)/h});var u=B(c,f,g,m),r=function(a){return u[0]+u[1]*a};return{coef:u,predict:r,rSquared:p(a,
b,d,f,r)}}function h(a,b,d){var c=$jscomp.makeIterator(u(a,b,d)),f=c.next().value,g=c.next().value,m=c.next().value,h=c.next().value,r=f.length,l=c=0,x=0,O=0,C=0,T;for(T=0;T<r;){var t=f[T];var k=g[T++];var v=t*t;c+=(v-c)/T;l+=(v*t-l)/T;x+=(v*v-x)/T;O+=(t*k-O)/T;C+=(v*k-C)/T}f=x-c*c;g=c*f-l*l;var n=(C*c-O*l)/g,ba=(O*f-C*l)/g,sa=-n*c;c=function(a){a-=m;return n*a*a+ba*a+sa+h};return{coef:[sa-ba*m+n*m*m+h,ba-2*n*m,n],predict:c,rSquared:p(a,b,d,h,c)}}function T(a,b,d,e){var c=Array(a),f;for(f=0;f<a;++f)c[f]=
0;for(f=a-1;0<=f;--f){var g=b[f];var m=1;c[f]+=g;for(a=1;a<=f;++a)m*=(f+1-a)/a,c[f-a]+=g*Math.pow(d,a)*m}c[0]+=e;return c}function O(a){var b=a.length-1,c=[],d,f,g;for(d=0;d<b;++d){var h=d;for(f=d+1;f<b;++f)Math.abs(a[d][f])>Math.abs(a[d][h])&&(h=f);for(g=d;g<b+1;++g){var p=a[g][d];a[g][d]=a[g][h];a[g][h]=p}for(f=d+1;f<b;++f)for(g=b;g>=d;g--)a[g][f]-=a[g][d]*a[d][f]/a[d][d]}for(f=b-1;0<=f;--f){p=0;for(g=f+1;g<b;++g)p+=a[g][f]*c[g];c[f]=(a[b][f]-p)/a[f][f]}return c}a.random=Math.random;var fa=Math.sqrt(2*
Math.PI),qa=Math.SQRT2,ua=NaN,f=.1*Math.PI/180;a.bandwidthNRD=l;a.bin=function(a){var b=a.maxbins||20,c=a.base||10,d=Math.log(c),f=a.divide||[5,2],g=a.extent[0],h=a.extent[1],p=a.span||h-g||Math.abs(g)||1,u;if(a.step)var r=a.step;else if(a.steps){var l=p/b;var x=0;for(u=a.steps.length;x<u&&a.steps[x]<l;++x);r=a.steps[Math.max(0,x-1)]}else{r=Math.ceil(Math.log(b)/d);var O=a.minstep||0;for(r=Math.max(O,Math.pow(c,Math.round(Math.log(p)/d)-r));Math.ceil(p/r)>b;)r*=c;x=0;for(u=f.length;x<u;++x)l=r/f[x],
l>=O&&p/l<=b&&(r=l)}l=Math.log(r);b=Math.pow(c,-(0<=l?0:~~(-l/d)+1)-1);if(a.nice||void 0===a.nice)l=Math.floor(g/r+b)*r,g=g<l?l-r:l,h=Math.ceil(h/r)*r;return{start:g,stop:h===g?g+r:h,step:r}};a.bootstrapCI=function(c,f,g,e){if(!c.length)return[void 0,void 0];c=Float64Array.from(d(c,e));e=c.length;var m,h,p;var u=0;for(p=Array(f);u<f;++u){for(h=m=0;h<e;++h)m+=c[~~(a.random()*e)];p[u]=m/e}p.sort(b.ascending);return[b.quantile(p,g/2),b.quantile(p,1-g/2)]};a.cumulativeLogNormal=D;a.cumulativeNormal=M;
a.cumulativeUniform=g;a.densityLogNormal=x;a.densityNormal=W;a.densityUniform=r;a.dotbin=function(a,b,d,e){e=e||function(a){return a};for(var c=0,f=1,g=a.length,m=new Float64Array(g),h=e(a[0]),p=h,u=h+b,r;f<g;++f){r=e(a[f]);if(r>=u){for(p=(h+p)/2;c<f;++c)m[c]=p;u=r+b;h=r}p=r}for(p=(h+p)/2;c<f;++c)m[c]=p;return d?P(m,b+b/4):m};a.quantileLogNormal=S;a.quantileNormal=N;a.quantileUniform=R;a.quantiles=w;a.quartiles=y;a.randomInteger=function(b,d){null==d&&(d=b,b=0);var c={},e,f,g;c.min=function(a){return arguments.length?
(e=a||0,g=f-e,c):e};c.max=function(a){return arguments.length?(f=a||0,g=f-e,c):f};c.sample=function(){return e+Math.floor(g*a.random())};c.pdf=function(a){return a===Math.floor(a)&&a>=e&&a<f?1/g:0};c.cdf=function(a){a=Math.floor(a);return a<e?0:a>=f?1:(a-e+1)/g};c.icdf=function(a){return 0<=a&&1>=a?e-1+Math.floor(a*g):NaN};return c.min(b).max(d)};a.randomKDE=function(b,d){var c=Z(),e={},f=0;e.data=function(a){return arguments.length?(f=(b=a)?a.length:0,e.bandwidth(d)):b};e.bandwidth=function(a){if(!arguments.length)return d;
d=a;!d&&b&&(d=l(b));return e};e.sample=function(){return b[~~(a.random()*f)]+d*c.sample()};e.pdf=function(a){for(var e=0,g=0;g<f;++g)e+=c.pdf((a-b[g])/d);return e/d/f};e.cdf=function(a){for(var e=0,g=0;g<f;++g)e+=c.cdf((a-b[g])/d);return e/f};e.icdf=function(){throw Error("KDE icdf not supported.");};return e.data(b)};a.randomLCG=function(a){return function(){a=(1103515245*a+12345)%2147483647;return a/2147483647}};a.randomLogNormal=function(a,b){var c,d,f={mean:function(a){return arguments.length?
(c=a||0,f):c},stdev:function(a){return arguments.length?(d=null==a?1:a,f):d},sample:function(){return G(c,d)},pdf:function(a){return x(a,c,d)},cdf:function(a){return D(a,c,d)},icdf:function(a){return S(a,c,d)}};return f.mean(a).stdev(b)};a.randomMixture=function(b,d){var c={},e=0,f;c.weights=function(a){if(arguments.length){var b=d=a||[],g=[],h=0,m;for(m=0;m<e;++m)h+=g[m]=null==b[m]?1:+b[m];for(m=0;m<e;++m)g[m]/=h;f=g;return c}return d};c.distributions=function(a){return arguments.length?(a?(e=a.length,
b=a):(e=0,b=[]),c.weights(d)):b};c.sample=function(){for(var c=a.random(),d=b[e-1],g=f[0],h=0;h<e-1;g+=f[++h])if(c<g){d=b[h];break}return d.sample()};c.pdf=function(a){for(var c=0,d=0;d<e;++d)c+=f[d]*b[d].pdf(a);return c};c.cdf=function(a){for(var c=0,d=0;d<e;++d)c+=f[d]*b[d].cdf(a);return c};c.icdf=function(){throw Error("Mixture icdf not supported.");};return c.distributions(b).weights(d)};a.randomNormal=Z;a.randomUniform=function(a,b){var c,d,f={min:function(a){return arguments.length?(c=a||0,
f):c},max:function(a){return arguments.length?(d=null==a?1:a,f):d},sample:function(){return C(c,d)},pdf:function(a){return r(a,c,d)},cdf:function(a){return g(a,c,d)},icdf:function(a){return R(a,c,d)}};null==b&&(b=null==a?1:a,a=0);return f.min(a).max(b)};a.regressionExp=function(a,b,d){var c=$jscomp.makeIterator(u(a,b,d)),f=c.next().value;c.next();var g=c.next().value;c=c.next().value;var h=0,m=0,r=0,l=0,x=0,O,C,T;U(a,b,d,function(a,b){O=f[x++];C=Math.log(b);T=O*b;h+=(b*C-h)/x;m+=(T-m)/x;r+=(T*C-r)/
x;l+=(O*T-l)/x});var t=$jscomp.makeIterator(B(m/c,h/c,r/c,l/c)),k=t.next().value,v=t.next().value;t=function(a){return Math.exp(k+v*(a-g))};return{coef:[Math.exp(k-v*g),v],predict:t,rSquared:p(a,b,d,c,t)}};a.regressionLinear=ca;a.regressionLoess=function(a,d,f,e){f=$jscomp.makeIterator(u(a,d,f,!0));a=f.next().value;var c=f.next().value;d=f.next().value;f=f.next().value;var g=a.length,h=Math.max(2,~~(e*g));e=new Float64Array(g);for(var m=new Float64Array(g),p=(new Float64Array(g)).fill(1),r=-1;2>=
++r;){for(var l=[0,h-1],x=0;x<g;++x){for(var O=a[x],C=l[0],t=l[1],k=0,v=0,n=0,ba=0,sa=0,ya=1/Math.abs(a[O-a[C]>a[t]-O?C:t]-O||1);C<=t;++C){var T=a[C],D=c[C],ca=Math.abs(O-T)*ya,G=(ca=1-ca*ca*ca)*ca*ca*p[C];ca=T*G;k+=G;v+=ca;n+=D*G;ba+=D*ca;sa+=T*ca}k=$jscomp.makeIterator(B(v/k,n/k,ba/k,sa/k));t=k.next().value;k=k.next().value;e[x]=t+k*O;m[x]=Math.abs(c[x]-e[x]);O=x+1;t=a[O];k=l[0];v=l[1]+1;if(!(v>=a.length))for(;O>k&&a[v]-t<=t-a[k];)l[0]=++k,l[1]=v,++v}if(2===r)break;l=b.median(m);if(1E-12>Math.abs(l))break;
x=0;for(t=void 0;x<g;++x)O=m[x]/(6*l),p[x]=1<=O?1E-12:(t=1-O*O)*t}c=a.length;g=[];m=h=0;for(p=[];h<c;++h)r=a[h]+d,p[0]===r?p[1]+=(e[h]-p[1])/++m:(m=0,p[1]+=f,p=[r,e[h]],g.push(p));p[1]+=f;return g};a.regressionLog=function(a,b,d){var c=0,f=0,g=0,h=0,m=0;U(a,b,d,function(a,b){++m;a=Math.log(a);c+=(a-c)/m;f+=(b-f)/m;g+=(a*b-g)/m;h+=(a*a-h)/m});var u=B(c,f,g,h),r=function(a){return u[0]+u[1]*Math.log(a)};return{coef:u,predict:r,rSquared:p(a,b,d,f,r)}};a.regressionPoly=function(a,b,d,e){if(1===e)return ca(a,
b,d);if(2===e)return h(a,b,d);var c=$jscomp.makeIterator(u(a,b,d)),f=c.next().value,g=c.next().value,m=c.next().value,r=c.next().value;c=f.length;var l=[],x=[],C=e+1,D,G,t;for(D=0;D<C;++D){for(t=G=0;G<c;++G)t+=Math.pow(f[G],D)*g[G];l.push(t);var k=new Float64Array(C);for(e=0;e<C;++e){for(t=G=0;G<c;++G)t+=Math.pow(f[G],D+e);k[e]=t}x.push(k)}x.push(l);var v=O(x);f=function(a){a-=m;var b=r+v[0]+v[1]*a+v[2]*a*a;for(D=3;D<C;++D)b+=v[D]*Math.pow(a,D);return b};return{coef:T(C,v,-m,r),predict:f,rSquared:p(a,
b,d,r,f)}};a.regressionPow=function(a,b,d){var c=0,f=0,g=0,h=0,m=0,u=0;U(a,b,d,function(a,b){a=Math.log(a);var d=Math.log(b);++u;c+=(a-c)/u;f+=(d-f)/u;g+=(a*d-g)/u;h+=(a*a-h)/u;m+=(b-m)/u});var r=B(c,f,g,h),l=function(a){return r[0]*Math.pow(a,r[1])};r[0]=Math.exp(r[0]);return{coef:r,predict:l,rSquared:p(a,b,d,m,l)}};a.regressionQuad=h;a.sampleCurve=function(a,b,d,e){d=d||25;e=Math.max(d,e||200);var c=function(b){return[b,a(b)]},g=b[0],h=b[1],m=h-g,p=m/e;b=[c(g)];var u=[];if(d===e){for(p=1;p<e;++p)b.push(c(g+
p/d*m));b.push(c(h));return b}u.push(c(h));for(e=d;0<--e;)u.push(c(g+e/d*m));d=b[0];for(g=u[u.length-1];g;)e=c((d[0]+g[0])/2),e[0]-d[0]>=p&&Math.abs(Math.atan2(g[1]-d[1],g[0]-d[0])-Math.atan2(e[1]-d[1],e[0]-d[0]))>f?u.push(e):(d=g,b.push(g),u.pop()),g=u[u.length-1];return b};a.sampleLogNormal=G;a.sampleNormal=z;a.sampleUniform=C;a.setRandom=function(b){a.random=b};Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[16]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z,y(0),y(14),y(15),y(3),y(6)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-statistics d3-array vega-time".split(" "),b):(a=a||self,b((a.vega=a.vega||{},a.vega.transforms={}),a.vega,a.vega,a.vega,a.d3,a.vega))})(this,function(a,b,d,w,y,l){function P(a){return function(b){for(var c=a.length,d=1,e=String(a[0](b));d<c;++d)e+="|"+a[d](b);return e}}function z(a){return a&&
a.length?1===a.length?a[0]:P(a):function(){return""}}function W(a,c){return function(d){return b.extend({name:a,out:d||a},Mb,c)}}function M(a,b){return a.idx-b.idx}function N(a){var b={};a.forEach(function(a){return b[a.name]=a});var c=function(a){a.req&&a.req.forEach(function(a){b[a]||c(b[a]=ic[a]())})};a.forEach(c);return Object.values(b).sort(M)}function Z(){var a=this;this.missing=this.valid=0;this._ops.forEach(function(b){return b.init(a)})}function G(a,b){var c=this;null==a||""===a?++this.missing:
a===a&&(++this.valid,this._ops.forEach(function(d){return d.add(c,a,b)}))}function x(a,b){var c=this;null==a||""===a?--this.missing:a===a&&(--this.valid,this._ops.forEach(function(d){return d.rem(c,a,b)}))}function D(a){var b=this;this._out.forEach(function(c){return a[c.out]=c.value(b)});return a}function S(a,c){function d(a){this._ops=e;this._out=n;this.cell=a;this.init()}c=c||b.identity;var e=N(a),n=a.slice().sort(M);d.prototype.init=Z;d.prototype.add=G;d.prototype.rem=x;d.prototype.set=D;d.prototype.get=
c;d.fields=a.map(function(a){return a.out});return d}function C(a){this._key=a?b.field(a):d.tupleid;this.reset()}function r(a){d.Transform.call(this,null,a);this._adds=[];this._mods=[];this._mlen=this._alen=0;this._drop=!0;this._cross=!1;this._dims=[];this._dnames=[];this._measures=[];this._countOnly=!1;this._outputs=this._inputs=this._prev=this._counts=null}function g(a){d.Transform.call(this,null,a)}function R(a,c,d){var e=c||[],n=d||[],k={},f=0;return{add:function(a){n.push(a)},remove:function(b){k[a(b)]=
++f},size:function(){return e.length},data:function(c,d){f&&(e=e.filter(function(b){return!k[a(b)]}),k={},f=0);d&&c&&e.sort(c);n.length&&(e=c?b.merge(c,e,n.sort(c)):e.concat(n),n=[]);return e}}}function B(a){d.Transform.call(this,[],a)}function u(a){d.Operator.call(this,null,U,a)}function U(a){return this.value&&!a.modified()?this.value:b.compare(a.fields,a.orders)}function p(a){d.Transform.call(this,null,a)}function ca(a){d.Transform.call(this,null,a)}function h(a,c){var d=a["function"];b.hasOwnProperty(cc,
d)||b.error("Unknown distribution function: "+d);d=cc[d]();for(var e in a)if("field"===e)d.data((a.from||c()).map(a[e]));else if("distributions"===e)d[e](a[e].map(function(a){return h(a,c)}));else if("function"===typeof d[e])d[e](a[e]);return d}function T(a){d.Transform.call(this,null,a)}function O(a){return function(){return a.materialize(a.SOURCE).source}}function fa(a,c){return a?a.map(function(a,d){return c[d]||b.accessorName(a)}):null}function qa(a,b,c){var d=[],e=function(a){return a(v)},n;
if(null==b)d.push(a.map(c));else{var k={};var f=0;for(n=a.length;f<n;++f){var v=a[f];var g=b.map(e);var t=k[g];t||(k[g]=t=[],t.dims=g,d.push(t));t.push(c(v))}}return d}function ua(a){d.Transform.call(this,null,a)}function f(a){d.Operator.call(this,null,c,a);this.modified(!0)}function c(a){var c=a.expr;return this.value&&!a.modified("expr")?this.value:b.accessor(function(b){return c(b,a)},b.accessorFields(c),b.accessorName(c))}function K(a){d.Transform.call(this,[void 0,void 0],a)}function m(a,b){d.Operator.call(this,
a);this.parent=b;this.count=0}function e(a){d.Transform.call(this,{},a);this._keys=b.fastmap();var c=this._targets=[];c.active=0;c.forEach=function(a){for(var b=0,d=c.active;b<d;++b)a(c[b],b,c)}}function ea(a){d.Operator.call(this,null,ka,a)}function ka(a){return this.value&&!a.modified()?this.value:b.isArray(a.name)?b.array(a.name).map(function(a){return b.field(a)}):b.field(a.name,a.as)}function X(a){d.Transform.call(this,b.fastmap(),a)}function la(a){d.Transform.call(this,[],a)}function wa(a){d.Transform.call(this,
[],a)}function Va(a){d.Transform.call(this,null,a)}function E(a){d.Transform.call(this,[],a)}function ib(a){d.Transform.call(this,[],a)}function da(a){var c=a.method||Vc.value;if(null==Vc[c])b.error("Unrecognized imputation method: "+c);else{if(c===Vc.value){var d=void 0!==a.value?a.value:0;return function(){return d}}return Vc[c]}}function Oa(a){var b=a.field;return function(a){return a?b(a):NaN}}function t(a,b,c,d){var e=function(a){return a(h)},n=[];d=d?d.slice():[];var k={},f={},v,g;d.forEach(function(a,
b){k[a]=b+1});var t=0;for(g=a.length;t<g;++t){var h=a[t];var ba=c(h);var Ib=k[ba]||(k[ba]=d.push(ba));var Qc=(ba=b?b.map(e):id)+"";(v=f[Qc])||(v=f[Qc]=[],n.push(v),v.values=ba);v[Ib-1]=h}n.domain=d;return n}function k(a){r.call(this,a)}function v(a){d.Transform.call(this,null,a)}function n(a){d.Operator.call(this,null,ba,a)}function ba(a){return this.value&&!a.modified()?this.value:b.key(a.fields,a.flat)}function sa(a){d.Transform.call(this,[],a);this._pending=null}function ya(a){return a.modified("async")&&
!(a.modified("values")||a.modified("url")||a.modified("format"))}function Ka(a,b,c){c.forEach(d.ingest);b=b.fork(b.NO_FIELDS&b.NO_SOURCE);b.rem=a.value;a.value=b.source=b.add=c;a._pending=null;b.rem.length&&b.clean(!0);return b}function ab(a){d.Transform.call(this,{},a)}function jb(a){d.Operator.call(this,null,db,a)}function db(a){if(this.value&&!a.modified())return this.value;var b=Infinity,c=-Infinity;a=a.extents;var d;var e=0;for(d=a.length;e<d;++e){var n=a[e];n[0]<b&&(b=n[0]);n[1]>c&&(c=n[1])}return[b,
c]}function Ta(a){d.Operator.call(this,null,Ha,a)}function Ha(a){return this.value&&!a.modified()?this.value:a.values.reduce(function(a,b){return a.concat(b)},[])}function Xa(a){d.Transform.call(this,null,a)}function va(a){r.call(this,a)}function Db(a,c){var d=a.field,e=a.value,n=("count"===a.op?"__count__":a.op)||"sum",k=b.accessorFields(d).concat(b.accessorFields(e)),f=Kb(d,a.limit||0,c);c.changed()&&a.set("__pivot__",null,null,!0);return{key:a.key,groupby:a.groupby,ops:f.map(function(){return n}),
fields:f.map(function(a){return Ra(a,d,e,k)}),as:f.map(function(a){return a+""}),modified:a.modified.bind(a)}}function Ra(a,c,d,e){return b.accessor(function(b){return c(b)===a?d(b):NaN},e,a+"")}function Kb(a,b,c){var d={},e=[];c.visit(c.SOURCE,function(b){b=a(b);d[b]||(d[b]=1,e.push(b))});e.sort(function(a,b){return(a<b||null==a)&&null!=b?-1:(a>b||null==b)&&null!=a?1:(b=b instanceof Date?+b:b,a=a instanceof Date?+a:a)!==a&&b===b?-1:b!==b&&a===a?1:0});return b?e.slice(0,b):e}function cb(a){e.call(this,
a)}function wb(a){d.Transform.call(this,null,a)}function zb(a){d.Transform.call(this,null,a)}function Ja(a){d.Transform.call(this,null,a)}function Ya(a){d.Transform.call(this,null,a)}function Xb(a){d.Transform.call(this,[],a);this.count=0}function Yb(a){d.Transform.call(this,null,a)}function bb(a){d.Transform.call(this,null,a);this.modified(!0)}function J(a){d.Transform.call(this,null,a)}function Qb(a){d.Transform.call(this,b.fastmap(),a)}function Pa(a){d.Transform.call(this,null,a)}function qb(a,
c,d,e){var n=Cc[a](c,d);return{init:n.init||b.zero,update:function(a,b){b[e]=n.next(a)}}}function Rb(a){function c(a){b.array(b.accessorFields(a)).forEach(function(a){return g[a]=1})}var d=b.array(a.ops),e=b.array(a.fields),n=b.array(a.params),k=b.array(a.as),f=this.outputs=[],v=this.windows=[],g={},t={},h=!0,ba=[],m=[];c(a.sort);d.forEach(function(a,d){var g=e[d],p=b.accessorName(g),Ib=k[d]||a+(p?"_"+p:"");c(g);f.push(Ib);b.hasOwnProperty(Cc,a)?v.push(qb(a,e[d],n[d],Ib)):(null==g&&"count"!==a&&b.error("Null aggregate field specified."),
"count"===a?ba.push(Ib):(h=!1,d=t[p],d||(d=t[p]=[],d.field=g,m.push(d)),d.push(ic[a](Ib))))});if(ba.length||m.length)this.cell=xb(m,ba,h);this.inputs=Object.keys(g)}function xb(a,b,c){a=a.map(function(a){return S(a,a.field)});var d={num:0,agg:null,store:!1,count:b};if(!c)for(var e=a.length,n=d.agg=Array(e),k=0;k<e;++k)n[k]=new a[k](d);if(d.store)var f=d.data=new C;d.add=function(a){d.num+=1;if(!c){f&&f.add(a);for(var b=0;b<e;++b)n[b].add(n[b].get(a),a)}};d.rem=function(a){--d.num;if(!c){f&&f.rem(a);
for(var b=0;b<e;++b)n[b].rem(n[b].get(a),a)}};d.set=function(a){var e;f&&f.values();var k=0;for(e=b.length;k<e;++k)a[b[k]]=d.num;if(!c)for(k=0,e=n.length;k<e;++k)n[k].set(a)};d.init=function(){d.num=0;f&&f.reset();for(var a=0;a<e;++a)n[a].init()};return d}function fc(a){d.Transform.call(this,{},a);this._mlen=0;this._mods=[]}function Ic(a,c,d,e){var n=e.sort,k=n&&!e.ignorePeers;e=e.frame||[null,0];a=a.data(d);d=a.length;var f=0,v=k?y.bisector(n):null;n={i0:0,i1:0,p0:0,p1:0,index:0,data:a,compare:n||
b.constant(-1)};for(c.init();f<d;++f){var g=n,t=e,h=f,ba=d;g.p0=g.i0;g.p1=g.i1;g.i0=null==t[0]?0:Math.max(0,h-Math.abs(t[0]));g.i1=null==t[1]?ba:Math.min(ba,h+Math.abs(t[1])+1);g.index=h;if(k){g=n;t=v;h=g.i0;ba=g.i1-1;var m=g.compare,p=g.data,Ib=p.length-1;0<h&&!m(p[h],p[h-1])&&(g.i0=t.left(p,p[h]));ba<Ib&&!m(p[ba],p[ba+1])&&(g.i1=t.right(p,p[ba]))}c.update(n,a[f])}}var pc=function(){},Mb={init:pc,add:pc,rem:pc,idx:0},ic={values:{init:function(a){return a.cell.store=!0},value:function(a){return a.cell.data.values()},
idx:-1},count:{value:function(a){return a.cell.num}},__count__:{value:function(a){return a.missing+a.valid}},missing:{value:function(a){return a.missing}},valid:{value:function(a){return a.valid}},sum:{init:function(a){return a.sum=0},value:function(a){return a.sum},add:function(a,b){return a.sum+=+b},rem:function(a,b){return a.sum-=b}},product:{init:function(a){return a.product=1},value:function(a){return a.valid?a.product:void 0},add:function(a,b){return a.product*=b},rem:function(a,b){return a.product/=
b}},mean:{init:function(a){return a.mean=0},value:function(a){return a.valid?a.mean:void 0},add:function(a,b){return a.mean_d=b-a.mean,a.mean+=a.mean_d/a.valid},rem:function(a,b){return a.mean_d=b-a.mean,a.mean-=a.valid?a.mean_d/a.valid:a.mean}},average:{value:function(a){return a.valid?a.mean:void 0},req:["mean"],idx:1},variance:{init:function(a){return a.dev=0},value:function(a){return 1<a.valid?a.dev/(a.valid-1):void 0},add:function(a,b){return a.dev+=a.mean_d*(b-a.mean)},rem:function(a,b){return a.dev-=
a.mean_d*(b-a.mean)},req:["mean"],idx:1},variancep:{value:function(a){return 1<a.valid?a.dev/a.valid:void 0},req:["variance"],idx:2},stdev:{value:function(a){return 1<a.valid?Math.sqrt(a.dev/(a.valid-1)):void 0},req:["variance"],idx:2},stdevp:{value:function(a){return 1<a.valid?Math.sqrt(a.dev/a.valid):void 0},req:["variance"],idx:2},stderr:{value:function(a){return 1<a.valid?Math.sqrt(a.dev/(a.valid*(a.valid-1))):void 0},req:["variance"],idx:2},distinct:{value:function(a){return a.cell.data.distinct(a.get)},
req:["values"],idx:3},ci0:{value:function(a){return a.cell.data.ci0(a.get)},req:["values"],idx:3},ci1:{value:function(a){return a.cell.data.ci1(a.get)},req:["values"],idx:3},median:{value:function(a){return a.cell.data.q2(a.get)},req:["values"],idx:3},q1:{value:function(a){return a.cell.data.q1(a.get)},req:["values"],idx:3},q3:{value:function(a){return a.cell.data.q3(a.get)},req:["values"],idx:3},min:{init:function(a){return a.min=void 0},value:function(a){return a.min=Number.isNaN(a.min)?a.cell.data.min(a.get):
a.min},add:function(a,b){if(b<a.min||void 0===a.min)a.min=b},rem:function(a,b){b<=a.min&&(a.min=NaN)},req:["values"],idx:4},max:{init:function(a){return a.max=void 0},value:function(a){return a.max=Number.isNaN(a.max)?a.cell.data.max(a.get):a.max},add:function(a,b){if(b>a.max||void 0===a.max)a.max=b},rem:function(a,b){b>=a.max&&(a.max=NaN)},req:["values"],idx:4},argmin:{init:function(a){return a.argmin=void 0},value:function(a){return a.argmin||a.cell.data.argmin(a.get)},add:function(a,b,c){b<a.min&&
(a.argmin=c)},rem:function(a,b){b<=a.min&&(a.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:function(a){return a.argmax=void 0},value:function(a){return a.argmax||a.cell.data.argmax(a.get)},add:function(a,b,c){b>a.max&&(a.argmax=c)},rem:function(a,b){b>=a.max&&(a.argmax=void 0)},req:["max","values"],idx:3}},Lb=Object.keys(ic);Lb.forEach(function(a){ic[a]=W(a,ic[a])});var pb=C.prototype;pb.reset=function(){this._add=[];this._rem=[];this._q=this._get=this._ext=null};pb.add=function(a){this._add.push(a)};
pb.rem=function(a){this._rem.push(a)};pb.values=function(){this._get=null;if(0===this._rem.length)return this._add;var a=this._add,b=this._rem,c=this._key,d=a.length,e=b.length,n=Array(d-e),k={},f,v;for(f=0;f<e;++f)k[c(b[f])]=1;for(b=f=0;f<d;++f)k[c(v=a[f])]?k[c(v)]=0:n[b++]=v;this._rem=[];return this._add=n};pb.distinct=function(a){for(var c=this.values(),d=c.length,e={},n=0,k;0<=--d;)k=a(c[d])+"",b.hasOwnProperty(e,k)||(e[k]=1,++n);return n};pb.extent=function(a){if(this._get!==a||!this._ext){var c=
this.values(),d=b.extentIndex(c,a);this._ext=[c[d[0]],c[d[1]]];this._get=a}return this._ext};pb.argmin=function(a){return this.extent(a)[0]||{}};pb.argmax=function(a){return this.extent(a)[1]||{}};pb.min=function(a){var b=this.extent(a)[0];return null!=b?a(b):void 0};pb.max=function(a){var b=this.extent(a)[1];return null!=b?a(b):void 0};pb.quartile=function(a){this._get===a&&this._q||(this._q=w.quartiles(this.values(),a),this._get=a);return this._q};pb.q1=function(a){return this.quartile(a)[0]};pb.q2=
function(a){return this.quartile(a)[1]};pb.q3=function(a){return this.quartile(a)[2]};pb.ci=function(a){this._get===a&&this._ci||(this._ci=w.bootstrapCI(this.values(),1E3,.05,a),this._get=a);return this._ci};pb.ci0=function(a){return this.ci(a)[0]};pb.ci1=function(a){return this.ci(a)[1]};r.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Lb},{name:"fields",type:"field","null":!0,array:!0},{name:"as",
type:"string","null":!0,array:!0},{name:"drop",type:"boolean","default":!0},{name:"cross",type:"boolean","default":!1},{name:"key",type:"field"}]};var Ub=b.inherits(r,d.Transform);Ub.transform=function(a,b){var c=this,d=this,e=b.fork(b.NO_SOURCE|b.NO_FIELDS),n=a.modified();d.stamp=e.stamp;d.value&&(n||b.modified(d._inputs,!0))?(d._prev=d.value,d.value=n?d.init(a):{},b.visit(b.SOURCE,function(a){return d.add(a)})):(d.value=d.value||d.init(a),b.visit(b.REM,function(a){return d.rem(a)}),b.visit(b.ADD,
function(a){return d.add(a)}));e.modifies(d._outputs);d._drop=!1!==a.drop;a.cross&&1<d._dims.length&&(d._drop=!1,d.cross());b.clean()&&d._drop&&e.clean(!0).runAfter(function(){return c.clean()});return d.changes(e)};Ub.cross=function(){function a(a){var b,d,c;for(b in a){var f=a[b].tuple;for(d=0;d<k;++d)n[d][c=f[e[d]]]=c}}function b(a,f,v){var g=e[v],t=n[v++],h;for(h in t){f[g]=t[h];var ba=a?a+"|"+h:h;v<k?b(ba,f,v):c[ba]||d.cell(ba,f)}}var d=this,c=d.value,e=d._dnames,n=e.map(function(){return{}}),
k=e.length;a(d._prev);a(c);b("",{},0)};Ub.init=function(a){function d(a){a=b.array(b.accessorFields(a));for(var d=0,e=a.length,k;d<e;++d)n[k=a[d]]||(n[k]=1,c.push(k))}var c=this._inputs=[],e=this._outputs=[],n={};this._dims=b.array(a.groupby);this._dnames=this._dims.map(function(a){var c=b.accessorName(a);d(a);e.push(c);return c});this.cellkey=a.key?a.key:z(this._dims);this._countOnly=!0;this._counts=[];this._measures=[];var k=a.fields||[null],f=a.ops||["count"];a=a.as||[];var v=k.length,g={},t;v!==
f.length&&b.error("Unmatched number of fields and aggregate ops.");for(t=0;t<v;++t){var h=k[t];var ba=f[t];null==h&&"count"!==ba&&b.error("Null aggregate field specified.");var p=b.accessorName(h);var m=a[t]||ba+(p?"_"+p:"");e.push(m);if("count"===ba)this._counts.push(m);else{var u=g[p];u||(d(h),u=g[p]=[],u.field=h,this._measures.push(u));"count"!==ba&&(this._countOnly=!1);u.push(ic[ba](m))}}this._measures=this._measures.map(function(a){return S(a,a.field)});return{}};Ub.cellkey=z();Ub.cell=function(a,
b){var d=this.value[a];d?0===d.num&&this._drop&&d.stamp<this.stamp?(d.stamp=this.stamp,this._adds[this._alen++]=d):d.stamp<this.stamp&&(d.stamp=this.stamp,this._mods[this._mlen++]=d):(d=this.value[a]=this.newcell(a,b),this._adds[this._alen++]=d);return d};Ub.newcell=function(a,b){a={key:a,num:0,agg:null,tuple:this.newtuple(b,this._prev&&this._prev[a]),stamp:this.stamp,store:!1};if(!this._countOnly){b=this._measures;var d=b.length,c;a.agg=Array(d);for(c=0;c<d;++c)a.agg[c]=new b[c](a)}a.store&&(a.data=
new C);return a};Ub.newtuple=function(a,b){var c=this._dnames,e=this._dims,n={},k;var f=0;for(k=e.length;f<k;++f)n[c[f]]=e[f](a);return b?d.replace(b.tuple,n):d.ingest(n)};Ub.clean=function(){var a=this.value,b;for(b in a)0===a[b].num&&delete a[b]};Ub.add=function(a){var b=this.cellkey(a);b=this.cell(b,a);var d;b.num+=1;if(!this._countOnly){b.store&&b.data.add(a);b=b.agg;var c=0;for(d=b.length;c<d;++c)b[c].add(b[c].get(a),a)}};Ub.rem=function(a){var b=this.cellkey(a);b=this.cell(b,a);var d;--b.num;
if(!this._countOnly){b.store&&b.data.rem(a);b=b.agg;var c=0;for(d=b.length;c<d;++c)b[c].rem(b[c].get(a),a)}};Ub.celltuple=function(a){var b=a.tuple,d=this._counts,c;a.store&&a.data.values();var e=0;for(c=d.length;e<c;++e)b[d[e]]=a.num;if(!this._countOnly)for(a=a.agg,e=0,c=a.length;e<c;++e)a[e].set(b);return b};Ub.changes=function(a){var b=this._adds,d=this._mods,c=this._prev,e=this._drop,n=a.add,k=a.rem,f=a.mod,v;if(c)for(v in c){var g=c[v];e&&!g.num||k.push(g.tuple)}c=0;for(v=this._alen;c<v;++c)n.push(this.celltuple(b[c])),
b[c]=null;c=0;for(v=this._mlen;c<v;++c)g=d[c],(0===g.num&&e?k:f).push(this.celltuple(g)),d[c]=null;this._alen=this._mlen=0;this._prev=null;return a};g.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number","default":20},{name:"base",type:"number","default":10},{name:"divide",type:"number",array:!0,"default":[5,2]},{name:"extent",type:"number",array:!0,length:2,
required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number","default":0},{name:"nice",type:"boolean","default":!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,"default":["bin0","bin1"]}]};var ma=b.inherits(g,d.Transform);ma.transform=function(a,d){var c=!1!==a.interval,e=this._bins(a),n=e.start,k=e.step,f=a.as||["bin0","bin1"],v=f[0],g=f[1];a.modified()?(d=d.reflow(!0),a=d.SOURCE):a=d.modified(b.accessorFields(a.field))?
d.ADD_MOD:d.ADD;d.visit(a,c?function(a){var b=e(a);a[v]=b;a[g]=null==b?null:n+k*(1+(b-n)/k)}:function(a){a[v]=e(a)});return d.modifies(c?f:v)};ma._bins=function(a){if(this.value&&!a.modified())return this.value;var d=a.field,c=w.bin(a),e=c.step,n=c.start,k=n+Math.ceil((c.stop-n)/e)*e,f;null!=(f=a.anchor)&&(f-=n+e*Math.floor((f-n)/e),n+=f,k+=f);f=function(a){a=b.toNumber(d(a));return null==a?null:a<n?-Infinity:a>k?Infinity:(a=Math.max(n,Math.min(a,k-e)),n+e*Math.floor(1E-14+(a-n)/e))};f.start=n;f.stop=
c.stop;f.step=e;return this.value=b.accessor(f,b.accessorFields(d),a.name||"bin_"+b.accessorName(d))};B.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};b.inherits(B,d.Transform).transform=function(a,b){var c=b.fork(b.ALL),e=R(d.tupleid,this.value,c.materialize(c.ADD).add),n=a.sort;a=b.changed()||n&&(a.modified("sort")||b.modified(n.fields));c.visit(c.REM,e.remove);this.modified(a);this.value=c.source=e.data(d.stableCompare(n),a);b.source&&b.source.root&&(this.value.root=
b.source.root);return c};b.inherits(u,d.Operator);p.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],"default":"mixed"},{name:"pattern",type:"string","default":'[\\w"]+'},{name:"stopwords",type:"string","default":""},{name:"as",type:"string",array:!0,length:2,"default":["text","count"]}]};var qc=b.inherits(p,d.Transform);qc.transform=function(a,b){function d(b){return function(d){d=
f(d);var c=n;switch(a.case){case "upper":d=d.toUpperCase();break;case "lower":d=d.toLowerCase()}d=d.match(c)||[];var e;c=0;for(var v=d.length;c<v;++c)k.test(e=d[c])||b(e)}}var c=this._parameterCheck(a,b),e=this._counts,n=this._match,k=this._stop,f=a.field,v=a.as||["text","count"],g=d(function(a){e[a]=1+(e[a]||0)}),t=d(function(a){--e[a]});c?b.visit(b.SOURCE,g):(b.visit(b.ADD,g),b.visit(b.REM,t));return this._finish(b,v)};qc._parameterCheck=function(a,b){var d=!1;if(a.modified("stopwords")||!this._stop)this._stop=
new RegExp("^"+(a.stopwords||"")+"$","i"),d=!0;if(a.modified("pattern")||!this._match)this._match=new RegExp(a.pattern||"[\\w']+","g"),d=!0;if(a.modified("field")||b.modified(a.field.fields))d=!0;d&&(this._counts={});return d};qc._finish=function(a,b){var c=this._counts,e=this._tuples||(this._tuples={}),n=b[0],k=b[1];a=a.fork(a.NO_SOURCE|a.NO_FIELDS);var f;for(f in c){var v=e[f];var g=c[f]||0;!v&&g?(e[f]=v=d.ingest({}),v[n]=f,v[k]=g,a.add.push(v)):0===g?(v&&a.rem.push(v),c[f]=null,e[f]=null):v[k]!==
g&&(v[k]=g,a.mod.push(v))}return a.modifies(b)};ca.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,"default":["a","b"]}]};b.inherits(ca,d.Transform).transform=function(a,c){var e=c.fork(c.NO_SOURCE),n=this.value,k=a.as||["a","b"],f=k[0],v=k[1];if(!n||c.changed(c.ADD_REM)||a.modified("as")||a.modified("filter")){n&&(e.rem=n);c=n=c.materialize(c.SOURCE).source;a=a.filter||b.truthy;n=[];for(var g={},t=c.length,h=0,ba,p;h<
t;++h)for(g[f]=p=c[h],ba=0;ba<t;++ba)g[v]=c[ba],a(g)&&(n.push(d.ingest(g)),g={},g[f]=p);e.add=this.value=n}else e.mod=n;e.source=this.value;return e.modifies(k)};var cc={kde:w.randomKDE,mixture:w.randomMixture,normal:w.randomNormal,lognormal:w.randomLogNormal,uniform:w.randomUniform},Sc=[{key:{"function":"normal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"lognormal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number",
"default":1}]},{key:{"function":"uniform"},params:[{name:"min",type:"number","default":0},{name:"max",type:"number","default":1}]},{key:{"function":"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number","default":0}]}];T.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},
{name:"method",type:"string","default":"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:Sc.concat({key:{"function":"mixture"},params:[{name:"distributions",type:"param",array:!0,params:Sc},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,"default":["value","density"]}]};b.inherits(T,d.Transform).transform=function(a,c){var e=c.fork(c.NO_SOURCE|c.NO_FIELDS);if(!this.value||c.changed()||a.modified()){var n=h(a.distribution,O(c));c=a.steps||a.minsteps||
25;var k=a.steps||a.maxsteps||200,f=a.method||"pdf";"pdf"!==f&&"cdf"!==f&&b.error("Invalid density method: "+f);a.extent||n.data||b.error("Missing density extent parameter.");f=n[f];var v=a.as||["value","density"];a=a.extent||b.extent(n.data());a=w.sampleCurve(f,a,c,k).map(function(a){var b={};b[v[0]]=a[0];b[v[1]]=a[1];return d.ingest(b)});this.value&&(e.rem=this.value);this.value=e.add=e.source=a}return e};ua.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},
{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean","default":!1},{name:"as",type:"string","default":"bin"}]};b.inherits(ua,d.Transform).transform=function(a,c){if(this.value&&!a.modified()&&!c.changed())return c;var e=c.materialize(c.SOURCE).source,n=qa(c.source,a.groupby,b.identity),f=a.smooth||!1,k=a.field;e=a.step||b.span(b.extent(e,k))/30;var v=d.stableCompare(function(a,b){return k(a)-k(b)});a=a.as||"bin";for(var g=n.length,t=Infinity,h=-Infinity,
ba=0,p;ba<g;++ba){var m=n[ba].sort(v);p=-1;for(var u=$jscomp.makeIterator(w.dotbin(m,e,f,k)),sa=u.next();!sa.done;sa=u.next())sa=sa.value,sa<t&&(t=sa),sa>h&&(h=sa),m[++p][a]=sa}this.value={start:t,stop:h,step:e};return c.reflow(!0).modifies(a)};b.inherits(f,d.Operator);K.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};b.inherits(K,d.Transform).transform=function(a,c){var d=this.value,e=a.field,n=d[0],k=d[1];if((a=c.changed()||c.modified(e.fields)||a.modified("field"))||
null==n)n=Infinity,k=-Infinity;c.visit(a?c.SOURCE:c.ADD,function(a){a=b.toNumber(e(a));null!=a&&(a<n&&(n=a),a>k&&(k=a))});Number.isFinite(n)&&Number.isFinite(k)||((a=b.accessorName(e))&&(a=' for field "'+a+'"'),c.dataflow.warn("Infinite extent"+a+": ["+n+", "+k+"]"),n=k=void 0);this.value=[n,k]};var gc=b.inherits(m,d.Operator);gc.connect=function(a){this.detachSubflow=a.detachSubflow;this.targets().add(a);return a.source=this};gc.add=function(a){this.count+=1;this.value.add.push(a)};gc.rem=function(a){--this.count;
this.value.rem.push(a)};gc.mod=function(a){this.value.mod.push(a)};gc.init=function(a){this.value.init(a,a.NO_SOURCE)};gc.evaluate=function(){return this.value};var sc=b.inherits(e,d.Transform);sc.activate=function(a){this._targets[this._targets.active++]=a};sc.subflow=function(a,c,d,e){var n=this.value,k=b.hasOwnProperty(n,a)&&n[a];if(k)k.value.stamp<d.stamp&&(k.init(d),this.activate(k));else{var f=e||(f=this._group[a])&&f.tuple;e=d.dataflow;k=new m(d.fork(d.NO_SOURCE),this);e.add(k).connect(c(e,
a,f));n[a]=k;this.activate(k)}return k};sc.clean=function(){var a=this.value,b;for(b in a)if(0===a[b].count){var c=a[b].detachSubflow;c&&c();delete a[b]}};sc.initTargets=function(){for(var a=this._targets,b=a.length,c=0;c<b&&null!=a[c];++c)a[c]=null;a.active=0};sc.transform=function(a,b){var c=this,e=b.dataflow,n=a.key,k=a.subflow,f=this._keys,v=a.modified("key"),g=function(a){return c.subflow(a,k,b)};this._group=a.group||{};this.initTargets();b.visit(b.REM,function(a){var b=d.tupleid(a),c=f.get(b);
void 0!==c&&(f.delete(b),g(c).rem(a))});b.visit(b.ADD,function(a){var b=n(a);f.set(d.tupleid(a),b);g(b).add(a)});v||b.modified(n.fields)?b.visit(b.MOD,function(a){var b=d.tupleid(a),c=f.get(b),e=n(a);c===e?g(e).mod(a):(f.set(b,e),g(c).rem(a),g(e).add(a))}):b.changed(b.MOD)&&b.visit(b.MOD,function(a){g(f.get(d.tupleid(a))).mod(a)});v&&b.visit(b.REFLOW,function(a){var b=d.tupleid(a),c=f.get(b),e=n(a);c!==e&&(f.set(b,e),g(c).rem(a),g(e).add(a))});b.clean()?e.runAfter(function(){c.clean();f.clean()}):
f.empty>e.cleanThreshold&&e.runAfter(f.clean);return b};b.inherits(ea,d.Operator);X.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};b.inherits(X,d.Transform).transform=function(a,b){function c(b){var c=d.tupleid(b),e=t(b,a),k=n.get(c);e&&k?(n.delete(c),f.push(b)):e||k?h&&e&&!k&&g.push(b):(n.set(c,1),v.push(b))}var e=b.dataflow,n=this.value,k=b.fork(),f=k.add,v=k.rem,g=k.mod,t=a.expr,h=!0;b.visit(b.REM,function(a){var b=d.tupleid(a);n.has(b)?n.delete(b):
v.push(a)});b.visit(b.ADD,function(b){t(b,a)?f.push(b):n.set(d.tupleid(b),1)});b.visit(b.MOD,c);a.modified()&&(h=!1,b.visit(b.REFLOW,c));n.empty>e.cleanThreshold&&e.runAfter(n.clean);return k};la.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};b.inherits(la,d.Transform).transform=function(a,b){var c=b.fork(b.NO_SOURCE),e=a.fields,n=fa(e,a.as||[]),k=a.index||null,f=n.length;
c.rem=this.value;b.visit(b.SOURCE,function(a){for(var b=e.map(function(b){return b(a)}),v=b.reduce(function(a,b){return Math.max(a,b.length)},0),g=0,t,h,ba;g<v;++g){h=d.derive(a);for(t=0;t<f;++t)h[n[t]]=null==(ba=b[t][g])?null:ba;k&&(h[k]=g);c.add.push(h)}});this.value=c.source=c.add;k&&c.modifies(k);return c.modifies(n)};wa.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,"default":["key","value"]}]};
b.inherits(wa,d.Transform).transform=function(a,c){var e=c.fork(c.NO_SOURCE),n=a.fields,k=n.map(b.accessorName);a=a.as||["key","value"];var f=a[0],v=a[1],g=n.length;e.rem=this.value;c.visit(c.SOURCE,function(a){for(var b=0,c;b<g;++b)c=d.derive(a),c[f]=k[b],c[v]=n[b](a),e.add.push(c)});this.value=e.source=e.add;return e.modifies(a)};Va.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};
b.inherits(Va,d.Transform).transform=function(a,b){var c=a.expr,d=a.as,e=a.modified(),n=a.initonly?b.ADD:e?b.SOURCE:b.modified(c.fields)||b.modified(d)?b.ADD_MOD:b.ADD;e&&(b=b.materialize().reflow(!0));a.initonly||b.modifies(d);return b.visit(n,function(b){return b[d]=c(b,a)})};b.inherits(E,d.Transform).transform=function(a,b){var c=this.value;b=b.fork(b.ALL);var e=a.size-c.length,n=a.generator,k,f;if(0<e){for(k=[];0<=--e;)k.push(f=d.ingest(n(a))),c.push(f);b.add=b.add.length?b.materialize(b.ADD).add.concat(k):
k}else a=c.slice(0,-e),b.rem=b.rem.length?b.materialize(b.REM).rem.concat(a):a,c=c.slice(-e);b.source=this.value=c;return b};var Vc={value:"value",median:y.median,mean:y.mean,min:y.min,max:y.max},id=[];ib.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum","default":"value",values:["value","mean","median","max","min"]},{name:"value",
"default":0}]};b.inherits(ib,d.Transform).transform=function(a,c){var e=c.fork(c.ALL),n=da(a),k=Oa(a),f=b.accessorName(a.field),v=b.accessorName(a.key),g=(a.groupby||[]).map(b.accessorName);a=t(c.source,a.groupby,a.key,a.keyvals);c=[];var h=this.value,ba=a.domain.length,p,m,u;var sa=0;for(m=a.length;sa<m;++sa){var r=a[sa];var l=r.values;var x=NaN;for(p=0;p<ba;++p)if(null==r[p]){var ea=a.domain[p];var O={_impute:!0};var C=0;for(u=l.length;C<u;++C)O[g[C]]=l[C];O[v]=ea;O[f]=Number.isNaN(x)?x=n(r,k):
x;c.push(d.ingest(O))}}c.length&&(e.add=e.materialize(e.ADD).add.concat(c));h.length&&(e.rem=e.materialize(e.REM).rem.concat(h));this.value=c;return e};k.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"ops",type:"enum",array:!0,values:Lb},{name:"as",type:"string","null":!0,array:!0},{name:"key",type:"field"}]};var yc=b.inherits(k,r);yc.transform=function(a,c){var d=this,e=a.modified();if(d.value&&
(e||c.modified(d._inputs,!0))){var n=d.value=e?d.init(a):{};c.visit(c.SOURCE,function(a){d.add(a)})}else n=d.value=d.value||this.init(a),c.visit(c.REM,function(a){d.rem(a)}),c.visit(c.ADD,function(a){d.add(a)});d.changes();c.visit(c.SOURCE,function(a){b.extend(a,n[d.cellkey(a)].tuple)});return c.reflow(e).modifies(this._outputs)};yc.changes=function(){var a=this._adds,b=this._mods,c;var d=0;for(c=this._alen;d<c;++d)this.celltuple(a[d]),a[d]=null;d=0;for(c=this._mlen;d<c;++d)this.celltuple(b[d]),b[d]=
null;this._alen=this._mlen=0};v.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean","default":!1},{name:"counts",type:"boolean","default":!1},{name:"bandwidth",type:"number","default":0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},
{name:"maxsteps",type:"number","default":200},{name:"as",type:"string",array:!0,"default":["value","density"]}]};b.inherits(v,d.Transform).transform=function(a,c){var e=c.fork(c.NO_SOURCE|c.NO_FIELDS);if(!this.value||c.changed()||a.modified()){c=c.materialize(c.SOURCE).source;var n=qa(c,a.groupby,a.field),k=(a.groupby||[]).map(b.accessorName),f=a.bandwidth,v=a.cumulative?"cdf":"pdf",g=a.as||["value","density"],t=[],h=a.extent,ba=a.steps||a.minsteps||25,p=a.steps||a.maxsteps||200;"pdf"!==v&&"cdf"!==
v&&b.error("Invalid density method: "+v);"shared"===a.resolve&&(h||(h=b.extent(c,a.field)),ba=p=a.steps||p);n.forEach(function(c){var e=w.randomKDE(c,f)[v],n=a.counts?c.length:1,m=h||b.extent(c);w.sampleCurve(e,m,ba,p).forEach(function(a){for(var b={},e=0;e<k.length;++e)b[k[e]]=c.dims[e];b[g[0]]=a[0];b[g[1]]=a[1]*n;t.push(d.ingest(b))})});this.value&&(e.rem=this.value);this.value=e.add=e.source=t}return e};b.inherits(n,d.Operator);b.inherits(sa,d.Transform).transform=function(a,c){var d=this,e=c.dataflow;
return this._pending?Ka(this,c,this._pending):ya(a)?c.StopPropagation:a.values?Ka(this,c,e.parse(a.values,a.format)):a.async?{async:e.request(a.url,a.format).then(function(a){d._pending=b.array(a.data);return function(a){return a.touch(d)}})}:e.request(a.url,a.format).then(function(a){return Ka(d,c,b.array(a.data))})};ab.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",
type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default","default":null}]};b.inherits(ab,d.Transform).transform=function(a,c){var d=c,e=a.as,n=a.fields,k=a.index,f=a.values,v=null==a.default?null:a.default,g=a.modified();a=g?c.SOURCE:c.ADD;var t=n.length;if(f){var h=f.length;1<t&&!e&&b.error('Multi-field lookup requires explicit "as" parameter.');e&&e.length!==t*h&&b.error('The "as" parameter has too few output field names.');e=e||
f.map(b.accessorName);var ba=function(a){for(var b=0,c=0,d,g;b<t;++b)if(g=k.get(n[b](a)),null==g)for(d=0;d<h;++d,++c)a[e[c]]=v;else for(d=0;d<h;++d,++c)a[e[c]]=f[d](g)}}else e||b.error("Missing output field names."),ba=function(a){for(var b=0,c;b<t;++b)c=k.get(n[b](a)),a[e[b]]=null==c?v:c};g?d=c.reflow(!0):(g=n.some(function(a){return c.modified(a.fields)}),a|=g?c.MOD:0);c.visit(a,ba);return d.modifies(e)};b.inherits(jb,d.Operator);b.inherits(Ta,d.Operator);b.inherits(Xa,d.Transform);Xa.prototype.transform=
function(a,b){this.modified(a.modified());this.value=a;return b.fork(b.NO_SOURCE|b.NO_FIELDS)};va.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:Lb,"default":"sum"},{name:"limit",type:"number","default":0},{name:"key",type:"field"}]};var Tc=b.inherits(va,r);Tc._transform=Tc.transform;Tc.transform=function(a,b){return this._transform(Db(a,
b),b)};b.inherits(cb,e).transform=function(a,c){var e=this,n=a.subflow,k=a.field,f=function(a){return e.subflow(d.tupleid(a),n,c,a)};(a.modified("field")||k&&c.modified(b.accessorFields(k)))&&b.error("PreFacet does not support field modification.");this.initTargets();k?(c.visit(c.MOD,function(a){var b=f(a);k(a).forEach(function(a){return b.mod(a)})}),c.visit(c.ADD,function(a){var b=f(a);k(a).forEach(function(a){return b.add(d.ingest(a))})}),c.visit(c.REM,function(a){var b=f(a);k(a).forEach(function(a){return b.rem(a)})})):
(c.visit(c.MOD,function(a){return f(a).mod(a)}),c.visit(c.ADD,function(a){return f(a).add(a)}),c.visit(c.REM,function(a){return f(a).rem(a)}));c.clean()&&c.runAfter(function(){return e.clean()});return c};wb.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string","null":!0,array:!0}]};b.inherits(wb,d.Transform).transform=function(a,b){var c=a.fields,e=fa(a.fields,a.as||[]),n=c?function(a,b){for(var d=0,n=c.length;d<n;++d)b[e[d]]=
c[d](a);return b}:d.rederive;if(this.value)var k=this.value;else b=b.addAll(),k=this.value={};var f=b.fork(b.NO_SOURCE);b.visit(b.REM,function(a){a=d.tupleid(a);f.rem.push(k[a]);k[a]=null});b.visit(b.ADD,function(a){var b=n(a,d.ingest({}));k[d.tupleid(a)]=b;f.add.push(b)});b.visit(b.MOD,function(a){f.mod.push(n(a,k[d.tupleid(a)]))});return f};b.inherits(zb,d.Transform).transform=function(a,b){this.value=a.value;return a.modified("value")?b.fork(b.NO_SOURCE|b.NO_FIELDS):b.StopPropagation};Ja.Definition=
{type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number","default":.01},{name:"as",type:"string",array:!0,"default":["prob","value"]}]};b.inherits(Ja,d.Transform).transform=function(a,c){var e=c.fork(c.NO_SOURCE|c.NO_FIELDS),n=a.as||["prob","value"];if(this.value&&!a.modified()&&!c.changed())return e.source=this.value,e;c=c.materialize(c.SOURCE).source;
c=qa(c,a.groupby,a.field);var k=(a.groupby||[]).map(b.accessorName),f=[],v=a.step||.01,g=a.probs||y.range(v/2,1-1E-14,v),t=g.length;c.forEach(function(a){for(var b=w.quantiles(a,g),c=0;c<t;++c){for(var e={},v=0;v<k.length;++v)e[k[v]]=a.dims[v];e[n[0]]=g[c];e[n[1]]=b[c];f.push(d.ingest(e))}});this.value&&(e.rem=this.value);this.value=e.add=e.source=f;return e};b.inherits(Ya,d.Transform).transform=function(a,b){if(this.value)var c=this.value;else{var e=b=b.addAll();c=this.value={}}a.derive&&(e=b.fork(b.NO_SOURCE),
b.visit(b.REM,function(a){a=d.tupleid(a);e.rem.push(c[a]);c[a]=null}),b.visit(b.ADD,function(a){var b=d.derive(a);c[d.tupleid(a)]=b;e.add.push(b)}),b.visit(b.MOD,function(a){var b=c[d.tupleid(a)],n;for(n in a)b[n]=a[n],e.modifies(n);e.mod.push(b)}));return e};Xb.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number","default":1E3}]};b.inherits(Xb,d.Transform).transform=function(a,b){function c(a){if(f.length<k)f.push(a);else{var b=~~((v+1)*w.random());if(b<f.length&&b>=g){var c=
f[b];t[d.tupleid(c)]&&e.rem.push(c);f[b]=a}}++v}var e=b.fork(b.NO_SOURCE),n=a.modified("size"),k=a.size,f=this.value,v=this.count,g=0,t=f.reduce(function(a,b){a[d.tupleid(b)]=1;return a},{});b.rem.length&&(b.visit(b.REM,function(a){var b=d.tupleid(a);t[b]&&(t[b]=-1,e.rem.push(a));--v}),f=f.filter(function(a){return-1!==t[d.tupleid(a)]}));(b.rem.length||n)&&f.length<k&&b.source&&(g=v=f.length,b.visit(b.SOURCE,function(a){t[d.tupleid(a)]||c(a)}),g=-1);if(n&&f.length>k){a=0;for(n=f.length-k;a<n;++a)t[d.tupleid(f[a])]=
-1,e.rem.push(f[a]);f=f.slice(n)}b.mod.length&&b.visit(b.MOD,function(a){t[d.tupleid(a)]&&e.mod.push(a)});b.add.length&&b.visit(b.ADD,c);if(b.add.length||0>g)e.add=f.filter(function(a){return!t[d.tupleid(a)]});this.count=v;this.value=e.source=f;return e};Yb.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number","default":1},{name:"as",type:"string","default":"data"}]};b.inherits(Yb,
d.Transform).transform=function(a,b){if(!this.value||a.modified()){var c=b.materialize().fork(b.MOD),e=a.as||"data";c.rem=this.value?b.rem.concat(this.value):b.rem;this.value=y.range(a.start,a.stop,a.step||1).map(function(a){var b={};b[e]=a;return d.ingest(b)});c.add=b.add.concat(this.value);return c}};b.inherits(bb,d.Transform).transform=function(a,b){this.value=b.source;return b.changed()?b.fork(b.NO_SOURCE|b.NO_FIELDS):b.StopPropagation};var Wc=["unit0","unit1"];J.Definition={type:"TimeUnit",metadata:{modifies:!0},
params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"units",type:"enum",values:l.TIME_UNITS,array:!0},{name:"step",type:"number","default":1},{name:"maxbins",type:"number","default":40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum","default":"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,"default":Wc}]};var lb=b.inherits(J,d.Transform);lb.transform=function(a,c){var d=a.field,e=!1!==a.interval,n="utc"===
a.timezone,k=this._floor(a,c),f=(n?l.utcInterval:l.timeInterval)(k.unit).offset;n=a.as||Wc;var v=n[0],g=n[1],t=k.start||Infinity,h=k.stop||-Infinity,ba=k.step,p=c.ADD;if(a.modified()||c.modified(b.accessorFields(d)))c=c.reflow(!0),p=c.SOURCE,t=Infinity,h=-Infinity;c.visit(p,function(a){var b=d(a),c;null==b?(a[v]=null,e&&(a[g]=null)):(a[v]=b=c=k(b),e&&(a[g]=c=f(b,ba)),b<t&&(t=b),c>h&&(h=c))});k.start=t;k.stop=h;return c.modifies(e?n:v)};lb._floor=function(a,c){var d="utc"===a.timezone;c=a.units?{units:a.units,
step:a.step||1}:l.timeBin({extent:a.extent||b.extent(c.materialize(c.SOURCE).source,a.field),maxbins:a.maxbins});a=c.units;c=c.step;a=l.timeUnits(a);var e=this.value||{};d=(d?l.utcFloor:l.timeFloor)(a,c);d.unit=b.peek(a);d.units=a;d.step=c;d.start=e.start;d.stop=e.stop;return this.value=d};b.inherits(Qb,d.Transform).transform=function(a,b){function c(a){n.set(e(a),a)}var d=b.dataflow,e=a.field,n=this.value,k=!0;a.modified("field")||b.modified(e.fields)?(n.clear(),b.visit(b.SOURCE,c)):b.changed()?
(b.visit(b.REM,function(a){n.delete(e(a))}),b.visit(b.ADD,c)):k=!1;this.modified(k);n.empty>d.cleanThreshold&&d.runAfter(n.clean);return b.fork()};b.inherits(Pa,d.Transform).transform=function(a,b){if(!this.value||a.modified("field")||a.modified("sort")||b.changed()||a.sort&&b.modified(a.sort.fields))this.value=(a.sort?b.source.slice().sort(d.stableCompare(a.sort)):b.source).map(a.field)};var Cc={row_number:function(){return{next:function(a){return a.index+1}}},rank:function(){var a;return{init:function(){return a=
1},next:function(b){var c=b.index,d=b.data;return c&&b.compare(d[c-1],d[c])?a=c+1:a}}},dense_rank:function(){var a;return{init:function(){return a=1},next:function(b){var c=b.index,d=b.data;return c&&b.compare(d[c-1],d[c])?++a:a}}},percent_rank:function(){var a=Cc.rank(),b=a.next;return{init:a.init,next:function(a){return(b(a)-1)/(a.data.length-1)}}},cume_dist:function(){var a;return{init:function(){return a=0},next:function(b){var c=b.index,d=b.data;b=b.compare;if(a<c){for(;c+1<d.length&&!b(d[c],
d[c+1]);)++c;a=c}return(1+a)/d.length}}},ntile:function(a,c){c=+c;0<c||b.error("ntile num must be greater than zero.");a=Cc.cume_dist();var d=a.next;return{init:a.init,next:function(a){return Math.ceil(c*d(a))}}},lag:function(a,b){b=+b||1;return{next:function(c){var d=c.index-b;return 0<=d?a(c.data[d]):null}}},lead:function(a,b){b=+b||1;return{next:function(c){var d=c.index+b;c=c.data;return d<c.length?a(c[d]):null}}},first_value:function(a){return{next:function(b){return a(b.data[b.i0])}}},last_value:function(a){return{next:function(b){return a(b.data[b.i1-
1])}}},nth_value:function(a,c){c=+c;0<c||b.error("nth_value nth must be greater than zero.");return{next:function(b){var d=b.i0+(c-1);return d<b.i1?a(b.data[d]):null}}},prev_value:function(a){var b;return{init:function(){return b=null},next:function(c){c=a(c.data[c.index]);return null!=c?b=c:b}}},next_value:function(a){var b,c;return{init:function(){return b=null,c=-1},next:function(d){var e=d.data;if(d.index<=c)e=b;else{a:{d=d.index;for(var n=e.length;d<n;++d)if(null!=a(e[d]))break a;d=-1}e=0>(c=
d)?(c=e.length,b=null):b=a(e[c])}return e}}}},Aa=Object.keys(Cc),Ab=Rb.prototype;Ab.init=function(){this.windows.forEach(function(a){return a.init()});this.cell&&this.cell.init()};Ab.update=function(a,b){var c=this.cell,d=this.windows,e=a.data,n=d&&d.length,k;if(c){for(k=a.p0;k<a.i0;++k)c.rem(e[k]);for(k=a.p1;k<a.i1;++k)c.add(e[k]);c.set(b)}for(k=0;k<n;++k)d[k].update(a,b)};fc.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},
{name:"ops",type:"enum",array:!0,values:Aa.concat(Lb)},{name:"params",type:"number","null":!0,array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"frame",type:"number","null":!0,array:!0,length:2,"default":[null,0]},{name:"ignorePeers",type:"boolean","default":!1}]};var Wb=b.inherits(fc,d.Transform);Wb.transform=function(a,b){var c=this,e=c.state,n=a.modified(),k=d.stableCompare(a.sort),f;this.stamp=b.stamp;if(!e||n)e=c.state=new Rb(a);var v=
z(a.groupby);n||b.modified(e.inputs)?(c.value={},b.visit(b.SOURCE,function(a){c.group(v(a)).add(a)})):(b.visit(b.REM,function(a){c.group(v(a)).remove(a)}),b.visit(b.ADD,function(a){c.group(v(a)).add(a)}));var g=0;for(f=c._mlen;g<f;++g)Ic(c._mods[g],e,k,a);c._mlen=0;c._mods=[];return b.reflow(n).modifies(e.outputs)};Wb.group=function(a){var b=this.value[a];b||(b=this.value[a]=R(d.tupleid),b.stamp=-1);b.stamp<this.stamp&&(b.stamp=this.stamp,this._mods[this._mlen++]=b);return b};a.aggregate=r;a.bin=
g;a.collect=B;a.compare=u;a.countpattern=p;a.cross=ca;a.density=T;a.dotbin=ua;a.expression=f;a.extent=K;a.facet=e;a.field=ea;a.filter=X;a.flatten=la;a.fold=wa;a.formula=Va;a.generate=E;a.impute=ib;a.joinaggregate=k;a.kde=v;a.key=n;a.load=sa;a.lookup=ab;a.multiextent=jb;a.multivalues=Ta;a.params=Xa;a.pivot=va;a.prefacet=cb;a.project=wb;a.proxy=zb;a.quantile=Ja;a.relay=Ya;a.sample=Xb;a.sequence=Yb;a.sieve=bb;a.subflow=m;a.timeunit=J;a.tupleindex=Qb;a.values=Pa;a.window=fc;Object.defineProperty(a,"__esModule",
{value:!0})})};
shadow$provide[17]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z):"function"===typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.d3=a.d3||{}))})(this,function(a){function b(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function d(){return new b}var w=Math.PI,y=2*w,l=y-1E-6;b.prototype=d.prototype={constructor:b,moveTo:function(a,b){this._+="M"+(this._x0=this._x1=+a)+","+(this._y0=this._y1=+b)},closePath:function(){null!==this._x1&&(this._x1=this._x0,
this._y1=this._y0,this._+="Z")},lineTo:function(a,b){this._+="L"+(this._x1=+a)+","+(this._y1=+b)},quadraticCurveTo:function(a,b,d,l){this._+="Q"+ +a+","+ +b+","+(this._x1=+d)+","+(this._y1=+l)},bezierCurveTo:function(a,b,d,l,w,Z){this._+="C"+ +a+","+ +b+","+ +d+","+ +l+","+(this._x1=+w)+","+(this._y1=+Z)},arcTo:function(a,b,d,l,N){a=+a;b=+b;d=+d;l=+l;N=+N;var M=this._x1,G=this._y1,x=d-a,D=l-b,S=M-a,C=G-b,r=S*S+C*C;if(0>N)throw Error("negative radius: "+N);if(null===this._x1)this._+="M"+(this._x1=
a)+","+(this._y1=b);else if(1E-6<r)if(1E-6<Math.abs(C*x-D*S)&&N){d-=M;l-=G;var g=x*x+D*D;G=Math.sqrt(g);M=Math.sqrt(r);r=N*Math.tan((w-Math.acos((g+r-(d*d+l*l))/(2*G*M)))/2);M=r/M;r/=G;1E-6<Math.abs(M-1)&&(this._+="L"+(a+M*S)+","+(b+M*C));this._+="A"+N+","+N+",0,0,"+ +(C*d>S*l)+","+(this._x1=a+r*x)+","+(this._y1=b+r*D)}else this._+="L"+(this._x1=a)+","+(this._y1=b)},arc:function(a,b,d,M,N,Z){a=+a;b=+b;d=+d;Z=!!Z;var G=d*Math.cos(M),x=d*Math.sin(M),D=a+G,S=b+x,C=1^Z;M=Z?M-N:N-M;if(0>d)throw Error("negative radius: "+
d);if(null===this._x1)this._+="M"+D+","+S;else if(1E-6<Math.abs(this._x1-D)||1E-6<Math.abs(this._y1-S))this._+="L"+D+","+S;d&&(0>M&&(M=M%y+y),M>l?this._+="A"+d+","+d+",0,1,"+C+","+(a-G)+","+(b-x)+"A"+d+","+d+",0,1,"+C+","+(this._x1=D)+","+(this._y1=S):1E-6<M&&(this._+="A"+d+","+d+",0,"+ +(M>=w)+","+C+","+(this._x1=a+d*Math.cos(N))+","+(this._y1=b+d*Math.sin(N))))},rect:function(a,b,d,l){this._+="M"+(this._x0=this._x1=+a)+","+(this._y0=this._y1=+b)+"h"+ +d+"v"+ +l+"h"+-d+"Z"},toString:function(){return this._}};
a.path=d;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[18]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z,y(17)):"function"===typeof define&&define.amd?define(["exports","d3-path"],b):(a=a||self,b(a.d3=a.d3||{},a.d3))})(this,function(a,b){function d(a){return function(){return a}}function w(a){return 1<=a?Xb:-1>=a?-Xb:Math.asin(a)}function y(a){return a.innerRadius}function l(a){return a.outerRadius}function P(a){return a.startAngle}function z(a){return a.endAngle}function W(a){return a&&a.padAngle}function M(a,
b,c,d,e,n,k){var f=a-c,v=b-d;k=(k?n:-n)/Ja(f*f+v*v);v*=k;f*=-k;var g=a+v,t=b+f,h=c+v,ba=d+f;c=(g+h)/2;d=(t+ba)/2;b=h-g;a=ba-t;k=b*b+a*a;n=e-n;ba=g*ba-h*t;var p=(0>a?-1:1)*Ja(cb(0,n*n*k-ba*ba));g=(ba*a-b*p)/k;t=(-ba*b-a*p)/k;h=(ba*a+b*p)/k;b=(-ba*b+a*p)/k;a=g-c;k=t-d;c=h-c;d=b-d;a*a+k*k>c*c+d*d&&(g=h,t=b);return{cx:g,cy:t,x01:-v,y01:-f,x11:g*(e/n-1),y11:t*(e/n-1)}}function N(a){this._context=a}function Z(a){return new N(a)}function G(a){return a[0]}function x(a){return a[1]}function D(){function a(a){var d,
g=a.length,t,h=!1,ba;null==k&&(v=f(ba=b.path()));for(d=0;d<=g;++d)!(d<g&&n(t=a[d],d,a))===h&&((h=!h)?v.lineStart():v.lineEnd()),h&&v.point(+c(t,d,a),+e(t,d,a));if(ba)return v=null,ba+""||null}var c=G,e=x,n=d(!0),k=null,f=Z,v=null;a.x=function(b){return arguments.length?(c="function"===typeof b?b:d(+b),a):c};a.y=function(b){return arguments.length?(e="function"===typeof b?b:d(+b),a):e};a.defined=function(b){return arguments.length?(n="function"===typeof b?b:d(!!b),a):n};a.curve=function(b){return arguments.length?
(f=b,null!=k&&(v=f(k)),a):f};a.context=function(b){return arguments.length?(null==b?k=v=null:v=f(k=b),a):k};return a}function S(){function a(a){var c,d,ba=a.length,p,m=!1,u,sa=Array(ba),r=Array(ba);null==g&&(h=t(u=b.path()));for(c=0;c<=ba;++c){if(!(c<ba&&v(p=a[c],c,a))===m)if(m=!m){var l=c;h.areaStart();h.lineStart()}else{h.lineEnd();h.lineStart();for(d=c-1;d>=l;--d)h.point(sa[d],r[d]);h.lineEnd();h.areaEnd()}m&&(sa[c]=+e(p,c,a),r[c]=+k(p,c,a),h.point(n?+n(p,c,a):sa[c],f?+f(p,c,a):r[c]))}if(u)return h=
null,u+""||null}function c(){return D().defined(v).curve(t).context(g)}var e=G,n=null,k=d(0),f=x,v=d(!0),g=null,t=Z,h=null;a.x=function(b){return arguments.length?(e="function"===typeof b?b:d(+b),n=null,a):e};a.x0=function(b){return arguments.length?(e="function"===typeof b?b:d(+b),a):e};a.x1=function(b){return arguments.length?(n=null==b?null:"function"===typeof b?b:d(+b),a):n};a.y=function(b){return arguments.length?(k="function"===typeof b?b:d(+b),f=null,a):k};a.y0=function(b){return arguments.length?
(k="function"===typeof b?b:d(+b),a):k};a.y1=function(b){return arguments.length?(f=null==b?null:"function"===typeof b?b:d(+b),a):f};a.lineX0=a.lineY0=function(){return c().x(e).y(k)};a.lineY1=function(){return c().x(e).y(f)};a.lineX1=function(){return c().x(n).y(k)};a.defined=function(b){return arguments.length?(v="function"===typeof b?b:d(!!b),a):v};a.curve=function(b){return arguments.length?(t=b,null!=g&&(h=t(g)),a):t};a.context=function(b){return arguments.length?(null==b?g=h=null:h=t(g=b),a):
g};return a}function C(a,b){return b<a?-1:b>a?1:b>=a?0:NaN}function r(a){return a}function g(a){this._curve=a}function R(a){function b(b){return new g(a(b))}b._curve=a;return b}function B(a){var b=a.curve;a.angle=a.x;delete a.x;a.radius=a.y;delete a.y;a.curve=function(a){return arguments.length?b(R(a)):b()._curve};return a}function u(){return B(D().curve(bb))}function U(){var a=S().curve(bb),b=a.curve,c=a.lineX0,d=a.lineX1,e=a.lineY0,n=a.lineY1;a.angle=a.x;delete a.x;a.startAngle=a.x0;delete a.x0;
a.endAngle=a.x1;delete a.x1;a.radius=a.y;delete a.y;a.innerRadius=a.y0;delete a.y0;a.outerRadius=a.y1;delete a.y1;a.lineStartAngle=function(){return B(c())};delete a.lineX0;a.lineEndAngle=function(){return B(d())};delete a.lineX1;a.lineInnerRadius=function(){return B(e())};delete a.lineY0;a.lineOuterRadius=function(){return B(n())};delete a.lineY1;a.curve=function(a){return arguments.length?b(R(a)):b()._curve};return a}function p(a,b){return[(b=+b)*Math.cos(a-=Math.PI/2),b*Math.sin(a)]}function ca(a){return a.source}
function h(a){return a.target}function T(a){function c(){var c,d=tc.call(arguments),g=e.apply(this,d),t=n.apply(this,d);v||(v=c=b.path());a(v,+k.apply(this,(d[0]=g,d)),+f.apply(this,d),+k.apply(this,(d[0]=t,d)),+f.apply(this,d));if(c)return v=null,c+""||null}var e=ca,n=h,k=G,f=x,v=null;c.source=function(a){return arguments.length?(e=a,c):e};c.target=function(a){return arguments.length?(n=a,c):n};c.x=function(a){return arguments.length?(k="function"===typeof a?a:d(+a),c):k};c.y=function(a){return arguments.length?
(f="function"===typeof a?a:d(+a),c):f};c.context=function(a){return arguments.length?(v=null==a?null:a,c):v};return c}function O(a,b,c,d,e){a.moveTo(b,c);a.bezierCurveTo(b=(b+d)/2,c,b,e,d,e)}function fa(a,b,c,d,e){a.moveTo(b,c);a.bezierCurveTo(b,c=(c+e)/2,d,c,d,e)}function qa(a,b,c,d,e){var n=p(b,c);b=p(b,c=(c+e)/2);c=p(d,c);d=p(d,e);a.moveTo(n[0],n[1]);a.bezierCurveTo(b[0],b[1],c[0],c[1],d[0],d[1])}function ua(){}function f(a,b,c){a._context.bezierCurveTo((2*a._x0+a._x1)/3,(2*a._y0+a._y1)/3,(a._x0+
2*a._x1)/3,(a._y0+2*a._y1)/3,(a._x0+4*a._x1+b)/6,(a._y0+4*a._y1+c)/6)}function c(a){this._context=a}function K(a){this._context=a}function m(a){this._context=a}function e(a,b){this._basis=new c(a);this._beta=b}function ea(a,b,c){a._context.bezierCurveTo(a._x1+a._k*(a._x2-a._x0),a._y1+a._k*(a._y2-a._y0),a._x2+a._k*(a._x1-b),a._y2+a._k*(a._y1-c),a._x2,a._y2)}function ka(a,b){this._context=a;this._k=(1-b)/6}function X(a,b){this._context=a;this._k=(1-b)/6}function Wa(a,b){this._context=a;this._k=(1-b)/
6}function wa(a,b,c){var d=a._x1,e=a._y1,n=a._x2,k=a._y2;if(1E-12<a._l01_a){var f=2*a._l01_2a+3*a._l01_a*a._l12_a+a._l12_2a,v=3*a._l01_a*(a._l01_a+a._l12_a);d=(d*f-a._x0*a._l12_2a+a._x2*a._l01_2a)/v;e=(e*f-a._y0*a._l12_2a+a._y2*a._l01_2a)/v}1E-12<a._l23_a&&(f=2*a._l23_2a+3*a._l23_a*a._l12_a+a._l12_2a,v=3*a._l23_a*(a._l23_a+a._l12_a),n=(n*f+a._x1*a._l23_2a-b*a._l12_2a)/v,k=(k*f+a._y1*a._l23_2a-c*a._l12_2a)/v);a._context.bezierCurveTo(d,e,n,k,a._x2,a._y2)}function Va(a,b){this._context=a;this._alpha=
b}function E(a,b){this._context=a;this._alpha=b}function ib(a,b){this._context=a;this._alpha=b}function da(a){this._context=a}function Oa(a,b,c){var d=a._x1-a._x0;b-=a._x1;var e=(a._y1-a._y0)/(d||0>b&&-0);a=(c-a._y1)/(b||0>d&&-0);return((0>e?-1:1)+(0>a?-1:1))*Math.min(Math.abs(e),Math.abs(a),.5*Math.abs((e*b+a*d)/(d+b)))||0}function t(a,b){var c=a._x1-a._x0;return c?(3*(a._y1-a._y0)/c-b)/2:b}function k(a,b,c){var d=a._x0,e=a._x1,n=a._y1,k=(e-d)/3;a._context.bezierCurveTo(d+k,a._y0+k*b,e-k,n-k*c,e,
n)}function v(a){this._context=a}function n(a){this._context=new ba(a)}function ba(a){this._context=a}function sa(a){this._context=a}function ya(a){var b,c=a.length-1,d=Array(c),e=Array(c),n=Array(c);d[0]=0;e[0]=2;n[0]=a[0]+2*a[1];for(b=1;b<c-1;++b)d[b]=1,e[b]=4,n[b]=4*a[b]+2*a[b+1];d[c-1]=2;e[c-1]=7;n[c-1]=8*a[c-1]+a[c];for(b=1;b<c;++b){var k=d[b]/e[b-1];e[b]-=k;n[b]-=k*n[b-1]}d[c-1]=n[c-1]/e[c-1];for(b=c-2;0<=b;--b)d[b]=(n[b]-d[b+1])/e[b];e[c-1]=(a[c]+d[c-1])/2;for(b=0;b<c-1;++b)e[b]=2*a[b+1]-d[b+
1];return[d,e]}function Ka(a,b){this._context=a;this._t=b}function ab(a,b){if(1<(k=a.length))for(var c=1,d,e,n=a[b[0]],k,f=n.length;c<k;++c)for(e=n,n=a[b[c]],d=0;d<f;++d)n[d][1]+=n[d][0]=isNaN(e[d][1])?e[d][0]:e[d][1]}function jb(a){a=a.length;for(var b=Array(a);0<=--a;)b[a]=a;return b}function db(a,b){return a[b]}function Ta(a){var b=a.map(Ha);return jb(a).sort(function(a,c){return b[a]-b[c]})}function Ha(a){for(var b=-1,c=0,d=a.length,e,n=-Infinity;++b<d;)(e=+a[b][1])>n&&(n=e,c=b);return c}function Xa(a){var b=
a.map(va);return jb(a).sort(function(a,c){return b[a]-b[c]})}function va(a){for(var b=0,c=-1,d=a.length,e;++c<d;)if(e=+a[c][1])b+=e;return b}var Db=Math.abs,Ra=Math.atan2,Kb=Math.cos,cb=Math.max,wb=Math.min,zb=Math.sin,Ja=Math.sqrt,Ya=Math.PI,Xb=Ya/2,J=2*Ya;N.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(a,
b){a=+a;b=+b;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;default:this._context.lineTo(a,b)}}};var bb=R(Z);g.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(a,b){this._curve.point(b*Math.sin(a),b*-Math.cos(a))}};var tc=Array.prototype.slice,Qb={draw:function(a,
b){b=Math.sqrt(b/Ya);a.moveTo(b,0);a.arc(0,0,b,0,J)}},Pa={draw:function(a,b){b=Math.sqrt(b/5)/2;a.moveTo(-3*b,-b);a.lineTo(-b,-b);a.lineTo(-b,-3*b);a.lineTo(b,-3*b);a.lineTo(b,-b);a.lineTo(3*b,-b);a.lineTo(3*b,b);a.lineTo(b,b);a.lineTo(b,3*b);a.lineTo(-b,3*b);a.lineTo(-b,b);a.lineTo(-3*b,b);a.closePath()}},qb=Math.sqrt(1/3),Rb=2*qb,xb={draw:function(a,b){b=Math.sqrt(b/Rb);var c=b*qb;a.moveTo(0,-b);a.lineTo(c,0);a.lineTo(0,b);a.lineTo(-c,0);a.closePath()}},fc=Math.sin(Ya/10)/Math.sin(7*Ya/10),Ic=Math.sin(J/
10)*fc,pc=-Math.cos(J/10)*fc;fc={draw:function(a,b){b=Math.sqrt(.8908130915292852*b);var c=Ic*b,d=pc*b;a.moveTo(0,-b);a.lineTo(c,d);for(var e=1;5>e;++e){var n=J*e/5,k=Math.cos(n);n=Math.sin(n);a.lineTo(n*b,-k*b);a.lineTo(k*c-n*d,n*c+k*d)}a.closePath()}};var Mb={draw:function(a,b){b=Math.sqrt(b);var c=-b/2;a.rect(c,c,b,b)}},ic=Math.sqrt(3),Lb={draw:function(a,b){b=-Math.sqrt(b/(3*ic));a.moveTo(0,2*b);a.lineTo(-ic*b,-b);a.lineTo(ic*b,-b);a.closePath()}},pb=Math.sqrt(3)/2,Ub=1/Math.sqrt(12),ma=3*(Ub/
2+1),qc={draw:function(a,b){var c=Math.sqrt(b/ma);b=c/2;var d=c*Ub;c=c*Ub+c;var e=-b;a.moveTo(b,d);a.lineTo(b,c);a.lineTo(e,c);a.lineTo(-.5*b-pb*d,pb*b+-.5*d);a.lineTo(-.5*b-pb*c,pb*b+-.5*c);a.lineTo(-.5*e-pb*c,pb*e+-.5*c);a.lineTo(-.5*b+pb*d,-.5*d-pb*b);a.lineTo(-.5*b+pb*c,-.5*c-pb*b);a.lineTo(-.5*e+pb*c,-.5*c-pb*e);a.closePath()}},cc=[Qb,Pa,xb,Mb,fc,Lb,qc];c.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=
NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:f(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(a,b){a=+a;b=+b;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:f(this,
a,b)}this._x0=this._x1;this._x1=a;this._y0=this._y1;this._y1=b}};K.prototype={areaStart:ua,areaEnd:ua,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();
break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(a,b){a=+a;b=+b;switch(this._point){case 0:this._point=1;this._x2=a;this._y2=b;break;case 1:this._point=2;this._x3=a;this._y3=b;break;case 2:this._point=3;this._x4=a;this._y4=b;this._context.moveTo((this._x0+4*this._x1+a)/6,(this._y0+4*this._y1+b)/6);break;default:f(this,a,b)}this._x0=this._x1;this._x1=a;this._y0=this._y1;this._y1=b}};m.prototype={areaStart:function(){this._line=
0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(a,b){a=+a;b=+b;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var c=(this._x0+4*this._x1+a)/6,d=(this._y0+4*this._y1+b)/6;this._line?this._context.lineTo(c,d):this._context.moveTo(c,d);break;case 3:this._point=
4;default:f(this,a,b)}this._x0=this._x1;this._x1=a;this._y0=this._y1;this._y1=b}};e.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var a=this._x,b=this._y,c=a.length-1;if(0<c)for(var d=a[0],e=b[0],n=a[c]-d,k=b[c]-e,f=-1,v;++f<=c;)v=f/c,this._basis.point(this._beta*a[f]+(1-this._beta)*(d+v*n),this._beta*b[f]+(1-this._beta)*(e+v*k));this._x=this._y=null;this._basis.lineEnd()},point:function(a,b){this._x.push(+a);this._y.push(+b)}};var Sc=function Cc(a){function b(b){return 1===
a?new c(b):new e(b,a)}b.beta=function(a){return Cc(+a)};return b}(.85);ka.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ea(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(a,b){a=+a;b=+b;
switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;this._x1=a;this._y1=b;break;case 2:this._point=3;default:ea(this,a,b)}this._x0=this._x1;this._x1=this._x2;this._x2=a;this._y0=this._y1;this._y1=this._y2;this._y2=b}};var gc=function Aa(a){function b(b){return new ka(b,a)}b.tension=function(a){return Aa(+a)};return b}(0);X.prototype={areaStart:ua,areaEnd:ua,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=
this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(a,b){a=+a;b=+b;switch(this._point){case 0:this._point=1;this._x3=a;this._y3=b;break;case 1:this._point=2;this._context.moveTo(this._x4=
a,this._y4=b);break;case 2:this._point=3;this._x5=a;this._y5=b;break;default:ea(this,a,b)}this._x0=this._x1;this._x1=this._x2;this._x2=a;this._y0=this._y1;this._y1=this._y2;this._y2=b}};var sc=function Ab(a){function b(b){return new X(b,a)}b.tension=function(a){return Ab(+a)};return b}(0);Wa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==
this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(a,b){a=+a;b=+b;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ea(this,a,b)}this._x0=this._x1;this._x1=this._x2;this._x2=a;this._y0=this._y1;this._y1=this._y2;this._y2=b}};var Vc=function Wb(a){function b(b){return new Wa(b,a)}b.tension=
function(a){return Wb(+a)};return b}(0);Va.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=
1-this._line},point:function(a,b){a=+a;b=+b;if(this._point){var c=this._x2-a,d=this._y2-b;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(c*c+d*d,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;break;case 2:this._point=3;default:wa(this,a,b)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=a;this._y0=this._y1;this._y1=
this._y2;this._y2=b}};var id=function Qc(a){function b(b){return a?new Va(b,a):new ka(b,0)}b.alpha=function(a){return Qc(+a)};return b}(.5);E.prototype={areaStart:ua,areaEnd:ua,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();
break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(a,b){a=+a;b=+b;if(this._point){var c=this._x2-a,d=this._y2-b;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(c*c+d*d,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=a;this._y3=b;break;case 1:this._point=2;this._context.moveTo(this._x4=a,this._y4=b);break;case 2:this._point=3;this._x5=a;this._y5=
b;break;default:wa(this,a,b)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=a;this._y0=this._y1;this._y1=this._y2;this._y2=b}};var yc=function Ib(a){function b(b){return a?new E(b,a):new X(b,0)}b.alpha=function(a){return Ib(+a)};return b}(.5);ib.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;
this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(a,b){a=+a;b=+b;if(this._point){var c=this._x2-a,d=this._y2-b;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(c*c+d*d,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,
this._y2);break;case 3:this._point=4;default:wa(this,a,b)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=a;this._y0=this._y1;this._y1=this._y2;this._y2=b}};var Tc=function Bc(a){function b(b){return a?new ib(b,a):new Wa(b,0)}b.alpha=function(a){return Bc(+a)};return b}(.5);da.prototype={areaStart:ua,areaEnd:ua,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},
point:function(a,b){a=+a;b=+b;this._point?this._context.lineTo(a,b):(this._point=1,this._context.moveTo(a,b))}};v.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:k(this,this._t0,t(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},
point:function(a,b){var c=NaN;a=+a;b=+b;if(a!==this._x1||b!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;break;case 2:this._point=3;k(this,t(this,c=Oa(this,a,b)),c);break;default:k(this,this._t0,c=Oa(this,a,b))}this._x0=this._x1;this._x1=a;this._y0=this._y1;this._y1=b;this._t0=c}}};(n.prototype=Object.create(v.prototype)).point=function(a,b){v.prototype.point.call(this,b,a)};ba.prototype={moveTo:function(a,
b){this._context.moveTo(b,a)},closePath:function(){this._context.closePath()},lineTo:function(a,b){this._context.lineTo(b,a)},bezierCurveTo:function(a,b,c,d,e,n){this._context.bezierCurveTo(b,a,d,c,n,e)}};sa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var a=this._x,b=this._y,c=a.length;if(c)if(this._line?this._context.lineTo(a[0],b[0]):this._context.moveTo(a[0],b[0]),2===c)this._context.lineTo(a[1],
b[1]);else for(var d=ya(a),e=ya(b),n=0,k=1;k<c;++n,++k)this._context.bezierCurveTo(d[0][n],e[0][n],d[1][n],e[1][n],a[k],b[k]);(this._line||0!==this._line&&1===c)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(a,b){this._x.push(+a);this._y.push(+b)}};Ka.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,
this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(a,b){a=+a;b=+b;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(a,b):this._context.moveTo(a,b);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,b),this._context.lineTo(a,b);else{var c=this._x*(1-this._t)+a*this._t;this._context.lineTo(c,this._y);this._context.lineTo(c,b)}}this._x=a;this._y=
b}};a.arc=function(){function a(){var a,d=+c.apply(this,arguments),h=+e.apply(this,arguments),ba=f.apply(this,arguments)-Xb,p=v.apply(this,arguments)-Xb,m=Db(p-ba),u=p>ba;t||(t=a=b.path());if(h<d){var sa=h;h=d;d=sa}if(1E-12<h)if(m>J-1E-12)t.moveTo(h*Kb(ba),h*zb(ba)),t.arc(0,0,h,ba,p,!u),1E-12<d&&(t.moveTo(d*Kb(p),d*zb(p)),t.arc(0,0,d,p,ba,u));else{var r=ba,l=p;sa=ba;var x=p,Ga=m,ea=m,O=g.apply(this,arguments)/2,C=1E-12<O&&(k?+k.apply(this,arguments):Ja(d*d+h*h)),ya=wb(Db(h-d)/2,+n.apply(this,arguments)),
T=ya,D=ya;if(1E-12<C){var G=w(C/d*zb(O));O=w(C/h*zb(O));1E-12<(Ga-=2*G)?(G*=u?1:-1,sa+=G,x-=G):(Ga=0,sa=x=(ba+p)/2);1E-12<(ea-=2*O)?(O*=u?1:-1,r+=O,l-=O):(ea=0,r=l=(ba+p)/2)}ba=h*Kb(r);p=h*zb(r);G=d*Kb(x);O=d*zb(x);if(1E-12<ya){var ca=h*Kb(l),B=h*zb(l),S=d*Kb(sa),Ka=d*zb(sa);if(m=m<Ya){var da=S-ba;m=Ka-p;C=G-ca;var fa=O-B,U=fa*da-C*m;1E-12>U*U?da=void 0:(U=(C*(p-B)-fa*(ba-ca))/U,da=[ba+U*da,p+U*m]);m=da}m&&(T=ba-da[0],D=p-da[1],m=ca-da[0],C=B-da[1],T=(T*m+D*C)/(Ja(T*T+D*D)*Ja(m*m+C*C)),D=1/zb((1<
T?0:-1>T?Ya:Math.acos(T))/2),da=Ja(da[0]*da[0]+da[1]*da[1]),T=wb(ya,(d-da)/(D-1)),D=wb(ya,(h-da)/(D+1)))}1E-12<ea?1E-12<D?(r=M(S,Ka,ba,p,h,D,u),l=M(ca,B,G,O,h,D,u),t.moveTo(r.cx+r.x01,r.cy+r.y01),D<ya?t.arc(r.cx,r.cy,D,Ra(r.y01,r.x01),Ra(l.y01,l.x01),!u):(t.arc(r.cx,r.cy,D,Ra(r.y01,r.x01),Ra(r.y11,r.x11),!u),t.arc(0,0,h,Ra(r.cy+r.y11,r.cx+r.x11),Ra(l.cy+l.y11,l.cx+l.x11),!u),t.arc(l.cx,l.cy,D,Ra(l.y11,l.x11),Ra(l.y01,l.x01),!u))):(t.moveTo(ba,p),t.arc(0,0,h,r,l,!u)):t.moveTo(ba,p);1E-12<d&&1E-12<
Ga?1E-12<T?(r=M(G,O,ca,B,d,-T,u),l=M(ba,p,S,Ka,d,-T,u),t.lineTo(r.cx+r.x01,r.cy+r.y01),T<ya?t.arc(r.cx,r.cy,T,Ra(r.y01,r.x01),Ra(l.y01,l.x01),!u):(t.arc(r.cx,r.cy,T,Ra(r.y01,r.x01),Ra(r.y11,r.x11),!u),t.arc(0,0,d,Ra(r.cy+r.y11,r.cx+r.x11),Ra(l.cy+l.y11,l.cx+l.x11),u),t.arc(l.cx,l.cy,T,Ra(l.y11,l.x11),Ra(l.y01,l.x01),!u))):t.arc(0,0,d,x,sa,u):t.lineTo(G,O)}else t.moveTo(0,0);t.closePath();if(a)return t=null,a+""||null}var c=y,e=l,n=d(0),k=null,f=P,v=z,g=W,t=null;a.centroid=function(){var a=(+c.apply(this,
arguments)+ +e.apply(this,arguments))/2,b=(+f.apply(this,arguments)+ +v.apply(this,arguments))/2-Ya/2;return[Kb(b)*a,zb(b)*a]};a.innerRadius=function(b){return arguments.length?(c="function"===typeof b?b:d(+b),a):c};a.outerRadius=function(b){return arguments.length?(e="function"===typeof b?b:d(+b),a):e};a.cornerRadius=function(b){return arguments.length?(n="function"===typeof b?b:d(+b),a):n};a.padRadius=function(b){return arguments.length?(k=null==b?null:"function"===typeof b?b:d(+b),a):k};a.startAngle=
function(b){return arguments.length?(f="function"===typeof b?b:d(+b),a):f};a.endAngle=function(b){return arguments.length?(v="function"===typeof b?b:d(+b),a):v};a.padAngle=function(b){return arguments.length?(g="function"===typeof b?b:d(+b),a):g};a.context=function(b){return arguments.length?(t=null==b?null:b,a):t};return a};a.area=S;a.areaRadial=U;a.curveBasis=function(a){return new c(a)};a.curveBasisClosed=function(a){return new K(a)};a.curveBasisOpen=function(a){return new m(a)};a.curveBundle=
Sc;a.curveCardinal=gc;a.curveCardinalClosed=sc;a.curveCardinalOpen=Vc;a.curveCatmullRom=id;a.curveCatmullRomClosed=yc;a.curveCatmullRomOpen=Tc;a.curveLinear=Z;a.curveLinearClosed=function(a){return new da(a)};a.curveMonotoneX=function(a){return new v(a)};a.curveMonotoneY=function(a){return new n(a)};a.curveNatural=function(a){return new sa(a)};a.curveStep=function(a){return new Ka(a,.5)};a.curveStepAfter=function(a){return new Ka(a,1)};a.curveStepBefore=function(a){return new Ka(a,0)};a.line=D;a.lineRadial=
u;a.linkHorizontal=function(){return T(O)};a.linkRadial=function(){var a=T(qa);a.angle=a.x;delete a.x;a.radius=a.y;delete a.y;return a};a.linkVertical=function(){return T(fa)};a.pie=function(){function a(a){var d,v=a.length;var g=0;var t=Array(v),h=Array(v),ba=+n.apply(this,arguments);var p=Math.min(J,Math.max(-J,k.apply(this,arguments)-ba));var m=Math.min(Math.abs(p)/v,f.apply(this,arguments)),u=m*(0>p?-1:1),r;for(d=0;d<v;++d)0<(r=h[t[d]=d]=+b(a[d],d,a))&&(g+=r);null!=c?t.sort(function(a,b){return c(h[a],
h[b])}):null!=e&&t.sort(function(b,c){return e(a[b],a[c])});d=0;for(p=g?(p-v*u)/g:0;d<v;++d,ba=sa){g=t[d];r=h[g];var sa=ba+(0<r?r*p:0)+u;h[g]={data:a[g],index:d,value:r,startAngle:ba,endAngle:sa,padAngle:m}}return h}var b=r,c=C,e=null,n=d(0),k=d(J),f=d(0);a.value=function(c){return arguments.length?(b="function"===typeof c?c:d(+c),a):b};a.sortValues=function(b){return arguments.length?(c=b,e=null,a):c};a.sort=function(b){return arguments.length?(e=b,c=null,a):e};a.startAngle=function(b){return arguments.length?
(n="function"===typeof b?b:d(+b),a):n};a.endAngle=function(b){return arguments.length?(k="function"===typeof b?b:d(+b),a):k};a.padAngle=function(b){return arguments.length?(f="function"===typeof b?b:d(+b),a):f};return a};a.pointRadial=p;a.radialArea=U;a.radialLine=u;a.stack=function(){function a(a){var d=b.apply(this,arguments),k,f=a.length,v=d.length,g=Array(v);for(k=0;k<v;++k){for(var t=d[k],h=g[k]=Array(f),ba=0,p;ba<f;++ba)h[ba]=p=[0,+n(a[ba],t,ba,a)],p.data=a[ba];h.key=t}k=0;for(d=c(g);k<v;++k)g[d[k]].index=
k;e(g,d);return g}var b=d([]),c=jb,e=ab,n=db;a.keys=function(c){return arguments.length?(b="function"===typeof c?c:d(tc.call(c)),a):b};a.value=function(b){return arguments.length?(n="function"===typeof b?b:d(+b),a):n};a.order=function(b){return arguments.length?(c=null==b?jb:"function"===typeof b?b:d(tc.call(b)),a):c};a.offset=function(b){return arguments.length?(e=null==b?ab:b,a):e};return a};a.stackOffsetDiverging=function(a,b){if(0<(v=a.length))for(var c,d=0,e,n,k,f,v,g=a[b[0]].length;d<g;++d)for(c=
k=f=0;c<v;++c)0<(n=(e=a[b[c]][d])[1]-e[0])?(e[0]=k,e[1]=k+=n):0>n?(e[1]=f,e[0]=f+=n):(e[0]=0,e[1]=n)};a.stackOffsetExpand=function(a,b){if(0<(d=a.length)){for(var c,d,e=0,n=a[0].length,k;e<n;++e){for(k=c=0;c<d;++c)k+=a[c][e][1]||0;if(k)for(c=0;c<d;++c)a[c][e][1]/=k}ab(a,b)}};a.stackOffsetNone=ab;a.stackOffsetSilhouette=function(a,b){if(0<(e=a.length)){for(var c=0,d=a[b[0]],e,n=d.length;c<n;++c){for(var k=0,f=0;k<e;++k)f+=a[k][c][1]||0;d[c][1]+=d[c][0]=-f/2}ab(a,b)}};a.stackOffsetWiggle=function(a,
b){if(0<(k=a.length)&&0<(n=(e=a[b[0]]).length)){for(var c=0,d=1,e,n,k;d<n;++d){for(var f=0,v=0,g=0;f<k;++f){var t=a[b[f]],h=t[d][1]||0;t=(h-(t[d-1][1]||0))/2;for(var ba=0;ba<f;++ba){var p=a[b[ba]];t+=(p[d][1]||0)-(p[d-1][1]||0)}v+=h;g+=t*h}e[d-1][1]+=e[d-1][0]=c;v&&(c-=g/v)}e[d-1][1]+=e[d-1][0]=c;ab(a,b)}};a.stackOrderAppearance=Ta;a.stackOrderAscending=Xa;a.stackOrderDescending=function(a){return Xa(a).reverse()};a.stackOrderInsideOut=function(a){var b=a.length,c=a.map(va),d=Ta(a),e=0,n=0,k=[],f=
[];for(a=0;a<b;++a){var v=d[a];e<n?(e+=c[v],k.push(v)):(n+=c[v],f.push(v))}return f.reverse().concat(k)};a.stackOrderNone=jb;a.stackOrderReverse=function(a){return jb(a).reverse()};a.symbol=function(){function a(){var a;n||(n=a=b.path());c.apply(this,arguments).draw(n,+e.apply(this,arguments));if(a)return n=null,a+""||null}var c=d(Qb),e=d(64),n=null;a.type=function(b){return arguments.length?(c="function"===typeof b?b:d(b),a):c};a.size=function(b){return arguments.length?(e="function"===typeof b?
b:d(+b),a):e};a.context=function(b){return arguments.length?(n=null==b?null:b,a):n};return a};a.symbolCircle=Qb;a.symbolCross=Pa;a.symbolDiamond=xb;a.symbolSquare=Mb;a.symbolStar=fc;a.symbolTriangle=Lb;a.symbolWye=qc;a.symbols=cc;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[19]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z):"function"===typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.vega={}))})(this,function(a){function b(a,b){if("undefined"!==typeof document&&document.createElement){var d=document.createElement("canvas");if(d&&d.getContext)return d.width=a,d.height=b,d}return null}a.canvas=b;a.domCanvas=b;a.image=function(){return"undefined"!==typeof Image?Image:null};Object.defineProperty(a,"__esModule",
{value:!0})})};
shadow$provide[20]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z):"function"===typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.d3=a.d3||{}))})(this,function(a){function b(a,b,c){a.prototype=b.prototype=c;c.constructor=a}function d(a,b){a=Object.create(a.prototype);for(var c in b)a[c]=b[c];return a}function w(){}function y(){return this.rgb().formatHex()}function l(){return this.rgb().formatRgb()}function P(a){var b,c;a=(a+"").trim().toLowerCase();
return(b=m.exec(a))?(c=b[1].length,b=parseInt(b[1],16),6===c?z(b):3===c?new Z(b>>8&15|b>>4&240,b>>4&15|b&240,(b&15)<<4|b&15,1):8===c?new Z(b>>24&255,b>>16&255,b>>8&255,(b&255)/255):4===c?new Z(b>>12&15|b>>8&240,b>>8&15|b>>4&240,b>>4&15|b&240,((b&15)<<4|b&15)/255):null):(b=e.exec(a))?new Z(b[1],b[2],b[3],1):(b=ea.exec(a))?new Z(255*b[1]/100,255*b[2]/100,255*b[3]/100,1):(b=ka.exec(a))?W(b[1],b[2],b[3],b[4]):(b=X.exec(a))?W(255*b[1]/100,255*b[2]/100,255*b[3]/100,b[4]):(b=Wa.exec(a))?S(b[1],b[2]/100,
b[3]/100,1):(b=wa.exec(a))?S(b[1],b[2]/100,b[3]/100,b[4]):Va.hasOwnProperty(a)?z(Va[a]):"transparent"===a?new Z(NaN,NaN,NaN,0):null}function z(a){return new Z(a>>16&255,a>>8&255,a&255,1)}function W(a,b,c,d){0>=d&&(a=b=c=NaN);return new Z(a,b,c,d)}function M(a){a instanceof w||(a=P(a));if(!a)return new Z;a=a.rgb();return new Z(a.r,a.g,a.b,a.opacity)}function N(a,b,c,d){return 1===arguments.length?M(a):new Z(a,b,c,null==d?1:d)}function Z(a,b,c,d){this.r=+a;this.g=+b;this.b=+c;this.opacity=+d}function G(){return"#"+
D(this.r)+D(this.g)+D(this.b)}function x(){var a=this.opacity;a=isNaN(a)?1:Math.max(0,Math.min(1,a));return(1===a?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===a?")":", "+a+")")}function D(a){a=Math.max(0,Math.min(255,Math.round(a)||0));return(16>a?"0":"")+a.toString(16)}function S(a,b,c,d){0>=d?a=b=c=NaN:0>=c||1<=c?a=b=NaN:0>=b&&(a=NaN);return new g(a,b,c,d)}function C(a){if(a instanceof
g)return new g(a.h,a.s,a.l,a.opacity);a instanceof w||(a=P(a));if(!a)return new g;if(a instanceof g)return a;a=a.rgb();var b=a.r/255,c=a.g/255,d=a.b/255,e=Math.min(b,c,d),k=Math.max(b,c,d),n=NaN,f=k-e,v=(k+e)/2;f?(n=b===k?(c-d)/f+6*(c<d):c===k?(d-b)/f+2:(b-c)/f+4,f/=.5>v?k+e:2-k-e,n*=60):f=0<v&&1>v?0:n;return new g(n,f,v,a.opacity)}function r(a,b,c,d){return 1===arguments.length?C(a):new g(a,b,c,null==d?1:d)}function g(a,b,c,d){this.h=+a;this.s=+b;this.l=+c;this.opacity=+d}function R(a,b,c){return 255*
(60>a?b+(c-b)*a/60:180>a?c:240>a?b+(c-b)*(240-a)/60:b)}function B(a){if(a instanceof U)return new U(a.l,a.a,a.b,a.opacity);if(a instanceof qa)return ua(a);a instanceof Z||(a=M(a));var b=T(a.r),c=T(a.g),d=T(a.b),e=p(.2225045*b+.7168786*c+.0606169*d);if(b===c&&c===d)var k=b=e;else k=p((.4360747*b+.3850649*c+.1430804*d)/.96422),b=p((.0139322*b+.0971045*c+.7141733*d)/.82521);return new U(116*e-16,500*(k-e),200*(e-b),a.opacity)}function u(a,b,c,d){return 1===arguments.length?B(a):new U(a,b,c,null==d?1:
d)}function U(a,b,c,d){this.l=+a;this.a=+b;this.b=+c;this.opacity=+d}function p(a){return a>k?Math.pow(a,1/3):a/t+da}function ca(a){return a>Oa?a*a*a:t*(a-da)}function h(a){return 255*(.0031308>=a?12.92*a:1.055*Math.pow(a,1/2.4)-.055)}function T(a){return.04045>=(a/=255)?a/12.92:Math.pow((a+.055)/1.055,2.4)}function O(a){if(a instanceof qa)return new qa(a.h,a.c,a.l,a.opacity);a instanceof U||(a=B(a));if(0===a.a&&0===a.b)return new qa(NaN,0<a.l&&100>a.l?0:NaN,a.l,a.opacity);var b=Math.atan2(a.b,a.a)*
J;return new qa(0>b?b+360:b,Math.sqrt(a.a*a.a+a.b*a.b),a.l,a.opacity)}function fa(a,b,c,d){return 1===arguments.length?O(a):new qa(a,b,c,null==d?1:d)}function qa(a,b,c,d){this.h=+a;this.c=+b;this.l=+c;this.opacity=+d}function ua(a){if(isNaN(a.h))return new U(a.l,0,0,a.opacity);var b=a.h*E;return new U(a.l,Math.cos(b)*a.c,Math.sin(b)*a.c,a.opacity)}function f(a,b,d,e){if(1===arguments.length){var k=a;if(k instanceof c)k=new c(k.h,k.s,k.l,k.opacity);else{k instanceof Z||(k=M(k));var f=k.g/255,n=k.b/
255,g=(v*n+k.r/255*-1.7884503806-3.5172982438*f)/(v+-1.7884503806-3.5172982438);n-=g;var t=(1.97294*(f-g)- -.29227*n)/-.90649;n=(f=Math.sqrt(t*t+n*n)/(1.97294*g*(1-g)))?Math.atan2(t,n)*J-120:NaN;k=new c(0>n?n+360:n,f,g,k.opacity)}}else k=new c(a,b,d,null==e?1:e);return k}function c(a,b,c,d){this.h=+a;this.s=+b;this.l=+c;this.opacity=+d}var K=1/.7,m=/^#([0-9a-f]{3,8})$/,e=/^rgb\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*\)$/,ea=/^rgb\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,
ka=/^rgba\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,X=/^rgba\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,Wa=/^hsl\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,wa=/^hsla\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,
Va={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,
darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,
hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,
linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,
palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,
turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};b(w,P,{copy:function(a){return Object.assign(new this.constructor,this,a)},displayable:function(){return this.rgb().displayable()},hex:y,formatHex:y,formatHsl:function(){return C(this).formatHsl()},formatRgb:l,toString:l});b(Z,N,d(w,{brighter:function(a){a=null==a?K:Math.pow(K,a);return new Z(this.r*a,this.g*a,this.b*a,this.opacity)},darker:function(a){a=null==a?.7:Math.pow(.7,
a);return new Z(this.r*a,this.g*a,this.b*a,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:G,formatHex:G,formatRgb:x,toString:x}));b(g,r,d(w,{brighter:function(a){a=null==a?K:Math.pow(K,a);return new g(this.h,this.s,this.l*a,this.opacity)},darker:function(a){a=null==a?.7:Math.pow(.7,a);return new g(this.h,this.s,this.l*a,this.opacity)},rgb:function(){var a=
this.h%360+360*(0>this.h),b=isNaN(a)||isNaN(this.s)?0:this.s,c=this.l;b=c+(.5>c?c:1-c)*b;c=2*c-b;return new Z(R(240<=a?a-240:a+120,c,b),R(a,c,b),R(120>a?a+240:a-120,c,b),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var a=this.opacity;a=isNaN(a)?1:Math.max(0,Math.min(1,a));return(1===a?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===a?")":", "+a+")")}}));
var E=Math.PI/180,J=180/Math.PI,da=4/29,Oa=6/29,t=3*Oa*Oa,k=Oa*Oa*Oa;b(U,u,d(w,{brighter:function(a){return new U(this.l+18*(null==a?1:a),this.a,this.b,this.opacity)},darker:function(a){return new U(this.l-18*(null==a?1:a),this.a,this.b,this.opacity)},rgb:function(){var a=(this.l+16)/116,b=isNaN(this.a)?a:a+this.a/500,c=isNaN(this.b)?a:a-this.b/200;b=.96422*ca(b);a=1*ca(a);c=.82521*ca(c);return new Z(h(3.1338561*b-1.6168667*a-.4906146*c),h(-.9787684*b+1.9161415*a+.033454*c),h(.0719453*b-.2289914*
a+1.4052427*c),this.opacity)}}));b(qa,fa,d(w,{brighter:function(a){return new qa(this.h,this.c,this.l+18*(null==a?1:a),this.opacity)},darker:function(a){return new qa(this.h,this.c,this.l-18*(null==a?1:a),this.opacity)},rgb:function(){return ua(this).rgb()}}));var v=1.78277*-.29227-.1347134789;b(c,f,d(w,{brighter:function(a){a=null==a?K:Math.pow(K,a);return new c(this.h,this.s,this.l*a,this.opacity)},darker:function(a){a=null==a?.7:Math.pow(.7,a);return new c(this.h,this.s,this.l*a,this.opacity)},
rgb:function(){var a=isNaN(this.h)?0:(this.h+120)*E,b=+this.l,c=isNaN(this.s)?0:this.s*b*(1-b),d=Math.cos(a);a=Math.sin(a);return new Z(255*(b+c*(-.14861*d+1.78277*a)),255*(b+c*(-.29227*d+-.90649*a)),255*(b+1.97294*c*d),this.opacity)}}));a.color=P;a.cubehelix=f;a.gray=function(a,b){return new U(a,0,0,null==b?1:b)};a.hcl=fa;a.hsl=r;a.lab=u;a.lch=function(a,b,c,d){return 1===arguments.length?O(a):new qa(c,b,a,null==d?1:d)};a.rgb=N;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[21]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z,y(20)):"function"===typeof define&&define.amd?define(["exports","d3-color"],b):(a=a||self,b(a.d3=a.d3||{},a.d3))})(this,function(a,b){function d(a,b,c,d,e){var k=a*a,f=k*a;return((1-3*a+3*k-f)*b+(4-6*k+3*f)*c+(1+3*a+3*k-3*f)*d+f*e)/6}function w(a){var b=a.length-1;return function(c){var e=0>=c?c=0:1<=c?(c=1,b-1):Math.floor(c*b),k=a[e],f=a[e+1];return d((c-e/b)*b,0<e?a[e-1]:2*k-f,k,f,e<b-1?a[e+2]:2*
f-k)}}function y(a){var b=a.length;return function(c){var e=Math.floor((0>(c%=1)?++c:c)*b);return d((c-e/b)*b,a[(e+b-1)%b],a[e%b],a[(e+1)%b],a[(e+2)%b])}}function l(a){return function(){return a}}function P(a,b){return function(c){return a+c*b}}function z(a,b,c){return a=Math.pow(a,c),b=Math.pow(b,c)-a,c=1/c,function(d){return Math.pow(a+d*b,c)}}function W(a,b){var c=b-a;return c?P(a,180<c||-180>c?c-360*Math.round(c/360):c):l(isNaN(a)?b:a)}function M(a){return 1===(a=+a)?N:function(b,c){return c-
b?z(b,c,a):l(isNaN(b)?c:b)}}function N(a,b){var c=b-a;return c?P(a,c):l(isNaN(a)?b:a)}function Z(a){return function(c){var d=c.length,e=Array(d),k=Array(d),f=Array(d),v;for(v=0;v<d;++v){var n=b.rgb(c[v]);e[v]=n.r||0;k[v]=n.g||0;f[v]=n.b||0}e=a(e);k=a(k);f=a(f);n.opacity=1;return function(a){n.r=e(a);n.g=k(a);n.b=f(a);return n+""}}}function G(a,b){b||(b=[]);var c=a?Math.min(b.length,a.length):0,d=b.slice(),e;return function(k){for(e=0;e<c;++e)d[e]=a[e]*(1-k)+b[e]*k;return d}}function x(a){return ArrayBuffer.isView(a)&&
!(a instanceof DataView)}function D(a,b){var c=b?b.length:0,d=a?Math.min(c,a.length):0,e=Array(d),k=Array(c),f;for(f=0;f<d;++f)e[f]=u(a[f],b[f]);for(;f<c;++f)k[f]=b[f];return function(a){for(f=0;f<d;++f)k[f]=e[f](a);return k}}function S(a,b){var c=new Date;return a=+a,b=+b,function(d){return c.setTime(a*(1-d)+b*d),c}}function C(a,b){return a=+a,b=+b,function(c){return a*(1-c)+b*c}}function r(a,b){var c={},d={},e;if(null===a||"object"!==typeof a)a={};if(null===b||"object"!==typeof b)b={};for(e in b)e in
a?c[e]=u(a[e],b[e]):d[e]=b[e];return function(a){for(e in c)d[e]=c[e](a);return d}}function g(a){return function(){return a}}function R(a){return function(b){return a(b)+""}}function B(a,b){var d=f.lastIndex=c.lastIndex=0,e,k,v,n=-1,t=[],h=[];a+="";for(b+="";(e=f.exec(a))&&(k=c.exec(b));)(v=k.index)>d&&(v=b.slice(d,v),t[n]?t[n]+=v:t[++n]=v),(e=e[0])===(k=k[0])?t[n]?t[n]+=k:t[++n]=k:(t[++n]=null,h.push({i:n,x:C(e,k)})),d=c.lastIndex;d<b.length&&(v=b.slice(d),t[n]?t[n]+=v:t[++n]=v);return 2>t.length?
h[0]?R(h[0].x):g(b):(b=h.length,function(a){for(var c=0,d;c<b;++c)t[(d=h[c]).i]=d.x(a);return t.join("")})}function u(a,c){var d=typeof c,e;return null==c||"boolean"===d?l(c):("number"===d?C:"string"===d?(e=b.color(c))?(c=e,fa):B:c instanceof b.color?fa:c instanceof Date?S:x(c)?G:Array.isArray(c)?D:"function"!==typeof c.valueOf&&"function"!==typeof c.toString||isNaN(c)?r:C)(a,c)}function U(a,b,c,d,e,k){var f,v,n;if(f=Math.sqrt(a*a+b*b))a/=f,b/=f;if(n=a*c+b*d)c-=a*n,d-=b*n;if(v=Math.sqrt(c*c+d*d))c/=
v,d/=v,n/=v;a*d<b*c&&(a=-a,b=-b,n=-n,f=-f);return{translateX:e,translateY:k,rotate:Math.atan2(b,a)*K,skewX:Math.atan(n)*K,scaleX:f,scaleY:v}}function p(a,b,c,d){function e(a){return a.length?a.pop()+" ":""}function k(a,d,e,k,f,v){a!==e||d!==k?(f=f.push("translate(",null,b,null,c),v.push({i:f-4,x:C(a,e)},{i:f-2,x:C(d,k)})):(e||k)&&f.push("translate("+e+b+k+c)}function f(a,b,c,k){a!==b?(180<a-b?b+=360:180<b-a&&(a+=360),k.push({i:c.push(e(c)+"rotate(",null,d)-2,x:C(a,b)})):b&&c.push(e(c)+"rotate("+b+
d)}function v(a,b,c,k){a!==b?k.push({i:c.push(e(c)+"skewX(",null,d)-2,x:C(a,b)}):b&&c.push(e(c)+"skewX("+b+d)}function n(a,b,c,d,k,f){a!==c||b!==d?(k=k.push(e(k)+"scale(",null,",",null,")"),f.push({i:k-4,x:C(a,c)},{i:k-2,x:C(b,d)})):1===c&&1===d||k.push(e(k)+"scale("+c+","+d+")")}return function(b,c){var d=[],e=[];b=a(b);c=a(c);k(b.translateX,b.translateY,c.translateX,c.translateY,d,e);f(b.rotate,c.rotate,d,e);v(b.skewX,c.skewX,d,e);n(b.scaleX,b.scaleY,c.scaleX,c.scaleY,d,e);b=c=null;return function(a){for(var b=
-1,c=e.length,k;++b<c;)d[(k=e[b]).i]=k.x(a);return d.join("")}}}function ca(a){return((a=Math.exp(a))+1/a)/2}function h(a){return function(c,d){var e=a((c=b.hsl(c)).h,(d=b.hsl(d)).h),k=N(c.s,d.s),f=N(c.l,d.l),v=N(c.opacity,d.opacity);return function(a){c.h=e(a);c.s=k(a);c.l=f(a);c.opacity=v(a);return c+""}}}function T(a){return function(c,d){var e=a((c=b.hcl(c)).h,(d=b.hcl(d)).h),k=N(c.c,d.c),f=N(c.l,d.l),v=N(c.opacity,d.opacity);return function(a){c.h=e(a);c.c=k(a);c.l=f(a);c.opacity=v(a);return c+
""}}}function O(a){return function sa(c){function d(d,e){var k=a((d=b.cubehelix(d)).h,(e=b.cubehelix(e)).h),f=N(d.s,e.s),v=N(d.l,e.l),g=N(d.opacity,e.opacity);return function(a){d.h=k(a);d.s=f(a);d.l=v(Math.pow(a,c));d.opacity=g(a);return d+""}}c=+c;d.gamma=sa;return d}(1)}var fa=function ba(a){function c(a,c){var e=d((a=b.rgb(a)).r,(c=b.rgb(c)).r),k=d(a.g,c.g),f=d(a.b,c.b),n=N(a.opacity,c.opacity);return function(b){a.r=e(b);a.g=k(b);a.b=f(b);a.opacity=n(b);return a+""}}var d=M(a);c.gamma=ba;return c}(1),
qa=Z(w),ua=Z(y),f=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,c=new RegExp(f.source,"g"),K=180/Math.PI,m={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},e,ea,ka,X,Wa=p(function(a){if("none"===a)return m;e||(e=document.createElement("DIV"),ea=document.documentElement,ka=document.defaultView);e.style.transform=a;a=ka.getComputedStyle(ea.appendChild(e),null).getPropertyValue("transform");ea.removeChild(e);a=a.slice(7,-1).split(",");return U(+a[0],+a[1],+a[2],+a[3],+a[4],+a[5])},"px, ",
"px)","deg)"),wa=p(function(a){if(null==a)return m;X||(X=document.createElementNS("http://www.w3.org/2000/svg","g"));X.setAttribute("transform",a);if(!(a=X.transform.baseVal.consolidate()))return m;a=a.matrix;return U(a.a,a.b,a.c,a.d,a.e,a.f)},", ",")",")"),Va=Math.SQRT2,E=h(W),J=h(N),da=T(W),Oa=T(N),t=O(W),k=O(N);a.interpolate=u;a.interpolateArray=function(a,b){return(x(b)?G:D)(a,b)};a.interpolateBasis=w;a.interpolateBasisClosed=y;a.interpolateCubehelix=t;a.interpolateCubehelixLong=k;a.interpolateDate=
S;a.interpolateDiscrete=function(a){var b=a.length;return function(c){return a[Math.max(0,Math.min(b-1,Math.floor(c*b)))]}};a.interpolateHcl=da;a.interpolateHclLong=Oa;a.interpolateHsl=E;a.interpolateHslLong=J;a.interpolateHue=function(a,b){var c=W(+a,+b);return function(a){a=c(a);return a-360*Math.floor(a/360)}};a.interpolateLab=function(a,c){var d=N((a=b.lab(a)).l,(c=b.lab(c)).l),e=N(a.a,c.a),k=N(a.b,c.b),f=N(a.opacity,c.opacity);return function(b){a.l=d(b);a.a=e(b);a.b=k(b);a.opacity=f(b);return a+
""}};a.interpolateNumber=C;a.interpolateNumberArray=G;a.interpolateObject=r;a.interpolateRgb=fa;a.interpolateRgbBasis=qa;a.interpolateRgbBasisClosed=ua;a.interpolateRound=function(a,b){return a=+a,b=+b,function(c){return Math.round(a*(1-c)+b*c)}};a.interpolateString=B;a.interpolateTransformCss=Wa;a.interpolateTransformSvg=wa;a.interpolateZoom=function(a,b){var c=a[0],d=a[1],e=a[2];a=b[2];var k=b[0]-c,f=b[1]-d,g=k*k+f*f;if(1E-12>g){var n=Math.log(a/e)/Va;a=function(a){return[c+a*k,d+a*f,e*Math.exp(Va*
a*n)]}}else{var t=Math.sqrt(g);b=(a*a-e*e+4*g)/(4*e*t);a=(a*a-e*e-4*g)/(4*a*t);var h=Math.log(Math.sqrt(b*b+1)-b);n=(Math.log(Math.sqrt(a*a+1)-a)-h)/Va;a=function(a){a*=n;var b=ca(h),g=Va*a+h;var p=((g=Math.exp(2*g))-1)/(g+1);var m=h;g=((m=Math.exp(m))-1/m)/2;p=e/(2*t)*(b*p-g);return[c+p*k,d+p*f,e*b/ca(Va*a+h)]}}a.duration=1E3*n;return a};a.piecewise=function(a,b){for(var c=0,d=b.length-1,e=b[0],k=Array(0>d?0:d);c<d;)k[c]=a(e,e=b[++c]);return function(a){var b=Math.max(0,Math.min(d-1,Math.floor(a*=
d)));return k[b](a-b)}};a.quantize=function(a,b){for(var c=Array(b),d=0;d<b;++d)c[d]=a(d/(b-1));return c};Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[22]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z,y(3),y(21),y(4),y(5),y(7)):"function"===typeof define&&define.amd?define("exports d3-array d3-interpolate d3-format d3-time d3-time-format".split(" "),b):(a=a||self,b(a.d3=a.d3||{},a.d3,a.d3,a.d3,a.d3,a.d3))})(this,function(a,b,d,w,y,l){function P(a,b){switch(arguments.length){case 0:break;case 1:this.range(a);break;default:this.range(b).domain(a)}return this}function z(a,b){switch(arguments.length){case 0:break;
case 1:"function"===typeof a?this.interpolator(a):this.range(a);break;default:this.domain(a),"function"===typeof b?this.interpolator(b):this.range(b)}return this}function W(){function a(a){var k=a+"",f=b.get(k);if(!f){if(e!==cb)return e;b.set(k,f=c.push(a))}return d[(f-1)%d.length]}var b=new Map,c=[],d=[],e=cb;a.domain=function(d){if(!arguments.length)return c.slice();c=[];b=new Map;for(var e=$jscomp.makeIterator(d),k=e.next();!k.done;k=e.next()){k=k.value;var f=k+"";b.has(f)||b.set(f,c.push(k))}return a};
a.range=function(b){return arguments.length?(d=Array.from(b),a):d.slice()};a.unknown=function(b){return arguments.length?(e=b,a):e};a.copy=function(){return W(c,d).unknown(e)};P.apply(a,arguments);return a}function M(){function a(){var a=d().length,c=f<k,m=c?f:k,u=c?k:f;v=(u-m)/Math.max(1,a-t+2*h);n&&(v=Math.floor(v));m+=(u-m-v*(a-t))*p;g=v*(1-t);n&&(m=Math.round(m),g=Math.round(g));a=b.range(a).map(function(a){return m+v*a});return e(c?a.reverse():a)}var c=W().unknown(void 0),d=c.domain,e=c.range,
k=0,f=1,v,g,n=!1,t=0,h=0,p=.5;delete c.unknown;c.domain=function(b){return arguments.length?(d(b),a()):d()};c.range=function(b){if(arguments.length){var c=$jscomp.makeIterator(b);k=c.next().value;f=c.next().value;c=(k=+k,f=+f,a())}else c=[k,f];return c};c.rangeRound=function(b){b=$jscomp.makeIterator(b);k=b.next().value;f=b.next().value;return k=+k,f=+f,n=!0,a()};c.bandwidth=function(){return g};c.step=function(){return v};c.round=function(b){return arguments.length?(n=!!b,a()):n};c.padding=function(b){return arguments.length?
(t=Math.min(1,h=+b),a()):t};c.paddingInner=function(b){return arguments.length?(t=Math.min(1,b),a()):t};c.paddingOuter=function(b){return arguments.length?(h=+b,a()):h};c.align=function(b){return arguments.length?(p=Math.max(0,Math.min(1,b)),a()):p};c.copy=function(){return M(d(),[k,f]).round(n).paddingInner(t).paddingOuter(h).align(p)};return P.apply(a(),arguments)}function N(a){var b=a.copy;a.padding=a.paddingOuter;delete a.paddingInner;delete a.paddingOuter;a.copy=function(){return N(b())};return a}
function Z(a){return function(){return a}}function G(a){return+a}function x(a){return a}function D(a,b){return(b-=a=+a)?function(c){return(c-a)/b}:Z(isNaN(b)?NaN:.5)}function S(a,b){if(a>b){var c=a;a=b;b=c}return function(c){return Math.max(a,Math.min(b,c))}}function C(a,b,c){var d=a[0];a=a[1];var e=b[0];b=b[1];a<d?(d=D(a,d),e=c(b,e)):(d=D(d,a),e=c(e,b));return function(a){return e(d(a))}}function r(a,c,d){var e=Math.min(a.length,c.length)-1,k=Array(e),f=Array(e),v=-1;a[e]<a[0]&&(a=a.slice().reverse(),
c=c.slice().reverse());for(;++v<e;)k[v]=D(a[v],a[v+1]),f[v]=d(c[v],c[v+1]);return function(c){var d=b.bisect(a,c,1,e)-1;return f[d](k[d](c))}}function g(a,b){return b.domain(a.domain()).range(a.range()).interpolate(a.interpolate()).clamp(a.clamp()).unknown(a.unknown())}function R(){function a(){var a=Math.min(c.length,e.length);n!==x&&(n=S(c[0],c[a-1]));t=2<a?r:C;h=p=null;return b}function b(a){return isNaN(a=+a)?g:(h||(h=t(c.map(f),e,k)))(f(n(a)))}var c=wb,e=wb,k=d.interpolate,f,v,g,n=x,t,h,p;b.invert=
function(a){return n(v((p||(p=t(e,c.map(f),d.interpolateNumber)))(a)))};b.domain=function(b){return arguments.length?(c=Array.from(b,G),a()):c.slice()};b.range=function(b){return arguments.length?(e=Array.from(b),a()):e.slice()};b.rangeRound=function(b){return e=Array.from(b),k=d.interpolateRound,a()};b.clamp=function(b){return arguments.length?(n=b?!0:x,a()):n!==x};b.interpolate=function(b){return arguments.length?(k=b,a()):k};b.unknown=function(a){return arguments.length?(g=a,b):g};return function(b,
c){f=b;v=c;return a()}}function B(a,c,d,e){d=b.tickStep(a,c,d);var k;e=w.formatSpecifier(null==e?",f":e);switch(e.type){case "s":return a=Math.max(Math.abs(a),Math.abs(c)),null!=e.precision||isNaN(k=w.precisionPrefix(d,a))||(e.precision=k),w.formatPrefix(e,a);case "":case "e":case "g":case "p":case "r":null!=e.precision||isNaN(k=w.precisionRound(d,Math.max(Math.abs(a),Math.abs(c))))||(e.precision=k-("e"===e.type));break;case "f":case "%":null!=e.precision||isNaN(k=w.precisionFixed(d))||(e.precision=
k-2*("%"===e.type))}return w.format(e)}function u(a){var c=a.domain;a.ticks=function(a){var d=c();return b.ticks(d[0],d[d.length-1],null==a?10:a)};a.tickFormat=function(a,b){var d=c();return B(d[0],d[d.length-1],null==a?10:a,b)};a.nice=function(d){null==d&&(d=10);var e=c(),k=0,f=e.length-1,v=e[k],g=e[f];if(g<v){var n=v;v=g;g=n;n=k;k=f;f=n}n=b.tickIncrement(v,g,d);0<n?(v=Math.floor(v/n)*n,g=Math.ceil(g/n)*n,n=b.tickIncrement(v,g,d)):0>n&&(v=Math.ceil(v*n)/n,g=Math.floor(g*n)/n,n=b.tickIncrement(v,
g,d));0<n?(e[k]=Math.floor(v/n)*n,e[f]=Math.ceil(g/n)*n,c(e)):0>n&&(e[k]=Math.ceil(v*n)/n,e[f]=Math.floor(g*n)/n,c(e));return a};return a}function U(){var a=R()(x,x);a.copy=function(){return g(a,U())};P.apply(a,arguments);return u(a)}function p(a){function b(a){return isNaN(a=+a)?c:a}var c;b.invert=b;b.domain=b.range=function(c){return arguments.length?(a=Array.from(c,G),b):a.slice()};b.unknown=function(a){return arguments.length?(c=a,b):c};b.copy=function(){return p(a).unknown(c)};a=arguments.length?
Array.from(a,G):[0,1];return u(b)}function ca(a,b){a=a.slice();var c=0,d=a.length-1,e=a[c],k=a[d];if(k<e){var f=c;c=d;d=f;f=e;e=k;k=f}a[c]=b.floor(e);a[d]=b.ceil(k);return a}function h(a){return Math.log(a)}function T(a){return Math.exp(a)}function O(a){return-Math.log(-a)}function fa(a){return-Math.exp(-a)}function qa(a){return isFinite(a)?+("1e"+a):0>a?0:a}function ua(a){return 10===a?qa:a===Math.E?Math.exp:function(b){return Math.pow(a,b)}}function f(a){return a===Math.E?Math.log:10===a&&Math.log10||
2===a&&Math.log2||(a=Math.log(a),function(b){return Math.log(b)/a})}function c(a){return function(b){return-a(-b)}}function K(a){function d(){g=f(v);n=ua(v);0>k()[0]?(g=c(g),n=c(n),a(O,fa)):a(h,T);return e}var e=a(h,T),k=e.domain,v=10,g,n;e.base=function(a){return arguments.length?(v=+a,d()):v};e.domain=function(a){return arguments.length?(k(a),d()):k()};e.ticks=function(a){var c=k(),d=c[0];c=c[c.length-1];var e;if(e=c<d)f=d,d=c,c=f;var f=g(d),t=g(c),h=null==a?10:+a,p=[];if(!(v%1)&&t-f<h){f=Math.floor(f);
t=Math.ceil(t);if(0<d)for(;f<=t;++f){var m=1;for(a=n(f);m<v;++m){var u=a*m;if(!(u<d)){if(u>c)break;p.push(u)}}}else for(;f<=t;++f)for(m=v-1,a=n(f);1<=m;--m)if(u=a*m,!(u<d)){if(u>c)break;p.push(u)}2*p.length<h&&(p=b.ticks(d,c,h))}else p=b.ticks(f,t,Math.min(t-f,h)).map(n);return e?p.reverse():p};e.tickFormat=function(a,b){null==b&&(b=10===v?".0e":",");"function"!==typeof b&&(b=w.format(b));if(Infinity===a)return b;null==a&&(a=10);var c=Math.max(1,v*a/e.ticks().length);return function(a){var d=a/n(Math.round(g(a)));
d*v<v-.5&&(d*=v);return d<=c?b(a):""}};e.nice=function(){return k(ca(k(),{floor:function(a){return n(Math.floor(g(a)))},ceil:function(a){return n(Math.ceil(g(a)))}}))};return e}function m(){var a=K(R()).domain([1,10]);a.copy=function(){return g(a,m()).base(a.base())};P.apply(a,arguments);return a}function e(a){return function(b){return Math.sign(b)*Math.log1p(Math.abs(b/a))}}function ea(a){return function(b){return Math.sign(b)*Math.expm1(Math.abs(b))*a}}function ka(a){var b=1,c=a(e(b),ea(b));c.constant=
function(c){return arguments.length?a(e(b=+c),ea(b)):b};return u(c)}function X(){var a=ka(R());a.copy=function(){return g(a,X()).constant(a.constant())};return P.apply(a,arguments)}function la(a){return function(b){return 0>b?-Math.pow(-b,a):Math.pow(b,a)}}function E(a){return 0>a?-Math.sqrt(-a):Math.sqrt(a)}function Va(a){return 0>a?-a*a:a*a}function J(a){var b=a(x,x),c=1;b.exponent=function(b){return arguments.length?(c=+b,1===c?a(x,x):.5===c?a(E,Va):a(la(c),la(1/c))):c};return u(b)}function ib(){var a=
J(R());a.copy=function(){return g(a,ib()).exponent(a.exponent())};P.apply(a,arguments);return a}function da(a){return Math.sign(a)*a*a}function Oa(){function a(a){a=b(a);a=Math.sign(a)*Math.sqrt(Math.abs(a));return isNaN(a)?e:d?Math.round(a):a}var b=R()(x,x),c=[0,1],d=!1,e;a.invert=function(a){return b.invert(da(a))};a.domain=function(c){return arguments.length?(b.domain(c),a):b.domain()};a.range=function(d){return arguments.length?(b.range((c=Array.from(d,G)).map(da)),a):c.slice()};a.rangeRound=
function(b){return a.range(b).round(!0)};a.round=function(b){return arguments.length?(d=!!b,a):d};a.clamp=function(c){return arguments.length?(b.clamp(c),a):b.clamp()};a.unknown=function(b){return arguments.length?(e=b,a):e};a.copy=function(){return Oa(b.domain(),c).round(d).clamp(b.clamp()).unknown(e)};P.apply(a,arguments);return u(a)}function t(){function a(){var a=0,f=Math.max(1,e.length);for(k=Array(f-1);++a<f;)k[a-1]=b.quantile(d,a/f);return c}function c(a){return isNaN(a=+a)?f:e[b.bisect(k,
a)]}var d=[],e=[],k=[],f;c.invertExtent=function(a){a=e.indexOf(a);return 0>a?[NaN,NaN]:[0<a?k[a-1]:d[0],a<k.length?k[a]:d[d.length-1]]};c.domain=function(c){if(!arguments.length)return d.slice();d=[];for(var e=$jscomp.makeIterator(c),k=e.next();!k.done;k=e.next())k=k.value,null==k||isNaN(k=+k)||d.push(k);d.sort(b.ascending);return a()};c.range=function(b){return arguments.length?(e=Array.from(b),a()):e.slice()};c.unknown=function(a){return arguments.length?(f=a,c):f};c.quantiles=function(){return k.slice()};
c.copy=function(){return t().domain(d).range(e).unknown(f)};return P.apply(c,arguments)}function k(){function a(a){return a<=a?g[b.bisect(v,a,0,f)]:n}function c(){var b=-1;for(v=Array(f);++b<f;)v[b]=((b+1)*e-(b-f)*d)/(f+1);return a}var d=0,e=1,f=1,v=[.5],g=[0,1],n;a.domain=function(a){if(arguments.length){var b=$jscomp.makeIterator(a);d=b.next().value;e=b.next().value;b=(d=+d,e=+e,c())}else b=[d,e];return b};a.range=function(a){return arguments.length?(f=(g=Array.from(a)).length-1,c()):g.slice()};
a.invertExtent=function(a){a=g.indexOf(a);return 0>a?[NaN,NaN]:1>a?[d,v[0]]:a>=f?[v[f-1],e]:[v[a-1],v[a]]};a.unknown=function(b){return arguments.length?(n=b,a):a};a.thresholds=function(){return v.slice()};a.copy=function(){return k().domain([d,e]).range(g).unknown(n)};return P.apply(u(a),arguments)}function v(){function a(a){return a<=a?d[b.bisect(c,a,0,k)]:e}var c=[.5],d=[0,1],e,k=1;a.domain=function(b){return arguments.length?(c=Array.from(b),k=Math.min(c.length,d.length-1),a):c.slice()};a.range=
function(b){return arguments.length?(d=Array.from(b),k=Math.min(c.length,d.length-1),a):d.slice()};a.invertExtent=function(a){a=d.indexOf(a);return[c[a-1],c[a]]};a.unknown=function(b){return arguments.length?(e=b,a):e};a.copy=function(){return v().domain(c).range(d).unknown(e)};return P.apply(a,arguments)}function n(a){return new Date(a)}function ba(a){return a instanceof Date?+a:+new Date(+a)}function sa(a,c,d,e,k,f,v,t,h){function p(b){return(v(b)<b?O:f(b)<b?ea:k(b)<b?C:e(b)<b?T:c(b)<b?d(b)<b?D:
Db:a(b)<b?G:B)(b)}function m(c,d,e){null==c&&(c=10);if("number"===typeof c){var k=Math.abs(e-d)/c,f=b.bisector(function(a){return a[2]}).right(w,k);f===w.length?(d=b.tickStep(d/31536E6,e/31536E6,c),c=a):f?(f=w[k/w[f-1][2]<w[f][2]/k?f-1:f],d=f[1],c=f[0]):(d=Math.max(b.tickStep(d,e,c),1),c=t);return c.every(d)}return c}var u=R()(x,x),r=u.invert,l=u.domain,O=h(".%L"),ea=h(":%S"),C=h("%I:%M"),T=h("%I %p"),D=h("%a %d"),Db=h("%b %d"),G=h("%B"),B=h("%Y"),w=[[v,1,1E3],[v,5,5E3],[v,15,15E3],[v,30,3E4],[f,
1,6E4],[f,5,3E5],[f,15,9E5],[f,30,18E5],[k,1,36E5],[k,3,108E5],[k,6,216E5],[k,12,432E5],[e,1,864E5],[e,2,1728E5],[d,1,6048E5],[c,1,2592E6],[c,3,7776E6],[a,1,31536E6]];u.invert=function(a){return new Date(r(a))};u.domain=function(a){return arguments.length?l(Array.from(a,ba)):l().map(n)};u.ticks=function(a){var b=l(),c=b[0];b=b[b.length-1];var d=b<c;if(d){var e=c;c=b;b=e}e=(e=m(a,c,b))?e.range(c,b+1):[];return d?e.reverse():e};u.tickFormat=function(a,b){return null==b?p:h(b)};u.nice=function(a){var b=
l();return(a=m(a,b[0],b[b.length-1]))?l(ca(b,a)):u};u.copy=function(){return g(u,sa(a,c,d,e,k,f,v,t,h))};return u}function ya(){function a(a){return isNaN(a=+a)?h:n(0===v?.5:(a=(g(a)-k)*v,t?Math.max(0,Math.min(1,a)):a))}function b(b){return function(c){if(arguments.length){var d=$jscomp.makeIterator(c);var e=d.next().value;d=d.next().value;e=(n=b(e,d),a)}else e=[n(0),n(1)];return e}}var c=0,e=1,k,f,v,g,n=x,t=!1,h;a.domain=function(b){if(arguments.length){var d=$jscomp.makeIterator(b);c=d.next().value;
e=d.next().value;d=(k=g(c=+c),f=g(e=+e),v=k===f?0:1/(f-k),a)}else d=[c,e];return d};a.clamp=function(b){return arguments.length?(t=!!b,a):t};a.interpolator=function(b){return arguments.length?(n=b,a):n};a.range=b(d.interpolate);a.rangeRound=b(d.interpolateRound);a.unknown=function(b){return arguments.length?(h=b,a):h};return function(b){g=b;k=b(c);f=b(e);v=k===f?0:1/(f-k);return a}}function Ka(a,b){return b.domain(a.domain()).interpolator(a.interpolator()).clamp(a.clamp()).unknown(a.unknown())}function ab(){var a=
u(ya()(x));a.copy=function(){return Ka(a,ab())};return z.apply(a,arguments)}function jb(){var a=K(ya()).domain([1,10]);a.copy=function(){return Ka(a,jb()).base(a.base())};return z.apply(a,arguments)}function db(){var a=ka(ya());a.copy=function(){return Ka(a,db()).constant(a.constant())};return z.apply(a,arguments)}function Ta(){var a=J(ya());a.copy=function(){return Ka(a,Ta()).exponent(a.exponent())};return z.apply(a,arguments)}function Ha(){function a(a){if(!isNaN(a=+a))return d((b.bisect(c,a,1)-
1)/(c.length-1))}var c=[],d=x;a.domain=function(d){if(!arguments.length)return c.slice();c=[];for(var e=$jscomp.makeIterator(d),k=e.next();!k.done;k=e.next())k=k.value,null==k||isNaN(k=+k)||c.push(k);c.sort(b.ascending);return a};a.interpolator=function(b){return arguments.length?(d=b,a):d};a.range=function(){return c.map(function(a,b){return d(b/(c.length-1))})};a.quantiles=function(a){return Array.from({length:a+1},function(d,e){return b.quantile(c,e/a)})};a.copy=function(){return Ha(d).domain(c)};
return z.apply(a,arguments)}function Xa(){function a(a){return isNaN(a=+a)?r:(a=.5+((a=+m(a))-g)*(f*a<f*g?t:h),p(u?Math.max(0,Math.min(1,a)):a))}function b(b){return function(c){if(arguments.length){var e=$jscomp.makeIterator(c);var k=e.next().value;var f=e.next().value;e=e.next().value;k=(p=d.piecewise(b,[k,f,e]),a)}else k=[p(0),p(.5),p(1)];return k}}var c=0,e=.5,k=1,f=1,v,g,n,t,h,p=x,m,u=!1,r;a.domain=function(b){if(arguments.length){var d=$jscomp.makeIterator(b);c=d.next().value;e=d.next().value;
k=d.next().value;d=(v=m(c=+c),g=m(e=+e),n=m(k=+k),t=v===g?0:.5/(g-v),h=g===n?0:.5/(n-g),f=g<v?-1:1,a)}else d=[c,e,k];return d};a.clamp=function(b){return arguments.length?(u=!!b,a):u};a.interpolator=function(b){return arguments.length?(p=b,a):p};a.range=b(d.interpolate);a.rangeRound=b(d.interpolateRound);a.unknown=function(b){return arguments.length?(r=b,a):r};return function(b){m=b;v=b(c);g=b(e);n=b(k);t=v===g?0:.5/(g-v);h=g===n?0:.5/(n-g);f=g<v?-1:1;return a}}function va(){var a=u(Xa()(x));a.copy=
function(){return Ka(a,va())};return z.apply(a,arguments)}function Db(){var a=K(Xa()).domain([.1,1,10]);a.copy=function(){return Ka(a,Db()).base(a.base())};return z.apply(a,arguments)}function Ra(){var a=ka(Xa());a.copy=function(){return Ka(a,Ra()).constant(a.constant())};return z.apply(a,arguments)}function Kb(){var a=J(Xa());a.copy=function(){return Ka(a,Kb()).exponent(a.exponent())};return z.apply(a,arguments)}$jscomp.initSymbol();var cb=Symbol("implicit"),wb=[0,1];a.scaleBand=M;a.scaleDiverging=
va;a.scaleDivergingLog=Db;a.scaleDivergingPow=Kb;a.scaleDivergingSqrt=function(){return Kb.apply(null,arguments).exponent(.5)};a.scaleDivergingSymlog=Ra;a.scaleIdentity=p;a.scaleImplicit=cb;a.scaleLinear=U;a.scaleLog=m;a.scaleOrdinal=W;a.scalePoint=function(){return N(M.apply(null,arguments).paddingInner(1))};a.scalePow=ib;a.scaleQuantile=t;a.scaleQuantize=k;a.scaleRadial=Oa;a.scaleSequential=ab;a.scaleSequentialLog=jb;a.scaleSequentialPow=Ta;a.scaleSequentialQuantile=Ha;a.scaleSequentialSqrt=function(){return Ta.apply(null,
arguments).exponent(.5)};a.scaleSequentialSymlog=db;a.scaleSqrt=function(){return ib.apply(null,arguments).exponent(.5)};a.scaleSymlog=X;a.scaleThreshold=v;a.scaleTime=function(){return P.apply(sa(y.timeYear,y.timeMonth,y.timeWeek,y.timeDay,y.timeHour,y.timeMinute,y.timeSecond,y.timeMillisecond,l.timeFormat).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)};a.scaleUtc=function(){return P.apply(sa(y.utcYear,y.utcMonth,y.utcWeek,y.utcDay,y.utcHour,y.utcMinute,y.utcSecond,y.utcMillisecond,l.utcFormat).domain([Date.UTC(2E3,
0,1),Date.UTC(2E3,0,2)]),arguments)};a.tickFormat=B;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[23]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z,y(0),y(3),y(22),y(21),y(6)):"function"===typeof define&&define.amd?define("exports vega-util d3-array d3-scale d3-interpolate vega-time".split(" "),b):(a=a||self,b(a.vega={},a.vega,a.d3,a.d3,a.d3,a.vega))})(this,function(a,b,d,w,y,l){function P(a,b,c){b=a-b+2*c;return a?0<b?b:1:0}function z(a){return function(b){var c=b[0];b=b[1];if(b<c){var d=c;c=b;b=d}return[a.invert(c),a.invert(b)]}}function W(a){return function(b){var c=
a.range(),d=b[0];b=b[1];var e=-1,k;if(b<d){var f=d;d=b;b=f}f=0;for(k=c.length;f<k;++f)if(c[f]>=d&&c[f]<=b){0>e&&(e=f);var v=f}if(!(0>e))return d=a.invertExtent(c[e]),b=a.invertExtent(c[v]),[void 0===d[0]?d[1]:d[0],void 0===b[1]?b[0]:b[1]]}}function M(){function a(){var a=c().length,b=f[1]<f[0],k=f[b-0],v=f[1-b],n=P(a,p,m);g=(v-k)/(n||1);h&&(g=Math.floor(g));k+=(v-k-g*(a-p))*u;t=g*(1-p);h&&(k=Math.round(k),t=Math.round(t));a=d.range(a).map(function(a){return k+g*a});return e(b?a.reverse():a)}var b=
w.scaleOrdinal().unknown(void 0),c=b.domain,e=b.range,f=[0,1],g,t,h=!1,p=0,m=0,u=.5;delete b.unknown;b.domain=function(b){return arguments.length?(c(b),a()):c()};b.range=function(b){return arguments.length?(f=[+b[0],+b[1]],a()):f.slice()};b.rangeRound=function(b){f=[+b[0],+b[1]];h=!0;return a()};b.bandwidth=function(){return t};b.step=function(){return g};b.round=function(b){return arguments.length?(h=!!b,a()):h};b.padding=function(b){return arguments.length?(p=m=Math.max(0,Math.min(1,b)),a()):p};
b.paddingInner=function(b){return arguments.length?(p=Math.max(0,Math.min(1,b)),a()):p};b.paddingOuter=function(b){return arguments.length?(m=Math.max(0,Math.min(1,b)),a()):m};b.align=function(b){return arguments.length?(u=Math.max(0,Math.min(1,b)),a()):u};b.invertRange=function(a){if(null!=a[0]&&null!=a[1]){var b=+a[0],k=+a[1],v=(a=f[1]<f[0])?e().reverse():e(),g=v.length-1;if(b===b&&k===k){if(k<b){var n=b;b=k;k=n}if(!(k<v[0]||b>f[1-a])){var h=Math.max(0,d.bisectRight(v,b)-1);k=b===k?h:d.bisectRight(v,
k)-1;b-v[h]>t+1E-10&&++h;a&&(n=h,h=g-k,k=g-n);return h>k?void 0:c().slice(h,k+1)}}}};b.invert=function(a){return(a=b.invertRange([a,a]))?a[0]:a};b.copy=function(){return M().domain(c()).range(f).round(h).paddingInner(p).paddingOuter(m).align(u)};return a()}function N(a){var b=a.copy;a.padding=a.paddingOuter;delete a.paddingInner;a.copy=function(){return N(b())};return a}function Z(a){return ea.call(a,function(a){return+a})}function G(){function a(a){return null==a||a!==a?void 0:e[(d.bisect(c,a)-1)%
e.length]}var c=[],e=[];a.domain=function(b){return arguments.length?(c=Z(b),a):c.slice()};a.range=function(b){return arguments.length?(e=ka.call(b),a):e.slice()};a.tickFormat=function(a,d){return w.tickFormat(c[0],b.peek(c),null==a?10:a,d)};a.copy=function(){return G().domain(a.domain()).range(a.range())};return a}function x(a,c,d){var e=function(){var b=c();b.invertRange||(b.invertRange=b.invert?z(b):b.invertExtent?W(b):void 0);b.type=a;return b};e.metadata=b.toSet(b.array(d));return e}function D(a,
b,c){return 1<arguments.length?(X[a]=x(a,b,c),this):S(a)?X[a]:void 0}function S(a){return b.hasOwnProperty(X,a)}function C(a,b){return(a=X[a])&&a.metadata[b]}function r(a){return C(a,"discrete")}function g(a){return C(a,"discretizing")}function R(a){return C(a,"log")}function B(a){return C(a,"temporal")}function u(a,b,c){return y.piecewise(U(b||"rgb",c),a)}function U(a,b){a=y[p(a)];return null!=b&&a&&a.gamma?a.gamma(b):a}function p(a){return"interpolate"+a.toLowerCase().split("-").map(function(a){return a[0].toUpperCase()+
a.slice(1)}).join("")}function ca(a){for(var b=a.length/6|0,c=Array(b),d=0;d<b;)c[d]="#"+a.slice(6*d,6*++d);return c}function h(a,b){for(var c in a)T(c,b(a[c]))}function T(a,b){a=a&&a.toLowerCase();return 1<arguments.length?(E[a]=b,this):E[a]}function O(a,c,d){var e=a.range(),k=e[0],f=b.peek(e);e=J;k>f&&(e=f,f=k,k=e,e=ib);k=Math.floor(k);f=Math.ceil(f);c=c.map(function(b){return[b,a(b)]}).filter(function(a){return k<=a[1]&&a[1]<=f}).sort(e).map(function(a){return a[0]});if(0<d&&1<c.length){for(e=
[c[0],b.peek(c)];c.length>d&&3<=c.length;)c=c.filter(function(a,b){return!(b%2)});3>c.length&&(c=e)}return c}function fa(a,b){return a.bins?O(a,a.bins):a.ticks?a.ticks(b):a.domain()}function qa(a,b,c,d,e,f){var k=b.type,v=Va;if("time"===k||"time"===e)v=a.timeFormat(d);else if("utc"===k||"utc"===e)v=a.utcFormat(d);else if(R(k)){var g=a.formatFloat(d);if(f||b.bins)v=g;else{var n=ua(b,c,!1);v=function(a){return n(a)?g(a):""}}}else b.tickFormat?(b=b.domain(),v=a.formatSpan(b[0],b[b.length-1],c,d)):d&&
(v=a.format(d));return v}function ua(a,b,c){var d=fa(a,b),e=a.base(),f=Math.log(e),k=Math.max(1,e*b/d.length);a=function(a){a/=Math.pow(e,Math.round(Math.log(a)/f));a*e<e-.5&&(a*=e);return a<=k};return c?d.filter(a):a}function f(a,c){a.bins?(a=a.bins,c=a.slice(0,-1),c.max=b.peek(a),a=c):"log"===a.type?a=ua(a,c,!0):Oa[a.type]?(a=a[Oa[a.type]](),a=[-Infinity].concat(a),a.max=Infinity):a=fa(a,c);return a}function c(a,b,c,d,f,g,h){if(t[b.type]&&"time"!==g&&"utc"!==g){c=b[t[b.type]]();g=c.length;h=1<g?
c[1]-c[0]:c[0];var k;for(k=1;k<g;++k)h=Math.min(h,c[k]-c[k-1]);a=a.formatSpan(0,h,30,f)}else a=qa(a,b,c,f,g,h);return"symbol"===d&&(Oa[b.type]||b.bins)?K(a):"discrete"===d?m(a):e(a)}function K(a){return function(b,c,d){c=d[c+1];d=d.max;d=null!=d?d:Infinity;c=null!=c?c:d;b=Number.isFinite(b)?a(b):null;c=Number.isFinite(c)?a(c):null;return b&&c?b+" – "+c:c?"\x3c "+c:"≥ "+b}}function m(a){return function(b,c){return c?a(b):null}}function e(a){return function(b){return a(b)}}var ea=Array.prototype.map,
ka=Array.prototype.slice,X={};D("identity",w.scaleIdentity);D("linear",w.scaleLinear,"continuous");D("log",w.scaleLog,["continuous","log"]);D("pow",w.scalePow,"continuous");D("sqrt",w.scaleSqrt,"continuous");D("symlog",w.scaleSymlog,"continuous");D("time",w.scaleTime,["continuous","temporal"]);D("utc",w.scaleUtc,["continuous","temporal"]);D("sequential",w.scaleSequential,["continuous","interpolating"]);D("sequential-linear",w.scaleSequential,["continuous","interpolating"]);D("sequential-log",w.scaleSequentialLog,
["continuous","interpolating","log"]);D("sequential-pow",w.scaleSequentialPow,["continuous","interpolating"]);D("sequential-sqrt",w.scaleSequentialSqrt,["continuous","interpolating"]);D("sequential-symlog",w.scaleSequentialSymlog,["continuous","interpolating"]);D("diverging-linear",w.scaleDiverging,["continuous","interpolating"]);D("diverging-log",w.scaleDivergingLog,["continuous","interpolating","log"]);D("diverging-pow",w.scaleDivergingPow,["continuous","interpolating"]);D("diverging-sqrt",w.scaleDivergingSqrt,
["continuous","interpolating"]);D("diverging-symlog",w.scaleDivergingSymlog,["continuous","interpolating"]);D("quantile",w.scaleQuantile,["discretizing","quantile"]);D("quantize",w.scaleQuantize,"discretizing");D("threshold",w.scaleThreshold,"discretizing");D("bin-ordinal",G,["discrete","discretizing"]);D("ordinal",w.scaleOrdinal,"discrete");D("band",M,"discrete");D("point",function(){return N(M().paddingInner(1))},"discrete");var la=["clamp","base","constant","exponent"],E={};h({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",
category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",
accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},
ca);h({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",
bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",
yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",
redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",
viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",
plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},function(a){return u(ca(a))});var Va=function(a){return b.isArray(a)?a.map(function(a){return String(a)}):String(a)},J=function(a,b){return a[1]-b[1]},ib=function(a,b){return b[1]-a[1]},da={},Oa=(da.quantile="quantiles",da.quantize="thresholds",da.threshold="domain",da);da={};var t=(da.quantile="quantiles",
da.quantize="domain",da);Object.defineProperty(a,"scaleImplicit",{enumerable:!0,get:function(){return w.scaleImplicit}});a.Band="band";a.BinOrdinal="bin-ordinal";a.DiscreteLegend="discrete";a.Diverging="diverging";a.GradientLegend="gradient";a.Identity="identity";a.Linear="linear";a.Log="log";a.Ordinal="ordinal";a.Point="point";a.Pow="pow";a.Quantile="quantile";a.Quantize="quantize";a.Sequential="sequential";a.Sqrt="sqrt";a.SymbolLegend="symbol";a.Symlog="symlog";a.Threshold="threshold";a.Time="time";
a.UTC="utc";a.bandSpace=P;a.domainCaption=function(a,d,e){e=e||{};var k=Math.max(3,e.maxlen||7),v=e.format,n=(e=e.formatType)||d.type;b.isString(v)&&B(n)&&(v=v.replace(/%a/g,"%A").replace(/%b/g,"%B"));a=v||"time"!==n?v||"utc"!==n?c(a,d,5,null,v,e,!0):a.utcFormat("%A, %d %B %Y, %X UTC"):a.timeFormat("%A, %d %B %Y, %X");if(g(d.type))return k=f(d).slice(1).map(a),d=k.length,d+" boundar"+(1===d?"y":"ies")+": "+k.join(", ");if(r(d.type))return v=d.domain(),d=v.length,k=d>k?v.slice(0,k-2).map(a).join(", ")+
", ending with "+v.slice(-1).map(a):v.map(a).join(", "),d+" value"+(1===d?"":"s")+": "+k;k=d.domain();return"values from "+a(k[0])+" to "+a(b.peek(k))};a.interpolate=U;a.interpolateColors=u;a.interpolateRange=function(a,c){var d=c[0],e=b.peek(c)-d;return function(b){return a(d+b*e)}};a.isContinuous=function(a){return C(a,"continuous")};a.isDiscrete=r;a.isDiscretizing=g;a.isInterpolating=function(a){return C(a,"interpolating")};a.isLogarithmic=R;a.isQuantile=function(a){return C(a,"quantile")};a.isTemporal=
B;a.isValidScaleType=S;a.labelFormat=c;a.labelFraction=function(a){var c=a.domain(),d=c.length-1,e=+c[0];c=+b.peek(c);var f=c-e;"threshold"===a.type&&(a=d?f/d:.1,e-=a,f=c+a-e);return function(a){return(a-e)/f}};a.labelValues=f;a.quantizeInterpolator=function(a,b){for(var c=Array(b),d=b+1,e=0;e<b;)c[e]=a(++e/d);return c};a.scale=D;a.scaleCopy=function(a){var b=a.type;a=a.copy();a.type=b;return a};a.scaleFraction=function(a,c,d){var e=d-c,f;if(e&&Number.isFinite(e)){e=(f=a.type).indexOf("-");f=0>e?
f:f.slice(e+1);var k=D(f)().domain([c,d]).range([0,1]);la.forEach(function(b){return a[b]?k[b](a[b]()):0});return k}return b.constant(.5)};a.scheme=T;a.tickCount=function(a,c,d){b.isNumber(c)&&(a.bins&&(c=Math.max(c,a.bins.length)),null!=d&&(c=Math.min(c,Math.floor(b.span(a.domain())/d||1))));if(b.isObject(c)){var e=c.step;c=c.interval}b.isString(c)&&(c="time"===a.type?l.timeInterval(c):"utc"==a.type?l.utcInterval(c):b.error("Only time and utc scales accept interval strings."),e&&(c=c.every(e)));
return c};a.tickFormat=qa;a.tickValues=fa;a.validTicks=O;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[24]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z,y(0),y(18),y(17),y(19),y(13),y(23)):"function"===typeof define&&define.amd?define("exports vega-util d3-shape d3-path vega-canvas vega-loader vega-scale".split(" "),b):(a=a||self,b(a.vega={},a.vega,a.d3,a.d3,a.vega,a.vega,a.vega))})(this,function(a,b,d,w,y,l,P){function z(a,b,c){var d=a.id,e=a.gradient,f="radial"===e?"p_":"";d||(d=a.id="gradient_"+Pb++,"radial"===e?(a.x1=W(a.x1,.5),a.y1=W(a.y1,.5),
a.r1=W(a.r1,0),a.x2=W(a.x2,.5),a.y2=W(a.y2,.5),a.r2=W(a.r2,.5),f="p_"):(a.x1=W(a.x1,0),a.y1=W(a.y1,0),a.x2=W(a.x2,1),a.y2=W(a.y2,0)));b[d]=a;return"url("+(c||"")+"#"+f+d+")"}function W(a,b){return null!=a?a:b}function M(a,c,d){a=b.hasOwnProperty(eb,a)&&eb[a];var e=null;a&&(e=a.curve||a[c||"vertical"],a.tension&&null!=d&&(e=e[a.tension](d)));return e}function N(a){var b=[],c,d,e;a=a.slice().replace(Q[0],"###$1").split(Q[1]).slice(1);var f=0;for(d=a.length;f<d;++f){var k=a[f];var ja=k.slice(1).trim().replace(Q[2],
"$1###$2").split(Q[3]);var g=k.charAt(0);k=[g];var v=0;for(e=ja.length;v<e;++v)(c=+ja[v])===c&&k.push(c);ja=Fa[g.toLowerCase()];if(k.length-1>ja)for(v=1,e=k.length;v<e;v+=ja)b.push([g].concat(k.slice(v,v+ja)));else b.push(k)}return b}function Z(a,b,c,d,e,f,k,g,v){var ja=Zb.call(arguments);if(Qa[ja])return Qa[ja];var n=k*Bb,t=Math.sin(n);n=Math.cos(n);c=Math.abs(c);d=Math.abs(d);var vb=n*(g-a)*.5+t*(v-b)*.5,h=n*(v-b)*.5-t*(g-a)*.5;vb=vb*vb/(c*c)+h*h/(d*d);1<vb&&(vb=Math.sqrt(vb),c*=vb,d*=vb);var I=
n/c,ha=t/c,na=-t/d,p=n/d;vb=I*g+ha*v;h=na*g+p*v;I=I*a+ha*b;ha=na*a+p*b;na=1/((I-vb)*(I-vb)+(ha-h)*(ha-h))-.25;0>na&&(na=0);p=Math.sqrt(na);f==e&&(p=-p);na=.5*(vb+I)-p*(ha-h);p=.5*(h+ha)+p*(I-vb);vb=Math.atan2(h-p,vb-na);h=Math.atan2(ha-p,I-na)-vb;0>h&&1===f?h+=V:0<h&&0===f&&(h-=V);I=Math.ceil(Math.abs(h/(Sa+.001)));ha=[];for(var m=0;m<I;++m)ha[m]=[na,p,vb+m*h/I,vb+(m+1)*h/I,c,d,t,n];return Qa[ja]=ha}function G(a,b,c,d,e,f){var k=null,ja=0,g=0,v=0,n=0;null==c&&(c=0);null==d&&(d=0);null==e&&(e=1);null==
f&&(f=e);a.beginPath&&a.beginPath();for(var t=0,vb=b.length;t<vb;++t){var h=b[t];if(1!==e||1!==f){var I=e;var ha=f;var na=Cb[0]=h[0];if("a"===na||"A"===na)Cb[1]=I*h[1],Cb[2]=ha*h[2],Cb[3]=h[3],Cb[4]=h[4],Cb[5]=h[5],Cb[6]=I*h[6],Cb[7]=ha*h[7];else if("h"===na||"H"===na)Cb[1]=I*h[1];else if("v"===na||"V"===na)Cb[1]=ha*h[1];else{na=1;for(var p=h.length;na<p;++na)Cb[na]=(1==na%2?I:ha)*h[na]}h=Cb}switch(h[0]){case "l":ja+=h[1];g+=h[2];a.lineTo(ja+c,g+d);break;case "L":ja=h[1];g=h[2];a.lineTo(ja+c,g+d);
break;case "h":ja+=h[1];a.lineTo(ja+c,g+d);break;case "H":ja=h[1];a.lineTo(ja+c,g+d);break;case "v":g+=h[1];a.lineTo(ja+c,g+d);break;case "V":g=h[1];a.lineTo(ja+c,g+d);break;case "m":ja+=h[1];g+=h[2];a.moveTo(ja+c,g+d);break;case "M":ja=h[1];g=h[2];a.moveTo(ja+c,g+d);break;case "c":I=ja+h[5];ha=g+h[6];v=ja+h[3];n=g+h[4];a.bezierCurveTo(ja+h[1]+c,g+h[2]+d,v+c,n+d,I+c,ha+d);ja=I;g=ha;break;case "C":ja=h[5];g=h[6];v=h[3];n=h[4];a.bezierCurveTo(h[1]+c,h[2]+d,v+c,n+d,ja+c,g+d);break;case "s":I=ja+h[3];
ha=g+h[4];v=2*ja-v;n=2*g-n;a.bezierCurveTo(v+c,n+d,ja+h[1]+c,g+h[2]+d,I+c,ha+d);v=ja+h[1];n=g+h[2];ja=I;g=ha;break;case "S":I=h[3];ha=h[4];v=2*ja-v;n=2*g-n;a.bezierCurveTo(v+c,n+d,h[1]+c,h[2]+d,I+c,ha+d);ja=I;g=ha;v=h[1];n=h[2];break;case "q":I=ja+h[3];ha=g+h[4];v=ja+h[1];n=g+h[2];a.quadraticCurveTo(v+c,n+d,I+c,ha+d);ja=I;g=ha;break;case "Q":I=h[3];ha=h[4];a.quadraticCurveTo(h[1]+c,h[2]+d,I+c,ha+d);ja=I;g=ha;v=h[1];n=h[2];break;case "t":I=ja+h[1];ha=g+h[2];null===k[0].match(/[QqTt]/)?(v=ja,n=g):"t"===
k[0]?(v=2*ja-m,n=2*g-Ea):"q"===k[0]&&(v=2*ja-v,n=2*g-n);var m=v;var Ea=n;a.quadraticCurveTo(v+c,n+d,I+c,ha+d);ja=I;g=ha;v=ja+h[1];n=g+h[2];break;case "T":I=h[1];ha=h[2];v=2*ja-v;n=2*g-n;a.quadraticCurveTo(v+c,n+d,I+c,ha+d);ja=I;g=ha;break;case "a":x(a,ja+c,g+d,[h[1],h[2],h[3],h[4],h[5],h[6]+ja+c,h[7]+g+d]);ja+=h[6];g+=h[7];break;case "A":x(a,ja+c,g+d,[h[1],h[2],h[3],h[4],h[5],h[6]+c,h[7]+d]);ja=h[6];g=h[7];break;case "z":case "Z":a.closePath()}k=h}}function x(a,b,c,d){b=Z(d[5],d[6],d[0],d[1],d[3],
d[4],d[2],b,c);for(c=0;c<b.length;++c){var e=b[c];d=Zb.call(e);if(Za[d])d=Za[d];else{var f=e[0],k=e[1],ja=e[2],g=e[3],v=e[4],n=e[5],h=e[6],t=e[7];e=t*v;var vb=-h*n;v*=h;n*=t;var I=Math.cos(ja),ha=Math.sin(ja);h=Math.cos(g);t=Math.sin(g);ja=.5*(g-ja);g=Math.sin(.5*ja);g=8/3*g*g/Math.sin(ja);ja=f+I-g*ha;I=k+ha+g*I;f+=h;k+=t;t=f+g*t;h=k-g*h;d=Za[d]=[e*ja+vb*I,v*ja+n*I,e*t+vb*h,v*t+n*h,e*f+vb*k,v*f+n*k]}a.bezierCurveTo(d[0],d[1],d[2],d[3],d[4],d[5])}}function D(a){return b.hasOwnProperty(Fd,a)?Fd[a]:
S(a)}function S(a){if(!b.hasOwnProperty(vd,a)){var c=N(a);vd[a]={draw:function(a,b){G(a,c,0,0,Math.sqrt(b)/2)}}}return vd[a]}function C(a){return a.x}function r(a){return a.y}function g(a){return a.width}function R(a){return a.height}function B(a){return"function"===typeof a?a:function(){return+a}}function u(a,b,c){return Math.max(b,Math.min(a,c))}function U(){function a(a,ja,g){var t;ja=null!=ja?ja:+b.call(this,a);g=null!=g?g:+c.call(this,a);var I=+d.call(this,a),vb=+e.call(this,a),ha=Math.min(I,
vb)/2,na=u(+f.call(this,a),0,ha),p=u(+k.call(this,a),0,ha),m=u(+v.call(this,a),0,ha);a=u(+n.call(this,a),0,ha);h||(h=t=w.path());0>=na&&0>=p&&0>=m&&0>=a?h.rect(ja,g,I,vb):(I=ja+I,vb=g+vb,h.moveTo(ja+na,g),h.lineTo(I-p,g),h.bezierCurveTo(I-.448084975506*p,g,I,g+.448084975506*p,I,g+p),h.lineTo(I,vb-a),h.bezierCurveTo(I,vb-.448084975506*a,I-.448084975506*a,vb,I-a,vb),h.lineTo(ja+m,vb),h.bezierCurveTo(ja+.448084975506*m,vb,ja,vb-.448084975506*m,ja,vb-m),h.lineTo(ja,g+na),h.bezierCurveTo(ja,g+.448084975506*
na,ja+.448084975506*na,g,ja+na,g),h.closePath());if(t)return h=null,t+""||null}var b=C,c=r,d=g,e=R,f=B(0),k=f,v=f,n=f,h=null;a.x=function(c){return arguments.length?(b=B(c),a):b};a.y=function(b){return arguments.length?(c=B(b),a):c};a.width=function(b){return arguments.length?(d=B(b),a):d};a.height=function(b){return arguments.length?(e=B(b),a):e};a.cornerRadius=function(b,c,d,e){return arguments.length?(f=B(b),k=null!=c?B(c):f,n=null!=d?B(d):f,v=null!=e?B(e):k,a):f};a.context=function(b){return arguments.length?
(h=null==b?null:b,a):h};return a}function p(){function a(a){var ja,n=a.length,t,I=!1,vb;null==f&&(f=vb=w.path());for(ja=0;ja<=n;++ja)if(!(ja<n&&e(t=a[ja],ja,a))===I&&(I=!I)&&(k=0),I){var ha=+b(t,ja,a),na=+c(t,ja,a),p=+d(t,ja,a)/2;if(k){var m=v-na,Ea=ha-g;if(m||Ea){var u=Math.sqrt(m*m+Ea*Ea),q=(m/=u)*h;u=(Ea/=u)*h;var H=Math.atan2(Ea,m);f.moveTo(g-q,v-u);f.lineTo(ha-m*p,na-Ea*p);f.arc(ha,na,p,H-Math.PI,H);f.lineTo(g+q,v+u);f.arc(g,v,h,H,H+Math.PI)}else f.arc(ha,na,p,0,V);f.closePath()}else k=1;g=ha;
v=na;h=p}if(vb)return f=null,vb+""||null}var b,c,d,e,f=null,k,g,v,h;a.x=function(c){return arguments.length?(b=c,a):b};a.y=function(b){return arguments.length?(c=b,a):c};a.size=function(b){return arguments.length?(d=b,a):d};a.defined=function(b){return arguments.length?(e=b,a):e};a.context=function(b){return arguments.length?(f=null==b?null:b,a):f};return a}function ca(a,b){return null!=a?a:b}function h(a){return a.cornerRadius||a.cornerRadiusTopLeft||a.cornerRadiusTopRight||a.cornerRadiusBottomRight||
a.cornerRadiusBottomLeft}function T(a,b,c,d){return Da.context(a)(b,c,d)}function O(a,c,d){var e=c.clip;a=a._defs;c=c.clip_id||(c.clip_id="clip"+La++);a=a.clipping[c]||(a.clipping[c]={id:c});b.isFunction(e)?a.path=e(null):h(d)?a.path=T(null,d,0,0):(a.width=d.width||0,a.height=d.height||0);return"url(#"+c+")"}function fa(a){this.clear();a&&this.union(a)}function qa(a){this.mark=a;this.bounds=this.bounds||new fa}function ua(a){qa.call(this,a);this.items=this.items||[]}function f(a){this._pending=0;
this._loader=a||l.loader()}function c(a,b,c){if(b.stroke&&0!==b.opacity&&0!==b.strokeOpacity){var d=null!=b.strokeWidth?+b.strokeWidth:1;a.expand(d+(c?b.strokeJoin&&"miter"!==b.strokeJoin?0:d:0))}return a}function K(a){dc=a;return K}function m(){}function e(a,b){a=Fc=a;b=ld=b;dc.add(a,b)}function ea(a){dc.add(a,dc.y1)}function ka(a){dc.add(dc.x1,a)}function X(a,b,c,d){c=(a-b)/(a+c-2*b);0<c&&1>c&&d(a+(b-a)*c)}function la(a,b,c,d,e){var f=d-a+3*b-3*c,k=a+c-2*b,ja=a-b,g=0,v=0;1E-14<Math.abs(f)?(ja=k*
k+ja*f,0<=ja&&(ja=Math.sqrt(ja),g=(-k+ja)/f,v=(-k-ja)/f)):g=.5*ja/k;0<g&&1>g&&e(E(g,a,b,c,d));0<v&&1>v&&e(E(v,a,b,c,d))}function E(a,b,c,d,e){var f=1-a,k=f*f,ja=a*a;return k*f*b+3*k*a*c+3*f*ja*d+ja*a*e}function Va(a){return function(b,c){if(!kc)return!0;a(kc,b);rc.clear().union(b.bounds).intersect(c).round();var d=rc;b=d.x1;c=d.x2;var e=d.y2;for(d=d.y1;d<=e;++d)for(var f=b;f<=c;++f)if(kc.isPointInPath(f,d))return!0;return!1}}function J(a,b){return b.contains(a.x||0,a.y||0)}function ib(a,b){var c=
a.x||0,d=a.y||0;return b.intersects(rc.set(c,d,c+(a.width||0),d+(a.height||0)))}function da(a,b){var c=a.x||0,d=a.y||0;return Oa(b,c,d,null!=a.x2?a.x2:c,null!=a.y2?a.y2:d)}function Oa(a,b,c,d,e){var f=a.x1,k=a.y1,ja=a.x2;a=a.y2;d-=b;e-=c;var g=0,v=1,h;for(h=0;4>h;++h){if(0===h){var n=-d;var t=-(f-b)}1===h&&(n=d,t=ja-b);2===h&&(n=-e,t=-(k-c));3===h&&(n=e,t=a-c);if(1E-10>Math.abs(n)&&0>t)return!1;var I=t/n;if(0>n){if(I>v)return!1;I>g&&(g=I)}else if(0<n){if(I<g)return!1;I<v&&(v=I)}}return!0}function t(a,
b){a.globalCompositeOperation=b.blend||"source-over"}function k(a,b){return null==a?b:a}function v(a,b){for(var c=b.length,d=0;d<c;++d)a.addColorStop(b[d].offset,b[d].color);return a}function n(a,b,c){var d=c.width(),e=c.height();if("radial"===b.gradient)a=a.createRadialGradient(c.x1+k(b.x1,.5)*d,c.y1+k(b.y1,.5)*e,Math.max(d,e)*k(b.r1,0),c.x1+k(b.x2,.5)*d,c.y1+k(b.y2,.5)*e,Math.max(d,e)*k(b.r2,.5));else{var f=k(b.x1,0),ja=k(b.y1,0),g=k(b.x2,1),h=k(b.y2,0);if(f===g||ja===h||d===e)a=a.createLinearGradient(c.x1+
f*d,c.y1+ja*e,c.x1+g*d,c.y1+h*e);else{c=y.canvas(Math.ceil(d),Math.ceil(e));var n=c.getContext("2d");n.scale(d,e);n.fillStyle=v(n.createLinearGradient(f,ja,g,h),b.stops);n.fillRect(0,0,d,e);return a.createPattern(c,"no-repeat")}}return v(a,b.stops)}function ba(a,b,c){c*=null==b.fillOpacity?1:b.fillOpacity;return 0<c?(a.globalAlpha=c,b=(c=b.fill)&&c.gradient?n(a,c,b.bounds):c,a.fillStyle=b,!0):!1}function sa(a,b,c){var d=null!=(d=b.strokeWidth)?d:1;if(0>=d)return!1;c*=null==b.strokeOpacity?1:b.strokeOpacity;
return 0<c?(a.globalAlpha=c,c=(c=b.stroke)&&c.gradient?n(a,c,b.bounds):c,a.strokeStyle=c,a.lineWidth=d,a.lineCap=b.strokeCap||"butt",a.lineJoin=b.strokeJoin||"miter",a.miterLimit=b.strokeMiterLimit||10,a.setLineDash&&(a.setLineDash(b.strokeDash||Oc),a.lineDashOffset=b.strokeDashOffset||0),!0):!1}function ya(a,b){return a.zindex-b.zindex||a.index-b.index}function Ka(a){if(!a.zdirty)return a.zitems;var b=a.items,c=[],d;var e=0;for(d=b.length;e<d;++e){var f=b[e];f.index=e;f.zindex&&c.push(f)}a.zdirty=
!1;return a.zitems=c.sort(ya)}function ab(a,b){var c=a.items,d;if(c&&c.length){var e=Ka(a);if(e&&e.length){a=0;for(d=c.length;a<d;++a)c[a].zindex||b(c[a]);c=e}a=0;for(d=c.length;a<d;++a)b(c[a])}}function jb(a,b){var c=a.items,d,e;if(!c||!c.length)return null;var f=Ka(a);f&&f.length&&(c=f);for(e=c.length;0<=--e;)if(d=b(c[e]))return d;if(c===f)for(c=a.items,e=c.length;0<=--e;)if(!c[e].zindex&&(d=b(c[e])))return d;return null}function db(a){return function(b,c,d){ab(c,function(c){d&&!d.intersects(c.bounds)||
Ha(a,b,c,c)})}}function Ta(a){return function(b,c,d){!c.items.length||d&&!d.intersects(c.bounds)||Ha(a,b,c.items[0],c.items)}}function Ha(a,b,c,d){var e=null==c.opacity?1:c.opacity;0===e||a(b,d)||(t(b,c),c.fill&&ba(b,c,e)&&b.fill(),c.stroke&&sa(b,c,e)&&b.stroke())}function Xa(a){a=a||b.truthy;return function(b,c,d,e,f,k){d*=b.pixelRatio;e*=b.pixelRatio;return jb(c,function(c){var ja=c.bounds;if((!ja||ja.contains(f,k))&&ja&&a(b,c,d,e,f,k))return c})}}function va(a,b){return function(c,d,e,f){var k=
Array.isArray(d)?d[0]:d,ja=null==b?k.fill:b,g=k.stroke&&c.isPointInStroke;if(g){var v=k.strokeWidth;k=k.strokeCap;c.lineWidth=null!=v?v:1;c.lineCap=null!=k?k:"butt"}return a(c,d)?!1:ja&&c.isPointInPath(e,f)||g&&c.isPointInStroke(e,f)}}function Db(a,b){return"translate("+a+","+b+")"}function Ra(a){return Db(a.x||0,a.y||0)+(a.angle?" rotate("+(a.angle+")"):"")+(a.scaleX||a.scaleY?" scale("+((a.scaleX||1)+","+(a.scaleY||1)+")"):"")}function Kb(a,b,d){function e(a,c){var d=c.x||0,e=c.y||0,f=c.angle||
0;a.translate(d,e);f&&a.rotate(f*=Bb);a.beginPath();b(a,c);f&&a.rotate(-f);a.translate(-d,-e)}return{type:a,tag:"path",nested:!1,attr:function(a,c){a("transform",Ra(c));a("d",b(null,c))},bound:function(a,d){var e=d.x||0,f=d.y||0;b(K(a),d);c(a,d).translate(e,f);d.angle&&a.rotate(d.angle*Bb,e,f);return a},draw:db(e),pick:Xa(va(e)),isect:d||Va(e)}}function cb(a,b,d){function e(a,c){a.beginPath();b(a,c)}var f=va(e);return{type:a,tag:"path",nested:!0,attr:function(a,c){c=c.mark.items;c.length&&a("d",b(null,
c))},bound:function(a,d){d=d.items;if(0===d.length)return a;b(K(a),d);return c(a,d[0])},draw:Ta(e),pick:function(a,b,c,d,e,k){var ja=b.items;b=b.bounds;if(!ja||!ja.length||b&&!b.contains(e,k))return null;c*=a.pixelRatio;d*=a.pixelRatio;return f(a,ja,c,d)?ja[0]:null},isect:J,tip:d}}function wb(a,b){a.beginPath();h(b)?T(a,b,0,0):a.rect(0,0,b.width||0,b.height||0);a.clip()}function zb(a){var b=k(a.strokeWidth,1);return null!=a.strokeOffset?a.strokeOffset:a.stroke&&.5<b&&1.5>b?.5-Math.abs(b-1):0}function Ja(a,
b,c,d){var e=zb(b);a.beginPath();T(a,b,(c||0)+e,(d||0)+e)}function Ya(a,b){var c=a.image;if(!c||a.url&&a.url!==c.url)c={complete:!1,width:0,height:0},b.loadImage(a.url).then(function(b){a.image=b;a.image.url=a.url});return c}function Xb(a,b){return null!=a.width?a.width:b&&b.width?!1!==a.aspect&&a.height?a.height*b.width/b.height:b.width:0}function Yb(a,b){return null!=a.height?a.height:b&&b.height?!1!==a.aspect&&a.width?a.width*b.height/b.width:b.height:0}function bb(a,b){return"center"===a?b/2:
"right"===a?b:0}function tc(a,b){return"middle"===a?b/2:"bottom"===a?b:0}function Qb(a,b){var c=b.path;if(null==c)return!0;var d=b.x||0,e=b.y||0,f=b.scaleX||1,k=b.scaleY||1,g=(b.angle||0)*Bb,ja=b.pathCache;ja&&ja.path===c||((b.pathCache=ja=N(c)).path=c);g&&a.rotate&&a.translate?(a.translate(d,e),a.rotate(g),G(a,ja,0,0,f,k),a.rotate(-g),a.translate(-d,-e)):G(a,ja,d,e,f,k)}function Pa(a,b){a.beginPath();T(a,b)}function qb(a,b,c){if(b.stroke&&sa(a,b,c)){c=b.x||0;var d=b.y||0;var e=null!=b.x2?b.x2:c;
b=null!=b.y2?b.y2:d;a.beginPath();a.moveTo(c,d);a.lineTo(e,b);return!0}return!1}function Rb(a){lc.width=a&&kc?fc:xb}function xb(a,b){b=Lb(a,b);a=pc(a);return~~(.8*b.length*a)}function fc(a,b){return 0>=pc(a)||!(b=Lb(a,b))?0:Ic(b,ma(a))}function Ic(a,b){var c="("+b+") "+a,d=Kc.get(c);void 0===d&&(kc.font=b,d=kc.measureText(a).width,Kc.set(c,d));return d}function pc(a){return null!=a.fontSize?+a.fontSize||0:11}function Mb(a){return null!=a.lineHeight?a.lineHeight:pc(a)+2}function ic(a){a=a.lineBreak&&
a.text&&!b.isArray(a.text)?a.text.split(a.lineBreak):a.text;return b.isArray(a)?1<a.length?a:a[0]:a}function Lb(a,b){b=null==b?"":(b+"").trim();if(0<a.limit&&b.length){var c=+a.limit,d=pb(a);if(!(d(b)<c)){var e=a.ellipsis||"…",f="rtl"===a.dir;a=0;var k=b.length;c-=d(e);if(f){for(;a<k;)f=a+k>>>1,d(b.slice(f))>c?a=f+1:k=f;b=e+b.slice(a)}else{for(;a<k;)f=1+(a+k>>>1),d(b.slice(0,f))<c?a=f:k=f-1;b=b.slice(0,a)+e}}}return b}function pb(a){if(lc.width===fc){var b=ma(a);return function(a){return Ic(a,b)}}var c=
pc(a);return function(a){return~~(.8*a.length*c)}}function Ub(a,b){a=a.font;return(b&&a?String(a).replace(/"/g,"'"):a)||"sans-serif"}function ma(a,b){return(a.fontStyle?a.fontStyle+" ":"")+(a.fontVariant?a.fontVariant+" ":"")+(a.fontWeight?a.fontWeight+" ":"")+pc(a)+"px "+Ub(a,b)}function qc(a){var b=a.baseline,c=pc(a);return Math.round("top"===b?.79*c:"middle"===b?.3*c:"bottom"===b?-.21*c:"line-top"===b?.29*c+.5*Mb(a):"line-bottom"===b?.29*c-.5*Mb(a):0)}function cc(a){var b=a.x||0,c=a.y||0,d=a.radius||
0;d&&(a=(a.theta||0)-Sa,b+=d*Math.cos(a),c+=d*Math.sin(a));fe.x1=b;fe.y1=c;return fe}function Sc(a,c,d){var e=lc.height(c),f=c.align,k=cc(c),g=k.x1;k=k.y1;var v=c.dx||0,ja=(c.dy||0)+qc(c)-Math.round(.8*e),h=ic(c);b.isArray(h)?(e+=Mb(c)*(h.length-1),h=h.reduce(function(a,b){return Math.max(a,lc.width(c,b))},0)):h=lc.width(c,h);"center"===f?v-=h/2:"right"===f&&(v-=h);a.set(v+=g,ja+=k,v+h,ja+e);if(c.angle&&!d)a.rotate(c.angle*Bb,g,k);else if(2===d)return a.rotatedPoints(c.angle*Bb,g,k);return a}function gc(a,
b,c){var d=md[a.mark.marktype];b=b||d.bound;d.nested&&(a=a.mark);return b(a.bounds||(a.bounds=new fa),a,c)}function sc(a,b,c){var d=md[a.marktype],e=d.bound,f=a.items,k=f&&f.length;if(d.nested)return k?a=f[0]:(Jd.mark=a,a=Jd),c=gc(a,e,c),b=b&&b.union(c)||c;b=b||a.bounds&&a.bounds.clear()||new fa;if(k)for(d=0,k=f.length;d<k;++d)b.union(gc(f[d],e,c));return a.bounds=b}function Vc(a,b){return JSON.stringify(a,oe,b)}function id(a){a="string"===typeof a?JSON.parse(a):a;return yc(a)}function yc(a){var b=
a.marktype,c=a.items,d;if(c){var e=0;for(d=c.length;e<d;++e){var f=b?"mark":"group";c[e][f]=a;c[e].zindex&&(c[e][f].zdirty=!0);"group"===(b||f)&&yc(c[e])}}b&&sc(a);return a}function Tc(a){arguments.length?this.root=id(a):(this.root=Wc({marktype:"group",name:"root",role:"frame"}),this.root.items=[new ua(this.root)])}function Wc(a,b){b={bounds:new fa,clip:!!a.clip,group:b,interactive:!1===a.interactive?!1:!0,items:[],marktype:a.marktype,name:a.name||void 0,role:a.role||void 0,zindex:a.zindex||0};null!=
a.aria&&(b.aria=a.aria);a.description&&(b.description=a.description);return b}function lb(a,b,c){!a&&"undefined"!==typeof document&&document.createElement&&(a=document);return a?c?a.createElementNS(c,b):a.createElement(b):null}function Cc(a,b){b=b.toLowerCase();a=a.childNodes;for(var c=0,d=a.length;c<d;++c)if(a[c].tagName.toLowerCase()===b)return a[c]}function Aa(a,b,c,d){b=a.childNodes[b];if(!b||b.tagName.toLowerCase()!==c.toLowerCase()){var e=b||null;b=lb(a.ownerDocument,c,d);a.insertBefore(b,e)}return b}
function Ab(a,b){for(var c=a.childNodes,d=c.length;d>b;)a.removeChild(c[--d]);return a}function Wb(a){return"mark-"+a.marktype+(a.role?" role-"+a.role:"")+(a.name?" "+a.name:"")}function Qc(a,b){var c=b.getBoundingClientRect();return[a.clientX-c.left-(b.clientLeft||0),a.clientY-c.top-(b.clientTop||0)]}function Ib(a,b){this._active=null;this._handlers={};this._loader=a||l.loader();this._tooltip=b||Bc}function Bc(a,b,c,d){a.element().setAttribute("title",d||"")}function Rc(a){this._bgcolor=this._el=
null;this._loader=new f(a)}function Jc(a,b){Ib.call(this,a,b);this._touch=this._down=null;this._first=!0;this._events={}}function hd(a,b){("touchstart"===b||"touchmove"===b||"touchend"===b?["touchstart","touchmove","touchend"]:[b]).forEach(function(b){return me(a,b)})}function me(a,b){var c=a.canvas();c&&!a._events[b]&&(a._events[b]=1,c.addEventListener(b,a[b]?function(c){return a[b](c)}:function(c){return a.fire(b,c)}))}function oc(a,b,c){return function(d){var e=this._active,f=this.pickEvent(d);
f!==e&&(e&&e.exit||this.fire(c,d),this._active=f,this.fire(b,d));this.fire(a,d)}}function Hd(a){return function(b){this.fire(a,b);this._active=null}}function qd(a){Rc.call(this,a);this._options={};this._redraw=!1;this._dirty=new fa;this._tempb=new fa}function Dc(a,b){Ib.call(this,a,b);var c=this;c._hrefHandler=dd(c,function(a,b){b&&b.href&&c.handleHref(a,b,b.href)});c._tooltipHandler=dd(c,function(a,b){c.handleTooltip(a,b,"mouseout"!==a.type)})}function uc(a,b){var c=!1===b.aria;a("aria-hidden",c||
void 0);if(c||null==b.description)for(var d in na)a(na[d],void 0);else c=b.mark.marktype,a("aria-label",b.description),a("role",b.ariaRole||("group"===c?"graphics-object":"graphics-symbol")),a("aria-roledescription",b.ariaRoleDescription||c+" mark")}function Xc(a){var b={};return!1===a.aria?(b["aria-hidden"]=!0,b):Td[a.role]?null:ha[a.role]?jd(a,ha[a.role]):Uc(a)}function Uc(a){var b=a.marktype,c="group"===b||"text"===b||a.items.some(function(a){return null!=a.description&&!1!==a.aria});return $d(c?
"graphics-object":"graphics-symbol",b+" mark container",a.description)}function jd(a,b){try{var c=a.items[0],d=b.caption||function(){return""};return $d(b.role||"graphics-symbol",b.desc,c.description||d(c))}catch(Id){return null}}function td(a){try{return b.array(b.peek(a.items).items[0].text).join(" ")}catch(vb){return null}}function Cd(a){a=a.map(function(a){return a+("fill"===a||"stroke"===a?" color":"")});return 2>a.length?a[0]:a.slice(0,-1).join(", ")+" and "+b.peek(a)}function Gb(a,b,c){a="\x3c"+
a;var d;if(b)for(d in b){var e=b[d];null!=e&&(a+=" "+d+'\x3d"'+(e+"").replace(/&/g,"\x26amp;").replace(/"/g,"\x26quot;")+'"')}c&&(a+=" "+c);return a+"\x3e"}function Jb(a){return"\x3c/"+a+"\x3e"}function kd(a){Rc.call(this,a);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}function Ec(a,b){for(;a&&a.dirty!==b;a=a.mark.group)if(a.dirty=b,a.mark&&a.mark.dirty!==b)a.mark.dirty=b;else break}function Ga(a,b,c){b=b.lastChild.previousSibling;var d,e=0;ab(c,function(c){d=a.draw(b,c,d);
++e});Ab(b,1+e)}function hc(a,b,c,d,e){var f=a._svg;if(!f){var k=b.ownerDocument;f=lb(k,d,Eb);a._svg=f;a.mark&&(f.__data__=a,f.__values__={fill:"default"},"g"===d&&(d=lb(k,"path",Eb),f.appendChild(d),d.__data__=a,d=lb(k,"g",Eb),f.appendChild(d),d.__data__=a,k=lb(k,"path",Eb),f.appendChild(k),k.__data__=a,k.__values__={fill:"default"}))}(f.ownerSVGElement!==e||f.parentNode&&1<f.parentNode.childNodes.length&&f.previousSibling!=c)&&b.insertBefore(f,c?c.nextSibling:b.firstChild);return f}function Nb(a,
b,c){c!==vc[b]&&(null==c?a.style.removeProperty(b):a.style.setProperty(b,c+""),vc[b]=c)}function Yc(a,b,c){if(b!==vc[a]){if(c){var d=ad;null!=b?d.setAttributeNS(c,a,b):d.removeAttributeNS(c,a)}else Sb(ad,a,b);vc[a]=b}}function Sb(a,b,c){null!=c?a.setAttribute(b,c):a.removeAttribute(b)}function Sd(){var a;return"undefined"===typeof window?"":(a=window.location).hash?a.href.slice(0,-a.hash.length):a.href}function ud(a){Rc.call(this,a);this._text={head:"",bg:"",root:"",foot:"",defs:"",body:""};this._defs=
{gradient:{},clipping:{}}}function Dd(a,b,c,d,e){if(null==b)return a;"bgrect"===d&&!1===c.interactive&&(a["pointer-events"]="none");if("bgfore"===d&&(!1===c.interactive&&(a["pointer-events"]="none"),a.display="none",null!==b.fill))return a;"image"===d&&!1===b.smooth&&(a.style="image-rendering: optimizeSpeed; image-rendering: pixelated;");"text"===d&&(a["font-family"]=Ub(b),a["font-size"]=pc(b)+"px",b.fontStyle&&(a["font-style"]=b.fontStyle),b.fontVariant&&(a["font-variant"]=b.fontVariant),b.fontWeight&&
(a["font-weight"]=b.fontWeight));for(var f in Ea)c=b[f],d=Ea[f],("transparent"!==c||"fill"!==d&&"stroke"!==d)&&null!=c&&(c&&c.gradient&&(c=z(c,e.gradient,"")),a[d]=c);return a}function Ia(a){return a.replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;")}function Ob(a,b,c,d){if(a.bounds&&b.intersects(a.bounds)&&("group"===a.marktype||!1!==a.interactive&&(!c||c(a)))){var e=a.items,f=a.marktype;a=e.length;var k=0;if("group"===f)for(;k<a;++k)Zc(e[k],b,c,d);else for(c=md[f].isect;k<
a;++k)f=e[k],jc(f,b,c)&&d.push(f)}return d}function Zc(a,b,c,d){c&&c(a.mark)&&jc(a,b,md.group.isect)&&d.push(a);var e=a.items,f=e&&e.length;if(f){var k=a.x||0;a=a.y||0;b.translate(-k,-a);for(var g=0;g<f;++g)Ob(e[g],b,c,d);b.translate(k,a)}return d}function jc(a,b,c){var d=a.bounds;return b.encloses(d)||b.intersects(d)&&c(a,b)}function mb(a,c,d){return a===c?!0:"path"===d?Ua(a,c):a instanceof Date&&c instanceof Date?+a===+c:b.isNumber(a)&&b.isNumber(c)?1E-9>=Math.abs(a-c):a&&c&&(b.isObject(a)||b.isObject(c))?
null==a||null==c?!1:ub(a,c):a==c}function Ua(a,b){return mb(N(a),N(b))}function ub(a,b){var c=Object.keys(a),d=Object.keys(b),e;if(c.length!==d.length)return!1;c.sort();d.sort();for(e=c.length-1;0<=e;e--)if(c[e]!=d[e])return!1;for(e=c.length-1;0<=e;e--)if(d=c[e],!mb(a[d],b[d],d))return!1;return typeof a===typeof b}var Pb=0,eb={basis:{curve:d.curveBasis},"basis-closed":{curve:d.curveBasisClosed},"basis-open":{curve:d.curveBasisOpen},bundle:{curve:d.curveBundle,tension:"beta",value:.85},cardinal:{curve:d.curveCardinal,
tension:"tension",value:0},"cardinal-open":{curve:d.curveCardinalOpen,tension:"tension",value:0},"cardinal-closed":{curve:d.curveCardinalClosed,tension:"tension",value:0},"catmull-rom":{curve:d.curveCatmullRom,tension:"alpha",value:.5},"catmull-rom-closed":{curve:d.curveCatmullRomClosed,tension:"alpha",value:.5},"catmull-rom-open":{curve:d.curveCatmullRomOpen,tension:"alpha",value:.5},linear:{curve:d.curveLinear},"linear-closed":{curve:d.curveLinearClosed},monotone:{horizontal:d.curveMonotoneY,vertical:d.curveMonotoneX},
natural:{curve:d.curveNatural},step:{curve:d.curveStep},"step-after":{curve:d.curveStepAfter},"step-before":{curve:d.curveStepBefore}},Fa={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},Q=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\d)([-+])/g,/\s|,|###/],Bb=Math.PI/180,Sa=Math.PI/2,V=2*Math.PI,xa=Math.sqrt(3)/2,Qa={},Za={},Zb=[].join,Cb=["l",0,0,0,0,0,0,0],Fd={circle:{draw:function(a,b){b=Math.sqrt(b)/2;a.moveTo(b,0);a.arc(0,0,b,0,V)}},cross:{draw:function(a,b){b=Math.sqrt(b)/2;var c=b/2.5;a.moveTo(-b,-c);a.lineTo(-b,
c);a.lineTo(-c,c);a.lineTo(-c,b);a.lineTo(c,b);a.lineTo(c,c);a.lineTo(b,c);a.lineTo(b,-c);a.lineTo(c,-c);a.lineTo(c,-b);a.lineTo(-c,-b);a.lineTo(-c,-c);a.closePath()}},diamond:{draw:function(a,b){b=Math.sqrt(b)/2;a.moveTo(-b,0);a.lineTo(0,-b);a.lineTo(b,0);a.lineTo(0,b);a.closePath()}},square:{draw:function(a,b){b=Math.sqrt(b);var c=-b/2;a.rect(c,c,b,b)}},arrow:{draw:function(a,b){b=Math.sqrt(b)/2;var c=b/7,d=b/2.5,e=b/8;a.moveTo(-c,b);a.lineTo(c,b);a.lineTo(c,-e);a.lineTo(d,-e);a.lineTo(0,-b);a.lineTo(-d,
-e);a.lineTo(-c,-e);a.closePath()}},wedge:{draw:function(a,b){var c=Math.sqrt(b)/2;b=xa*c;var d=b-.5773502691896257*c;c/=4;a.moveTo(0,-b-d);a.lineTo(-c,b-d);a.lineTo(c,b-d);a.closePath()}},triangle:{draw:function(a,b){b=Math.sqrt(b)/2;var c=xa*b,d=c-.5773502691896257*b;a.moveTo(0,-c-d);a.lineTo(-b,c-d);a.lineTo(b,c-d);a.closePath()}},"triangle-up":{draw:function(a,b){b=Math.sqrt(b)/2;var c=xa*b;a.moveTo(0,-c);a.lineTo(-b,c);a.lineTo(b,c);a.closePath()}},"triangle-down":{draw:function(a,b){b=Math.sqrt(b)/
2;var c=xa*b;a.moveTo(0,c);a.lineTo(-b,-c);a.lineTo(b,-c);a.closePath()}},"triangle-right":{draw:function(a,b){b=Math.sqrt(b)/2;var c=xa*b;a.moveTo(c,0);a.lineTo(-c,-b);a.lineTo(-c,b);a.closePath()}},"triangle-left":{draw:function(a,b){b=Math.sqrt(b)/2;var c=xa*b;a.moveTo(-c,0);a.lineTo(c,-b);a.lineTo(c,b);a.closePath()}},stroke:{draw:function(a,b){b=Math.sqrt(b)/2;a.moveTo(-b,0);a.lineTo(b,0)}}},vd={},ia=function(a){return a.x||0},aa=function(a){return a.y||0},$a=function(a){return!1!==a.defined},
Y=d.arc().startAngle(function(a){return a.startAngle||0}).endAngle(function(a){return a.endAngle||0}).padAngle(function(a){return a.padAngle||0}).innerRadius(function(a){return a.innerRadius||0}).outerRadius(function(a){return a.outerRadius||0}).cornerRadius(function(a){return a.cornerRadius||0}),ra=d.area().x(ia).y1(aa).y0(function(a){return(a.y||0)+(a.height||0)}).defined($a),Lc=d.area().y(aa).x1(ia).x0(function(a){return(a.x||0)+(a.width||0)}).defined($a),mc=d.line().x(ia).y(aa).defined($a),Da=
U().x(ia).y(aa).width(function(a){return a.width||0}).height(function(a){return a.height||0}).cornerRadius(function(a){return ca(a.cornerRadiusTopLeft,a.cornerRadius)||0},function(a){return ca(a.cornerRadiusTopRight,a.cornerRadius)||0},function(a){return ca(a.cornerRadiusBottomRight,a.cornerRadius)||0},function(a){return ca(a.cornerRadiusBottomLeft,a.cornerRadius)||0}),rb=d.symbol().type(function(a){return D(a.shape||"circle")}).size(function(a){return ca(a.size,64)}),Hb=p().x(ia).y(aa).defined($a).size(function(a){return a.size||
1}),La=1,Ca=fa.prototype;Ca.clone=function(){return new fa(this)};Ca.clear=function(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;return this};Ca.empty=function(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE};Ca.equals=function(a){return this.x1===a.x1&&this.y1===a.y1&&this.x2===a.x2&&this.y2===a.y2};Ca.set=function(a,b,c,d){c<a?(this.x2=a,this.x1=c):(this.x1=a,
this.x2=c);d<b?(this.y2=b,this.y1=d):(this.y1=b,this.y2=d);return this};Ca.add=function(a,b){a<this.x1&&(this.x1=a);b<this.y1&&(this.y1=b);a>this.x2&&(this.x2=a);b>this.y2&&(this.y2=b);return this};Ca.expand=function(a){this.x1-=a;this.y1-=a;this.x2+=a;this.y2+=a;return this};Ca.round=function(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this};Ca.scale=function(a){this.x1*=a;this.y1*=a;this.x2*=a;this.y2*=a;return this};Ca.translate=
function(a,b){this.x1+=a;this.x2+=a;this.y1+=b;this.y2+=b;return this};Ca.rotate=function(a,b,c){a=this.rotatedPoints(a,b,c);return this.clear().add(a[0],a[1]).add(a[2],a[3]).add(a[4],a[5]).add(a[6],a[7])};Ca.rotatedPoints=function(a,b,c){var d=this.x1,e=this.y1,f=this.x2,k=this.y2,g=Math.cos(a);a=Math.sin(a);var v=b-b*g+c*a;b=c-b*a-c*g;return[g*d-a*e+v,a*d+g*e+b,g*d-a*k+v,a*d+g*k+b,g*f-a*e+v,a*f+g*e+b,g*f-a*k+v,a*f+g*k+b]};Ca.union=function(a){a.x1<this.x1&&(this.x1=a.x1);a.y1<this.y1&&(this.y1=
a.y1);a.x2>this.x2&&(this.x2=a.x2);a.y2>this.y2&&(this.y2=a.y2);return this};Ca.intersect=function(a){a.x1>this.x1&&(this.x1=a.x1);a.y1>this.y1&&(this.y1=a.y1);a.x2<this.x2&&(this.x2=a.x2);a.y2<this.y2&&(this.y2=a.y2);return this};Ca.encloses=function(a){return a&&this.x1<=a.x1&&this.x2>=a.x2&&this.y1<=a.y1&&this.y2>=a.y2};Ca.alignsWith=function(a){return a&&(this.x1==a.x1||this.x2==a.x2||this.y1==a.y1||this.y2==a.y2)};Ca.intersects=function(a){return a&&!(this.x2<a.x1||this.x1>a.x2||this.y2<a.y1||
this.y1>a.y2)};Ca.contains=function(a,b){return!(a<this.x1||a>this.x2||b<this.y1||b>this.y2)};Ca.width=function(){return this.x2-this.x1};Ca.height=function(){return this.y2-this.y1};b.inherits(ua,qa);var sb=f.prototype;sb.pending=function(){return this._pending};sb.sanitizeURL=function(a){var b=this;b._pending+=1;return b._loader.sanitize(a,{context:"href"}).then(function(a){--b._pending;return a}).catch(function(){--b._pending;return null})};sb.loadImage=function(a){var c=this,d=y.image();c._pending+=
1;return c._loader.sanitize(a,{context:"image"}).then(function(a){var e=a.href;if(!e||!d)throw{url:e};var f=new d;a=b.hasOwnProperty(a,"crossOrigin")?a.crossOrigin:"anonymous";null!=a&&(f.crossOrigin=a);f.onload=function(){--c._pending};f.onerror=function(){--c._pending};f.src=e;return f}).catch(function(a){--c._pending;return{complete:!1,width:0,height:0,src:a&&a.url||""}})};sb.ready=function(){var a=this;return new Promise(function(b){function c(d){a.pending()?setTimeout(function(){c(!0)},10):b(d)}
c(!1)})};var dc,Fc,ld,nd=V-1E-8;K.beginPath=m;K.closePath=m;K.moveTo=e;K.lineTo=e;K.rect=function(a,b,c,d){dc.add(a+c,b+d);e(a,b)};K.quadraticCurveTo=function(a,b,c,d){X(Fc,a,c,ea);X(ld,b,d,ka);e(c,d)};K.bezierCurveTo=function(a,b,c,d,f,k){la(Fc,a,c,f,ea);la(ld,b,d,k,ka);e(f,k)};K.arc=function(a,b,c,d,e,f){Fc=c*Math.cos(e)+a;ld=c*Math.sin(e)+b;if(Math.abs(e-d)>nd)dc.add(a-c,b-c),dc.add(a+c,b+c);else{var k=function(d){dc.add(c*Math.cos(d)+a,c*Math.sin(d)+b)};k(d);k(e);if(e!==d){d%=V;0>d&&(d+=V);e%=
V;0>e&&(e+=V);if(e<d){f=!f;var g=d;d=e;e=g}if(f)for(e-=V,g=d-d%Sa,d=0;4>d&&g>e;++d,g-=Sa)k(g);else for(g=d-d%Sa+Sa,d=0;4>d&&g<e;++d,g+=Sa)k(g)}}};var kc=(kc=y.canvas(1,1))?kc.getContext("2d"):null,rc=new fa,Oc=[],nb=Kb("arc",function(a,b){return Y.context(a)(b)}),Mc=cb("area",function(a,b){var c=b[0];return("horizontal"===c.orient?Lc:ra).curve(M(c.interpolate||"linear",c.orient,c.tension)).context(a)(b)},function(a,b){b="horizontal"===a[0].orient?b[1]:b[0];for(var c="horizontal"===a[0].orient?"y":
"x",d=a.length,e=Infinity,f,k;0<=--d;)!1!==a[d].defined&&(k=Math.abs(a[d][c]-b),k<e&&(e=k,f=a[d]));return f}),bd=va(Ja),wd=va(Ja,!1),yb={type:"group",tag:"g",nested:!1,attr:function(a,b){a("transform",Db(b.x||0,b.y||0))},bound:function(a,b){if(!b.clip&&b.items)for(var d=b.items,e=d.length,f=0;f<e;++f)a.union(d[f].bounds);(b.clip||b.width||b.height)&&!b.noBound&&a.add(0,0).add(b.width||0,b.height||0);c(a,b);return a.translate(b.x||0,b.y||0)},draw:function(a,b,c){var d=this;ab(b,function(b){var e=b.x||
0,f=b.y||0,k=b.strokeForeground,g=null==b.opacity?1:b.opacity;(b.stroke||b.fill)&&g&&(Ja(a,b,e,f),t(a,b),b.fill&&ba(a,b,g)&&a.fill(),b.stroke&&!k&&sa(a,b,g)&&a.stroke());a.save();a.translate(e,f);b.clip&&wb(a,b);c&&c.translate(-e,-f);ab(b,function(b){d.draw(a,b,c)});c&&c.translate(e,f);a.restore();k&&b.stroke&&g&&(Ja(a,b,e,f),t(a,b),sa(a,b,g)&&a.stroke())})},pick:function(a,b,c,d,e,f){var k=this;if(b.bounds&&!b.bounds.contains(e,f)||!b.items)return null;var g=c*a.pixelRatio,v=d*a.pixelRatio;return jb(b,
function(n){var t=n.bounds;if(!t||t.contains(e,f)){var I=n.x||0;var ha=n.y||0;t=I+(n.width||0);var na=ha+(n.height||0);var p=n.clip;if(!p||!(e<I||e>t||f<ha||f>na)){a.save();a.translate(I,ha);I=e-I;ha=f-ha;if(p&&h(n)&&!bd(a,n,g,v))return a.restore(),null;na=n.strokeForeground;if((p=!1!==b.interactive)&&na&&n.stroke&&wd(a,n,g,v))return a.restore(),n;t=jb(n,function(a){return(!1!==a.interactive||"group"===a.marktype)&&a.bounds&&a.bounds.contains(I,ha)?k.pick(a,c,d,I,ha):null});!t&&p&&(n.fill||!na&&n.stroke)&&
bd(a,n,g,v)&&(t=n);a.restore();return t||null}}})},isect:ib,content:function(a,b,c){b=b.clip?O(c,b,b):null;a("clip-path",b)},background:function(a,b){a("class","background");a("aria-hidden",!0);var c=zb(b);a("d",T(null,b,c,c))},foreground:function(a,b){a("class","foreground");a("aria-hidden",!0);if(b.strokeForeground){var c=zb(b);a("d",T(null,b,c,c))}else a("d","")}},nc={version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},yd={type:"image",tag:"image",nested:!1,
attr:function(a,b,c){var d=Ya(b,c);c=Xb(b,d);var e=Yb(b,d),f=(b.x||0)-bb(b.align,c),k=(b.y||0)-tc(b.baseline,e);d=!d.src&&d.toDataURL?d.toDataURL():d.src||"";a("href",d,nc["xmlns:xlink"],"xlink:href");a("transform",Db(f,k));a("width",c);a("height",e);a("preserveAspectRatio",!1===b.aspect?"none":"xMidYMid")},bound:function(a,b){var c=b.image,d=Xb(b,c);c=Yb(b,c);var e=(b.x||0)-bb(b.align,d);b=(b.y||0)-tc(b.baseline,c);return a.set(e,b,e+d,b+c)},draw:function(a,b,c){var d=this;ab(b,function(b){if(!c||
c.intersects(b.bounds)){var e=Ya(b,d),f=Xb(b,e),k=Yb(b,e),g=(b.x||0)-bb(b.align,f),v=(b.y||0)-tc(b.baseline,k),n;if(!1!==b.aspect){var h=e.width/e.height;var I=b.width/b.height;h===h&&I===I&&h!==I&&(I<h?(h=f/h,v+=(k-h)/2,k=h):(h*=k,g+=(f-h)/2,f=h))}if(e.complete||e.toDataURL)t(a,b),a.globalAlpha=null!=(n=b.opacity)?n:1,a.imageSmoothingEnabled=!1!==b.smooth,a.drawImage(e,g,v,f,k)}})},pick:Xa(),isect:b.truthy,get:Ya,xOffset:bb,yOffset:tc},ob=cb("line",function(a,b){var c=b[0];return mc.curve(M(c.interpolate||
"linear",c.orient,c.tension)).context(a)(b)},function(a,b){for(var c=Math.pow(a[0].strokeWidth||1,2),d=a.length,e,f;0<=--d;)if(!1!==a[d].defined&&(e=a[d].x-b[0],f=a[d].y-b[1],e=e*e+f*f,e<c))return a[d];return null}),I={type:"path",tag:"path",nested:!1,attr:function(a,b){var c=b.scaleY||1;1===(b.scaleX||1)&&1===c||a("vector-effect","non-scaling-stroke");a("transform",Ra(b));a("d",b.path)},bound:function(a,b){Qb(K(a),b)?a.set(0,0,0,0):c(a,b,!0);b.angle&&a.rotate(b.angle*Bb,b.x||0,b.y||0);return a},
draw:db(Qb),pick:Xa(va(Qb)),isect:Va(Qb)},Ma={type:"rect",tag:"path",nested:!1,attr:function(a,b){a("d",T(null,b))},bound:function(a,b){var d,e;return c(a.set(d=b.x||0,e=b.y||0,d+b.width||0,e+b.height||0),b)},draw:db(Pa),pick:Xa(va(Pa)),isect:ib},ed={type:"rule",tag:"line",nested:!1,attr:function(a,b){a("transform",Db(b.x||0,b.y||0));a("x2",null!=b.x2?b.x2-(b.x||0):0);a("y2",null!=b.y2?b.y2-(b.y||0):0)},bound:function(a,b){var d,e;return c(a.set(d=b.x||0,e=b.y||0,null!=b.x2?b.x2:d,null!=b.y2?b.y2:
e),b)},draw:function(a,b,c){ab(b,function(b){if(!c||c.intersects(b.bounds)){var d=null==b.opacity?1:b.opacity;d&&qb(a,b,d)&&(t(a,b),a.stroke())}})},pick:Xa(function(a,b,c,d){return a.isPointInStroke?qb(a,b,1)&&a.isPointInStroke(c,d):!1}),isect:da},ue=Kb("shape",function(a,b){return(b.mark.shape||b.shape).context(a)(b)}),Gc=Kb("symbol",function(a,b){return rb.context(a)(b)},J),Kc=b.lruCache(),lc={height:pc,measureWidth:fc,estimateWidth:xb,width:xb,canvas:Rb};Rb(!0);var zc={left:"start",center:"middle",
right:"end"},fe=new fa,ge={type:"text",tag:"text",nested:!1,attr:function(a,b){var c=b.dx||0,d=(b.dy||0)+qc(b),e=cc(b),f=e.x1;e=e.y1;var k=b.angle||0;a("text-anchor",zc[b.align]||"start");if(k){if(b=Db(f,e)+" rotate("+(k+")"),c||d)b+=" "+Db(c,d)}else b=Db(f+c,e+d);a("transform",b)},bound:Sc,draw:function(a,c,d){ab(c,function(c){var e=null==c.opacity?1:c.opacity,f;if(!(d&&!d.intersects(c.bounds)||0===e||0>=c.fontSize||null==c.text||0===c.text.length)){a.font=ma(c);a.textAlign=c.align||"left";var k=
cc(c);var g=k.x1;k=k.y1;c.angle&&(a.save(),a.translate(g,k),a.rotate(c.angle*Bb),g=k=0);g+=c.dx||0;k+=(c.dy||0)+qc(c);var v=ic(c);t(a,c);if(b.isArray(v)){var h=Mb(c);for(f=0;f<v.length;++f){var n=Lb(c,v[f]);c.fill&&ba(a,c,e)&&a.fillText(n,g,k);c.stroke&&sa(a,c,e)&&a.strokeText(n,g,k);k+=h}}else n=Lb(c,v),c.fill&&ba(a,c,e)&&a.fillText(n,g,k),c.stroke&&sa(a,c,e)&&a.strokeText(n,g,k);c.angle&&a.restore()}})},pick:Xa(function(a,b,c,d,e,f){if(0>=b.fontSize)return!1;if(!b.angle)return!0;c=cc(b);a=c.x1;
c=c.y1;d=Sc(fe,b,1);var k=-b.angle*Bb;b=Math.cos(k);k=Math.sin(k);return d.contains(b*e-k*f+(a-b*a+k*c),k*e+b*f+(c-k*a-b*c))}),isect:function(a,b){a=Sc(fe,a,2);return Oa(b,a[0],a[1],a[2],a[3])||Oa(b,a[0],a[1],a[4],a[5])||Oa(b,a[4],a[5],a[6],a[7])||Oa(b,a[2],a[3],a[6],a[7])}},ae=cb("trail",function(a,b){return Hb.context(a)(b)},function(a,b){for(var c=a.length,d,e;0<=--c;)if(!1!==a[c].defined&&(d=a[c].x-b[0],e=a[c].y-b[1],e=d*d+e*e,d=a[c].size||1,e<d*d))return a[c];return null}),md={arc:nb,area:Mc,
group:yb,image:yd,line:ob,path:I,rect:Ma,rule:ed,shape:ue,symbol:Gc,text:ge,trail:ae},Jd={mark:null},oe="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" "),
Kd=Tc.prototype;Kd.toJSON=function(a){return Vc(this.root,a||0)};Kd.mark=function(a,b,c){b=b||this.root.items[0];a=Wc(a,b);b.items[c]=a;a.zindex&&(a.group.zdirty=!0);return a};var $c=Ib.prototype;$c.initialize=function(a,b,c){this._el=a;this._obj=c||null;return this.origin(b)};$c.element=function(){return this._el};$c.canvas=function(){return this._el&&this._el.firstChild};$c.origin=function(a){return arguments.length?(this._origin=a||[0,0],this):this._origin.slice()};$c.scene=function(a){if(!arguments.length)return this._scene;
this._scene=a;return this};$c.on=function(){};$c.off=function(){};$c._handlerIndex=function(a,b,c){for(var d=a?a.length:0;0<=--d;)if(a[d].type===b&&(!c||a[d].handler===c))return d;return-1};$c.handlers=function(a){var b=this._handlers,c=[];if(a)c.push.apply(c,b[this.eventName(a)]);else for(var d in b)c.push.apply(c,b[d]);return c};$c.eventName=function(a){var b=a.indexOf(".");return 0>b?a:a.slice(0,b)};$c.handleHref=function(a,b,c){this._loader.sanitize(c,{context:"href"}).then(function(b){var c=
new MouseEvent(a.type,a),d=lb(null,"a"),e;for(e in b)d.setAttribute(e,b[e]);d.dispatchEvent(c)}).catch(function(){})};$c.handleTooltip=function(a,b,c){if(b&&null!=b.tooltip){var d=this.canvas(),e=this._origin,f=b&&b.mark,k;if(f&&(k=md[f.marktype]).tip){d=Qc(a,d);d[0]-=e[0];for(d[1]-=e[1];b=b.mark.group;)d[0]-=b.x||0,d[1]-=b.y||0;b=k.tip(f.items,d)}this._tooltip.call(this._obj,this,a,b,c&&b&&b.tooltip||null)}};$c.getItemBoundingClientRect=function(a){var b=this.canvas();if(b){var c=b.getBoundingClientRect(),
d=this._origin,e=a.bounds;b=e.width();var f=e.height(),k=e.x1+d[0]+c.left;for(c=e.y1+d[1]+c.top;a.mark&&(a=a.mark.group);)k+=a.x||0,c+=a.y||0;return{x:k,y:c,width:b,height:f,left:k,top:c,right:k+b,bottom:c+f}}};var $b=Rc.prototype;$b.initialize=function(a,b,c,d,e){this._el=a;return this.resize(b,c,d,e)};$b.element=function(){return this._el};$b.canvas=function(){return this._el&&this._el.firstChild};$b.background=function(a){if(0===arguments.length)return this._bgcolor;this._bgcolor=a;return this};
$b.resize=function(a,b,c,d){this._width=a;this._height=b;this._origin=c||[0,0];this._scale=d||1;return this};$b.dirty=function(){};$b.render=function(a){var b=this;b._call=function(){b._render(a)};b._call();b._call=null;return b};$b._render=function(){};$b.renderAsync=function(a){var b=this.render(a);return this._ready?this._ready.then(function(){return b}):Promise.resolve(b)};$b._load=function(a,b){var c=this;a=c._loader[a](b);if(!c._ready){var d=c._call;c._ready=c._loader.ready().then(function(a){a&&
d();c._ready=null})}return a};$b.sanitizeURL=function(a){return this._load("sanitizeURL",a)};$b.loadImage=function(a){return this._load("loadImage",a)};var ac=b.inherits(Jc,Ib);ac.initialize=function(a,b,c){var d=this;this._canvas=a&&Cc(a,"canvas");["click","mousedown","mousemove","mouseout","dragleave"].forEach(function(a){return hd(d,a)});return Ib.prototype.initialize.call(this,a,b,c)};ac.canvas=function(){return this._canvas};ac.context=function(){return this._canvas.getContext("2d")};ac.events=
"keydown keypress keyup dragenter dragleave dragover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" ");ac.DOMMouseScroll=function(a){this.fire("mousewheel",a)};ac.mousemove=oc("mousemove","mouseover","mouseout");ac.dragover=oc("dragover","dragenter","dragleave");ac.mouseout=Hd("mouseout");ac.dragleave=Hd("dragleave");ac.mousedown=function(a){this._down=this._active;this.fire("mousedown",a)};ac.click=function(a){this._down===this._active&&
(this.fire("click",a),this._down=null)};ac.touchstart=function(a){this._touch=this.pickEvent(a.changedTouches[0]);this._first&&(this._active=this._touch,this._first=!1);this.fire("touchstart",a,!0)};ac.touchmove=function(a){this.fire("touchmove",a,!0)};ac.touchend=function(a){this.fire("touchend",a,!0);this._touch=null};ac.fire=function(a,b,c){c=c?this._touch:this._active;var d=this._handlers[a];b.vegaType=a;"click"===a&&c&&c.href?this.handleHref(b,c,c.href):("mousemove"===a||"mouseout"===a)&&this.handleTooltip(b,
c,"mouseout"!==a);if(d){a=0;for(var e=d.length;a<e;++a)d[a].handler.call(this._obj,b,c)}};ac.on=function(a,b){var c=this.eventName(a),d=this._handlers;0>this._handlerIndex(d[c],a,b)&&(hd(this,a),(d[c]||(d[c]=[])).push({type:a,handler:b}));return this};ac.off=function(a,b){var c=this.eventName(a);c=this._handlers[c];a=this._handlerIndex(c,a,b);0<=a&&c.splice(a,1);return this};ac.pickEvent=function(a){a=Qc(a,this._canvas);var b=this._origin;return this.pick(this._scene,a[0],a[1],a[0]-b[0],a[1]-b[1])};
ac.pick=function(a,b,c,d,e){var f=this.context();return md[a.marktype].pick.call(this,f,a,b,c,d,e)};var Ae="undefined"!==typeof window?window.devicePixelRatio||1:1,Ld=b.inherits(qd,Rc),he=Rc.prototype;Ld.initialize=function(a,b,c,d,e,f){this._options=f||{};this._canvas=this._options.externalContext?null:y.canvas(1,1,this._options.type);a&&this._canvas&&(Ab(a,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks"));return he.initialize.call(this,a,b,c,d,e)};Ld.resize=function(a,c,d,
e){he.resize.call(this,a,c,d,e);if(this._canvas){a=this._canvas;c=this._width;d=this._height;e=this._origin;var f=this._scale,k=this._options.context,g="undefined"!==typeof HTMLElement&&a instanceof HTMLElement&&null!=a.parentNode,v=a.getContext("2d");f=g?Ae:f;a.width=c*f;a.height=d*f;for(var h in k)v[h]=k[h];g&&1!==f&&(a.style.width=c+"px",a.style.height=d+"px");v.pixelRatio=f;v.setTransform(f,0,0,f,f*e[0],f*e[1])}else(h=this._options.externalContext)||b.error("CanvasRenderer is missing a valid canvas or context"),
h.scale(this._scale,this._scale),h.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this};Ld.canvas=function(){return this._canvas};Ld.context=function(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)};Ld.dirty=function(a){var b=this._tempb.clear().union(a.bounds);for(a=a.mark.group;a;)b.translate(a.x||0,a.y||0),a=a.mark.group;this._dirty.union(b)};Ld._render=function(a){var b=this.context(),c=this._origin,d=this._width,e=this._height,f=this._dirty,
k=(new fa).set(0,0,d,e).translate(-c[0],-c[1]);b.save();this._redraw||f.empty()?k=(this._redraw=!1,k.expand(1)):(k=k.intersect(f),k.expand(1).round(),b.pixelRatio%1&&k.scale(b.pixelRatio).round().scale(1/b.pixelRatio),k.translate(-(c[0]%1),-(c[1]%1)),b.beginPath(),b.rect(k.x1,k.y1,k.width(),k.height()),b.clip());this.clear(-c[0],-c[1],d,e);this.draw(b,a,k);b.restore();f.clear();return this};Ld.draw=function(a,c,d){var e=md[c.marktype];if(c.clip){var f=c.clip;a.save();b.isFunction(f)?(a.beginPath(),
f(a),a.clip()):wb(a,c.group)}e.draw.call(this,a,c,d);c.clip&&a.restore()};Ld.clear=function(a,b,c,d){var e=this._options,f=this.context();"pdf"===e.type||e.externalContext||f.clearRect(a,b,c,d);null!=this._bgcolor&&(f.fillStyle=this._bgcolor,f.fillRect(a,b,c,d))};var fd=b.inherits(Dc,Ib);fd.initialize=function(a,b,c){var d=this._svg;d&&(d.removeEventListener("click",this._hrefHandler),d.removeEventListener("mousemove",this._tooltipHandler),d.removeEventListener("mouseout",this._tooltipHandler));if(this._svg=
d=a&&Cc(a,"svg"))d.addEventListener("click",this._hrefHandler),d.addEventListener("mousemove",this._tooltipHandler),d.addEventListener("mouseout",this._tooltipHandler);return Ib.prototype.initialize.call(this,a,b,c)};fd.canvas=function(){return this._svg};var dd=function(a,b){return function(c){var d=c.target.__data__;d=Array.isArray(d)?d[0]:d;c.vegaType=c.type;b.call(a._obj,c,d)}};fd.on=function(a,b){var c=this.eventName(a),d=this._handlers;0>this._handlerIndex(d[c],a,b)&&(a={type:a,handler:b,listener:dd(this,
b)},(d[c]||(d[c]=[])).push(a),this._svg&&this._svg.addEventListener(c,a.listener));return this};fd.off=function(a,b){var c=this.eventName(a),d=this._handlers[c];a=this._handlerIndex(d,a,b);0<=a&&(this._svg&&this._svg.removeEventListener(c,d[a].listener),d.splice(a,1));return this};var $d=function(a,b,c){var d={};return d.role=a,d["aria-roledescription"]=b,d["aria-label"]=c||void 0,d},Td=b.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),
ha={axis:{desc:"axis",caption:function(a){var b=a.datum,c=a.orient,d=b.title?td(a):null,e=a.context;b=e.scales[b.scale].value;e=e.dataflow.locale();var f=b.type;return("left"===c||"right"===c?"Y":"X")+"-axis"+(d?" titled '"+d+"'":"")+(" for a "+(P.isDiscrete(f)?"discrete":f)+" scale with ")+P.domainCaption(e,b,a)}},legend:{desc:"legend",caption:function(a){var b=a.datum,c=b.title?td(a):null,d=((b.type||"")+" legend").trim(),e=b.scales;b=Object.keys(e);var f=a.context;e=f.scales[e[b[0]]].value;f=f.dataflow.locale();
return(d.length?d[0].toUpperCase()+d.slice(1):d)+(c?" titled '"+c+"'":"")+(" for "+Cd(b))+(" with "+P.domainCaption(f,e,a))}},"title-text":{desc:"title",caption:function(a){return"Title text '"+b.array(a.text).join(" ")+"'"}},"title-subtitle":{desc:"subtitle",caption:function(a){return"Subtitle text '"+b.array(a.text).join(" ")+"'"}}},na={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},Ea={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",
strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},bc={fill:"none","stroke-miterlimit":10},Eb=nc.xmlns,Ac=b.inherits(kd,Rc),rd=Rc.prototype;Ac.initialize=function(a,b,c,d){this._defs={gradient:{},clipping:{}};if(a){this._svg=Aa(a,0,"svg",Eb);this._svg.setAttribute("class","marks");Ab(a,1);this._root=Aa(this._svg,0,"g",Eb);
for(var e in bc)this._root.setAttribute(e,bc[e]);Ab(this._svg,1)}this.background(this._bgcolor);return rd.initialize.call(this,a,b,c,d)};Ac.background=function(a){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",a);return rd.background.apply(this,arguments)};Ac.resize=function(a,b,c,d){rd.resize.call(this,a,b,c,d);this._svg&&(this._svg.setAttribute("width",this._width*this._scale),this._svg.setAttribute("height",this._height*this._scale),this._svg.setAttribute("viewBox",
"0 0 "+this._width+" "+this._height),this._root.setAttribute("transform","translate("+this._origin+")"));this._dirty=[];return this};Ac.canvas=function(){return this._svg};Ac.svg=function(){if(!this._svg)return null;var a={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(b in nc)a[b]=nc[b];var b=this._bgcolor?Gb("rect",{width:this._width,height:this._height,fill:this._bgcolor})+Jb("rect"):"";return Gb("svg",a)+(this._defs.el?
this._defs.el.outerHTML:"")+b+this._root.outerHTML+Jb("svg")};Ac._render=function(a){this._dirtyCheck()&&(this._dirtyAll&&this._resetDefs(),this.draw(this._root,a),Ab(this._root,1));this.updateDefs();this._dirty=[];++this._dirtyID;return this};Ac.updateDefs=function(){var a=this._svg,b=this._defs,c=b.el,d=0;for(n in b.gradient){c||(b.el=c=Aa(a,0,"defs",Eb));var e,f=c,k=b.gradient[n];if("radial"===k.gradient){var g=Aa(f,d++,"pattern",Eb);g.setAttribute("id","p_"+k.id);g.setAttribute("viewBox","0,0,1,1");
g.setAttribute("width","100%");g.setAttribute("height","100%");g.setAttribute("preserveAspectRatio","xMidYMid slice");g=Aa(g,0,"rect",Eb);g.setAttribute("width","1");g.setAttribute("height","1");g.setAttribute("fill","url("+Sd()+"#"+k.id+")");f=Aa(f,d++,"radialGradient",Eb);f.setAttribute("id",k.id);f.setAttribute("fx",k.x1);f.setAttribute("fy",k.y1);f.setAttribute("fr",k.r1);f.setAttribute("cx",k.x2);f.setAttribute("cy",k.y2);f.setAttribute("r",k.r2)}else f=Aa(f,d++,"linearGradient",Eb),f.setAttribute("id",
k.id),f.setAttribute("x1",k.x1),f.setAttribute("x2",k.x2),f.setAttribute("y1",k.y1),f.setAttribute("y2",k.y2);var v=0;for(e=k.stops.length;v<e;++v)g=Aa(f,v,"stop",Eb),g.setAttribute("offset",k.stops[v].offset),g.setAttribute("stop-color",k.stops[v].color);Ab(f,v)}for(var h in b.clipping){c||(b.el=c=Aa(a,0,"defs",Eb));var n=c;f=b.clipping[h];n=Aa(n,d,"clipPath",Eb);n.setAttribute("id",f.id);f.path?(k=Aa(n,0,"path",Eb),k.setAttribute("d",f.path)):(k=Aa(n,0,"rect",Eb),k.setAttribute("x",0),k.setAttribute("y",
0),k.setAttribute("width",f.width),k.setAttribute("height",f.height));Ab(n,1);d+=1}c&&(0===d?(a.removeChild(c),b.el=null):Ab(c,d))};Ac._resetDefs=function(){var a=this._defs;a.gradient={};a.clipping={}};Ac.dirty=function(a){a.dirty!==this._dirtyID&&(a.dirty=this._dirtyID,this._dirty.push(a))};Ac.isDirty=function(a){return this._dirtyAll||!a._svg||a.dirty===this._dirtyID};Ac._dirtyCheck=function(){this._dirtyAll=!0;var a=this._dirty;if(!a.length||!this._dirtyID)return!0;var b=++this._dirtyID,c;var d=
0;for(c=a.length;d<c;++d){var e=a[d];var f=e.mark;if(f.marktype!==k){var k=f.marktype;var g=md[k]}f.zdirty&&f.dirty!==b&&(this._dirtyAll=!1,Ec(e,b),f.items.forEach(function(a){a.dirty=b}));f.zdirty||(e.exit?(g.nested&&f.items.length?(f=f.items[0],f._svg&&this._update(g,f._svg,f)):e._svg&&(f=e._svg.parentNode)&&f.removeChild(e._svg),e._svg=null):(e=g.nested?f.items[0]:e,e._update!==b&&(e._svg&&e._svg.ownerSVGElement?this._update(g,e._svg,e):(this._dirtyAll=!1,Ec(e,b)),e._update=b)))}return!this._dirtyAll};
Ac.draw=function(a,b,c){var d=this;if(!this.isDirty(b))return b._svg;var e=this._svg,f=md[b.marktype],k=!1===b.interactive?"none":null,g="g"===f.tag,v=null,h=0;var n=hc(b,a,c,"g",e);n.setAttribute("class",Wb(b));a=Xc(b);for(var t in a)Sb(n,t,a[t]);g||Sb(n,"pointer-events",k);Sb(n,"clip-path",b.clip?O(this,b,b.group):null);k=function(a){var b=d.isDirty(a),c=hc(a,n,v,f.tag,e);b&&(d._update(f,c,a),g&&Ga(d,c,a));v=c;++h};f.nested?b.items.length&&k(b.items[0]):ab(b,k);Ab(n,h);return n};var ad=null,vc=
null,zd={group:function(a,b,c){var d=ad=b.childNodes[2];vc=d.__values__;a.foreground(Yc,c,this);vc=b.__values__;ad=b.childNodes[1];a.content(Yc,c,this);b=ad=b.childNodes[0];a.background(Yc,c,this);a=!1===c.mark.interactive?"none":null;a!==vc.events&&(Sb(d,"pointer-events",a),Sb(b,"pointer-events",a),vc.events=a);c.strokeForeground&&c.stroke?(a=c.fill,Sb(d,"display",null),this.style(b,c),Sb(b,"stroke",null),a&&(c.fill=null),vc=d.__values__,this.style(d,c),a&&(c.fill=a),ad=null):Sb(d,"display","none")},
image:function(a,b,c){!1===c.smooth?(Nb(b,"image-rendering","optimizeSpeed"),Nb(b,"image-rendering","pixelated")):Nb(b,"image-rendering",null)},text:function(a,c,d){a=ic(d);if(b.isArray(a)){var e=a.map(function(a){return Lb(d,a)});a=e.join("\n");if(a!==vc.text){Ab(c,0);var f=c.ownerDocument;var k=Mb(d);e.forEach(function(a,b){var e=lb(f,"tspan",Eb);e.__data__=d;e.textContent=a;b&&(e.setAttribute("x",0),e.setAttribute("dy",k));c.appendChild(e)});vc.text=a}}else e=Lb(d,a),e!==vc.text&&(c.textContent=
e,vc.text=e);Sb(c,"font-family",Ub(d));Sb(c,"font-size",pc(d)+"px");Sb(c,"font-style",d.fontStyle);Sb(c,"font-variant",d.fontVariant);Sb(c,"font-weight",d.fontWeight)}};Ac._update=function(a,b,c){ad=b;vc=b.__values__;uc(Yc,c);a.attr(Yc,c,this);var d=zd[a.type];d&&d.call(this,a,b,c);ad&&this.style(ad,c)};Ac.style=function(a,b){if(null!=b)for(var c in Ea){var d="font"===c?Ub(b):b[c];if(d!==vc[c]){var e=Ea[c];null==d?a.removeAttribute(e):(d&&d.gradient&&(d=z(d,this._defs.gradient,Sd())),a.setAttribute(e,
d+""));vc[c]=d}}};var Gd=b.inherits(ud,Rc),ie=Rc.prototype;Gd.resize=function(a,c,d,e){ie.resize.call(this,a,c,d,e);a=this._origin;c=this._text;d={class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:"0 0 "+this._width+" "+this._height};for(var f in nc)d[f]=nc[f];c.head=Gb("svg",d);f=this._bgcolor;if("transparent"===f||"none"===f)f=null;c.bg=f?Gb("rect",{width:this._width,height:this._height,fill:f})+Jb("rect"):"";c.root=Gb("g",b.extend({},bc,{transform:"translate("+
a+")"}));c.foot=Jb("g")+Jb("svg");return this};Gd.background=function(){var a=ie.background.apply(this,arguments);arguments.length&&this._text.head&&this.resize(this._width,this._height,this._origin,this._scale);return a};Gd.svg=function(){var a=this._text;return a.head+a.defs+a.bg+a.root+a.body+a.foot};Gd._render=function(a){this._text.body=this.mark(a);this._text.defs=this.buildDefs();return this};Gd.buildDefs=function(){var a="",b,c;for(c in this._defs.gradient){var d=this._defs.gradient[c],e=
d.stops;"radial"===d.gradient?(a+=Gb(b="pattern",{id:"p_"+c,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),a+=Gb("rect",{width:"1",height:"1",fill:"url(#"+c+")"})+Jb("rect"),a+=Jb(b),a+=Gb(b="radialGradient",{id:c,fx:d.x1,fy:d.y1,fr:d.r1,cx:d.x2,cy:d.y2,r:d.r2})):a+=Gb(b="linearGradient",{id:c,x1:d.x1,x2:d.x2,y1:d.y1,y2:d.y2});for(d=0;d<e.length;++d)a+=Gb("stop",{offset:e[d].offset,"stop-color":e[d].color})+Jb("stop");a+=Jb(b)}for(var f in this._defs.clipping)b=
this._defs.clipping[f],a+=Gb("clipPath",{id:f}),a=b.path?a+(Gb("path",{d:b.path})+Jb("path")):a+(Gb("rect",{x:0,y:0,width:b.width,height:b.height})+Jb("rect")),a+=Jb("clipPath");return a?Gb("defs")+a+Jb("defs"):""};Gd.attr=function(a,b,c,d){var e=this,f={},k=function(a,b,c,d){f[d||a]=b};Array.isArray(c)?c.forEach(function(a){return a(k,b,e)}):c(k,b,this);d&&Dd(f,b,a,d,this._defs);return f};Gd.href=function(a){var b=this,c=a.href;if(c){if(a=b._hrefs&&b._hrefs[c])return a;b.sanitizeURL(c).then(function(a){a["xlink:href"]=
a.href;a.href=null;(b._hrefs||(b._hrefs={}))[c]=a})}return null};Gd.mark=function(a){var c=this,d=md[a.marktype],e=d.tag,f=[uc,d.attr],k="";k+=Gb("g",b.extend({"class":Wb(a),"clip-path":a.clip?O(this,a,a.group):null},Xc(a),{"pointer-events":"g"!==e&&!1===a.interactive?"none":null}));var g=function(g){var v=c.href(g);v&&(k+=Gb("a",v));k+=Gb(e,c.attr(a,g,f,"g"!==e?e:null));if("text"===e){var n=ic(g);if(b.isArray(n))for(var h={x:0,dy:Mb(g)},t=0;t<n.length;++t)k+=Gb("tspan",t?h:null)+Ia(Lb(g,n[t]))+Jb("tspan");
else k+=Ia(Lb(g,n))}else"g"===e&&(n=g.strokeForeground,h=g.fill,t=g.stroke,n&&t&&(g.stroke=null),k+=Gb("path",c.attr(a,g,d.background,"bgrect"))+Jb("path"),k+=Gb("g",c.attr(a,g,d.content))+c.markGroup(g)+Jb("g"),n&&t?(h&&(g.fill=null),g.stroke=t,k+=Gb("path",c.attr(a,g,d.foreground,"bgrect"))+Jb("path"),h&&(g.fill=h)):k+=Gb("path",c.attr(a,g,d.foreground,"bgfore"))+Jb("path"));k+=Jb(e);v&&(k+=Jb("a"))};d.nested?a.items&&a.items.length&&g(a.items[0]):ab(a,g);return k+Jb("g")};Gd.markGroup=function(a){var b=
this,c="";ab(a,function(a){c+=b.mark(a)});return c};var pe={};pe.canvas=pe.png={renderer:qd,headless:qd,handler:Jc};pe.svg={renderer:kd,headless:ud,handler:Dc};pe.none={};var Ie=new fa;a.Bounds=fa;a.CanvasHandler=Jc;a.CanvasRenderer=qd;a.Gradient=function(a,b){var c=[],d;return d={gradient:"linear",x1:a?a[0]:0,y1:a?a[1]:0,x2:b?b[0]:1,y2:b?b[1]:0,stops:c,stop:function(a,b){c.push({offset:a,color:b});return d}}};a.GroupItem=ua;a.Handler=Ib;a.Item=qa;a.Marks=md;a.RenderType={Canvas:"canvas",PNG:"png",
SVG:"svg",None:"none"};a.Renderer=Rc;a.ResourceLoader=f;a.SVGHandler=Dc;a.SVGRenderer=kd;a.SVGStringRenderer=ud;a.Scenegraph=Tc;a.boundClip=function(a){var c=a.clip;if(b.isFunction(c))c(K(Ie.clear()));else if(c)Ie.set(0,0,a.group.width,a.group.height);else return;a.bounds.intersect(Ie)};a.boundContext=K;a.boundItem=gc;a.boundMark=sc;a.boundStroke=c;a.closeTag=Jb;a.domChild=Aa;a.domClear=Ab;a.domCreate=lb;a.domFind=Cc;a.font=ma;a.fontFamily=Ub;a.fontSize=pc;a.intersect=function(a,c,d){var e=[];c=(new fa).union(c);
var f=a.marktype;return f?Ob(a,c,d,e):"group"===f?Zc(a,c,d,e):b.error("Intersect scene must be mark node or group item.")};a.intersectBoxLine=Oa;a.intersectPath=Va;a.intersectPoint=J;a.intersectRule=da;a.lineHeight=Mb;a.multiLineOffset=function(a){var c=ic(a);return(b.isArray(c)?c.length-1:0)*Mb(a)};a.openTag=Gb;a.pathCurves=M;a.pathEqual=Ua;a.pathParse=N;a.pathRectangle=U;a.pathRender=G;a.pathSymbols=D;a.pathTrail=p;a.point=Qc;a.renderModule=function(a,b){a=String(a||"").toLowerCase();return 1<arguments.length?
(pe[a]=b,this):pe[a]};a.resetSVGClipId=function(){La=1};a.resetSVGDefIds=function(){La=1;Pb=0};a.sceneEqual=mb;a.sceneFromJSON=id;a.scenePickVisit=jb;a.sceneToJSON=Vc;a.sceneVisit=ab;a.sceneZOrder=Ka;a.textMetrics=lc;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[25]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z,y(14),y(24),y(0)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],b):(a=a||self,b((a.vega=a.vega||{},a.vega.transforms={}),a.vega,a.vega,a.vega))})(this,function(a,b,d,w){function y(a){b.Transform.call(this,null,a)}function l(a,b,c){return b(a.bounds.clear(),a,c)}function P(a){b.Transform.call(this,0,a)}function z(a){var b=a._signals[":vega_identifier:"];
b||(a._signals[":vega_identifier:"]=b=a.add(0));return b}function W(a){b.Transform.call(this,null,a)}function M(a){var b=a.groups;a=a.parent;return b&&1===b.size?b.get(Object.keys(b.object)[0]):b&&a?b.lookup(a):null}function N(a){b.Transform.call(this,null,a)}function Z(a,b,c){return c>Math.max(b.x1-a.x2,a.x1-b.x2,b.y1-a.y2,a.y1-b.y2)}function G(a,b){for(var c=1,d=a.length,e=a[0].bounds;c<d;++c)if(Z(e,e=a[c].bounds,b))return!0}function x(a){a=a.bounds;return 1<a.width()&&1<a.height()}function D(a,
b,c){a=a.range();var e=new d.Bounds;"top"===b||"bottom"===b?e.set(a[0],-Infinity,a[1],Infinity):e.set(-Infinity,a[0],Infinity,a[1]);e.expand(c||1);return function(a){return e.encloses(a.bounds)}}function S(a){a.forEach(function(a){return a.opacity=1});return a}function C(a){b.Transform.call(this,null,a)}function r(a,b,c){return a[b]===c?0:(a[b]=c,1)}function g(a){a=a.items[0].orient;return"left"===a||"right"===a}function R(a,b,c,e){b=b.items[0];var f=b.datum,k=null!=b.translate?b.translate:.5,g=b.orient,
v=+f.grid;var h=[f.ticks?v++:-1,f.labels?v++:-1,v+ +f.domain];v=b.range;var n=b.offset,t=b.position,p=b.minExtent,m=b.maxExtent;f=f.title&&b.items[h[2]].items[0];var u=b.titlePadding,l=b.bounds,x=f&&d.multiLineOffset(f),O;da.clear().union(l);l.clear();-1<(O=h[0])&&l.union(b.items[O].bounds);-1<(O=h[1])&&l.union(b.items[O].bounds);switch(g){case "top":c=t||0;e=-n;p=Math.max(p,Math.min(m,-l.y1));l.add(0,-p).add(v,0);f&&B(a,f,p,u,x,0,-1,l);break;case "left":c=-n;e=t||0;p=Math.max(p,Math.min(m,-l.x1));
l.add(-p,0).add(0,v);f&&B(a,f,p,u,x,1,-1,l);break;case "right":c+=n;e=t||0;p=Math.max(p,Math.min(m,l.x2));l.add(0,0).add(p,v);f&&B(a,f,p,u,x,1,1,l);break;case "bottom":c=t||0;e+=n;p=Math.max(p,Math.min(m,l.y2));l.add(0,0).add(v,p);f&&B(a,f,p,u,0,0,1,l);break;default:c=b.x,e=b.y}d.boundStroke(l.translate(c,e),b);r(b,"x",c+k)|r(b,"y",e+k)&&(b.bounds=da,a.dirty(b),b.bounds=l,a.dirty(b));return b.mark.bounds.clear().union(l)}function B(a,b,c,d,e,f,g,h){var k=b.bounds;b.auto&&(c=g*(c+e+d),e=d=0,a.dirty(b),
f?d=(b.x||0)-(b.x=c):e=(b.y||0)-(b.y=c),b.mark.bounds.clear().union(k.translate(-d,-e)),a.dirty(b));h.union(k)}function u(a){return(new d.Bounds).set(0,0,a.width||0,a.height||0)}function U(a){var b=a.bounds.clone();return b.empty()?b.set(0,0,0,0):b.translate(-(a.x||0),-(a.y||0))}function p(a,b,c){a=w.isObject(a)?a[b]:a;return null!=a?a:void 0!==c?c:0}function ca(a){return 0>a?Math.ceil(-a):0}function h(a,b,c){var d=!c.nodirty,e="flush"===c.bounds?u:U,f=da.set(0,0,0,0),k=p(c.align,"column"),g=p(c.align,
"row"),v=p(c.padding,"column"),h=p(c.padding,"row"),n=c.columns||b.length,t=0>=n?1:Math.ceil(b.length/n),m=b.length,r=Array(m),l=Array(n),x=0,O=Array(m),ea=Array(t),C=0,T=Array(m),D=Array(m),G=Array(m),B,w,S;for(B=0;B<n;++B)l[B]=0;for(B=0;B<t;++B)ea[B]=0;for(B=0;B<m;++B){var fa=b[B];var M=G[B]=e(fa);fa.x=fa.x||0;T[B]=0;fa.y=fa.y||0;D[B]=0;fa=B%n;var R=~~(B/n);x=Math.max(x,w=Math.ceil(M.x2));C=Math.max(C,S=Math.ceil(M.y2));l[fa]=Math.max(l[fa],w);ea[R]=Math.max(ea[R],S);r[B]=v+ca(M.x1);O[B]=h+ca(M.y1);
d&&a.dirty(b[B])}for(B=0;B<m;++B)0===B%n&&(r[B]=0),B<n&&(O[B]=0);if("each"===k)for(fa=1;fa<n;++fa){e=0;for(B=fa;B<m;B+=n)e<r[B]&&(e=r[B]);for(B=fa;B<m;B+=n)r[B]=e+l[fa-1]}else if("all"===k){for(B=e=0;B<m;++B)B%n&&e<r[B]&&(e=r[B]);for(B=0;B<m;++B)B%n&&(r[B]=e+x)}else for(k=!1,fa=1;fa<n;++fa)for(B=fa;B<m;B+=n)r[B]+=l[fa-1];if("each"===g)for(R=1;R<t;++R){e=0;B=R*n;for(fa=B+n;B<fa;++B)e<O[B]&&(e=O[B]);for(B=R*n;B<fa;++B)O[B]=e+ea[R-1]}else if("all"===g){e=0;for(B=n;B<m;++B)e<O[B]&&(e=O[B]);for(B=n;B<
m;++B)O[B]=e+C}else for(g=!1,R=1;R<t;++R)for(B=R*n,fa=B+n;B<fa;++B)O[B]+=ea[R-1];for(B=R=0;B<m;++B)R=r[B]+(B%n?R:0),T[B]+=R-b[B].x;for(fa=0;fa<n;++fa)for(r=0,B=fa;B<m;B+=n)r+=O[B],D[B]+=r-b[B].y;if(k&&p(c.center,"column")&&1<t)for(B=0;B<m;++B)M="all"===k?x:l[B%n],R=M-G[B].x2-b[B].x-T[B],0<R&&(T[B]+=R/2);if(g&&p(c.center,"row")&&1!==n)for(B=0;B<m;++B)M="all"===g?C:ea[~~(B/n)],r=M-G[B].y2-b[B].y-D[B],0<r&&(D[B]+=r/2);for(B=0;B<m;++B)f.union(G[B].translate(T[B],D[B]));R=p(c.anchor,"x");r=p(c.anchor,
"y");switch(p(c.anchor,"column")){case "end":R-=f.width();break;case "middle":R-=f.width()/2}switch(p(c.anchor,"row")){case "end":r-=f.height();break;case "middle":r-=f.height()/2}R=Math.round(R);r=Math.round(r);f.clear();for(B=0;B<m;++B)b[B].mark.bounds.clear();for(B=0;B<m;++B)fa=b[B],fa.x+=T[B]+=R,fa.y+=D[B]+=r,f.union(fa.mark.bounds.union(fa.bounds.translate(T[B],D[B]))),d&&a.dirty(fa);return f}function T(a,b){return"x1"===b?a.x||0:"y1"===b?a.y||0:"x2"===b?(a.x||0)+(a.width||0):"y2"===b?(a.y||
0)+(a.height||0):void 0}function O(a,b){return a.bounds[b]}function fa(a,b,c,d,e,f,g,h,t,p,m,u,r,l){var k=c.length,v=d=0,n,x;if(!k)return d;for(n=m;n<k;n+=u)c[n]&&(d=g(d,t(c[n],p)));if(!b.length)return d;b.length>e&&(a.warn("Grid headers exceed limit: "+e),b=b.slice(0,e));d+=f;e=0;for(f=b.length;e<f;++e)a.dirty(b[e]),b[e].mark.bounds.clear();n=m;e=0;for(f=b.length;e<f;++e,n+=u){t=b[e];m=t.mark.bounds;for(k=n;0<=k&&null==(x=c[k]);k-=r);if(h){k=null==l?x.x:Math.round(x.bounds.x1+l*x.bounds.width());
var B=d}else k=d,B=null==l?x.y:Math.round(x.bounds.y1+l*x.bounds.height());m.union(t.bounds.translate(k-(t.x||0),B-(t.y||0)));t.x=k;t.y=B;a.dirty(t);v=g(v,m[p])}return v}function qa(a,b,c,d,e,f){if(b){a.dirty(b);var k=c;d?k=Math.round(e.x1+f*e.width()):c=Math.round(e.y1+f*e.height());b.bounds.translate(k-(b.x||0),c-(b.y||0));b.mark.bounds.clear().union(b.bounds);b.x=k;b.y=c;a.dirty(b)}}function ua(a,b){var c=a[b]||{};return function(b,d){return null!=c[b]?c[b]:null!=a[b]?a[b]:d}}function f(a,b){var c=
-Infinity;a.forEach(function(a){null!=a.offset&&(c=Math.max(c,a.offset))});return-Infinity<c?c:b}function c(a,b,c,d,e,g,h){var k=ua(c,b);c=f(a,k("offset",0));var v=k("anchor","start"),n="end"===v?1:"middle"===v?.5:0;a={align:"each",bounds:k("bounds","flush"),columns:"vertical"===k("direction")?1:a.length,padding:k("margin",8),center:k("center"),nodirty:!0};switch(b){case "left":a.anchor={x:Math.floor(d.x1)-c,column:"end",y:n*(h||d.height()+2*d.y1),row:v};break;case "right":a.anchor={x:Math.ceil(d.x2)+
c,y:n*(h||d.height()+2*d.y1),row:v};break;case "top":a.anchor={y:Math.floor(e.y1)-c,row:"end",x:n*(g||e.width()+2*e.x1),column:v};break;case "bottom":a.anchor={y:Math.ceil(e.y2)+c,x:n*(g||e.width()+2*e.x1),column:v};break;case "top-left":a.anchor={x:c,y:c};break;case "top-right":a.anchor={x:g-c,y:c,column:"end"};break;case "bottom-left":a.anchor={x:c,y:h-c,row:"end"};break;case "bottom-right":a.anchor={x:g-c,y:h-c,column:"end",row:"end"}}return a}function K(a,b){b=b.items[0];var c=b.datum,f=b.orient,
k=b.bounds,g=b.x,h=b.y;b._bounds?b._bounds.clear().union(k):b._bounds=k.clone();k.clear();var v=b.items[0].items[0];var t=b.padding,p=t-v.x,u=t-v.y;if(b.datum.title){var r=b.items[1].items[0],l=r.anchor,x=b.titlePadding||0,B=t-r.x,O=t-r.y;switch(r.orient){case "left":p+=Math.ceil(r.bounds.width())+x;break;case "right":case "bottom":break;default:u+=r.bounds.height()+x}(p||u)&&ea(a,v,p,u);switch(r.orient){case "left":O+=e(b,v,r,l,1,1);break;case "right":B+=e(b,v,r,"end",0,0)+x;O+=e(b,v,r,l,1,1);break;
case "bottom":B+=e(b,v,r,l,0,0);O+=e(b,v,r,"end",-1,0,1)+x;break;default:B+=e(b,v,r,l,0,0)}(B||O)&&ea(a,r,B,O);0>(B=Math.round(r.bounds.x1-t))&&(ea(a,v,-B,0),ea(a,r,-B,0))}else(p||u)&&ea(a,v,p,u);k=m(b,k);a=2*b.padding;v=2*b.padding;k.empty()||(a=Math.ceil(k.width()+a),v=Math.ceil(k.height()+v));"symbol"===c.type&&ka(b.items[0].items[0].items[0].items);"none"!==f&&(b.x=g=0,b.y=h=0);b.width=a;b.height=v;d.boundStroke(k.set(g,h,g+a,h+v),b);b.mark.bounds.clear().union(k);return b}function m(a,b){a.items.forEach(function(a){return b.union(a.bounds)});
b.x1=a.padding;b.y1=a.padding;return b}function e(a,b,c,e,f,g,h){var k=c.datum.vgrad;a=("symbol"===a.datum.type||!g&&k||h?b:b.items[0]).bounds[f?"y2":"x2"]-a.padding;b=k&&g?a:0;g=k&&g?0:a;c=0>=f?0:d.multiLineOffset(c);return Math.round("start"===e?b:"end"===e?g-c:.5*(a-c))}function ea(a,b,c,d){b.x+=c;b.y+=d;b.bounds.translate(c,d);b.mark.bounds.translate(c,d);a.dirty(b)}function ka(a){var b=a.reduce(function(a,b){a[b.column]=Math.max(b.bounds.x2-b.x,a[b.column]||0);return a},{});a.forEach(function(a){a.width=
b[a.column];a.height=a.bounds.y2-a.y})}function X(a,b,c,d,e){var f=b.items[0],k=f.orient,g=f.anchor,h=f.offset,t=f.padding,v=f.items[0].items[0],n=f.items[1]&&f.items[1].items[0],p="left"===k||"right"===k?d:c,m=0,u=c=0;"group"!==f.frame?"left"===k?(m=e.y2,p=e.y1):"right"===k?(m=e.y1,p=e.y2):(m=e.x1,p=e.x2):"left"===k&&(m=d,p=0);d="start"===g?m:"end"===g?p:(m+p)/2;if(n&&n.text){switch(k){case "top":case "bottom":u=v.bounds.height()+t;break;case "left":c=v.bounds.width()+t;break;case "right":c=-v.bounds.width()-
t}da.clear().union(n.bounds);da.translate(c-(n.x||0),u-(n.y||0));r(n,"x",c)|r(n,"y",u)&&(a.dirty(n),n.bounds.clear().union(da),n.mark.bounds.clear().union(da),a.dirty(n));da.clear().union(n.bounds)}else da.clear();da.union(v.bounds);switch(k){case "top":k=d;e=e.y1-da.height()-h;break;case "left":k=e.x1-da.width()-h;e=d;break;case "right":k=e.x2+da.width()+h;e=d;break;case "bottom":k=d;e=e.y2+h;break;default:k=f.x,e=f.y}r(f,"x",k)|r(f,"y",e)&&(da.translate(k,e),a.dirty(f),f.bounds.clear().union(da),
b.bounds.clear().union(da),a.dirty(f));return f.bounds}function E(a){b.Transform.call(this,null,a)}function wa(a){return a&&"legend-entry"!==a.mark.role}function Va(a,b,e){var f=b.items,k=Math.max(0,b.width||0),t=Math.max(0,b.height||0),n=(new d.Bounds).set(0,0,k,t),v=n.clone(),p=n.clone(),m=[],u,r;var l=0;for(r=f.length;l<r;++l){var x=f[l];switch(x.role){case "axis":var B=g(x)?v:p;B.union(R(a,x,k,t));break;case "title":var O=x;break;case "legend":m.push(K(a,x));break;case "frame":case "scope":case "row-header":case "row-footer":case "row-title":case "column-header":case "column-footer":case "column-title":v.union(x.bounds);
p.union(x.bounds);break;default:n.union(x.bounds)}}if(m.length){var ea={};m.forEach(function(a){u=a.orient||"right";"none"!==u&&(ea[u]||(ea[u]=[])).push(a)});for(var C in ea)f=ea[C],h(a,f,c(f,C,e.legends,v,p,k,t));m.forEach(function(b){var c=b.bounds;c.equals(b._bounds)||(b.bounds=b._bounds,a.dirty(b),b.bounds=c,a.dirty(b));if(e.autosize&&"fit"===e.autosize.type)switch(b.orient){case "left":case "right":n.add(c.x1,0).add(c.x2,0);break;case "top":case "bottom":n.add(0,c.y1).add(0,c.y2)}else n.union(c)})}n.union(v).union(p);
O&&n.union(X(a,O,k,t,n));b.clip&&n.set(0,0,b.width||0,b.height||0);J(a,b,n,e)}function J(a,b,c,d){d=d.autosize||{};var e=d.type;if(!(1>a._autosize)&&e){var f=a._width,k=a._height,g=Math.max(0,b.width||0),h=Math.max(0,Math.ceil(-c.x1)),t=Math.max(0,Math.ceil(c.x2-g));b=Math.max(0,b.height||0);var n=Math.max(0,Math.ceil(-c.y1));c=Math.max(0,Math.ceil(c.y2-b));if("padding"===d.contains){var v=a.padding();f-=v.left+v.right;k-=v.top+v.bottom}"none"===e?(n=h=0,g=f,b=k):"fit"===e?(g=Math.max(0,f-h-t),b=
Math.max(0,k-n-c)):"fit-x"===e?(g=Math.max(0,f-h-t),k=b+n+c):"fit-y"===e?(f=g+h+t,b=Math.max(0,k-n-c)):"pad"===e&&(f=g+h+t,k=b+n+c);a._resizeView(f,k,g,b,[h,n],d.resize)}}w.inherits(y,b.Transform).transform=function(a,b){var c=b.dataflow,e=a.mark,f=e.marktype,k=d.Marks[f],g=k.bound,h=e.bounds;if(k.nested)e.items.length&&c.dirty(e.items[0]),h=l(e,g),e.items.forEach(function(a){a.bounds.clear().union(h)});else if("group"===f||a.modified())switch(b.visit(b.MOD,function(a){return c.dirty(a)}),h.clear(),
e.items.forEach(function(a){return h.union(l(a,g))}),e.role){case "axis":case "legend":case "title":b.reflow()}else{var t=b.changed(b.REM);b.visit(b.ADD,function(a){h.union(l(a,g))});b.visit(b.MOD,function(a){t=t||h.alignsWith(a.bounds);c.dirty(a);h.union(l(a,g))});t&&(h.clear(),e.items.forEach(function(a){return h.union(a.bounds)}))}d.boundClip(e);return b.modifies("bounds")};P.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};w.inherits(P,b.Transform).transform=
function(a,b){var c=z(b.dataflow),d=c.value,e=a.as;b.visit(b.ADD,function(a){a[e]||(a[e]=++d)});c.set(this.value=d);return b};w.inherits(W,b.Transform).transform=function(a,b){var c=this.value;c||(c=b.dataflow.scenegraph().mark(a.markdef,M(a),a.index),c.group.context=a.context,a.context.group||(a.context.group=c.group),c.source=this.source,c.clip=a.clip,c.interactive=a.interactive,this.value=c);var e="group"===c.marktype?d.GroupItem:d.Item;b.visit(b.ADD,function(a){return e.call(a,c)});if(a.modified("clip")||
a.modified("interactive"))c.clip=a.clip,c.interactive=!!a.interactive,c.zdirty=!0,b.reflow();c.items=b.source;return b};var ib={parity:function(a){return a.filter(function(a,b){return b%2?a.opacity=0:1})},greedy:function(a,b){var c;return a.filter(function(a,d){if(d&&Z(c.bounds,a.bounds,b))return a.opacity=0;c=a;return 1})}};w.inherits(N,b.Transform).transform=function(a,b){var c=ib[a.method]||ib.parity,d=b.materialize(b.SOURCE).source,e=a.separation||0;if(d&&d.length){if(!a.method)return a.modified("method")&&
(S(d),b=b.reflow(a.modified()).modifies("opacity")),b;d=d.filter(x);if(d.length){a.sort&&(d=d.slice().sort(a.sort));var f=S(d);b=b.reflow(a.modified()).modifies("opacity");if(3<=f.length&&G(f,e)){do f=c(f,e);while(3<=f.length&&G(f,e));3>f.length&&!w.peek(d).opacity&&(1<f.length&&(w.peek(f).opacity=0),w.peek(d).opacity=1)}if(a.boundScale&&0<=a.boundTolerance){var k=D(a.boundScale,a.boundOrient,+a.boundTolerance);d.forEach(function(a){k(a)||(a.opacity=0)})}var g=f[0].mark.bounds.clear();d.forEach(function(a){a.opacity&&
g.union(a.bounds)});return b}}};w.inherits(C,b.Transform).transform=function(a,b){var c=b.dataflow;b.visit(b.ALL,function(a){return c.dirty(a)});b.fields&&b.fields.zindex&&(a=b.source&&b.source[0])&&(a.mark.zdirty=!0)};var da=new d.Bounds,Oa=function(a,b){return Math.floor(Math.min(a,b))},t=function(a,b){return Math.ceil(Math.max(a,b))};w.inherits(E,b.Transform).transform=function(a,b){var c=b.dataflow;a.mark.items.forEach(function(b){if(a.layout){for(var d=a.layout,e=b.items,f=e.length,k=0,g,n,v=
[],m=[],u=[],r=[],l=[],x=null,B=null;k<f;++k)if(g=e[k],n=g.items,"group"===g.marktype)switch(g.role){case "axis":case "legend":case "title":break;case "row-header":m.push.apply(m,$jscomp.arrayFromIterable(n));break;case "row-footer":u.push.apply(u,$jscomp.arrayFromIterable(n));break;case "column-header":r.push.apply(r,$jscomp.arrayFromIterable(n));break;case "column-footer":l.push.apply(l,$jscomp.arrayFromIterable(n));break;case "row-title":x=n[0];break;case "column-title":B=n[0];break;default:v.push.apply(v,
$jscomp.arrayFromIterable(n))}g="flush"===d.bounds?T:O;e=d.offset;n=d.columns||v.length;var ea=0>=n?1:Math.ceil(v.length/n),C=ea*n;f=h(c,v,d);f.empty()&&f.set(0,0,0,0);if(m){k=p(d.headerBand,"row",null);var D=fa(c,m,v,n,ea,-p(e,"rowHeader"),Oa,0,g,"x1",0,n,1,k)}if(r){k=p(d.headerBand,"column",null);var G=fa(c,r,v,n,n,-p(e,"columnHeader"),Oa,1,g,"y1",0,1,n,k)}if(u){k=p(d.footerBand,"row",null);var ca=fa(c,u,v,n,ea,p(e,"rowFooter"),t,0,g,"x2",n-1,n,1,k)}if(l){k=p(d.footerBand,"column",null);var w=fa(c,
l,v,n,n,p(e,"columnFooter"),t,1,g,"y2",C-n,1,n,k)}x&&(m=p(d.titleAnchor,"row"),v=p(e,"rowTitle"),v="end"===m?ca+v:D-v,k=p(d.titleBand,"row",.5),qa(c,x,v,0,f,k));B&&(m=p(d.titleAnchor,"column"),v=p(e,"columnTitle"),v="end"===m?w+v:G-v,k=p(d.titleBand,"column",.5),qa(c,B,v,1,f,k))}Va(c,b,a)});return wa(a.mark.group)?b.reflow():b};a.bound=y;a.identifier=P;a.mark=W;a.overlap=N;a.render=C;a.viewlayout=E;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[26]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z,y(14),y(23),y(0),y(3),y(21)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-scale vega-util d3-array d3-interpolate".split(" "),b):(a=a||self,b((a.vega=a.vega||{},a.vega.transforms={}),a.vega,a.vega,a.vega,a.d3,a.d3))})(this,function(a,b,d,w,y,l){function P(a){b.Transform.call(this,null,a)}function z(a){b.Transform.call(this,null,a)}function W(){return b.ingest({})}function M(a){var b=
w.fastmap().test(function(a){return a.exit});b.lookup=function(c){return b.get(a(c))};return b}function N(a){b.Transform.call(this,null,a)}function Z(a){b.Transform.call(this,[],a)}function G(a){return a.source.x}function x(a){return a.source.y}function D(a){return a.target.x}function S(a){return a.target.y}function C(a){b.Transform.call(this,{},a)}function r(a,b,c,d){return"M"+a+","+b+"L"+c+","+d}function g(a,b,c,d){var e=c-a,f=d-b,g=Math.sqrt(e*e+f*f)/2;return"M"+a+","+b+"A"+g+","+g+" "+180*Math.atan2(f,
e)/Math.PI+" 0 1 "+c+","+d}function R(a,b,c,d){var e=c-a,f=d-b,g=.2*(e+f);e=.2*(f-e);return"M"+a+","+b+"C"+(a+g)+","+(b+e)+" "+(c+e)+","+(d-g)+" "+c+","+d}function B(a){b.Transform.call(this,null,a)}function u(a){return d.isContinuous(a)&&a!==d.Sequential}function U(a){b.Transform.call(this,null,a);this.modified(!0)}function p(a,b,c){d.isLogarithmic(a)&&Math.abs(b.reduce(function(a,b){return a+(0>b?-1:0<b?1:0)},0))!==b.length&&c.warn("Log scale domain includes zero: "+w.stringValue(b));return b}function ca(a,
b,c){return w.isFunction(a)&&(b||c)?d.interpolateRange(a,h(b||[0,1],c)):a}function h(a,b){return b?a.slice().reverse():a}function T(a){b.Transform.call(this,null,a)}function O(a){b.Transform.call(this,null,a)}function fa(a,b,c,d,f){b=(b-a.sum)/2;for(var e=a.length,g=0,h;g<e;++g)h=a[g],h[d]=b,h[f]=b+=Math.abs(c(h))}function qa(a,b,c,d,f){b=1/a.sum;for(var e=0,g=a.length,h=0,p=0,m;h<g;++h)m=a[h],m[d]=e,m[f]=e=b*(p+=Math.abs(c(m)))}function ua(a,b,c,d,f){for(var e=b=0,g=a.length,h=0,p,m;h<g;++h)m=a[h],
p=+c(m),0>p?(m[d]=e,m[f]=e+=p):(m[d]=b,m[f]=b+=p)}function f(a,b,c,d){var e=[],f=function(a){return a(m)},g;if(null==b)e.push(a.slice());else{var h={};var p=0;for(g=a.length;p<g;++p){var m=a[p];var u=b.map(f);var t=h[u];t||(h[u]=t=[],e.push(t));t.push(m)}}f=u=0;for(a=e.length;u<a;++u){t=e[u];b=p=0;for(g=t.length;p<g;++p)b+=Math.abs(d(t[p]));t.sum=b;b>f&&(f=b);c&&t.sort(c)}e.max=f;return e}w.inherits(P,b.Transform).transform=function(a,c){if(this.value&&!a.modified())return c.StopPropagation;var e=
c.dataflow.locale();c=c.fork(c.NO_SOURCE|c.NO_FIELDS);var f=this.value,g=a.scale,h=d.tickCount(g,null==a.count?a.values?a.values.length:10:a.count,a.minstep),p=a.format||d.tickFormat(e,g,h,a.formatSpecifier,a.formatType,!!a.values),m=a.values?d.validTicks(g,a.values,h):d.tickValues(g,h);f&&(c.rem=f);f=m.map(function(a,c){return b.ingest({index:c/(m.length-1||1),value:a,label:p(a)})});a.extra&&f.length&&f.push(b.ingest({index:-1,extra:{value:f[0].value},label:""}));c.source=f;this.value=c.add=f;return c};
w.inherits(z,b.Transform).transform=function(a,c){var d=c.dataflow,e=c.fork(c.NO_SOURCE|c.NO_FIELDS),f=a.item||W,g=a.key||b.tupleid,h=this.value;w.isArray(e.encode)&&(e.encode=null);h&&(a.modified("key")||c.modified(g))&&w.error("DataJoin does not support modified key function or fields.");h||(c=c.addAll(),this.value=h=M(g));c.visit(c.ADD,function(a){var b=g(a),c=h.get(b);c?c.exit?(h.empty--,e.add.push(c)):e.mod.push(c):(c=f(a),h.set(b,c),e.add.push(c));c.datum=a;c.exit=!1});c.visit(c.MOD,function(a){var b=
g(a);if(b=h.get(b))b.datum=a,e.mod.push(b)});c.visit(c.REM,function(a){var b=g(a);b=h.get(b);a!==b.datum||b.exit||(e.rem.push(b),b.exit=!0,++h.empty)});c.changed(c.ADD_MOD)&&e.modifies("datum");(c.clean()||a.clean&&h.empty>d.cleanThreshold)&&d.runAfter(h.clean);return e};w.inherits(N,b.Transform).transform=function(a,b){var c=b.fork(b.ADD_REM),d=a.mod||!1,e=a.encoders,f=b.encode;if(w.isArray(f))if(c.changed()||f.every(function(a){return e[a]}))f=f[0],c.encode=null;else return b.StopPropagation;var g=
"enter"===f,h=e.update||w.falsy,p=e.enter||w.falsy,m=e.exit||w.falsy,u=(f&&!g?e[f]:h)||w.falsy;b.changed(b.ADD)&&(b.visit(b.ADD,function(b){p(b,a);h(b,a)}),c.modifies(p.output),c.modifies(h.output),u!==w.falsy&&u!==h&&(b.visit(b.ADD,function(b){u(b,a)}),c.modifies(u.output)));b.changed(b.REM)&&m!==w.falsy&&(b.visit(b.REM,function(b){m(b,a)}),c.modifies(m.output));if(g||u!==w.falsy)f=b.MOD|(a.modified()?b.REFLOW:0),g?(b.visit(f,function(b){var e=p(b,a)||d;(u(b,a)||e)&&c.mod.push(b)}),c.mod.length&&
c.modifies(p.output)):b.visit(f,function(b){(u(b,a)||d)&&c.mod.push(b)}),c.mod.length&&c.modifies(u.output);return c.changed()?c:b.StopPropagation};w.inherits(Z,b.Transform).transform=function(a,c){if(null!=this.value&&!a.modified())return c.StopPropagation;var e=c.dataflow.locale(),f=c.fork(c.NO_SOURCE|c.NO_FIELDS),g=this.value,h=a.type||d.SymbolLegend,p=a.scale,m=+a.limit,u=d.tickCount(p,null==a.count?5:a.count,a.minstep),r=!!a.values||h===d.SymbolLegend,l=a.format||d.labelFormat(e,p,u,h,a.formatSpecifier,
a.formatType,r),t=a.values||d.labelValues(p,u),k;g&&(f.rem=g);if(h===d.SymbolLegend){if(m&&t.length>m){c.dataflow.warn("Symbol legend count exceeds limit, filtering items.");g=t.slice(0,m-1);var v=!0}else g=t;if(w.isFunction(k=a.size)){a.values||0!==p(g[0])||(g=g.slice(1));var n=g.reduce(function(b,c){return Math.max(b,k(c,a))},0)}else k=w.constant(n=k||8);g=g.map(function(c,d){return b.ingest({index:d,label:l(c,d,g),value:c,offset:n,size:k(c,a)})});v&&(v=t[g.length],g.push(b.ingest({index:g.length,
label:"…"+(t.length-g.length)+" entries",value:v,offset:n,size:k(v,a)})))}else if(h===d.GradientLegend){c=p.domain();var x=d.scaleFraction(p,c[0],w.peek(c));3>t.length&&!a.values&&c[0]!==w.peek(c)&&(t=[c[0],w.peek(c)]);g=t.map(function(a,c){return b.ingest({index:c,label:l(a,c,t),value:a,perc:x(a)})})}else k=t.length-1,x=d.labelFraction(p),g=t.map(function(a,c){return b.ingest({index:c,label:l(a,c,t),value:a,perc:c?x(a):0,perc2:c===k?1:x(t[c+1])})});f.source=g;this.value=f.add=g;return f};var c=w.fastmap({line:r,
"line-radial":function(a,b,c,d){return r(b*Math.cos(a),b*Math.sin(a),d*Math.cos(c),d*Math.sin(c))},arc:g,"arc-radial":function(a,b,c,d){return g(b*Math.cos(a),b*Math.sin(a),d*Math.cos(c),d*Math.sin(c))},curve:R,"curve-radial":function(a,b,c,d){return R(b*Math.cos(a),b*Math.sin(a),d*Math.cos(c),d*Math.sin(c))},"orthogonal-horizontal":function(a,b,c,d){return"M"+a+","+b+"V"+d+"H"+c},"orthogonal-vertical":function(a,b,c,d){return"M"+a+","+b+"H"+c+"V"+d},"orthogonal-radial":function(a,b,c,d){var e=Math.cos(c),
f=Math.sin(c);return"M"+b*Math.cos(a)+","+b*Math.sin(a)+"A"+b+","+b+" 0 0,"+((Math.abs(c-a)>Math.PI?c<=a:c>a)?1:0)+" "+b*e+","+b*f+"L"+d*e+","+d*f},"diagonal-horizontal":function(a,b,c,d){var e=(a+c)/2;return"M"+a+","+b+"C"+e+","+b+" "+e+","+d+" "+c+","+d},"diagonal-vertical":function(a,b,c,d){var e=(b+d)/2;return"M"+a+","+b+"C"+a+","+e+" "+c+","+e+" "+c+","+d},"diagonal-radial":function(a,b,c,d){var e=Math.cos(a);a=Math.sin(a);var f=Math.cos(c);c=Math.sin(c);var g=(b+d)/2;return"M"+b*e+","+b*a+"C"+
g*e+","+g*a+" "+g*f+","+g*c+" "+d*f+","+d*c}});C.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field","default":"source.x"},{name:"sourceY",type:"field","default":"source.y"},{name:"targetX",type:"field","default":"target.x"},{name:"targetY",type:"field","default":"target.y"},{name:"orient",type:"enum","default":"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum","default":"line",values:["line","arc","curve","diagonal","orthogonal"]},
{name:"require",type:"signal"},{name:"as",type:"string","default":"path"}]};w.inherits(C,b.Transform).transform=function(a,b){var d=a.sourceX||G,e=a.sourceY||x,f=a.targetX||D,g=a.targetY||S,h=a.as||"path",p=a.shape||"line",m=c.get(p+"-"+(a.orient||"vertical"))||c.get(p);m||w.error("LinkPath unsupported type: "+a.shape+(a.orient?"-"+a.orient:""));b.visit(b.SOURCE,function(a){a[h]=m(d(a),e(a),f(a),g(a))});return b.reflow(a.modified()).modifies(h)};B.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",
type:"field"},{name:"startAngle",type:"number","default":0},{name:"endAngle",type:"number","default":6.283185307179586},{name:"sort",type:"boolean","default":!1},{name:"as",type:"string",array:!0,length:2,"default":["startAngle","endAngle"]}]};w.inherits(B,b.Transform).transform=function(a,b){var c=a.as||["startAngle","endAngle"],d=c[0],e=c[1],f=a.startAngle||0,g=null!=a.endAngle?a.endAngle:2*Math.PI,h=b.source,p=h.map(a.field||w.one),m=p.length,u=f;f=(g-f)/y.sum(p);g=y.range(m);var t;a.sort&&g.sort(function(a,
b){return p[a]-p[b]});for(t=0;t<m;++t){var k=p[g[t]];var v=h[g[t]];v[d]=u;v[e]=u+=k*f}this.value=p;return b.reflow(a.modified()).modifies(c)};var K=w.toSet("set modified clear type scheme schemeExtent schemeCount domain domainMin domainMid domainMax domainRaw domainImplicit nice zero bins range rangeStep round reverse interpolate interpolateGamma".split(" "));w.inherits(U,b.Transform).transform=function(a,b){var c=b.dataflow,e=this.value;var f=a.type;var g="";if(f===d.Sequential)f=d.Sequential+"-"+
d.Linear;else{var m=a.type;d.isContinuous(m)&&m!==d.Time&&m!==d.UTC&&(a.scheme||a.range&&a.range.length&&a.range.every(w.isString))&&(g=a.rawDomain?a.rawDomain.length:a.domain?a.domain.length+ +(null!=a.domainMid):0,g=2===g?d.Sequential+"-":3===g?d.Diverging+"-":"");f=(g+f||d.Linear).toLowerCase()}e&&f===e.type||(this.value=e=d.scale(f)());for(f in a)K[f]||"padding"===f&&u(e.type)||(w.isFunction(e[f])?e[f](a[f]):c.warn("Unsupported scale property: "+f));g=f=e;(m=a.domainRaw)?(e.domain(p(e.type,m,
c)),m=m.length):m=-1;if(-1<m)c=m;else{var r=a.domain;m=e.type;var x;!(x=a.zero)&&(x=void 0===a.zero)&&(x=e.type,x=!e.bins&&(x===d.Linear||x===d.Pow||x===d.Sqrt));if(r){if(u(m)&&a.padding&&r[0]!==w.peek(r)){var B=a.range,O=a.padding;var t=a.exponent;var k=a.constant;B=Math.abs(w.peek(B)-B[0]);O=B/(B-2*O);t=m===d.Log?w.zoomLog(r,null,O):m===d.Sqrt?w.zoomPow(r,null,O,.5):m===d.Pow?w.zoomPow(r,null,O,t||1):m===d.Symlog?w.zoomSymlog(r,null,O,k||1):w.zoomLinear(r,null,O);r=r.slice();r[0]=t[0];r[r.length-
1]=t[1]}if(x||null!=a.domainMin||null!=a.domainMax||null!=a.domainMid)t=(r=r.slice()).length-1||1,x&&(0<r[0]&&(r[0]=0),0>r[t]&&(r[t]=0)),null!=a.domainMin&&(r[0]=a.domainMin),null!=a.domainMax&&(r[t]=a.domainMax),null!=a.domainMid&&(x=a.domainMid,k=x>r[t]?t+1:x<r[0]?0:t,k!==t&&c.warn("Scale domainMid exceeds domain min or max.",x),r.splice(k,0,x));e.domain(p(m,r,c));m===d.Ordinal&&e.unknown(a.domainImplicit?d.scaleImplicit:void 0);a.nice&&e.nice&&e.nice(!0!==a.nice&&d.tickCount(e,a.nice)||null);c=
r.length}else c=0}(m=a.bins)&&!w.isArray(m)&&(x=g.domain(),e=x[0],x=w.peek(x),r=null==m.start?e:m.start,t=null==m.stop?x:m.stop,(m=m.step)||w.error("Scale bins parameter missing step property."),r<e&&(r=m*Math.ceil(e/m)),t>x&&(t=m*Math.floor(x/m)),m=y.range(r,t+m/2,m));m?g.bins=m:g.bins&&delete g.bins;g.type===d.BinOrdinal&&(m?a.domain||a.domainRaw||(g.domain(m),c=m.length):g.bins=g.domain());e=c;a:{g=f.type;c=a.round||!1;m=a.range;if(null!=a.rangeStep)g!==d.Band&&g!==d.Point&&w.error("Only band and point scales support rangeStep."),
m=[0,a.rangeStep*d.bandSpace(e,g===d.Point?1:(null!=a.paddingInner?a.paddingInner:a.padding)||0,(null!=a.paddingOuter?a.paddingOuter:a.padding)||0)];else if(a.scheme&&(m=a.schemeExtent,w.isArray(a.scheme)?x=d.interpolateColors(a.scheme,a.interpolate,a.interpolateGamma):(x=a.scheme.toLowerCase(),(x=d.scheme(x))||w.error("Unrecognized scheme name: "+a.scheme)),e=g===d.Threshold?e+1:g===d.BinOrdinal?e-1:g===d.Quantile||g===d.Quantize?+a.schemeCount||5:e,m=d.isInterpolating(g)?ca(x,m,a.reverse):w.isFunction(x)?
d.quantizeInterpolator(ca(x,m),e):g===d.Ordinal?x:x.slice(0,e),w.isFunction(m)))if(f.interpolator){f.interpolator(m);break a}else w.error("Scale type "+g+" does not support interpolating color schemes.");m&&d.isInterpolating(g)?f.interpolator(d.interpolateColors(h(m,a.reverse),a.interpolate,a.interpolateGamma)):(m&&a.interpolate&&f.interpolate?f.interpolate(d.interpolate(a.interpolate,a.interpolateGamma)):w.isFunction(f.round)?f.round(c):w.isFunction(f.rangeRound)&&f.interpolate(c?l.interpolateRound:
l.interpolate),m&&f.range(h(m,a.reverse)))}return b.fork(b.NO_SOURCE|b.NO_FIELDS)};w.inherits(T,b.Transform).transform=function(a,c){var d=a.modified("sort")||c.changed(c.ADD)||c.modified(a.sort.fields)||c.modified("datum");d&&c.source.sort(b.stableCompare(a.sort));this.modified(d);return c};var m=["y0","y1"];O.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum","default":"zero",
values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,"default":m}]};w.inherits(O,b.Transform).transform=function(a,c){var d=a.as||m,e=d[0],g=d[1],h=b.stableCompare(a.sort),p=a.field||w.one,u="center"===a.offset?fa:"normalize"===a.offset?qa:ua,r;h=f(c.source,a.groupby,h,p);var l=0;var x=h.length;for(r=h.max;l<x;++l)u(h[l],r,p,e,g);return c.reflow(a.modified()).modifies(d)};a.axisticks=P;a.datajoin=z;a.encode=N;a.legendentries=Z;a.linkpath=C;a.pie=B;a.scale=U;a.sortitems=
T;a.stack=O;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[27]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z,y(3)):"function"===typeof define&&define.amd?define(["exports","d3-array"],b):(a=a||self,b(a.d3=a.d3||{},a.d3))})(this,function(a,b){function d(){this.reset()}function w(a,b,c){var d=a.s=b+c,q=d-b;a.t=b-(d-q)+(c-q)}function y(a){return 1<a?0:-1>a?Ia:Math.acos(a)}function l(a){return 1<a?Ob:-1>a?-Ob:Math.asin(a)}function P(a){return(a=xa(a/2))*a}function z(){}function W(a,b){if(a&&Fd.hasOwnProperty(a.type))Fd[a.type](a,
b)}function M(a,b,c){var d=-1;c=a.length-c;for(b.lineStart();++d<c;){var q=a[d];b.point(q[0],q[1],q[2])}b.lineEnd()}function N(a,b){var c=-1,d=a.length;for(b.polygonStart();++c<d;)M(a[c],b,1);b.polygonEnd()}function Z(a,b){if(a&&Cb.hasOwnProperty(a.type))Cb[a.type](a,b);else W(a,b)}function G(){mc.point=D}function x(){S(aa,$a)}function D(a,b){mc.point=S;aa=a;$a=b;a*=Ua;b*=Ua;Y=a;ra=Fa(b=b/2+Zc);Lc=xa(b)}function S(a,b){a*=Ua;b*=Ua;b=b/2+Zc;var c=a-Y,d=0<=c?1:-1,q=d*c;c=Fa(b);b=xa(b);var e=Lc*b,f=
ra*c+e*Fa(q);d=e*d*xa(q);vd.add(eb(d,f));Y=a;ra=c;Lc=b}function C(a){return[eb(a[1],a[0]),l(a[2])]}function r(a){var b=a[0];a=a[1];var c=Fa(a);return[c*Fa(b),c*xa(b),xa(a)]}function g(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function R(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function B(a,b){a[0]+=b[0];a[1]+=b[1];a[2]+=b[2]}function u(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function U(a){var b=Za(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b;a[1]/=b;a[2]/=b}function p(a,b){nd.push(kc=
[Da=a,Hb=a]);b<rb&&(rb=b);b>La&&(La=b)}function ca(a,b){var c=r([a*Ua,b*Ua]);if(Fc){var d=R(Fc,c);d=R([d[1],-d[0],0],d);U(d);d=C(d);var q=a-Ca,e=0<q?1:-1,f=d[0]*mb*e;q=180<ub(q);q^(e*Ca<f&&f<e*a)?(d=d[1]*mb,d>La&&(La=d)):(f=(f+360)%360-180,q^(e*Ca<f&&f<e*a))?(d=-d[1]*mb,d<rb&&(rb=d)):(b<rb&&(rb=b),b>La&&(La=b));q?a<Ca?ua(Da,a)>ua(Da,Hb)&&(Hb=a):ua(a,Hb)>ua(Da,Hb)&&(Da=a):Hb>=Da?(a<Da&&(Da=a),a>Hb&&(Hb=a)):a>Ca?ua(Da,a)>ua(Da,Hb)&&(Hb=a):ua(a,Hb)>ua(Da,Hb)&&(Da=a)}else nd.push(kc=[Da=a,Hb=a]);b<rb&&
(rb=b);b>La&&(La=b);Fc=c;Ca=a}function h(){rc.point=ca}function T(){kc[0]=Da;kc[1]=Hb;rc.point=p;Fc=null}function O(a,b){if(Fc){var c=a-Ca;ld.add(180<ub(c)?c+(0<c?360:-360):c)}else sb=a,dc=b;mc.point(a,b);ca(a,b)}function fa(){mc.lineStart()}function qa(){O(sb,dc);mc.lineEnd();1E-6<ub(ld)&&(Da=-(Hb=180));kc[0]=Da;kc[1]=Hb;Fc=null}function ua(a,b){return 0>(b-=a)?b+360:b}function f(a,b){return a[0]-b[0]}function c(a,b){return a[0]<=a[1]?a[0]<=b&&b<=a[1]:b<a[0]||a[1]<b}function K(a,b){a*=Ua;b*=Ua;var c=
Fa(b);m(c*Fa(a),c*xa(a),xa(b))}function m(a,b,c){++Oc;Mc+=(a-Mc)/Oc;bd+=(b-bd)/Oc;wd+=(c-wd)/Oc}function e(){zc.point=ea}function ea(a,b){a*=Ua;b*=Ua;var c=Fa(b);Gc=c*Fa(a);Kc=c*xa(a);lc=xa(b);zc.point=ka;m(Gc,Kc,lc)}function ka(a,b){a*=Ua;b*=Ua;var c=Fa(b),d=c*Fa(a);a=c*xa(a);b=xa(b);var q=eb(Za((q=Kc*b-lc*a)*q+(q=lc*d-Gc*b)*q+(q=Gc*a-Kc*d)*q),Gc*d+Kc*a+lc*b);nb+=q;yb+=q*(Gc+(Gc=d));nc+=q*(Kc+(Kc=a));yd+=q*(lc+(lc=b));m(Gc,Kc,lc)}function X(){zc.point=K}function E(){zc.point=Va}function J(){tb(ed,
ue);zc.point=K}function Va(a,b){ed=a;ue=b;a*=Ua;b*=Ua;zc.point=tb;var c=Fa(b);Gc=c*Fa(a);Kc=c*xa(a);lc=xa(b);m(Gc,Kc,lc)}function tb(a,b){a*=Ua;b*=Ua;var c=Fa(b),d=c*Fa(a);a=c*xa(a);b=xa(b);c=Kc*b-lc*a;var q=lc*d-Gc*b,e=Gc*a-Kc*d,f=Za(c*c+q*q+e*e),k=l(f);f=f&&-k/f;ob+=f*c;I+=f*q;Ma+=f*e;nb+=k;yb+=k*(Gc+(Gc=d));nc+=k*(Kc+(Kc=a));yd+=k*(lc+(lc=b));m(Gc,Kc,lc)}function ib(a){return function(){return a}}function da(a,b){function c(c,d){return c=a(c,d),b(c[0],c[1])}a.invert&&b.invert&&(c.invert=function(c,
d){return c=b.invert(c,d),c&&a.invert(c[0],c[1])});return c}function Oa(a,b){return[ub(a)>Ia?a+Math.round(-a/jc)*jc:a,b]}function t(a,b,c){return(a%=jc)?b||c?da(v(a),n(b,c)):v(a):b||c?n(b,c):Oa}function k(a){return function(b,c){return b+=a,[b>Ia?b-jc:b<-Ia?b+jc:b,c]}}function v(a){var b=k(a);b.invert=k(-a);return b}function n(a,b){function c(a,b){var c=Fa(b),H=Fa(a)*c;a=xa(a)*c;b=xa(b);c=b*d+H*q;return[eb(a*e-c*f,H*d-b*q),l(c*e+a*f)]}var d=Fa(a),q=xa(a),e=Fa(b),f=xa(b);c.invert=function(a,b){var c=
Fa(b),H=Fa(a)*c;a=xa(a)*c;b=xa(b);c=b*e-a*f;return[eb(a*e+b*f,H*d+c*q),l(c*d-H*q)]};return c}function ba(a){function b(b){b=a(b[0]*Ua,b[1]*Ua);return b[0]*=mb,b[1]*=mb,b}a=t(a[0]*Ua,a[1]*Ua,2<a.length?a[2]*Ua:0);b.invert=function(b){b=a.invert(b[0]*Ua,b[1]*Ua);return b[0]*=mb,b[1]*=mb,b};return b}function sa(a,b,c,d,q,e){if(c){var f=Fa(b),H=xa(b);c*=d;if(null==q)q=b+d*jc,e=b-c/2;else if(q=ya(f,q),e=ya(f,e),0<d?q<e:q>e)q+=d*jc;for(;0<d?q>e:q<e;q-=c)b=C([f,-H*Fa(q),-H*xa(q)]),a.point(b[0],b[1])}}function ya(a,
b){b=r(b);b[0]-=a;U(b);a=y(-b[1]);return((0>-b[2]?-a:a)+jc-1E-6)%jc}function Ka(){var a=[],b;return{point:function(a,c,d){b.push([a,c,d])},lineStart:function(){a.push(b=[])},lineEnd:z,rejoin:function(){1<a.length&&a.push(a.pop().concat(a.shift()))},result:function(){var c=a;a=[];b=null;return c}}}function ab(a,b){return 1E-6>ub(a[0]-b[0])&&1E-6>ub(a[1]-b[1])}function jb(a,b,c,d){this.x=a;this.z=b;this.o=c;this.e=d;this.v=!1;this.n=this.p=null}function db(a,b,c,d,q){var e=[],f=[];a.forEach(function(a){if(!(0>=
(b=a.length-1))){var b,c=a[0],d=a[b];if(ab(c,d)){if(!c[2]&&!d[2]){q.lineStart();for(k=0;k<b;++k)q.point((c=a[k])[0],c[1]);q.lineEnd();return}d[0]+=2E-6}e.push(b=new jb(c,a,null,!0));f.push(b.o=new jb(c,null,b,!1));e.push(b=new jb(d,a,null,!1));f.push(b.o=new jb(d,null,b,!0))}});if(e.length){f.sort(b);Ta(e);Ta(f);var k=0;for(a=f.length;k<a;++k)f[k].e=c=!c;c=e[0];for(var g;;){for(var h=c,t=!0;h.v;)if((h=h.n)===c)return;b=h.z;q.lineStart();do{h.v=h.o.v=!0;if(h.e){if(t)for(k=0,a=b.length;k<a;++k)q.point((g=
b[k])[0],g[1]);else d(h.x,h.n.x,1,q);h=h.n}else{if(t)for(b=h.p.z,k=b.length-1;0<=k;--k)q.point((g=b[k])[0],g[1]);else d(h.x,h.p.x,-1,q);h=h.p}h=h.o;b=h.z;t=!t}while(!h.v);q.lineEnd()}}}function Ta(a){if(b=a.length){for(var b,c=0,d=a[0],q;++c<b;)d.n=q=a[c],q.p=d,d=q;d.n=q=a[0];q.p=d}}function Ha(a){return ub(a[0])<=Ia?a[0]:Qa(a[0])*((ub(a[0])+Ia)%jc-Ia)}function Xa(a,b){var c=Ha(b);b=b[1];var d=xa(b),q=[xa(c),-Fa(c),0],e=0,f=0;fe.reset();1===d?b=Ob+1E-6:-1===d&&(b=-Ob-1E-6);d=0;for(var k=a.length;d<
k;++d)if(h=(g=a[d]).length){var g,h,t=g[h-1],n=Ha(t),v=t[1]/2+Zc,I=xa(v),ha=Fa(v);for(v=0;v<h;++v,n=m,I=p,ha=u,t=na){var na=g[v],m=Ha(na);u=na[1]/2+Zc;var p=xa(u),u=Fa(u),Ea=m-n,Ma=0<=Ea?1:-1,bc=Ma*Ea,Ga=bc>Ia;I*=p;fe.add(eb(I*Ma*xa(bc),ha*u+I*Fa(bc)));e+=Ga?Ea+Ma*jc:Ea;Ga^n>=c^m>=c&&(t=R(r(t),r(na)),U(t),n=R(q,t),U(n),n=(Ga^0<=Ea?-1:1)*l(n[2]),b>n||b===n&&(t[0]||t[1]))&&(f+=Ga^0<=Ea?1:-1)}}return(-1E-6>e||1E-6>e&&-1E-6>fe)^f&1}function va(a,c,d,e){return function(q){function f(b,c){a(b,c)&&q.point(b,
c)}function k(a,b){I.point(a,b)}function g(){r.point=k;I.lineStart()}function h(){r.point=f;I.lineEnd()}function t(a,b){Ea.push([a,b]);na.point(a,b)}function n(){na.lineStart();Ea=[]}function v(){t(Ea[0][0],Ea[0][1]);na.lineEnd();var a=na.clean(),b=ha.result(),c=b.length,d;Ea.pop();p.push(Ea);Ea=null;if(c)if(a&1){if(c=b[0],0<(b=c.length-1)){m||(q.polygonStart(),m=!0);q.lineStart();for(a=0;a<b;++a)q.point((d=c[a])[0],d[1]);q.lineEnd()}}else 1<c&&a&2&&b.push(b.pop().concat(b.shift())),u.push(b.filter(Db))}
var I=c(q),ha=Ka(),na=c(ha),m=!1,p,u,Ea,r={point:f,lineStart:g,lineEnd:h,polygonStart:function(){r.point=t;r.lineStart=n;r.lineEnd=v;u=[];p=[]},polygonEnd:function(){r.point=f;r.lineStart=g;r.lineEnd=h;u=b.merge(u);var a=Xa(p,e);u.length?(m||(q.polygonStart(),m=!0),db(u,Ra,a,d,q)):a&&(m||(q.polygonStart(),m=!0),q.lineStart(),d(null,null,1,q),q.lineEnd());m&&(q.polygonEnd(),m=!1);u=p=null},sphere:function(){q.polygonStart();q.lineStart();d(null,null,1,q);q.lineEnd();q.polygonEnd()}};return r}}function Db(a){return 1<
a.length}function Ra(a,b){return(0>(a=a.x)[0]?a[1]-Ob-1E-6:Ob-a[1])-(0>(b=b.x)[0]?b[1]-Ob-1E-6:Ob-b[1])}function Kb(a){function b(a,b){return Fa(a)*Fa(b)>q}function c(a,b,c){var d=r(a),e=r(b),f=[1,0,0];e=R(d,e);var H=g(e,e);d=e[0];var k=H-d*d;if(!k)return!c&&a;H=q*H/k;k=-q*d/k;d=R(f,e);f=u(f,H);e=u(e,k);B(f,e);e=g(f,d);H=g(d,d);k=e*e-H*(g(f,f)-1);if(!(0>k)){var h=Za(k);k=u(d,(-e-h)/H);B(k,f);k=C(k);if(!c)return k;c=a[0];var t=b[0];a=a[1];b=b[1];if(t<c){var n=c;c=t;t=n}var v=t-c,I=1E-6>ub(v-Ia);!I&&
b<a&&(n=a,a=b,b=n);if(I||1E-6>v?I?0<a+b^k[1]<(1E-6>ub(k[0]-c)?a:b):a<=k[1]&&k[1]<=b:v>Ia^(c<=k[0]&&k[0]<=t))return b=u(d,(-e+h)/H),B(b,f),[k,C(b)]}}function d(b,c){var d=f?a:Ia-a,q=0;b<-d?q|=1:b>d&&(q|=2);c<-d?q|=4:c>d&&(q|=8);return q}var q=Fa(a),e=6*Ua,f=0<q,k=1E-6<ub(q);return va(b,function(a){var q,e,H,g,h;return{lineStart:function(){g=H=!1;h=1},point:function(t,n){var v=[t,n],I=b(t,n);n=f?I?0:d(t,n):I?d(t+(0>t?Ia:-Ia),n):0;!q&&(g=H=I)&&a.lineStart();I!==H&&(t=c(q,v),!t||ab(q,t)||ab(v,t))&&(v[2]=
1);if(I!==H)h=0,I?(a.lineStart(),t=c(v,q),a.point(t[0],t[1])):(t=c(q,v),a.point(t[0],t[1],2),a.lineEnd()),q=t;else if(k&&q&&f^I){var ha;n&e||!(ha=c(v,q,!0))||(h=0,f?(a.lineStart(),a.point(ha[0][0],ha[0][1]),a.point(ha[1][0],ha[1][1]),a.lineEnd()):(a.point(ha[1][0],ha[1][1]),a.lineEnd(),a.lineStart(),a.point(ha[0][0],ha[0][1],3)))}!I||q&&ab(q,v)||a.point(v[0],v[1]);q=v;H=I;e=n},lineEnd:function(){H&&a.lineEnd();q=null},clean:function(){return h|(g&&H)<<1}}},function(b,c,d,q){sa(q,a,e,d,b,c)},f?[0,
-a]:[-Ia,a-Ia])}function cb(a,b,c,d,q,e){var f=a[0],H=a[1],k=0,g=1,h=b[0]-f,t=b[1]-H;c-=f;if(h||!(0<c)){c/=h;if(0>h){if(c<k)return;c<g&&(g=c)}else if(0<h){if(c>g)return;c>k&&(k=c)}c=q-f;if(h||!(0>c)){c/=h;if(0>h){if(c>g)return;c>k&&(k=c)}else if(0<h){if(c<k)return;c<g&&(g=c)}c=d-H;if(t||!(0<c)){c/=t;if(0>t){if(c<k)return;c<g&&(g=c)}else if(0<t){if(c>g)return;c>k&&(k=c)}c=e-H;if(t||!(0>c)){c/=t;if(0>t){if(c>g)return;c>k&&(k=c)}else if(0<t){if(c<k)return;c<g&&(g=c)}0<k&&(a[0]=f+k*h,a[1]=H+k*t);1>g&&
(b[0]=f+g*h,b[1]=H+g*t);return!0}}}}}function wb(a,c,d,e){function q(b,q,H,k){var h=0,t=0;if(null==b||(h=f(b,H))!==(t=f(q,H))||0>g(b,q)^0<H){do k.point(0===h||3===h?a:d,1<h?e:c);while((h=(h+H+4)%4)!==t)}else k.point(q[0],q[1])}function f(b,q){return 1E-6>ub(b[0]-a)?0<q?0:3:1E-6>ub(b[0]-d)?0<q?2:1:1E-6>ub(b[1]-c)?0<q?1:0:0<q?3:2}function k(a,b){return g(a.x,b.x)}function g(a,b){var c=f(a,1),d=f(b,1);return c!==d?c-d:0===c?b[1]-a[1]:1===c?a[0]-b[0]:2===c?a[1]-b[1]:b[0]-a[0]}return function(f){function H(b,
q){a<=b&&b<=d&&c<=q&&q<=e&&h.point(b,q)}function g(b,q){var f=a<=b&&b<=d&&c<=q&&q<=e;v&&I.push([b,q]);if(r)ha=b,wc=q,na=f,r=!1,f&&(h.lineStart(),h.point(b,q));else if(f&&u)h.point(b,q);else{var H=[m=Math.max(-1E9,Math.min(1E9,m)),p=Math.max(-1E9,Math.min(1E9,p))],k=[b=Math.max(-1E9,Math.min(1E9,b)),q=Math.max(-1E9,Math.min(1E9,q))];cb(H,k,a,c,d,e)?(u||(h.lineStart(),h.point(H[0],H[1])),h.point(k[0],k[1]),f||h.lineEnd(),Ea=!1):f&&(h.lineStart(),h.point(b,q),Ea=!1)}m=b;p=q;u=f}var h=f,t=Ka(),n,v,I,
ha,wc,na,m,p,u,r,Ea,Ma={point:H,lineStart:function(){Ma.point=g;v&&v.push(I=[]);r=!0;u=!1;m=p=NaN},lineEnd:function(){n&&(g(ha,wc),na&&u&&t.rejoin(),n.push(t.result()));Ma.point=H;u&&h.lineEnd()},polygonStart:function(){h=t;n=[];v=[];Ea=!0},polygonEnd:function(){for(var c,d=c=0,H=v.length;d<H;++d){var g=v[d],t=1,ha=g.length,wc=g[0],na=wc[0];for(wc=wc[1];t<ha;++t){var m=na;var p=wc;wc=g[t];na=wc[0];wc=wc[1];p<=e?wc>e&&(na-m)*(e-p)>(wc-p)*(a-m)&&++c:wc<=e&&(na-m)*(e-p)<(wc-p)*(a-m)&&--c}}d=Ea&&c;H=
(n=b.merge(n)).length;if(d||H)f.polygonStart(),d&&(f.lineStart(),q(null,null,1,f),f.lineEnd()),H&&db(n,k,c,q,f),f.polygonEnd();h=f;n=v=I=null}};return Ma}}function zb(){Kd.point=Kd.lineEnd=z}function Ja(a,b){a*=Ua;b*=Ua;md=a;Jd=xa(b);oe=Fa(b);Kd.point=Ya}function Ya(a,b){a*=Ua;b*=Ua;var c=xa(b);b=Fa(b);var d=ub(a-md),q=Fa(d);d=xa(d);d*=b;var e=oe*c-Jd*b*q;q=Jd*c+oe*b*q;ae.add(eb(Za(d*d+e*e),q));md=a;Jd=c;oe=b}function Xb(a){ae.reset();Z(a,Kd);return+ae}function Yb(a,b){$c[0]=a;$c[1]=b;return Xb($b)}
function bb(a,b){return a&&Ae.hasOwnProperty(a.type)?Ae[a.type](a,b):!1}function tc(a,b){for(var c,d,q,e=0,f=a.length;e<f;e++){d=Yb(a[e],b);if(0===d||0<e&&(q=Yb(a[e],a[e-1]),0<q&&c<=q&&d<=q&&(c+d-q)*(1-Math.pow((c-d)/q,2))<1E-12*q))return!0;c=d}return!1}function Qb(a,b){return!!Xa(a.map(Pa),qb(b))}function Pa(a){return a=a.map(qb),a.pop(),a}function qb(a){return[a[0]*Ua,a[1]*Ua]}function Rb(a,c,d){var e=b.range(a,c-1E-6,d).concat(c);return function(a){return e.map(function(b){return[a,b]})}}function xb(a,
c,d){var e=b.range(a,c-1E-6,d).concat(c);return function(a){return e.map(function(b){return[b,a]})}}function fc(){function a(){return{type:"MultiLineString",coordinates:c()}}function c(){return b.range(Q(f/I)*I,q,I).map(p).concat(b.range(Q(t/ha)*ha,h,ha).map(u)).concat(b.range(Q(e/n)*n,d,n).filter(function(a){return 1E-6<ub(a%I)}).map(na)).concat(b.range(Q(g/v)*v,k,v).filter(function(a){return 1E-6<ub(a%ha)}).map(m))}var d,e,q,f,k,g,h,t,n=10,v=n,I=90,ha=360,na,m,p,u,Ea=2.5;a.lines=function(){return c().map(function(a){return{type:"LineString",
coordinates:a}})};a.outline=function(){return{type:"Polygon",coordinates:[p(f).concat(u(h).slice(1),p(q).reverse().slice(1),u(t).reverse().slice(1))]}};a.extent=function(b){return arguments.length?a.extentMajor(b).extentMinor(b):a.extentMinor()};a.extentMajor=function(b){if(!arguments.length)return[[f,t],[q,h]];f=+b[0][0];q=+b[1][0];t=+b[0][1];h=+b[1][1];f>q&&(b=f,f=q,q=b);t>h&&(b=t,t=h,h=b);return a.precision(Ea)};a.extentMinor=function(b){if(!arguments.length)return[[e,g],[d,k]];e=+b[0][0];d=+b[1][0];
g=+b[0][1];k=+b[1][1];e>d&&(b=e,e=d,d=b);g>k&&(b=g,g=k,k=b);return a.precision(Ea)};a.step=function(b){return arguments.length?a.stepMajor(b).stepMinor(b):a.stepMinor()};a.stepMajor=function(b){if(!arguments.length)return[I,ha];I=+b[0];ha=+b[1];return a};a.stepMinor=function(b){if(!arguments.length)return[n,v];n=+b[0];v=+b[1];return a};a.precision=function(b){if(!arguments.length)return Ea;Ea=+b;na=Rb(g,k,90);m=xb(e,d,Ea);p=Rb(t,h,90);u=xb(f,q,Ea);return a};return a.extentMajor([[-180,-89.999999],
[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Ic(a){return a}function pc(){ha.point=Mb}function Mb(a,b){ha.point=ic;fd=$d=a;dd=Td=b}function ic(a,b){he.add(Td*a-$d*b);$d=a;Td=b}function Lb(){ic(fd,dd)}function pb(a,b){rd+=a;ad+=b;++vc}function Ub(){Nc.point=ma}function ma(a,b){Nc.point=qc;pb(Zd=a,Id=b)}function qc(a,b){var c=a-Zd,d=b-Id;c=Za(c*c+d*d);zd+=c*(Zd+a)/2;Gd+=c*(Id+b)/2;ie+=c;pb(Zd=a,Id=b)}function cc(){Nc.point=pb}function Sc(){Nc.point=sc}function gc(){Vc(vb,
af)}function sc(a,b){Nc.point=Vc;pb(vb=Zd=a,af=Id=b)}function Vc(a,b){var c=a-Zd,d=b-Id;c=Za(c*c+d*d);zd+=c*(Zd+a)/2;Gd+=c*(Id+b)/2;ie+=c;c=Id*a-Zd*b;pe+=c*(Zd+a);Ie+=c*(Id+b);ja+=3*c;pb(Zd=a,Id=b)}function id(a){this._context=a}function yc(a,b){ze.point=Tc;Zf=bf=a;Te=Ue=b}function Tc(a,b){bf-=a;Ue-=b;Se.add(Za(bf*bf+Ue*Ue));bf=a;Ue=b}function Wc(){this._string=[]}function lb(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function Cc(a){return function(b){var c=new Aa,
d;for(d in a)c[d]=a[d];c.stream=b;return c}}function Aa(){}function Ab(a,b,c){var d=a.clipExtent&&a.clipExtent();a.scale(150).translate([0,0]);null!=d&&a.clipExtent(null);Z(c,a.stream(Ac));b(Ac.result());null!=d&&a.clipExtent(d);return a}function Wb(a,b,c){return Ab(a,function(c){var d=b[1][0]-b[0][0],e=b[1][1]-b[0][1],f=Math.min(d/(c[1][0]-c[0][0]),e/(c[1][1]-c[0][1]));d=+b[0][0]+(d-f*(c[1][0]+c[0][0]))/2;c=+b[0][1]+(e-f*(c[1][1]+c[0][1]))/2;a.scale(150*f).translate([d,c])},c)}function Qc(a,b,c){return Ab(a,
function(c){var d=+b,e=d/(c[1][0]-c[0][0]);d=(d-e*(c[1][0]+c[0][0]))/2;c=-e*c[0][1];a.scale(150*e).translate([d,c])},c)}function Ib(a,b,c){return Ab(a,function(c){var d=+b,e=d/(c[1][1]-c[0][1]),f=-e*c[0][0];c=(d-e*(c[1][1]+c[0][1]))/2;a.scale(150*e).translate([f,c])},c)}function Bc(a){return Cc({point:function(b,c){b=a(b,c);this.stream.point(b[0],b[1])}})}function Rc(a,b){function c(d,q,e,f,k,g,h,t,n,v,I,ha,na,m){var H=h-d,wc=t-q,p=H*H+wc*wc;if(p>4*b&&na--){var u=f+v,Ea=k+I,r=g+ha,Ma=Za(u*u+Ea*Ea+
r*r),bc=l(r/=Ma),Ga=1E-6>ub(ub(r)-1)||1E-6>ub(e-n)?(e+n)/2:eb(Ea,u),Be=a(Ga,bc);bc=Be[0];Be=Be[1];var x=bc-d,B=Be-q,Eb=wc*x-H*B;if(Eb*Eb/p>b||.3<ub((H*x+wc*B)/p-.5)||f*v+k*I+g*ha<ug)c(d,q,e,f,k,g,bc,Be,Ga,u/=Ma,Ea/=Ma,r,na,m),m.point(bc,Be),c(bc,Be,Ga,u,Ea,r,h,t,n,v,I,ha,na,m)}}return function(b){function d(c,d){c=a(c,d);b.point(c[0],c[1])}function e(){u=NaN;l.point=f;b.lineStart()}function f(d,q){var e=r([d,q]);q=a(d,q);c(u,Ea,p,Ma,bc,Ga,u=q[0],Ea=q[1],p=d,Ma=e[0],bc=e[1],Ga=e[2],16,b);b.point(u,
Ea)}function k(){l.point=d;b.lineEnd()}function g(){e();l.point=h;l.lineEnd=t}function h(a,b){f(n=a,b);v=u;I=Ea;ha=Ma;na=bc;m=Ga;l.point=f}function t(){c(u,Ea,p,Ma,bc,Ga,v,I,n,ha,na,m,16,b);l.lineEnd=k;k()}var n,v,I,ha,na,m,p,u,Ea,Ma,bc,Ga,l={point:d,lineStart:e,lineEnd:k,polygonStart:function(){b.polygonStart();l.lineStart=g},polygonEnd:function(){b.polygonEnd();l.lineStart=e}};return l}}function Jc(a){return Cc({point:function(b,c){b=a(b,c);return this.stream.point(b[0],b[1])}})}function hd(a,b,
c,d,q){function e(e,f){e*=d;f*=q;return[b+a*e,c-a*f]}e.invert=function(e,f){return[(e-b)/a*d,(c-f)/a*q]};return e}function me(a,b,c,d,q,e){function f(a,e){a*=d;e*=q;return[H*a-g*e+b,c-g*a-H*e]}var k=Fa(e);e=xa(e);var H=k*a,g=e*a,h=k/a,t=e/a,n=(e*c-k*b)/a,v=(e*b+k*c)/a;f.invert=function(a,b){return[d*(h*a-t*b+n),q*(v-t*a-h*b)]};return f}function oc(a){return Hd(function(){return a})()}function Hd(a){function b(a){return Ac(a[0]*Ua,a[1]*Ua)}function c(a){return(a=Ac.invert(a[0],a[1]))&&[a[0]*mb,a[1]*
mb]}function d(){var a=me(f,0,0,p,u,m).apply(null,e(h,n));a=(m?me:hd)(f,k-a[0],g-a[1],p,u,m);na=t(v,I,ha);O=da(e,a);Ac=da(na,O);a=O;Eb=+B?Rc(a,B):Bc(a);return q()}function q(){C=T=null;return b}var e,f=150,k=480,g=250,h=0,n=0,v=0,I=0,ha=0,na,m=0,p=1,u=1,Ea=null,r=ge,Ma=null,bc,Ga,l,x=Ic,B=.5,Eb,O,Ac,C,T;b.stream=function(a){return C&&T===a?C:C=$f(Jc(na)(r(Eb(x(T=a)))))};b.preclip=function(a){return arguments.length?(r=a,Ea=void 0,q()):r};b.postclip=function(a){return arguments.length?(x=a,Ma=bc=Ga=
l=null,q()):x};b.clipAngle=function(a){return arguments.length?(r=+a?Kb(Ea=a*Ua):(Ea=null,ge),q()):Ea*mb};b.clipExtent=function(a){return arguments.length?(x=null==a?(Ma=bc=Ga=l=null,Ic):wb(Ma=+a[0][0],bc=+a[0][1],Ga=+a[1][0],l=+a[1][1]),q()):null==Ma?null:[[Ma,bc],[Ga,l]]};b.scale=function(a){return arguments.length?(f=+a,d()):f};b.translate=function(a){return arguments.length?(k=+a[0],g=+a[1],d()):[k,g]};b.center=function(a){return arguments.length?(h=a[0]%360*Ua,n=a[1]%360*Ua,d()):[h*mb,n*mb]};
b.rotate=function(a){return arguments.length?(v=a[0]%360*Ua,I=a[1]%360*Ua,ha=2<a.length?a[2]%360*Ua:0,d()):[v*mb,I*mb,ha*mb]};b.angle=function(a){return arguments.length?(m=a%360*Ua,d()):m*mb};b.reflectX=function(a){return arguments.length?(p=a?-1:1,d()):0>p};b.reflectY=function(a){return arguments.length?(u=a?-1:1,d()):0>u};b.precision=function(a){if(arguments.length){var b=O;var c=B=a*a;b=(Eb=+c?Rc(b,c):Bc(b),q())}else b=Za(B);return b};b.fitExtent=function(a,c){return Wb(b,a,c)};b.fitSize=function(a,
c){return Wb(b,[[0,0],a],c)};b.fitWidth=function(a,c){return Qc(b,a,c)};b.fitHeight=function(a,c){return Ib(b,a,c)};return function(){e=a.apply(this,arguments);b.invert=e.invert&&c;return d()}}function qd(a){var b=0,c=Ia/3,d=Hd(a);a=d(b,c);a.parallels=function(a){return arguments.length?d(b=a[0]*Ua,c=a[1]*Ua):[b*mb,c*mb]};return a}function Dc(a){function b(a,b){return[a*c,xa(b)/c]}var c=Fa(a);b.invert=function(a,b){return[a/c,l(b*c)]};return b}function uc(a,b){function c(a,b){b=Za(e-2*q*xa(b))/q;
return[b*xa(a*=q),f-b*Fa(a)]}var d=xa(a),q=(d+xa(b))/2;if(1E-6>ub(q))return Dc(a);var e=1+d*(2*q-d),f=Za(e)/q;c.invert=function(a,b){b=f-b;var c=eb(a,ub(b))*Qa(b);0>b*q&&(c-=Ia*Qa(a)*Qa(b));return[c/q,l((e-(a*a+b*b)*q*q)/(2*q))]};return c}function Xc(){return qd(uc).scale(155.424).center([0,33.6442])}function Uc(){return Xc().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function jd(a){var b=a.length;return{point:function(c,d){for(var q=-1;++q<b;)a[q].point(c,
d)},sphere:function(){for(var c=-1;++c<b;)a[c].sphere()},lineStart:function(){for(var c=-1;++c<b;)a[c].lineStart()},lineEnd:function(){for(var c=-1;++c<b;)a[c].lineEnd()},polygonStart:function(){for(var c=-1;++c<b;)a[c].polygonStart()},polygonEnd:function(){for(var c=-1;++c<b;)a[c].polygonEnd()}}}function td(a){return function(b,c){var d=Fa(b),q=Fa(c);d=a(d*q);return[d*q*xa(b),d*xa(c)]}}function Cd(a){return function(b,c){var d=Za(b*b+c*c),q=a(d),e=xa(q);q=Fa(q);return[eb(b*e,d*q),l(d&&c*e/d)]}}function Gb(a,
b){return[a,Sa(Zb((Ob+b)/2))]}function Jb(a){function b(){var b=Ia*q(),d=c(ba(c.rotate()).invert([0,0]));return f(null==k?[[d[0]-b,d[1]-b],[d[0]+b,d[1]+b]]:a===Gb?[[Math.max(d[0]-b,k),g],[Math.min(d[0]+b,h),t]]:[[k,Math.max(d[1]-b,g)],[h,Math.min(d[1]+b,t)]])}var c=oc(a),d=c.center,q=c.scale,e=c.translate,f=c.clipExtent,k=null,g,h,t;c.scale=function(a){return arguments.length?(q(a),b()):q()};c.translate=function(a){return arguments.length?(e(a),b()):e()};c.center=function(a){return arguments.length?
(d(a),b()):d()};c.clipExtent=function(a){return arguments.length?(null==a?k=g=h=t=null:(k=+a[0][0],g=+a[0][1],h=+a[1][0],t=+a[1][1]),b()):null==k?null:[[k,g],[h,t]]};return b()}function kd(a,b){function c(a,b){0<e?b<-Ob+1E-6&&(b=-Ob+1E-6):b>Ob-1E-6&&(b=Ob-1E-6);b=e/V(Zb((Ob+b)/2),q);return[b*xa(q*a),e-b*Fa(q*a)]}var d=Fa(a),q=a===b?xa(a):Sa(d/Fa(b))/Sa(Zb((Ob+b)/2)/Zb((Ob+a)/2)),e=d*V(Zb((Ob+a)/2),q)/q;if(!q)return Gb;c.invert=function(a,b){b=e-b;var c=Qa(q)*Za(a*a+b*b),d=eb(a,ub(b))*Qa(b);0>b*q&&
(d-=Ia*Qa(a)*Qa(b));return[d/q,2*Pb(V(e/c,1/q))-Ob]};return c}function Ec(a,b){return[a,b]}function Ga(a,b){function c(a,b){b=e-b;a*=q;return[b*xa(a),e-b*Fa(a)]}var d=Fa(a),q=a===b?xa(a):(d-Fa(b))/(b-a),e=d/q+a;if(1E-6>ub(q))return Ec;c.invert=function(a,b){b=e-b;var c=eb(a,ub(b))*Qa(b);0>b*q&&(c-=Ia*Qa(a)*Qa(b));return[c/q,e-Qa(q)*Za(a*a+b*b)]};return c}function hc(a,b){b=l(Ed*xa(b));var c=b*b,d=c*c*c;return[a*Fa(b)/(Ed*(1.340264+3*-.081106*c+d*(7*8.93E-4+.034164*c))),b*(1.340264+-.081106*c+d*(8.93E-4+
.003796*c))]}function Nb(a,b){var c=Fa(b),d=Fa(a)*c;return[c*xa(a)/d,xa(b)/d]}function Yc(a,b){var c=b*b,d=c*c;return[a*(.8707-.131979*c+d*(-.013791+d*(.003971*c-.001529*d))),b*(1.007226+c*(.015085+d*(-.044475+.028874*c-.005916*d)))]}function Sb(a,b){return[Fa(b)*xa(a),xa(b)]}function Sd(a,b){var c=Fa(b),d=1+Fa(a)*c;return[c*xa(a)/d,xa(b)/d]}function ud(a,b){return[Sa(Zb((Ob+b)/2)),-a]}d.prototype={constructor:d,reset:function(){this.s=this.t=0},add:function(a){w(Dd,a,this.t);w(this,Dd.s,this.s);
this.s?this.t+=Dd.t:this.s=Dd.t},valueOf:function(){return this.s}};var Dd=new d,Ia=Math.PI,Ob=Ia/2,Zc=Ia/4,jc=2*Ia,mb=180/Ia,Ua=Ia/180,ub=Math.abs,Pb=Math.atan,eb=Math.atan2,Fa=Math.cos,Q=Math.ceil,Bb=Math.exp,Sa=Math.log,V=Math.pow,xa=Math.sin,Qa=Math.sign||function(a){return 0<a?1:0>a?-1:0},Za=Math.sqrt,Zb=Math.tan,Cb={Feature:function(a,b){W(a.geometry,b)},FeatureCollection:function(a,b){a=a.features;for(var c=-1,d=a.length;++c<d;)W(a[c].geometry,b)}},Fd={Sphere:function(a,b){b.sphere()},Point:function(a,
b){a=a.coordinates;b.point(a[0],a[1],a[2])},MultiPoint:function(a,b){for(var c=a.coordinates,d=-1,q=c.length;++d<q;)a=c[d],b.point(a[0],a[1],a[2])},LineString:function(a,b){M(a.coordinates,b,0)},MultiLineString:function(a,b){a=a.coordinates;for(var c=-1,d=a.length;++c<d;)M(a[c],b,0)},Polygon:function(a,b){N(a.coordinates,b)},MultiPolygon:function(a,b){a=a.coordinates;for(var c=-1,d=a.length;++c<d;)N(a[c],b)},GeometryCollection:function(a,b){a=a.geometries;for(var c=-1,d=a.length;++c<d;)W(a[c],b)}},
vd=new d,ia=new d,aa,$a,Y,ra,Lc,mc={point:z,lineStart:z,lineEnd:z,polygonStart:function(){vd.reset();mc.lineStart=G;mc.lineEnd=x},polygonEnd:function(){var a=+vd;ia.add(0>a?jc+a:a);this.lineStart=this.lineEnd=this.point=z},sphere:function(){ia.add(jc)}},Da,rb,Hb,La,Ca,sb,dc,Fc,ld=new d,nd,kc,rc={point:p,lineStart:h,lineEnd:T,polygonStart:function(){rc.point=O;rc.lineStart=fa;rc.lineEnd=qa;ld.reset();mc.polygonStart()},polygonEnd:function(){mc.polygonEnd();rc.point=p;rc.lineStart=h;rc.lineEnd=T;0>
vd?(Da=-(Hb=180),rb=-(La=90)):1E-6<ld?La=90:-1E-6>ld&&(rb=-90);kc[0]=Da;kc[1]=Hb},sphere:function(){Da=-(Hb=180);rb=-(La=90)}},Oc,nb,Mc,bd,wd,yb,nc,yd,ob,I,Ma,ed,ue,Gc,Kc,lc,zc={sphere:z,point:K,lineStart:e,lineEnd:X,polygonStart:function(){zc.lineStart=E;zc.lineEnd=J},polygonEnd:function(){zc.lineStart=e;zc.lineEnd=X}};Oa.invert=Oa;var fe=new d,ge=va(function(){return!0},function(a){var b=NaN,c=NaN,d=NaN,q;return{lineStart:function(){a.lineStart();q=1},point:function(e,f){var k=0<e?Ia:-Ia,H=ub(e-
b);if(1E-6>ub(H-Ia))a.point(b,c=0<(c+f)/2?Ob:-Ob),a.point(d,c),a.lineEnd(),a.lineStart(),a.point(k,c),a.point(e,c),q=0;else if(d!==k&&H>=Ia){1E-6>ub(b-d)&&(b-=1E-6*d);1E-6>ub(e-k)&&(e-=1E-6*k);H=b;var g=c,h=e,t,n,v=xa(H-h);c=1E-6<ub(v)?Pb((xa(g)*(n=Fa(f))*xa(h)-xa(f)*(t=Fa(g))*xa(H))/(t*n*v)):(g+f)/2;a.point(d,c);a.lineEnd();a.lineStart();a.point(k,c);q=0}a.point(b=e,c=f);d=k},lineEnd:function(){a.lineEnd();b=c=NaN},clean:function(){return 2-q}}},function(a,b,c,d){null==a?(c*=Ob,d.point(-Ia,c),d.point(0,
c),d.point(Ia,c),d.point(Ia,0),d.point(Ia,-c),d.point(0,-c),d.point(-Ia,-c),d.point(-Ia,0),d.point(-Ia,c)):1E-6<ub(a[0]-b[0])?(a=a[0]<b[0]?Ia:-Ia,c=c*a/2,d.point(-a,c),d.point(0,c),d.point(a,c)):d.point(b[0],b[1])},[-Ia,-Ob]),ae=new d,md,Jd,oe,Kd={sphere:z,point:z,lineStart:function(){Kd.point=Ja;Kd.lineEnd=zb},lineEnd:z,polygonStart:z,polygonEnd:z},$c=[null,null],$b={type:"LineString",coordinates:$c},ac={Feature:function(a,b){return bb(a.geometry,b)},FeatureCollection:function(a,b){a=a.features;
for(var c=-1,d=a.length;++c<d;)if(bb(a[c].geometry,b))return!0;return!1}},Ae={Sphere:function(){return!0},Point:function(a,b){return 0===Yb(a.coordinates,b)},MultiPoint:function(a,b){a=a.coordinates;for(var c=-1,d=a.length;++c<d;)if(0===Yb(a[c],b))return!0;return!1},LineString:function(a,b){return tc(a.coordinates,b)},MultiLineString:function(a,b){a=a.coordinates;for(var c=-1,d=a.length;++c<d;)if(tc(a[c],b))return!0;return!1},Polygon:function(a,b){return Qb(a.coordinates,b)},MultiPolygon:function(a,
b){a=a.coordinates;for(var c=-1,d=a.length;++c<d;)if(Qb(a[c],b))return!0;return!1},GeometryCollection:function(a,b){a=a.geometries;for(var c=-1,d=a.length;++c<d;)if(bb(a[c],b))return!0;return!1}},Ld=new d,he=new d,fd,dd,$d,Td,ha={point:z,lineStart:z,lineEnd:z,polygonStart:function(){ha.lineStart=pc;ha.lineEnd=Lb},polygonEnd:function(){ha.lineStart=ha.lineEnd=ha.point=z;Ld.add(ub(he));he.reset()},result:function(){var a=Ld/2;Ld.reset();return a}},na=Infinity,Ea=na,bc=-na,Eb=bc,Ac={point:function(a,
b){a<na&&(na=a);a>bc&&(bc=a);b<Ea&&(Ea=b);b>Eb&&(Eb=b)},lineStart:z,lineEnd:z,polygonStart:z,polygonEnd:z,result:function(){var a=[[na,Ea],[bc,Eb]];bc=Eb=-(Ea=na=Infinity);return a}},rd=0,ad=0,vc=0,zd=0,Gd=0,ie=0,pe=0,Ie=0,ja=0,vb,af,Zd,Id,Nc={point:pb,lineStart:Ub,lineEnd:cc,polygonStart:function(){Nc.lineStart=Sc;Nc.lineEnd=gc},polygonEnd:function(){Nc.point=pb;Nc.lineStart=Ub;Nc.lineEnd=cc},result:function(){var a=ja?[pe/ja,Ie/ja]:ie?[zd/ie,Gd/ie]:vc?[rd/vc,ad/vc]:[NaN,NaN];rd=ad=vc=zd=Gd=ie=pe=
Ie=ja=0;return a}};id.prototype={_radius:4.5,pointRadius:function(a){return this._radius=a,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(a,b){switch(this._point){case 0:this._context.moveTo(a,b);this._point=1;break;case 1:this._context.lineTo(a,b);break;default:this._context.moveTo(a+this._radius,b),this._context.arc(a,b,this._radius,
0,jc)}},result:z};var Se=new d,ne,Zf,Te,bf,Ue,ze={point:z,lineStart:function(){ze.point=yc},lineEnd:function(){ne&&Tc(Zf,Te);ze.point=z},polygonStart:function(){ne=!0},polygonEnd:function(){ne=null},result:function(){var a=+Se;Se.reset();return a}};Wc.prototype={_radius:4.5,_circle:lb(4.5),pointRadius:function(a){(a=+a)!==this._radius&&(this._radius=a,this._circle=null);return this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===
this._line&&this._string.push("Z");this._point=NaN},point:function(a,b){switch(this._point){case 0:this._string.push("M",a,",",b);this._point=1;break;case 1:this._string.push("L",a,",",b);break;default:null==this._circle&&(this._circle=lb(this._radius)),this._string.push("M",a,",",b,this._circle)}},result:function(){if(this._string.length){var a=this._string.join("");this._string=[];return a}return null}};Aa.prototype={constructor:Aa,point:function(a,b){this.stream.point(a,b)},sphere:function(){this.stream.sphere()},
lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var ug=Fa(30*Ua),$f=Cc({point:function(a,b){this.stream.point(a*Ua,b*Ua)}}),yf=td(function(a){return Za(2/(1+a))});yf.invert=Cd(function(a){return 2*l(a/2)});var He=td(function(a){return(a=y(a))&&a/xa(a)});He.invert=Cd(function(a){return a});Gb.invert=function(a,b){return[a,2*Pb(Bb(b))-Ob]};Ec.invert=Ec;var Ed=
Za(3)/2;hc.invert=function(a,b){for(var c=b,d=c*c,q=d*d*d,e=0,f;12>e&&!(f=c*(1.340264+-.081106*d+q*(8.93E-4+.003796*d))-b,d=1.340264+3*-.081106*d+q*(7*8.93E-4+.034164*d),c-=f/=d,d=c*c,q=d*d*d,1E-12>ub(f));++e);return[Ed*a*(1.340264+3*-.081106*d+q*(7*8.93E-4+.034164*d))/Fa(c),l(xa(c)/Ed)]};Nb.invert=Cd(Pb);Yc.invert=function(a,b){var c=b,d=25;do{var q=c*c;var e=q*q;c-=e=(c*(1.007226+q*(.015085+e*(-.044475+.028874*q-.005916*e)))-b)/(1.007226+q*(.045255+e*(-.311325+.259866*q-.005916*11*e)))}while(1E-6<
ub(e)&&0<--d);return[a/(.8707+(q=c*c)*(-.131979+q*(-.013791+q*q*q*(.003971-.001529*q)))),c]};Sb.invert=Cd(l);Sd.invert=Cd(function(a){return 2*Pb(a)});ud.invert=function(a,b){return[-b,2*Pb(Bb(a))-Ob]};a.geoAlbers=Uc;a.geoAlbersUsa=function(){function a(a){var b=a[0];a=a[1];return t=null,(e.point(b,a),t)||(k.point(b,a),t)||(h.point(b,a),t)}function b(){c=d=null;return a}var c,d,q=Uc(),e,f=Xc().rotate([154,0]).center([-2,58.5]).parallels([55,65]),k,g=Xc().rotate([157,0]).center([-3,19.9]).parallels([8,
18]),h,t,n={point:function(a,b){t=[a,b]}};a.invert=function(a){var b=q.scale(),c=q.translate(),d=(a[0]-c[0])/b;b=(a[1]-c[1])/b;return(.12<=b&&.234>b&&-.425<=d&&-.214>d?f:.166<=b&&.234>b&&-.214<=d&&-.115>d?g:q).invert(a)};a.stream=function(a){return c&&d===a?c:c=jd([q.stream(d=a),f.stream(a),g.stream(a)])};a.precision=function(a){if(!arguments.length)return q.precision();q.precision(a);f.precision(a);g.precision(a);return b()};a.scale=function(b){if(!arguments.length)return q.scale();q.scale(b);f.scale(.35*
b);g.scale(b);return a.translate(q.translate())};a.translate=function(a){if(!arguments.length)return q.translate();var c=q.scale(),d=+a[0],H=+a[1];e=q.translate(a).clipExtent([[d-.455*c,H-.238*c],[d+.455*c,H+.238*c]]).stream(n);k=f.translate([d-.307*c,H+.201*c]).clipExtent([[d-.425*c+1E-6,H+.12*c+1E-6],[d-.214*c-1E-6,H+.234*c-1E-6]]).stream(n);h=g.translate([d-.205*c,H+.212*c]).clipExtent([[d-.214*c+1E-6,H+.166*c+1E-6],[d-.115*c-1E-6,H+.234*c-1E-6]]).stream(n);return b()};a.fitExtent=function(b,c){return Wb(a,
b,c)};a.fitSize=function(b,c){return Wb(a,[[0,0],b],c)};a.fitWidth=function(b,c){return Qc(a,b,c)};a.fitHeight=function(b,c){return Ib(a,b,c)};return a.scale(1070)};a.geoArea=function(a){ia.reset();Z(a,mc);return 2*ia};a.geoAzimuthalEqualArea=function(){return oc(yf).scale(124.75).clipAngle(179.999)};a.geoAzimuthalEqualAreaRaw=yf;a.geoAzimuthalEquidistant=function(){return oc(He).scale(79.4188).clipAngle(179.999)};a.geoAzimuthalEquidistantRaw=He;a.geoBounds=function(a){var b,d,e;La=Hb=-(Da=rb=Infinity);
nd=[];Z(a,rc);if(b=nd.length){nd.sort(f);a=1;var q=nd[0];for(d=[q];a<b;++a){var k=nd[a];c(q,k[0])||c(q,k[1])?(ua(q[0],k[1])>ua(q[0],q[1])&&(q[1]=k[1]),ua(k[0],q[1])>ua(q[0],q[1])&&(q[0]=k[0])):d.push(q=k)}var g=-Infinity;b=d.length-1;a=0;for(q=d[b];a<=b;q=k,++a)k=d[a],(e=ua(q[1],k[0]))>g&&(g=e,Da=k[0],Hb=q[1])}nd=kc=null;return Infinity===Da||Infinity===rb?[[NaN,NaN],[NaN,NaN]]:[[Da,rb],[Hb,La]]};a.geoCentroid=function(a){Oc=nb=Mc=bd=wd=yb=nc=yd=ob=I=Ma=0;Z(a,zc);a=ob;var b=I,c=Ma,d=a*a+b*b+c*c;return 1E-12>
d&&(a=yb,b=nc,c=yd,1E-6>nb&&(a=Mc,b=bd,c=wd),d=a*a+b*b+c*c,1E-12>d)?[NaN,NaN]:[eb(b,a)*mb,l(c/Za(d))*mb]};a.geoCircle=function(){function a(){var a=b.apply(this,arguments),k=c.apply(this,arguments)*Ua,H=d.apply(this,arguments)*Ua;q=[];e=t(-a[0]*Ua,-a[1]*Ua,0).invert;sa(f,k,H,1);a={type:"Polygon",coordinates:[q]};q=e=null;return a}var b=ib([0,0]),c=ib(90),d=ib(6),q,e,f={point:function(a,b){q.push(a=e(a,b));a[0]*=mb;a[1]*=mb}};a.center=function(c){return arguments.length?(b="function"===typeof c?c:
ib([+c[0],+c[1]]),a):b};a.radius=function(b){return arguments.length?(c="function"===typeof b?b:ib(+b),a):c};a.precision=function(b){return arguments.length?(d="function"===typeof b?b:ib(+b),a):d};return a};a.geoClipAntimeridian=ge;a.geoClipCircle=Kb;a.geoClipExtent=function(){var a=0,b=0,c=960,d=500,q,e,f;return f={stream:function(f){return q&&e===f?q:q=wb(a,b,c,d)(e=f)},extent:function(k){return arguments.length?(a=+k[0][0],b=+k[0][1],c=+k[1][0],d=+k[1][1],q=e=null,f):[[a,b],[c,d]]}}};a.geoClipRectangle=
wb;a.geoConicConformal=function(){return qd(kd).scale(109.5).parallels([30,30])};a.geoConicConformalRaw=kd;a.geoConicEqualArea=Xc;a.geoConicEqualAreaRaw=uc;a.geoConicEquidistant=function(){return qd(Ga).scale(131.154).center([0,13.9389])};a.geoConicEquidistantRaw=Ga;a.geoContains=function(a,b){return(a&&ac.hasOwnProperty(a.type)?ac[a.type]:bb)(a,b)};a.geoDistance=Yb;a.geoEqualEarth=function(){return oc(hc).scale(177.158)};a.geoEqualEarthRaw=hc;a.geoEquirectangular=function(){return oc(Ec).scale(152.63)};
a.geoEquirectangularRaw=Ec;a.geoGnomonic=function(){return oc(Nb).scale(144.049).clipAngle(60)};a.geoGnomonicRaw=Nb;a.geoGraticule=fc;a.geoGraticule10=function(){return fc()()};a.geoIdentity=function(){function a(){ha=c*e;na=c*f;u=Ea=null;return b}function b(a){var b=a[0]*ha;a=a[1]*na;if(k){var c=a*g-b*h;b=b*g+a*h;a=c}return[b+d,a+q]}var c=1,d=0,q=0,e=1,f=1,k=0,g,h,t=null,n,v,I,ha=1,na=1,m=Cc({point:function(a,c){a=b([a,c]);this.stream.point(a[0],a[1])}}),p=Ic,u,Ea;b.invert=function(a){var b=a[0]-
d;a=a[1]-q;if(k){var c=a*g+b*h;b=b*g-a*h;a=c}return[b/ha,a/na]};b.stream=function(a){return u&&Ea===a?u:u=m(p(Ea=a))};b.postclip=function(b){return arguments.length?(p=b,t=n=v=I=null,a()):p};b.clipExtent=function(b){return arguments.length?(p=null==b?(t=n=v=I=null,Ic):wb(t=+b[0][0],n=+b[0][1],v=+b[1][0],I=+b[1][1]),a()):null==t?null:[[t,n],[v,I]]};b.scale=function(b){return arguments.length?(c=+b,a()):c};b.translate=function(b){return arguments.length?(d=+b[0],q=+b[1],a()):[d,q]};b.angle=function(b){return arguments.length?
(k=b%360*Ua,h=xa(k),g=Fa(k),a()):k*mb};b.reflectX=function(b){return arguments.length?(e=b?-1:1,a()):0>e};b.reflectY=function(b){return arguments.length?(f=b?-1:1,a()):0>f};b.fitExtent=function(a,c){return Wb(b,a,c)};b.fitSize=function(a,c){return Wb(b,[[0,0],a],c)};b.fitWidth=function(a,c){return Qc(b,a,c)};b.fitHeight=function(a,c){return Ib(b,a,c)};return b};a.geoInterpolate=function(a,b){var c=a[0]*Ua,d=a[1]*Ua;a=b[0]*Ua;b=b[1]*Ua;var q=Fa(d),e=xa(d),f=Fa(b),k=xa(b),g=q*Fa(c),h=q*xa(c),t=f*Fa(a),
n=f*xa(a),v=2*l(Za(P(b-d)+q*f*P(a-c))),I=xa(v);a=v?function(a){var b=xa(a*=v)/I,c=xa(v-a)/I;a=c*g+b*t;var d=c*h+b*n;b=c*e+b*k;return[eb(d,a)*mb,eb(b,Za(a*a+d*d))*mb]}:function(){return[c*mb,d*mb]};a.distance=v;return a};a.geoLength=Xb;a.geoMercator=function(){return Jb(Gb).scale(961/jc)};a.geoMercatorRaw=Gb;a.geoNaturalEarth1=function(){return oc(Yc).scale(175.295)};a.geoNaturalEarth1Raw=Yc;a.geoOrthographic=function(){return oc(Sb).scale(249.5).clipAngle(90.000001)};a.geoOrthographicRaw=Sb;a.geoPath=
function(a,b){function c(a){a&&("function"===typeof d&&e.pointRadius(+d.apply(this,arguments)),Z(a,q(e)));return e.result()}var d=4.5,q,e;c.area=function(a){Z(a,q(ha));return ha.result()};c.measure=function(a){Z(a,q(ze));return ze.result()};c.bounds=function(a){Z(a,q(Ac));return Ac.result()};c.centroid=function(a){Z(a,q(Nc));return Nc.result()};c.projection=function(b){return arguments.length?(q=null==b?(a=null,Ic):(a=b).stream,c):a};c.context=function(a){if(!arguments.length)return b;e=null==a?(b=
null,new Wc):new id(b=a);"function"!==typeof d&&e.pointRadius(d);return c};c.pointRadius=function(a){if(!arguments.length)return d;d="function"===typeof a?a:(e.pointRadius(+a),+a);return c};return c.projection(a).context(b)};a.geoProjection=oc;a.geoProjectionMutator=Hd;a.geoRotation=ba;a.geoStereographic=function(){return oc(Sd).scale(250).clipAngle(142)};a.geoStereographicRaw=Sd;a.geoStream=Z;a.geoTransform=function(a){return{stream:Cc(a)}};a.geoTransverseMercator=function(){var a=Jb(ud),b=a.center,
c=a.rotate;a.center=function(a){return arguments.length?b([-a[1],a[0]]):(a=b(),[a[1],-a[0]])};a.rotate=function(a){return arguments.length?c([a[0],a[1],2<a.length?a[2]+90:90]):(a=c(),[a[0],a[1],a[2]-90])};return c([0,0,90]).scale(159.155)};a.geoTransverseMercatorRaw=ud;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[28]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z,y(27),y(3)):"function"===typeof define&&define.amd?define(["exports","d3-geo","d3-array"],b):b(a.d3=a.d3||{},a.d3,a.d3)})(this,function(a,b,d){function w(a){return 1<a?ra:-1>a?-ra:Math.asin(a)}function y(a){return 1<a?0:-1>a?Y:Math.acos(a)}function l(a){return 0<a?Math.sqrt(a):0}function P(a){return(xa(a)-xa(-a))/2}function z(a){return(xa(a)+xa(-a))/2}function W(a){function b(a,b){var c=V(a),e=V(b);
b=aa(b);c*=e;c=-((1-c?Za((1+c)/2)/(1-c):-.5)+d/(1+c));return[c*e*aa(a),c*b]}var c=$a(a/2),d=2*Za(V(a/2))/(c*c);b.invert=function(b,c){var e=l(b*b+c*c),f=-a/2,k=50;if(!e)return[0,0];do{var g=f/2;var h=V(g);g=aa(g);var t=g/h,n=-Za(Q(h));f-=h=(2/t*n-d*t-e)/(-n/(g*g)+1-d/(2*h*h))*(0>h?.7:1)}while(1E-6<Q(h)&&0<--k);k=aa(f);return[Sa(b*k,e*V(f)),w(c*k/e)]};return b}function M(a,b){var c=V(b);var d=(d=y(c*V(a/=2)))?d/Math.sin(d):1;return[2*c*aa(a)*d,aa(b)*d]}function N(a){function b(a,b){var g=V(b),h=V(a/=
2);return[(1+g)*aa(a),(e*b>-Sa(h,f)-.001?0:10*-e)+k+aa(b)*d-(1+g)*c*h]}var c=aa(a),d=V(a),e=0<=a?1:-1,f=$a(e*a),k=(1+c-d)/2;b.invert=function(a,b){var g=0,h=0,t=50;do{var n=V(g),v=aa(g),I=V(h),ha=aa(h),na=1+I,m=na*v-a,p=k+ha*d-na*c*n-b,u=na*n/2,Ea=-v*ha;v=c*na*v/2;I=d*I+c*n*ha;n=Ea*v-I*u;Ea=(p*Ea-m*I)/n/2;m=(m*v-p*u)/n;2<Q(m)&&(m/=2);g-=Ea;h-=m}while((1E-6<Q(Ea)||1E-6<Q(m))&&0<--t);return e*h>-Sa(V(g),f)-.001?[2*g,h]:null};return b}function Z(a,b){b=$a(b/2);var c=l(1-b*b),d=1+c*V(a/=2);a=aa(a)*c/
d;b/=d;d=a*a;c=b*b;return[4/3*a*(3+d-3*c),4/3*b*(3+3*d-c)]}function G(a,b){var c=Q(b);return c<Lc?[a,Za($a(Lc+b/2))]:[a*V(c)*(2*Da-1/aa(c)),ia(b)*(2*Da*(c-Lc)-Za($a(c/2)))]}function x(a){function c(a,c){c=b.geoAzimuthalEquidistantRaw(a,c);if(Q(a)>ra){a=Sa(c[1],c[0]);var e=l(c[0]*c[0]+c[1]*c[1]),f=d*vd((a-ra)/d)+ra,k=Sa(aa(a-=f),2-V(a));a=f+w(Y/e*aa(k))-k;c[0]=e*V(a);c[1]=e*aa(a)}return c}var d=2*Y/a;c.invert=function(a,c){var e=l(a*a+c*c);if(e>ra){var f=Sa(c,a);a=d*vd((f-ra)/d)+ra;c=f>a?-1:1;f=e*
V(a-f);f=1/$a(c*y((f-Y)/l(Y*(Y-2*f)+e*e)));f=a+2*Bb((f+c*l(f*f-3))/3);a=e*V(f);c=e*aa(f)}return b.geoAzimuthalEquidistantRaw.invert(a,c)};return c}function D(a,c){function d(d,e){d=b.geoAzimuthalEqualAreaRaw(d/c,e);d[0]*=a;return d}2>arguments.length&&(c=a);if(1===c)return b.geoAzimuthalEqualAreaRaw;if(Infinity===c)return S;d.invert=function(d,e){d=b.geoAzimuthalEqualAreaRaw.invert(d/a,e);d[0]*=c;return d};return d}function S(a,b){return[a*V(b)/V(b/=2),2*aa(b)]}function C(a,b,c){var d=100;c=void 0===
c?0:+c;b=+b;do{var e=a(c);var f=a(c+1E-6);e===f&&(f=e+1E-6);c-=e=-1E-6*(e-b)/(e-f)}while(0<d--&&1E-6<Q(e));return 0>d?NaN:c}function r(a,b,c){void 0===b&&(b=40);void 0===c&&(c=1E-12);return function(d,e,f,k){f=void 0===f?0:+f;k=void 0===k?0:+k;for(var g=0;g<b;g++){var h=a(f,k),t=h[0]-d,n=h[1]-e;if(Q(t)<c&&Q(n)<c)break;var v=t*t+n*n;if(v>I)f-=ha/=2,k-=na/=2;else{var I=v;v=(0<f?-1:1)*c;var m=(0<k?-1:1)*c;var ha=a(f+v,k);var p=a(f,k+m);var na=(ha[0]-h[0])/v;v=(ha[1]-h[1])/v;ha=(p[0]-h[0])/m;h=(p[1]-
h[1])/m;m=h*na-v*ha;m=(.5>Q(m)?.5:1)/m;ha=(n*ha-t*h)*m;na=(t*v-n*na)*m;f+=ha;k+=na;if(Q(ha)<c&&Q(na)<c)break}}return[f,k]}}function g(){function a(a,c){if(-1.4>a+c){var d=(a-c+1.6)*(a+c+1.4)/8;a+=d;c-=.8*d*aa(c+Y/2)}d=b(a,c);a=(1-V(a*c))/12;0>d[1]&&(d[0]*=1+a);0<d[1]&&(d[1]*=1+a/1.5*d[0]*d[0]);return d}var b=D(1.68,2);a.invert=r(a);return a}function R(a,b){a*=aa(b);var c=30,d;do b-=d=(b+aa(b)-a)/(1+V(b));while(1E-6<Q(d)&&0<--c);return b/2}function B(a,b,c){function d(d,e){return[a*d*V(e=R(c,e)),b*
aa(e)]}d.invert=function(d,e){return e=w(e/b),[d/(a*V(e)),w((2*e+aa(2*e))/c)]};return d}function u(a,b){var c=R(Y,b);return[2.00276*a/(1/V(b)+1.11072/V(c)),(b+Da*aa(c))/2.00276]}function U(a){var c=0,d=b.geoProjectionMutator(a);a=d(c);a.parallel=function(a){return arguments.length?d(c=a*Ca):c*La};return a}function p(a,b){return[a*V(b),b]}function ca(a){function b(b,d){var e=c+a-d;b=e?b*V(d)/e:e;return[e*aa(b),c-e*V(b)]}if(!a)return p;var c=1/$a(a);b.invert=function(b,d){var e=l(b*b+(d=c-d)*d),f=c+
a-e;return[e/V(f)*Sa(b,d),f]};return b}function h(a){function b(b,c){b=(c=ra-c)?b*a*aa(c)/c:c;return[c*aa(b)/a,ra-c*V(b)]}b.invert=function(b,c){b*=a;var d=ra-c;c=l(b*b+d*d);b=Sa(b,d);return[(c?c/aa(c):1)*b/a,ra-c]};return b}function T(a,b,c,d,e,f){var k=V(f);if(1<Q(a)||1<Q(f))a=y(c*e+b*d*k);else{a=aa(a/2);var g=aa(f/2);a=2*w(l(a*a+b*d*g*g))}return 1E-6<Q(a)?[a,Sa(d*aa(f),b*e-c*d*k)]:[0,0]}function O(a,b,c){return y((a*a+b*b-c*c)/(2*a*b))}function fa(a,b,c){var d=[[a[0],a[1],aa(a[1]),V(a[1])],[b[0],
b[1],aa(b[1]),V(b[1])],[c[0],c[1],aa(c[1]),V(c[1])]];a=d[2];for(c=0;3>c;++c,a=b)b=d[c],a.v=T(b[1]-a[1],a[3],a[2],b[3],b[2],b[0]-a[0]),a.point=[0,0];a=O(d[0].v[0],d[2].v[0],d[1].v[0]);var e=O(d[0].v[0],d[1].v[0],d[2].v[0]),f=Y-a;d[2].point[1]=0;d[0].point[0]=-(d[1].point[0]=d[0].v[0]/2);var k=[d[2].point[0]=d[0].point[0]+d[2].v[0]*V(a),2*(d[0].point[1]=d[1].point[1]=d[2].v[0]*aa(a))];return function(a,b){var c=aa(b),g=V(b),h=Array(3),t;for(t=0;3>t;++t){var n=d[t];h[t]=T(b-n[1],n[3],n[2],g,c,a-n[0]);
if(!h[t][0])return n.point;var v=h[t];n=h[t][1]-n.v[1];n-=2*Y*Qa((n+Y)/(2*Y));v[1]=n}a=k.slice();for(t=0;3>t;++t)b=O(d[t].v[0],h[t][0],h[2==t?0:t+1][0]),0>h[t][1]&&(b=-b),t?1==t?(b=e-b,a[0]-=h[t][0]*V(b),a[1]-=h[t][0]*aa(b)):(b=f-b,a[0]+=h[t][0]*V(b),a[1]+=h[t][0]*aa(b)):(a[0]+=h[t][0]*V(b),a[1]-=h[t][0]*aa(b));a[0]/=3;a[1]/=3;return a}}function qa(a){return a[0]*=Ca,a[1]*=Ca,a}function ua(a,c,d){var e=b.geoCentroid({type:"MultiPoint",coordinates:[a,c,d]});e=[-e[0],-e[1]];var f=b.geoRotation(e);a=
fa(qa(f(a)),qa(f(c)),qa(f(d)));a.invert=r(a);a=b.geoProjection(a).rotate(e);var k=a.center;delete a.rotate;a.center=function(a){return arguments.length?k(f(a)):f.invert(k())};return a.clipAngle(90)}function f(a,b){b=l(1-aa(b));return[2/rb*a*b,rb*(1-b)]}function c(a){function b(a,b){return[a,(a?a/aa(a):1)*(aa(b)*V(a)-c*V(b))]}var c=$a(a);b.invert=c?function(a,b){a&&(b*=aa(a)/a);var d=V(a);return[a,2*Sa(l(d*d+c*c-b*b)-d,c-b)]}:function(a,b){return[a,w(a?b*$a(a)/a:b)]};return b}function K(a,b){return[nd*
a*(2*V(2*b/3)-1)/rb,nd*rb*aa(b/3)]}function m(a){function b(a,b){return[a*c,aa(b)/c]}var c=V(a);b.invert=function(a,b){return[a/c,w(b*c)]};return b}function e(a){function b(a,b){return[a*c,(1+c)*$a(b/2)]}var c=V(a);b.invert=function(a,b){return[a/c,2*Bb(b/(1+c))]};return b}function ea(a,b){var c=l(8/(3*Y));return[c*a*(1-Q(b)/Y),c*b]}function ka(a,b){var c=l(4-3*aa(Q(b)));return[2/l(6*Y)*a*c,ia(b)*l(2*Y/3)*(2-c)]}function X(a,b){var c=l(Y*(4+Y));return[2/c*a*(1+l(1-4*b*b/(Y*Y))),4/c*b]}function E(a,
b){var c=(2+ra)*aa(b);b/=2;for(var d=0,e=Infinity;10>d&&1E-6<Q(e);d++)e=V(b),b-=e=(b+aa(b)*(e+2)-c)/(2*e*(1+e));return[2/l(Y*(4+Y))*a*(1+V(b)),2*l(Y/(4+Y))*aa(b)]}function J(a,b){return[a*(1+V(b))/l(2+Y),2*b/l(2+Y)]}function Va(a,b){for(var c=(1+ra)*aa(b),d=0,e=Infinity;10>d&&1E-6<Q(e);d++)b-=e=(b+aa(b)-c)/(1+V(b));c=l(2+Y);return[a*(1+V(b))/c,2*b/c]}function tb(a,b){var c=aa(a/=2);a=V(a);var d=l(V(b)),e=V(b/=2);b=aa(b)/(e+Da*a*d);var f=l(2/(1+b*b));c=l((Da*e+(a+c)*d)/(Da*e+(a-c)*d));return[kc*(f*
(c-1/c)-2*Za(c)),kc*(f*b*(c+1/c)-2*Bb(b))]}function ib(a,b){b=$a(b/2);return[a*rc*l(1-b*b),(1+rc)*b]}function da(a,b){var c=b/2,d=V(c);return[2*a/rb*V(b)*d*d,rb*$a(c)]}function Oa(a){function b(b,c){var d=V(c),f=aa(c);return[d/(e+a*d)*b,e*c+a*f]}function c(a,c){a=b(a,c);return[a[0]*g,a[1]/g]}function d(a){return c(0,a)[1]}var e=1-a,f=b(Y,0)[0]-b(-Y,0)[0],k=b(0,ra)[1]-b(0,-ra)[1],g=l(2*k/f);c.invert=function(b,c){c=C(d,c);return[b/g*(a+e/V(c)),c]};return c}function t(a){return[2*a[0],2*Bb(aa(a[1]*
Ca))*La]}function k(a,c){function d(c,d){c=b.geoAzimuthalEquidistantRaw(c,d);d=c[0];var k=c[1],g=d*d+k*k;if(g>f){var h=l(g);d=Sa(k,d);g=e*vd(d/e);k=d-g;var t=a*V(k),I=(a*aa(k)-k*aa(t))/(ra-t),m=v(k,I),p=(Y-a)/n(m,t,Y);d=h;var ha=50,u;do d-=u=(a+n(m,t,d)*p-h)/(m(d)*p);while(1E-6<Q(u)&&0<--ha);k*=aa(d);d<ra&&(k-=I*(d-ra));h=aa(g);g=V(g);c[0]=d*g-k*h;c[1]=d*h+k*g}return c}var e=2*Y/c,f=a*a;d.invert=function(c,d){var k=c*c+d*d;if(k>f){var g=l(k);d=Sa(d,c);k=e*vd(d/e);d-=k;c=g*V(d);d=g*aa(d);g=c-ra;for(var h=
aa(c),t=d/h,I=c<ra?Infinity:0,m=10;;){var p=a*aa(t),ha=a*V(t),u=aa(ha),na=ra-ha,r=(p-t*u)/na,Ma=v(t,r);if(1E-12>Q(I)||!--m)break;t-=I=(t*h-r*g-d)/(h-2*g*(na*(ha+t*p*V(ha)-u)-p*(p-t*u))/(na*na))}g=a+n(Ma,ha,c)*(Y-a)/n(Ma,ha,Y);d=k+t;c=g*V(d);d=g*aa(d)}return b.geoAzimuthalEquidistantRaw.invert(c,d)};return d}function v(a,b){return function(c){var d=a*V(c);c<ra&&(d-=b);return l(1+d*d)}}function n(a,b,c){var d=(c-b)/50;c=a(b)+a(c);for(var e=1;50>e;++e)c+=2*a(b+=d);return.5*c*d}function ba(a,b,c,d,e,
f,k,g){function h(h,t){if(!t)return[a*h/Y,0];var n=t*t,v=a+n*(b+n*(c+n*d)),I=t*(e-1+n*(f-g+n*k));I=(v*v+I*I)/(2*I);h=h*w(v/I)/Y;return[I*aa(h),t*(1+n*g)+I*(1-V(h))]}8>arguments.length&&(g=0);h.invert=function(h,t){var n=Y*h/a,v=t,I=50;do{var m=v*v,p=a+m*(b+m*(c+m*d)),ha=v*(e-1+m*(f-g+m*k)),u=p*p+ha*ha,na=2*ha;var r=u/na;var Ma=r*r;var Ga=w(p/r)/Y;var Ea=n*Ga,x=p*p,B=(2*b+m*(4*c+6*m*d))*v,O=e+m*(3*f+5*m*k);ha=(2*(p*B+ha*(O-1))*na-2*u*(O-1))/(na*na);u=V(Ea);O=aa(Ea);na=r*u;Ea=r*O;Ma=n/Y*(1/l(1-x/Ma))*
(B*r-p*ha)/Ma;p=Ea-h;m=v*(1+m*g)+r-na-t;r=ha*O+na*Ma;x=na*Ga;ha=1+ha-(ha*u-Ea*Ma);Ga*=Ea;u=r*Ga-ha*x;if(!u)break;n-=r=(m*r-p*ha)/u;v-=Ga=(p*Ga-m*x)/u}while((1E-6<Q(r)||1E-6<Q(Ga))&&0<--I);return[n,v]};return h}function sa(a,b){var c=a*a,d=b*b;return[a*(1-.162388*d)*(.87-9.52426E-4*c*c),b*(1+d/12)]}function ya(a){function b(b,d){var e=0<b?-.5:.5;b=a(b+e*Y,d);b[0]-=e*c;return b}var c=a(ra,0)[0]-a(-ra,0)[0];a.invert&&(b.invert=function(b,d){var e=0<b?-.5:.5;b=a.invert(b+e*c,d);e=b[0]-e*Y;e<-Y?e+=2*Y:
e>Y&&(e-=2*Y);b[0]=e;return b});return b}function Ka(a,b){var c=ia(a),d=ia(b),e=V(b),f=V(a)*e;a=aa(a)*e;b=aa(d*b);a=Q(Sa(a,b));b=w(f);1E-6<Q(a-ra)&&(a%=ra);f=ab(a>Y/4?ra-a:a,b);a>Y/4&&(b=f[0],f[0]=-f[1],f[1]=-b);return f[0]*=c,f[1]*=-d,f}function ab(a,b){if(b===ra)return[0,0];var c=aa(b),d=c*c,e=d*d,f=1+e,k=1+3*e,g=1-e,h=w(1/l(f)),t=g+d*f*h,n=(1-c)/t,v=l(n),I=n*f,m=l(I),p=v*g;if(0===a)return[0,-(p+d*m)];var u=V(b),ha=1/u,r=2*c*u;h=(-t*u-(1-c)*(-3*d+h*k)*r)/(t*t);c=-ha*r;f=-ha*(d*f*h+n*k*r);g=-2*ha*
(.5*h/v*g-2*d*v*r);v=4*a/Y;if(a>.222*Y||b<Y/4&&a>.175*Y){b=(p+d*l(I*(1+e)-p*p))/(1+e);if(a>Y/4)return[b,b];e=b;ha=.5*b;b=.5*(ha+e);a=50;do{r=l(I-b*b);r=b*(g+c*r)+f*w(b/m)-v;if(!r)break;0>r?ha=b:e=b;b=.5*(ha+e)}while(1E-6<Q(e-ha)&&0<--a)}else{b=1E-6;a=25;do r=b*b,e=l(I-r),k=g+c*e,ha=b*k+f*w(b/m)-v,r=k+(f-c*r)/e,b-=e=e?ha/r:0;while(1E-6<Q(e)&&0<--a)}return[b,-p-d*l(I-b*b)]}function jb(a,b){if(1E-6>b){var c=aa(a);var d=V(a);var e=b*(a-c*d)/4;return[c-e*d,d+e*c,1-b*c*c/2,a-e]}if(.999999<=b){e=(1-b)/4;
d=z(a);c=xa(2*a);c=(c-1)/(c+1);b=1/d;var f=d*P(a);return[c+e*(f-a)/(d*d),b-e*c*b*(f-a),b+e*c*b*(f+a),2*Bb(xa(a))-ra+e*(f-a)/d]}var k=[1,0,0,0,0,0,0,0,0],g=[l(b),0,0,0,0,0,0,0,0],h=0;d=l(1-b);for(f=1;1E-6<Q(g[h]/k[h])&&8>h;)e=k[h++],g[h]=(e-d)/2,k[h]=(e+d)/2,d=l(e*d),f*=2;b=f*k[h]*a;do c=g[h]*aa(d=b)/k[h],b=(w(c)+b)/2;while(--h);return[aa(b),c=V(b),c/V(b-d),b]}function db(a,b){if(!b)return a;if(1===b)return Za($a(a/2+Lc));var c=1,d=l(1-b),e=l(b);for(b=0;1E-6<Q(e);b++)a%Y?(e=Bb(d*$a(a)/c),0>e&&(e+=
Y),a+=e+~~(a/Y)*Y):a+=a,e=(c+d)/2,d=l(c*d),e=((c=e)-d)/2;return a/(Fd(2,b)*c)}function Ta(a,b){var c=(Da-1)/(Da+1),d=l(1-c*c),e=db(ra,d*d),f=Za($a(Y/4+Q(b)/2));f=xa(-1*f)/l(c);c=f*V(-1*a);var k=f*aa(-1*a);a=c*c;f=k+1;k=1-a-k*k;a=[.5*((0<=c?ra:-ra)-Sa(k,2*c)),-.25*Za(k*k+4*a)+.5*Za(f*f+a)];c=a[0];a=a[1];d*=d;f=Q(c);k=Q(a);k=P(k);if(f){var g=1/aa(f);f=1/($a(f)*$a(f));k=-(f+d*k*k*g*g-1+d);k=(-k+l(k*k-4*(d-1)*f))/2;d=[db(Bb(1/l(k)),d)*ia(c),db(Bb(l((k/f-1)/d)),1-d)*ia(a)]}else d=[0,db(Bb(k),1-d)*ia(a)];
return[-d[1],(0<=b?1:-1)*(.5*e-d[0])]}function Ha(a){function b(a,b){var f=e(a,b);a=f[0];b=f[1];f=aa(b);b=V(b);var k=V(a),g=y(c*f+d*b*k),h=aa(g);g=1E-6<Q(h)?g/h:1;return[g*d*aa(a),(Q(a)>ra?g:-g)*(c*b-d*f*k)]}var c=aa(a),d=V(a),e=Xa(a);e.invert=Xa(-a);b.invert=function(a,b){var d=l(a*a+b*b),f=-aa(d),k=V(d),g=d*k,h=-b*f,t=d*c,n=l(g*g+h*h-t*t);g=Sa(g*t+h*n,h*t-g*n);a=(d>ra?-1:1)*Sa(a*f,d*V(g)*k+b*aa(g)*f);return e.invert(a,g)};return b}function Xa(a){var b=aa(a),c=V(a);return function(a,d){var e=V(d),
f=V(a)*e;a=aa(a)*e;d=aa(d);return[Sa(a,f*c-d*b),w(d*c+f*b)]}}function va(a){function b(b,v){var I=Q(v);if(I>c){var m=Cb(a-1,Zb(0,Qa((b+Y)/h)));b+=Y*(a-1)/a-m*h;b=f(b,I);b[0]=b[0]*Hb/d-Hb*(a-1)/(2*a)+m*Hb/a;b[1]=e+4*(b[1]-k)*g/Hb;0>v&&(b[1]=-b[1])}else b=yb(b,v);b[0]*=t;b[1]/=n;return b}var c=wd*Ca,d=f(Y,c)[0]-f(-Y,c)[0],e=yb(0,c)[1],k=f(0,c)[1],g=rb-k,h=Hb/a,t=4/Hb,n=e+g*g*4/Hb;b.invert=function(b,c){b/=t;c*=n;var v=Q(c);if(v>e){var I=Cb(a-1,Zb(0,Qa((b+Y)/h)));b=(b+Y*(a-1)/a-I*h)*d/Hb;b=f.invert(b,
.25*(v-e)*Hb/g+k);b[0]-=Y*(a-1)/a-I*h;0>c&&(b[1]=-b[1]);return b}return yb.invert(b,c)};return b}function Db(a,b){return[a,b&1?89.999999:wd]}function Ra(a,b){return[a,b&1?-89.999999:-wd]}function Kb(a){return[.999999*a[0],a[1]]}function cb(a){var b=[].concat(d.range(-180,180+a/2,a).map(Db),d.range(180,-180-a/2,-a).map(Ra));return{type:"Polygon",coordinates:[180===a?b.map(Kb):b]}}function wb(a){function b(b,d){var n=1-aa(d);if(n&&2>n){var v=ra-d,I=25;do{var m=aa(v);var p=V(v);d=e+Sa(m,c-p);p=1+t-2*
c*p;v-=m=(v-h*e-c*m+p*d-.5*n*k)/(2*c*m*d)}while(1E-12<Q(m)&&0<--I);n=f*l(p);b=b*d/Y}else n=f*(a+n),b=b*e/Y;return[n*aa(b),g-n*V(b)]}var c=1+a,d=aa(1/c),e=w(d),f=2*l(Y/(k=Y+4*e*c)),k,g=.5*f*(c+l(a*(2+a))),h=a*a,t=c*c;b.invert=function(a,b){var d=a*a+(b-=g)*b;b=(1+t-d/(f*f))/(2*c);var n=y(b),v=aa(n),I=e+Sa(v,c-b);return[w(a/l(d))*Y/I,w(1-2*(n-h*e-c*v+(1+t-2*c*b)*I)/k)]};return b}function zb(a,b){return-.7109889596207567<b?(a=Fc(a,b),a[1]+=.0528035274542,a):p(a,b)}function Ja(a,b){return.7109889596207567<
Q(b)?(a=Fc(a,b),a[1]-=0<b?.0528035274542:-.0528035274542,a):p(a,b)}function Ya(a,b,c,d){function e(c){return l(1+a*V(2*c)+b*V(4*c))}function f(d){d*=c;return(2*d+(1+a-b/2)*aa(2*d)+(a+b)/2*aa(4*d)+b/2*aa(6*d))/c}function k(a){return e(a)*aa(a)}var g=l(4*Y/(2*c+(1+a-b/2)*aa(2*c)+(a+b)/2*aa(4*c)+b/2*aa(6*c))),h=l(d*aa(c)*l((1+a*V(2*c)+b*V(4*c))/(1+a+b))),t=c*f(1),n=function(a,b){var d=c*C(f,t*aa(b)/c,b/Y);isNaN(d)&&(d=c*ia(b));b=g*e(d);return[b*h*a/Y*V(d),b/h*aa(d)]};n.invert=function(a,b){b=C(k,b*h/
g);return[a*Y/(V(b)*g*h*e(b)),w(c*f(b/c)/t)]};0===c&&(g=l(d/Y),n=function(a,b){return[a*g,aa(b)/g]},n.invert=function(a,b){return[a/g,w(b*g)]});return n}function Xb(a,b,c,d,e,f,k,g,h,t,n){if(n.nanEncountered)return NaN;var v=c-b;var I=a(b+.25*v);var m=a(c-.25*v);if(isNaN(I))n.nanEncountered=!0;else if(isNaN(m))n.nanEncountered=!0;else{var p=v*(d+4*I+e)/12;var u=v*(e+4*m+f)/12;var r=p+u;k=(r-k)/15;if(t>h)return n.maxDepthCount++,r+k;if(Math.abs(k)<g)return r+k;v=b+.5*v;b=Xb(a,b,v,d,I,e,p,.5*g,h,t+
1,n);if(isNaN(b))return n.nanEncountered=!0,NaN;a=Xb(a,v,c,e,m,f,u,.5*g,h,t+1,n);return isNaN(a)?(n.nanEncountered=!0,NaN):b+a}}function Yb(a,b,c,d,e){void 0===d&&(d=1E-8);void 0===e&&(e=20);var f=a(b),k=a(.5*(b+c)),g=a(c);return Xb(a,b,c,f,k,g,(f+4*k+g)*(c-b)/6,d,e,1,{maxDepthCount:0,nanEncountered:!1})}function bb(a,b,c){function d(c){return a+(1-a)*Fd(1-Fd(c,b),1/b)}function e(a){var b=0,c=1E3,d=500;do g[d]>a?c=d:b=d,d=b+c>>1;while(d>b);(b=g[d+1]-g[d])&&(b=(a-g[d+1])/b);return(d+1+b)/1E3}for(var f=
1/Yb(d,0,1,1E-4),k=1.00000001*f,g=[],h=0;1E3>=h;h++)g.push(Yb(d,0,h/1E3,1E-4)*k);var t=2*e(1)/Y*f/c;c=function(a,b){var c=e(Q(aa(b)));a*=d(c);c/=t;return[a,0<=b?c:-c]};c.invert=function(a,b){var c;b*=t;1>Q(b)&&(c=ia(b)*w(Yb(d,0,Q(b),1E-4)*f));return[a/d(Q(b)),c]};return c}function tc(a,b){for(var c=-1,d=a.length,e=a[0],f,k,g,h=[];++c<d;){f=a[c];k=(f[0]-e[0])/b;g=(f[1]-e[1])/b;for(var t=0;t<b;++t)h.push([e[0]+t*k,e[1]+t*g]);e=f}h.push(f);return h}function Qb(a){var b=[],c,e=a[0].length;for(c=0;c<e;++c){var f=
a[0][c];var k=f[0][0];var g=f[0][1];var h=f[1][1];var t=f[2][0];f=f[2][1];b.push(tc([[k+1E-6,g+1E-6],[k+1E-6,h-1E-6],[t-1E-6,h-1E-6],[t-1E-6,f+1E-6]],30))}for(c=a[1].length-1;0<=c;--c)f=a[1][c],k=f[0][0],g=f[0][1],h=f[1][1],t=f[2][0],f=f[2][1],b.push(tc([[t-1E-6,f-1E-6],[t-1E-6,h+1E-6],[k+1E-6,h+1E-6],[k+1E-6,g-1E-6]],30));return{type:"Polygon",coordinates:[d.merge(b)]}}function Pa(a,c,d){function e(b,d){for(var e=0>d?-1:1,f=c[+(0>d)],k=0,g=f.length-1;k<g&&b>f[k][2][0];++k);b=a(b-f[k][1][0],d);b[0]+=
a(f[k][1][0],e*d>e*f[k][0][1]?f[k][0][1]:d)[0];return b}var f,k;d?e.invert=d(e):a.invert&&(e.invert=function(b,d){for(var f=k[+(0>d)],g=c[+(0>d)],h=0,t=f.length;h<t;++h){var n=f[h];if(n[0][0]<=b&&b<n[1][0]&&n[0][1]<=d&&d<n[1][1])return f=a.invert(b-a(g[h][1][0],0)[0],d),f[0]+=g[h][1][0],g=e(f[0],f[1]),b=[b,d],1E-6>Q(g[0]-b[0])&&1E-6>Q(g[1]-b[1])?f:null}});var g=b.geoProjection(e),h=g.stream;g.stream=function(a){var c=g.rotate(),d=h(a),e=(g.rotate([0,0]),h(a));g.rotate(c);d.sphere=function(){b.geoStream(f,
e)};return d};g.lobes=function(b){if(!arguments.length)return c.map(function(a){return a.map(function(a){return[[a[0][0]*La,a[0][1]*La],[a[1][0]*La,a[1][1]*La],[a[2][0]*La,a[2][1]*La]]})});f=Qb(b);c=b.map(function(a){return a.map(function(a){return[[a[0][0]*Ca,a[0][1]*Ca],[a[1][0]*Ca,a[1][1]*Ca],[a[2][0]*Ca,a[2][1]*Ca]]})});k=c.map(function(b){return b.map(function(b){var c=a(b[0][0],b[0][1])[0],d=a(b[2][0],b[2][1])[0],e=a(b[1][0],b[0][1])[1];b=a(b[1][0],b[1][1])[1];if(e>b){var f=e;e=b;b=f}return[[c,
e],[d,b]]})});return g};null!=c&&g.lobes(c);return g}function qb(a,b){return[3/Hb*a*l(Y*Y/3-b*b),b]}function Rb(a){function b(b,c){if(1E-6>Q(Q(c)-ra))return[0,0>c?-2:2];c=aa(c);c=Fd((1+c)/(1-c),a/2);var d=.5*(c+1/c)+V(b*=a);return[2*aa(b)/d,(c-1/c)/d]}b.invert=function(b,c){var d=Q(c);if(1E-6>Q(d-2))return b?null:[0,ia(c)*ra];if(2<d)return null;b/=2;c/=2;d=b*b;var e=c*c;c=2*c/(1+d+e);c=Fd((1+c)/(1-c),1/a);return[Sa(2*b,1-d-e)/a,w((c-1)/(c+1))]};return b}function xb(a,b){return[a*(1+l(V(b)))/2,b/(V(b/
2)*V(a/6))]}function fc(a,b){var c=a*a,d=b*b;return[a*(.975534+d*(-.119161+-.0143059*c+-.0547009*d)),b*(1.00384+c*(.0802894+-.02855*d+1.99025E-4*c)+d*(.0998909+-.0491032*d))]}function Ic(a,b){return[aa(a)/V(b),$a(b)*V(a)]}function pc(a){function b(b,e){var f=e-a,k=1E-6>Q(f)?b*c:1E-6>Q(k=Lc+e/2)||1E-6>Q(Q(k)-ra)?0:b*f/Za($a(k)/d);return[k,f]}var c=V(a),d=$a(Lc+a/2);b.invert=function(b,e){var f,k=e+a;return[1E-6>Q(e)?b/c:1E-6>Q(f=Lc+k/2)||1E-6>Q(Q(f)-ra)?0:b*Za($a(f)/d)/e,k]};return b}function Mb(a,
b){return[a,1.25*Za($a(Lc+.4*b))]}function ic(a){function b(b,d){var e=V(d),f=2/(1+e*V(b));b=f*e*aa(b);d=f*aa(d);f=c;e=a[f];for(var k=e[0],g=e[1],h;0<=--f;)e=a[f],k=e[0]+b*(h=k)-d*g,g=e[1]+b*g+d*h;k=b*(h=k)-d*g;return[k,b*g+d*h]}var c=a.length-1;b.invert=function(b,d){var e=20,f=b,k=d;do{for(var g=c,h=a[g],t=h[0],n=h[1],v=0,I=0,m;0<=--g;)h=a[g],v=t+f*(m=v)-k*I,I=n+f*I+k*m,t=h[0]+f*(m=t)-k*n,n=h[1]+f*n+k*m;v=t+f*(m=v)-k*I;I=n+f*I+k*m;t=f*(m=t)-k*n-b;n=f*n+k*m-d;h=v*v+I*I;f-=g=(t*v+n*I)/h;k-=t=(n*v-
t*I)/h}while(1E-12<Q(g)+Q(t)&&0<--e);if(e)return b=l(f*f+k*k),d=2*Bb(.5*b),e=aa(d),[Sa(f*e,b*V(d)),b?w(k*e/b):0]};return b}function Lb(a,c){a=b.geoProjection(ic(a)).rotate(c).clipAngle(90);var d=b.geoRotation(c),e=a.center;delete a.rotate;a.center=function(a){return arguments.length?e(d(a)):d.invert(e())};return a}function pb(a,b){b=w(7*aa(b)/(3*ge));return[ge*a*(2*V(2*b/3)-1)/ae,9*aa(b/3)/ae]}function Ub(a,b){for(var c=(1+mc)*aa(b),d=0,e;25>d&&!(b-=e=(aa(b/2)+aa(b)-c)/(.5*V(b/2)+V(b)),1E-6>Q(e));d++);
return[a*(1+2*V(b)/V(b/2))/(3*Da),2*l(3)*aa(b/2)/l(2+Da)]}function ma(a,b){var c=l(6/(4+Y)),d=(1+Y/4)*aa(b);b/=2;for(var e=0,f;25>e&&!(b-=f=(b/2+aa(b)-d)/(.5+V(b)),1E-6>Q(f));e++);return[c*(.5+V(b))*a/1.5,c*b]}function qc(a,b){var c=b*b,d=c*c,e=c*d;return[a*(.84719-.13063*c+e*e*(-.04515+.05494*c-.02326*d+.00331*e)),b*(1.01183+d*d*(-.02625+.01926*c-.00396*d))]}function cc(a,b){return[a*(1+V(b))/2,2*(b-$a(b/2))]}function Sc(a,b){var c=aa(b),d=V(b),e=ia(a);if(0===a||Q(b)===ra)return[0,b];if(0===b)return[a,
0];if(Q(a)===ra)return[a*d,ra*c];a=Y/(2*a)-2*a/Y;var f=2*b/Y,k=(1-f*f)/(c-f),g=a*a,h=k*k;f=1+g/h;var t=1+h/g,n=(a*c/k-a/2)/f,v=(h*c/g+k/2)/t;c=v*v-(h*c*c/g+k*c-1)/t;return[ra*(n+l(n*n+d*d/f)*e),ra*(v+l(0>c?0:c)*ia(-b*a)*e)]}function gc(a,b){var c=b*b;return[a,b*(1.0148+c*c*(.23185+c*(-.14499+.02406*c)))]}function sc(a,b){if(1E-6>Q(b))return[a,0];var c=$a(b);a*=aa(b);return[aa(a)/c,b+(1-V(a))/c]}function Vc(a,b){var c=yc(a[1],a[0]),d=yc(b[1],b[0]),e=Sa(c[0]*d[1]-c[1]*d[0],c[0]*d[0]+c[1]*d[1]);c=l(c[0]*
c[0]+c[1]*c[1])/l(d[0]*d[0]+d[1]*d[1]);return id([1,0,a[0][0],0,1,a[0][1]],id([c,0,0,0,c,0],id([V(e),aa(e),0,-aa(e),V(e),0],[1,0,-b[0][0],0,1,-b[0][1]])))}function id(a,b){return[a[0]*b[0]+a[1]*b[3],a[0]*b[1]+a[1]*b[4],a[0]*b[2]+a[1]*b[5]+a[2],a[3]*b[0]+a[4]*b[3],a[3]*b[1]+a[4]*b[4],a[3]*b[2]+a[4]*b[5]+a[5]]}function yc(a,b){return[a[0]-b[0],a[1]-b[1]]}function Tc(a,c,d){function e(a,b){a.edges=Aa(a.face);if(b.face){var c=a.shared=Cc(a.face,b.face),d=Vc(c.map(b.project),c.map(a.project));a.transform=
b.transform?id(b.transform,d):d;d=b.edges;for(var f=0,k=d.length;f<k;++f)lb(c[0],d[f][1])&&lb(c[1],d[f][0])&&(d[f]=a),lb(c[0],d[f][0])&&lb(c[1],d[f][1])&&(d[f]=a);d=a.edges;f=0;for(k=d.length;f<k;++f)lb(c[0],d[f][0])&&lb(c[1],d[f][1])&&(d[f]=b),lb(c[0],d[f][1])&&lb(c[1],d[f][0])&&(d[f]=b)}else a.transform=b.transform;a.children&&a.children.forEach(function(b){e(b,a)});return a}function f(a,b){var d=c(a,b);a=d.project([a*La,b*La]);if(d=d.transform)return[d[0]*a[0]+d[1]*a[1]+d[2],-(d[3]*a[0]+d[4]*a[1]+
d[5])];a[1]=-a[1];return a}function k(a,b){var d=a.project.invert,e=a.transform,f=b;if(e){var g=1/(e[0]*e[4]-e[1]*e[3]);e=[g*e[4],-g*e[1],g*(e[1]*e[5]-e[2]*e[4]),-g*e[3],g*e[0],g*(e[2]*e[3]-e[0]*e[5])];f=[e[0]*f[0]+e[1]*f[1]+e[2],e[3]*f[0]+e[4]*f[1]+e[5]]}if(e=d)d=h=d(f),d=c(d[0]*Ca,d[1]*Ca),e=a===d;if(e)return h;var h;a=a.children;d=0;for(f=a&&a.length;d<f;++d)if(h=k(a[d],b))return h}e(a,{transform:null});Ab(a)&&(f.invert=function(b,c){return(b=k(a,[b,-c]))&&(b[0]*=Ca,b[1]*=Ca,b)});var g=b.geoProjection(f),
h=g.stream;g.stream=function(b){var c=g.rotate(),d=h(b),e=(g.rotate([0,0]),h(b));g.rotate(c);d.sphere=function(){e.polygonStart();e.lineStart();Wc(e,a);e.lineEnd();e.polygonEnd()};return d};return g.angle(null==d?-30:d*La)}function Wc(a,c,d){var e,f=c.edges,k=f.length;var g={type:"MultiPoint",coordinates:c.face};var h=c.face.filter(function(a){return 90!==Q(a[1])}),t=b.geoBounds({type:"MultiPoint",coordinates:h});h=!1;var n=-1,v=t[1][0]-t[0][0];t=180===v||360===v?[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/
2]:b.geoCentroid(g);if(d)for(;++n<k&&f[n]!==d;);++n;for(v=0;v<k;++v)g=f[(v+n)%k],Array.isArray(g)?(h||(a.point((e=b.geoInterpolate(g[0],t)(1E-6))[0],e[1]),h=!0),a.point((e=b.geoInterpolate(g[1],t)(1E-6))[0],e[1])):(h=!1,g!==d&&Wc(a,g,c))}function lb(a,b){return a&&b&&a[0]===b[0]&&a[1]===b[1]}function Cc(a,b){for(var c,d,e=a.length,f=null,k=0;k<e;++k){c=a[k];for(var g=b.length;0<=--g;)if(d=b[g],c[0]===d[0]&&c[1]===d[1]){if(f)return[f,c];f=c}}}function Aa(a){for(var b=a.length,c=[],d=a[b-1],e=0;e<b;++e)c.push([d,
d=a[e]]);return c}function Ab(a){return a.project.invert||a.children&&a.children.some(Ab)}function Wb(a,b){a=f(a,b);return[a[0]*$c,a[1]]}function Qc(a,b){for(var c=0,d=a.length,e=0;c<d;++c)e+=a[c]*b[c];return e}function Ib(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function Bc(a){return[Sa(a[1],a[0])*La,w(Zb(-1,Cb(1,a[2])))*La]}function Rc(a){var b=a[0]*Ca;a=a[1]*Ca;var c=V(a);return[c*V(b),c*aa(b),aa(a)]}function Jc(){}function hd(a,b){return{type:"FeatureCollection",
features:a.features.map(function(a){return me(a,b)})}}function me(a,b){return{type:"Feature",id:a.id,properties:a.properties,geometry:Hd(a.geometry,b)}}function oc(a,b){return{type:"GeometryCollection",geometries:a.geometries.map(function(a){return Hd(a,b)})}}function Hd(a,c){if(!a)return null;if("GeometryCollection"===a.type)return oc(a,c);switch(a.type){case "Point":var d=Ae;break;case "MultiPoint":d=Ae;break;case "LineString":d=Ld;break;case "MultiLineString":d=Ld;break;case "Polygon":d=he;break;
case "MultiPolygon":d=he;break;case "Sphere":d=he;break;default:return null}b.geoStream(a,c(d));return d.result()}function qd(a){function c(b,c){var e=Q(b)<ra;c=a(e?b:0<b?b-Y:b+Y,c);b=(c[0]-c[1])*mc;c=(c[0]+c[1])*mc;if(e)return[b,c];e=d*mc;var f=0<b^0<c?-1:1;return[f*b-ia(c)*e,f*c-ia(b)*e]}var d=a(ra,0)[0]-a(-ra,0)[0];a.invert&&(c.invert=function(b,c){var e=(b+c)*mc,f=(c-b)*mc,k=Q(e)<.5*d&&Q(f)<.5*d;if(!k){var g=d*mc,h=0<e^0<f?-1:1;b=-h*b+(0<f?1:-1)*g;c=-h*c+(0<e?1:-1)*g;e=(-b-c)*mc;f=(b-c)*mc}c=
a.invert(e,f);k||(c[0]+=0<e?Y:-Y);return c});return b.geoProjection(c).rotate([-90,-90,45]).clipAngle(179.999)}function Dc(){return qd(Ta).scale(111.48)}function uc(a){function b(b,d){b=c?$a(b*c/2)/c:b/2;if(!d)return[2*b,-a];b=2*Bb(b*aa(d));var e=1/$a(d);return[aa(b)*e,d+(1-V(b))*e-a]}var c=aa(a);b.invert=function(b,d){if(1E-6>Q(d+=a))return[c?2*Bb(c*b/2)/c:b,0];var e=b*b+d*d,f=0,k=10;do{var g=$a(f);var h=1/V(f),t=e-2*d*f+f*f;f-=g=(g*t+2*(f-d))/(2+t*h*h+2*(f-d)*g)}while(1E-6<Q(g)&&0<--k);b*=g=$a(f);
d=$a(Q(d)<Q(f+1/g)?.5*w(b):.5*y(b)+Y/4)/aa(f);return[c?2*Bb(c*d)/c:2*d,f]};return b}function Xc(a,b){var c=Cb(18,36*Q(b)/Y),d=Qa(c);c-=d;var e=(h=fd[d])[0],f=h[1],k=(h=fd[++d])[0],g=h[1];d=(h=fd[Cb(19,++d)])[0];h=h[1];var h;return[a*(k+c*(d-e)/2+c*c*(d-2*k+e)/2),(0<b?ra:-ra)*(g+c*(h-f)/2+c*c*(h-2*g+f)/2)]}function Uc(a){function b(b,c){var d=V(c),e=(a-1)/(a-d*V(b));return[e*d*aa(b),e*aa(c)]}b.invert=function(b,c){var d=b*b+c*c,e=l(d);d=(a-l(1-d*(a+1)/(a-1)))/((a-1)/e+e/(a-1));return[Sa(b*d,e*l(1-
d*d)),e?w(c*d/e):0]};return b}function jd(a,b){function c(b,c){b=d(b,c);c=b[1];var k=c*f/(a-1)+e;return[b[0]*e/k,c/k]}var d=Uc(a);if(!b)return d;var e=V(b),f=aa(b);c.invert=function(b,c){var k=(a-1)/(a-1-c*f);return d.invert(k*b,k*c*e)};return c}function td(a){return 0<a.length}function Cd(a){return-90===a||90===a?[0,a]:[-180,Math.floor(1E4*a)/1E4]}function Gb(a){var b=a[0],c=a[1],d=!1;-179.9999>=b?(b=-180,d=!0):179.9999<=b&&(b=180,d=!0);-89.9999>=c?(c=-90,d=!0):89.9999<=c&&(c=90,d=!0);return d?[b,
c]:a}function Jb(a){return a.map(Gb)}function kd(a,b,c){for(var d=0,e=a.length;d<e;++d){var f=a[d].slice();c.push({index:-1,polygon:b,ring:f});for(var k=0,g=f.length;k<g;++k){var h=f[k],t=h[0],n=h[1];if(-179.9999>=t||179.9999<=t||-89.9999>=n||89.9999<=n){f[k]=Gb(h);for(h=k+1;h<g;++h){var v=f[h];t=v[0];v=v[1];if(-179.9999<t&&179.9999>t&&-89.9999<v&&89.9999>v)break}if(h!==k+1){k?(k={index:-1,polygon:b,ring:f.slice(0,k+1)},k.ring[k.ring.length-1]=Cd(n),c[c.length-1]=k):c.pop();if(h>=g)break;c.push({index:-1,
polygon:b,ring:f=f.slice(h-1)});f[0]=Cd(f[0][1]);k=-1;g=f.length}}}}}function Ec(a){var b,c=a.length,d={},e={};for(b=0;b<c;++b){var f=a[b];var k=f.ring[0];var g=f.ring[f.ring.length-1];k[0]===g[0]&&k[1]===g[1]?(f.polygon.push(f.ring),a[b]=null):(f.index=b,d[k]=e[g]=f)}for(b=0;b<c;++b)if(f=a[b]){k=f.ring[0];g=f.ring[f.ring.length-1];var h=e[k];var t=d[g];delete d[k];delete e[g];k[0]===g[0]&&k[1]===g[1]?f.polygon.push(f.ring):h?(delete e[k],delete d[h.ring[0]],h.ring.pop(),a[h.index]=null,f={index:-1,
polygon:h.polygon,ring:h.ring.concat(f.ring)},h===t?f.polygon.push(f.ring):(f.index=c++,a.push(d[f.ring[0]]=e[f.ring[f.ring.length-1]]=f))):t?(delete d[g],delete e[t.ring[t.ring.length-1]],f.ring.pop(),f={index:c++,polygon:t.polygon,ring:f.ring.concat(t.ring)},a[t.index]=null,a.push(d[f.ring[0]]=e[f.ring[f.ring.length-1]]=f)):(f.ring.push(f.ring[0]),f.polygon.push(f.ring))}}function Ga(a){var b={type:"Feature",geometry:hc(a.geometry)};null!=a.id&&(b.id=a.id);null!=a.bbox&&(b.bbox=a.bbox);null!=a.properties&&
(b.properties=a.properties);return b}function hc(a){if(null==a)return a;switch(a.type){case "GeometryCollection":var b={type:"GeometryCollection",geometries:a.geometries.map(hc)};break;case "Point":b={type:"Point",coordinates:Gb(a.coordinates)};break;case "MultiPoint":case "LineString":b={type:a.type,coordinates:Jb(a.coordinates)};break;case "MultiLineString":b={type:"MultiLineString",coordinates:a.coordinates.map(Jb)};break;case "Polygon":var c=[];kd(a.coordinates,c,b=[]);Ec(b);b={type:"Polygon",
coordinates:c};break;case "MultiPolygon":b=[];c=-1;var d=a.coordinates.length;for(var e=Array(d);++c<d;)kd(a.coordinates[c],e[c]=[],b);Ec(b);b={type:"MultiPolygon",coordinates:e.filter(td)};break;default:return a}null!=a.bbox&&(b.bbox=a.bbox);return b}function Nb(a,b){b=$a(b/2);var c=aa(Lc*b);return[a*(.74482-.34588*c*c),1.70711*b]}function Yc(a,c,d){var e=b.geoInterpolate(c,d);d=e(.5);c=b.geoRotation([-d[0],-d[1]])(c);e=e.distance/2;var f=-w(aa(c[1]*Ca)/aa(e));d=[-d[0],-d[1],-(0<c[0]?Y-f:f)*La];
a=b.geoProjection(a(e)).rotate(d);var k=b.geoRotation(d),g=a.center;delete a.rotate;a.center=function(a){return arguments.length?g(k(a)):k.invert(g())};return a.clipAngle(90)}function Sb(a){function c(a,c){a=b.geoGnomonicRaw(a,c);a[0]*=d;return a}var d=V(a);c.invert=function(a,c){return b.geoGnomonicRaw.invert(a/d,c)};return c}function Sd(a,b){return Yc(Sb,a,b)}function ud(a){function c(b,c){var k=y(V(c)*V(b-d));b=y(V(c)*V(b-e));k*=k;b*=b;return[(k-b)/(2*a),(0>c?-1:1)*l(4*f*b-(f-k+b)*(f-k+b))/(2*
a)]}if(!(a*=2))return b.geoAzimuthalEquidistantRaw;var d=-a/2,e=-d,f=a*a,k=$a(e),g=.5/aa(e);c.invert=function(a,b){var c=b*b,f=V(l(c+(h=a+d)*h));a=V(l(c+(h=a+e)*h));var h,t;return[Sa(t=f-a,h=(f+a)*k),(0>b?-1:1)*y(l(h*h+t*t)*g)]};return c}function Dd(a,b){return Yc(ud,a,b)}function Ia(a,b){if(1E-6>Q(b))return[a,0];var c=Q(b/ra),d=w(c);if(1E-6>Q(a)||1E-6>Q(Q(b)-ra))return[0,ia(b)*Y*$a(d/2)];var e=V(d);d=Q(Y/a-a/Y)/2;var f=d*d;e/=c+e-1;c=e*(2/c-1);var k=c*c,g=k+f,h=e-k,t=f+e;return[ia(a)*Y*(d*h+l(f*
h*h-g*(e*e-k)))/g,ia(b)*Y*(c*t-d*l((f+1)*g-t*t))/g]}function Ob(a,b){if(1E-6>Q(b))return[a,0];var c=Q(b/ra),d=w(c);if(1E-6>Q(a)||1E-6>Q(Q(b)-ra))return[0,ia(b)*Y*$a(d/2)];var e=V(d);d=Q(Y/a-a/Y)/2;var f=d*d;c=e*(l(1+f)-d*e)/(1+f*c*c);return[ia(a)*Y*c,ia(b)*Y*l(1-c*(2*d+c))]}function Zc(a,b){if(1E-6>Q(b))return[a,0];var c=b/ra,d=w(c);if(1E-6>Q(a)||1E-6>Q(Q(b)-ra))return[0,Y*$a(d/2)];b=(Y/a-a/Y)/2;c/=1+V(d);return[Y*(ia(a)*l(b*b+1-c*c)-b),Y*c]}function jc(a,b){if(!b)return[a,0];var c=Q(b);if(!a||c===
ra)return[0,b];var d=c/ra;c=d*d;var e=(8*d-c*(c+2)-5)/(2*c*(d-1)),f=e*e,k=d*e,g=c+f+2*k;d+=3*e;e=a/ra;e+=1/e;e=ia(Q(a)-ra)*l(e*e-4);var h=e*e;c=(e*(g+f-1)+2*l(g*(c+f*h-1)+(1-c)*(c*(d*d+4*f)+12*k*f+4*f*f)))/(4*g+h);return[ia(a)*ra*c,ia(b)*ra*l(1+e*Q(c)-c*c)]}function mb(a,b,c,d,e){function f(f,k){k=c*aa(d*k);var g=l(1-k*k),h=l(2/(1+g*V(f*=e)));return[a*g*h*aa(f),b*k*h]}f.invert=function(f,k){var g=f/a,h=k/b;g=l(g*g+h*h);h=2*w(g/2);return[Sa(f*$a(h),a*g)/e,g&&w(k*aa(h)/(b*c*g))/d]};return f}function Ua(a,
b,c,d){var e=Y/3;a=Zb(a,1E-6);b=Zb(b,1E-6);a=Cb(a,ra);b=Cb(b,Y-1E-6);c=Zb(c,0);c=Cb(c,99.999999);d=Zb(d,1E-6);var f=d/100;c=y((c/100+1)*V(e))/e;e=aa(a)/aa(c*ra);d=b/Y;b=l(f*aa(a/2)/aa(b/2));a=b/l(d*e*c);b=1/(b*l(d*e*c));return mb(a,b,e,c,d)}function ub(){var a=65*Ca,c=60*Ca,d=20,e=200,f=b.geoProjectionMutator(Ua),k=f(a,c,d,e);k.poleline=function(b){return arguments.length?f(a=+b*Ca,c,d,e):a*La};k.parallels=function(b){return arguments.length?f(a,c=+b*Ca,d,e):c*La};k.inflation=function(b){return arguments.length?
f(a,c,d=+b,e):d};k.ratio=function(b){return arguments.length?f(a,c,d,e=+b):e};return k.scale(163.775)}function Pb(a,b){return[a*l(1-3*b*b/(Y*Y)),b]}function eb(a,b){var c=V(b),d=V(a)*c,e=1-d;b=V(a=Sa(aa(a)*c,-aa(b)));a=aa(a);c=l(1-d*d);return[a*c-b*e,-b*c-a*e]}function Fa(a,b){var c=M(a,b);return[(c[0]+a/ra)/2,(c[1]+b)/2]}var Q=Math.abs,Bb=Math.atan,Sa=Math.atan2,V=Math.cos,xa=Math.exp,Qa=Math.floor,Za=Math.log,Zb=Math.max,Cb=Math.min,Fd=Math.pow,vd=Math.round,ia=Math.sign||function(a){return 0<a?
1:0>a?-1:0},aa=Math.sin,$a=Math.tan,Y=Math.PI,ra=Y/2,Lc=Y/4,mc=Math.SQRT1_2,Da=l(2),rb=l(Y),Hb=2*Y,La=180/Y,Ca=Y/180;M.invert=function(a,b){if(!(a*a+4*b*b>Y*Y+1E-6)){var c=a,d=b,e=25;do{var f=aa(c),k=aa(c/2),g=V(c/2),h=aa(d),t=V(d),n=aa(2*d),v=h*h,I=t*t,m=k*k,p=1-I*g*g,u=p?y(t*g)*l(r=1/p):r=0,r;p=2*u*t*k-a;var Ma=u*h-b,Ga=r*(I*m+u*t*g*v),x=r*(.5*f*n-2*u*h*k);f=.25*r*(n*k-u*h*I*f);t=r*(v*g+u*m*t);g=x*f-t*Ga;if(!g)break;x=(Ma*x-p*t)/g;p=(p*f-Ma*Ga)/g;c-=x;d-=p}while((1E-6<Q(x)||1E-6<Q(p))&&0<--e);return[c,
d]}};Z.invert=function(a,b){a*=.375;b*=.375;if(!a&&1<Q(b))return null;var c=1+a*a+b*b,d=l((c-l(c*c-4*b*b))/2);c=w(d)/3;d?(d=Q(b/d),d=Za(d+l(d*d-1))/3):(d=Q(a),d=Za(d+l(d*d+1))/3);var e=V(c),f=z(d),k=f*f-e*e;return[2*ia(a)*Sa(P(d)*e,.25-k),2*ia(b)*Sa(f*aa(c),.25+k)]};var sb=l(8),dc=Za(1+Da);G.invert=function(a,b){if((e=Q(b))<dc)return[a,2*Bb(xa(b))-ra];var c=Lc,d=25,e;do{var f=V(c/2);var k=$a(c/2);c-=f=(sb*(c-Lc)-Za(k)-e)/(sb-f*f/(2*k))}while(1E-12<Q(f)&&0<--d);return[a/(V(c)*(sb-1/aa(c))),ia(b)*c]};
S.invert=function(a,b){b=2*w(b/2);return[a*V(b/2)/V(b),b]};var Fc=B(Da/ra,Da,Y);u.invert=function(a,b){var c=2.00276*b;b=0>b?-Lc:Lc;var d=25;do{var e=c-Da*aa(b);b-=e=(aa(2*b)+2*b-Y*aa(e))/(2*V(2*b)+2+Y*V(e)*Da*V(b))}while(1E-6<Q(e)&&0<--d);e=c-Da*aa(b);return[a*(1/V(e)+1.11072/V(b))/2.00276,e]};p.invert=function(a,b){return[a/V(b),b]};var ld=B(1,4/Y,Y);f.invert=function(a,b){var c=(c=b/rb-1)*c;return[0<c?a*l(Y/c)/2:0,w(1-c)]};var nd=l(3);K.invert=function(a,b){b=3*w(b/(nd*rb));return[rb*a/(nd*(2*
V(2*b/3)-1)),b]};ea.invert=function(a,b){var c=l(8/(3*Y));b/=c;return[a/(c*(1-Q(b)/Y)),b]};ka.invert=function(a,b){var c=2-Q(b)/l(2*Y/3);return[a*l(6*Y)/(2*c),ia(b)*w((4-c*c)/3)]};X.invert=function(a,b){var c=l(Y*(4+Y))/2;return[a*c/(1+l(1-b*b*(4+Y)/(4*Y))),b*c/2]};E.invert=function(a,b){b=b*l((4+Y)/Y)/2;var c=w(b),d=V(c);return[a/(2/l(Y*(4+Y))*(1+d)),w((c+b*(d+2))/(2+ra))]};J.invert=function(a,b){var c=l(2+Y);b=b*c/2;return[c*a/(1+V(b)),b]};Va.invert=function(a,b){var c=1+ra,d=l(c/2);return[2*a*
d/(1+V(b*=d)),w((b+aa(b))/c)]};var kc=3+2*Da;tb.invert=function(a,b){if(!(e=Z.invert(a/1.2,1.065*b)))return null;var c=e[0];e=e[1];var d=20,e;a/=kc;b/=kc;do{var f=c/2,k=e/2,g=aa(f),h=V(f),t=aa(k),n=V(k),v=V(e),I=l(v),m=t/(n+Da*h*I),p=m*m,u=l(2/(1+p)),r=(Da*n+(h+g)*I)/(Da*n+(h-g)*I),Ma=l(r),Ga=Ma-1/Ma,x=Ma+1/Ma;k=u*Ga-2*Za(Ma)-a;f=u*m*x-2*Bb(m)-b;var B=t&&mc*I*g*p/t,O=(Da*h*n+I)/(2*(n+Da*h*I)*(n+Da*h*I)*I),C=-.5*m*u*u*u,T=C*B;C*=O;var D=(D=2*n+Da*I*(h-g))*D*Ma;h=(Da*h*n*I+v)/D;t=-(Da*g*t)/(I*D);g=
Ga*T-2*h/Ma+u*(h+h/r);Ma=Ga*C-2*t/Ma+u*(t+t/r);B=m*x*T-2*B/(1+p)+u*x*B+u*m*(h-h/r);p=m*x*C-2*O/(1+p)+u*x*O+u*m*(t-t/r);m=Ma*B-p*g;if(!m)break;p=(f*Ma-k*p)/m;k=(k*B-f*g)/m;c-=p;e=Zb(-ra,Cb(ra,e-k))}while((1E-6<Q(p)||1E-6<Q(k))&&0<--d);return 1E-6>Q(Q(e)-ra)?[0,e]:d&&[c,e]};var rc=V(35*Ca);ib.invert=function(a,b){b/=1+rc;return[a&&a/(rc*l(1-b*b)),2*Bb(b)]};da.invert=function(a,b){var c=Bb(b/rb);b=V(c);c*=2;return[a*rb/2/(V(c)*b*b),c]};var Oc=ba(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555),
nb=ba(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742),Mc=ba(5/6*Y,-.62636,-.0344,0,1.3493,-.05524,0,.045);sa.invert=function(a,b){var c=a,d=b,e=50,f;do{var k=d*d;d-=f=(d*(1+k/12)-b)/(1+k/4)}while(1E-6<Q(f)&&0<--e);e=50;a/=1-.162388*k;do{var g=(g=c*c)*g;c-=f=(c*(.87-9.52426E-4*g)-a)/(.87-.00476213*g)}while(1E-6<Q(f)&&0<--e);return[c,d]};var bd=ba(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);Ka.invert=function(a,b){1<Q(a)&&(a=2*ia(a)-a);1<Q(b)&&(b=2*ia(b)-b);var c=ia(a),d=ia(b),
e=-c*a,f=-d*b;b=1>f/e;a=b?f:e;var k=b?e:f,g=0,h=1;e=.5;for(var t=50;;){f=e*e;var n=l(e),v=w(1/l(1+f)),I=1-f+e*(1+f)*v,m=(1-n)/I,p=l(m),u=m*(1+f),r=p*(1-f),Ma=l(u-a*a);r=k+r+e*Ma;if(1E-12>Q(h-g)||0===--t||0===r)break;0<r?g=e:h=e;e=.5*(g+h)}t?(k=w(n),t=V(k),g=1/t,h=2*n*t,n=(-I*t-(1-n)*(-3*e+v*(1+3*f))*h)/(I*I),e=[Y/4*(a*(-2*g*(.5*n/p*(1-f)-2*e*p*h)+-g*h*Ma)+-g*(e*(1+f)*n+m*(1+3*f)*h)*w(a/l(u))),k]):e=null;a=e[0];e=e[1];f=V(e);b&&(a=-ra-a);return[c*(Sa(aa(a)*f,-aa(e))+Y),d*w(V(a)*f)]};Ta.invert=function(a,
b){var c=(Da-1)/(Da+1),d=l(1-c*c);b=.5*db(ra,d*d)-b;a=-a;d*=d;if(b)if(b=jb(b,d),a){a=jb(a,1-d);var e=a[1]*a[1]+d*b[0]*b[0]*a[0]*a[0];b=[[b[0]*a[2]/e,b[1]*b[2]*a[0]*a[1]/e],[b[1]*a[1]/e,-b[0]*b[2]*a[0]*a[2]/e],[b[2]*a[1]*a[2]/e,-d*b[0]*b[1]*a[0]/e]]}else b=[[b[0],0],[b[1],0],[b[2],0]];else a=jb(a,1-d),b=[[0,a[0]/a[1]],[1/a[1],0],[a[2]/a[1],0]];d=b[0];b=b[1];a=b[0]*b[0]+b[1]*b[1];d=[(d[0]*b[0]+d[1]*b[1])/a,(d[1]*b[0]-d[0]*b[1])/a];return[Sa(d[1],d[0])/-1,2*Bb(xa(-.5*Za(c*d[0]*d[0]+c*d[1]*d[1])))-ra]};
var wd=w(1-1/3)*La,yb=m(0);zb.invert=function(a,b){return-.7109889596207567<b?Fc.invert(a,b-.0528035274542):p.invert(a,b)};Ja.invert=function(a,b){return.7109889596207567<Q(b)?Fc.invert(a,b+(0<b?.0528035274542:-.0528035274542)):p.invert(a,b)};var nc=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],yd=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,
-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],ob=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],I=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]],Ma=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,
-10]],[[77,-10],[103,-90],[180,-10]]]],ed=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];qb.invert=function(a,b){return[Hb/3*a/l(Y*Y/3-b*b),b]};var ue=Y/Da;xb.invert=function(a,b){var c=Q(a),d=Q(b),e=1E-6,f=ra;d<ue?f*=d/ue:e+=6*y(ue/d);for(var k=0;25>k;k++){var g=aa(f),h=l(V(f)),t=aa(f/2),n=V(f/2),v=aa(e/6),I=V(e/6),m=.5*e*(1+h)-c,p=f/(n*I)-d;g=h?-.25*e*g/h:0;h=.5*(1+h);t=(1+.5*
f*t/n)/(n*I);v=f/n*(v/6)/(I*I);n=g*v-t*h;v=(m*v-p*h)/n;m=(p*g-m*t)/n;f-=v;e-=m;if(1E-6>Q(v)&&1E-6>Q(m))break}return[0>a?-e:e,0>b?-f:f]};fc.invert=function(a,b){var c=ia(a)*Y,d=b/2,e=50;do{var f=c*c,k=d*d,g=c*d,h=c*(.975534+k*(-.119161+-.0143059*f+-.0547009*k))-a,t=d*(1.00384+f*(.0802894+-.02855*k+1.99025E-4*f)+k*(.0998909+-.0491032*k))-b,n=.975534-k*(.119161+.0429177*f+.0547009*k),v=-g*(.238322+.2188036*k+.0286118*f);g*=.1605788+7.961E-4*f+-.0571*k;k=1.00384+f*(.0802894+1.99025E-4*f)+k*(3*(.0998909-
.02855*f)-.245516*k);f=v*g-k*n;v=(t*v-h*k)/f;h=(h*g-t*n)/f;c-=v;d-=h}while((1E-6<Q(v)||1E-6<Q(h))&&0<--e);return e&&[c,d]};Ic.invert=function(a,b){var c=a*a,d=b*b+1,e=c+d;c=a?mc*l((e-l(e*e-4*c))/c):1/l(d);return[w(a*c),ia(b)*y(c)]};Mb.invert=function(a,b){return[a,2.5*Bb(xa(.8*b))-.625*Y]};var Gc=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Kc=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],lc=[[.984299,0],[.0211642,.0037608],
[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7.388E-4,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],zc=[[.9245,0],[0,0],[.01943,0]],fe=[[.721316,0],[0,0],[-.00881625,-.00617325]],ge=l(6),ae=l(7);pb.invert=function(a,b){b=3*w(b*ae/9);return[a*ae/(ge*(2*V(2*b/3)-1)),w(3*aa(b)*ge/7)]};Ub.invert=function(a,b){b=b*l(2+Da)/(2*l(3));var c=2*w(b);return[3*Da*a/(1+2*V(c)/V(c/2)),w((b+aa(c))/(1+mc))]};ma.invert=function(a,b){var c=l(6/(4+Y));
b/=c;1E-6>Q(Q(b)-ra)&&(b=0>b?-ra:ra);return[1.5*a/(c*(.5+V(b))),w((b/2+aa(b))/(1+Y/4))]};qc.invert=function(a,b){var c=b,d=25;do{var e=c*c;var f=e*e;c-=e=(c*(1.01183+f*f*(-.02625+.01926*e-.00396*f))-b)/(1.01183+f*f*(-.23625+.21186*e+-.05148*f))}while(1E-12<Q(e)&&0<--d);e=c*c;f=e*e;b=e*f;return[a/(.84719-.13063*e+b*b*(-.04515+.05494*e-.02326*f+.00331*b)),c]};cc.invert=function(a,b){for(var c=b/2,d=0,e=Infinity;10>d&&1E-6<Q(e);++d)e=V(b/2),b-=e=(b-$a(b/2)-c)/(1-.5/(e*e));return[2*a/(1+V(b)),b]};var md=
[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];Sc.invert=function(a,b){a/=ra;b/=ra;var c=a*a,d=c+b*b,e=Y*Y;return[a?(d-1+l((1-d)*(1-d)+4*c))/(2*a)*ra:0,C(function(a){return d*(Y*aa(a)-2*a)*Y+4*a*a*(b-aa(a))+2*Y*a-e*b},0)]};var Jd=5*.23185;gc.invert=function(a,b){1.790857183<b?b=1.790857183:-1.790857183>b&&(b=-1.790857183);var c=b;do{var d=c*c;c-=d=(c*(1.0148+d*d*(.23185+d*(-.14499+.02406*d)))-b)/(1.0148+d*d*(Jd+d*(-1.01493+.21654*d)))}while(1E-6<
Q(d));return[a,c]};sc.invert=function(a,b){if(1E-6>Q(b))return[a,0];var c=a*a+b*b,d=.5*b,e=10;do{var f=$a(d);var k=1/V(d),g=c-2*b*d+d*d;d-=f=(f*g+2*(d-b))/(2+g*k*k+2*(d-b)*f)}while(1E-6<Q(f)&&0<--e);f=$a(d);return[(Q(b)<Q(d+1/f)?w(a*f):ia(b)*ia(a)*(y(Q(a*f))+ra))/aa(d),d]};var oe=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Kd=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(a){return a.map(function(a){return oe[a]})}),$c=2/l(3);Wb.invert=function(a,b){return f.invert(a/
$c,b)};var $b=[],ac=[],Ae={point:function(a,b){$b.push([a,b])},result:function(){var a=$b.length?2>$b.length?{type:"Point",coordinates:$b[0]}:{type:"MultiPoint",coordinates:$b}:null;$b=[];return a}},Ld={lineStart:Jc,point:function(a,b){$b.push([a,b])},lineEnd:function(){$b.length&&(ac.push($b),$b=[])},result:function(){var a=ac.length?2>ac.length?{type:"LineString",coordinates:ac[0]}:{type:"MultiLineString",coordinates:ac}:null;ac=[];return a}},he={polygonStart:Jc,lineStart:Jc,point:function(a,b){$b.push([a,
b])},lineEnd:function(){var a=$b.length;if(a){do $b.push($b[0].slice());while(4>++a);ac.push($b);$b=[]}},polygonEnd:Jc,result:function(){if(!ac.length)return null;var a=[],b=[];ac.forEach(function(c){if(4>(e=c.length))var d=!1;else{d=0;for(var e,f=c[e-1][1]*c[0][0]-c[e-1][0]*c[0][1];++d<e;)f+=c[d-1][1]*c[d][0]-c[d-1][0]*c[d][1];d=0>=f}d?a.push([c]):b.push(c)});b.forEach(function(b){var c=b[0];a.some(function(a){for(var d=a[0],e=c[0],f=c[1],k=!1,g=0,h=d.length,t=h-1;g<h;t=g++){var n=d[g],v=n[0];n=
n[1];var I=d[t];t=I[0];I=I[1];n>f^I>f&&e<(t-v)*(f-n)/(I-n)+v&&(k=!k)}if(k)return a.push(b),!0})||a.push([b])});ac=[];return a.length?1<a.length?{type:"MultiPolygon",coordinates:a}:{type:"Polygon",coordinates:a[0]}:null}},fd=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];fd.forEach(function(a){a[1]*=
1.0144});Xc.invert=function(a,b){var c=b/ra,d=90*c,e=Cb(18,Q(d/5)),f=Zb(0,Qa(e));do{var k=fd[f][1],g=fd[f+1][1],h=fd[Cb(19,f+2)][1],t=h-k;k=h-2*g+k;g=2*(Q(c)-g)/t;t=k/t;t=g*(1-t*g*(1-2*t*g));if(0<=t||1===f){d=(0<=b?5:-5)*(t+e);c=50;do e=Cb(18,Q(d)/5),f=Qa(e),t=e-f,k=fd[f][1],g=fd[f+1][1],h=fd[Cb(19,f+2)][1],d-=(e=(0<=b?ra:-ra)*(g+t*(h-k)/2+t*t*(h-2*g+k)/2)-b)*La;while(1E-12<Q(e)&&0<--c);break}}while(0<=--f);b=fd[f][0];e=fd[f+1][0];f=fd[Cb(19,f+2)][0];return[a/(e+t*(f-b)/2+t*t*(f-2*e+b)/2),d*Ca]};
Nb.invert=function(a,b){b/=1.70711;var c=aa(Lc*b);return[a/(.74482-.34588*c*c),2*Bb(b)]};Ia.invert=function(a,b){if(1E-6>Q(b))return[a,0];if(1E-6>Q(a))return[0,ra*aa(2*Bb(b/Y))];var c=(a/=Y)*a,d=(b/=Y)*b,e=c+d,f=e*e,k=-Q(b)*(1+e),g=k-2*d+c,h=-2*k+1+2*d+f,t=d/h+(2*g*g*g/(h*h*h)-9*k*g/(h*h))/27,n=(k-g*g/(3*h))/h;k=2*l(-n/3);t=y(3*t/(n*k))/3;return[Y*(e-1+l(1+2*(c-d)+f))/(2*a),ia(b)*Y*(-k*V(t+Y/3)-g/(3*h))]};Ob.invert=function(a,b){if(!a)return[0,ra*aa(2*Bb(b/Y))];var c=Q(a/Y),d=(1-c*c-(b/=Y)*b)/(2*
c),e=l(d*d+1);return[ia(a)*Y*(e-d),ia(b)*ra*aa(2*Sa(l((1-2*d*c)*(d+e)-c),l(e+d+c)))]};Zc.invert=function(a,b){if(!b)return[a,0];b/=Y;var c=(Y*Y*(1-b*b)-a*a)/(2*Y*a);return[a?Y*(ia(a)*l(c*c+1)-c):0,ra*aa(2*Bb(b))]};jc.invert=function(a,b){if(!a||!b)return[a,b];b/=Y;var c=ia(a)*a/ra,d=(c*c-1+4*b*b)/Q(c),e=d*d;b*=2;var f=50;do{var k=b*b;var g=(8*b-k*(k+2)-5)/(2*k*(b-1));var h=(3*b-k*b-10)/(2*k*b),t=g*g,n=b*g,v=b+g,I=v*v,m=b+3*g,p=-2*v*(4*n*t+(1-4*k+3*k*k)*(1+h)+t*(-6+14*k-e+(-8+8*k-2*e)*h)+n*(-8+12*
k+(-10+10*k-e)*h));k=l(I*(k+t*e-1)+(1-k)*(k*(m*m+4*t)+t*(12*n+4*t)));b-=g=(d*(I+t-1)+2*k-c*(4*I+e))/(d*(2*g*h+2*v*(1+h))+p/k-8*v*(d*(-1+t+I)+2*k)*(1+h)/(e+4*I))}while(1E-6<g&&0<--f);return[ia(a)*(l(d*d+4)+d)*Y/4,ra*b]};var dd=4*Y+3*l(3),$d=2*l(2*Y*l(3)/dd),Td=B($d*l(3)/Y,$d,dd/6);Pb.invert=function(a,b){return[a/l(1-3*b*b/(Y*Y)),b]};eb.invert=function(a,b){var c=(a*a+b*b)/-2,d=l(-c*(2+c)),e=b*c+a*d;a=a*c-b*d;b=l(a*a+e*e);return[Sa(d*e,b*(1+c)),b?-w(d*a/b):0]};Fa.invert=function(a,b){var c=a,d=b,e=
25;do{var f=V(d),k=aa(d),g=aa(2*d),h=k*k,t=f*f,n=aa(c),v=V(c/2),I=aa(c/2),m=I*I,p=1-t*v*v,u=p?y(f*v)*l(r=1/p):r=0,r;p=.5*(2*u*f*I+c/ra)-a;var Ma=.5*(u*k+d)-b,Ga=.5*r*(t*m+u*f*v*h)+.5/ra,x=r*(n*g/4-u*k*I);k=.125*r*(g*I-u*k*t*n);h=.5*r*(h*v+u*m*f)+.5;f=x*k-h*Ga;x=(Ma*x-p*h)/f;p=(p*k-Ma*Ga)/f;c-=x;d-=p}while((1E-6<Q(x)||1E-6<Q(p))&&0<--e);return[c,d]};a.geoNaturalEarth=b.geoNaturalEarth1;a.geoNaturalEarthRaw=b.geoNaturalEarth1Raw;a.geoAiry=function(){var a=ra,c=b.geoProjectionMutator(W),d=c(a);d.radius=
function(b){return arguments.length?c(a=b*Ca):a*La};return d.scale(179.976).clipAngle(147)};a.geoAiryRaw=W;a.geoAitoff=function(){return b.geoProjection(M).scale(152.63)};a.geoAitoffRaw=M;a.geoArmadillo=function(){var a=20*Ca,c=0<=a?1:-1,d=$a(c*a),e=b.geoProjectionMutator(N),f=e(a),k=f.stream;f.parallel=function(b){if(!arguments.length)return a*La;d=$a((c=0<=(a=b*Ca)?1:-1)*a);return e(a)};f.stream=function(b){var e=f.rotate(),g=k(b),h=(f.rotate([0,0]),k(b)),t=f.precision();f.rotate(e);g.sphere=function(){h.polygonStart();
h.lineStart();for(var b=-180*c;180>c*b;b+=90*c)h.point(b,90*c);if(a)for(;-180<=c*(b-=3*c*t);)h.point(b,c*-Sa(V(b*Ca/2),d)*La);h.lineEnd();h.polygonEnd()};return g};return f.scale(218.695).center([0,28.0974])};a.geoArmadilloRaw=N;a.geoAugust=function(){return b.geoProjection(Z).scale(66.1603)};a.geoAugustRaw=Z;a.geoBaker=function(){return b.geoProjection(G).scale(112.314)};a.geoBakerRaw=G;a.geoBerghaus=function(){var a=5,c=b.geoProjectionMutator(x),d=c(a),e=d.stream,f=-V(.01*Ca),k=aa(.01*Ca);d.lobes=
function(b){return arguments.length?c(a=+b):a};d.stream=function(b){var c=d.rotate(),g=e(b),h=(d.rotate([0,0]),e(b));d.rotate(c);g.sphere=function(){h.polygonStart();h.lineStart();for(var b=0,c=360/a,d=2*Y/a,e=90-180/a,g=ra;b<a;++b,e-=c,g-=d)h.point(Sa(k*V(g),f)*La,w(k*aa(g))*La),-90>e?(h.point(-90,-180-e-.01),h.point(-90,-180-e+.01)):(h.point(90,e+.01),h.point(90,e-.01));h.lineEnd();h.polygonEnd()};return g};return d.scale(87.8076).center([0,17.1875]).clipAngle(179.999)};a.geoBerghausRaw=x;a.geoBertin1953=
function(){return b.geoProjection(g()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])};a.geoBertin1953Raw=g;a.geoBoggs=function(){return b.geoProjection(u).scale(160.857)};a.geoBoggsRaw=u;a.geoBonne=function(){return U(ca).scale(123.082).center([0,26.1441]).parallel(45)};a.geoBonneRaw=ca;a.geoBottomley=function(){var a=.5,c=b.geoProjectionMutator(h),d=c(a);d.fraction=function(b){return arguments.length?c(a=+b):a};return d.scale(158.837)};a.geoBottomleyRaw=h;a.geoBromley=function(){return b.geoProjection(ld).scale(152.63)};
a.geoBromleyRaw=ld;a.geoChamberlin=ua;a.geoChamberlinRaw=fa;a.geoChamberlinAfrica=function(){return ua([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])};a.geoCollignon=function(){return b.geoProjection(f).scale(95.6464).center([0,30])};a.geoCollignonRaw=f;a.geoCraig=function(){return U(c).scale(249.828).clipAngle(90)};a.geoCraigRaw=c;a.geoCraster=function(){return b.geoProjection(K).scale(156.19)};a.geoCrasterRaw=K;a.geoCylindricalEqualArea=function(){return U(m).parallel(38.58).scale(195.044)};
a.geoCylindricalEqualAreaRaw=m;a.geoCylindricalStereographic=function(){return U(e).scale(124.75)};a.geoCylindricalStereographicRaw=e;a.geoEckert1=function(){return b.geoProjection(ea).scale(165.664)};a.geoEckert1Raw=ea;a.geoEckert2=function(){return b.geoProjection(ka).scale(165.664)};a.geoEckert2Raw=ka;a.geoEckert3=function(){return b.geoProjection(X).scale(180.739)};a.geoEckert3Raw=X;a.geoEckert4=function(){return b.geoProjection(E).scale(180.739)};a.geoEckert4Raw=E;a.geoEckert5=function(){return b.geoProjection(J).scale(173.044)};
a.geoEckert5Raw=J;a.geoEckert6=function(){return b.geoProjection(Va).scale(173.044)};a.geoEckert6Raw=Va;a.geoEisenlohr=function(){return b.geoProjection(tb).scale(62.5271)};a.geoEisenlohrRaw=tb;a.geoFahey=function(){return b.geoProjection(ib).scale(137.152)};a.geoFaheyRaw=ib;a.geoFoucaut=function(){return b.geoProjection(da).scale(135.264)};a.geoFoucautRaw=da;a.geoFoucautSinusoidal=function(){var a=.5,c=b.geoProjectionMutator(Oa),d=c(a);d.alpha=function(b){return arguments.length?c(a=+b):a};return d.scale(168.725)};
a.geoFoucautSinusoidalRaw=Oa;a.geoGilbert=function(a){function c(a){return e([a[0]/2,w($a(a[1]/2*Ca))*La])}function d(a){c[a]=function(){return arguments.length?(e[a].apply(e,arguments),c):e[a]()}}null==a&&(a=b.geoOrthographic);var e=a(),f=b.geoEquirectangular().scale(La).precision(0).clipAngle(null).translate([0,0]);e.invert&&(c.invert=function(a){return t(e.invert(a))});c.stream=function(a){var b=e.stream(a);a=f.stream({point:function(a,c){b.point(a/2,w($a(-c/2*Ca))*La)},lineStart:function(){b.lineStart()},
lineEnd:function(){b.lineEnd()},polygonStart:function(){b.polygonStart()},polygonEnd:function(){b.polygonEnd()}});a.sphere=b.sphere;return a};c.rotate=function(a){return arguments.length?(f.rotate(a),c):f.rotate()};c.center=function(a){return arguments.length?(e.center([a[0]/2,w($a(a[1]/2*Ca))*La]),c):t(e.center())};d("angle");d("clipAngle");d("clipExtent");d("fitExtent");d("fitHeight");d("fitSize");d("fitWidth");d("scale");d("translate");d("precision");return c.scale(249.5)};a.geoGingery=function(){var a=
6,c=30*Ca,d=V(c),e=aa(c),f=b.geoProjectionMutator(k),g=f(c,a),h=g.stream,t=-V(.01*Ca),n=aa(.01*Ca);g.radius=function(b){if(!arguments.length)return c*La;d=V(c=b*Ca);e=aa(c);return f(c,a)};g.lobes=function(b){return arguments.length?f(c,a=+b):a};g.stream=function(b){var c=g.rotate(),f=h(b),k=(g.rotate([0,0]),h(b));g.rotate(c);f.sphere=function(){k.polygonStart();k.lineStart();for(var b=0,c=2*Y/a,f=0;b<a;++b,f-=c)k.point(Sa(n*V(f),t)*La,w(n*aa(f))*La),k.point(Sa(e*V(f-c/2),d)*La,w(e*aa(f-c/2))*La);
k.lineEnd();k.polygonEnd()};return f};return g.rotate([90,-40]).scale(91.7095).clipAngle(179.999)};a.geoGingeryRaw=k;a.geoGinzburg4=function(){return b.geoProjection(Oc).scale(149.995)};a.geoGinzburg4Raw=Oc;a.geoGinzburg5=function(){return b.geoProjection(nb).scale(153.93)};a.geoGinzburg5Raw=nb;a.geoGinzburg6=function(){return b.geoProjection(Mc).scale(130.945)};a.geoGinzburg6Raw=Mc;a.geoGinzburg8=function(){return b.geoProjection(sa).scale(131.747)};a.geoGinzburg8Raw=sa;a.geoGinzburg9=function(){return b.geoProjection(bd).scale(131.087)};
a.geoGinzburg9Raw=bd;a.geoGringorten=function(){return b.geoProjection(ya(Ka)).scale(239.75)};a.geoGringortenRaw=Ka;a.geoGuyou=function(){return b.geoProjection(ya(Ta)).scale(151.496)};a.geoGuyouRaw=Ta;a.geoHammer=function(){var a=2,c=b.geoProjectionMutator(D),d=c(a);d.coefficient=function(b){return arguments.length?c(a=+b):a};return d.scale(169.529)};a.geoHammerRaw=D;a.geoHammerRetroazimuthal=function(){var a=0,c=b.geoProjectionMutator(Ha),d=c(a),e=d.rotate,f=d.stream,k=b.geoCircle();d.parallel=
function(b){if(!arguments.length)return a*La;var e=d.rotate();return c(a=b*Ca).rotate(e)};d.rotate=function(b){if(!arguments.length)return b=e.call(d),b[1]+=a*La,b;e.call(d,[b[0],b[1]-a*La]);k.center([-b[0],-b[1]]);return d};d.stream=function(a){a=f(a);a.sphere=function(){a.polygonStart();var b=k.radius(89.99)().coordinates[0],c=b.length-1,d=-1,e;for(a.lineStart();++d<c;)a.point((e=b[d])[0],e[1]);a.lineEnd();b=k.radius(90.01)().coordinates[0];for(a.lineStart();0<=--d;)a.point((e=b[d])[0],e[1]);a.lineEnd();
a.polygonEnd()};return a};return d.scale(79.4187).parallel(45).clipAngle(179.999)};a.geoHammerRetroazimuthalRaw=Ha;a.geoHealpix=function(){var a=4,c=b.geoProjectionMutator(va),d=c(a),e=d.stream;d.lobes=function(b){return arguments.length?c(a=+b):a};d.stream=function(c){var f=d.rotate(),k=e(c),g=(d.rotate([0,0]),e(c));d.rotate(f);k.sphere=function(){b.geoStream(cb(180/a),g)};return k};return d.scale(239.75)};a.geoHealpixRaw=va;a.geoHill=function(){var a=1,c=b.geoProjectionMutator(wb),d=c(a);d.ratio=
function(b){return arguments.length?c(a=+b):a};return d.scale(167.774).center([0,18.67])};a.geoHillRaw=wb;a.geoHomolosine=function(){return b.geoProjection(Ja).scale(152.63)};a.geoHomolosineRaw=Ja;a.geoHufnagel=function(){var a=1,c=0,d=45*Ca,e=2,f=b.geoProjectionMutator(Ya),k=f(a,c,d,e);k.a=function(b){return arguments.length?f(a=+b,c,d,e):a};k.b=function(b){return arguments.length?f(a,c=+b,d,e):c};k.psiMax=function(b){return arguments.length?f(a,c,d=+b*Ca,e):d*La};k.ratio=function(b){return arguments.length?
f(a,c,d,e=+b):e};return k.scale(180.739)};a.geoHufnagelRaw=Ya;a.geoHyperelliptical=function(){var a=0,c=2.5,d=1.183136,e=b.geoProjectionMutator(bb),f=e(a,c,d);f.alpha=function(b){return arguments.length?e(a=+b,c,d):a};f.k=function(b){return arguments.length?e(a,c=+b,d):c};f.gamma=function(b){return arguments.length?e(a,c,d=+b):d};return f.scale(152.63)};a.geoHyperellipticalRaw=bb;a.geoInterrupt=Pa;a.geoInterruptedBoggs=function(){return Pa(u,nc).scale(160.857)};a.geoInterruptedHomolosine=function(){return Pa(Ja,
yd).scale(152.63)};a.geoInterruptedMollweide=function(){return Pa(Fc,ob).scale(169.529)};a.geoInterruptedMollweideHemispheres=function(){return Pa(Fc,I).scale(169.529).rotate([20,0])};a.geoInterruptedSinuMollweide=function(){return Pa(zb,Ma,r).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};a.geoInterruptedSinusoidal=function(){return Pa(p,ed).scale(152.63).rotate([-20,0])};a.geoKavrayskiy7=function(){return b.geoProjection(qb).scale(158.837)};a.geoKavrayskiy7Raw=qb;a.geoLagrange=function(){var a=
.5,c=b.geoProjectionMutator(Rb),d=c(a);d.spacing=function(b){return arguments.length?c(a=+b):a};return d.scale(124.75)};a.geoLagrangeRaw=Rb;a.geoLarrivee=function(){return b.geoProjection(xb).scale(97.2672)};a.geoLarriveeRaw=xb;a.geoLaskowski=function(){return b.geoProjection(fc).scale(139.98)};a.geoLaskowskiRaw=fc;a.geoLittrow=function(){return b.geoProjection(Ic).scale(144.049).clipAngle(89.999)};a.geoLittrowRaw=Ic;a.geoLoximuthal=function(){return U(pc).parallel(40).scale(158.837)};a.geoLoximuthalRaw=
pc;a.geoMiller=function(){return b.geoProjection(Mb).scale(108.318)};a.geoMillerRaw=Mb;a.geoModifiedStereographic=Lb;a.geoModifiedStereographicRaw=ic;a.geoModifiedStereographicAlaska=function(){return Lb(Gc,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)};a.geoModifiedStereographicGs48=function(){return Lb(Kc,[95,-38]).scale(1E3).clipAngle(55).center([-96.5563,38.8675])};a.geoModifiedStereographicGs50=function(){return Lb(lc,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,
53.0628])};a.geoModifiedStereographicMiller=function(){return Lb(zc,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)};a.geoModifiedStereographicLee=function(){return Lb(fe,[165,10]).scale(250).clipAngle(130).center([-165,-10])};a.geoMollweide=function(){return b.geoProjection(Fc).scale(169.529)};a.geoMollweideRaw=Fc;a.geoMtFlatPolarParabolic=function(){return b.geoProjection(pb).scale(164.859)};a.geoMtFlatPolarParabolicRaw=pb;a.geoMtFlatPolarQuartic=function(){return b.geoProjection(Ub).scale(188.209)};
a.geoMtFlatPolarQuarticRaw=Ub;a.geoMtFlatPolarSinusoidal=function(){return b.geoProjection(ma).scale(166.518)};a.geoMtFlatPolarSinusoidalRaw=ma;a.geoNaturalEarth2=function(){return b.geoProjection(qc).scale(175.295)};a.geoNaturalEarth2Raw=qc;a.geoNellHammer=function(){return b.geoProjection(cc).scale(152.63)};a.geoNellHammerRaw=cc;a.geoInterruptedQuarticAuthalic=function(){return Pa(D(Infinity),md).rotate([20,0]).scale(152.63)};a.geoNicolosi=function(){return b.geoProjection(Sc).scale(127.267)};a.geoNicolosiRaw=
Sc;a.geoPatterson=function(){return b.geoProjection(gc).scale(139.319)};a.geoPattersonRaw=gc;a.geoPolyconic=function(){return b.geoProjection(sc).scale(103.74)};a.geoPolyconicRaw=sc;a.geoPolyhedral=Tc;a.geoPolyhedralButterfly=function(a){a=a||function(a){a=b.geoCentroid({type:"MultiPoint",coordinates:a});return b.geoGnomonic().scale(1).translate([0,0]).rotate([-a[0],-a[1]])};var c=Kd.map(function(b){return{face:b,project:a(b)}});[-1,0,0,1,0,1,4,5].forEach(function(a,b){(a=c[a])&&(a.children||(a.children=
[])).push(c[b])});return Tc(c[0],function(a,b){return c[a<-Y/2?0>b?6:4:0>a?0>b?2:0:a<Y/2?0>b?3:1:0>b?7:5]}).angle(-30).scale(101.858).center([0,45])};a.geoPolyhedralCollignon=function(a){a=a||function(a){a=b.geoCentroid({type:"MultiPoint",coordinates:a});return b.geoProjection(Wb).translate([0,0]).scale(1).rotate(0<a[1]?[-a[0],0]:[180-a[0],180])};var c=Kd.map(function(b){return{face:b,project:a(b)}});[-1,0,0,1,0,1,4,5].forEach(function(a,b){(a=c[a])&&(a.children||(a.children=[])).push(c[b])});return Tc(c[0],
function(a,b){return c[a<-Y/2?0>b?6:4:0>a?0>b?2:0:a<Y/2?0>b?3:1:0>b?7:5]}).angle(-30).scale(121.906).center([0,48.5904])};a.geoPolyhedralWaterman=function(a){a=a||function(a){a=6===a.length?b.geoCentroid({type:"MultiPoint",coordinates:a}):a[0];return b.geoGnomonic().scale(1).translate([0,0]).rotate([-a[0],-a[1]])};var c=Kd.map(function(a){a=a.map(Rc);for(var b=a.length,c=a[b-1],d,e=[],f=0;f<b;++f)d=a[f],e.push(Bc([.9486832980505138*c[0]+.31622776601683794*d[0],.9486832980505138*c[1]+.31622776601683794*
d[1],.9486832980505138*c[2]+.31622776601683794*d[2]]),Bc([.9486832980505138*d[0]+.31622776601683794*c[0],.9486832980505138*d[1]+.31622776601683794*c[1],.9486832980505138*d[2]+.31622776601683794*c[2]])),c=d;return e}),d=[],e=[-1,0,0,1,0,1,4,5];c.forEach(function(a,b){for(var f=Kd[b],k=f.length,g=d[b]=[],h=0;h<k;++h)c.push([f[h],a[(2*h+2)%(2*k)],a[(2*h+1)%(2*k)]]),e.push(b),g.push(Ib(Rc(a[(2*h+2)%(2*k)]),Rc(a[(2*h+1)%(2*k)])))});var f=c.map(function(b){return{project:a(b),face:b}});e.forEach(function(a,
b){(a=f[a])&&(a.children||(a.children=[])).push(f[b])});return Tc(f[0],function(a,b){var c=V(b);c=[c*V(a),c*aa(a),aa(b)];a=a<-Y/2?0>b?6:4:0>a?0>b?2:0:a<Y/2?0>b?3:1:0>b?7:5;b=d[a];return f[0>Qc(b[0],c)?8+3*a:0>Qc(b[1],c)?3*a+9:0>Qc(b[2],c)?3*a+10:a]}).angle(-30).scale(110.625).center([0,45])};a.geoProject=function(a,b){b=b.stream;if(!b)throw Error("invalid projection");switch(a&&a.type){case "Feature":var c=me;break;case "FeatureCollection":c=hd;break;default:c=Hd}return c(a,b)};a.geoGringortenQuincuncial=
function(){return qd(Ka).scale(176.423)};a.geoPeirceQuincuncial=Dc;a.geoPierceQuincuncial=Dc;a.geoQuantize=function(a,b){function c(a){var c=a.length,d=2,e=Array(c);e[0]=+a[0].toFixed(b);for(e[1]=+a[1].toFixed(b);d<c;)e[d]=a[d],++d;return e}function d(a){for(var b=c(a[0]),d=[b],e=1;e<a.length;e++){var f=c(a[e]);if(2<f.length||f[0]!=b[0]||f[1]!=b[1])d.push(f),b=f}1===d.length&&1<a.length&&d.push(c(a[a.length-1]));return d}function e(a){return a.map(d)}function f(a){if(null==a)return a;switch(a.type){case "GeometryCollection":var b=
{type:"GeometryCollection",geometries:a.geometries.map(f)};break;case "Point":b={type:"Point",coordinates:c(a.coordinates)};break;case "MultiPoint":b={type:a.type,coordinates:a.coordinates.map(c)};break;case "LineString":b={type:a.type,coordinates:d(a.coordinates)};break;case "MultiLineString":case "Polygon":b={type:a.type,coordinates:e(a.coordinates)};break;case "MultiPolygon":b={type:"MultiPolygon",coordinates:a.coordinates.map(e)};break;default:return a}null!=a.bbox&&(b.bbox=a.bbox);return b}function k(a){var b=
{type:"Feature",properties:a.properties,geometry:f(a.geometry)};null!=a.id&&(b.id=a.id);null!=a.bbox&&(b.bbox=a.bbox);return b}if(!(0<=(b=+b)&&20>=b))throw Error("invalid digits");if(null!=a)switch(a.type){case "Feature":return k(a);case "FeatureCollection":var g={type:"FeatureCollection",features:a.features.map(k)};null!=a.bbox&&(g.bbox=a.bbox);return g;default:return f(a)}return a};a.geoQuincuncial=qd;a.geoRectangularPolyconic=function(){return U(uc).scale(131.215)};a.geoRectangularPolyconicRaw=
uc;a.geoRobinson=function(){return b.geoProjection(Xc).scale(152.63)};a.geoRobinsonRaw=Xc;a.geoSatellite=function(){var a=2,c=0,d=b.geoProjectionMutator(jd),e=d(a,c);e.distance=function(b){return arguments.length?d(a=+b,c):a};e.tilt=function(b){return arguments.length?d(a,c=b*Ca):c*La};return e.scale(432.147).clipAngle(y(1/a)*La-1E-6)};a.geoSatelliteRaw=jd;a.geoSinuMollweide=function(){return b.geoProjection(zb).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};a.geoSinuMollweideRaw=zb;a.geoSinusoidal=
function(){return b.geoProjection(p).scale(152.63)};a.geoSinusoidalRaw=p;a.geoStitch=function(a){if(null==a)return a;switch(a.type){case "Feature":return Ga(a);case "FeatureCollection":var b={type:"FeatureCollection",features:a.features.map(Ga)};null!=a.bbox&&(b.bbox=a.bbox);return b;default:return hc(a)}};a.geoTimes=function(){return b.geoProjection(Nb).scale(146.153)};a.geoTimesRaw=Nb;a.geoTwoPointAzimuthal=Sd;a.geoTwoPointAzimuthalRaw=Sb;a.geoTwoPointAzimuthalUsa=function(){return Sd([-158,21.5],
[-77,39]).clipAngle(60).scale(400)};a.geoTwoPointEquidistant=Dd;a.geoTwoPointEquidistantRaw=ud;a.geoTwoPointEquidistantUsa=function(){return Dd([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)};a.geoVanDerGrinten=function(){return b.geoProjection(Ia).scale(79.4183)};a.geoVanDerGrintenRaw=Ia;a.geoVanDerGrinten2=function(){return b.geoProjection(Ob).scale(79.4183)};a.geoVanDerGrinten2Raw=Ob;a.geoVanDerGrinten3=function(){return b.geoProjection(Zc).scale(79.4183)};a.geoVanDerGrinten3Raw=Zc;a.geoVanDerGrinten4=
function(){return b.geoProjection(jc).scale(127.16)};a.geoVanDerGrinten4Raw=jc;a.geoWagner=ub;a.geoWagner7=function(){return ub().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)};a.geoWagnerRaw=Ua;a.geoWagner4=function(){return b.geoProjection(Td).scale(176.84)};a.geoWagner4Raw=Td;a.geoWagner6=function(){return b.geoProjection(Pb).scale(152.63)};a.geoWagner6Raw=Pb;a.geoWiechel=function(){return b.geoProjection(eb).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)};a.geoWiechelRaw=
eb;a.geoWinkel3=function(){return b.geoProjection(Fa).scale(158.837)};a.geoWinkel3Raw=Fa;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[29]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z,y(27),y(28)):"function"===typeof define&&define.amd?define(["exports","d3-geo","d3-geo-projection"],b):(a=a||self,b(a.vega={},a.d3,a.d3))})(this,function(a,b,d){function w(a,d){return function G(){var l=d();l.type=a;l.path=b.geoPath().projection(l);l.copy=l.copy||function(){var a=G();P.forEach(function(b){if(l[b])a[b](l[b]())});a.path.pointRadius(l.path.pointRadius());return a};return l}}function y(a,
b){if(!a||"string"!==typeof a)throw Error("Projection type must be a name string.");a=a.toLowerCase();return 1<arguments.length?(z[a]=w(a,b),this):z[a]||null}var l=b.geoPath(),P="clipAngle clipExtent scale translate center rotate parallels precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),z={albers:b.geoAlbers,albersusa:b.geoAlbersUsa,azimuthalequalarea:b.geoAzimuthalEqualArea,azimuthalequidistant:b.geoAzimuthalEquidistant,conicconformal:b.geoConicConformal,
conicequalarea:b.geoConicEqualArea,conicequidistant:b.geoConicEquidistant,equalEarth:b.geoEqualEarth,equirectangular:b.geoEquirectangular,gnomonic:b.geoGnomonic,identity:b.geoIdentity,mercator:b.geoMercator,mollweide:d.geoMollweide,naturalEarth1:b.geoNaturalEarth1,orthographic:b.geoOrthographic,stereographic:b.geoStereographic,transversemercator:b.geoTransverseMercator},W;for(W in z)y(W,z[W]);a.getProjectionPath=function(a){return a&&a.path||l};a.projection=y;a.projectionProperties=P;Object.defineProperty(a,
"__esModule",{value:!0})})};
shadow$provide[30]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z,y(14),y(0),y(3),y(15),y(29),y(27),y(20),y(19)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-util d3-array vega-statistics vega-projection d3-geo d3-color vega-canvas".split(" "),b):(a=a||self,b((a.vega=a.vega||{},a.vega.transforms={}),a.vega,a.vega,a.d3,a.vega,a.vega,a.d3,a.d3,a.vega))})(this,function(a,b,d,w,y,l,P,z,W){function M(){}function N(){function a(a,c){return c.map(function(c){return b(a,
c)})}function b(a,b){var d=[],e=[];c(a,b,function(c){h(c,a,b);for(var f=0,k=c.length,g=c[k-1][1]*c[0][0]-c[k-1][0]*c[0][1];++f<k;)g+=c[f-1][1]*c[f][0]-c[f-1][0]*c[f][1];0<g?d.push([c]):e.push(c)});e.forEach(function(a){for(var b=0,c=d.length,e;b<c;++b){a:{var f=(e=d[b])[0];for(var k=a,g=-1,h=k.length;++g<h;){b:{var t=f;for(var n=k[g],v=n[0],m=n[1],p=-1,u=0,r=t.length,l=r-1;u<r;l=u++){var x=t[u],B=x[0],O=x[1],C=t[l];l=C[0];var T=C[1],D,G=x;x=C;C=n;if(D=(x[0]-G[0])*(C[1]-G[1])===(C[0]-G[0])*(x[1]-G[1]))G=
G[D=+(G[0]===x[0])],C=C[D],x=x[D],D=G<=C&&C<=x||x<=C&&C<=G;if(D){t=0;break b}O>m!==T>m&&v<(l-B)*(m-O)/(T-O)+B&&(p=-p)}t=p}if(t){f=t;break a}}f=0}if(-1!==f){e.push(a);break}}});return{type:"MultiPolygon",value:b,coordinates:d}}function c(a,b,c){function d(a){var b=[a[0][0]+t,a[0][1]+h];a=[a[1][0]+t,a[1][1]+h];var d=2*b[0]+b[1]*(f+1)*4,g=2*a[0]+a[1]*(f+1)*4,n,v;(n=k[d])?(v=e[g])?(delete k[n.end],delete e[v.start],n===v?(n.ring.push(a),c(n.ring)):e[n.start]=k[v.end]={start:n.start,end:v.end,ring:n.ring.concat(v.ring)}):
(delete k[n.end],n.ring.push(a),k[n.end=g]=n):(n=e[g])?(v=k[d])?(delete e[n.start],delete k[v.end],n===v?(n.ring.push(a),c(n.ring)):e[v.start]=k[n.end]={start:v.start,end:n.end,ring:v.ring.concat(n.ring)}):(delete e[n.start],n.ring.unshift(b),e[n.start=d]=n):e[d]=k[g]={start:d,end:g,ring:[b,a]}}var e=[],k=[],h;var t=h=-1;var n=a[0]>=b;for(Na[n<<1].forEach(d);++t<f-1;){var v=n;n=a[t+1]>=b;Na[v|n<<1].forEach(d)}for(Na[n<<0].forEach(d);++h<g-1;){t=-1;n=a[h*f+f]>=b;var m=a[h*f]>=b;for(Na[n<<1|m<<2].forEach(d);++t<
f-1;){v=n;n=a[h*f+f+t+1]>=b;var p=m;m=a[h*f+t+1]>=b;Na[v|n<<1|m<<2|p<<3].forEach(d)}Na[n|m<<3].forEach(d)}t=-1;m=a[h*f]>=b;for(Na[m<<2].forEach(d);++t<f-1;)p=m,m=a[h*f+t+1]>=b,Na[m<<2|p<<3].forEach(d);Na[m<<3].forEach(d)}function e(a,b,c){a.forEach(function(a){var d=a[0],e=a[1],k=d|0,h=e|0,t=b[h*f+k];if(0<d&&d<f&&k===d){var n=b[h*f+k-1];a[0]=d+(c-n)/(t-n)-.5}0<e&&e<g&&h===e&&(n=b[(h-1)*f+k],a[1]=e+(c-n)/(t-n)-.5)})}var f=1,g=1,h=e;a.contour=b;a.size=function(b){if(!arguments.length)return[f,g];var c=
Math.floor(b[0]),e=Math.floor(b[1]);0<=c&&0<=e||d.error("invalid size");return f=c,g=e,a};a.smooth=function(b){return arguments.length?(h=b?e:M,a):h===e};return a}function Z(a,b,c){return function(e){var f=d.extent(e);e=c?Math.min(f[0],0):f[0];f=f[1];var k=f-e;e=b?w.tickStep(e,f,a):k/(a+1);return w.range(e,f,e)}}function G(a){b.Transform.call(this,null,a)}function x(a,b,c){var d=Z(c.levels||10,c.nice,!1!==c.zero);return"shared"!==c.resolve?d:d(a.map(function(a){return w.max(b(a).values)}))}function D(a,
b,c,e){var f=e.scale||b.scale,k=e.translate||b.translate;d.isFunction(f)&&(f=f(c,e));d.isFunction(k)&&(k=k(c,e));if(1!==f&&null!=f||k)c=(d.isNumber(f)?f:f[0])||1,f=(d.isNumber(f)?f:f[1])||1,a.forEach(S(b,c,f,k&&k[0]||0,k&&k[1]||0))}function S(a,b,c,d,e){function f(a){a.forEach(k)}function k(a){v&&a.reverse();a.forEach(g)}function g(a){a[0]=(a[0]-h)*b+d;a[1]=(a[1]-t)*c+e}var h=a.x1||0,t=a.y1||0,v=0>b*c;return function(a){a.coordinates.forEach(f);return a}}function C(a,b,c){a=0<=a?a:y.bandwidthNRD(b,
c);return Math.round((Math.sqrt(4*a*a+1)-1)/2)}function r(a){return d.isFunction(a)?a:d.constant(+a)}function g(){function a(a,d){var k=C(f[0],a,b)>>m,t=C(f[1],a,c)>>m,n=k?k+2:0,v=t?t+2:0,p=2*n+(g>>m),u=2*v+(h>>m),r=new Float32Array(p*u),l=new Float32Array(p*u),x=r;a.forEach(function(a){var d=n+(+b(a)>>m),f=v+(+c(a)>>m);0<=d&&d<p&&0<=f&&f<u&&(r[d+f*p]+=+e(a))});0<k&&0<t?(R(p,u,r,l,k),B(p,u,l,r,t),R(p,u,r,l,k),B(p,u,l,r,t),R(p,u,r,l,k),B(p,u,l,r,t)):0<k?(R(p,u,r,l,k),R(p,u,l,r,k),R(p,u,r,l,k),x=l):
0<t&&(B(p,u,r,l,t),B(p,u,l,r,t),B(p,u,r,l,t),x=l);a=d?Math.pow(2,-2*m):1/w.sum(x);d=0;for(k=p*u;d<k;++d)x[d]*=a;return{values:x,scale:1<<m,width:p,height:u,x1:n,y1:v,x2:n+(g>>m),y2:v+(h>>m)}}var b=function(a){return a[0]},c=function(a){return a[1]},e=d.one,f=[-1,-1],g=960,h=500,m=2;a.x=function(c){return arguments.length?(b=r(c),a):b};a.y=function(b){return arguments.length?(c=r(b),a):c};a.weight=function(b){return arguments.length?(e=r(b),a):e};a.size=function(b){if(!arguments.length)return[g,h];
var c=+b[0],e=+b[1];0<=c&&0<=e||d.error("invalid size");return g=c,h=e,a};a.cellSize=function(b){if(!arguments.length)return 1<<m;1<=(b=+b)||d.error("invalid cell size");m=Math.floor(Math.log(b)/Math.LN2);return a};a.bandwidth=function(b){if(!arguments.length)return f;b=d.array(b);1===b.length&&(b=[+b[0],+b[0]]);2!==b.length&&d.error("invalid bandwidth");return f=b,a};return a}function R(a,b,c,d,e){for(var f=(e<<1)+1,k=0;k<b;++k)for(var g=0,h=0;g<a+e;++g)g<a&&(h+=c[g+k*a]),g>=e&&(g>=f&&(h-=c[g-f+
k*a]),d[g-e+k*a]=h/Math.min(g+1,a-1+f-g,f))}function B(a,b,c,d,e){for(var f=(e<<1)+1,k=0;k<a;++k)for(var g=0,h=0;g<b+e;++g)g<b&&(h+=c[k+g*a]),g>=e&&(g>=f&&(h-=c[k+(g-f)*a]),d[k+(g-e)*a]=h/Math.min(g+1,b-1+f-g,f))}function u(a){b.Transform.call(this,null,a)}function U(a,b){ib.forEach(function(c){return null!=b[c]?a[c](b[c]):0});return a}function p(a,b){var c=[],d=function(a){return a(h)},e;if(null==b)c.push(a);else{var f={};var g=0;for(e=a.length;g<e;++g){var h=a[g];var m=b.map(d);var p=f[m];p||(f[m]=
p=[],p.dims=m,c.push(p));p.push(h)}}return c}function ca(a){b.Transform.call(this,null,a)}function h(a){b.Transform.call(this,null,a)}function T(a){b.Transform.call(this,null,a)}function O(a,b){var c=a.pointRadius();a.context(null);null!=b&&a.pointRadius(b);return c}function fa(a){b.Transform.call(this,null,a)}function qa(a){b.Transform.call(this,null,a)}function ua(a,b,c){var d=null==c?function(c){return a(b(c))}:function(d){var e=a.pointRadius();d=a.pointRadius(c)(b(d));a.pointRadius(e);return d};
d.context=function(b){a.context(b);return d};return d}function f(a){b.Transform.call(this,[],a);this.generator=P.geoGraticule()}function c(a){b.Transform.call(this,null,a)}function K(a,b){if(d.isFunction(a)){var c=function(c){return z.rgb(a(c,b))};c.dep=e(a)}else c=d.constant(z.rgb(a||"#888"));return c}function m(a,b){if(d.isFunction(a)){var c=function(c){return a(c,b)};c.dep=e(a)}else a?c=d.constant(a):(c=function(a){return a.$value/a.$max||0},c.dep=!0);return c}function e(a){if(!d.isFunction(a))return!1;
a=d.toSet(d.accessorFields(a));return a.$x||a.$y||a.$value||a.$max}function ea(a,b,c,e){var f=a.width,k=a.height,g=a.x1||0,h=a.y1||0,t=a.x2||f;k=a.y2||k;var m=a.values;a=m?function(a){return m[a]}:d.zero;for(var p=W.canvas(t-g,k-h),u=p.getContext("2d"),r=u.getImageData(0,0,t-g,k-h),l=r.data,x=h,B=0;x<k;++x){b.$y=x-h;for(var O=g,C=x*f;O<t;++O,B+=4){b.$x=O-g;b.$value=a(O+C);var T=c(b);l[B+0]=T.r;l[B+1]=T.g;l[B+2]=T.b;l[B+3]=~~(255*e(b))}}u.putImageData(r,0,0);return p}function ka(a){b.Transform.call(this,
null,a);this.modified(!0)}function X(a,b){var c=la(b.fit);b.extent?a.fitExtent(b.extent,c):b.size?a.fitSize(b.size,c):0}function E(a){var b=l.projection((a||"mercator").toLowerCase());b||d.error("Unrecognized projection type: "+a);return b()}function la(a){a=d.array(a);return 1===a.length?a[0]:{type:"FeatureCollection",features:a.reduce(function(a,b){return a.concat(J(b))},[])}}function J(a){return"FeatureCollection"===a.type?a.features:d.array(a).filter(function(a){return null!=a}).map(function(a){return"Feature"===
a.type?a:{type:"Feature",geometry:a}})}var Na=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];G.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",
type:"number"},{name:"nice",type:"boolean","default":!1},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"zero",type:"boolean","default":!0},{name:"smooth",type:"boolean","default":!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string","null":!0,"default":"contour"}]};d.inherits(G,b.Transform).transform=function(a,c){if(this.value&&!c.changed()&&!a.modified())return c.StopPropagation;var e=c.fork(c.NO_SOURCE|
c.NO_FIELDS);c=c.materialize(c.SOURCE).source;var f=a.field||d.identity,g=N().smooth(!1!==a.smooth),h=a.thresholds||x(c,f,a),m=null===a.as?null:a.as||"contour",p=[];c.forEach(function(c){var e=f(c),k=g.size([e.width,e.height])(e.values,d.isArray(h)?h:h(e.values));D(k,e,c,a);k.forEach(function(a){var d={};p.push(b.rederive(c,b.ingest(null!=m?(d[m]=a,d):a)))})});this.value&&(e.rem=this.value);this.value=e.source=e.add=p;return e};u.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",
type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean","default":!1},{name:"as",type:"string","default":"grid"}]};var ib="x y weight size cellSize bandwidth".split(" ");d.inherits(u,b.Transform).transform=function(a,c){function e(a,b){for(var c=0;c<h.length;++c)a[h[c]]=
b[c];return a}if(this.value&&!c.changed()&&!a.modified())return c.StopPropagation;var f=c.fork(c.NO_SOURCE|c.NO_FIELDS);c=c.materialize(c.SOURCE).source;c=p(c,a.groupby);var h=(a.groupby||[]).map(d.accessorName),n=U(g(),a),m=a.as||"grid",u=[];u=c.map(function(c){var d={};return b.ingest(e((d[m]=n(c,a.counts),d),c.dims))});this.value&&(f.rem=this.value);this.value=f.source=f.add=u;return f};ca.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},
{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean","default":!0}]};d.inherits(ca,b.Transform).transform=function(a,c){if(this.value&&!c.changed()&&!a.modified())return c.StopPropagation;var e=c.fork(c.NO_SOURCE|c.NO_FIELDS),f=N().smooth(!1!==
a.smooth),h=a.values,n=a.thresholds||Z(a.count||10,a.nice,!!h),m=a.size;if(!h){h=c.materialize(c.SOURCE).source;a=U(g(),a)(h,!0);var p=S(a,a.scale||1,a.scale||1,0,0);m=[a.width,a.height];h=a.values}n=d.isArray(n)?n:n(h);h=f.size(m)(h,n);p&&h.forEach(p);this.value&&(e.rem=this.value);this.value=e.source=e.add=(h||[]).map(b.ingest);return e};h.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};d.inherits(h,b.Transform).transform=
function(a,b){var c=this._features,e=this._points,f=a.fields,g=f&&f[0],h=f&&f[1],m=a.geojson||!f&&d.identity;f=b.ADD;a=a.modified()||b.changed(b.REM)||b.modified(d.accessorFields(m))||g&&b.modified(d.accessorFields(g))||h&&b.modified(d.accessorFields(h));if(!this.value||a)f=b.SOURCE,this._features=c=[],this._points=e=[];m&&b.visit(f,function(a){c.push(m(a))});g&&h&&(b.visit(f,function(a){var b=g(a);a=h(a);null!=b&&null!=a&&(b=+b)===b&&(a=+a)===a&&e.push([b,a])}),c=c.concat({type:"Feature",geometry:{type:"MultiPoint",
coordinates:e}}));this.value={type:"FeatureCollection",features:c}};T.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"path"}]};d.inherits(T,b.Transform).transform=function(a,b){var c=b.fork(b.ALL),e=this.value,f=a.field||d.identity,g=a.as||"path",h=c.SOURCE;!e||a.modified()?(this.value=e=l.getProjectionPath(a.projection),c.materialize().reflow()):
h=f===d.identity||b.modified(f.fields)?c.ADD_MOD:c.ADD;a=O(e,a.pointRadius);c.visit(h,function(a){a[g]=e(f(a))});e.pointRadius(a);return c.modifies(g)};fa.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,"default":["x","y"]}]};d.inherits(fa,b.Transform).transform=function(a,b){function c(a){var b=d([e(a),f(a)]);b?(a[h]=b[0],a[m]=b[1]):(a[h]=
void 0,a[m]=void 0)}var d=a.projection,e=a.fields[0],f=a.fields[1],g=a.as||["x","y"],h=g[0],m=g[1];a.modified()?b=b.materialize().reflow(!0).visit(b.SOURCE,c):(a=b.modified(e.fields)||b.modified(f.fields),b.visit(a?b.ADD_MOD:b.ADD,c));return b.modifies(g)};qa.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field","default":"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"shape"}]};
d.inherits(qa,b.Transform).transform=function(a,b){b=b.fork(b.ALL);var c=this.value,e=a.as||"shape",f=b.ADD;if(!c||a.modified())this.value=c=ua(l.getProjectionPath(a.projection),a.field||d.field("datum"),a.pointRadius),b.materialize().reflow(),f=b.SOURCE;b.visit(f,function(a){a[e]=c});return b.modifies(e)};f.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",
array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,"default":[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,"default":[10,10]},{name:"precision",type:"number","default":2.5}]};d.inherits(f,b.Transform).transform=function(a,c){var e=this.value,f=this.generator;if(!e.length||a.modified())for(var g in a)if(d.isFunction(f[g]))f[g](a[g]);
a=f();e.length?c.mod.push(b.replace(e[0],a)):c.add.push(b.ingest(a));e[0]=a;return c};c.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"as",type:"string","default":"image"}]};d.inherits(c,b.Transform).transform=function(a,b){if(!b.changed()&&!a.modified())return b.StopPropagation;var c=b.materialize(b.SOURCE).source,
e="shared"===a.resolve,f=a.field||d.identity,g=m(a.opacity,a),h=K(a.color,a),p=a.as||"image",u={$x:0,$y:0,$value:0,$max:e?w.max(c.map(function(a){return w.max(f(a).values)})):0};c.forEach(function(a){var b=f(a),c=d.extend({},a,u);e||(c.$max=w.max(b.values||[]));a[p]=ea(b,c,h.dep?h:d.constant(h(c)),g.dep?g:d.constant(g(c)))});return b.reflow(!0).modifies(p)};d.inherits(ka,b.Transform).transform=function(a,b){var c=this.value;!c||a.modified("type")?(this.value=c=E(a.type),l.projectionProperties.forEach(function(b){if(null!=
a[b]){var e=c,f=a[b];if(d.isFunction(e[b]))e[b](f)}})):l.projectionProperties.forEach(function(b){if(a.modified(b)){var e=c,f=a[b];if(d.isFunction(e[b]))e[b](f)}});null!=a.pointRadius&&c.path.pointRadius(a.pointRadius);a.fit&&X(c,a);return b.fork(b.NO_SOURCE|b.NO_FIELDS)};a.contour=ca;a.geojson=h;a.geopath=T;a.geopoint=fa;a.geoshape=qa;a.graticule=f;a.heatmap=c;a.isocontour=G;a.kde2d=u;a.projection=ka;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[31]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z):"function"===typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.d3=a.d3||{}))})(this,function(a){function b(a,b,d,l){if(isNaN(b)||isNaN(d))return a;var x,D=a._root;l={data:l};var G=a._x0,C=a._y0,r=a._x1,g=a._y1,w,B,u,U;if(!D)return a._root=l,a;for(;D.length;)if((u=b>=(w=(G+r)/2))?G=w:r=w,(U=d>=(B=(C+g)/2))?C=B:g=B,x=D,!(D=D[u|=U<<1]))return x[u]=l,a;var p=+a._x.call(null,D.data);var ca=
+a._y.call(null,D.data);if(b===p&&d===ca)return l.next=D,x?x[u]=l:a._root=l,a;do x=x?x[u]=Array(4):a._root=Array(4),(u=b>=(w=(G+r)/2))?G=w:r=w,(U=d>=(B=(C+g)/2))?C=B:g=B;while((u|=U<<1)===(U=(ca>=B)<<1|p>=w));return x[U]=D,x[u]=l,a}function d(a,b,d,l,x){this.node=a;this.x0=b;this.y0=d;this.x1=l;this.y1=x}function w(a){return a[0]}function y(a){return a[1]}function l(a,b,d){b=new z(null==b?w:b,null==d?y:d,NaN,NaN,NaN,NaN);return null==a?b:b.addAll(a)}function z(a,b,d,l,x,D){this._x=a;this._y=b;this._x0=
d;this._y0=l;this._x1=x;this._y1=D;this._root=void 0}function E(a){for(var b={data:a.data},d=b;a=a.next;)d=d.next={data:a.data};return b}var W=l.prototype=z.prototype;W.copy=function(){var a=new z(this._x,this._y,this._x0,this._y0,this._x1,this._y1),b=this._root,d,l;if(!b)return a;if(!b.length)return a._root=E(b),a;for(d=[{source:b,target:a._root=Array(4)}];b=d.pop();)for(var x=0;4>x;++x)if(l=b.source[x])l.length?d.push({source:l,target:b.target[x]=Array(4)}):b.target[x]=E(l);return a};W.add=function(a){var d=
+this._x.call(null,a),l=+this._y.call(null,a);return b(this.cover(d,l),d,l,a)};W.addAll=function(a){var d,l,G=a.length,x,D,w=Array(G),C=Array(G),r=Infinity,g=Infinity,R=-Infinity,B=-Infinity;for(l=0;l<G;++l)isNaN(x=+this._x.call(null,d=a[l]))||isNaN(D=+this._y.call(null,d))||(w[l]=x,C[l]=D,x<r&&(r=x),x>R&&(R=x),D<g&&(g=D),D>B&&(B=D));if(r>R||g>B)return this;this.cover(r,g).cover(R,B);for(l=0;l<G;++l)b(this,w[l],C[l],a[l]);return this};W.cover=function(a,b){if(isNaN(a=+a)||isNaN(b=+b))return this;
var d=this._x0,l=this._y0,x=this._x1,D=this._y1;if(isNaN(d))x=(d=Math.floor(a))+1,D=(l=Math.floor(b))+1;else{for(var w=x-d,C=this._root,r,g;d>a||a>=x||l>b||b>=D;)switch(g=(b<l)<<1|a<d,r=Array(4),r[g]=C,C=r,w*=2,g){case 0:x=d+w;D=l+w;break;case 1:d=x-w;D=l+w;break;case 2:x=d+w;l=D-w;break;case 3:d=x-w,l=D-w}this._root&&this._root.length&&(this._root=C)}this._x0=d;this._y0=l;this._x1=x;this._y1=D;return this};W.data=function(){var a=[];this.visit(function(b){if(!b.length){do a.push(b.data);while(b=
b.next)}});return a};W.extent=function(a){return arguments.length?this.cover(+a[0][0],+a[0][1]).cover(+a[1][0],+a[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]};W.find=function(a,b,l){var G=this._x0,x=this._y0,D,w,C,r,g=this._x1,R=this._y1,B=[],u=this._root,U;u&&B.push(new d(u,G,x,g,R));null==l?l=Infinity:(G=a-l,x=b-l,g=a+l,R=b+l,l*=l);for(;U=B.pop();)if(!(!(u=U.node)||(D=U.x0)>g||(w=U.y0)>R||(C=U.x1)<G||(r=U.y1)<x))if(u.length){U=(D+C)/2;var p=(w+r)/2;B.push(new d(u[3],
U,p,C,r),new d(u[2],D,p,U,r),new d(u[1],U,w,C,p),new d(u[0],D,w,U,p));if(u=(b>=p)<<1|a>=U)U=B[B.length-1],B[B.length-1]=B[B.length-1-u],B[B.length-1-u]=U}else if(U=a-+this._x.call(null,u.data),p=b-+this._y.call(null,u.data),U=U*U+p*p,U<l){var ca=Math.sqrt(l=U);G=a-ca;x=b-ca;g=a+ca;R=b+ca;ca=u.data}return ca};W.remove=function(a){if(isNaN(r=+this._x.call(null,a))||isNaN(g=+this._y.call(null,a)))return this;var b,d=this._root,l,x=this._x0,D=this._y0,w=this._x1,C=this._y1,r,g,R,B,u,U;if(!d)return this;
if(d.length)for(;;){(u=r>=(R=(x+w)/2))?x=R:w=R;(U=g>=(B=(D+C)/2))?D=B:C=B;if(!(b=d,d=d[u|=U<<1]))return this;if(!d.length)break;if(b[u+1&3]||b[u+2&3]||b[u+3&3]){var p=b;var ca=u}}for(;d.data!==a;)if(!(l=d,d=d.next))return this;(a=d.next)&&delete d.next;if(l)return a?l.next=a:delete l.next,this;if(!b)return this._root=a,this;a?b[u]=a:delete b[u];(d=b[0]||b[1]||b[2]||b[3])&&d===(b[3]||b[2]||b[1]||b[0])&&!d.length&&(p?p[ca]=d:this._root=d);return this};W.removeAll=function(a){for(var b=0,d=a.length;b<
d;++b)this.remove(a[b]);return this};W.root=function(){return this._root};W.size=function(){var a=0;this.visit(function(b){if(!b.length){do++a;while(b=b.next)}});return a};W.visit=function(a){var b=[],l,w=this._root,x,D,S,C;for(w&&b.push(new d(w,this._x0,this._y0,this._x1,this._y1));l=b.pop();)if(!a(w=l.node,D=l.x0,S=l.y0,C=l.x1,l=l.y1)&&w.length){var r=(D+C)/2,g=(S+l)/2;(x=w[3])&&b.push(new d(x,r,g,C,l));(x=w[2])&&b.push(new d(x,D,g,r,l));(x=w[1])&&b.push(new d(x,r,S,C,g));(x=w[0])&&b.push(new d(x,
D,S,r,g))}return this};W.visitAfter=function(a){var b=[],l=[],w;for(this._root&&b.push(new d(this._root,this._x0,this._y0,this._x1,this._y1));w=b.pop();){var x=w.node;if(x.length){var D,S=w.x0,C=w.y0,r=w.x1,g=w.y1,R=(S+r)/2,B=(C+g)/2;(D=x[0])&&b.push(new d(D,S,C,R,B));(D=x[1])&&b.push(new d(D,R,C,r,B));(D=x[2])&&b.push(new d(D,S,B,R,g));(D=x[3])&&b.push(new d(D,R,B,r,g))}l.push(w)}for(;w=l.pop();)a(w.node,w.x0,w.y0,w.x1,w.y1);return this};W.x=function(a){return arguments.length?(this._x=a,this):this._x};
W.y=function(a){return arguments.length?(this._y=a,this):this._y};a.quadtree=l;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[32]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z):"function"===typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.d3=a.d3||{}))})(this,function(a){function b(){for(var a=0,b=arguments.length,l={},w;a<b;++a){if(!(w=arguments[a]+"")||w in l||/[\s.]/.test(w))throw Error("illegal type: "+w);l[w]=[]}return new d(l)}function d(a){this._=a}function w(a,b){return a.trim().split(/^|\s+/).map(function(a){var d="",l=a.indexOf(".");0<=l&&(d=a.slice(l+
1),a=a.slice(0,l));if(a&&!b.hasOwnProperty(a))throw Error("unknown type: "+a);return{type:a,name:d}})}function y(a,b,d){for(var w=0,y=a.length;w<y;++w)if(a[w].name===b){a[w]=l;a=a.slice(0,w).concat(a.slice(w+1));break}null!=d&&a.push({name:b,value:d});return a}var l={value:function(){}};d.prototype=b.prototype={constructor:d,on:function(a,b){var d=this._,l=w(a+"",d),z,P=-1,G=l.length;if(2>arguments.length)for(;++P<G;){var x;if(x=z=(a=l[P]).type){a:{x=d[z];for(var D=0,S=x.length;D<S;++D)if((z=x[D]).name===
a.name){z=z.value;break a}z=void 0}x=z}if(x)return z}else{if(null!=b&&"function"!==typeof b)throw Error("invalid callback: "+b);for(;++P<G;)if(z=(a=l[P]).type)d[z]=y(d[z],a.name,b);else if(null==b)for(z in d)d[z]=y(d[z],a.name,null);return this}},copy:function(){var a={},b=this._,l;for(l in b)a[l]=b[l].slice();return new d(a)},call:function(a,b){if(0<(w=arguments.length-2))for(var d=Array(w),l=0,w,y;l<w;++l)d[l]=arguments[l+2];if(!this._.hasOwnProperty(a))throw Error("unknown type: "+a);y=this._[a];
l=0;for(w=y.length;l<w;++l)y[l].value.apply(b,d)},apply:function(a,b,d){if(!this._.hasOwnProperty(a))throw Error("unknown type: "+a);a=this._[a];for(var l=0,w=a.length;l<w;++l)a[l].value.apply(b,d)}};a.dispatch=b;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[33]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z):"function"===typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.d3=a.d3||{}))})(this,function(a){function b(){return S||(g(d),S=r.now()+C)}function d(){S=0}function w(){this._call=this._time=this._next=null}function y(a,b,d){var g=new w;g.restart(a,b,d);return g}function l(){b();++M;for(var a=G,d;a;)0<=(d=S-a._time)&&a._call.call(null,d),a=a._next;--M}function z(){S=(D=r.now())+C;M=N=0;
try{l()}finally{M=0;for(var a,b=G,d,g=Infinity;b;)b._call?(g>b._time&&(g=b._time),a=b,b=b._next):(d=b._next,b._next=null,b=a?a._next=d:G=d);x=a;W(g);S=0}}function E(){var a=r.now(),b=a-D;1E3<b&&(C-=b,D=a)}function W(a){M||(N&&(N=clearTimeout(N)),24<a-S?(Infinity>a&&(N=setTimeout(z,a-r.now()-C)),Z&&(Z=clearInterval(Z))):(Z||(D=r.now(),Z=setInterval(E,1E3)),M=1,g(z)))}var M=0,N=0,Z=0,G,x,D=0,S=0,C=0,r="object"===typeof performance&&performance.now?performance:Date,g="object"===typeof window&&window.requestAnimationFrame?
window.requestAnimationFrame.bind(window):function(a){setTimeout(a,17)};w.prototype=y.prototype={constructor:w,restart:function(a,d,g){if("function"!==typeof a)throw new TypeError("callback is not a function");g=(null==g?b():+g)+(null==d?0:+d);this._next||x===this||(x?x._next=this:G=this,x=this);this._call=a;this._time=g;W()},stop:function(){this._call&&(this._call=null,this._time=Infinity,W())}};a.interval=function(a,d,g){var u=new w,p=d;if(null==d)return u.restart(a,d,g),u;d=+d;g=null==g?b():+g;
u.restart(function T(b){b+=p;u.restart(T,p+=d,g);a(b)},d,g);return u};a.now=b;a.timeout=function(a,b,d){var g=new w;b=null==b?0:+b;g.restart(function(d){g.stop();a(d+b)},b,d);return g};a.timer=y;a.timerFlush=l;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[34]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z,y(31),y(32),y(33)):"function"===typeof define&&define.amd?define(["exports","d3-quadtree","d3-dispatch","d3-timer"],b):b(a.d3=a.d3||{},a.d3,a.d3,a.d3)})(this,function(a,b,d,w){function y(a){return function(){return a}}function l(){return 1E-6*(Math.random()-.5)}function z(a){return a.x+a.vx}function E(a){return a.y+a.vy}function W(a){return a.index}function M(a,b){a=a.get(b);if(!a)throw Error("missing: "+
b);return a}function N(a){return a.x}function Z(a){return a.y}var G=Math.PI*(3-Math.sqrt(5));a.forceCenter=function(a,b){function d(){var d,g=l.length,x=0,B=0;for(d=0;d<g;++d){var u=l[d];x+=u.x;B+=u.y}x=x/g-a;B=B/g-b;for(d=0;d<g;++d)u=l[d],u.x-=x,u.y-=B}var l;null==a&&(a=0);null==b&&(b=0);d.initialize=function(a){l=a};d.x=function(b){return arguments.length?(a=+b,d):a};d.y=function(a){return arguments.length?(b=+a,d):b};return d};a.forceCollide=function(a){function d(){function a(a,b,d,g,e){var c=
a.data;a=a.r;var f=D+a;if(c)c.index>h.index&&(b=T-c.x-c.vx,d=O-c.y-c.vy,g=b*b+d*d,g<f*f&&(0===b&&(b=l(),g+=b*b),0===d&&(d=l(),g+=d*d),g=(f-(g=Math.sqrt(g)))/g*w,h.vx+=(b*=g)*(f=(a*=a)/(G+a)),h.vy+=(d*=g)*f,c.vx-=b*(f=1-f),c.vy-=d*f));else return b>T+f||g<T-f||d>O+f||e<O-f}for(var d,p=r.length,C,h,T,O,D,G,y=0;y<B;++y)for(C=b.quadtree(r,z,E).visitAfter(x),d=0;d<p;++d)h=r[d],D=g[h.index],G=D*D,T=h.x+h.vx,O=h.y+h.vy,C.visit(a)}function x(a){if(a.data)return a.r=g[a.data.index];for(var b=a.r=0;4>b;++b)a[b]&&
a[b].r>a.r&&(a.r=a[b].r)}function C(){if(r){var b,d=r.length;g=Array(d);for(b=0;b<d;++b){var p=r[b];g[p.index]=+a(p,b,r)}}}var r,g,w=1,B=1;"function"!==typeof a&&(a=y(null==a?1:+a));d.initialize=function(a){r=a;C()};d.iterations=function(a){return arguments.length?(B=+a,d):B};d.strength=function(a){return arguments.length?(w=+a,d):w};d.radius=function(b){return arguments.length?(a="function"===typeof b?b:y(+b),C(),d):a};return d};a.forceLink=function(a){function b(b){for(var d=0,g=a.length;d<T;++d)for(var p=
0,f,c,u,m,e;p<g;++p)f=a[p],c=f.source,f=f.target,u=f.x+f.vx-c.x-c.vx||l(),m=f.y+f.vy-c.y-c.vy||l(),e=Math.sqrt(u*u+m*m),e=(e-G[p])/e*b*B[p],u*=e,m*=e,f.vx-=u*(e=h[p]),f.vy-=m*e,c.vx+=u*(e=1-e),c.vy+=m*e}function d(){if(p){var b=p.length,d=a.length,u=new Map(p.map(function(a,b){return[g(a,b,p),a]}));var l=0;for(ca=Array(b);l<d;++l)b=a[l],b.index=l,"object"!==typeof b.source&&(b.source=M(u,b.source)),"object"!==typeof b.target&&(b.target=M(u,b.target)),ca[b.source.index]=(ca[b.source.index]||0)+1,ca[b.target.index]=
(ca[b.target.index]||0)+1;l=0;for(h=Array(d);l<d;++l)b=a[l],h[l]=ca[b.source.index]/(ca[b.source.index]+ca[b.target.index]);B=Array(d);x();G=Array(d);r()}}function x(){if(p)for(var b=0,d=a.length;b<d;++b)B[b]=+w(a[b],b,a)}function r(){if(p)for(var b=0,d=a.length;b<d;++b)G[b]=+u(a[b],b,a)}var g=W,w=function(a){return 1/Math.min(ca[a.source.index],ca[a.target.index])},B,u=y(30),G,p,ca,h,T=1;null==a&&(a=[]);b.initialize=function(a){p=a;d()};b.links=function(g){return arguments.length?(a=g,d(),b):a};
b.id=function(a){return arguments.length?(g=a,b):g};b.iterations=function(a){return arguments.length?(T=+a,b):T};b.strength=function(a){return arguments.length?(w="function"===typeof a?a:y(+a),x(),b):w};b.distance=function(a){return arguments.length?(u="function"===typeof a?a:y(+a),r(),b):u};return b};a.forceManyBody=function(){function a(a){var d=r.length,h=b.quadtree(r,N,Z).visitAfter(w);G=a;for(a=0;a<d;++a)g=r[a],h.visit(C)}function d(){if(r){var a,b=r.length;u=Array(b);for(a=0;a<b;++a){var d=
r[a];u[d.index]=+B(d,a,r)}}}function w(a){var b=0,d,g,h=0,p,f,c;if(a.length){for(p=f=c=0;4>c;++c)(d=a[c])&&(g=Math.abs(d.value))&&(b+=d.value,h+=g,p+=g*d.x,f+=g*d.y);a.x=p/h;a.y=f/h}else{d=a;d.x=d.data.x;d.y=d.data.y;do b+=u[d.data.index];while(d=d.next)}a.value=b}function C(a,b,d,r){if(!a.value)return!0;d=a.x-g.x;var h=a.y-g.y;b=r-b;r=d*d+h*h;if(b*b/ca<r)return r<p&&(0===d&&(d=l(),r+=d*d),0===h&&(h=l(),r+=h*h),r<U&&(r=Math.sqrt(U*r)),g.vx+=d*a.value*G/r,g.vy+=h*a.value*G/r),!0;if(!(a.length||r>=
p)){if(a.data!==g||a.next)0===d&&(d=l(),r+=d*d),0===h&&(h=l(),r+=h*h),r<U&&(r=Math.sqrt(U*r));do a.data!==g&&(b=u[a.data.index]*G/r,g.vx+=d*b,g.vy+=h*b);while(a=a.next)}}var r,g,G,B=y(-30),u,U=1,p=Infinity,ca=.81;a.initialize=function(a){r=a;d()};a.strength=function(b){return arguments.length?(B="function"===typeof b?b:y(+b),d(),a):B};a.distanceMin=function(b){return arguments.length?(U=b*b,a):Math.sqrt(U)};a.distanceMax=function(b){return arguments.length?(p=b*b,a):Math.sqrt(p)};a.theta=function(b){return arguments.length?
(ca=b*b,a):Math.sqrt(ca)};return a};a.forceRadial=function(a,b,d){function l(a){for(var p=0,r=g.length;p<r;++p){var h=g[p],l=h.x-b||1E-6,x=h.y-d||1E-6,C=Math.sqrt(l*l+x*x);C=(u[p]-C)*B[p]*a/C;h.vx+=l*C;h.vy+=x*C}}function r(){if(g){var b,d=g.length;B=Array(d);u=Array(d);for(b=0;b<d;++b)u[b]=+a(g[b],b,g),B[b]=isNaN(u[b])?0:+x(g[b],b,g)}}var g,x=y(.1),B,u;"function"!==typeof a&&(a=y(+a));null==b&&(b=0);null==d&&(d=0);l.initialize=function(a){g=a;r()};l.strength=function(a){return arguments.length?(x=
"function"===typeof a?a:y(+a),r(),l):x};l.radius=function(b){return arguments.length?(a="function"===typeof b?b:y(+b),r(),l):a};l.x=function(a){return arguments.length?(b=+a,l):b};l.y=function(a){return arguments.length?(d=+a,l):d};return l};a.forceSimulation=function(a){function b(){l();T.call("tick",g);y<B&&(h.stop(),T.call("end",g))}function l(b){var d,h=a.length;void 0===b&&(b=1);for(var r=0;r<b;++r)for(y+=(z-y)*u,ca.forEach(function(a){a(y)}),d=0;d<h;++d){var f=a[d];null==f.fx?f.x+=f.vx*=p:(f.x=
f.fx,f.vx=0);null==f.fy?f.y+=f.vy*=p:(f.y=f.fy,f.vy=0)}return g}function x(){for(var b=0,d=a.length,g;b<d;++b){g=a[b];g.index=b;null!=g.fx&&(g.x=g.fx);null!=g.fy&&(g.y=g.fy);if(isNaN(g.x)||isNaN(g.y)){var h=10*Math.sqrt(b),f=b*G;g.x=h*Math.cos(f);g.y=h*Math.sin(f)}if(isNaN(g.vx)||isNaN(g.vy))g.vx=g.vy=0}}function r(b){b.initialize&&b.initialize(a);return b}var g,y=1,B=.001,u=1-Math.pow(B,1/300),z=0,p=.6,ca=new Map,h=w.timer(b),T=d.dispatch("tick","end");null==a&&(a=[]);x();return g={tick:l,restart:function(){return h.restart(b),
g},stop:function(){return h.stop(),g},nodes:function(b){return arguments.length?(a=b,x(),ca.forEach(r),g):a},alpha:function(a){return arguments.length?(y=+a,g):y},alphaMin:function(a){return arguments.length?(B=+a,g):B},alphaDecay:function(a){return arguments.length?(u=+a,g):+u},alphaTarget:function(a){return arguments.length?(z=+a,g):z},velocityDecay:function(a){return arguments.length?(p=1-a,g):1-p},force:function(a,b){return 1<arguments.length?(null==b?ca.delete(a):ca.set(a,r(b)),g):ca.get(a)},
find:function(b,d,g){var h,f=a.length;g=null==g?Infinity:g*g;for(h=0;h<f;++h){var c=a[h];var p=b-c.x;var m=d-c.y;p=p*p+m*m;if(p<g){var e=c;g=p}}return e},on:function(a,b){return 1<arguments.length?(T.on(a,b),g):T.on(a)}}};a.forceX=function(a){function b(a){for(var b=0,d=r.length,p;b<d;++b)p=r[b],p.vx+=(x[b]-p.x)*g[b]*a}function d(){if(r){var b,d=r.length;g=Array(d);x=Array(d);for(b=0;b<d;++b)g[b]=isNaN(x[b]=+a(r[b],b,r))?0:+l(r[b],b,r)}}var l=y(.1),r,g,x;"function"!==typeof a&&(a=y(null==a?0:+a));
b.initialize=function(a){r=a;d()};b.strength=function(a){return arguments.length?(l="function"===typeof a?a:y(+a),d(),b):l};b.x=function(g){return arguments.length?(a="function"===typeof g?g:y(+g),d(),b):a};return b};a.forceY=function(a){function b(a){for(var b=0,d=r.length,p;b<d;++b)p=r[b],p.vy+=(x[b]-p.y)*g[b]*a}function d(){if(r){var b,d=r.length;g=Array(d);x=Array(d);for(b=0;b<d;++b)g[b]=isNaN(x[b]=+a(r[b],b,r))?0:+l(r[b],b,r)}}var l=y(.1),r,g,x;"function"!==typeof a&&(a=y(null==a?0:+a));b.initialize=
function(a){r=a;d()};b.strength=function(a){return arguments.length?(l="function"===typeof a?a:y(+a),d(),b):l};b.y=function(g){return arguments.length?(a="function"===typeof g?g:y(+g),d(),b):a};return b};Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[35]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z,y(14),y(0),y(34)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-force"],b):(a=a||self,b((a.vega=a.vega||{},a.vega.transforms={}),a.vega,a.vega,a.d3))})(this,function(a,b,d,w){function y(a){b.Transform.call(this,null,a)}function l(a,b){return function(){a.touch(b).run()}}function z(a,b){a=w.forceSimulation(a);var d=!1,r=a.stop,g=a.restart;a.stopped=function(){return d};
a.restart=function(){d=!1;return g()};a.stop=function(){d=!0;return r()};return E(a,b,!0).on("end",function(){d=!0})}function E(a,b,l,r){var g=d.array(b.forces),x;var B=0;for(x=N.length;B<x;++B){var u=N[B];if("forces"!==u&&b.modified(u))a[u](b[u])}B=0;for(x=g.length;B<x;++B){var C="forces"+B;if(l||b.modified("forces",B)){u=void 0;var p=g[B];d.hasOwnProperty(M,p.force)||d.error("Unrecognized force: "+p.force);var w=M[p.force]();for(u in p)d.isFunction(w[u])&&W(w[u],p[u],p);u=w}else{if(u=r)a:{w=u=void 0;
p=g[B];var h=r;for(w in p)if(d.isFunction(u=p[w])&&h.modified(d.accessorFields(u))){u=1;break a}u=0}u=u?a.force(C):null}u&&a.force(C,u)}for(x=a.numForces||0;B<x;++B)a.force("forces"+B,null);a.numForces=g.length;return a}function W(a,b,l){a(d.isFunction(b)?function(a){return b(a,l)}:b)}var M={center:w.forceCenter,collide:w.forceCollide,nbody:w.forceManyBody,link:w.forceLink,x:w.forceX,y:w.forceY},N=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],Z=["static","iterations"],G=["x","y","vx",
"vy"];y.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean","default":!1},{name:"restart",type:"boolean","default":!1},{name:"iterations",type:"number","default":300},{name:"alpha",type:"number","default":1},{name:"alphaMin",type:"number","default":.001},{name:"alphaTarget",type:"number","default":0},{name:"velocityDecay",type:"number","default":.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number","default":0},{name:"y",
type:"number","default":0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number","default":.7},{name:"iterations",type:"number","default":1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number","default":-30},{name:"theta",type:"number","default":.9},{name:"distanceMin",type:"number","default":1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",
"default":30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number","default":1}]},{key:{force:"x"},params:[{name:"strength",type:"number","default":.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number","default":.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,"default":G}]};var x=d.inherits(y,b.Transform);x.transform=function(a,b){var d=this.value,r=b.changed(b.ADD_REM),g=a.modified(N),x=a.iterations||300;d?(r&&
(b.modifies("index"),d.nodes(b.source)),(g||b.changed(b.MOD))&&E(d,a,0,b)):(this.value=d=z(b.source,a),d.on("tick",l(b.dataflow,this)),a.static||(r=!0,d.tick()),b.modifies("index"));if(g||r||a.modified(Z)||b.changed()&&a.restart)if(d.alpha(Math.max(d.alpha(),a.alpha||1)).alphaDecay(1-Math.pow(d.alphaMin(),1/x)),a.static)for(d.stop();0<=--x;)d.tick();else if(d.stopped()&&d.restart(),!r)return b.StopPropagation;return this.finish(a,b)};x.finish=function(a,b){for(var d=b.dataflow,r=this._argops,g=0,
l=r.length,x;g<l;++g)if(x=r[g],"forces"===x.name&&"link"===x.op._argval.force){x=x.op._argops;for(var u=0,w=x.length,p;u<w;++u)if("links"===x[u].name&&(p=x[u].op.source)){d.pulse(p,d.changeset().reflow());break}}return b.reflow(a.modified()).modifies(G)};a.force=y;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[36]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z):"function"===typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.d3=a.d3||{}))})(this,function(a){function b(a,b){return a.parent===b.parent?1:2}function d(a,b){return a+b.x}function w(a,b){return Math.max(a,b.y)}function y(a){for(var b;b=a.children;)a=b[0];return a}function l(a){for(var b;b=a.children;)a=b[b.length-1];return a}function z(a){var b=0,c=a.children,d=c&&c.length;if(d)for(;0<=
--d;)b+=c[d].value;else b=1;a.value=b}function E(a,b){var c=new Z(a);a=+a.value&&(c.value=a.value);var d,e=[c],f,g,k,h;for(null==b&&(b=W);d=e.pop();)if(a&&(d.value=+d.data.value),(g=b(d.data))&&(h=g.length))for(d.children=Array(h),k=h-1;0<=k;--k)e.push(f=d.children[k]=new Z(g[k])),f.parent=d,f.depth=d.depth+1;return c.eachBefore(N)}function W(a){return a.children}function M(a){a.data=a.data.data}function N(a){var b=0;do a.height=b;while((a=a.parent)&&a.height<++b)}function Z(a){this.data=a;this.depth=
this.height=0;this.parent=null}function G(a){var b=0;a=Va.call(a);for(var c=a.length,d,e;c;)e=Math.random()*c--|0,d=a[c],a[c]=a[e],a[e]=d;c=a.length;d=[];for(var f;b<c;)if(e=a[b],f&&D(f,e))++b;else{a:if(b=d,S(e,b))b=[e];else{for(d=0;d<b.length;++d)if(x(e,b[d])&&S(C(b[d],e),b)){b=[b[d],e];break a}for(d=0;d<b.length-1;++d)for(f=d+1;f<b.length;++f)if(x(C(b[d],b[f]),e)&&x(C(b[d],e),b[f])&&x(C(b[f],e),b[d])&&S(r(b[d],b[f],e),b)){b=[b[d],b[f],e];break a}throw Error();}a:{b=d=b;switch(b.length){case 1:b=
b[0];b={x:b.x,y:b.y,r:b.r};break a;case 2:b=C(b[0],b[1]);break a;case 3:b=r(b[0],b[1],b[2]);break a}b=void 0}f=b;b=0}return f}function x(a,b){var c=a.r-b.r,d=b.x-a.x;a=b.y-a.y;return 0>c||c*c<d*d+a*a}function D(a,b){var c=a.r-b.r+1E-6,d=b.x-a.x;a=b.y-a.y;return 0<c&&c*c>d*d+a*a}function S(a,b){for(var c=0;c<b.length;++c)if(!D(a,b[c]))return!1;return!0}function C(a,b){var c=a.x,d=a.y;a=a.r;var e=b.x,f=b.y;b=b.r;var g=e-c,k=f-d,h=b-a,t=Math.sqrt(g*g+k*k);return{x:(c+e+g/t*h)/2,y:(d+f+k/t*h)/2,r:(t+
a+b)/2}}function r(a,b,c){var d=a.x,e=a.y;a=a.r;var f=b.x,g=b.y,k=b.r,h=c.x,t=c.y,m=c.r;c=d-f;b=d-h;var p=e-g,v=e-t,r=k-a,l=m-a,u=d*d+e*e-a*a;g=u-f*f-g*g+k*k;t=u-h*h-t*t+m*m;h=b*p-c*v;f=(p*t-v*g)/(2*h)-d;p=(v*r-p*l)/h;v=(b*g-c*t)/(2*h)-e;c=(c*l-b*r)/h;b=p*p+c*c-1;r=2*(a+f*p+v*c);a=f*f+v*v-a*a;a=-(b?(r+Math.sqrt(r*r-4*b*a))/(2*b):a/r);return{x:d+f+p*a,y:e+v+c*a,r:a}}function g(a,b,c){var d=a.x-b.x,e=a.y-b.y,f=d*d+e*e;if(f){var g=b.r+c.r;g*=g;var k=a.r+c.r;k*=k;if(g>k){var h=(f+k-g)/(2*f);g=Math.sqrt(Math.max(0,
k/f-h*h));c.x=a.x-h*d-g*e;c.y=a.y-h*e+g*d}else h=(f+g-k)/(2*f),g=Math.sqrt(Math.max(0,g/f-h*h)),c.x=b.x+h*d-g*e,c.y=b.y+h*e+g*d}else c.x=b.x+c.r,c.y=b.y}function R(a,b){var c=a.r+b.r-1E-6,d=b.x-a.x;a=b.y-a.y;return 0<c&&c*c>d*d+a*a}function B(a){var b=a._,c=a.next._,d=b.r+c.r;a=(b.x*c.r+c.x*b.r)/d;b=(b.y*c.r+c.y*b.r)/d;return a*a+b*b}function u(a){this._=a;this.previous=this.next=null}function U(a){if(!(c=a.length))return 0;var b,c;var d=a[0];d.x=0;d.y=0;if(!(1<c))return d.r;var e=a[1];d.x=-e.r;e.x=
d.r;e.y=0;if(!(2<c))return d.r+e.r;g(e,d,b=a[2]);d=new u(d);e=new u(e);b=new u(b);d.next=b.previous=e;e.next=d.previous=b;b.next=e.previous=d;var f=3;a:for(;f<c;++f){g(d._,e._,b=a[f]);b=new u(b);var h=e.next;var t=d.previous;var p=e._.r;var m=d._.r;do if(p<=m){if(R(h._,b._)){e=h;d.next=e;e.previous=d;--f;continue a}p+=h._.r;h=h.next}else{if(R(t._,b._)){d=t;d.next=e;e.previous=d;--f;continue a}m+=t._.r;t=t.previous}while(h!==t.next);b.previous=d;b.next=e;d.next=e.previous=e=b;for(h=B(d);(b=b.next)!==
e;)(t=B(b))<h&&(d=b,h=t);e=d.next}d=[e._];for(b=e;(b=b.next)!==e;)d.push(b._);b=G(d);for(f=0;f<c;++f)d=a[f],d.x-=b.x,d.y-=b.y;return b.r}function p(a){if("function"!==typeof a)throw Error();return a}function ca(){return 0}function h(a){return function(){return a}}function T(a){return Math.sqrt(a.value)}function O(a){return function(b){b.children||(b.r=Math.max(0,+a(b)||0))}}function fa(a,b){return function(c){if(d=c.children){var d,e,f=d.length,g=a(c)*b||0;if(g)for(e=0;e<f;++e)d[e].r+=g;var k=U(d);
if(g)for(e=0;e<f;++e)d[e].r-=g;c.r=k+g}}}function qa(a){return function(b){var c=b.parent;b.r*=a;c&&(b.x=c.x+a*b.x,b.y=c.y+a*b.y)}}function ua(a){a.x0=Math.round(a.x0);a.y0=Math.round(a.y0);a.x1=Math.round(a.x1);a.y1=Math.round(a.y1)}function f(a,b,c,d,e){var f=a.children,g=-1,k=f.length;for(d=a.value&&(d-b)/a.value;++g<k;)a=f[g],a.y0=c,a.y1=e,a.x0=b,a.x1=b+=a.value*d}function c(a){return a.id}function K(a){return a.parentId}function m(a,b){return a.parent===b.parent?1:2}function e(a){var b=a.children;
return b?b[0]:a.t}function ea(a){var b=a.children;return b?b[b.length-1]:a.t}function ka(a,b){this._=a;this.A=this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=null;this.i=b}function X(a){a=new ka(a,0);for(var b,c=[a],d,e,f;b=c.pop();)if(e=b._.children)for(b.children=Array(d=e.length),f=d-1;0<=f;--f)c.push(d=b.children[f]=new ka(e[f],f)),d.parent=b;(a.parent=new ka(null,0)).children=[a];return a}function J(a,b,c,d,e){var f=a.children,g=-1,k=f.length;for(e=a.value&&(e-
c)/a.value;++g<k;)a=f[g],a.x0=b,a.x1=d,a.y0=c,a.y1=c+=a.value*e}function wa(a,b,c,d,e,g){for(var k=[],h=b.children,t,n,p=t=0,m=h.length,v,r=b.value,l,u,x,B,w,C;t<m;){b=e-c;v=g-d;do l=h[p++].value;while(!l&&p<m);u=x=l;C=Math.max(v/b,b/v)/(r*a);B=l*l*C;for(w=Math.max(x/B,B/u);p<m;++p){l+=n=h[p].value;n<u&&(u=n);n>x&&(x=n);B=l*l*C;B=Math.max(x/B,B/u);if(B>w){l-=n;break}w=B}k.push(t={value:l,dice:b<v,children:h.slice(t,p)});t.dice?f(t,c,d,e,r?d+=v*l/r:g):J(t,c,d,r?c+=b*l/r:e,g);r-=l;t=p}return k}Z.prototype=
E.prototype={constructor:Z,count:function(){return this.eachAfter(z)},each:function(a){var b,c=[this],d;do{var e=c.reverse();for(c=[];b=e.pop();)if(a(b),b=b.children){var f=0;for(d=b.length;f<d;++f)c.push(b[f])}}while(c.length);return this},eachAfter:function(a){for(var b,c=[this],d=[],e,f;b=c.pop();)if(d.push(b),b=b.children)for(e=0,f=b.length;e<f;++e)c.push(b[e]);for(;b=d.pop();)a(b);return this},eachBefore:function(a){for(var b,c=[this],d;b=c.pop();)if(a(b),b=b.children)for(d=b.length-1;0<=d;--d)c.push(b[d]);
return this},sum:function(a){return this.eachAfter(function(b){for(var c=+a(b.data)||0,d=b.children,e=d&&d.length;0<=--e;)c+=d[e].value;b.value=c})},sort:function(a){return this.eachBefore(function(b){b.children&&b.children.sort(a)})},path:function(a){var b=this;var c=b;var d=a;if(c!==d){var e=c.ancestors(),f=d.ancestors(),g=null;c=e.pop();for(d=f.pop();c===d;)g=c,c=e.pop(),d=f.pop();c=g}for(d=[b];b!==c;)b=b.parent,d.push(b);for(b=d.length;a!==c;)d.splice(b,0,a),a=a.parent;return d},ancestors:function(){for(var a=
this,b=[a];a=a.parent;)b.push(a);return b},descendants:function(){var a=[];this.each(function(b){a.push(b)});return a},leaves:function(){var a=[];this.eachBefore(function(b){b.children||a.push(b)});return a},links:function(){var a=this,b=[];a.each(function(c){c!==a&&b.push({source:c.parent,target:c})});return b},copy:function(){return E(this).eachBefore(M)}};var Va=Array.prototype.slice,tb={depth:-1},ib={};ka.prototype=Object.create(Z.prototype);var da=(1+Math.sqrt(5))/2,Oa=function v(a){function b(b,
c,d,e,f){wa(a,b,c,d,e,f)}b.ratio=function(a){return v(1<(a=+a)?a:1)};return b}(da);da=function n(a){function b(b,c,d,e,g){if((h=b._squarify)&&h.ratio===a)for(var h,n,p,m=-1,v,r=h.length,l=b.value;++m<r;){b=h[m];n=b.children;p=b.value=0;for(v=n.length;p<v;++p)b.value+=n[p].value;b.dice?f(b,c,d,e,d+=(g-d)*b.value/l):J(b,c,d,c+=(e-c)*b.value/l,g);l-=b.value}else b._squarify=h=wa(a,b,c,d,e,g),h.ratio=a}b.ratio=function(a){return n(1<(a=+a)?a:1)};return b}(da);a.cluster=function(){function a(a){var b,
h=0;a.eachAfter(function(a){var e=a.children;if(e){var f=e.reduce(d,0)/e.length;a.x=f;a.y=1+e.reduce(w,0)}else a.x=b?h+=c(a,b):0,a.y=0,b=a});var p=y(a),n=l(a),m=p.x-c(p,n)/2,v=n.x+c(n,p)/2;return a.eachAfter(g?function(b){b.x=(b.x-a.x)*e;b.y=(a.y-b.y)*f}:function(b){b.x=(b.x-m)/(v-m)*e;b.y=(1-(a.y?b.y/a.y:1))*f})}var c=b,e=1,f=1,g=!1;a.separation=function(b){return arguments.length?(c=b,a):c};a.size=function(b){return arguments.length?(g=!1,e=+b[0],f=+b[1],a):g?null:[e,f]};a.nodeSize=function(b){return arguments.length?
(g=!0,e=+b[0],f=+b[1],a):g?[e,f]:null};return a};a.hierarchy=E;a.pack=function(){function a(a){a.x=c/2;a.y=d/2;b?a.eachBefore(O(b)).eachAfter(fa(e,.5)).eachBefore(qa(1)):a.eachBefore(O(T)).eachAfter(fa(ca,1)).eachAfter(fa(e,a.r/Math.min(c,d))).eachBefore(qa(Math.min(c,d)/(2*a.r)));return a}var b=null,c=1,d=1,e=ca;a.radius=function(c){return arguments.length?(b=null==c?null:p(c),a):b};a.size=function(b){return arguments.length?(c=+b[0],d=+b[1],a):[c,d]};a.padding=function(b){return arguments.length?
(e="function"===typeof b?b:h(+b),a):e};return a};a.packEnclose=G;a.packSiblings=function(a){U(a);return a};a.partition=function(){function a(a){var f=a.height+1;a.x0=a.y0=e;a.x1=c;a.y1=d/f;a.eachBefore(b(d,f));g&&a.eachBefore(ua);return a}function b(a,b){return function(c){c.children&&f(c,c.x0,a*(c.depth+1)/b,c.x1,a*(c.depth+2)/b);var d=c.x0,g=c.y0,h=c.x1-e,p=c.y1-e;h<d&&(d=h=(d+h)/2);p<g&&(g=p=(g+p)/2);c.x0=d;c.y0=g;c.x1=h;c.y1=p}}var c=1,d=1,e=0,g=!1;a.round=function(b){return arguments.length?
(g=!!b,a):g};a.size=function(b){return arguments.length?(c=+b[0],d=+b[1],a):[c,d]};a.padding=function(b){return arguments.length?(e=+b,a):e};return a};a.stratify=function(){function a(a){var c,e=a.length,f=Array(e),g,h={};for(c=0;c<e;++c){var p=a[c];var m=f[c]=new Z(p);null!=(g=b(p,c,a))&&(g+="")&&(p="$"+(m.id=g),h[p]=p in h?ib:m)}for(c=0;c<e;++c)if(m=f[c],g=d(a[c],c,a),null!=g&&(g+="")){p=h["$"+g];if(!p)throw Error("missing: "+g);if(p===ib)throw Error("ambiguous: "+g);p.children?p.children.push(m):
p.children=[m];m.parent=p}else{if(n)throw Error("multiple roots");var n=m}if(!n)throw Error("no root");n.parent=tb;n.eachBefore(function(a){a.depth=a.parent.depth+1;--e}).eachBefore(N);n.parent=null;if(0<e)throw Error("cycle");return n}var b=c,d=K;a.id=function(c){return arguments.length?(b=p(c),a):b};a.parentId=function(b){return arguments.length?(d=p(b),a):d};return a};a.tree=function(){function a(a){var e=X(a);e.eachAfter(b);e.parent.m=-e.z;e.eachBefore(c);if(p)a.eachBefore(d);else{var m=a,n=a,
v=a;a.eachBefore(function(a){a.x<m.x&&(m=a);a.x>n.x&&(n=a);a.depth>v.depth&&(v=a)});e=m===n?1:f(m,n)/2;var r=e-m.x,l=g/(n.x+e+r),u=h/(v.depth||1);a.eachBefore(function(a){a.x=(a.x+r)*l;a.y=a.depth*u})}return a}function b(a){var b=a.children,c=a.parent.children,d=a.i?c[a.i-1]:null;if(b){for(var g=0,h=0,p=a.children,m=p.length,n;0<=--m;)n=p[m],n.z+=g,n.m+=g,g+=n.s+(h+=n.c);b=(b[0].z+b[b.length-1].z)/2;d?(a.z=d.z+f(a._,d._),a.m=a.z-b):a.z=b}else d&&(a.z=d.z+f(a._,d._));b=a.parent;c=a.parent.A||c[0];
if(d){h=g=a;p=g.parent.children[0];m=g.m;n=h.m;for(var v=d.m,r=p.m,l;d=ea(d),g=e(g),d&&g;){p=e(p);h=ea(h);h.a=a;l=d.z+v-g.z-m+f(d._,g._);if(0<l){var u=d.a.parent===a.parent?d.a:c,x=a,B=l,w=B/(x.i-u.i);x.c-=w;x.s+=B;u.c+=w;x.z+=B;x.m+=B;m+=l;n+=l}v+=d.m;m+=g.m;r+=p.m;n+=h.m}d&&!ea(h)&&(h.t=d,h.m+=v-n);g&&!e(p)&&(p.t=g,p.m+=m-r,c=a)}b.A=c}function c(a){a._.x=a.z+a.parent.m;a.m+=a.parent.m}function d(a){a.x*=g;a.y=a.depth*h}var f=m,g=1,h=1,p=null;a.separation=function(b){return arguments.length?(f=b,
a):f};a.size=function(b){return arguments.length?(p=!1,g=+b[0],h=+b[1],a):p?null:[g,h]};a.nodeSize=function(b){return arguments.length?(p=!0,g=+b[0],h=+b[1],a):p?[g,h]:null};return a};a.treemap=function(){function a(a){a.x0=a.y0=0;a.x1=e;a.y1=f;a.eachBefore(b);g=[0];d&&a.eachBefore(ua);return a}function b(a){var b=g[a.depth],d=a.x0+b,e=a.y0+b,f=a.x1-b,h=a.y1-b;f<d&&(d=f=(d+f)/2);h<e&&(e=h=(e+h)/2);a.x0=d;a.y0=e;a.x1=f;a.y1=h;a.children&&(b=g[a.depth+1]=m(a)/2,d+=x(a)-b,e+=r(a)-b,f-=l(a)-b,h-=u(a)-
b,f<d&&(d=f=(d+f)/2),h<e&&(e=h=(e+h)/2),c(a,d,e,f,h))}var c=Oa,d=!1,e=1,f=1,g=[0],m=ca,r=ca,l=ca,u=ca,x=ca;a.round=function(b){return arguments.length?(d=!!b,a):d};a.size=function(b){return arguments.length?(e=+b[0],f=+b[1],a):[e,f]};a.tile=function(b){return arguments.length?(c=p(b),a):c};a.padding=function(b){return arguments.length?a.paddingInner(b).paddingOuter(b):a.paddingInner()};a.paddingInner=function(b){return arguments.length?(m="function"===typeof b?b:h(+b),a):m};a.paddingOuter=function(b){return arguments.length?
a.paddingTop(b).paddingRight(b).paddingBottom(b).paddingLeft(b):a.paddingTop()};a.paddingTop=function(b){return arguments.length?(r="function"===typeof b?b:h(+b),a):r};a.paddingRight=function(b){return arguments.length?(l="function"===typeof b?b:h(+b),a):l};a.paddingBottom=function(b){return arguments.length?(u="function"===typeof b?b:h(+b),a):u};a.paddingLeft=function(b){return arguments.length?(x="function"===typeof b?b:h(+b),a):x};return a};a.treemapBinary=function(a,b,c,d,e){function f(a,b,c,
d,e,h,p){if(a>=b-1)a=g[a],a.x0=d,a.y0=e,a.x1=h,a.y1=p;else{for(var m=n[a],v=c/2+m,r=a+1,l=b-1;r<l;){var u=r+l>>>1;n[u]<v?r=u+1:l=u}v-n[r-1]<n[r]-v&&a+1<r&&--r;m=n[r]-m;v=c-m;h-d>p-e?(c=(d*v+h*m)/c,f(a,r,m,d,e,c,p),f(r,b,v,c,e,h,p)):(c=(e*v+p*m)/c,f(a,r,m,d,e,h,c),f(r,b,v,d,c,h,p))}}var g=a.children,h,p=g.length,m,n=Array(p+1);for(n[0]=m=h=0;h<p;++h)n[h+1]=m+=g[h].value;f(0,p,a.value,b,c,d,e)};a.treemapDice=f;a.treemapResquarify=da;a.treemapSlice=J;a.treemapSliceDice=function(a,b,c,d,e){(a.depth&1?
J:f)(a,b,c,d,e)};a.treemapSquarify=Oa;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[37]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z,y(14),y(0),y(36)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-hierarchy"],b):(a=a||self,b((a.vega=a.vega||{},a.vega.transforms={}),a.vega,a.vega,a.d3))})(this,function(a,b,d,w){function y(a,b,d){var g={};a.each(function(a){var h=a.data;d(h)&&(g[b(h)]=a)});a.lookup=g;return a}function l(a){b.Transform.call(this,null,a)}function z(a){return a.values}function E(){function a(b,
g){if(g>=d.length)return b;for(var h=-1,p=b.length,r=d[g++],l,f,c={},u,m={};++h<p;)l=r(f=b[h])+"",(u=c[l])?u.push(f):c[l]=[f];for(l in c)m[l]=a(c[l],g);return m}function b(a,g){if(++g>d.length)return a;var h=[],p;for(p in a)h.push({key:p,values:b(a[p],g)});return h}var d=[],g;return g={entries:function(d){return b(a(d,0),0)},key:function(a){d.push(a);return g}}}function W(a){b.Transform.call(this,null,a)}function M(a,b,d){for(var g,h=0,p=b.length;h<p;++h)if(g=b[h],g in d)a[g](d[g])}function N(a,b){return a.parent===
b.parent?1:2}function Z(a){W.call(this,a)}function G(a){W.call(this,a)}function x(a){b.Transform.call(this,null,a)}function D(a){W.call(this,a)}function S(a){b.Transform.call(this,[],a)}function C(a){W.call(this,a)}l.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};d.inherits(l,b.Transform).transform=function(a,g){g.source||d.error("Nest transform requires an upstream data source.");var p=a.generate,r=a.modified(),
h=g.clone(),l=this.value;if(!l||r||g.changed())l&&l.each(function(a){a.children&&b.isTuple(a.data)&&h.rem.push(a.data)}),this.value=l=w.hierarchy({values:d.array(a.keys).reduce(function(a,b){a.key(b);return a},E()).entries(h.source)},z),p&&l.each(function(a){a.children&&(a=b.ingest(a.data),h.add.push(a),h.source.push(a))}),y(l,b.tupleid,b.tupleid);h.source.root=l;return h};d.inherits(W,b.Transform).transform=function(a,g){g.source&&g.source.root||d.error(this.constructor.name+" transform requires a backing tree data source.");
var p=this.layout(a.method),r=this.fields,h=g.source.root,l=a.as||r;a.field?h.sum(a.field):h.count();a.sort&&h.sort(b.stableCompare(a.sort,function(a){return a.data}));M(p,this.params,a);p.separation&&p.separation(!1!==a.separation?N:d.one);try{this.value=p(h)}catch(O){d.error(O)}h.each(function(a){for(var b=a.data,d=0,g=r.length-1;d<g;++d)b[l[d]]=a[r[d]];b[l[g]]=a.children?a.children.length:0});return g.reflow(a.modified()).modifies(l).modifies("leaf")};var r=["x","y","r","depth","children"];Z.Definition=
{type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"radius",type:"field","default":null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:r.length,"default":r}]};var g=d.inherits(Z,W);g.layout=w.pack;g.params=["radius","size","padding"];g.fields=r;r="x0 y0 x1 y1 depth children".split(" ");G.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",
type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:r.length,"default":r}]};g=d.inherits(G,W);g.layout=w.partition;g.params=["size","round","padding"];g.fields=r;x.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};d.inherits(x,b.Transform).transform=
function(a,b){b.source||d.error("Stratify transform requires an upstream data source.");var g=this.value,r=a.modified(),h=b.fork(b.ALL).materialize(b.SOURCE);b=!this.value||r||b.changed(b.ADD_REM)||b.modified(a.key.fields)||b.modified(a.parentKey.fields);h.source=h.source.slice();b&&(g=h.source.length?y(w.stratify().id(a.key).parentId(a.parentKey)(h.source),a.key,d.truthy):y(w.stratify()([{}]),a.key,a.key));h.source.root=this.value=g;return h};var R={tidy:w.tree,cluster:w.cluster};r=["x","y","depth",
"children"];D.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean","default":!0},{name:"as",type:"string",array:!0,length:r.length,"default":r}]};g=d.inherits(D,W);g.layout=function(a){a=a||"tidy";if(d.hasOwnProperty(R,a))return R[a]();
d.error("Unrecognized Tree layout method: "+a)};g.params=["size","nodeSize"];g.fields=r;S.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};d.inherits(S,b.Transform).transform=function(a,g){a=this.value;var p=g.source&&g.source.root,r=g.fork(g.NO_SOURCE),h={};p||d.error("TreeLinks transform requires a tree data source.");g.changed(g.ADD_REM)?(r.rem=a,g.visit(g.SOURCE,function(a){h[b.tupleid(a)]=1}),p.each(function(a){var d=a.data;(a=a.parent&&a.parent.data)&&h[b.tupleid(d)]&&
h[b.tupleid(a)]&&r.add.push(b.ingest({source:a,target:d}))}),this.value=r.add):g.changed(g.MOD)&&(g.visit(g.MOD,function(a){h[b.tupleid(a)]=1}),a.forEach(function(a){(h[b.tupleid(a.source)]||h[b.tupleid(a.target)])&&r.mod.push(a)}));return r};var B={binary:w.treemapBinary,dice:w.treemapDice,slice:w.treemapSlice,slicedice:w.treemapSliceDice,squarify:w.treemapSquarify,resquarify:w.treemapResquarify};r="x0 y0 x1 y1 depth children".split(" ");C.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},
params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"squarify",values:"squarify resquarify binary dice slice slicedice".split(" ")},{name:"padding",type:"number","default":0},{name:"paddingInner",type:"number","default":0},{name:"paddingOuter",type:"number","default":0},{name:"paddingTop",type:"number","default":0},{name:"paddingRight",type:"number","default":0},{name:"paddingBottom",type:"number","default":0},{name:"paddingLeft",type:"number","default":0},
{name:"ratio",type:"number","default":1.618033988749895},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:r.length,"default":r}]};g=d.inherits(C,W);g.layout=function(){var a=w.treemap();a.ratio=function(b){var d=a.tile();d.ratio&&a.tile(d.ratio(b))};a.method=function(b){d.hasOwnProperty(B,b)?a.tile(B[b]):d.error("Unrecognized Treemap layout method: "+b)};return a};g.params="method ratio size round padding paddingInner paddingOuter paddingTop paddingRight paddingBottom paddingLeft".split(" ");
g.fields=r;a.nest=l;a.pack=Z;a.partition=G;a.stratify=x;a.tree=D;a.treelinks=S;a.treemap=C;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[38]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z,y(15),y(14),y(0)):"function"===typeof define&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],b):(a=a||self,b((a.vega=a.vega||{},a.vega.transforms={}),a.vega,a.vega,a.vega))})(this,function(a,b,d,w){function y(a,b){var d=[],l=function(a){return a(y)},w;if(null==b)d.push(a);else{var x={};var D=0;for(w=a.length;D<w;++D){var y=a[D];var C=b.map(l);var r=x[C];r||(x[C]=r=[],r.dims=
C,d.push(r));r.push(y)}}return d}function l(a){d.Transform.call(this,null,a)}function z(a){d.Transform.call(this,null,a)}l.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number","default":.3},{name:"as",type:"string",array:!0}]};w.inherits(l,d.Transform).transform=function(a,l){var z=l.fork(l.NO_SOURCE|l.NO_FIELDS);if(!this.value||l.changed()||a.modified()){l=
l.materialize(l.SOURCE).source;l=y(l,a.groupby);var P=(a.groupby||[]).map(w.accessorName),G=P.length,x=a.as||[w.accessorName(a.x),w.accessorName(a.y)],D=[];l.forEach(function(l){b.regressionLoess(l,a.x,a.y,a.bandwidth||.3).forEach(function(a){for(var b={},g=0;g<G;++g)b[P[g]]=l.dims[g];b[x[0]]=a[0];b[x[1]]=a[1];D.push(d.ingest(b))})});this.value&&(z.rem=this.value);this.value=z.add=z.source=D}return z};var E={linear:b.regressionLinear,log:b.regressionLog,exp:b.regressionExp,pow:b.regressionPow,quad:b.regressionQuad,
poly:b.regressionPoly};z.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string","default":"linear",values:Object.keys(E)},{name:"order",type:"number","default":3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean","default":!1},{name:"as",type:"string",array:!0}]};w.inherits(z,d.Transform).transform=function(a,l){var z=l.fork(l.NO_SOURCE|
l.NO_FIELDS);if(!this.value||l.changed()||a.modified()){var P=l.materialize(l.SOURCE).source;P=y(P,a.groupby);var G=(a.groupby||[]).map(w.accessorName),x=a.method||"linear",D=a.order||3,S="poly"===x?D:"quad"===x?2:1,C=a.as||[w.accessorName(a.x),w.accessorName(a.y)],r=E[x],g=[],R=a.extent;w.hasOwnProperty(E,x)||w.error("Invalid regression method: "+x);null!=R&&"log"===x&&0>=R[0]&&(l.dataflow.warn("Ignoring extent with values \x3c\x3d 0 for log regression."),R=null);P.forEach(function(B){if(B.length<=
S)l.dataflow.warn("Skipping regression with more parameters than data points.");else{var u=r(B,a.x,a.y,D);if(a.params)g.push(d.ingest({keys:B.dims,coef:u.coef,rSquared:u.rSquared}));else{var y=R||w.extent(B,a.x),p=function(a){for(var b={},p=0;p<G.length;++p)b[G[p]]=B.dims[p];b[C[0]]=a[0];b[C[1]]=a[1];g.push(d.ingest(b))};"linear"===x?y.forEach(function(a){return p([a,u.predict(a)])}):b.sampleCurve(u.predict,y,25,200).forEach(p)}}});this.value&&(z.rem=this.value);this.value=z.add=z.source=g}return z};
a.loess=l;a.regression=z;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[39]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z):"function"===typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.d3=a.d3||{}))})(this,function(a){function b(a,b){a/=Math.abs(a)+Math.abs(b);return(0<b?3-a:1+a)/4}function d(a,b,d,g){a-=d;b-=g;return a*a+b*b}function w(a,b,d,g,l,r){g=(g-b)*(l-a);a=(d-a)*(r-b);return Math.abs(g-a)>=3.3306690738754716E-16*Math.abs(g+a)?g-a:0}function y(a,b,d,g,l,r){return 0>(w(l,r,a,b,d,g)||w(a,b,d,g,l,r)||
w(d,g,l,r,a,b))}function l(a,b,d,g){if(20>=g-d)for(var h=d+1;h<=g;h++){for(var p=a[h],r=b[p],u=h-1;u>=d&&b[a[u]]>r;)a[u+1]=a[u--];a[u+1]=p}else{h=d+1;p=g;z(a,d+g>>1,h);b[a[d]]>b[a[g]]&&z(a,d,g);b[a[h]]>b[a[g]]&&z(a,h,g);b[a[d]]>b[a[h]]&&z(a,d,h);r=a[h];for(u=b[r];;){do h++;while(b[a[h]]<u);do p--;while(b[a[p]]>u);if(p<h)break;z(a,h,p)}a[d+1]=a[p];a[p]=r;g-h+1>=p-d?(l(a,b,h,g),l(a,b,d,p-1)):(l(a,b,d,p-1),l(a,b,h,g))}}function z(a,b,d){var g=a[b];a[b]=a[d];a[d]=g}function E(a){return a[0]}function W(a){return a[1]}
function M(a){return a[0]}function N(a){return a[1]}function Z(a){var b=a.triangles;a=a.coords;for(var d=0;d<b.length;d+=3){var g=2*b[d],p=2*b[d+1],l=2*b[d+2];if(1E-10<(a[l]-a[g])*(a[p+1]-a[g+1])-(a[p]-a[g])*(a[l+1]-a[g+1]))return!1}return!0}function G(a,b,d){return[a+Math.sin(a+b)*d,b+Math.cos(a-b)*d]}function x(a,b,d,g){var h,p,l,r;return $jscomp.generator.createGenerator(x,function(f){switch(f.nextAddress){case 1:h=0,p=$jscomp.makeIterator(a),l=p.next();case 2:if(l.done){f.jumpTo(0);break}r=l.value;
return f.yield(b.call(g,r,h,a),5);case 5:return f.yield(d.call(g,r,h,a),6);case 6:++h,l=p.next(),f.jumpTo(2)}})}var D=Math.pow(2,-52),S=new Uint32Array(512),C=function(a){var b=a.length>>1;if(0<b&&"number"!==typeof a[0])throw Error("Expected coords to contain numbers.");this.coords=a;a=Math.max(2*b-5,0);this._triangles=new Uint32Array(3*a);this._halfedges=new Int32Array(3*a);this._hashSize=Math.ceil(Math.sqrt(b));this._hullPrev=new Uint32Array(b);this._hullNext=new Uint32Array(b);this._hullTri=new Uint32Array(b);
this._hullHash=(new Int32Array(this._hashSize)).fill(-1);this._ids=new Uint32Array(b);this._dists=new Float64Array(b);this.update()};C.from=function(a,b,d){b=void 0===b?E:b;d=void 0===d?W:d;for(var g=a.length,h=new Float64Array(2*g),p=0;p<g;p++){var l=a[p];h[2*p]=b(l);h[2*p+1]=d(l)}return new C(h)};C.prototype.update=function(){for(var a,b,g=this.coords,r=this._hullPrev,u=this._hullNext,x=this._hullTri,B=this._hullHash,w=g.length>>1,f=Infinity,c=Infinity,C=-Infinity,m=-Infinity,e=0;e<w;e++){var G=
g[2*e];a=g[2*e+1];G<f&&(f=G);a<c&&(c=a);G>C&&(C=G);a>m&&(m=a);this._ids[e]=e}C=(f+C)/2;c=(c+m)/2;f=Infinity;for(m=0;m<w;m++)if(e=d(C,c,g[2*m],g[2*m+1]),e<f){var z=m;f=e}c=g[2*z];m=g[2*z+1];f=Infinity;for(C=0;C<w;C++)if(C!==z&&(e=d(c,m,g[2*C],g[2*C+1]),e<f&&0<e)){var S=C;f=e}f=g[2*S];C=g[2*S+1];a=Infinity;for(e=0;e<w;e++)if(e!==z&&e!==S){G=f-c;var R=C-m;b=g[2*e]-c;var U=g[2*e+1]-m,P=G*G+R*R,E=b*b+U*U,M=.5/(G*U-R*b);R=(U*P-R*E)*M;G=(G*E-b*P)*M;G=R*R+G*G;if(G<a){var N=e;a=G}}e=g[2*N];G=g[2*N+1];if(Infinity===
a){for(u=0;u<w;u++)this._dists[u]=g[2*u]-g[0]||g[2*u+1]-g[1];l(this._ids,this._dists,0,w-1);u=new Uint32Array(w);r=g=0;for(x=-Infinity;r<w;r++)B=this._ids[r],this._dists[B]>x&&(u[g++]=B,x=this._dists[B]);this.hull=u.subarray(0,g);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{y(c,m,f,C,e,G)&&(a=S,b=f,P=C,S=N,f=e,C=G,N=a,e=b,G=P);b=f-c;a=C-m;P=e-c;U=G-m;E=b*b+a*a;M=P*P+U*U;R=.5/(b*U-a*P);a=c+(U*E-a*M)*R;b=m+(b*M-P*E)*R;this._cx=a;this._cy=b;for(P=0;P<w;P++)this._dists[P]=
d(g[2*P],g[2*P+1],a,b);l(this._ids,this._dists,0,w-1);this._hullStart=z;w=3;u[z]=r[N]=S;u[S]=r[z]=N;u[N]=r[S]=z;x[z]=0;x[S]=1;x[N]=2;B.fill(-1);B[this._hashKey(c,m)]=z;B[this._hashKey(f,C)]=S;B[this._hashKey(e,G)]=N;this.trianglesLen=0;this._addTriangle(z,S,N,-1,-1,-1);c=0;for(f=m=void 0;c<this._ids.length;c++)if(C=this._ids[c],e=g[2*C],G=g[2*C+1],!(0<c&&Math.abs(e-m)<=D&&Math.abs(G-f)<=D)&&(m=e,f=G,C!==z&&C!==S&&C!==N)){b=a=0;for(P=this._hashKey(e,G);b<this._hashSize&&(a=B[(P+b)%this._hashSize],
-1===a||a===u[a]);b++);b=a=r[a];for(P=void 0;P=u[b],!y(e,G,g[2*b],g[2*b+1],g[2*P],g[2*P+1]);)if(b=P,b===a){b=-1;break}if(-1!==b){E=this._addTriangle(b,C,u[b],-1,-1,x[b]);x[C]=this._legalize(E+2);x[b]=E;w++;for(M=u[b];P=u[M],y(e,G,g[2*M],g[2*M+1],g[2*P],g[2*P+1]);)E=this._addTriangle(M,C,P,x[C],-1,x[M]),x[C]=this._legalize(E+2),u[M]=M,w--,M=P;if(b===a)for(;P=r[b],y(e,G,g[2*P],g[2*P+1],g[2*b],g[2*b+1]);)E=this._addTriangle(P,C,b,-1,x[b],x[P]),this._legalize(E+2),x[P]=E,u[b]=b,w--,b=P;this._hullStart=
r[C]=b;u[b]=r[M]=C;u[C]=M;B[this._hashKey(e,G)]=C;B[this._hashKey(g[2*b],g[2*b+1])]=b}}this.hull=new Uint32Array(w);g=0;for(r=this._hullStart;g<w;g++)this.hull[g]=r,r=u[r];this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}};C.prototype._hashKey=function(a,d){return Math.floor(b(a-this._cx,d-this._cy)*this._hashSize)%this._hashSize};C.prototype._legalize=function(a){for(var b=this._triangles,d=this._halfedges,g=this.coords,p=0,
l;;){var r=d[a],u=a-a%3;l=u+(a+2)%3;if(-1===r){if(0===p)break;a=S[--p]}else{var f=r-r%3,c=f+(r+2)%3,x=b[l],m=b[a],e=b[u+(a+1)%3];u=b[c];var B=g[2*u],C=g[2*u+1],w=g[2*x]-B,G=g[2*x+1]-C,y=g[2*m]-B;m=g[2*m+1]-C;B=g[2*e]-B;e=g[2*e+1]-C;C=y*y+m*m;var D=B*B+e*e;if(0>w*(m*D-C*e)-G*(y*D-C*B)+(w*w+G*G)*(y*e-m*B)){b[a]=u;b[r]=x;x=d[c];if(-1===x){u=this._hullStart;do{if(this._hullTri[u]===c){this._hullTri[u]=a;break}u=this._hullPrev[u]}while(u!==this._hullStart)}this._link(a,x);this._link(r,d[l]);this._link(l,
c);l=f+(r+1)%3;p<S.length&&(S[p++]=l)}else{if(0===p)break;a=S[--p]}}}return l};C.prototype._link=function(a,b){this._halfedges[a]=b;-1!==b&&(this._halfedges[b]=a)};C.prototype._addTriangle=function(a,b,d,g,l,r){var h=this.trianglesLen;this._triangles[h]=a;this._triangles[h+1]=b;this._triangles[h+2]=d;this._link(h,g);this._link(h+1,l);this._link(h+2,r);this.trianglesLen+=3;return h};var r=function(){this._x0=this._y0=this._x1=this._y1=null;this._=""};r.prototype.moveTo=function(a,b){this._+="M"+(this._x0=
this._x1=+a)+","+(this._y0=this._y1=+b)};r.prototype.closePath=function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")};r.prototype.lineTo=function(a,b){this._+="L"+(this._x1=+a)+","+(this._y1=+b)};r.prototype.arc=function(a,b,d){a=+a;b=+b;d=+d;var g=a+d,h=b;if(0>d)throw Error("negative radius");if(null===this._x1)this._+="M"+g+","+h;else if(1E-6<Math.abs(this._x1-g)||1E-6<Math.abs(this._y1-h))this._+="L"+g+","+h;d&&(this._+="A"+d+","+d+",0,1,1,"+(a-d)+","+b+"A"+d+","+d+",0,1,1,"+
(this._x1=g)+","+(this._y1=h))};r.prototype.rect=function(a,b,d,g){this._+="M"+(this._x0=this._x1=+a)+","+(this._y0=this._y1=+b)+"h"+ +d+"v"+ +g+"h"+-d+"Z"};r.prototype.value=function(){return this._||null};var g=function(){this._=[]};g.prototype.moveTo=function(a,b){this._.push([a,b])};g.prototype.closePath=function(){this._.push(this._[0].slice())};g.prototype.lineTo=function(a,b){this._.push([a,b])};g.prototype.value=function(){return this._.length?this._:null};var R=function(a,b){var d=$jscomp.makeIterator(void 0===
b?[0,0,960,500]:b);b=d.next().value;var g=d.next().value,p=d.next().value;d=d.next().value;if(!((p=+p)>=(b=+b)&&(d=+d)>=(g=+g)))throw Error("invalid bounds");this.delaunay=a;this._circumcenters=new Float64Array(2*a.points.length);this.vectors=new Float64Array(2*a.points.length);this.xmax=p;this.xmin=b;this.ymax=d;this.ymin=g;this._init()};R.prototype.update=function(){this.delaunay.update();this._init();return this};R.prototype._init=function(){var a=this.delaunay,b=a.points,d=a.hull,g=a.triangles;
a=this.vectors;for(var l=this.circumcenters=this._circumcenters.subarray(0,g.length/3*2),r=0,u=0,x=g.length,f,c;r<x;r+=3,u+=2){c=2*g[r];var B=2*g[r+1],m=2*g[r+2];f=b[c];c=b[c+1];var e=b[m],C=b[m+1];m=b[B]-f;var w=b[B+1]-c;B=e-f;var G=C-c,y=m*m+w*w,D=B*B+G*G,z=2*(m*G-w*B);z?1E-8>Math.abs(z)?(f=(f+e)/2,c=(c+C)/2):(e=1/z,f+=(G*y-w*D)*e,c+=(m*D-B*y)*e):(f=(f+e)/2-1E8*G,c=(c+C)/2+1E8*B);l[u]=f;l[u+1]=c}g=d[d.length-1];r=4*g;x=b[2*g];c=b[2*g+1];a.fill(0);for(m=0;m<d.length;++m)g=d[m],l=r,u=x,f=c,r=4*g,
x=b[2*g],c=b[2*g+1],a[l+2]=a[r]=f-c,a[l+3]=a[r+1]=x-u};R.prototype.render=function(a){var b=null==a?a=new r:void 0,d=this.delaunay,g=d.halfedges,p=d.inedges;d=d.hull;var l=this.circumcenters,u=this.vectors;if(1>=d.length)return null;for(var x=0,f=g.length;x<f;++x){var c=g[x];if(!(c<x)){var B=2*Math.floor(x/3);c=2*Math.floor(c/3);this._renderSegment(l[B],l[B+1],l[c],l[c+1],a)}}g=d[d.length-1];for(x=0;x<d.length;++x)c=g,g=d[x],B=2*Math.floor(p[g]/3),f=l[B],B=l[B+1],c*=4,(c=this._project(f,B,u[c+2],
u[c+3]))&&this._renderSegment(f,B,c[0],c[1],a);return b&&b.value()};R.prototype.renderBounds=function(a){var b=null==a?a=new r:void 0;a.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return b&&b.value()};R.prototype.renderCell=function(a,b){var d=null==b?b=new r:void 0;a=this._clip(a);if(null!==a&&a.length){b.moveTo(a[0],a[1]);for(var g=a.length;a[0]===a[g-2]&&a[1]===a[g-1]&&1<g;)g-=2;for(var p=2;p<g;p+=2)a[p]===a[p-2]&&a[p+1]===a[p-1]||b.lineTo(a[p],a[p+1]);b.closePath();return d&&
d.value()}};R.prototype.cellPolygons=function ca(){var a=this,b,d,g,l,r,f;return $jscomp.generator.createGenerator(ca,function(c){switch(c.nextAddress){case 1:b=a,d=b.delaunay,g=d.points,l=0,r=g.length/2;case 2:if(!(l<r)){c.jumpTo(0);break}f=a.cellPolygon(l);if(!f){c.jumpTo(3);break}f.index=l;return c.yield(f,6);case 6:case 3:++l,c.jumpTo(2)}})};R.prototype.cellPolygon=function(a){var b=new g;this.renderCell(a,b);return b.value()};R.prototype._renderSegment=function(a,b,d,g,l){var h=this._regioncode(a,
b),r=this._regioncode(d,g);if(0===h&&0===r)l.moveTo(a,b),l.lineTo(d,g);else if(a=this._clipSegment(a,b,d,g,h,r))l.moveTo(a[0],a[1]),l.lineTo(a[2],a[3])};R.prototype.contains=function(a,b,d){return(b=+b,b!==b)||(d=+d,d!==d)?!1:this.delaunay._step(a,b,d)===a};R.prototype.neighbors=function T(a){var b=this,d,g,h,f,c,l,m,e,r;return $jscomp.generator.createGenerator(T,function(u){switch(u.nextAddress){case 1:d=b._clip(a);if(!d){u.jumpTo(0);break}g=$jscomp.makeIterator(b.delaunay.neighbors(a));h=g.next();
case 3:if(h.done){u.jumpTo(0);break}f=h.value;c=b._clip(f);if(!c){u.jumpTo(4);break}l=0;m=d.length;case 9:if(!(l<m)){u.jumpTo(4);break}e=0;r=c.length;case 10:if(!(e<r)){l+=2;u.jumpTo(9);break}if(d[l]!=c[e]||d[l+1]!=c[e+1]||d[(l+2)%m]!=c[(e+r-2)%r]||d[(l+3)%m]!=c[(e+r-1)%r]){u.jumpTo(11);break}return u.yield(f,14);case 14:u.jumpTo(4);break;case 11:e+=2;u.jumpTo(10);break;case 4:h=g.next(),u.jumpTo(3)}})};R.prototype._cell=function(a){var b=this.circumcenters,d=this.delaunay,g=d.halfedges,h=d.triangles;
d=d.inedges[a];if(-1===d)return null;var l=[],f=d;do{var c=Math.floor(f/3);l.push(b[2*c],b[2*c+1]);f=2===f%3?f-2:f+1;if(h[f]!==a)break;f=g[f]}while(f!==d&&-1!==f);return l};R.prototype._clip=function(a){if(0===a&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];var b=this._cell(a);if(null===b)return null;var d=this.vectors,g=4*a;return d[g]||d[g+1]?this._clipInfinite(a,b,d[g],d[g+1],d[g+2],d[g+3]):this._clipFinite(a,b)};R.prototype._clipFinite=
function(a,b){for(var d=b.length,g=null,h,l,f=b[d-2],c=b[d-1],r,m=this._regioncode(f,c),e,u,x=0;x<d;x+=2)if(h=f,l=c,f=b[x],c=b[x+1],r=m,m=this._regioncode(f,c),0===r&&0===m)u=0,g?g.push(f,c):g=[f,c];else{if(0===r){if(null===(h=this._clipSegment(h,l,f,c,r,m)))continue;l=$jscomp.makeIterator(h);l.next();l.next();h=l.next().value;r=l.next().value}else{if(null===(h=this._clipSegment(f,c,h,l,m,r)))continue;e=$jscomp.makeIterator(h);h=e.next().value;r=e.next().value;l=e.next().value;var B=e.next().value;
e=u;u=this._edgecode(l,B);e&&u&&this._edge(a,e,u,g,g.length);g?g.push(l,B):g=[l,B]}e=u;u=this._edgecode(h,r);e&&u&&this._edge(a,e,u,g,g.length);g?g.push(h,r):g=[h,r]}if(g)e=u,u=this._edgecode(g[0],g[1]),e&&u&&this._edge(a,e,u,g,g.length);else if(this.contains(a,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return g};R.prototype._clipSegment=function(a,b,d,g,l,r){for(;;){if(0===l&&0===r)return[a,b,d,g];if(l&
r)return null;var f=l||r;if(f&8){f=a+(d-a)*(this.ymax-b)/(g-b);var c=this.ymax}else f&4?(f=a+(d-a)*(this.ymin-b)/(g-b),c=this.ymin):f&2?(c=b+(g-b)*(this.xmax-a)/(d-a),f=this.xmax):(c=b+(g-b)*(this.xmin-a)/(d-a),f=this.xmin);l?(a=f,b=c,l=this._regioncode(a,b)):(d=f,g=c,r=this._regioncode(d,g))}};R.prototype._clipInfinite=function(a,b,d,g,l,r){b=Array.from(b);var f;(f=this._project(b[0],b[1],d,g))&&b.unshift(f[0],f[1]);(f=this._project(b[b.length-2],b[b.length-1],l,r))&&b.push(f[0],f[1]);if(b=this._clipFinite(a,
b))for(d=0,g=b.length,r=this._edgecode(b[g-2],b[g-1]);d<g;d+=2)l=r,r=this._edgecode(b[d],b[d+1]),l&&r&&(d=this._edge(a,l,r,b,d),g=b.length);else this.contains(a,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(b=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return b};R.prototype._edge=function(a,b,d,g,l){for(;b!==d;){var h=void 0,f=void 0;switch(b){case 5:b=4;continue;case 4:b=6;h=this.xmax;f=this.ymin;break;case 6:b=2;continue;case 2:b=10;h=this.xmax;f=this.ymax;
break;case 10:b=8;continue;case 8:b=9;h=this.xmin;f=this.ymax;break;case 9:b=1;continue;case 1:b=5,h=this.xmin,f=this.ymin}g[l]===h&&g[l+1]===f||!this.contains(a,h,f)||(g.splice(l,0,h,f),l+=2)}if(4<g.length)for(a=0;a<g.length;a+=2)if(b=(a+2)%g.length,d=(a+4)%g.length,g[a]===g[b]&&g[b]===g[d]||g[a+1]===g[b+1]&&g[b+1]===g[d+1])g.splice(b,2),a-=2;return l};R.prototype._project=function(a,b,d,g){var h=Infinity,l;if(0>g){if(b<=this.ymin)return null;if((l=(this.ymin-b)/g)<h){var f=this.ymin;var c=a+(h=
l)*d}}else if(0<g){if(b>=this.ymax)return null;(l=(this.ymax-b)/g)<h&&(f=this.ymax,c=a+(h=l)*d)}if(0<d){if(a>=this.xmax)return null;(l=(this.xmax-a)/d)<h&&(c=this.xmax,f=b+l*g)}else if(0>d){if(a<=this.xmin)return null;(l=(this.xmin-a)/d)<h&&(c=this.xmin,f=b+l*g)}return[c,f]};R.prototype._edgecode=function(a,b){return(a===this.xmin?1:a===this.xmax?2:0)|(b===this.ymin?4:b===this.ymax?8:0)};R.prototype._regioncode=function(a,b){return(a<this.xmin?1:a>this.xmax?2:0)|(b<this.ymin?4:b>this.ymax?8:0)};var B=
2*Math.PI,u=Math.pow,U=function(a){this._delaunator=new C(a);this.inedges=new Int32Array(a.length/2);this._hullIndex=new Int32Array(a.length/2);this.points=this._delaunator.coords;this._init()};U.from=function(a,b,d,g){b=void 0===b?M:b;d=void 0===d?N:d;if("length"in a){for(var h=a.length,l=new Float64Array(2*h),f=0;f<h;++f){var c=a[f];l[2*f]=b.call(g,c,f,a);l[2*f+1]=d.call(g,c,f,a)}a=l}else a=Float64Array.from(x(a,b,d,g));return new U(a)};U.prototype.update=function(){this._delaunator.update();this._init();
return this};U.prototype._init=function(){var a=this._delaunator,b=this.points;if(a.hull&&2<a.hull.length&&Z(a)){this.collinear=Int32Array.from({length:b.length/2},function(a,b){return b}).sort(function(a,c){return b[2*a]-b[2*c]||b[2*a+1]-b[2*c+1]});a=this.collinear[0];var d=this.collinear[this.collinear.length-1];a=[b[2*a],b[2*a+1],b[2*d],b[2*d+1]];a=1E-8*Math.hypot(a[3]-a[1],a[2]-a[0]);d=0;for(var g=b.length/2;d<g;++d){var l=G(b[2*d],b[2*d+1],a);b[2*d]=l[0];b[2*d+1]=l[1]}this._delaunator=new C(b)}else delete this.collinear;
l=this.halfedges=this._delaunator.halfedges;a=this.hull=this._delaunator.hull;var r=this.triangles=this._delaunator.triangles;d=this.inedges.fill(-1);g=this._hullIndex.fill(-1);for(var f=0,c=l.length;f<c;++f){var u=r[2===f%3?f-2:f+1];if(-1===l[f]||-1===d[u])d[u]=f}l=0;for(r=a.length;l<r;++l)g[a[l]]=l;2>=a.length&&0<a.length&&(this.triangles=(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),this.triangles[0]=a[0],this.triangles[1]=a[1],this.triangles[2]=a[1],d[a[0]]=1,2===a.length&&
(d[a[1]]=0))};U.prototype.voronoi=function(a){return new R(this,a)};U.prototype.neighbors=function O(a){var b=this,d,g,f,c,l,m,e,r,u,x,B,C;return $jscomp.generator.createGenerator(O,function(w){switch(w.nextAddress){case 1:d=b;g=d.inedges;f=d.hull;c=d._hullIndex;l=d.halfedges;m=d.triangles;e=d.collinear;if(!e){w.jumpTo(2);break}r=e.indexOf(a);if(!(0<r)){w.jumpTo(3);break}return w.yield(e[r-1],3);case 3:if(!(r<e.length-1)){w.jumpTo(5);break}return w.yield(e[r+1],5);case 5:return w.return();case 2:u=
g[a];if(-1===u)return w.return();x=u;B=-1;case 7:return w.yield(B=m[x],10);case 10:x=2===x%3?x-2:x+1;if(m[x]!==a)return w.return();x=l[x];if(-1!==x){w.jumpTo(9);break}C=f[(c[a]+1)%f.length];if(C===B){w.jumpTo(12);break}return w.yield(C,12);case 12:return w.return();case 9:x!==u?w.jumpTo(7):w.jumpToEnd()}})};U.prototype.find=function(a,b,d){d=void 0===d?0:d;if((a=+a,a!==a)||(b=+b,b!==b))return-1;for(var g=d,l;0<=(l=this._step(d,a,b))&&l!==d&&l!==g;)d=l;return l};U.prototype._step=function(a,b,d){var g=
this.inedges,l=this.hull,f=this._hullIndex,c=this.halfedges,r=this.triangles,m=this.points;if(-1===g[a]||!m.length)return(a+1)%(m.length>>1);var e=a,x=u(b-m[2*a],2)+u(d-m[2*a+1],2),B=g=g[a];do{var w=r[B],C=u(b-m[2*w],2)+u(d-m[2*w+1],2);C<x&&(x=C,e=w);B=2===B%3?B-2:B+1;if(r[B]!==a)break;B=c[B];if(-1===B){B=l[(f[a]+1)%l.length];if(B!==w&&u(b-m[2*B],2)+u(d-m[2*B+1],2)<x)return B;break}}while(B!==g);return e};U.prototype.render=function(a){for(var b=null==a?a=new r:void 0,d=this.points,g=this.halfedges,
l=this.triangles,f=0,c=g.length;f<c;++f){var u=g[f];if(!(u<f)){var m=2*l[f];u=2*l[u];a.moveTo(d[m],d[m+1]);a.lineTo(d[u],d[u+1])}}this.renderHull(a);return b&&b.value()};U.prototype.renderPoints=function(a,b){b=void 0===b?2:b;for(var d=null==a?a=new r:void 0,g=this.points,l=0,f=g.length;l<f;l+=2){var c=g[l],u=g[l+1];a.moveTo(c+b,u);a.arc(c,u,b,0,B)}return d&&d.value()};U.prototype.renderHull=function(a){var b=null==a?a=new r:void 0,d=this.hull,g=this.points,l=2*d[0],f=d.length;a.moveTo(g[l],g[l+1]);
for(l=1;l<f;++l){var c=2*d[l];a.lineTo(g[c],g[c+1])}a.closePath();return b&&b.value()};U.prototype.hullPolygon=function(){var a=new g;this.renderHull(a);return a.value()};U.prototype.renderTriangle=function(a,b){var d=null==b?b=new r:void 0,g=this.points,l=this.triangles,f=2*l[a*=3],c=2*l[a+1];a=2*l[a+2];b.moveTo(g[f],g[f+1]);b.lineTo(g[c],g[c+1]);b.lineTo(g[a],g[a+1]);b.closePath();return d&&d.value()};U.prototype.trianglePolygons=function O(){var a=this,b,d,f,c;return $jscomp.generator.createGenerator(O,
function(g){1==g.nextAddress&&(b=a,d=b.triangles,f=0,c=d.length/3);if(3!=g.nextAddress)return f<c?g.yield(a.trianglePolygon(f),3):g.jumpTo(0);++f;return g.jumpTo(2)})};U.prototype.trianglePolygon=function(a){var b=new g;this.renderTriangle(a,b);return b.value()};a.Delaunay=U;a.Voronoi=R;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[40]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z,y(14),y(0),y(39)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-delaunay"],b):(a=a||self,b((a.vega=a.vega||{},a.vega.transforms={}),a.vega,a.vega,a.d3))})(this,function(a,b,d,w){function y(a){b.Transform.call(this,null,a)}y.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",
type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,"default":[[-1E5,-1E5],[1E5,1E5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string","default":"path"}]};var l=[-1E5,-1E5,1E5,1E5];d.inherits(y,b.Transform).transform=function(a,b){var d=a.as||"path",y=b.source;if(!y||!y.length)return b;var z=a.size;z=z?[0,0,z[0],z[1]]:(z=a.extent)?[z[0][0],z[0][1],z[1][0],z[1][1]]:l;z=this.value=w.Delaunay.from(y,a.x,a.y).voronoi(z);for(var P=0,G=y.length;P<G;++P){var x=
z.cellPolygon(P),D=y[P];if(x){for(var S=x[0][0],C=x[0][1],r=x.length-1;x[r][0]===S&&x[r][1]===C;--r);x="M"+x.slice(0,r+1).join("L")+"Z"}else x=null;D[d]=x}return b.reflow(a.modified()).modifies(d)};a.voronoi=y;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[41]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z,y(19),y(14),y(0),y(23),y(15)):"function"===typeof define&&define.amd?define("exports vega-canvas vega-dataflow vega-util vega-scale vega-statistics".split(" "),b):(a=a||self,b((a.vega=a.vega||{},a.vega.transforms={}),a.vega,a.vega,a.vega,a.vega,a.vega))})(this,function(a,b,d,w,y,l){function z(){function a(a){a.width=a.height=1;var b=Math.sqrt(a.getContext("2d").getImageData(0,0,1,1).data.length>>2);
a.width=2048/b;a.height=2048/b;a=a.getContext("2d");a.fillStyle=a.strokeStyle="red";a.textAlign="center";return{context:a,ratio:b}}function d(a,b,d){for(var c=b.x,e=b.y,f=Math.sqrt(l[0]*l[0]+l[1]*l[1]),g=y(l),h=.5>S()?1:-1,r=-h,p,u;p=g(r+=h);){u=~~p[0];p=~~p[1];if(Math.min(Math.abs(u),Math.abs(p))>=f)break;b.x=c+u;b.y=e+p;if(!(0>b.x+b.x0||0>b.y+b.y0||b.x+b.x1>l[0]||b.y+b.y1>l[1])){if(!(u=!d)){a:{u=l[0];u>>=5;p=b.sprite;var x=b.width>>5;var B=b.x-(x<<4);for(var w=B&127,C=32-w,t=b.y1-b.y0,k=(b.y+b.y0)*
u+(B>>5),v=0;v<t;v++){for(var n=B=0;n<=x;n++)if((B<<C|(n<x?(B=p[v*x+n])>>>w:0))&a[k+n]){u=!0;break a}k+=u}u=!1}u=!u}if(u&&(!d||b.x+b.x1>d[0].x&&b.x+b.x0<d[1].x&&b.y+b.y1>d[0].y&&b.y+b.y0<d[1].y)){d=b.sprite;c=b.width>>5;e=l[0]>>5;r=b.x-(c<<4);f=r&127;g=32-f;h=b.y1-b.y0;r=(b.y+b.y0)*e+(r>>5);for(p=0;p<h;p++){for(x=u=0;x<=c;x++)a[r+x]=a[r+x]|u<<g|(x<c?(u=d[p*c+x])>>>f:0);r+=e}b.sprite=null;return!0}}}return!1}var l=[256,256],x,u,w,p,C,h,G,y=M,z=[],S=Math.random,P={layout:function(){for(var f=a(b.canvas()),
c=N((l[0]>>5)*l[1]),g=null,m=z.length,e=-1,r=[],B=z.map(function(a){return{text:x(a),font:u(a),style:p(a),weight:C(a),rotate:h(a),size:~~(w(a)+1E-14),padding:G(a),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:a}}).sort(function(a,b){return b.size-a.size});++e<m;){var y=B[e];y.x=l[0]*(S()+.5)>>1;y.y=l[1]*(S()+.5)>>1;E(f,y,B,e);y.hasText&&d(c,y,g)&&(r.push(y),g?W(g,y):g=[{x:y.x+y.x0,y:y.y+y.y0},{x:y.x+y.x1,y:y.y+y.y1}],y.x-=l[0]>>1,y.y-=l[1]>>1)}return r},words:function(a){return arguments.length?
(z=a,P):z},size:function(a){return arguments.length?(l=[+a[0],+a[1]],P):l},font:function(a){return arguments.length?(u=Z(a),P):u},fontStyle:function(a){return arguments.length?(p=Z(a),P):p},fontWeight:function(a){return arguments.length?(C=Z(a),P):C},rotate:function(a){return arguments.length?(h=Z(a),P):h},text:function(a){return arguments.length?(x=Z(a),P):x},spiral:function(a){return arguments.length?(y=D[a]||a,P):y},fontSize:function(a){return arguments.length?(w=Z(a),P):w},padding:function(a){return arguments.length?
(G=Z(a),P):G},random:function(a){return arguments.length?(S=a,P):S}};return P}function E(a,b,d,l){if(!b.sprite){var g=a.context,r=a.ratio;g.clearRect(0,0,2048/r,2048/r);var p=a=0,B=0,h=d.length;for(--l;++l<h;){b=d[l];g.save();g.font=b.style+" "+b.weight+" "+~~((b.size+1)/r)+"px "+b.font;var w=g.measureText(b.text+"m").width*r;var C=b.size<<1;if(b.rotate){var G=Math.sin(b.rotate*x),y=Math.cos(b.rotate*x),D=w*y,f=w*G;y*=C;w=C*G;w=Math.max(Math.abs(D+w),Math.abs(D-w))+31>>5<<5;C=~~Math.max(Math.abs(f+
y),Math.abs(f-y))}else w=w+31>>5<<5;C>B&&(B=C);2048<=a+w&&(a=0,p+=B,B=0);if(2048<=p+C)break;g.translate((a+(w>>1))/r,(p+(C>>1))/r);b.rotate&&g.rotate(b.rotate*x);g.fillText(b.text,0,0);b.padding&&(g.lineWidth=2*b.padding,g.strokeText(b.text,0,0));g.restore();b.width=w;b.height=C;b.xoff=a;b.yoff=p;b.x1=w>>1;b.y1=C>>1;b.x0=-b.x1;b.y0=-b.y1;b.hasText=!0;a+=w}h=g.getImageData(0,0,2048/r,2048/r).data;for(D=[];0<=--l;)if(b=d[l],b.hasText){w=b.width;g=w>>5;C=b.y1-b.y0;for(r=0;r<C*g;r++)D[r]=0;a=b.xoff;if(null==
a)break;p=b.yoff;f=0;G=-1;for(B=0;B<C;B++){for(r=0;r<w;r++)y=h[2048*(p+B)+(a+r)<<2]?1<<31-r%32:0,D[g*B+(r>>5)]|=y,f|=y;f?G=B:(b.y0++,C--,B--,p++)}b.y1=b.y0+G;b.sprite=D.slice(0,(b.y1-b.y0)*g)}}}function W(a,b){var d=a[0];a=a[1];b.x+b.x0<d.x&&(d.x=b.x+b.x0);b.y+b.y0<d.y&&(d.y=b.y+b.y0);b.x+b.x1>a.x&&(a.x=b.x+b.x1);b.y+b.y1>a.y&&(a.y=b.y+b.y1)}function M(a){var b=a[0]/a[1];return function(a){return[b*(a*=.1)*Math.cos(a),a*Math.sin(a)]}}function N(a){for(var b=[],d=-1;++d<a;)b[d]=0;return b}function Z(a){return"function"===
typeof a?a:function(){return a}}function G(a){d.Transform.call(this,z(),a)}var x=Math.PI/180,D={archimedean:M,rectangular:function(a){var b=4*a[0]/a[1],d=0,l=0;return function(a){var g=0>a?-1:1;switch(Math.sqrt(1+4*g*a)-g&3){case 0:d+=b;break;case 1:l+=4;break;case 2:d-=b;break;default:l-=4}return[d,l]}}},S="x y font fontSize fontStyle fontWeight angle".split(" "),C="text font rotate fontSize fontStyle fontWeight".split(" ");G.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",
type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,"default":"sans-serif"},{name:"fontStyle",type:"string",expr:!0,"default":"normal"},{name:"fontWeight",type:"string",expr:!0,"default":"normal"},{name:"fontSize",type:"number",expr:!0,"default":14},{name:"fontSizeRange",type:"number",array:"nullable","default":[10,50]},{name:"rotate",type:"number",expr:!0,"default":0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",
expr:!0},{name:"as",type:"string",array:!0,length:7,"default":S}]};w.inherits(G,d.Transform).transform=function(a,b){function d(d){d=a[d];return w.isFunction(d)&&b.modified(d.fields)}!a.size||a.size[0]&&a.size[1]||w.error("Wordcloud size dimensions must be non-zero.");var g=a.modified();if(g||b.changed(b.ADD_REM)||C.some(d)){var r=b.materialize(b.SOURCE).source,x=this.value,p=a.as||S,G=a.fontSize||14,h;w.isFunction(G)?h=a.fontSizeRange:G=w.constant(G);if(h){var D=G,z=y.scale("sqrt")().domain(w.extent(r,
D)).range(h);G=function(a){return z(D(a))}}r.forEach(function(a){a[p[0]]=NaN;a[p[1]]=NaN;a[p[3]]=0});r=x.words(r).text(a.text).size(a.size||[500,500]).padding(a.padding||1).spiral(a.spiral||"archimedean").rotate(a.rotate||0).font(a.font||"sans-serif").fontStyle(a.fontStyle||"normal").fontWeight(a.fontWeight||"normal").fontSize(G).random(l.random).layout();G=x.size();x=G[0]>>1;G=G[1]>>1;h=0;for(var P=r.length,E,M;h<P;++h)E=r[h],M=E.datum,M[p[0]]=E.x+x,M[p[1]]=E.y+G,M[p[2]]=E.font,M[p[3]]=E.size,M[p[4]]=
E.style,M[p[5]]=E.weight,M[p[6]]=E.rotate;return b.reflow(g).modifies(p)}};a.wordcloud=G;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[42]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z,y(3),y(14),y(0)):"function"===typeof define&&define.amd?define(["exports","d3-array","vega-dataflow","vega-util"],b):(a=a||self,b((a.vega=a.vega||{},a.vega.transforms={}),a.d3,a.vega,a.vega))})(this,function(a,b,d,w){function y(a){return new Uint8Array(a)}function l(a){return new Uint16Array(a)}function z(a){return new Uint32Array(a)}function E(){var a=8,b=[],d=z(0),g=W(0,a),l=W(0,a);return{data:function(){return b},
seen:function(){var a=d;var g=b.length;a.length>=g||(g=new a.constructor(g),g.set(a),a=g);return d=a},add:function(a){for(var d=0,g=b.length,l=a.length,r;d<l;++d)r=a[d],r._index=g++,b.push(r)},remove:function(a,d){var r=b.length;a=Array(r-a);var p=b,u,h;for(u=0;!d[u]&&u<r;++u)a[u]=b[u],p[u]=u;for(h=u;u<r;++u){var x=b[u];d[u]?p[u]=-1:(p[u]=h,g[h]=g[u],l[h]=l[u],a[h]=x,x._index=h++);g[u]=0}b=a;return p},size:function(){return b.length},curr:function(){return g},prev:function(){return l},reset:function(a){l[a]=
g[a]},all:function(){return 257>a?255:65537>a?65535:4294967295},set:function(a,b){g[a]|=b},clear:function(a,b){g[a]&=~b},resize:function(b,d){if(b>g.length||d>a)a=Math.max(d,a),g=W(b,a,g),l=W(b,a)}}}function W(a,b,d){a=(257>b?y:65537>b?l:z)(a);d&&a.set(d);return a}function M(a,b,d){var g=1<<b;return{one:g,zero:~g,range:d.slice(),bisect:a.bisect,index:a.index,size:a.size,onAdd:function(a,b){var d=this.bisect(this.range,a.value);a=a.index;var l=d[0];d=d[1];var p=a.length,r;for(r=0;r<l;++r)b[a[r]]|=
g;for(r=d;r<p;++r)b[a[r]]|=g;return this}}}function N(){var a=z(0),d=[],l=0;return{insert:function(b,r,x){if(!r.length)return[];var g=l,w=r.length,p=Array(w),B=z(w),h;for(h=0;h<w;++h)p[h]=b(r[h]),B[h]=h;p=Z(p,B);if(g){b=d;r=a;d=Array(g+w);a=z(g+w);h=p;var C=d,G=a,y=0,D=0,S;for(S=0;y<g&&D<w;++S)b[y]<h[D]?(C[S]=b[y],G[S]=r[y++]):(C[S]=h[D],G[S]=B[D++]+x);for(;y<g;++y,++S)C[S]=b[y],G[S]=r[y];for(;D<w;++D,++S)C[S]=h[D],G[S]=B[D]+x}else{if(0<x)for(h=0;h<w;++h)B[h]+=x;d=p;a=B}l=g+w;return{index:B,value:p}},
remove:function(b,r){var g=l,u,x,p;for(x=0;!r[a[x]]&&x<g;++x);for(p=x;x<g;++x)r[u=a[x]]||(a[p]=u,d[p]=d[x],++p);l=g-b},bisect:function(a,r){if(r)var g=r.length;else r=d,g=l;return[b.bisectLeft(r,a[0],0,g),b.bisectRight(r,a[1],0,g)]},reindex:function(b){for(var d=0,g=l;d<g;++d)a[d]=b[a[d]]},index:function(){return a},size:function(){return l}}}function Z(a,d){a.sort.call(d,function(b,d){b=a[b];d=a[d];return b<d?-1:b>d?1:0});return b.permute(a,d)}function G(a){d.Transform.call(this,E(),a);this._dims=
this._indices=null}function x(a){d.Transform.call(this,null,a)}G.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};var D=w.inherits(G,d.Transform);D.transform=function(a,b){return this._dims?a.modified("fields")||a.fields.some(function(a){return b.modified(a.fields)})?this.reinit(a,b):this.eval(a,b):this.init(a,b)};D.init=function(a,b){for(var d=a.fields,
g=a.query,l=this._indices={},x=this._dims=[],u=g.length,w=0,p;w<u;++w)p=d[w].fname,p=l[p]||(l[p]=N()),x.push(M(p,w,g[w]));return this.eval(a,b)};D.reinit=function(a,b){var d=b.materialize().fork(),g=a.fields,l=a.query,x=this._indices,u=this._dims,w=this.value,p=w.curr(),C=w.prev(),h=w.all(),G=d.rem=d.add,y=d.mod,D=l.length,z={},P,f,c;C.set(p);b.rem.length&&(c=this.remove(a,b,d));b.add.length&&w.add(b.add);if(b.mod.length){var S={};var m=b.mod;var e=0;for(f=m.length;e<f;++e)S[m[e]._index]=1}for(e=
0;e<D;++e){var ea=g[e];if(!u[e]||a.modified("fields",e)||b.modified(ea.fields))f=ea.fname,(m=z[f])||(x[f]=P=N(),z[f]=m=P.insert(ea,b.source,0)),u[e]=M(P,e,l[e]).onAdd(m,p)}e=0;for(f=w.data().length;e<f;++e)c[e]||(C[e]!==p[e]?G.push(e):S[e]&&p[e]!==h&&y.push(e));w.mask=(1<<D)-1;return d};D.eval=function(a,b){var d=b.materialize().fork(),g=this._dims.length,l=0;b.rem.length&&(this.remove(a,b,d),l|=(1<<g)-1);a.modified("query")&&!a.modified("fields")&&(l|=this.update(a,b,d));b.add.length&&(this.insert(a,
b,d),l|=(1<<g)-1);b.mod.length&&(this.modify(b,d),l|=(1<<g)-1);this.value.mask=l;return d};D.insert=function(a,b,d){b=b.add;var g=this.value,l=this._dims,r=this._indices;a=a.fields;var u={};d=d.add;var x=g.size(),p=x+b.length,w=l.length;g.resize(p,w);g.add(b);var h=g.curr(),C=g.prev(),G=g.all();for(g=0;g<w;++g){var y=a[g].fname;y=u[y]||(u[y]=r[y].insert(a[g],b,x));l[g].onAdd(y,h)}for(;x<p;++x)C[x]=G,h[x]!==G&&d.push(x)};D.modify=function(a,b){b=b.mod;var d=this.value,g=d.curr();d=d.all();a=a.mod;
var l;var x=0;for(l=a.length;x<l;++x){var u=a[x]._index;g[u]!==d&&b.push(u)}};D.remove=function(a,b,d){a=this._indices;var g=this.value,l=g.curr(),r=g.prev();g=g.all();var u={};d=d.rem;var x=b.rem,p,w;var h=0;for(p=x.length;h<p;++h){var C=x[h]._index;u[C]=1;r[C]=w=l[C];l[C]=g;w!==g&&d.push(C)}for(C in a)a[C].remove(p,u);this.reindex(b,p,u);return u};D.reindex=function(a,b,d){var g=this._indices,l=this.value;a.runAfter(function(){var a=l.remove(b,d),r;for(r in g)g[r].reindex(a)})};D.update=function(a,
b,d){var g=this._dims,l=a.query;b=b.stamp;var r=g.length,u=0,x;for(x=d.filters=0;x<r;++x)if(a.modified("query",x)){var p=x;++u}if(1===u)u=g[p].one,this.incrementOne(g[p],l[p],d.add,d.rem);else for(u=x=0;x<r;++x)a.modified("query",x)&&(u|=g[x].one,this.incrementAll(g[x],l[x],b,d.add),d.rem=d.add);return u};D.incrementAll=function(a,b,d,g){var l=this.value,r=l.seen(),u=l.curr();l=l.prev();var x=a.index(),p=a.bisect(a.range),w=a.bisect(b),h=w[0];w=w[1];var C=p[0];p=p[1];var G=a.one,y;if(h<C){var D=h;
for(y=Math.min(C,w);D<y;++D){var z=x[D];r[z]!==d&&(l[z]=u[z],r[z]=d,g.push(z));u[z]^=G}}else if(h>C)for(D=C,y=Math.min(h,p);D<y;++D)z=x[D],r[z]!==d&&(l[z]=u[z],r[z]=d,g.push(z)),u[z]^=G;if(w>p)for(D=Math.max(h,p),y=w;D<y;++D)z=x[D],r[z]!==d&&(l[z]=u[z],r[z]=d,g.push(z)),u[z]^=G;else if(w<p)for(D=Math.max(C,w),y=p;D<y;++D)z=x[D],r[z]!==d&&(l[z]=u[z],r[z]=d,g.push(z)),u[z]^=G;a.range=b.slice()};D.incrementOne=function(a,b,d,g){var l=this.value.curr(),r=a.index(),u=a.bisect(a.range),x=a.bisect(b),p=
x[0];x=x[1];var w=u[0];u=u[1];var h=a.one,C;if(p<w){var G=p;for(C=Math.min(w,x);G<C;++G){var y=r[G];l[y]^=h;d.push(y)}}else if(p>w)for(G=w,C=Math.min(p,u);G<C;++G)y=r[G],l[y]^=h,g.push(y);if(x>u)for(G=Math.max(p,u),C=x;G<C;++G)y=r[G],l[y]^=h,d.push(y);else if(x<u)for(G=Math.max(w,x),C=u;G<C;++G)y=r[G],l[y]^=h,g.push(y);a.range=b.slice()};x.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",
type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};w.inherits(x,d.Transform).transform=function(a,b){var d=~(a.ignore||0);a=a.filter;var g=a.mask;if(0===(g&d))return b.StopPropagation;b=b.fork(b.ALL);var l=a.data(),x=a.curr(),u=a.prev(),w=function(a){return x[a]&d?null:l[a]};b.filter(b.MOD,w);g&g-1?(b.filter(b.ADD,function(a){var b=x[a]&d;return!b&&b^u[a]&d?l[a]:null}),b.filter(b.REM,function(a){var b=x[a]&d;return!b||b^b^u[a]&d?null:l[a]})):(b.filter(b.ADD,
w),b.filter(b.REM,function(a){return(x[a]&d)===g?l[a]:null}));return b.filter(b.SOURCE,function(a){return w(a._index)})};a.crossfilter=G;a.resolvefilter=x;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[43]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z,y(0)):"function"===typeof define&&define.amd?define(["exports","vega-util"],b):(a=a||self,b(a.vega={},a.vega))})(this,function(a,b){function d(a){this.type=a}function w(a){switch(a.type){case "ArrayExpression":return a.elements;case "BinaryExpression":case "LogicalExpression":return[a.left,a.right];case "CallExpression":var b=a.arguments.slice();b.unshift(a.callee);return b;case "ConditionalExpression":return[a.test,
a.consequent,a.alternate];case "MemberExpression":return[a.object,a.property];case "ObjectExpression":return a.properties;case "Property":return[a.key,a.value];case "UnaryExpression":return[a.argument];default:return[]}}function y(a,b){if(!a)throw Error("ASSERT: "+b);}function l(a){return 48<=a&&57>=a}function z(a){return 0<="0123456789abcdefABCDEF".indexOf(a)}function E(a){return 0<="01234567".indexOf(a)}function W(a){return 10===a||13===a||8232===a||8233===a}function M(a){return 36===a||95===a||
65<=a&&90>=a||97<=a&&122>=a||92===a||128<=a&&Va.test(String.fromCharCode(a))}function N(a){return 36===a||95===a||65<=a&&90>=a||97<=a&&122>=a||48<=a&&57>=a||92===a||128<=a&&tb.test(String.fromCharCode(a))}function Z(){for(var a;X<Wa;)if(a=ka.charCodeAt(X),32===a||9===a||11===a||12===a||160===a||5760<=a&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(a)||W(a))++X;else break}function G(a){var b=0;var c="u"===a?4:2;for(a=0;a<c;++a)if(X<Wa&&z(ka[X])){var d=
ka[X++];b=16*b+"0123456789abcdef".indexOf(d.toLowerCase())}else h({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(b)}function x(){var a=ka.charCodeAt(X++);var b=String.fromCharCode(a);92===a&&(117!==ka.charCodeAt(X)&&h({},"Unexpected token %0","ILLEGAL"),++X,(a=G("u"))&&"\\"!==a&&M(a.charCodeAt(0))||h({},"Unexpected token %0","ILLEGAL"),b=a);for(;X<Wa;){a=ka.charCodeAt(X);if(!N(a))break;++X;b+=String.fromCharCode(a);92===a&&(b=b.substr(0,b.length-1),117!==ka.charCodeAt(X)&&h({},"Unexpected token %0",
"ILLEGAL"),++X,(a=G("u"))&&"\\"!==a&&N(a.charCodeAt(0))||h({},"Unexpected token %0","ILLEGAL"),b+=a)}return b}function D(){var a=X,b=ka.charCodeAt(X),c=ka[X];switch(b){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++X,{type:7,value:String.fromCharCode(b),start:a,end:X};default:var d=ka.charCodeAt(X+1);if(61===d)switch(b){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return X+=2,{type:7,value:String.fromCharCode(b)+
String.fromCharCode(d),start:a,end:X};case 33:case 61:return X+=2,61===ka.charCodeAt(X)&&++X,{type:7,value:ka.slice(a,X),start:a,end:X}}}b=ka.substr(X,4);if("\x3e\x3e\x3e\x3d"===b)return X+=4,{type:7,value:b,start:a,end:X};b=b.substr(0,3);if("\x3e\x3e\x3e"===b||"\x3c\x3c\x3d"===b||"\x3e\x3e\x3d"===b)return X+=3,{type:7,value:b,start:a,end:X};b=b.substr(0,2);if(c===b[1]&&0<="+-\x3c\x3e\x26|".indexOf(c)||"\x3d\x3e"===b)return X+=2,{type:7,value:b,start:a,end:X};if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(c))return++X,
{type:7,value:c,start:a,end:X};h({},"Unexpected token %0","ILLEGAL")}function S(){var a=ka[X];y(l(a.charCodeAt(0))||"."===a,"Numeric literal must start with a decimal digit or a decimal point");var b=X;var c="";if("."!==a){c=ka[X++];a=ka[X];if("0"===c){if("x"===a||"X"===a){++X;for(c="";X<Wa&&z(ka[X]);)c+=ka[X++];0===c.length&&h({},"Unexpected token %0","ILLEGAL");M(ka.charCodeAt(X))&&h({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt("0x"+c,16),start:b,end:X}}if(E(a)){for(c="0"+ka[X++];X<
Wa&&E(ka[X]);)c+=ka[X++];(M(ka.charCodeAt(X))||l(ka.charCodeAt(X)))&&h({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt(c,8),octal:!0,start:b,end:X}}a&&l(a.charCodeAt(0))&&h({},"Unexpected token %0","ILLEGAL")}for(;l(ka.charCodeAt(X));)c+=ka[X++];a=ka[X]}if("."===a){for(c+=ka[X++];l(ka.charCodeAt(X));)c+=ka[X++];a=ka[X]}if("e"===a||"E"===a){c+=ka[X++];a=ka[X];if("+"===a||"-"===a)c+=ka[X++];if(l(ka.charCodeAt(X)))for(;l(ka.charCodeAt(X));)c+=ka[X++];else h({},"Unexpected token %0",
"ILLEGAL")}M(ka.charCodeAt(X))&&h({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(c),start:b,end:X}}function C(a,b){var c=a;0<=b.indexOf("u")&&(c=c.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(a,b){if(1114111>=parseInt(b,16))return"x";h({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(c)}catch(n){h({},"Invalid regular expression")}try{return new RegExp(a,b)}catch(n){return null}}function r(){Z();if(X>=Wa)return{type:2,start:X,end:X};
var a=ka.charCodeAt(X);if(M(a)){a=X;if(92===ka.charCodeAt(X))var b=x();else a:{for(b=X++;X<Wa;){var c=ka.charCodeAt(X);if(92===c){X=b;b=x();break a}if(N(c))++X;else break}b=ka.slice(b,X)}return{type:1===b.length?3:ib.hasOwnProperty(b)?4:"null"===b?5:"true"===b||"false"===b?1:3,value:b,start:a,end:X}}if(40===a||41===a||59===a)return D();if(39===a||34===a){var d="";c=!1;a=ka[X];y("'"===a||'"'===a,"String literal must starts with a quote");b=X;for(++X;X<Wa;){var e=ka[X++];if(e===a){a="";break}else if("\\"===
e)if((e=ka[X++])&&W(e.charCodeAt(0)))"\r"===e&&"\n"===ka[X]&&++X;else switch(e){case "u":case "x":if("{"===ka[X]){++X;var f=ka[X];e=0;for("}"===f&&h({},"Unexpected token %0","ILLEGAL");X<Wa;){f=ka[X++];if(!z(f))break;e=16*e+"0123456789abcdef".indexOf(f.toLowerCase())}(1114111<e||"}"!==f)&&h({},"Unexpected token %0","ILLEGAL");e=65535>=e?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320);d+=e}else d+=G(e);break;case "n":d+="\n";break;case "r":d+="\r";break;case "t":d+=
"\t";break;case "b":d+="\b";break;case "f":d+="\f";break;case "v":d+="\x0B";break;default:E(e)?(f="01234567".indexOf(e),0!==f&&(c=!0),X<Wa&&E(ka[X])&&(c=!0,f=8*f+"01234567".indexOf(ka[X++]),0<="0123".indexOf(e)&&X<Wa&&E(ka[X])&&(f=8*f+"01234567".indexOf(ka[X++]))),d+=String.fromCharCode(f)):d+=e}else if(W(e.charCodeAt(0)))break;else d+=e}""!==a&&h({},"Unexpected token %0","ILLEGAL");return{type:8,value:d,octal:c,start:b,end:X}}return 46===a?l(ka.charCodeAt(X+1))?S():D():l(a)?S():D()}function g(){var a=
wa;X=a.end;wa=r();X=a.end;return a}function R(){var a=X;wa=r();X=a}function B(a,b,c){var e=new d("||"===a||"\x26\x26"===a?"LogicalExpression":"BinaryExpression");e.operator=a;e.left=b;e.right=c;return e}function u(a){var b=new d("Identifier");b.name=a;return b}function U(a){var b=new d("Literal");b.value=a.value;b.raw=ka.slice(a.start,a.end);a.regex&&("//"===b.raw&&(b.raw="/(?:)/"),b.regex=a.regex);return b}function p(a,b,c){var e=new d("MemberExpression");e.computed="["===a;e.object=b;e.property=
c;e.computed||(c.member=!0);return e}function J(a,b,c){var e=new d("Property");e.key=b;e.value=c;e.kind=a;return e}function h(a,b){var c=Array.prototype.slice.call(arguments,2),d=b.replace(/%(\d)/g,function(a,b){y(b<c.length,"Message reference must be in range");return c[b]});var e=Error(d);e.index=X;e.description=d;throw e;}function T(a){2===a.type&&h(a,"Unexpected end of input");6===a.type&&h(a,"Unexpected number");8===a.type&&h(a,"Unexpected string");3===a.type&&h(a,"Unexpected identifier");4===
a.type&&h(a,"Unexpected reserved word");h(a,"Unexpected token %0",a.value)}function O(a){var b=g();7===b.type&&b.value===a||T(b)}function fa(a){return 7===wa.type&&wa.value===a}function qa(){X=wa.start;var a=g();return 8===a.type||6===a.type?(a.octal&&h(a,"Octal literals are not allowed in strict mode."),U(a)):u(a.value)}function ua(){if(fa("(")){O("(");var a=e();O(")");return a}if(fa("[")){a=[];X=wa.start;for(O("[");!fa("]");)fa(",")?(g(),a.push(null)):(a.push(m()),fa("]")||O(","));g();var b=new d("ArrayExpression");
b.elements=a;return b}if(fa("{")){a=[];b={};var c=String;X=wa.start;for(O("{");!fa("}");){X=wa.start;var f=wa;if(3===f.type){var l=qa();O(":");f=m();f=J("init",l,f)}else 2===f.type||7===f.type?(T(f),f=void 0):(l=qa(),O(":"),f=m(),f=J("init",l,f));l="Identifier"===f.key.type?f.key.name:c(f.key.value);l="$"+l;Object.prototype.hasOwnProperty.call(b,l)?h({},"Duplicate data property in object literal not allowed in strict mode"):b[l]=!0;a.push(f);fa("}")||O(",")}O("}");b=new d("ObjectExpression");b.properties=
a;return b}a=wa.type;X=wa.start;if(3===a||da[wa.value])b=u(g().value);else if(8===a||6===a)wa.octal&&h(wa,"Octal literals are not allowed in strict mode."),b=U(g());else{if(4===a)throw Error("Disabled.");if(1===a)a=g(),a.value="true"===a.value,b=U(a);else if(5===a)a=g(),a.value=null,b=U(a);else if(fa("/")||fa("/\x3d")){var p;wa=null;Z();a=X;b=ka[X];y("/"===b,"Regular expression literal must start with a slash");c=ka[X++];for(l=f=!1;X<Wa;)if(b=ka[X++],c+=b,"\\"===b)b=ka[X++],W(b.charCodeAt(0))&&h({},
"Invalid regular expression: missing /"),c+=b;else if(W(b.charCodeAt(0)))h({},"Invalid regular expression: missing /");else if(f)"]"===b&&(f=!1);else if("/"===b){l=!0;break}else"["===b&&(f=!0);l||h({},"Invalid regular expression: missing /");b=c.substr(1,c.length-2);for(p=l="";X<Wa;){f=ka[X];if(!N(f.charCodeAt(0)))break;++X;"\\"===f&&X<Wa?h({},"Unexpected token %0","ILLEGAL"):(p+=f,l+=f)}0<=p.search(/[^gimuy]/g)&&h({},"Invalid regular expression",p);f=p;p=C(b,f);b=U({literal:c+l,value:p,regex:{pattern:b,
flags:f},start:a,end:X});R()}else T(g())}return b}function f(){var a;for(a=ua();;)if(fa(".")){O(".");X=wa.start;var b=g();3===b.type||4===b.type||1===b.type||5===b.type||T(b);b=u(b.value);a=p(".",a,b)}else if(fa("(")){b=[];O("(");if(!fa(")"))for(;X<Wa;){b.push(m());if(fa(")"))break;O(",")}O(")");var c=new d("CallExpression");c.callee=a;c.arguments=b;a=c}else if(fa("["))O("["),b=e(),O("]"),a=p("[",a,b);else break;if(7===wa.type&&(fa("++")||fa("--")))throw Error("Disabled.");return a}function c(){if(7!==
wa.type&&4!==wa.type)var a=f();else{if(fa("++")||fa("--"))throw Error("Disabled.");if(fa("+")||fa("-")||fa("~")||fa("!")){var b=g();a=c();b=b.value;var e=new d("UnaryExpression");e.operator=b;e.argument=a;e.prefix=!0;a=e}else{if(4===wa.type&&"delete"===wa.value||4===wa.type&&"void"===wa.value||4===wa.type&&"typeof"===wa.value)throw Error("Disabled.");a=f()}}return a}function K(a){var b=0;if(7!==a.type&&4!==a.type)return 0;switch(a.value){case "||":b=1;break;case "\x26\x26":b=2;break;case "|":b=3;
break;case "^":b=4;break;case "\x26":b=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":b=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":b=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":b=8;break;case "+":case "-":b=9;break;case "*":case "/":case "%":b=11}return b}function m(){var a=wa;var b=c();var e=wa;var f=K(e);if(0===f)var h=b;else{e.prec=f;g();a=[a,wa];var l=c();for(h=[b,e,l];0<(f=K(wa));){for(;2<h.length&&f<=
h[h.length-2].prec;)l=h.pop(),e=h.pop().value,b=h.pop(),a.pop(),b=B(e,b,l),h.push(b);e=g();e.prec=f;h.push(e);a.push(wa);b=c();h.push(b)}f=h.length-1;b=h[f];for(a.pop();1<f;)a.pop(),b=B(h[f-1].value,h[f-2],b),f-=2;h=b}fa("?")&&(g(),a=m(),O(":"),f=m(),b=new d("ConditionalExpression"),b.test=h,b.consequent=a,b.alternate=f,h=b);return h}function e(){var a=m();if(fa(","))throw Error("Disabled.");return a}function ea(a){function c(b,c,d){return function(e){var f=a(e[0]);c&&(f=c+"("+f+")",0===c.lastIndexOf("new ",
0)&&(f="("+f+")"));return f+"."+b+(0>d?"":0===d?"()":"("+e.slice(1).map(a).join(",")+")")}}return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(c){3>c.length&&b.error("Missing arguments to clamp function.");
3<c.length&&b.error("Too many arguments to clamp function.");c=c.map(a);return"Math.max("+c[1]+", Math.min("+c[2]+","+c[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:"new Date",date:c("getDate","new Date",0),day:c("getDay","new Date",0),year:c("getFullYear","new Date",0),month:c("getMonth","new Date",0),hours:c("getHours","new Date",0),minutes:c("getMinutes","new Date",0),seconds:c("getSeconds","new Date",0),milliseconds:c("getMilliseconds","new Date",0),time:c("getTime","new Date",0),timezoneoffset:c("getTimezoneOffset",
"new Date",0),utcdate:c("getUTCDate","new Date",0),utcday:c("getUTCDay","new Date",0),utcyear:c("getUTCFullYear","new Date",0),utcmonth:c("getUTCMonth","new Date",0),utchours:c("getUTCHours","new Date",0),utcminutes:c("getUTCMinutes","new Date",0),utcseconds:c("getUTCSeconds","new Date",0),utcmilliseconds:c("getUTCMilliseconds","new Date",0),length:c("length",null,-1),join:c("join",null),indexof:c("indexOf",null),lastindexof:c("lastIndexOf",null),slice:c("slice",null),reverse:function(b){return"("+
a(b[0])+").slice().reverse()"},parseFloat:"parseFloat",parseInt:"parseInt",upper:c("toUpperCase","String",0),lower:c("toLowerCase","String",0),substring:c("substring","String"),split:c("split","String"),replace:c("replace","String"),trim:c("trim","String",0),regexp:"RegExp",test:c("test","RegExp"),if:function(c){3>c.length&&b.error("Missing arguments to if function.");3<c.length&&b.error("Too many arguments to if function.");c=c.map(a);return"("+c[0]+"?"+c[1]+":"+c[2]+")"}}}d.prototype.visit=function(a){var b;
if(a(this))return 1;var c=w(this);var d=0;for(b=c.length;d<b;++d)if(c[d].visit(a))return 1};var ka,X,Wa,wa,Va=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
tb=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
ib={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},da={"if":1},Oa={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",
LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};a.ASTNode=d;a.ArrayExpression="ArrayExpression";a.BinaryExpression="BinaryExpression";a.CallExpression="CallExpression";a.ConditionalExpression="ConditionalExpression";a.Identifier="Identifier";a.Literal="Literal";a.LogicalExpression="LogicalExpression";a.MemberExpression="MemberExpression";a.ObjectExpression="ObjectExpression";a.Property="Property";
a.RawCode="RawCode";a.UnaryExpression="UnaryExpression";a.codegen=function(a){function c(a){if(b.isString(a))return a;var c=x[a.type];null==c&&b.error("Unsupported type: "+a.type);return c(a)}function d(a){a={code:c(a),globals:Object.keys(p),fields:Object.keys(r)};p={};r={};return a}a=a||{};var e=a.whitelist?b.toSet(a.whitelist):{},f=a.blacklist?b.toSet(a.blacklist):{},g=a.constants||Oa,h=(a.functions||ea)(c),l=a.globalvar,m=a.fieldvar,p={},r={},t=0,u=b.isFunction(l)?l:function(a){return l+'["'+a+
'"]'},x={Literal:function(a){return a.raw},Identifier:function(a){a=a.name;if(0<t)return a;if(b.hasOwnProperty(f,a))return b.error("Illegal identifier: "+a);if(b.hasOwnProperty(g,a))return g[a];if(b.hasOwnProperty(e,a))return a;p[a]=1;return u(a)},MemberExpression:function(a){var b=!a.computed,d=c(a.object);b&&(t+=1);a=c(a.property);if(d===m){var e=r;var f=(f=a&&a.length-1)&&('"'===a[0]&&'"'===a[f]||"'"===a[0]&&"'"===a[f])?a.slice(1,-1):a;e[f]=1}b&&--t;return d+(b?"."+a:"["+a+"]")},CallExpression:function(a){"Identifier"!==
a.callee.type&&b.error("Illegal callee type: "+a.callee.type);var d=a.callee.name;a=a.arguments;var e=b.hasOwnProperty(h,d)&&h[d];e||b.error("Unrecognized function: "+d);return b.isFunction(e)?e(a):e+"("+a.map(c).join(",")+")"},ArrayExpression:function(a){return"["+a.elements.map(c).join(",")+"]"},BinaryExpression:function(a){return"("+c(a.left)+a.operator+c(a.right)+")"},UnaryExpression:function(a){return"("+a.operator+c(a.argument)+")"},ConditionalExpression:function(a){return"("+c(a.test)+"?"+
c(a.consequent)+":"+c(a.alternate)+")"},LogicalExpression:function(a){return"("+c(a.left)+a.operator+c(a.right)+")"},ObjectExpression:function(a){return"{"+a.properties.map(c).join(",")+"}"},Property:function(a){t+=1;var b=c(a.key);--t;return b+":"+c(a.value)}};d.functions=h;d.constants=g;return d};a.constants=Oa;a.functions=ea;a.parse=function(a){ka=a;X=0;Wa=ka.length;wa=null;R();a=e();if(2!==wa.type)throw Error("Unexpect token after expression.");return a};Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[44]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z,y(0),y(43)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-expression"],b):(a=a||self,b(a.vega={},a.vega,a.vega))})(this,function(a,b,d){function w(a,d){var l=d.fields;d=d.values;for(var w=l.length,y=0,z,P;y<w;++y)if(P=l[y],P.getter=b.field.getter||b.field(P.field),z=P.getter(a),b.isDate(z)&&(z=b.toNumber(z)),b.isDate(d[y])&&(d[y]=b.toNumber(d[y])),b.isDate(d[y][0])&&(d[y]=
d[y].map(b.toNumber)),"E"===P.type){if(b.isArray(d[y])?0>d[y].indexOf(z):z!==d[y])return!1}else if("R"===P.type){if(!b.inrange(z,d[y]))return!1}else if("R-RE"===P.type){if(!b.inrange(z,d[y],!0,!1))return!1}else if("R-E"===P.type){if(!b.inrange(z,d[y],!1,!1))return!1}else if("R-LE"===P.type&&!b.inrange(z,d[y],!1,!0))return!1;return!0}var y={E_union:function(a,b){if(!a.length)return b;for(var d=0,l=b.length;d<l;++d)0>a.indexOf(b[d])&&a.push(b[d]);return a},E_intersect:function(a,b){return a.length?
a.filter(function(a){return 0<=b.indexOf(a)}):b},R_union:function(a,d){var l=b.toNumber(d[0]),w=b.toNumber(d[1]);l>w&&(l=d[1],w=d[0]);if(!a.length)return[l,w];a[0]>l&&(a[0]=l);a[1]<w&&(a[1]=w);return a},R_intersect:function(a,d){var l=b.toNumber(d[0]),w=b.toNumber(d[1]);l>w&&(l=d[1],w=d[0]);if(!a.length)return[l,w];if(w<a[0]||a[1]<l)return[];a[0]<l&&(a[0]=l);a[1]>w&&(a[1]=w);return a}};a.selectionResolve=function(a,d,w){a=(a=this.context.data[a])?a.values.value:[];for(var l={},z={},E={},P,G,x,D,S,
C,r=a.length,g=0,R,B;g<r;++g){P=a[g];x=P.unit;G=P.fields;P=P.values;R=0;for(B=G.length;R<B;++R)D=G[R],S=l[D.field]||(l[D.field]={}),C=S[x]||(S[x]=[]),E[D.field]=D=D.type.charAt(0),D=y[D+"_union"],S[x]=D(C,b.array(P[R]));w&&(C=z[x]||(z[x]=[]),C.push(b.array(P).reduce(function(a,b,d){return a[G[d].field]=b,a},{})))}d=d||"union";Object.keys(l).forEach(function(a){l[a]=Object.keys(l[a]).map(function(b){return l[a][b]}).reduce(function(b,g){return void 0===b?g:y[E[a]+"_"+d](b,g)})});a=Object.keys(z);w&&
a.length&&(w={},x={},l.vlMulti="union"===d?(w.or=a.reduce(function(a,b){return a.push.apply(a,z[b]),a},[]),w):(x.and=a.map(function(a){var b={};return b.or=z[a],b}),x));return l};a.selectionTest=function(a,b,d){var l=this.context.data[a];a=l?l.values.value:[];l=l?l["index:unit"]&&l["index:unit"].value:void 0;d="intersect"===d;for(var y=a.length,z=0,E,G,x,D;z<y;++z)if(E=a[z],l&&d){if(G=G||{},x=G[D=E.unit]||0,-1!==x){E=w(b,E);G[D]=E?-1:++x;if(E&&1===l.size)return!0;if(!E&&x===l.get(D).count)return!1}}else if(E=
w(b,E),d^E)return E;return y&&d};a.selectionVisitor=function(a,w,y,z){w[0].type!==d.Literal&&b.error("First argument to selection functions must be a string literal.");a=w[0].value;w=2<=w.length&&b.peek(w).value;var l=":"+a;"intersect"!==w||b.hasOwnProperty(z,"@unit")||(z["@unit"]=y.getData(a).indataRef(y,"unit"));b.hasOwnProperty(z,l)||(z[l]=y.getData(a).tuplesRef())};Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[45]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z,y(0),y(43),y(27),y(20),y(14),y(23),y(24),y(44),y(15),y(6),y(3)):"function"===typeof define&&define.amd?define("exports vega-util vega-expression d3-geo d3-color vega-dataflow vega-scale vega-scenegraph vega-selections vega-statistics vega-time d3-array".split(" "),b):(a=a||self,b(a.vega={},a.vega,a.vega,a.d3,a.d3,a.vega,a.vega,a.vega,a.vega,a.vega,a.vega,a.d3))})(this,function(a,b,d,w,y,l,z,E,W,M,N,
J){function G(a){return(a=this.context.data[a])?a.values.value:[]}function x(a,b,c){return(c=(a=this.context.data[a]["index:"+b])?a.value.get(c):void 0)?c.count:c}function D(a,c){var d=this.context.dataflow;d.pulse(this.context.data[a].input,d.changeset().remove(b.truthy).insert(c));return 1}function P(a,b,c){if(a){var d=this.context.dataflow;d.pulse(a.mark.source,d.changeset().encode(a,b))}return void 0!==c?c:a}function C(a,b,c){if(!Number.isInteger(a)||!Number.isInteger(b))return"";zb.setYear(2E3);
zb.setMonth(a);zb.setDate(b);return Kb.call(this,zb,c)}function r(a){return C.call(this,a,1,"%B")}function g(a){return C.call(this,a,1,"%b")}function R(a){return C.call(this,0,2+a,"%A")}function B(a){return C.call(this,0,2+a,"%a")}function u(a,c,e,f){c[0].type!==d.Literal&&b.error("First argument to data functions must be a string literal.");a=c[0].value;c=":"+a;if(!b.hasOwnProperty(c,f))try{f[c]=e.getData(a).tuplesRef()}catch(Ic){}}function Z(a,c,e,f){c[0].type!==d.Literal&&b.error("First argument to indata must be a string literal.");
c[1].type!==d.Literal&&b.error("Second argument to indata must be a string literal.");a=c[0].value;c=c[1].value;var g="@"+c;b.hasOwnProperty(g,f)||(f[g]=e.getData(a).indataRef(e,c))}function p(a,b,c,e){if(b[0].type===d.Literal)ca(c,e,b[0].value);else for(a in c.scales)ca(c,e,a)}function ca(a,c,d){var e="%"+d;if(!b.hasOwnProperty(c,e))try{c[e]=a.scaleRef(d)}catch(Ic){}}function h(a,c){var d;return b.isFunction(a)?a:b.isString(a)?(d=c.scales[a])&&d.value:void 0}function T(a,c,e){c.__bandwidth=function(a){return a&&
a.bandwidth?a.bandwidth():0};e._bandwidth=p;e._range=p;e._scale=p;var f=function(c){return"_["+(c.type===d.Literal?b.stringValue("%"+c.value):b.stringValue("%")+"+"+a(c))+"]"};return{_bandwidth:function(a){return"this.__bandwidth("+f(a[0])+")"},_range:function(a){return f(a[0])+".range()"},_scale:function(b){return f(b[0])+"("+a(b[1])+")"}}}function O(a,b){return function(c,d,e){return c?(c=h(c,(e||this).context))&&c.path[a](d):b(d)}}function la(a){var b=this.context.group,c=!1;if(b)for(;a;){if(a===
b){c=!0;break}a=a.mark.group}return c}function Na(a,b,c){try{a[b].apply(a,["EXPRESSION"].concat([].slice.call(c)))}catch(fc){a.warn(fc)}return c[c.length-1]}function ua(){return Na(this.context.dataflow,"warn",arguments)}function f(){return Na(this.context.dataflow,"info",arguments)}function c(){return Na(this.context.dataflow,"debug",arguments)}function K(a){a/=255;return.03928>=a?a/12.92:Math.pow((a+.055)/1.055,2.4)}function m(a){var b=y.rgb(a);a=K(b.r);var c=K(b.g);b=K(b.b);return.2126*a+.7152*
c+.0722*b}function e(a,b){a=m(a);b=m(b);return(Math.max(a,b)+.05)/(Math.min(a,b)+.05)}function ea(){var a=[].slice.call(arguments);a.unshift({});return b.extend.apply(null,a)}function ka(a,c){if(a===c||a!==a&&c!==c)a=!0;else if(b.isArray(a))if(b.isArray(c)&&a.length===c.length)a:{for(var d=0,e=a.length;d<e;++d)if(!ka(a[d],c[d])){a=!1;break a}a=!0}else a=!1;else a=b.isObject(a)&&b.isObject(c)?X(a,c):!1;return a}function X(a,b){for(var c in a)if(!ka(a[c],b[c]))return!1;return!0}function Wa(a){return function(b){return X(a,
b)}}function wa(a,c,d,e,f,g){var h=this.context.dataflow,k=this.context.data[a],m=k.input,n=k.changes;a=h.stamp();var p;if(!1===h._trigger||!(m.value.length||c||e))return 0;if(!n||n.stamp<a)k.changes=n=h.changeset(),n.stamp=a,h.runAfter(function(){k.modified=!0;h.pulse(m,n).run()},!0,1);d&&(d=!0===d?b.truthy:b.isArray(d)||l.isTuple(d)?d:Wa(d),n.remove(d));c&&n.insert(c);e&&(d=Wa(e),m.value.some(d)?n.remove(d):n.insert(e));if(f)for(p in g)n.modify(f,p,g[p]);return 1}function Va(a){var b=a.touches;
a=b[0].clientX-b[1].clientX;b=b[0].clientY-b[1].clientY;return Math.sqrt(a*a+b*b)}function tb(a){a=a.touches;return Math.atan2(a[0].clientY-a[1].clientY,a[0].clientX-a[1].clientX)}function ib(a,b,c){return z.bandSpace(a||0,b||0,c||0)}function da(a,b){return(a=h(a,(b||this).context))&&a.bandwidth?a.bandwidth():0}function Oa(a,b){return(a=h(a,(b||this).context))?a.copy():void 0}function t(a,b){return(a=h(a,(b||this).context))?a.domain():[]}function k(a,c,d){return(a=h(a,(d||this).context))?b.isArray(c)?
(a.invertRange||a.invert)(c):(a.invert||a.invertExtent)(c):void 0}function v(a,b){return(a=h(a,(b||this).context))&&a.range?a.range():[]}function n(a,b,c){return(a=h(a,(c||this).context))?a(b):void 0}function ba(a,c,d,e,f){a=h(a,(f||this).context);var g=E.Gradient(c,d);c=a.domain();d=c[0];f=b.peek(c);var k=b.identity;f-d?k=z.scaleFraction(a,d,f):a=(a.interpolator?z.scale("sequential")().interpolator(a.interpolator()):z.scale("linear")().interpolate(a.interpolate()).range(a.range())).domain([d=0,f=
1]);a.ticks&&(c=a.ticks(+e||15),d!==c[0]&&c.unshift(d),f!==b.peek(c)&&c.push(f));c.forEach(function(b){return g.stop(k(b),a(b))});return g}function sa(a,b,c){var d=h(a,(c||this).context);return function(a){return d?d.path.context(a)(b):""}}function ya(a){var b=null;return function(c){return c?E.pathRender(c,b=b||E.pathParse(a)):a}}function Ka(a,b){a=G.call(b,a);return a.root&&a.root.lookup||{}}function ab(a,b,c){a=Ka(a,this);b=a[b];c=a[c];return b&&c?b.path(c).map(Xb):void 0}function jb(a,b){return(a=
Ka(a,this)[b])?a.ancestors().map(Xb):void 0}function db(){var a="undefined"!==typeof window&&window||null;return a?a.screen:{}}function Ta(){var a="undefined"!==typeof window&&window||null;return a?[a.innerWidth,a.innerHeight]:[void 0,void 0]}function Ha(){var a=this.context.dataflow;return(a=a.container&&a.container())?[a.clientWidth,a.clientHeight]:[void 0,void 0]}function Xa(a){var c=null;if(a){var d=b.array(a.marktype),e=b.array(a.markname);c=function(a){return(!d.length||d.some(function(b){return a.marktype===
b}))&&(!e.length||e.some(function(b){return a.name===b}))}}return c}function va(a,b,c){if(1===arguments.length)return Yb[a];Yb[a]=b;c&&(tc[a]=c);Pa&&(Pa.functions[a]="this."+a);return this}var Db=function(a){return function(b,c){return this.context.dataflow.locale()[a](c)(b)}},Ra=Db("format"),Kb=Db("timeFormat"),cb=Db("utcFormat"),wb=Db("timeParse");Db=Db("utcParse");var zb=new Date(2E3,0,1),Ja=O("area",w.geoArea),Ya=O("bounds",w.geoBounds);w=O("centroid",w.geoCentroid);var Xb=function(a){return a.data},
Yb={random:function(){return M.random()},cumulativeNormal:M.cumulativeNormal,cumulativeLogNormal:M.cumulativeLogNormal,cumulativeUniform:M.cumulativeUniform,densityNormal:M.densityNormal,densityLogNormal:M.densityLogNormal,densityUniform:M.densityUniform,quantileNormal:M.quantileNormal,quantileLogNormal:M.quantileLogNormal,quantileUniform:M.quantileUniform,sampleNormal:M.sampleNormal,sampleLogNormal:M.sampleLogNormal,sampleUniform:M.sampleUniform,isArray:b.isArray,isBoolean:b.isBoolean,isDate:b.isDate,
isDefined:function(a){return void 0!==a},isNumber:b.isNumber,isObject:b.isObject,isRegExp:b.isRegExp,isString:b.isString,isTuple:l.isTuple,isValid:function(a){return null!=a&&a===a},toBoolean:b.toBoolean,toDate:b.toDate,toNumber:b.toNumber,toString:b.toString,flush:b.flush,lerp:b.lerp,merge:ea,pad:b.pad,peek:b.peek,span:b.span,inrange:b.inrange,truncate:b.truncate,rgb:y.rgb,lab:y.lab,hcl:y.hcl,hsl:y.hsl,luminance:m,contrast:e,sequence:J.range,format:Ra,utcFormat:cb,utcParse:Db,utcOffset:N.utcOffset,
utcSequence:N.utcSequence,timeFormat:Kb,timeParse:wb,timeOffset:N.timeOffset,timeSequence:N.timeSequence,timeUnitSpecifier:N.timeUnitSpecifier,monthFormat:r,monthAbbrevFormat:g,dayFormat:R,dayAbbrevFormat:B,quarter:b.quarter,utcquarter:b.utcquarter,week:N.week,utcweek:N.utcweek,dayofyear:N.dayofyear,utcdayofyear:N.utcdayofyear,warn:ua,info:f,debug:c,extent:b.extent,inScope:la,intersect:function(a,b,c){if(!a)return[];var d=$jscomp.makeIterator(a);a=d.next().value;d=d.next().value;a=(new E.Bounds).set(a[0],
a[1],d[0],d[1]);c=c||this.context.dataflow.scenegraph().root;return E.intersect(c,a,Xa(b))},clampRange:b.clampRange,pinchDistance:Va,pinchAngle:tb,screen:db,containerSize:Ha,windowSize:Ta,bandspace:ib,setdata:D,pathShape:ya,panLinear:b.panLinear,panLog:b.panLog,panPow:b.panPow,panSymlog:b.panSymlog,zoomLinear:b.zoomLinear,zoomLog:b.zoomLog,zoomPow:b.zoomPow,zoomSymlog:b.zoomSymlog,encode:P,modify:wa},bb="view item group xy x y".split(" "),tc={};va("bandwidth",da,p);va("copy",Oa,p);va("domain",t,p);
va("range",v,p);va("invert",k,p);va("scale",n,p);va("gradient",ba,p);va("geoArea",Ja,p);va("geoBounds",Ya,p);va("geoCentroid",w,p);va("geoShape",sa,p);va("indata",x,Z);va("data",G,u);va("treePath",ab,u);va("treeAncestors",jb,u);va("vlSelectionTest",W.selectionTest,W.selectionVisitor);va("vlSelectionResolve",W.selectionResolve,W.selectionVisitor);var Qb={blacklist:["_"],whitelist:["datum","event","item"],fieldvar:"datum",globalvar:function(a){return"_["+b.stringValue("$"+a)+"]"},functions:function(a){var c=
d.functions(a);bb.forEach(function(a){return c[a]="event.vega."+a});for(var e in Yb)c[e]="this."+e;b.extend(c,T(a,Yb,tc));return c},constants:d.constants,visitors:tc},Pa=d.codegen(Qb);a.DataPrefix=":";a.IndexPrefix="@";a.ScalePrefix="%";a.SignalPrefix="$";a.bandspace=ib;a.bandwidth=da;a.codeGenerator=Pa;a.codegenParams=Qb;a.containerSize=Ha;a.contrast=e;a.copy=Oa;a.data=G;a.dataVisitor=u;a.dayAbbrevFormat=B;a.dayFormat=R;a.debug=c;a.domain=t;a.encode=P;a.expressionFunction=va;a.format=Ra;a.functionContext=
Yb;a.geoArea=Ja;a.geoBounds=Ya;a.geoCentroid=w;a.geoShape=sa;a.inScope=la;a.indata=x;a.indataVisitor=Z;a.info=f;a.invert=k;a.luminance=m;a.merge=ea;a.modify=wa;a.monthAbbrevFormat=g;a.monthFormat=r;a.parseExpression=function(a,c){var e={};try{a=b.isString(a)?a:b.stringValue(a)+"";var f=d.parse(a)}catch(Ic){b.error("Expression parse error: "+a)}f.visit(function(a){if(a.type===d.CallExpression){var b=a.callee.name,f=Qb.visitors[b];f&&f(b,a.arguments,c,e)}});a=Pa(f);a.globals.forEach(function(a){var d=
"$"+a;!b.hasOwnProperty(e,d)&&c.getSignal(a)&&(e[d]=c.signalRef(a))});return{$expr:b.extend({code:a.code},c.options.ast?{ast:f}:null),$fields:a.fields,$params:e}};a.pathShape=ya;a.pinchAngle=tb;a.pinchDistance=Va;a.range=v;a.scale=n;a.scaleGradient=ba;a.scaleVisitor=p;a.screen=db;a.setdata=D;a.timeFormat=Kb;a.timeParse=wb;a.treeAncestors=jb;a.treePath=ab;a.utcFormat=cb;a.utcParse=Db;a.warn=ua;a.windowSize=Ta;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[46]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z,y(0),y(14)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow"],b):(a=a||self,b(a.vega={},a.vega,a.vega))})(this,function(a,b,d){function w(a,b,d){";"!==d[d.length-1]&&(d="return("+d+");");b=Function.apply(null,b.concat(d));return a&&a.functions?b.bind(a.functions):b}function y(a,d,l){if(!a||!b.isObject(a))return a;for(var x=0,w=N.length,r;x<w;++x)if(r=N[x],b.hasOwnProperty(a,
r.key))return r.parse(a,d,l);return a}function l(a,b,d,l){this.dataflow=a;this.transforms=b;this.events=a.events.bind(a);this.expr=l||M;this.signals={};this.scales={};this.nodes={};this.data={};this.fn={};d&&(this.functions=Object.create(d),this.functions.context=this)}function z(a){this.dataflow=a.dataflow;this.transforms=a.transforms;this.events=a.events;this.expr=a.expr;this.signals=Object.create(a.signals);this.scales=Object.create(a.scales);this.nodes=Object.create(a.nodes);this.data=Object.create(a.data);
this.fn=Object.create(a.fn);a.functions&&(this.functions=Object.create(a.functions),this.functions.context=this)}var E=b.toSet(["rule"]),W=b.toSet(["group","image","rect"]),M={operator:function(a,b){return w(a,["_"],b.code)},parameter:function(a,b){return w(a,["datum","_"],b.code)},event:function(a,b){return w(a,["event"],b.code)},handler:function(a,b){return w(a,["_","event"],"var datum\x3devent.item\x26\x26event.item.datum;return "+b.code+";")},encode:function(a,d){var l=d.marktype;d=d.channels;
var x="var o\x3ditem,datum\x3do.datum,m\x3d0,$;";for(r in d){var y="o["+b.stringValue(r)+"]";x+="$\x3d"+d[r].code+";if("+y+"!\x3d\x3d$)"+y+"\x3d$,m\x3d1;"}var r="";E[l]||(d.x2&&(d.x?(W[l]&&(r+="if(o.x\x3eo.x2)$\x3do.x,o.x\x3do.x2,o.x2\x3d$;"),r+="o.width\x3do.x2-o.x;"):r+="o.x\x3do.x2-(o.width||0);"),d.xc&&(r+="o.x\x3do.xc-(o.width||0)/2;"),d.y2&&(d.y?(W[l]&&(r+="if(o.y\x3eo.y2)$\x3do.y,o.y\x3do.y2,o.y2\x3d$;"),r+="o.height\x3do.y2-o.y;"):r+="o.y\x3do.y2-(o.height||0);"),d.yc&&(r+="o.y\x3do.yc-(o.height||0)/2;"));
x+=r;return w(a,["item","_"],x+"return m;")},codegen:{get:function(a){a="["+a.map(b.stringValue).join("][")+"]";var d=Function("_","return _"+a+";");d.path=a;return d},comparator:function(a,b){var d;a=Function("a","b","var u, v; return "+a.map(function(a,l){var r=b[l];if(a.path){var g="a"+a.path;a="b"+a.path}else(d=d||{})["f"+l]=a,g="this.f"+l+"(a)",a="this.f"+l+"(b)";l=-r;return"((u \x3d "+g+") \x3c (v \x3d "+a+") || u \x3d\x3d null) \x26\x26 v !\x3d null ? "+l+"\n  : (u \x3e v || v \x3d\x3d null) \x26\x26 u !\x3d null ? "+
r+"\n  : ((v \x3d v instanceof Date ? +v : v), (u \x3d u instanceof Date ? +u : u)) !\x3d\x3d u \x26\x26 v \x3d\x3d\x3d v ? "+l+"\n  : v !\x3d\x3d v \x26\x26 u \x3d\x3d\x3d u ? "+r+" : "}).join("")+"0;");return d?a.bind(d):a}}},N=[{key:"$ref",parse:function(a,d){return d.get(a.$ref)||b.error("Operator not defined: "+a.$ref)}},{key:"$key",parse:function(a,d){var l="k:"+a.$key+"_"+!!a.$flat;return d.fn[l]||(d.fn[l]=b.key(a.$key,a.$flat,d.expr.codegen))}},{key:"$expr",parse:function(a,d,l){a.$params&&
d.parseParameters(a.$params,l);l="e:"+a.$expr.code+"_"+a.$name;return d.fn[l]||(d.fn[l]=b.accessor(d.parameterExpression(a.$expr),a.$fields,a.$name))}},{key:"$field",parse:function(a,d){if(!a.$field)return null;var l="f:"+a.$field+"_"+a.$name;return d.fn[l]||(d.fn[l]=b.field(a.$field,a.$name,d.expr.codegen))}},{key:"$encode",parse:function(a,d){a=a.$encode;var l={},x;for(x in a){var w=a[x];l[x]=b.accessor(d.encodeExpression(w.$expr),w.$fields);l[x].output=w.$output}return l}},{key:"$compare",parse:function(a,
l){var x="c:"+a.$compare+"_"+a.$order,w=b.array(a.$compare).map(function(a){return a&&a.$tupleid?d.tupleid:a});return l.fn[x]||(l.fn[x]=b.compare(w,a.$order,l.expr.codegen))}},{key:"$context",parse:function(a,b){return b}},{key:"$subflow",parse:function(a,b){var d=a.$subflow;return function(a,l,r){var g=b.fork().parse(d);a=g.get(d.operators[0].id);(l=g.signals.parent)&&l.set(r);a.detachSubflow=function(){return b.detach(g)};return a}}},{key:"$tupleid",parse:function(){return d.tupleid}}],J={skip:!0};
l.prototype=z.prototype={fork:function(){var a=new z(this);(this.subcontext||(this.subcontext=[])).push(a);return a},detach:function(a){this.subcontext=this.subcontext.filter(function(b){return b!==a});for(var b=Object.keys(a.nodes),d=$jscomp.makeIterator(b),l=d.next();!l.done;l=d.next())a.nodes[l.value]._targets=null;b=$jscomp.makeIterator(b);for(l=b.next();!l.done;l=b.next())a.nodes[l.value].detach();a.nodes=null},get:function(a){return this.nodes[a]},set:function(a,b){return this.nodes[a]=b},add:function(a,
b){var d=this,l=d.dataflow,x=a.value;d.set(a.id,b);"collect"===(a.type+"").toLowerCase()&&x&&(x.$ingest?l.ingest(b,x.$ingest,x.$format):x.$request?l.preload(b,x.$request,x.$format):l.pulse(b,l.changeset().insert(x)));a.root&&(d.root=b);if(a.parent){var r=d.get(a.parent.$ref);r?(l.connect(r,[b]),b.targets().add(r)):(d.unresolved=d.unresolved||[]).push(function(){r=d.get(a.parent.$ref);l.connect(r,[b]);b.targets().add(r)})}a.signal&&(d.signals[a.signal]=b);a.scale&&(d.scales[a.scale]=b);if(a.data){x=
{};for(var g in a.data)x.$jscomp$loop$prop$data$430$606=d.data[g]||(d.data[g]={}),a.data[g].forEach(function(a){return function(d){return a.$jscomp$loop$prop$data$430$606[d]=b}}(x)),x={$jscomp$loop$prop$data$430$606:x.$jscomp$loop$prop$data$430$606}}},resolve:function(){(this.unresolved||[]).forEach(function(a){return a()});delete this.unresolved;return this},operator:function(a,b){this.add(a,this.dataflow.add(a.value,b))},transform:function(a,b){this.add(a,this.dataflow.add(this.transforms[(b+"").toLowerCase()]))},
stream:function(a,b){this.set(a.id,b)},update:function(a,b,d,l,w){this.dataflow.on(b,d,l,w,a.options)},operatorExpression:function(a){return this.expr.operator(this,a)},parameterExpression:function(a){return this.expr.parameter(this,a)},eventExpression:function(a){return this.expr.event(this,a)},handlerExpression:function(a){return this.expr.handler(this,a)},encodeExpression:function(a){return this.expr.encode(this,a)},parse:function(a){var b=this,d=a.operators||[];a.background&&(b.background=a.background);
a.eventConfig&&(b.eventConfig=a.eventConfig);a.locale&&(b.locale=a.locale);d.forEach(function(a){return b.parseOperator(a)});d.forEach(function(a){return b.parseOperatorParameters(a)});(a.streams||[]).forEach(function(a){return b.parseStream(a)});(a.updates||[]).forEach(function(a){return b.parseUpdate(a)});return b.resolve()},parseOperator:function(a){"operator"!==(a.type+"").toLowerCase()&&a.type?this.transform(a,a.type):this.operator(a,a.update?this.operatorExpression(a.update):null)},parseOperatorParameters:function(a){if(a.params){var d=
this.get(a.id);d||b.error("Invalid operator id: "+a.id);this.dataflow.connect(d,d.parameters(this.parseParameters(a.params),a.react,a.initonly))}},parseParameters:function(a,d){d=d||{};var l=this,x;for(x in a){var w=a[x];d[x]=b.isArray(w)?w.map(function(a){return y(a,l,d)}):y(w,l,d)}return d},parseStream:function(a){var d=this,l=null!=a.filter?d.eventExpression(a.filter):void 0,w=null!=a.stream?d.get(a.stream):void 0;if(a.source)w=d.events(a.source,a.type,l);else if(a.merge){var y=a.merge.map(function(a){return d.get(a)});
w=y[0].merge.apply(y[0],y.slice(1))}a.between&&(y=a.between.map(function(a){return d.get(a)}),w=w.between(y[0],y[1]));a.filter&&(w=w.filter(l));null!=a.throttle&&(w=w.throttle(+a.throttle));null!=a.debounce&&(w=w.debounce(+a.debounce));null==w&&b.error("Invalid stream definition: "+JSON.stringify(a));a.consume&&w.consume(!0);d.stream(a,w)},parseUpdate:function(a){var d=b.isObject(d=a.source)?d.$ref:d;d=this.get(d);var l=a.update,w=void 0;d||b.error("Source not defined: "+a.source);var y=a.target&&
a.target.$expr?this.eventExpression(a.target.$expr):this.get(a.target);l&&l.$expr&&(l.$params&&(w=this.parseParameters(l.$params)),l=this.handlerExpression(l.$expr));this.update(a,d,y,l,w)},getState:function(a){var b=this,d={};if(a.signals){var l=d.signals={};Object.keys(b.signals).forEach(function(d){var g=b.signals[d];a.signals(d,g)&&(l[d]=g.value)})}if(a.data){var w=d.data={};Object.keys(b.data).forEach(function(d){var g=b.data[d];a.data(d,g)&&(w[d]=g.input.value)})}b.subcontext&&!1!==a.recurse&&
(d.subcontext=b.subcontext.map(function(b){return b.getState(a)}));return d},setState:function(a){var d=this,l=d.dataflow,w=a.data,y=a.signals;Object.keys(y||{}).forEach(function(a){l.update(d.signals[a],y[a],J)});Object.keys(w||{}).forEach(function(a){l.pulse(d.data[a].input,l.changeset().remove(b.truthy).insert(w[a]))});(a.subcontext||[]).forEach(function(a,b){(b=d.subcontext[b])&&b.setState(a)})}};a.context=function(a,b,d,w){return new l(a,b,d,w)};Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[47]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z,y(0),y(14),y(24),y(3),y(45),y(46),y(33),y(8)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-scenegraph d3-array vega-functions vega-runtime d3-timer vega-format".split(" "),b):(a=a||self,b(a.vega={},a.vega,a.vega,a.vega,a.d3,a.vega,a.vega,a.d3,a.vega))})(this,function(a,b,d,w,y,l,z,E,W){function P(a){var b=a.container();b&&(b.setAttribute("role","graphics-document"),
b.setAttribute("aria-roleDescription","visualization"),N(b,a.description()))}function N(a,b){a&&(null==b?a.removeAttribute("aria-label"):a.setAttribute("aria-label",b))}function J(a){a.add(null,function(b){a._background=b.bg;a._resize=1;return b.bg},{bg:a._signals.background})}function G(a){var c=a._signals.cursor||(a._signals.cursor=a.add({user:"default",item:null}));a.on(a.events("view","mousemove"),c,function(a,d){var e=(a=c.value)?b.isString(a)?a:a.user:"default";d=d.item&&d.item.cursor||null;
return a&&e===a.user&&d==a.item?a:{user:e,item:d}});a.add(null,function(c){c=c.cursor;var d=this.value;b.isString(c)||(d=c.item,c=c.user);x(a,c&&"default"!==c?c:d||c);return d},{cursor:c})}function x(a,b){if(a=a.globalCursor()?"undefined"!==typeof document&&document.body:a.container())return null==b?a.style.removeProperty("cursor"):a.style.cursor=b}function D(a,c){a=a._runtime.data;b.hasOwnProperty(a,c)||b.error("Unrecognized data set: "+c);return a[c]}function S(a,c){d.isChangeSet(c)||b.error("Second argument to changes must be a changeset.");
a=D(this,a);a.modified=!0;return this.pulse(a.input,c)}function C(a){var b=a.padding();return Math.max(0,a._viewWidth+b.left+b.right)}function r(a){var b=a.padding();return Math.max(0,a._viewHeight+b.top+b.bottom)}function g(a){var b=a.padding();a=a._origin;return[b.left+a[0],b.top+a[1]]}function R(a){var b=g(a),c=C(a),d=r(a);a._renderer.background(a.background());a._renderer.resize(c,d,b);a._handler.origin(b);a._resizeListeners.forEach(function(b){try{b(c,d)}catch(zb){a.error(zb)}})}function B(a,
b,c){var d=a._renderer;d=d&&d.canvas();if(d){var e=g(a);var f=b.changedTouches?b.changedTouches[0]:b;f=w.point(f,d);f[0]-=e[0];f[1]-=e[1]}b.dataflow=a;b.item=c;b.vega=u(a,c,f);return b}function u(a,c,d){function e(a){var b=g,d;if(a)for(d=c;d;d=d.mark.group)if(d.mark.name===a){b=d;break}return b&&b.mark&&b.mark.interactive?b:{}}function f(a){if(!a)return d;b.isString(a)&&(a=e(a));for(var c=d.slice();a;)c[0]-=a.x||0,c[1]-=a.y||0,a=a.mark&&a.mark.group;return c}var g=c?"group"===c.mark.marktype?c:c.mark.group:
null;return{view:b.constant(a),item:b.constant(c||{}),group:e,xy:f,x:function(a){return f(a)[0]},y:function(a){return f(a)[1]}}}function U(a){a=b.extend({defaults:{}},a);var c=function(a,c){c.forEach(function(c){b.isArray(a[c])&&(a[c]=b.toSet(a[c]))})};c(a.defaults,["prevent","allow"]);c(a,["view","window","selector"]);return a}function p(a,c,d){var e=a._eventConfig&&a._eventConfig[c];return!1===e||b.isObject(e)&&!e[d]?(a.warn("Blocked "+c+" "+d+" event listener."),!1):!0}function ca(a){return a.item}
function h(a){return a.item.mark.source}function T(a){return function(b,c){return c.vega.view().changeset().encode(c.item,a)}}function O(a,b,c){a=document.createElement(a);for(var d in b)a.setAttribute(d,b[d]);null!=c&&(a.textContent=c);return a}function la(a,c,d){if(c){var e=d.param,f=d.state;f||(f=d.state={elements:null,active:!1,set:null,update:function(b){b!==a.signal(e.signal)&&a.runAsync(null,function(){f.source=!0;a.signal(e.signal,b)})}},e.debounce&&(f.update=b.debounce(e.debounce,f.update)));
Na(f,c,e,a.signal(e.signal));f.active||(a.on(a._signals[e.signal],null,function(){f.source?f.source=!1:f.set(a.signal(e.signal))}),f.active=!0);return f}}function Na(a,b,d,e){var g=O("div",{"class":"vega-bind"}),h="radio"===d.input?g:g.appendChild(O("label"));h.appendChild(O("span",{"class":"vega-bind-name"},d.name||d.signal));b.appendChild(g);b=ua;switch(d.input){case "checkbox":b=f;break;case "select":b=c;break;case "radio":b=K;break;case "range":b=m}b(a,h,d,e)}function ua(a,b,c,d){var e=O("input"),
f;for(f in c)"signal"!==f&&"element"!==f&&e.setAttribute("input"===f?"type":f,c[f]);e.setAttribute("name",c.signal);e.value=d;b.appendChild(e);e.addEventListener("input",function(){return a.update(e.value)});a.elements=[e];a.set=function(a){return e.value=a}}function f(a,b,c,d){c={type:"checkbox",name:c.signal};d&&(c.checked=!0);var e=O("input",c);b.appendChild(e);e.addEventListener("change",function(){return a.update(e.checked)});a.elements=[e];a.set=function(a){return e.checked=!!a||null}}function c(a,
b,c,d){var f=O("select",{name:c.signal}),g=c.labels||[];c.options.forEach(function(a,b){var c={value:a};e(a,d)&&(c.selected=!0);f.appendChild(O("option",c,(g[b]||a)+""))});b.appendChild(f);f.addEventListener("change",function(){a.update(c.options[f.selectedIndex])});a.elements=[f];a.set=function(a){for(var b=0,d=c.options.length;b<d;++b)if(e(c.options[b],a)){f.selectedIndex=b;break}}}function K(a,b,c,d){var f=O("span",{"class":"vega-bind-radio"}),g=c.labels||[];b.appendChild(f);a.elements=c.options.map(function(b,
h){var k={type:"radio",name:c.signal,value:b};e(b,d)&&(k.checked=!0);k=O("input",k);k.addEventListener("change",function(){return a.update(b)});h=O("label",{},(g[h]||b)+"");h.prepend(k);f.appendChild(h);return k});a.set=function(b){for(var c=a.elements,d=c.length,f=0;f<d;++f)e(c[f].value,b)&&(c[f].checked=!0)}}function m(a,b,c,d){d=void 0!==d?d:(+c.max+ +c.min)/2;var e=null!=c.max?c.max:Math.max(100,+d)||100,f=c.min||Math.min(0,e,+d)||0,g=c.step||y.tickStep(f,e,100),h=O("input",{type:"range",name:c.signal,
min:f,max:e,step:g});h.value=d;var k=O("span",{},+d);b.appendChild(h);b.appendChild(k);b=function(){k.textContent=h.value;a.update(+h.value)};h.addEventListener("input",b);h.addEventListener("change",b);a.elements=[h];a.set=function(a){h.value=a;k.textContent=a}}function e(a,b){return a===b||a+""===b+""}function ea(a,b,c,d,e,f){b=b||new d(a.loader());return b.initialize(c,C(a),r(a),g(a),e,f).background(a.background())}function ka(a,b){return b?function(){try{b.apply(this,arguments)}catch(Kb){a.error(Kb)}}:
null}function X(a,b,c,d){var e=(new d(a.loader(),ka(a,a.tooltip()))).scene(a.scenegraph().root).initialize(c,g(a),a);b&&b.handlers().forEach(function(a){e.on(a.type,a.handler)});return e}function Wa(a,b){if("string"===typeof b)if("undefined"!==typeof document){if(b=document.querySelector(b),!b)return a.error("Signal bind element not found: "+b),null}else return a.error("DOM document instance not found."),null;if(b)try{b.innerHTML=""}catch(Kb){b=null,a.error(Kb)}return b}function wa(a){b.isObject(a)?
a={top:+a.top||0,bottom:+a.bottom||0,left:+a.left||0,right:+a.right||0}:(a=+a||0,a={top:a,bottom:a,left:a,right:a});return a}function Va(a,c,d,e){var f,g;return $jscomp.asyncExecutePromiseGeneratorProgram(function(h){return 1==h.nextAddress?((g=(f=w.renderModule(c))&&f.headless)||b.error("Unrecognized renderer type: "+c),h.yield(a.runAsync(),2)):h.return(ea(a,null,null,g,d,e).renderAsync(a._scenegraph.root))})}function tb(a,b){a=new Blob([a],{type:b});return window.URL.createObjectURL(a)}function ib(a,
b,c){return z.context(a,d.transforms,l.functionContext,c).parse(b)}function da(a,b){var c=a.autosize();a=a.padding();return b-(c&&"padding"===c.contains?a.left+a.right:0)}function Oa(a,b){var c=a.autosize();a=a.padding();return b-(c&&"padding"===c.contains?a.top+a.bottom:0)}function t(a){function b(){a._autosize=a._resize=1}var c=a._signals,d=c.width,e=c.height;c=c.padding;a._resizeWidth=a.add(null,function(c){a._width=c.size;a._viewWidth=da(a,c.size);b()},{size:d});a._resizeHeight=a.add(null,function(c){a._height=
c.size;a._viewHeight=Oa(a,c.size);b()},{size:e});var f=a.add(null,b,{pad:c});a._resizeWidth.rank=d.rank+1;a._resizeHeight.rank=e.rank+1;f.rank=c.rank+1}function k(a,c){return c.modified&&b.isArray(c.input.value)&&a.indexOf("_:vega:_")}function v(a,b){return!("parent"===a||b instanceof d.transforms.proxy)}function n(a,b,c,d){(a=a.element())&&a.setAttribute("title",ba(d))}function ba(a){return null==a?"":b.isArray(a)?"["+a.map(ya).join(", ")+"]":b.isObject(a)&&!b.isDate(a)?sa(a):a+""}function sa(a){return Object.keys(a).map(function(c){var d=
a[c];return c+": "+(b.isArray(d)?"["+d.map(ya).join(", ")+"]":ya(d))}).join("\n")}function ya(a){return b.isArray(a)?"[…]":b.isObject(a)&&!b.isDate(a)?"{…}":a}function Ka(a,c){c=c||{};d.Dataflow.call(this);c.loader&&this.loader(c.loader);c.logger&&this.logger(c.logger);null!=c.logLevel&&this.logLevel(c.logLevel);if(c.locale||a.locale){var e=b.extend({},a.locale,c.locale);this.locale(W.locale(e.number,e.time))}this._elBind=this._el=null;this._renderType=c.renderer||w.RenderType.Canvas;this._scenegraph=
new w.Scenegraph;e=this._scenegraph.root;this._renderer=null;this._tooltip=c.tooltip||n;this._redraw=!0;this._handler=(new w.CanvasHandler).scene(e);this._preventDefault=this._globalCursor=!1;this._timers=[];this._eventListeners=[];this._resizeListeners=[];this._eventConfig=U(a.eventConfig);this.globalCursor(this._eventConfig.globalCursor);var f=ib(this,a,c.expr);this._runtime=f;this._signals=f.signals;this._bind=(a.bindings||[]).map(function(a){return{state:null,param:b.extend({},a)}});f.root&&f.root.set(e);
e.source=f.data.root.input;this.pulse(f.data.root.input,this.changeset().insert(e.items));this._width=this.width();this._height=this.height();this._viewWidth=da(this,this._width);this._viewHeight=Oa(this,this._height);this._origin=[0,0];this._resize=0;this._autosize=1;t(this);J(this);G(this);this.description(a.description);c.hover&&this.hover();c.container&&this.initialize(c.container,c.bind)}function ab(a,c){return b.hasOwnProperty(a._signals,c)?a._signals[c]:b.error("Unrecognized signal name: "+
b.stringValue(c))}function jb(a,b){a=(a._targets||[]).filter(function(a){return a._update&&a._update.handler===b});return a.length?a[0]:null}function db(a,b,c,d){var e=jb(c,d);e||(e=ka(a,function(){return d(b,c.value)}),e.handler=d,a.on(c,null,e));return a}function Ta(a,b,c){(c=jb(b,c))&&b._targets.remove(c);return a}var Ha={trap:!1},Xa={skip:!0},va=b.inherits(Ka,d.Dataflow);va.evaluate=function(a,b,c){var e=this,f;return $jscomp.asyncExecutePromiseGeneratorProgram(function(g){switch(g.nextAddress){case 1:return g.yield(d.Dataflow.prototype.evaluate.call(e,
a,b),2);case 2:if(!e._redraw&&!e._resize){g.jumpTo(3);break}g.setCatchFinallyBlocks(4);if(!e._renderer){g.jumpTo(6);break}e._resize&&(e._resize=0,R(e));return g.yield(e._renderer.renderAsync(e._scenegraph.root),6);case 6:e._redraw=!1;g.leaveTryBlock(3);break;case 4:f=g.enterCatchBlock(),e.error(f);case 3:return c&&d.asyncCallback(e,c),g.return(e)}})};va.dirty=function(a){this._redraw=!0;this._renderer&&this._renderer.dirty(a)};va.description=function(a){if(arguments.length){var b=null!=a?a+"":null;
b!==this._desc&&N(this._el,this._desc=b);return this}return this._desc};va.container=function(){return this._el};va.scenegraph=function(){return this._scenegraph};va.origin=function(){return this._origin.slice()};va.signal=function(a,b,c){var d=ab(this,a);return 1===arguments.length?d.value:this.update(d,b,c)};va.width=function(a){return arguments.length?this.signal("width",a):this.signal("width")};va.height=function(a){return arguments.length?this.signal("height",a):this.signal("height")};va.padding=
function(a){return arguments.length?this.signal("padding",wa(a)):wa(this.signal("padding"))};va.autosize=function(a){return arguments.length?this.signal("autosize",a):this.signal("autosize")};va.background=function(a){return arguments.length?this.signal("background",a):this.signal("background")};va.renderer=function(a){if(!arguments.length)return this._renderType;w.renderModule(a)||b.error("Unrecognized renderer type: "+a);a!==this._renderType&&(this._renderType=a,this._resetRenderer());return this};
va.tooltip=function(a){if(!arguments.length)return this._tooltip;a!==this._tooltip&&(this._tooltip=a,this._resetRenderer());return this};va.loader=function(a){if(!arguments.length)return this._loader;a!==this._loader&&(d.Dataflow.prototype.loader.call(this,a),this._resetRenderer());return this};va.resize=function(){this._autosize=1;return this.touch(ab(this,"autosize"))};va._resetRenderer=function(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))};va._resizeView=function(a,
b,c,d,e,f){this.runAfter(function(g){var h=0;g._autosize=0;g.width()!==c&&(h=1,g.signal("width",c,Xa),g._resizeWidth.skip(!0));g.height()!==d&&(h=1,g.signal("height",d,Xa),g._resizeHeight.skip(!0));g._viewWidth!==a&&(g._resize=1,g._viewWidth=a);g._viewHeight!==b&&(g._resize=1,g._viewHeight=b);if(g._origin[0]!==e[0]||g._origin[1]!==e[1])g._resize=1,g._origin=e;h&&g.run("enter");f&&g.runAfter(function(a){return a.resize()})},!1,1)};va.addEventListener=function(a,b,c){var d=b;c&&!1===c.trap||(d=ka(this,
b),d.raw=b);this._handler.on(a,d);return this};va.removeEventListener=function(a,b){for(var c=this._handler.handlers(a),d=c.length,e,f;0<=--d;)if(f=c[d].type,e=c[d].handler,a===f&&(b===e||b===e.raw)){this._handler.off(f,e);break}return this};va.addResizeListener=function(a){var b=this._resizeListeners;0>b.indexOf(a)&&b.push(a);return this};va.removeResizeListener=function(a){var b=this._resizeListeners;a=b.indexOf(a);0<=a&&b.splice(a,1);return this};va.addSignalListener=function(a,b){return db(this,
a,ab(this,a),b)};va.removeSignalListener=function(a,b){return Ta(this,ab(this,a),b)};va.addDataListener=function(a,b){return db(this,a,D(this,a).values,b)};va.removeDataListener=function(a,b){return Ta(this,D(this,a).values,b)};va.globalCursor=function(a){if(arguments.length){if(this._globalCursor!==!!a){var b=x(this,null);this._globalCursor=!!a;b&&x(this,b)}return this}return this._globalCursor};va.preventDefault=function(a){return arguments.length?(this._preventDefault=a,this):this._preventDefault};
va.timer=function(a,b){this._timers.push(E.interval(function(b){a({timestamp:Date.now(),elapsed:b})},b))};va.events=function(a,b,c){var e=this,f=new d.EventStream(c);c=function(c,d){e.runAsync(null,function(){var g;if(g="view"===a){var h=e._eventConfig.defaults;g=h.prevent;h=h.allow;g=!1===g||!0===h?!1:!0===g||!1===h?!0:g?g[b]:h?!h[b]:e.preventDefault()}g&&c.preventDefault();f.receive(B(e,c,d))})};var g;if("timer"===a)p(e,"timer",b)&&e.timer(c,b);else if("view"===a)p(e,"view",b)&&e.addEventListener(b,
c,Ha);else if("window"===a?p(e,"window",b)&&"undefined"!==typeof window&&(g=[window]):"undefined"!==typeof document&&p(e,"selector",b)&&(g=document.querySelectorAll(a)),g){for(var h=0,k=g.length;h<k;++h)g[h].addEventListener(b,c);e._eventListeners.push({type:b,sources:g,handler:c})}else e.warn("Can not resolve event source: "+a);return f};va.finalize=function(){var a=this._tooltip,b=this._timers,c=this._eventListeners,d;for(d=b.length;0<=--d;)b[d].stop();for(d=c.length;0<=--d;){var e=c[d];for(b=e.sources.length;0<=
--b;)e.sources[b].removeEventListener(e.type,e.handler)}a&&a.call(this,this._handler,null,null,null);return this};va.hover=function(a,b){a=[a||"hover"];b=[b||"update",a[0]];this.on(this.events("view","mouseover",ca),h,T(a));this.on(this.events("view","mouseout",ca),h,T(b));return this};va.data=function(a,c){return 2>arguments.length?D(this,a).values.value:S.call(this,a,d.changeset().remove(b.truthy).insert(c))};va.change=S;va.insert=function(a,b){return S.call(this,a,d.changeset().insert(b))};va.remove=
function(a,b){return S.call(this,a,d.changeset().remove(b))};va.scale=function(a){var c=this._runtime.scales;b.hasOwnProperty(c,a)||b.error("Unrecognized scale or projection: "+a);return c[a].value};va.initialize=function(a,b){var c=this,d=c._renderType,e=c._eventConfig.bind,f=w.renderModule(d);a=c._el=a?Wa(c,a):null;P(c);f||c.error("Unrecognized renderer type: "+d);d=f.handler||w.CanvasHandler;f=a?f.renderer:f.headless;c._renderer=f?ea(c,c._renderer,a,f):null;c._handler=X(c,c._handler,a,d);c._redraw=
!0;a&&"none"!==e&&(b=b?c._elBind=Wa(c,b):a.appendChild(O("form",{"class":"vega-bindings"})),c._bind.forEach(function(a){a.param.element&&"container"!==e&&(a.element=Wa(c,a.param.element))}),c._bind.forEach(function(a){la(c,a.element||b,a)}));return c};va.toImageURL=function(a,c){var d=this,e;return $jscomp.asyncExecutePromiseGeneratorProgram(function(f){if(1==f.nextAddress)return a!==w.RenderType.Canvas&&a!==w.RenderType.SVG&&a!==w.RenderType.PNG&&b.error("Unrecognized image type: "+a),f.yield(Va(d,
a,c),2);e=f.yieldResult;return f.return(a===w.RenderType.SVG?tb(e.svg(),"image/svg+xml"):e.canvas().toDataURL("image/png"))})};va.toCanvas=function(a,b){var c=this,d;return $jscomp.asyncExecutePromiseGeneratorProgram(function(e){if(1==e.nextAddress)return e.yield(Va(c,w.RenderType.Canvas,a,b),2);d=e.yieldResult;return e.return(d.canvas())})};va.toSVG=function(a){var b=this,c;return $jscomp.asyncExecutePromiseGeneratorProgram(function(d){if(1==d.nextAddress)return d.yield(Va(b,w.RenderType.SVG,a),
2);c=d.yieldResult;return d.return(c.svg())})};va.getState=function(a){return this._runtime.getState(a||{data:k,signals:v,recurse:!0})};va.setState=function(a){this.runAsync(null,function(b){b._trigger=!1;b._runtime.setState(a)},function(a){a._trigger=!0});return this};a.View=Ka;Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[48]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z):"function"===typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.vega={}))})(this,function(a){function b(a,b,d,l,u){for(var g=0,p=a.length,r;b<p;++b)if(r=a[b],g||r!==d)u&&0<=u.indexOf(r)?--g:l&&0<=l.indexOf(r)&&++g;else break;return b}function d(a){for(var d=[],r=0,w=a.length,u=0;u<w;)u=b(a,u,N,l+E,z+W),d.push(a.substring(r,u).trim()),r=++u;if(0===d.length)throw"Empty event selector: "+
a;return d}function w(a){if("["===a[0]){var g=a;var r=g.length;a=b(g,1,z,l,z);if(a===r)throw"Empty between selector: "+g;r=d(g.substring(1,a));if(2!==r.length)throw"Between selector must have two elements: "+g;g=g.slice(a+1).trim();if(g[0]!==G)throw"Expected '\x3e' after between selector: "+g;r=r.map(w);g=w(g.slice(1).trim());g.between?g={between:r,stream:g}:g.between=r}else{r={source:D};var B=[],u=[0,0],C=0,p=0,P=a.length,h=0;if(a[P-1]===W){h=a.lastIndexOf(E);if(0<=h){try{u=y(a.substring(h+1,P-1))}catch(O){throw"Invalid throttle specification: "+
a;}a=a.slice(0,h).trim();P=a.length}else throw"Unmatched right brace: "+a;h=0}if(!P)throw a;a[0]===J&&(C=++h);var N=b(a,h,M);N<P&&(B.push(a.substring(p,N).trim()),p=h=++N);h=b(a,h,l);if(h===P)B.push(a.substring(p,P).trim());else if(B.push(a.substring(p,h).trim()),g=[],p=++h,p===P)throw"Unmatched left bracket: "+a;for(;h<P;){h=b(a,h,z);if(h===P)throw"Unmatched left bracket: "+a;g.push(a.substring(p,h).trim());if(h<P-1&&a[++h]!==l)throw"Expected left bracket: "+a;p=++h}if(!(P=B.length)||x.test(B[P-
1]))throw"Invalid event selector: "+a;1<P?(r.type=B[1],C?r.markname=B[0].slice(1):S[B[0]]?r.marktype=B[0]:r.source=B[0]):r.type=B[0];"!"===r.type.slice(-1)&&(r.consume=!0,r.type=r.type.slice(0,-1));null!=g&&(r.filter=g);u[0]&&(r.throttle=u[0]);u[1]&&(r.debounce=u[1]);g=r}return g}function y(a){var b=a.split(N);if(!a.length||2<b.length)throw a;return b.map(function(b){b=+b;if(b!==b)throw a;return b})}var l="[",z="]",E="{",W="}",M=":",N=",",J="@",G="\x3e",x=/[[\]{}]/,D,S,C={"*":1,arc:1,area:1,group:1,
image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};a.selector=function(a,b,l){D=b||"view";S=l||C;return d(a.trim()).map(w)};Object.defineProperty(a,"__esModule",{value:!0})})};
shadow$provide[49]=function(E,y,J,z){(function(a,b){"object"===typeof z&&"undefined"!==typeof J?b(z,y(0),y(45),y(48),y(23),y(14)):"function"===typeof define&&define.amd?define("exports vega-util vega-functions vega-event-selector vega-scale vega-dataflow".split(" "),b):(a=a||self,b(a.vega={},a.vega,a.vega,a.vega,a.vega,a.vega))})(this,function(a,b,d,w,y,l){function z(a){return b.isObject(a)?a:{type:a||"pad"}}function E(a){b.isObject(a)?a=a.signal?a:{top:+a.top||0,bottom:+a.bottom||0,left:+a.left||
0,right:+a.right||0}:(a=+a||0,a={top:a,bottom:a,left:a,right:a});return a}function W(a,c,d,e){return null!=d?(b.isObject(d)&&!b.isArray(d)?a.update[c]=d:a[e||"enter"][c]={value:d},1):0}function M(a,b,c){for(var d in b)W(a,d,b[d]);for(var e in c)W(a,e,c[e],"update")}function N(a,c,d){for(var e in c)d&&b.hasOwnProperty(d,e)||(a[e]=b.extend(a[e]||{},c[e]));return a}function J(a,b){return b&&(b.enter&&b.enter[a]||b.update&&b.update[a])}function G(a,c,d,e,f){var g={},h={},k;var l="lineBreak";"text"!==
c||null==f[l]||J(l,a)||x(g,l,f[l]);if("legend"==d||String(d).startsWith("axis"))d=null;d="frame"===d?f.group:"mark"===d?b.extend({},f.mark,f[c]):null;for(l in d)(c=J(l,a)||("fill"===l||"stroke"===l)&&(J("fill",a)||J("stroke",a)))||x(g,l,d[l]);b.array(e).forEach(function(b){b=f.style&&f.style[b];for(var c in b)J(c,a)||x(g,c,b[c])});a=b.extend({},a);for(l in g)d=g[l],d.signal?(k=k||{})[l]=d:h[l]=d;a.enter=b.extend(h,a.enter);k&&(a.update=b.extend(k,a.update));return a}function x(a,b,c){a[b]=c&&c.signal?
{signal:c.signal}:{value:c}}function D(a){if(null!=a.gradient)return S(a);if(a.signal)var c="("+a.signal+")";else a.color?(c=a.color,c=c.c?Sb("hcl",c.h,c.c,c.l):c.h||c.s?Sb("hsl",c.h,c.s,c.l):c.l||c.a?Sb("lab",c.l,c.a,c.b):c.r||c.g||c.b?Sb("rgb",c.r,c.g,c.b):null):c=null!=a.field?r(a.field):void 0!==a.value?b.stringValue(a.value):void 0;if(null!=a.scale){var d=Yc(a.scale);null!=a.range?c="lerp(_range("+d+"), "+ +a.range+")":(void 0!==c&&(c="_scale("+d+", "+c+")"),a.band&&(c=(c?c+"+":"")+("_bandwidth("+
d+")")+(1===+a.band?"":"*"+C(a.band)),a.extra&&(c="(datum.extra ? _scale("+d+", datum.extra.value) : "+c+")")),null==c&&(c="0"))}void 0===c&&(c=null);null!=a.exponent&&(c="pow("+c+","+C(a.exponent)+")");null!=a.mult&&(c+="*"+C(a.mult));null!=a.offset&&(c+="+"+C(a.offset));a.round&&(c="round("+c+")");return c}function S(a){for(var c=[a.start,a.stop,a.count].map(function(a){return null==a?null:b.stringValue(a)});c.length&&null==b.peek(c);)c.pop();c.unshift(Yc(a.gradient));return"gradient("+c.join(",")+
")"}function C(a){return b.isObject(a)?"("+D(a)+")":a}function r(a){return g(b.isObject(a)?a:{datum:a})}function g(a){if(a.signal){var c="datum";var d=a.signal}else if(a.group||a.parent){d=Math.max(1,a.level||1);for(c="item";0<d--;)c+=".mark.group";a.parent?(d=a.parent,c+=".datum"):d=a.group}else a.datum?(c="datum",d=a.datum):b.error("Invalid field reference: "+b.stringValue(a));a.signal||(d=b.isString(d)?b.splitAccessPath(d).map(b.stringValue).join("]["):g(d));return c+"["+d+"]"}function R(a){var c=
"";a.forEach(function(a){var b=D(a);c+=a.test?"("+a.test+")?"+b+":":b});":"===b.peek(c)&&(c+="null");return c}function B(a,c,d,e,f,g){var h={};g=g||{};g.encoders={$encode:h};a=G(a,c,d,e,f.config);for(var k in a){d=void 0;e=a[k];var l=c,m=g,n=f,I={},p={};for(d in e)if(null!=e[d]){var r=e[d];r=b.isArray(r)?R(r):D(r);I[d]=u(r,n,m,p)}d={$expr:{marktype:l,channels:I},$fields:Object.keys(p),$output:Object.keys(e)};h[k]=d}return g}function u(a,c,e,f){a=d.parseExpression(a,c);a.$fields.forEach(function(a){return f[a]=
1});b.extend(e,a.$params);return a.$expr}function U(a,c){b.error(a+' for "outer" push: '+b.stringValue(c))}function p(a,b){var c=a.name;if("outer"===a.push)b.signals[c]||U("No prior signal definition",c),Sd.forEach(function(b){void 0!==a[b]&&U("Invalid property ",b)});else{var d=b.addSignal(c,a.value);!1===a.react&&(d.react=!1);a.bind&&b.addBinding(c,a.bind)}}function ca(a,b,c,d){this.id=-1;this.type=a;this.value=b;this.params=c;d&&(this.parent=d)}function h(a){var b={$ref:a.id};0>a.id&&(a.refs=a.refs||
[]).push(b);return b}function T(a,b){return b?{$field:a,$name:b}:{$field:a}}function O(a,b){a={$key:a};b&&(a.$flat=!0);return a}function la(a,b){return(a&&a.signal?"$"+a.signal:a||"")+(a&&b?"_":"")+(b&&b.signal?"$"+b.signal:b||"")}function qa(a){return a&&a.signal}function ua(a){if(qa(a))return!0;if(b.isObject(a))for(var c in a)if(ua(a[c]))return!0;return!1}function f(a,b){return null!=a?a:b}function c(a){return a&&a.signal||a}function K(a,c){return(a.merge?e:a.stream?ea:a.type?ka:b.error("Invalid stream specification: "+
b.stringValue(a)))(a,c)}function m(a){return"scope"===a?"view":a||"view"}function e(a,b){var c=a.merge.map(function(a){return K(a,b)});a=X({merge:c},a,b);return b.addStream(a).id}function ea(a,b){var c=K(a.stream,b);a=X({stream:c},a,b);return b.addStream(a).id}function ka(a,b){if("timer"===a.type){var c=b.event("timer",a.throttle);a={between:a.between,filter:a.filter}}else c=b.event(m(a.source),a.type);a=X({stream:c},a,b);return 1===Object.keys(a).length?c:b.addStream(a).id}function X(a,c,e){var f=
c.between;f&&(2!==f.length&&b.error('Stream "between" parameter must have 2 entries: '+b.stringValue(c)),a.between=[K(f[0],e),K(f[1],e)]);f=c.filter?[].concat(c.filter):[];(c.marktype||c.markname||c.markrole)&&f.push(Wa(c.marktype,c.markname,c.markrole));"scope"===c.source&&f.push("inScope(event.item)");f.length&&(a.filter=d.parseExpression("("+f.join(")\x26\x26(")+")",e).$expr);null!=(f=c.throttle)&&(a.throttle=+f);null!=(f=c.debounce)&&(a.debounce=+f);c.consume&&(a.consume=!0);return a}function Wa(a,
b,c){return"event.item"+(a&&"*"!==a?"\x26\x26event.item.mark.marktype\x3d\x3d\x3d'"+a+"'":"")+(c?"\x26\x26event.item.mark.role\x3d\x3d\x3d'"+c+"'":"")+(b?"\x26\x26event.item.mark.name\x3d\x3d\x3d'"+b+"'":"")}function wa(a,c,e){var f=a.events,g=a.update,h=a.encode,k=[],l={target:e};f||b.error("Signal update missing events specification.");b.isString(f)&&(f=w.selector(f,c.isSubscope()?"scope":"view"));f=b.array(f).filter(function(a){return a.signal||a.scale?(k.push(a),0):1});1<k.length&&(k=[tb(k)]);
f.length&&k.push(1<f.length?{merge:f}:f[0]);null!=h&&(g&&b.error("Signal encode and update are mutually exclusive."),g="encode(item(),"+b.stringValue(h)+")");l.update=b.isString(g)?d.parseExpression(g,c):null!=g.expr?d.parseExpression(g.expr,c):null!=g.value?g.value:null!=g.signal?{$expr:Dd,$params:{$value:c.signalRef(g.signal)}}:b.error("Invalid signal update specification.");a.force&&(l.options={force:!0});k.forEach(function(a){c.addUpdate(b.extend(Va(a,c),l))})}function Va(a,b){return{source:a.signal?
b.signalRef(a.signal):a.scale?b.scaleRef(a.scale):K(a,b)}}function tb(a){return{signal:"["+a.map(function(a){return a.scale?'scale("'+a.scale+'")':a.signal})+"]"}}function ib(a,c){var e=c.getSignal(a.name),f=a.update;a.init&&(f?b.error("Signals can not include both init and update expressions."):(f=a.init,e.initonly=!0));f&&(f=d.parseExpression(f,c),e.update=f.$expr,e.params=f.$params);a.on&&a.on.forEach(function(a){wa(a,c,e.id)})}function da(a,c){return b.isObject(a)?a.signal?c.signalRef(a.signal):
b.error("Unsupported object: "+b.stringValue(a)):a}function Oa(a,b){return a.signal?b.signalRef(a.signal):a.map(function(a){return da(a,b)})}function t(a){b.error("Can not find data set: "+b.stringValue(a))}function k(a,c,d){if(a)return a.signal?d.signalRef(a.signal):(b.isArray(a)?v:a.fields?ba:n)(a,c,d);null==c.domainMin&&null==c.domainMax||b.error("No scale domain defined for domainMin/domainMax to override.")}function v(a,b,c){return a.map(function(a){return da(a,c)})}function n(a,b,c){var d=c.getData(a.data);
d||t(a.data);return y.isDiscrete(b.type)?d.valuesRef(c,a.field,ya(a.sort,!1)):y.isQuantile(b.type)?d.domainRef(c,a.field):d.extentRef(c,a.field)}function ba(a,c,d){var e=a.data,f=a.fields.reduce(function(a,c){if(b.isString(c))c={data:e,field:c};else if(b.isArray(c)||c.signal){var f=c;c="_:vega:_"+rb++;var g=mb({});b.isArray(f)?g.value={$ingest:f}:f.signal&&(f="setdata("+b.stringValue(c)+","+f.signal+")",g.params.input=d.signalRef(f));d.addDataPipeline(c,[g,ra({})]);c={data:c,field:"data"}}a.push(c);
return a},[]);return(y.isDiscrete(c.type)?sa:y.isQuantile(c.type)?Ka:ab)(a,d,f)}function sa(a,b,c){var d=ya(a.sort,!0);a=c.map(function(a){var c=b.getData(a.data);c||t(a.data);return c.countsRef(b,a.field,d)});a={groupby:ud,pulse:a};if(d){c=d.op||"count";var e=d.field?la(c,d.field):"count";a.ops=[Hb[c]];a.fields=[b.fieldRef(e)];a.as=[e]}c=b.add(Ob(a));a=b.add(mb({pulse:h(c)}));e=b.add(Da({field:ud,sort:b.sortRef(d),pulse:h(a)}));return h(e)}function ya(a,c){a&&(a.field||a.op?a.field||"count"===a.op?
c&&a.field&&a.op&&!Hb[a.op]&&b.error("Multiple domain scales can not be sorted using "+a.op):b.error("No field provided for sort aggregate op: "+a.op):b.isObject(a)?a.field="key":a={field:"key"});return a}function Ka(a,b,c){a=c.map(function(a){var c=b.getData(a.data);c||t(a.data);return c.domainRef(b,a.field)});return h(b.add(Za({values:a})))}function ab(a,b,c){a=c.map(function(a){var c=b.getData(a.data);c||t(a.data);return c.extentRef(b,a.field)});return h(b.add(Qa({extents:a})))}function jb(a,c,
d){var e=a.range,f=c.config.range;if(e.signal)return c.signalRef(e.signal);if(b.isString(e)){if(f&&b.hasOwnProperty(f,e))return a=b.extend({},a,{range:f[e]}),jb(a,c,d);"width"===e?e=[0,{signal:"width"}]:"height"===e?e=y.isDiscrete(a.type)?[0,{signal:"height"}]:[{signal:"height"},0]:b.error("Unrecognized scale range value: "+b.stringValue(e))}else{if(e.scheme){d.scheme=b.isArray(e.scheme)?Oa(e.scheme,c):da(e.scheme,c);e.extent&&(d.schemeExtent=Oa(e.extent,c));e.count&&(d.schemeCount=da(e.count,c));
return}if(e.step){d.rangeStep=da(e.step,c);return}if(y.isDiscrete(a.type)&&!b.isArray(e))return k(e,a,c);b.isArray(e)||b.error("Unsupported range type: "+b.stringValue(e))}return e.map(function(a){return(b.isArray(a)?Oa:da)(a,c)})}function db(a,c,d){return b.isArray(a)?a.map(function(a){return db(a,c,d)}):b.isObject(a)?a.signal?d.signalRef(a.signal):"fit"===c?a:b.error("Unsupported parameter object: "+b.stringValue(a)):a}function Ta(a){a.type="group";a.interactive=a.interactive||!1;return a}function Ha(a,
b){var c=function(c,d){return f(a[c],f(b[c],d))};c.isVertical=function(c){return"vertical"===f(a.direction,b.direction||(c?b.symbolDirection:b.gradientDirection))};c.gradientLength=function(){return f(a.gradientLength,b.gradientLength||b.gradientWidth)};c.gradientThickness=function(){return f(a.gradientThickness,b.gradientThickness||b.gradientHeight)};c.entryColumns=function(){return f(a.columns,f(b.columns,+c.isVertical(!0)))};return c}function Xa(a,b){return(a=b&&(b.update&&b.update[a]||b.enter&&
b.enter[a]))&&a.signal?a:a?a.value:null}function va(a,b,c){return"item.anchor \x3d\x3d\x3d 'start' ? "+a+" : item.anchor \x3d\x3d\x3d 'end' ? "+b+" : "+c}function Db(a,c){return c?a?b.isObject(a)?Object.assign({},a,{offset:Db(a.offset,c)}):{value:a,offset:c}:c:a}function Ra(a,b){b?(a.name=b.name,a.style=b.style||a.style,a.interactive=!!b.interactive,a.encode=N(a.encode,b,Ca)):a.interactive=!1;return a}function Kb(a,c,d,e){a=Ha(a,d);var f=a.isVertical();d=a.gradientThickness();var g=a.gradientLength(),
h;if(f){f=[0,1];var k=[0,0];var l=d;d=g}else f=[0,0],k=[1,0],l=g;c={enter:h={opacity:sb,x:sb,y:sb,width:Nb(l),height:Nb(d)},update:b.extend({},h,{opacity:dc,fill:{gradient:c,start:f,stop:k}}),exit:{opacity:sb}};M(c,{stroke:a("gradientStrokeColor"),strokeWidth:a("gradientStrokeWidth")},{opacity:a("gradientOpacity")});return Ra({type:"rect",role:"legend-gradient",encode:c},e)}function cb(a,c,d,e,f){a=Ha(a,d);var g=a.isVertical();d=a.gradientThickness();var h=a.gradientLength(),k,l,m,n,p="";g?(k="y",
m="y2",l="x",n="width",p="1-"):(k="x",m="x2",l="y",n="height");c={opacity:sb,fill:{scale:c,field:"value"}};c[k]={signal:p+"datum.perc",mult:h};c[l]=sb;c[m]={signal:p+"datum.perc2",mult:h};c[n]=Nb(d);k={enter:c,update:b.extend({},c,{opacity:dc}),exit:{opacity:sb}};M(k,{stroke:a("gradientStrokeColor"),strokeWidth:a("gradientStrokeWidth")},{opacity:a("gradientOpacity")});return Ra({type:"rect",role:"legend-band",key:"value",from:f,encode:k},e)}function wb(a,b,c,d){var e=Ha(a,b),g=e.isVertical(),h=Nb(e.gradientThickness()),
k=e.gradientLength(),l=e("labelOverlap"),m,n,p="";var r={enter:m={opacity:sb},update:n={opacity:dc,text:{field:"label"}},exit:{opacity:sb}};M(r,{fill:e("labelColor"),fillOpacity:e("labelOpacity"),font:e("labelFont"),fontSize:e("labelFontSize"),fontStyle:e("labelFontStyle"),fontWeight:e("labelFontWeight"),limit:f(a.labelLimit,b.gradientLabelLimit)});if(g){m.align={value:"left"};m.baseline=n.baseline={signal:'datum.perc\x3c\x3d0?"bottom":datum.perc\x3e\x3d1?"top":"middle"'};g="y";var t="x";p="1-"}else m.align=
n.align={signal:'datum.perc\x3c\x3d0?"left":datum.perc\x3e\x3d1?"right":"center"'},m.baseline={value:"top"},g="x",t="y";m[g]=n[g]={signal:p+"datum.perc",mult:k};m[t]=n[t]=h;h.offset=f(a.labelOffset,b.gradientLabelOffset)||0;l=l?{separation:e("labelSeparation"),method:l,order:"datum.index"}:void 0;return Ra({type:"text",role:"legend-label",style:"guide-label",key:"value",from:d,encode:r,overlap:l},c)}function zb(a,b,c,d,e){var f=Ha(a,b),g=c.entries,h=!(!g||!g.interactive),k=g?g.name:void 0,l=f("clipHeight"),
m=f("symbolOffset"),n={data:"value"},p={},r="("+e+") ? datum.offset : datum.size",t=l?Nb(l):{field:"size"},u="max(1, "+e+")",v,I;t.mult=.5;p={enter:v={opacity:sb,x:{signal:r,mult:.5,offset:m},y:t},update:I={opacity:dc,x:v.x,y:v.y},exit:{opacity:sb}};var Ga=null,w=null;a.fill||(Ga=b.symbolBaseFillColor,w=b.symbolBaseStrokeColor);M(p,{fill:f("symbolFillColor",Ga),shape:f("symbolType"),size:f("symbolSize"),stroke:f("symbolStrokeColor",w),strokeDash:f("symbolDash"),strokeDashOffset:f("symbolDashOffset"),
strokeWidth:f("symbolStrokeWidth")},{opacity:f("symbolOpacity")});La.forEach(function(b){a[b]&&(I[b]=v[b]={scale:a[b],field:"value"})});b=Ra({type:"symbol",role:"legend-symbol",key:"value",from:n,clip:l?!0:void 0,encode:p},c.symbols);p=Nb(m);p.offset=f("labelOffset");p={enter:v={opacity:sb,x:{signal:r,offset:p},y:t},update:I={opacity:dc,text:{field:"label"},x:v.x,y:v.y},exit:{opacity:sb}};M(p,{align:f("labelAlign"),baseline:f("labelBaseline"),fill:f("labelColor"),fillOpacity:f("labelOpacity"),font:f("labelFont"),
fontSize:f("labelFontSize"),fontStyle:f("labelFontStyle"),fontWeight:f("labelFontWeight"),limit:f("labelLimit")});c=Ra({type:"text",role:"legend-label",style:"guide-label",key:"value",from:n,encode:p},c.labels);p={enter:{noBound:{value:!l},width:sb,height:l?Nb(l):sb,opacity:sb},exit:{opacity:sb},update:I={opacity:dc,row:{signal:null},column:{signal:null}}};f.isVertical(!0)?(f="ceil(item.mark.items.length / "+u+")",I.row.signal="datum.index%"+f,I.column.signal="floor(datum.index / "+f+")",f={field:["row",
"datum.index"]}):(I.row.signal="floor(datum.index / "+u+")",I.column.signal="datum.index % "+u,f={field:"datum.index"});I.column.signal="("+e+")?"+I.column.signal+":datum.index";d={facet:{data:d,name:"value",groupby:"index"}};return Ta({role:"scope",from:d,encode:N(p,g,Ca),marks:[b,c],name:k,interactive:h,sort:f})}function Ja(a,b){a=Ha(a,b);return{align:a("gridAlign"),columns:a.entryColumns(),center:{row:!0,column:!1},padding:{row:a("rowPadding"),column:a("columnPadding")}}}function Ya(a,b,c,d){b=
Ha(a,b);var e={enter:{opacity:sb},update:{opacity:dc,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:sb}};M(e,{orient:b("titleOrient"),_anchor:b("titleAnchor"),anchor:{signal:'item._anchor || ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? "middle" : "start")'},angle:{signal:'datum.vgrad \x26\x26 (item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (item.orient \x3d\x3d\x3d "left" ? -90 : 90) : 0'},align:{signal:nd},baseline:{signal:kc},
text:a.title,fill:b("titleColor"),fillOpacity:b("titleOpacity"),font:b("titleFont"),fontSize:b("titleFontSize"),fontStyle:b("titleFontStyle"),fontWeight:b("titleFontWeight"),limit:b("titleLimit"),lineHeight:b("titleLineHeight")},{align:b("titleAlign"),baseline:b("titleBaseline")});return Ra({type:"text",role:"legend-title",style:"guide-title",from:d,encode:e},c)}function Xb(a,c){var d;b.isObject(a)&&(a.signal?d=a.signal:a.path?d="pathShape("+Yb(a.path)+")":a.sphere&&(d="geoShape("+Yb(a.sphere)+', {type: "Sphere"})'));
return d?c.signalRef(d):!!a}function Yb(a){return b.isObject(a)&&a.signal?a.signal:b.stringValue(a)}function bb(a){var b=a.role||"";return b.indexOf("axis")&&b.indexOf("legend")&&b.indexOf("title")?"group"===a.type?"scope":b||"mark":b}function tc(a){return{marktype:a.type,name:a.name||void 0,role:a.role||bb(a),zindex:+a.zindex||void 0,aria:a.aria,description:a.description}}function Qb(a,b){return a&&a.signal?b.signalRef(a.signal):!1===a?!1:!0}function Pa(a,c){var d=l.definition(a.type);d||b.error("Unrecognized transform type: "+
b.stringValue(a.type));var e=d.type.toLowerCase();var f=qb(d,a,c);e=new ca(e,null,f,void 0);a.signal&&c.addSignal(a.signal,c.proxy(e));e.metadata=d.metadata||{};return e}function qb(a,b,c){var d={},e;var f=0;for(e=a.params.length;f<e;++f){var g=a.params[f];d[g.name]=Rb(g,b,c)}return d}function Rb(a,c,d){var e=a.type,f=c[a.name];if("index"===e)return fc(a,c,d);if(void 0===f)a.required&&b.error("Missing required "+b.stringValue(c.type)+" parameter: "+b.stringValue(a.name));else return"param"===e?Ic(a,
c,d):"projection"===e?d.projectionRef(c[a.name]):a.array&&!qa(f)?f.map(function(b){return xb(a,b,d)}):xb(a,f,d)}function xb(a,c,e){var f=a.type;return qa(c)?"expr"===f?b.error("Expression references can not be signals."):"field"===f?e.fieldRef(c):"compare"===f?e.compareRef(c):e.signalRef(c.signal):(a=a.expr||"field"===f)&&c&&c.expr?e.exprRef(c.expr,c.as):a&&c&&c.field?T(c.field,c.as):"expr"===f?d.parseExpression(c,e):"data"===f?h(e.getData(c).values):"field"===f?T(c):"compare"===f?e.compareRef(c):
c}function fc(a,c,d){b.isString(c.from)||b.error('Lookup "from" parameter must be a string literal.');return d.getData(c.from).lookupRef(d,c.key)}function Ic(a,c,d){c=c[a.name];return a.array?(b.isArray(c)||b.error("Expected an array of sub-parameters. Instead: "+b.stringValue(c)),c.map(function(b){return pc(a,b,d)})):pc(a,c,d)}function pc(a,c,d){var e,f;var g=0;for(f=a.params.length;g<f;++g){var k=a.params[g];for(e in k.key)if(k.key[e]!==c[e]){k=null;break}if(k)break}k||b.error("Unsupported parameter: "+
b.stringValue(c));a=b.extend(qb(k,c,d),k.key);return h(d.add(Cb(a)))}function Mb(a,c,d){var e,f;if(!a)var g=h(d.add(mb(null,[{}])));else if(e=a.facet)if(c||b.error("Only group marks can be faceted."),null!=e.field)g=f=ic(e,d);else{a.data?f=h(d.getData(a.data).aggregate):(c=Pa(b.extend({type:"aggregate",groupby:b.array(e.groupby)},e.aggregate),d),c.params.key=d.keyRef(e.groupby),c.params.pulse=ic(e,d),g=f=h(d.add(c)));var k=d.keyRef(e.groupby,!0)}g||(g=ic(a,d));return{key:k,pulse:g,parent:f}}function ic(a,
b){return a.$ref?a:a.data&&a.data.$ref?a.data:h(b.getData(a.data).output)}function Lb(a,b,c,d,e){this.scope=a;this.input=b;this.output=c;this.values=d;this.aggregate=e;this.index={}}function pb(a){return b.isString(a)?a:null}function Ub(a,b,c){var d=la(c.op,c.field),e;if(b.ops)for(var f=0,g=b.as.length;f<g;++f){if(b.as[f]===d)return}else b.ops=["count"],b.fields=[null],b.as=["count"];c.op&&(b.ops.push((e=c.op.signal)?a.signalRef(e):c.op),b.fields.push(a.fieldRef(c.field)),b.as.push(d))}function ma(a,
c,d,e,f,g,k){d=c[d]||(c[d]={});var l=b.isObject(g)?("descending"===g.order?"-":"+")+la(g.op,g.field):"";var m=pb(f);if(null!=m){a=c.scope;m+=l?"|"+l:"";var n=d[m]}n||(n=g?{field:ud,pulse:c.countsRef(a,f,g)}:{field:a.fieldRef(f),pulse:h(c.output)},l&&(n.sort=a.sortRef(g)),a=a.add(new ca(e,void 0,n,void 0)),k&&(c.index[f]=a),n=h(a),null!=m&&(d[m]=n));return n}function qc(a,c,d){var e=a.from.facet,f=e.name,g=ic(e,c),k;e.name||b.error("Facet must have a name: "+b.stringValue(e));e.data||b.error("Facet must reference a data set: "+
b.stringValue(e));e.field?k=c.add(Fd({field:c.fieldRef(e.field),pulse:g})):e.groupby?k=c.add(Fa({key:c.keyRef(e.groupby),group:h(c.proxy(d.parent)),pulse:g})):b.error("Facet must specify groupby or field: "+b.stringValue(e));c=c.fork();d=c.add(mb());e=c.add(ra({pulse:h(d)}));c.addData(f,new Lb(c,d,d,e));c.addSignal("parent",null);k.params.subflow={$subflow:c.parse(a).toRuntime()}}function cc(a,b,c){c=b.add(Fd({pulse:c.pulse}));b=b.fork();b.add(ra());b.addSignal("parent",null);c.params.subflow={$subflow:b.parse(a).toRuntime()}}
function Sc(a,b,c){var e=a.remove,f=a.insert,g=a.toggle,h=a.modify,k=a.values,l=b.add(new ca("operator",void 0,void 0,void 0));a="if("+a.trigger+',modify("'+c+'",'+[f,e,g,h,k].map(function(a){return null==a?"null":a}).join(",")+"),0)";b=d.parseExpression(a,b);l.update=b.$expr;l.params=b.$params}function gc(a,c){var d=bb(a),e="group"===a.type,f=a.from&&a.from.facet,g=a.layout||"scope"===d||"frame"===d,k="mark"===d||g||f,l=a.overlap,m,n;var p=Mb(a.from,e,c);var r=c.add(ub({key:p.key||(a.key?T(a.key):
void 0),pulse:p.pulse,clean:!e}));var t=h(r);r=m=c.add(mb({pulse:t}));r=c.add(xa({markdef:tc(a),interactive:Qb(a.interactive,c),clip:Xb(a.clip,c),context:{$context:!0},groups:c.lookup(),parent:c.signals.parent?c.signalRef("parent"):null,index:c.markpath(),pulse:h(r)}));var u=h(r);r=n=c.add(Pb(B(a.encode,a.type,d,a.style,c,{mod:!1,pulse:u})));r.params.parent=c.encode();a.transform&&a.transform.forEach(function(a){a=Pa(a,c);var d=a.metadata;(d.generates||d.changes)&&b.error("Mark transforms should not generate new data.");
d.nomod||(n.params.mod=!0);a.params.pulse=h(r);c.add(r=a)});a.sort&&(r=c.add(Lc({sort:c.compareRef(a.sort),pulse:h(r)})));d=h(r);if(f||g){g=c.add(mc({layout:c.objectProperty(a.layout),legends:c.legends,mark:u,pulse:d}));var v=h(g)}u=c.add(jc({mark:u,pulse:v||d}));var Ga=h(u);if(e){if(k){var w=c.operators;w.pop();g&&w.pop()}c.pushState(d,v||Ga,t);f?qc(a,c,p):k?cc(a,c,p):c.parse(a);c.popState();k&&(g&&w.push(g),w.push(u))}l&&(Ga=sc(l,Ga,c));e=c.add($a({pulse:Ga}));f=c.add(ra({pulse:h(e)},void 0,c.parent()));
if(null!=a.name){var x=a.name;c.addData(x,new Lb(c,m,e,f));a.on&&a.on.forEach(function(a){(a.insert||a.remove||a.toggle)&&b.error("Marks only support modify triggers.");Sc(a,c,x)})}}function sc(a,b,c){var d=a.method,e=a.bound,f=a.separation;b={separation:qa(f)?c.signalRef(f.signal):f,method:qa(d)?c.signalRef(d.signal):d,pulse:b};a.order&&(b.sort=c.compareRef({field:a.order}));e&&(a=e.tolerance,b.boundTolerance=qa(a)?c.signalRef(a.signal):+a,b.boundScale=c.scaleRef(e.scale),b.boundOrient=e.orient);
return h(c.add(Zb(b)))}function Vc(a,d){var e=d.config.legend,f=a.encode||{},g=f.legend||{},k=g.name||void 0,l=g.interactive,m=g.style,n=Ha(a,e),p={},r=0,t;La.forEach(function(b){return a[b]?(p[b]=a[b],r=r||a[b]):0});r||b.error("Missing valid scale for legend.");var u=id(a,d.scaleType(r));var v={title:null!=a.title,scales:p,type:u,vgrad:"symbol"!==u&&n.isVertical()};var Ga=h(d.add(mb(null,[v])));g=N(Tc(n,a,e),g,Ca);var w=h(d.add(Sa(t={type:u,scale:d.scaleRef(r),count:d.objectProperty(n("tickCount")),
limit:d.property(n("symbolLimit")),values:d.objectProperty(a.values),minstep:d.property(a.tickMinStep),formatType:d.property(a.formatType),formatSpecifier:d.property(a.format)})));if("gradient"===u)u=[Kb(a,r,e,f.gradient),wb(a,e,f.labels,w)],t.count=t.count||d.signalRef("max(2,2*floor(("+c(n.gradientLength())+")/100))");else if("discrete"===u)u=[cb(a,r,e,f.gradient,w),wb(a,e,f.labels,w)];else{var x=Ja(a,e);u=[zb(a,e,f,w,c(x.columns))];t.size=Wc(a,d,u[0].marks)}u=[Ta({role:"legend-entry",from:Ga,encode:{enter:{x:{value:0},
y:{value:0}}},marks:u,layout:x,interactive:l})];v.title&&u.push(Ya(a,e,f.title,Ga));return gc(Ta({role:"legend",from:Ga,encode:g,marks:u,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:k,interactive:l,style:m}),d)}function id(a,b){var c=a.type||"symbol";a.type||1!==yc(a)||!a.fill&&!a.stroke||(c=y.isContinuous(b)?"gradient":y.isDiscretizing(b)?"discrete":"symbol");return"gradient"!==c?c:y.isDiscretizing(b)?"discrete":"gradient"}function yc(a){return La.reduce(function(b,c){return b+
(a[c]?1:0)},0)}function Tc(a,b,c){var d={enter:{},update:{}};M(d,{orient:a("orient"),offset:a("offset"),padding:a("padding"),titlePadding:a("titlePadding"),cornerRadius:a("cornerRadius"),fill:a("fillColor"),stroke:a("strokeColor"),strokeWidth:c.strokeWidth,strokeDash:c.strokeDash,x:a("legendX"),y:a("legendY"),format:b.format,formatType:b.formatType});return d}function Wc(a,b,e){var f=c(lb("size",a,e));a=c(lb("strokeWidth",a,e));(e=Xa("fontSize",e[1].encode))||(e=(e=b.config.style["guide-label"])&&
e.fontSize);e=c(e);return d.parseExpression("max(ceil(sqrt("+f+")+"+a+"),"+e+")",b)}function lb(a,b,c){return b[a]?'scale("'+b[a]+'",datum)':Xa(a,c[0].encode)}function Cc(a,c){a=b.isString(a)?{text:a}:a;var d=Ha(a,c.config.title),e=a.encode||{},f=e.group||{},g=f.name||void 0,k=f.interactive,l=f.style,m=[];var n=h(c.add(mb(null,[{}])));m.push(Ab(a,d,Aa(a),n));a.subtitle&&m.push(Wb(a,d,e.subtitle,n));a={enter:{},update:{}};M(a,{orient:d("orient"),anchor:d("anchor"),align:{signal:Fc},angle:{signal:'item.orient\x3d\x3d\x3d"left"?-90:item.orient\x3d\x3d\x3d"right"?90:0'},
limit:d("limit"),frame:d("frame"),offset:d("offset")||0,padding:d("subtitlePadding")});f=N(a,f,Ca);return gc(Ta({role:"title",from:n,encode:f,marks:m,aria:d("aria"),description:d("description"),zindex:d("zindex"),name:g,interactive:k,style:l}),c)}function Aa(a){var c=a.encode;return c&&c.title||b.extend({name:a.name,interactive:a.interactive,style:a.style},c)}function Ab(a,b,c,d){var e={value:0};e={enter:{opacity:e},update:{opacity:{value:1}},exit:{opacity:e}};M(e,{text:a.text,align:{signal:"item.mark.group.align"},
angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:b("dx"),dy:b("dy"),fill:b("color"),font:b("font"),fontSize:b("fontSize"),fontStyle:b("fontStyle"),fontWeight:b("fontWeight"),lineHeight:b("lineHeight")},{align:b("align"),angle:b("angle"),baseline:b("baseline")});return Ra({type:"text",role:"title-text",style:"group-title",from:d,encode:e},c)}function Wb(a,b,c,d){var e={value:0};e={enter:{opacity:e},update:{opacity:{value:1}},exit:{opacity:e}};M(e,{text:a.subtitle,
align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:b("dx"),dy:b("dy"),fill:b("subtitleColor"),font:b("subtitleFont"),fontSize:b("subtitleFontSize"),fontStyle:b("subtitleFontStyle"),fontWeight:b("subtitleFontWeight"),lineHeight:b("subtitleLineHeight")},{align:b("align"),angle:b("angle"),baseline:b("baseline")});return Ra({type:"text",role:"title-subtitle",style:"group-subtitle",from:d,encode:e},c)}function Qc(a,b){var c=
[];a.transform&&a.transform.forEach(function(a){c.push(Pa(a,b))});a.on&&a.on.forEach(function(c){Sc(c,b,a.name)});b.addDataPipeline(a.name,Ib(a,b,c))}function Ib(a,c,d){var e=[],f=null,g=!1,k=!1,l,m;a.values?ua(a.values)||ua(a.format)?(e.push(Rc(c,a)),e.push(f=Bc())):e.push(f=Bc({$ingest:a.values,$format:a.format})):a.url?ua(a.url)||ua(a.format)?(e.push(Rc(c,a)),e.push(f=Bc())):e.push(f=Bc({$request:a.url,$format:a.format})):a.source&&(f=l=b.array(a.source).map(function(a){return h(c.getData(a).output)}),
e.push(null));a=0;for(m=d.length;a<m;++a){var n=d[a];var p=n.metadata;f||p.source||e.push(f=Bc());e.push(n);p.generates&&(k=!0);p.modifies&&!k&&(g=!0);p.source?f=n:p.changes&&(f=null)}l&&(m=l.length-1,e[0]=aa({derive:g,pulse:m?l:l[0]}),(g||m)&&e.splice(1,0,Bc()));f||e.push(Bc());e.push(ra({}));return e}function Bc(a){a=mb({},a);a.metadata={source:!0};return a}function Rc(a,b){return V({url:b.url?a.property(b.url):void 0,async:b.async?a.property(b.async):void 0,values:b.values?a.property(b.values):
void 0,format:a.objectProperty(b.format)})}function Jc(a,c,d,e){if(c&&b.hasOwnProperty(c,a))return c[a];if(b.hasOwnProperty(d,a))return d[a];if(a.startsWith("title")){switch(a){case "titleColor":var f="fill";break;case "titleFont":case "titleFontSize":case "titleFontWeight":f=a[5].toLowerCase()+a.slice(6)}return e["guide-title"][f]}if(a.startsWith("label")){switch(a){case "labelColor":f="fill";break;case "labelFont":case "labelFontSize":f=a[5].toLowerCase()+a.slice(6)}return e["guide-label"][f]}return null}
function hd(a){var b={};a=$jscomp.makeIterator(a);for(var c=a.next();!c.done;c=a.next())if(c=c.value)for(var d in c)b[d]=1;return Object.keys(b)}function me(a,b,c,d){var e=Ha(a,b);b=a.orient;var f,g;var h={enter:f={opacity:sb},update:g={opacity:dc},exit:{opacity:sb}};M(h,{stroke:e("domainColor"),strokeCap:e("domainCap"),strokeDash:e("domainDash"),strokeDashOffset:e("domainDashOffset"),strokeWidth:e("domainWidth"),strokeOpacity:e("domainOpacity")});e={scale:a.scale,range:0};a={scale:a.scale,range:1};
f.x=g.x=nb(b,e,sb);f.x2=g.x2=nb(b,a);f.y=g.y=Mc(b,e,sb);f.y2=g.y2=Mc(b,a);return Ra({type:"rule",role:"axis-domain",from:d,encode:h},c)}function oc(a,c,d,e,f){var g=Ha(a,c);c=a.orient;var h=a.gridScale,k=Oc(c,1,-1);a:{var l=a.offset;if(1!==k)if(b.isObject(l)){for(var m=l=b.extend({},l);null!=m.mult;)if(b.isObject(m.mult))m=m.mult=b.extend({},m.mult);else{m.mult=qa(k)?{signal:"("+m.mult+") * ("+k.signal+")"}:m.mult*k;var n=l;break a}m.mult=k}else l=qa(k)?{signal:"("+k.signal+") * ("+(l||0)+")"}:k*
(l||0);n=l}var p,r;l={enter:m={opacity:sb},update:r={opacity:dc},exit:p={opacity:sb}};M(l,{stroke:g("gridColor"),strokeCap:g("gridCap"),strokeDash:g("gridDash"),strokeDashOffset:g("gridDashOffset"),strokeOpacity:g("gridOpacity"),strokeWidth:g("gridWidth")});a={scale:a.scale,field:"value",band:f.band,extra:f.extra,offset:f.offset,round:g("tickRound")};g=nb(c,{signal:"height"},{signal:"width"});f=h?{scale:h,range:0,mult:k,offset:n}:{value:0,offset:n};h=h?{scale:h,range:1,mult:k,offset:n}:b.extend(g,
{mult:k,offset:n});m.x=r.x=nb(c,a,f);m.y=r.y=Mc(c,a,f);m.x2=r.x2=Mc(c,h);m.y2=r.y2=nb(c,h);p.x=nb(c,a);p.y=Mc(c,a);return Ra({type:"rule",role:"axis-grid",key:"value",from:e,encode:l},d)}function Hd(a,b,c,d,e,f){var g=Ha(a,b);b=a.orient;var h=Oc(b,-1,1),k,l,m;var n={enter:k={opacity:sb},update:m={opacity:dc},exit:l={opacity:sb}};M(n,{stroke:g("tickColor"),strokeCap:g("tickCap"),strokeDash:g("tickDash"),strokeDashOffset:g("tickDashOffset"),strokeOpacity:g("tickOpacity"),strokeWidth:g("tickWidth")});
e=Nb(e);e.mult=h;a={scale:a.scale,field:"value",band:f.band,extra:f.extra,offset:f.offset,round:g("tickRound")};m.y=k.y=nb(b,sb,a);m.y2=k.y2=nb(b,e);l.x=nb(b,a);m.x=k.x=Mc(b,sb,a);m.x2=k.x2=Mc(b,e);l.y=Mc(b,a);return Ra({type:"rule",role:"axis-tick",key:"value",from:d,encode:n},c)}function qd(a,b,c,d,e){return{signal:'flush(range("'+a+'"), scale("'+a+'", datum.value), '+b+","+c+","+d+","+e+")"}}function Dc(a,b,d,e,f,g){b=Ha(a,b);var h=a.orient;a=a.scale;var k=Oc(h,-1,1),l=c(b("labelFlush")),m=c(b("labelFlushOffset")),
n=0===l||!!l,p=b("labelAlign"),r=b("labelBaseline");var t=Nb(f);t.mult=k;t.offset=Nb(b("labelPadding")||0);t.offset.mult=k;k={scale:a,field:"value",band:.5,offset:Db(g.offset,b("labelOffset"))};g=n?qd(a,l,'"left"','"right"','"center"'):{value:"center"};f=qa(h)?yb(h.signal+" \x3d\x3d\x3d 'right'","left","right"):"right"===h?{value:"left"}:{value:"right"};g=nb(h,g,f);f=nb(h,bd(h,"bottom","top"),n?qd(a,l,'"top"','"bottom"','"middle"'):{value:"middle"});l=qd(a,l,"-("+m+")",m,0);n=n&&m;t={opacity:sb,x:nb(h,
k,t),y:Mc(h,k,t)};t={enter:t,update:m={opacity:dc,text:{field:"label"},x:t.x,y:t.y,align:g,baseline:f},exit:{opacity:sb,x:t.x,y:t.y}};M(t,{dx:!p&&n?nb(h,l):null,dy:!r&&n?Mc(h,l):null});M(t,{angle:b("labelAngle"),fill:b("labelColor"),fillOpacity:b("labelOpacity"),font:b("labelFont"),fontSize:b("labelFontSize"),fontWeight:b("labelFontWeight"),fontStyle:b("labelFontStyle"),limit:b("labelLimit"),lineHeight:b("labelLineHeight")},{align:p,baseline:r});n=b("labelBound");p=(p=b("labelOverlap"))||n?{separation:b("labelSeparation"),
method:p,order:"datum.index",bound:n?{scale:a,orient:h,tolerance:n}:null}:void 0;m.align!==g&&(m.align=yd(m.align,g));m.baseline!==f&&(m.baseline=yd(m.baseline,f));return Ra({type:"text",role:"axis-label",style:"guide-label",key:"value",from:e,encode:t,overlap:p},d)}function uc(a,c,d,e){c=Ha(a,c);var f=a.orient,g=Oc(f,-1,1),h,k;var l={enter:h={opacity:sb,anchor:Nb(c("titleAnchor",null)),align:{signal:Fc}},update:k=b.extend({},h,{opacity:dc,text:Nb(a.title)}),exit:{opacity:sb}};a={signal:'lerp(range("'+
a.scale+'"), '+va(0,1,.5)+")"};k.x=nb(f,a);k.y=Mc(f,a);a=qa(g)?{signal:"("+g.signal+") * 90"}:{value:90*g};h.angle=nb(f,sb,a);h.baseline=nb(f,bd(f,"bottom","top"),{value:"bottom"});k.angle=h.angle;k.baseline=h.baseline;M(l,{fill:c("titleColor"),fillOpacity:c("titleOpacity"),font:c("titleFont"),fontSize:c("titleFontSize"),fontStyle:c("titleFontStyle"),fontWeight:c("titleFontWeight"),limit:c("titleLimit"),lineHeight:c("titleLineHeight")},{align:c("titleAlign"),angle:c("titleAngle"),baseline:c("titleBaseline")});
Xc(c,f,l,d);l.update.align=yd(l.update.align,h.align);l.update.angle=yd(l.update.angle,h.angle);l.update.baseline=yd(l.update.baseline,h.baseline);return Ra({type:"text",role:"axis-title",style:"guide-title",from:e,encode:l},d)}function Xc(a,b,c,d){var e=function(a,b){return null!=a?(c.update[b]=yd(Nb(a),c.update[b]),!1):J(b,d)?!1:!0},f=e(a("titleX"),"x");a=e(a("titleY"),"y");c.enter.auto=a===f?Nb(a):nb(b,Nb(a),Nb(f))}function Uc(a,c,d){var e=b.array(a.signals),g=b.array(a.scales);d||e.forEach(function(a){return p(a,
c)});b.array(a.projections).forEach(function(a){var b=c.config.projection||{},d={},e;for(e in a)"name"!==e&&(d[e]=db(a[e],e,c));for(e in b)null==d[e]&&(d[e]=db(b[e],e,c));c.addProjection(a.name,d)});g.forEach(function(a){var d=a.type||"linear";y.isValidScaleType(d)||b.error("Unrecognized scale type: "+b.stringValue(d));c.addScale(a.name,{type:d,domain:void 0})});b.array(a.data).forEach(function(a){return Qc(a,c)});g.forEach(function(a){var d=c.getScale(a.name).params,e;d.domain=k(a.domain,a,c);null!=
a.range&&(d.range=jb(a,c,d));if(null!=a.interpolate){var f=a.interpolate;d.interpolate=da(f.type||f);null!=f.gamma&&(d.interpolateGamma=da(f.gamma))}null!=a.nice&&(f=a.nice,f=b.isObject(f)?{interval:da(f.interval),step:da(f.step)}:da(f),d.nice=f);null!=a.bins&&(f=a.bins,f=f.signal||b.isArray(f)?Oa(f,c):c.objectProperty(f),d.bins=f);for(e in a)b.hasOwnProperty(d,e)||"name"===e||(d[e]=da(a[e],c))});(d||e).forEach(function(a){return ib(a,c)});b.array(a.axes).forEach(function(a){var d=c.config;var e=
d.style,g=d.axis,k="band"===c.scaleType(a.scale)&&d.axisBand,l=a.orient,m;if(qa(l)){var n=hd([d.axisX,d.axisY]);var p=hd([d.axisTop,d.axisBottom,d.axisLeft,d.axisRight]);var r={};n=$jscomp.makeIterator(n);for(m=n.next();!m.done;m=n.next())m=m.value,r[m]=nb(l,Jc(m,d.axisX,g,e),Jc(m,d.axisY,g,e));n={};p=$jscomp.makeIterator(p);for(m=p.next();!m.done;m=p.next()){m=m.value;var t=n,u=m,v=l.signal,Ga=Jc(m,d.axisTop,g,e),w=Jc(m,d.axisBottom,g,e),x=Jc(m,d.axisLeft,g,e);m=Jc(m,d.axisRight,g,e);m={signal:(null!=
x?v+" \x3d\x3d\x3d 'left' ? ("+nc(x)+") : ":"")+(null!=w?v+" \x3d\x3d\x3d 'bottom' ? ("+nc(w)+") : ":"")+(null!=m?v+" \x3d\x3d\x3d 'right' ? ("+nc(m)+") : ":"")+(null!=Ga?v+" \x3d\x3d\x3d 'top' ? ("+nc(Ga)+") : ":"")+"(null)"};t[u]=m}}else r="top"===l||"bottom"===l?d.axisX:d.axisY,n=d["axis"+l[0].toUpperCase()+l.slice(1)];d=r||n||k?b.extend({},g,r,n,k):g;e=a.encode||{};g=e.axis||{};k=g.name||void 0;l=g.interactive;r=g.style;n=Ha(a,d);p=n("tickBand");m=n("tickOffset");p?p.signal?(t={signal:"("+p.signal+
") \x3d\x3d\x3d 'extent' ? 1 : 0.5"},u={signal:"("+p.signal+") \x3d\x3d\x3d 'extent'"},b.isObject(m)||(m={signal:"("+p.signal+") \x3d\x3d\x3d 'extent' ? 0 : "+m})):"extent"===p?(t=1,u=!0,m=0):(t=.5,u=!1):(t=n("bandPosition"),u=n("tickExtra"));p={extra:u,band:t,offset:m};m={scale:a.scale,ticks:!!n("ticks"),labels:!!n("labels"),grid:!!n("grid"),domain:!!n("domain"),title:null!=a.title};t=h(c.add(mb({},[m])));u={enter:{},update:{}};M(u,{orient:n("orient"),offset:n("offset")||0,position:f(a.position,
0),titlePadding:n("titlePadding"),minExtent:n("minExtent"),maxExtent:n("maxExtent"),range:{signal:'abs(span(range("'+a.scale+'")))'},translate:n("translate"),format:a.format,formatType:a.formatType});g=N(u,g,Ca);u=h(c.add(Zc({scale:c.scaleRef(a.scale),extra:c.property(p.extra),count:c.objectProperty(a.tickCount),values:c.objectProperty(a.values),minstep:c.property(a.tickMinStep),formatType:c.property(a.formatType),formatSpecifier:c.property(a.format)})));v=[];m.grid&&v.push(oc(a,d,e.grid,u,p));if(m.ticks){var y=
n("tickSize");v.push(Hd(a,d,e.ticks,u,y,p))}m.labels&&(y=m.ticks?y:0,v.push(Dc(a,d,e.labels,u,y,p)));m.domain&&v.push(me(a,d,e.domain,t));m.title&&v.push(uc(a,d,e.title,t));return gc(Ta({role:"axis",from:t,encode:g,marks:v,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:k,interactive:l,style:r}),c)});b.array(a.marks).forEach(function(a){return gc(a,c)});b.array(a.legends).forEach(function(a){return Vc(a,c)});a.title&&Cc(a.title,c);c.parseLambdas();return c}function jd(a,b){var c=
b.config,d=h(b.root=b.add(new ca("operator",void 0,void 0,void 0))),e=Cd(a,c);e.forEach(function(a){return p(a,b)});b.description=a.description||c.description;b.eventConfig=c.events;b.legends=b.objectProperty(c.legend&&c.legend.layout);b.locale=c.locale;c=b.add(mb());var f=b.add(Pb(B(N({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},a.encode),"group","frame",a.style,b,{pulse:h(c)}))),g=b.add(mc({layout:b.objectProperty(a.layout),legends:b.legends,autosize:b.signalRef("autosize"),
mark:d,pulse:h(f)}));b.operators.pop();b.pushState(h(f),h(g),null);Uc(a,b,e);b.operators.push(g);a=b.add(jc({mark:d,pulse:h(g)}));a=b.add($a({pulse:h(a)}));a=b.add(ra({pulse:h(a)}));b.addData("root",new Lb(b,c,c,a));return b}function td(a,b){return b&&b.signal?{name:a,update:b.signal}:{name:a,value:b}}function Cd(a,c){var d=function(b){return f(a[b],c[b])},e=[td("background",d("background")),td("autosize",z(d("autosize"))),td("padding",E(d("padding"))),td("width",d("width")||0),td("height",d("height")||
0)],g=e.reduce(function(a,b){return a[b.name]=b,a},{}),h={};b.array(a.signals).forEach(function(a){b.hasOwnProperty(g,a.name)?a=b.extend(g[a.name],a):e.push(a);h[a.name]=a});b.array(c.signals).forEach(function(a){b.hasOwnProperty(h,a.name)||b.hasOwnProperty(g,a.name)||e.push(a)});return e}function Gb(a,b){this.config=a||{};this.options=b||{};this.bindings=[];this.field={};this.signals={};this.lambdas={};this.scales={};this.events={};this.data={};this.streams=[];this.updates=[];this.operators=[];this.locale=
this.eventConfig=null;this._subid=this._id=0;this._nextsub=[0];this._parent=[];this._encode=[];this._lookup=[];this._markpath=[]}function Jb(a){this.config=a.config;this.options=a.options;this.legends=a.legends;this.field=Object.create(a.field);this.signals=Object.create(a.signals);this.lambdas=Object.create(a.lambdas);this.scales=Object.create(a.scales);this.events=Object.create(a.events);this.data=Object.create(a.data);this.streams=[];this.updates=[];this.operators=[];this._id=0;this._subid=++a._nextsub[0];
this._nextsub=a._nextsub;this._parent=a._parent.slice();this._encode=a._encode.slice();this._lookup=a._lookup.slice();this._markpath=a._markpath}function kd(a){return(b.isArray(a)?Ec:Ga)(a)}function Ec(a){for(var c="[",d=0,e=a.length,f;d<e;++d)f=a[d],c+=(0<d?",":"")+(b.isObject(f)?f.signal||kd(f):b.stringValue(f));return c+"]"}function Ga(a){var c="{",d=0,e;for(e in a){var f=a[e];c+=(1<++d?",":"")+b.stringValue(e)+":"+(b.isObject(f)?f.signal||kd(f):b.stringValue(f))}return c+"}"}function hc(){return{description:"Vega visualization",
padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",
fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:"#ddd"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,
gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",
labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,
0]},symbol:"circle square triangle-up cross diamond triangle-right triangle-down triangle-left".split(" ")}}}var Nb=function(a){return b.isObject(a)&&!b.isArray(a)?b.extend({},a):{value:a}},Yc=function(a){return b.isString(a)?b.stringValue(a):a.signal?"("+a.signal+")":r(a)},Sb=function(a,b,c,d){return"("+a+"("+[b,c,d].map(D).join(",")+")+'')"},Sd=["value","update","init","react","bind"],ud=T("key"),Dd={code:"_.$value",ast:{type:"Identifier",value:"value"}},Ia=function(a){return function(b,c,d){return new ca(a,
c,b||void 0,d)}},Ob=Ia("aggregate"),Zc=Ia("axisticks"),jc=Ia("bound"),mb=Ia("collect"),Ua=Ia("compare"),ub=Ia("datajoin"),Pb=Ia("encode"),eb=Ia("expression"),Fa=Ia("facet"),Q=Ia("field"),Bb=Ia("key"),Sa=Ia("legendentries"),V=Ia("load"),xa=Ia("mark"),Qa=Ia("multiextent"),Za=Ia("multivalues"),Zb=Ia("overlap"),Cb=Ia("params"),Fd=Ia("prefacet"),vd=Ia("projection"),ia=Ia("proxy"),aa=Ia("relay"),$a=Ia("render"),Y=Ia("scale"),ra=Ia("sieve"),Lc=Ia("sortitems"),mc=Ia("viewlayout"),Da=Ia("values"),rb=0,Hb=
{min:"min",max:"max",count:"sum"},La="size shape fill stroke strokeWidth strokeDash opacity".split(" "),Ca={name:1,style:1,interactive:1},sb={value:0},dc={value:1},Fc=va(b.stringValue("left"),b.stringValue("right"),b.stringValue("center")),ld=va('"top"','"bottom"','"middle"'),nd='datum.vgrad \x26\x26 item.orient \x3d\x3d\x3d "right" ? ('+va('"right"','"left"','"center"')+') : ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") \x26\x26 !(datum.vgrad \x26\x26 item.orient \x3d\x3d\x3d "left")) ? "left" : '+
Fc,kc='(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (datum.vgrad ? (item.orient \x3d\x3d\x3d "right" ? "bottom" : "top") : '+ld+') : "top"';Lb.fromEntries=function(a,b){var c=b.length,d=1,e=b[0],f=b[c-1],g=b[c-2],k=null;e&&"load"===e.type&&(e=b[1]);for(a.add(b[0]);d<c;++d)b[d].params.pulse=h(b[d-1]),a.add(b[d]),"aggregate"===b[d].type&&(k=b[d]);return new Lb(a,e,g,f,k)};var rc=Lb.prototype;rc.countsRef=function(a,b,c){var d=this.counts||(this.counts={}),e=pb(b);if(null!=
e){a=this.scope;var f=d[e]}f?c&&c.field&&Ub(a,f.agg.params,c):(f={groupby:a.fieldRef(b,"key"),pulse:h(this.output)},c&&c.field&&Ub(a,f,c),c=a.add(Ob(f)),f=a.add(mb({pulse:h(c)})),f={agg:c,ref:h(f)},null!=e&&(d[e]=f));return f.ref};rc.tuplesRef=function(){return h(this.values)};rc.extentRef=function(a,b){return ma(a,this,"extent","extent",b,!1)};rc.domainRef=function(a,b){return ma(a,this,"domain","values",b,!1)};rc.valuesRef=function(a,b,c){return ma(a,this,"vals","values",b,c||!0)};rc.lookupRef=
function(a,b){return ma(a,this,"lookup","tupleindex",b,!1)};rc.indataRef=function(a,b){return ma(a,this,"indata","tupleindex",b,!0,!0)};var Oc=function(a,b,c){qa(a)?(a=a.signal,b=yb(a+" \x3d\x3d\x3d 'left' || "+a+" \x3d\x3d\x3d 'top'",b,c)):b="left"===a||"top"===a?b:c;return b},nb=function(a,b,c){qa(a)?(a=a.signal,b=wd(a+" \x3d\x3d\x3d 'top' || "+a+" \x3d\x3d\x3d 'bottom'",b,c)):b="bottom"===a||"top"===a?b:c;return b},Mc=function(a,b,c){qa(a)?(a=a.signal,b=wd(a+" !\x3d\x3d 'top' \x26\x26 "+a+" !\x3d\x3d 'bottom'",
b,c)):b="bottom"===a||"top"===a?c:b;return b},bd=function(a,b,c){return qa(a)?yb(a.signal+" \x3d\x3d\x3d 'top'",b,c):"top"===a?{value:b}:{value:c}},wd=function(a,c,d){c=null!=c?Nb(c):c;d=null!=d?Nb(d):d;if(null!=c&&1!==Object.keys(c).length||null!=d&&1!==Object.keys(d).length)return[b.extend({test:a},c)].concat(d||[]);c=c?c.signal||b.stringValue(c.value):null;d=d?d.signal||b.stringValue(d.value):null;return{signal:a+" ? ("+c+") : ("+d+")"}},yb=function(a,b,c){return{signal:a+" ? ("+nc(b)+") : ("+
nc(c)+")"}},nc=function(a){return qa(a)?a.signal:null==a?null:b.stringValue(a)},yd=function(a,b){var c=a.signal;return c&&c.endsWith("(null)")?{signal:c.slice(0,-6)+b.signal}:a},ob=Gb.prototype=Jb.prototype;ob.parse=function(a){return Uc(a,this)};ob.fork=function(){return new Jb(this)};ob.isSubscope=function(){return 0<this._subid};ob.toRuntime=function(){this.finish();return{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,
locale:this.locale}};ob.id=function(){return(this._subid?this._subid+":":0)+this._id++};ob.add=function(a){this.operators.push(a);a.id=this.id();a.refs&&(a.refs.forEach(function(b){b.$ref=a.id}),a.refs=null);return a};ob.proxy=function(a){a=a instanceof ca?h(a):a;return this.add(ia({value:a}))};ob.addStream=function(a){this.streams.push(a);a.id=this.id();return a};ob.addUpdate=function(a){this.updates.push(a);return a};ob.finish=function(){function a(a,b,c){a&&(a=a.data||(a.data={}),b=a[b]||(a[b]=
[]),b.push(c))}var b;this.root&&(this.root.root=!0);for(b in this.signals)this.signals[b].signal=b;for(b in this.scales)this.scales[b].scale=b;for(b in this.data){var c=this.data[b];a(c.input,b,"input");a(c.output,b,"output");a(c.values,b,"values");for(var d in c.index)a(c.index[d],b,"index:"+d)}return this};ob.pushState=function(a,b,c){this._encode.push(h(this.add(ra({pulse:a}))));this._parent.push(b);this._lookup.push(c?h(this.proxy(c)):null);this._markpath.push(-1)};ob.popState=function(){this._encode.pop();
this._parent.pop();this._lookup.pop();this._markpath.pop()};ob.parent=function(){return b.peek(this._parent)};ob.encode=function(){return b.peek(this._encode)};ob.lookup=function(){return b.peek(this._lookup)};ob.markpath=function(){var a=this._markpath;return++a[a.length-1]};ob.fieldRef=function(a,c){if(b.isString(a))return T(a,c);a.signal||b.error("Unsupported field reference: "+b.stringValue(a));a=a.signal;var d=this.field[a];d||(d={name:this.signalRef(a)},c&&(d.as=c),this.field[a]=d=h(this.add(Q(d))));
return d};ob.compareRef=function(a){function c(a){return qa(a)?(e=!0,d.signalRef(a.signal)):a&&a.expr?(e=!0,d.exprRef(a.expr)):a}var d=this,e=!1,f=b.array(a.field).map(c);a=b.array(a.order).map(c);return e?h(this.add(Ua({fields:f,orders:a}))):{$compare:f,$order:a}};ob.keyRef=function(a,c){var d=this.signals,e=!1;a=b.array(a).map(function(a){return qa(a)?(e=!0,h(d[a.signal])):a});return e?h(this.add(Bb({fields:a,flat:c}))):O(a,c)};ob.sortRef=function(a){if(!a)return a;var b=la(a.op,a.field);a=a.order||
"ascending";return a.signal?h(this.add(Ua({fields:b,orders:this.signalRef(a.signal)}))):{$compare:b,$order:a}};ob.event=function(a,b){var c=a+":"+b;if(!this.events[c]){var d=this.id();this.streams.push({id:d,source:a,type:b});this.events[c]=d}return this.events[c]};ob.hasOwnSignal=function(a){return b.hasOwnProperty(this.signals,a)};ob.addSignal=function(a,c){this.hasOwnSignal(a)&&b.error("Duplicate signal name: "+b.stringValue(a));c=c instanceof ca?c:this.add(new ca("operator",c,void 0,void 0));
return this.signals[a]=c};ob.getSignal=function(a){this.signals[a]||b.error("Unrecognized signal name: "+b.stringValue(a));return this.signals[a]};ob.signalRef=function(a){if(this.signals[a])return h(this.signals[a]);b.hasOwnProperty(this.lambdas,a)||(this.lambdas[a]=this.add(new ca("operator",null,void 0,void 0)));return h(this.lambdas[a])};ob.parseLambdas=function(){for(var a=Object.keys(this.lambdas),b=0,c=a.length;b<c;++b){var e=a[b],f=d.parseExpression(e,this);e=this.lambdas[e];e.params=f.$params;
e.update=f.$expr}};ob.property=function(a){return a&&a.signal?this.signalRef(a.signal):a};ob.objectProperty=function(a){return a&&b.isObject(a)?this.signalRef(a.signal||kd(a)):a};ob.exprRef=function(a,b){a={expr:d.parseExpression(a,this)};b&&(a.expr.$name=b);return h(this.add(eb(a)))};ob.addBinding=function(a,c){this.bindings||b.error("Nested signals do not support binding: "+b.stringValue(a));this.bindings.push(b.extend({signal:a},c))};ob.addScaleProj=function(a,c){b.hasOwnProperty(this.scales,a)&&
b.error("Duplicate scale or projection name: "+b.stringValue(a));this.scales[a]=this.add(c)};ob.addScale=function(a,b){this.addScaleProj(a,Y(b))};ob.addProjection=function(a,b){this.addScaleProj(a,vd(b))};ob.getScale=function(a){this.scales[a]||b.error("Unrecognized scale name: "+b.stringValue(a));return this.scales[a]};ob.projectionRef=ob.scaleRef=function(a){return h(this.getScale(a))};ob.projectionType=ob.scaleType=function(a){return this.getScale(a).params.type};ob.addData=function(a,c){b.hasOwnProperty(this.data,
a)&&b.error("Duplicate data set name: "+b.stringValue(a));return this.data[a]=c};ob.getData=function(a){this.data[a]||b.error("Undefined data set name: "+b.stringValue(a));return this.data[a]};ob.addDataPipeline=function(a,c){b.hasOwnProperty(this.data,a)&&b.error("Duplicate data set name: "+b.stringValue(a));return this.addData(a,Lb.fromEntries(this,c))};a.AxisDomainRole="axis-domain";a.AxisGridRole="axis-grid";a.AxisLabelRole="axis-label";a.AxisRole="axis";a.AxisTickRole="axis-tick";a.AxisTitleRole=
"axis-title";a.DataScope=Lb;a.FrameRole="frame";a.LegendEntryRole="legend-entry";a.LegendLabelRole="legend-label";a.LegendRole="legend";a.LegendSymbolRole="legend-symbol";a.LegendTitleRole="legend-title";a.MarkRole="mark";a.Scope=Gb;a.ScopeRole="scope";a.config=hc;a.parse=function(a,c,d){b.isObject(a)||b.error("Input Vega specification must be an object.");c=b.mergeConfig(hc(),c,a.config);return jd(a,new Gb(c,d)).toRuntime()};a.signal=p;a.signalUpdates=ib;a.stream=K;Object.defineProperty(a,"__esModule",
{value:!0})})};
shadow$provide[50]=function(E,y,J,z){Object.defineProperty(z,"__esModule",{value:!0});var a=y(0),b=y(14);E=y(16);J=y(25);var d=y(26),w=y(30),la=y(35),l=y(37),P=y(38),Na=y(40),W=y(41),M=y(42),N=y(15),Z=y(6),G=y(13),x=y(24),D=y(23),S=y(29),C=y(47),r=y(8),g=y(45),R=y(49),B=y(46);a.extend(b.transforms,E,J,d,w,la,l,P,Na,W,M);Object.keys(a).forEach(function(b){"default"!==b&&Object.defineProperty(z,b,{enumerable:!0,get:function(){return a[b]}})});Object.keys(N).forEach(function(a){"default"!==a&&Object.defineProperty(z,
a,{enumerable:!0,get:function(){return N[a]}})});Object.keys(Z).forEach(function(a){"default"!==a&&Object.defineProperty(z,a,{enumerable:!0,get:function(){return Z[a]}})});Object.keys(G).forEach(function(a){"default"!==a&&Object.defineProperty(z,a,{enumerable:!0,get:function(){return G[a]}})});Object.keys(x).forEach(function(a){"default"!==a&&Object.defineProperty(z,a,{enumerable:!0,get:function(){return x[a]}})});Object.defineProperty(z,"Dataflow",{enumerable:!0,get:function(){return b.Dataflow}});
Object.defineProperty(z,"EventStream",{enumerable:!0,get:function(){return b.EventStream}});Object.defineProperty(z,"MultiPulse",{enumerable:!0,get:function(){return b.MultiPulse}});Object.defineProperty(z,"Operator",{enumerable:!0,get:function(){return b.Operator}});Object.defineProperty(z,"Parameters",{enumerable:!0,get:function(){return b.Parameters}});Object.defineProperty(z,"Pulse",{enumerable:!0,get:function(){return b.Pulse}});Object.defineProperty(z,"Transform",{enumerable:!0,get:function(){return b.Transform}});
Object.defineProperty(z,"changeset",{enumerable:!0,get:function(){return b.changeset}});Object.defineProperty(z,"definition",{enumerable:!0,get:function(){return b.definition}});Object.defineProperty(z,"ingest",{enumerable:!0,get:function(){return b.ingest}});Object.defineProperty(z,"isTuple",{enumerable:!0,get:function(){return b.isTuple}});Object.defineProperty(z,"transform",{enumerable:!0,get:function(){return b.transform}});Object.defineProperty(z,"transforms",{enumerable:!0,get:function(){return b.transforms}});
Object.defineProperty(z,"tupleid",{enumerable:!0,get:function(){return b.tupleid}});Object.defineProperty(z,"interpolate",{enumerable:!0,get:function(){return D.interpolate}});Object.defineProperty(z,"interpolateColors",{enumerable:!0,get:function(){return D.interpolateColors}});Object.defineProperty(z,"interpolateRange",{enumerable:!0,get:function(){return D.interpolateRange}});Object.defineProperty(z,"quantizeInterpolator",{enumerable:!0,get:function(){return D.quantizeInterpolator}});Object.defineProperty(z,
"scale",{enumerable:!0,get:function(){return D.scale}});Object.defineProperty(z,"scheme",{enumerable:!0,get:function(){return D.scheme}});Object.defineProperty(z,"projection",{enumerable:!0,get:function(){return S.projection}});Object.defineProperty(z,"View",{enumerable:!0,get:function(){return C.View}});Object.defineProperty(z,"defaultLocale",{enumerable:!0,get:function(){return r.defaultLocale}});Object.defineProperty(z,"formatLocale",{enumerable:!0,get:function(){return r.numberFormatDefaultLocale}});
Object.defineProperty(z,"locale",{enumerable:!0,get:function(){return r.locale}});Object.defineProperty(z,"resetDefaultLocale",{enumerable:!0,get:function(){return r.resetDefaultLocale}});Object.defineProperty(z,"timeFormatLocale",{enumerable:!0,get:function(){return r.timeFormatDefaultLocale}});Object.defineProperty(z,"expressionFunction",{enumerable:!0,get:function(){return g.expressionFunction}});Object.defineProperty(z,"parse",{enumerable:!0,get:function(){return R.parse}});Object.defineProperty(z,
"runtimeContext",{enumerable:!0,get:function(){return B.context}});z.version="5.13.0"};
shadow$provide[51]=function(p,u,N,ja){var Ia=u(12).Buffer;(function(p,u){"object"===typeof ja&&"undefined"!==typeof N?u(ja):"function"===typeof define&&define.amd?define(["exports"],u):(p=p||self,u(p.vegaLite={}))})(this,function(p){function u(b,d,a){b.fields=d||[];b.fname=a;return b}function N(b){return 1===b.length?Mj(b[0]):Nj(b)}function ja(b){function d(){a.push(n+b.substring(r,e));n="";r=e+1}var a=[],c=null,f=0,h=b.length,n="",r,e;b+="";for(r=e=0;e<h;++e){var P=b[e];if("\\"===P)n+=b.substring(r,
e),n+=b.substring(++e,++e),r=e;else if(P===c)d(),c=null,f=-1;else if(!c)if(r===f&&'"'===P)r=e+1,c=P;else if(r===f&&"'"===P)r=e+1,c=P;else if("."===P&&!f)e>r?d():r=e+1;else if("["===P)e>r&&d(),f=r=e+1;else if("]"===P){if(!f)throw Error("Access path missing open bracket: "+b);0<f&&d();f=0;r=e+1}}if(f)throw Error("Access path missing closing bracket: "+b);if(c)throw Error("Access path missing closing quote: "+b);e>r&&(e++,d());return a}function Aa(b,d,a){d=[d].concat([].slice.call(a));console[b].apply(console,
d)}function U(b){return b===Object(b)}function fd(b){for(var d=[],a=0;a<arguments.length;++a)d[a-0]=arguments[a];return d.reduce(function(a,b){for(var c in b)"signals"===c?a.signals=Cd(a.signals,b.signals):gd(a,c,b[c],"legend"===c?{layout:1}:"style"===c?!0:null);return a},{})}function gd(b,d,a,c){if("__proto__"!==d){var f;if(U(a)&&!J(a))for(f in b=U(b[d])?b[d]:b[d]={},a)c&&(!0===c||c[f])?gd(b,f,a[f]):"__proto__"!==f&&(b[f]=a[f]);else b[d]=a}}function Cd(b,d){function a(a){c[a.name]||(c[a.name]=1,
f.push(a))}if(null==b)return d;var c={},f=[];d.forEach(a);b.forEach(a);return f}function da(b){return null!=b?J(b)?b:[b]:[]}function Mb(b){return"boolean"===typeof b}function W(b){return"number"===typeof b}function L(b){return"string"===typeof b}function M(b){return J(b)?"["+b.map(M)+"]":U(b)||L(b)?JSON.stringify(b).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):b}function Nb(b){for(var d={},a=0,c=b.length;a<c;++a)d[b[a]]=!0;return d}function z(b,d){var a={},c;for(c in b)Object.prototype.hasOwnProperty.call(b,
c)&&0>d.indexOf(c)&&(a[c]=b[c]);if(null!=b&&"function"===typeof Object.getOwnPropertySymbols){var f=0;for(c=Object.getOwnPropertySymbols(b);f<c.length;f++)0>d.indexOf(c[f])&&Object.prototype.propertyIsEnumerable.call(b,c[f])&&(a[c[f]]=b[c[f]])}return a}function vc(b,d){if(b.not)vc(b.not,d);else if(b.and){var a=$jscomp.makeIterator(b.and);for(b=a.next();!b.done;b=a.next())vc(b.value,d)}else if(b.or)for(a=$jscomp.makeIterator(b.or),b=a.next();!b.done;b=a.next())vc(b.value,d);else d(b)}function wc(b,
d){return b.not?{not:wc(b.not,d)}:b.and?{and:b.and.map(function(a){return wc(a,d)})}:b.or?{or:b.or.map(function(a){return wc(a,d)})}:d(b)}function xc(b,d){var a={};d=$jscomp.makeIterator(d);for(var c=d.next();!c.done;c=d.next())c=c.value,Mc.call(b,c)&&(a[c]=b[c]);return a}function sa(b,d){b=Object.assign({},b);d=$jscomp.makeIterator(d);for(var a=d.next();!a.done;a=d.next())delete b[a.value];return b}function S(b){if(W(b))return b;b=L(b)?b:Dd(b);if(250>b.length)return b;for(var d=0,a=0;a<b.length;a++){var c=
b.charCodeAt(a);d=(d<<5)-d+c;d&=d}return d}function Pg(b){return!1===b||null===b}function F(b,d){return-1<b.indexOf(d)}function yc(b,d){var a=0;b=$jscomp.makeIterator(b.entries());for(var c=b.next();!c.done;c=b.next()){var f=$jscomp.makeIterator(c.value);c=f.next().value;f=f.next().value;if(d(f,c,a++))return!0}return!1}function fe(b,d){var a=0;b=$jscomp.makeIterator(b.entries());for(var c=b.next();!c.done;c=b.next()){var f=$jscomp.makeIterator(c.value);c=f.next().value;f=f.next().value;if(!d(f,c,
a++))return!1}return!0}function hd(b,d){for(var a=[],c=1;c<arguments.length;++c)a[c-1]=arguments[c];a=$jscomp.makeIterator(a);for(c=a.next();!c.done;c=a.next()){var f=c.value;c=b;f=null!==f&&void 0!==f?f:{};for(var h=$jscomp.makeIterator(A(f)),n=h.next();!n.done;n=h.next())n=n.value,gd(c,n,f[n],!0)}return b}function Ob(b,d){var a=[],c={},f;b=$jscomp.makeIterator(b);for(f=b.next();!f.done;f=b.next()){var h=f.value;f=d(h);f in c||(c[f]=1,a.push(h))}return a}function Ed(b,d){b=$jscomp.makeIterator(b);
for(var a=b.next();!a.done;a=b.next())if(d.has(a.value))return!0;return!1}function ge(b){var d=new Set,a={};b=$jscomp.makeIterator(b);for(var c=b.next();!c.done;a={$jscomp$loop$prop$wrappedWithAccessors$435:a.$jscomp$loop$prop$wrappedWithAccessors$435},c=b.next()){c=ja(c.value);a.$jscomp$loop$prop$wrappedWithAccessors$435=c.map(function(a,b){return 0===b?a:"["+a+"]"});c=a.$jscomp$loop$prop$wrappedWithAccessors$435.map(function(a){return function(b,c){return a.$jscomp$loop$prop$wrappedWithAccessors$435.slice(0,
c+1).join("")}}(a));c=$jscomp.makeIterator(c);for(var f=c.next();!f.done;f=c.next())d.add(f.value)}return d}function Fd(b,d){return void 0===b||void 0===d?!0:Ed(ge(b),ge(d))}function ha(b){return 0===A(b).length}function he(b){var d=[],a;for(a in b)Mc.call(b,a)&&d.push({key:a,value:b[a]});return d}function aa(b){var d=b.replace(/\W/g,"_");return(b.match(/^\d+/)?"_":"")+d}function zc(b,d){return b.not?"!("+zc(b.not,d)+")":b.and?"("+b.and.map(function(a){return zc(a,d)}).join(") \x26\x26 (")+")":b.or?
"("+b.or.map(function(a){return zc(a,d)}).join(") || (")+")":d(b)}function Gd(b,d){if(0===d.length)return!0;var a=d.shift();a in b&&Gd(b[a],d)&&delete b[a];return ha(b)}function Ac(b){return b.charAt(0).toUpperCase()+b.substr(1)}function ie(b,d){d=void 0===d?"datum":d;b=ja(b);for(var a=[],c=1;c<=b.length;c++){var f="["+b.slice(0,c).map(M).join("][")+"]";a.push(""+d+f)}return a.join(" \x26\x26 ")}function Hd(b){return b.replace(/(\[|\]|\.|'|")/g,"\\$1")}function xb(b){return""+ja(b).map(Hd).join("\\.")}
function ba(b,d,a){return b.replace(new RegExp(d.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$\x26"),"g"),a)}function Ka(b){return b?ja(b).length:0}function na(b){for(var d=[],a=0;a<arguments.length;++a)d[a-0]=arguments[a];d=$jscomp.makeIterator(d);for(a=d.next();!a.done;a=d.next())if(a=a.value,void 0!==a)return a}function id(b){if(void 0!==b)return(b%360+360)%360}function Nc(b){return W(b)?!0:!isNaN(b)&&!isNaN(parseFloat(b))}function Id(b){return b&&b.condition}function bc(b){return F(["line","area","trail"],
b)}function La(b){return b.type}function yb(b){return"mark"in b}function jb(b){return!!b&&!!b.argmin}function Va(b){return!!b&&!!b.argmax}function Q(b){return L(b)&&!!Oj[b]}function Ba(b){switch(b){case "latitude":return"y";case "latitude2":return"y2";case "longitude":return"x";case "longitude2":return"x2"}}function cc(b){return"color"===b||"fill"===b||"stroke"===b}function Pb(b){return Qb(b)!==b}function Qb(b){switch(b){case "x2":return"x";case "y2":return"y";case "latitude2":return"latitude";case "longitude2":return"longitude";
case "theta2":return"theta";case "radius2":return"radius"}return b}function zb(b){if(b in kf)switch(b){case "theta":return"startAngle";case "theta2":return"endAngle";case "radius":return"outerRadius";case "radius2":return"innerRadius"}return b}function ea(b){switch(b){case "x":return"x2";case "y":return"y2";case "latitude":return"latitude2";case "longitude":return"longitude2";case "theta":return"theta2";case "radius":return"radius2"}}function R(b){switch(b){case "x":case "x2":return"width";case "y":case "y2":return"height"}}
function je(b){switch(b){case "x":return"xOffset";case "y":return"yOffset";case "x2":return"x2Offset";case "y2":return"y2Offset";case "theta":return"thetaOffset";case "radius":return"radiusOffset";case "theta2":return"theta2Offset";case "radius2":return"radius2Offset"}}function Oc(b){return"width"===b?"x":"y"}function dc(b){switch(b){case "color":case "fill":case "stroke":case "description":case "detail":case "key":case "tooltip":case "href":case "order":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "facet":case "row":case "column":return Qg;
case "x":case "y":case "latitude":case "longitude":return Pj;case "x2":case "y2":case "latitude2":case "longitude2":return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case "size":return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case "strokeDash":return{line:"always",point:"always",tick:"always",
rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case "shape":return{point:"always",geoshape:"always"};case "text":return{text:"always"};case "angle":return{point:"always",square:"always",text:"always"};case "url":return{image:"always"};case "theta":return{text:"always",arc:"always"};case "radius":return{text:"always",arc:"always"};case "theta2":case "radius2":return{arc:"always"}}}function oa(b){switch(b){case "facet":case "row":case "column":case "shape":case "strokeDash":case "text":case "tooltip":case "href":case "url":case "description":return"discrete";
case "color":case "fill":case "stroke":return"flexible"}}function Pc(b){Mb(b)&&(b=ke(b,void 0));return"bin"+A(b).map(function(d){return ec(b[d])?aa("_"+d+"_"+Object.entries(b[d])):aa("_"+d+"_"+b[d])}).join("")}function X(b){return!0===b||U(b)&&!b.binned}function ta(b){return"binned"===b||U(b)&&!0===b.binned}function ec(b){return null===b||void 0===b?void 0:b.selection}function Jd(b){switch(b){case "row":case "column":case "size":case "color":case "fill":case "stroke":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "shape":return 6;
case "strokeDash":return 4;default:return 10}}function Qc(b){return"Invalid specification "+JSON.stringify(b)+'. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".'}function jd(b){return("width"==b?"Width":"Height")+' "container" only works for single views and layered views.'}function Rc(b){return("width"==b?"Width":"Height")+' "container" only works well with autosize "fit" or "fit-'+("width"==b?"x":
"y")+'".'}function Sc(b){return b?'Dropping "fit-'+b+'" because spec has discrete '+R(b)+".":'Dropping "fit" because spec has discrete size.'}function Tc(b){return'Cannot project a selection on encoding channel "'+b+'", which has no field.'}function kb(b){return"Selection not supported for "+b+" yet."}function Ca(b){return'The "columns" property cannot be used when "'+b+'" has nested row/column.'}function ua(b,d,a){return'An ancestor parsed field "'+b+'" as '+a+" but a child wants to parse the field as "+
d+"."}function xa(b){return"Config.customFormatTypes is not true, thus custom format type and format for channel "+b+" are dropped."}function le(b,d){var a=d.fill;d=d.stroke;return"Dropping color "+b+" as the plot also has "+(a&&d?"fill and stroke":a?"fill":"stroke")+"."}function Kd(b,d){return"Dropping "+va(b)+' from channel "'+d+'" since it does not contain any data field, datum, value, or signal.'}function kd(b,d,a){return b+' dropped as it is incompatible with "'+d+'"'+(a?" when "+a:"")+"."}function ld(b,
d){return'Using discrete channel "'+b+'" to encode "'+d+'" field can be misleading as it does not encode '+("ordinal"===d?"order":"magnitude")+"."}function la(b,d,a){return a+"-scale's \""+d+'" is dropped as it does not work with '+b+" scale."}function me(b){return'The step for "'+b+'" is dropped because the '+("width"===b?"x":"y")+" is continuous."}function md(b,d){return"Invalid "+b+": "+va(d)+"."}function ne(b){return"1D error band does not support "+b+"."}function oe(b){return"Channel "+b+' is required for "binned" bin.'}
function x(b){for(var d=[],a=0;a<arguments.length;++a)d[a-0]=arguments[a];nd.warn.apply(nd,$jscomp.arrayFromIterable(d))}function lf(b){for(var d=[],a=0;a<arguments.length;++a)d[a-0]=arguments[a];nd.debug.apply(nd,$jscomp.arrayFromIterable(d))}function Bc(b){if(b&&U(b))for(var d=$jscomp.makeIterator(mf),a=d.next();!a.done;a=d.next())if(a.value in b)return!0;return!1}function Uc(b){Nc(b)&&(b=+b);if(W(b))return b-1;var d=b.toLowerCase(),a=Rg.indexOf(d);if(-1!==a)return a;d=d.substr(0,3);d=Qj.indexOf(d);
if(-1!==d)return d;throw Error(md("month",b));}function Rb(b){Nc(b)&&(b=+b);if(W(b))return b%7;var d=b.toLowerCase(),a=Sg.indexOf(d);if(-1!==a)return a;d=d.substr(0,3);d=Rj.indexOf(d);if(-1!==d)return d;throw Error(md("day",b));}function Ab(b,d){var a=[];d&&void 0!==b.day&&1<A(b).length&&(x("Dropping day from datetime "+va(b)+" as day cannot be combined with other units."),b=T(b),delete b.day);void 0!==b.year?a.push(b.year):a.push(2012);if(void 0!==b.month){var c=d?Uc(b.month):b.month;a.push(c)}else if(void 0!==
b.quarter){if(d)if(c=b.quarter,Nc(c)&&(c=+c),W(c))4<c&&x(md("quarter",c)),--c;else throw Error(md("quarter",c));else c=b.quarter;a.push(W(c)?3*c:c+"*3")}else a.push(0);void 0!==b.date?a.push(b.date):void 0!==b.day?(d=d?Rb(b.day):b.day,a.push(W(d)?d+1:d+"+1")):a.push(1);d=$jscomp.makeIterator(["hours","minutes","seconds","milliseconds"]);for(c=d.next();!c.done;c=d.next())c=b[c.value],a.push("undefined"===typeof c?0:c);return a}function Cc(b){var d=Ab(b,!0).join(", ");return b.utc?"utc("+d+")":"datetime("+
d+")"}function pe(b){var d=Ab(b,!0);return b.utc?+new Date(Date.UTC.apply(Date,$jscomp.arrayFromIterable(d))):+new (Function.prototype.bind.apply(Date,[null].concat($jscomp.arrayFromIterable(d))))}function lb(b){for(var d=[],a=$jscomp.makeIterator(mf),c=a.next();!c.done;c=a.next())c=c.value,qe(b,c)&&d.push(c);return d}function qe(b,d){var a=b.indexOf(d);return 0>a||0<a&&"seconds"===d&&"i"===b.charAt(a-1)||b.length>a+3&&"day"===d&&"o"===b.charAt(a+3)||0<a&&"year"===d&&"f"===b.charAt(a-1)?!1:!0}function od(b){if(b)return b=
lb(b),"timeUnitSpecifier("+Dd(b)+", "+Dd(Sj)+")"}function Da(b){if(b){var d;L(b)?d={unit:b}:U(b)&&(d=Object.assign(Object.assign({},b),b.unit?{unit:b.unit}:{}));d.unit.startsWith("utc")&&(d.utc=!0,d.unit=d.unit.substr(3));return d}}function nf(b){b=Da(b);var d=b.utc,a=z(b,["utc"]);return a.unit?(d?"utc":"")+A(a).map(function(b){return aa(("unit"===b?"":"_"+b+"_")+a[b])}).join(""):(d?"utc":"")+"timeunit"+A(a).map(function(b){return aa("_"+b+"_"+a[b])}).join("")}function C(b){return b&&!!b.signal}function Bb(b){return!!b.step}
function Cb(b){return J(b)?!1:"field"in b&&"data"in b}function pd(b){return b&&!!b.field&&void 0!==b.equal}function fc(b){return b&&b.field&&(J(b.range)&&2===b.range.length||C(b.range))?!0:!1}function gc(b){return b&&!!b.field&&(J(b.oneOf)||J(b.in))}function re(b){return gc(b)||pd(b)||fc(b)||b&&!!b.field&&void 0!==b.lt||b&&!!b.field&&void 0!==b.gt||b&&!!b.field&&void 0!==b.lte||b&&!!b.field&&void 0!==b.gte}function mb(b,d){return of(b,{timeUnit:d,wrapTime:!0})}function pf(b,d){return b.map(function(a){return mb(a,
d)})}function se(b,d){d=void 0===d?!0:d;var a,c=b.field,f=null===(a=Da(b.timeUnit))||void 0===a?void 0:a.unit;if(f){c=ie(c);var h=f.startsWith("utc")?"utc":"";a={};for(var n=$jscomp.makeIterator(mf),r=n.next();!r.done;r=n.next())if(r=r.value,qe(f,r)){var e="quarter"===r?"("+h+"quarter("+c+")-1)":""+h+r+"("+c+")";a[r]=e}c=Ab(a,!1).join(", ");a="time("+(a.utc?"utc("+c+")":"datetime("+c+")")+")"}else a=B(b,{expr:"datum"});if(pd(b))return a+"\x3d\x3d\x3d"+mb(b.equal,f);if(b&&b.field&&void 0!==b.lt)return a+
"\x3c"+mb(b.lt,f);if(b&&b.field&&void 0!==b.gt)return a+"\x3e"+mb(b.gt,f);if(b&&b.field&&void 0!==b.lte)return a+"\x3c\x3d"+mb(b.lte,f);if(b&&b.field&&void 0!==b.gte)return a+"\x3e\x3d"+mb(b.gte,f);if(gc(b))return"indexof(["+pf(b.oneOf,f).join(",")+"], "+a+") !\x3d\x3d -1";if(b&&b.field&&void 0!==b.valid)return hc(a,b.valid);if(fc(b)){c=b.range;b=C(c)?{signal:c.signal+"[0]"}:c[0];c=C(c)?{signal:c.signal+"[1]"}:c[1];if(null!==b&&null!==c&&d)return"inrange("+a+", ["+mb(b,f)+", "+mb(c,f)+"])";d=[];null!==
b&&d.push(a+" \x3e\x3d "+mb(b,f));null!==c&&d.push(a+" \x3c\x3d "+mb(c,f));return 0<d.length?d.join(" \x26\x26 "):"true"}throw Error("Invalid field predicate: "+JSON.stringify(b));}function hc(b,d){return void 0===d||d?"isValid("+b+") \x26\x26 isFinite(+"+b+")":"!isValid("+b+") || !isFinite(+"+b+")"}function te(b){var d;return re(b)&&b.timeUnit?Object.assign(Object.assign({},b),{timeUnit:null===(d=Da(b.timeUnit))||void 0===d?void 0:d.unit}):b}function qf(b){if(b)switch(b=b.toLowerCase(),b){case "q":case Vc:return"quantitative";
case "t":case qd:return"temporal";case "o":case rf:return"ordinal";case "n":case sf:return"nominal";case rd:return"geojson"}}function Ld(b){return null===b||void 0===b?void 0:b.selection}function sd(b,d){switch(d){case "type":case "domain":case "reverse":case "range":return!0;case "scheme":case "interpolate":return!F(["point","band","identity"],b);case "bins":return!F(["point","band","identity","ordinal"],b);case "round":return b in Db||"band"===b||"point"===b;case "padding":return b in Db||F(["point",
"band"],b);case "paddingOuter":case "align":return F(["point","band"],b);case "paddingInner":return"band"===b;case "domainMid":case "clamp":return b in Db;case "nice":return b in Db||"quantize"===b||"threshold"===b;case "exponent":return"pow"===b;case "base":return"log"===b;case "constant":return"symlog"===b;case "zero":return b in nb&&!F(["log","time","utc","threshold","quantile"],b)}}function ob(b,d){switch(d){case "interpolate":case "scheme":case "domainMid":if(!cc(b))return'Cannot use the scale property "'+
b+'" with non-color channel.'}}function Sb(b,d){return F([rf,sf],d)?void 0===b||b in $a:d===qd?F([Ha.TIME,Ha.UTC,void 0],b):d===Vc?F([Ha.LOG,Ha.POW,Ha.SQRT,Ha.SYMLOG,Ha.QUANTILE,Ha.QUANTIZE,Ha.THRESHOLD,Ha.LINEAR,void 0],b):!0}function Wc(b,d){if(!ic[b])return!1;switch(b){case "x":case "y":case "theta":case "radius":return d in Db||F(["band","point"],d);case "size":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "angle":return d in Db||d in ue||F(["band","point","ordinal"],
d);case "color":case "fill":case "stroke":return"band"!==d;case "strokeDash":return"ordinal"===d||d in ue;case "shape":return"ordinal"===d}}function Md(b){var d=b.channel,a=b.channelDef,c=b.markDef,f=b.scale,h=b.config;b=Eb(b);var n;if(n=D(a))n=a.aggregate,n=!(L(n)&&F(Tg,n));return n&&f&&f.get("type")in Db&&!1===f.get("zero")?ve({fieldDef:a,channel:d,markDef:c,ref:b,config:h}):b}function ve(b){var d=b.fieldDef,a=b.channel,c=b.markDef,f=b.ref;b=b.config;if(bc(c.type)||null===ca("invalid",c,b))return f;
d=jc(d,!0);a="y"===Qb(a)?{field:{group:"height"}}:{value:0};return[Object.assign({test:d},a),f]}function jc(b,d){d=void 0===d?!0:d;return hc(L(b)?b:B(b,{expr:"datum"}),!d)}function pb(b,d,a,c){var f={};d&&(f.scale=d);Dc(b)?(b=b.datum,Bc(b)?f.signal=Cc(b):C(b)?f.signal=b.signal:f.value=b):f.field=B(b,a);c&&(b=c.offset,c=c.band,b&&(f.offset=b),c&&(f.band=c));return f}function td(b){var d=b.scaleName,a=b.fieldOrDatumDef,c=b.fieldOrDatumDef2,f=b.offset,h=void 0===b.band?.5:b.band,n=0<h&&1>h?"datum":void 0;
b=B(a,{expr:n,suffix:b.startSuffix});a=void 0!==c?B(c,{expr:n}):B(a,{suffix:"end",expr:n});c={};0===h||1===h?(c.scale=d,c.field=0===h?b:a):c.signal='scale("'+d+'", '+(h+" * "+b+" + "+(1-h)+" * "+a)+")";f&&(c.offset=f);return c}function Eb(b){var d=b.channel,a=b.channelDef,c=b.channel2Def,f=b.markDef,h=b.config,n=b.scaleName,r=b.scale,Y=b.stack,P=b.offset,g=b.defaultRef;b=b.band;var k;if(a){if(K(a)){if(ab(a)){b=null!==b&&void 0!==b?b:Nd({channel:d,fieldDef:a,fieldDef2:c,markDef:f,stack:Y,config:h,
isMidPoint:!0});f=a.bin;h=a.timeUnit;g=a.type;if(X(f)||b&&h&&g===qd)return Y&&Y.impute?pb(a,n,{binSuffix:"mid"},{offset:P}):b?td({scaleName:n,fieldOrDatumDef:a,band:b,offset:P}):pb(a,n,Od(a,d)?{binSuffix:"range"}:{},{offset:P});if(ta(f)){if(D(c))return td({scaleName:n,fieldOrDatumDef:a,fieldOrDatumDef2:c,band:b,offset:P});x(oe("x"===d?"x2":"y2"))}}d=null===r||void 0===r?void 0:r.get("type");return pb(a,n,d in $a?{binSuffix:"range"}:{},{offset:P,band:"band"===d?null!==(k=null!==b&&void 0!==b?b:a.band)&&
void 0!==k?k:.5:void 0})}if(kc(a))return n=P?{offset:P}:{},Object.assign(Object.assign({},e(d,a.value)),n)}"function"===typeof g&&(g=g());return g?Object.assign(Object.assign({},g),P?{offset:P}:{}):g}function e(b,d){return F(["x","x2"],b)&&"width"===d?{field:{group:"width"}}:F(["y","y2"],b)&&"height"===d?{field:{group:"height"}}:Fa(d)}function g(b){return b&&"number"!==b&&"time"!==b}function k(b){var d=b.fieldOrDatumDef,a=b.format,c=b.formatType,f=b.expr,h=b.normalizeStack;b=b.config;var n,r;if(g(c))return m({fieldOrDatumDef:d,
format:a,formatType:c,expr:f,config:b});h=l(d,f,h);if(we(d))return c=D(d)?null===(n=Da(d.timeUnit))||void 0===n?void 0:n.unit:void 0,b=b.timeFormat,d=tf(d)&&(null===(r=d.scale)||void 0===r?void 0:r.type)===Ha.UTC,!c||a?(a=L(a)?a:b,r=(d?"utc":"time")+"Format("+h+", '"+a+"')"):c?(r=od(c),r=(d||c.startsWith("utc")?"utc":"time")+"Format("+h+", "+r+")"):r=void 0,r?{signal:r}:void 0;a=O(Ec(d),a,b);return D(d)&&X(d.bin)?(r=B(d,{expr:f,binSuffix:"end"}),{signal:Tb(h,r,a,c,b)}):a||"quantitative"===Ec(d)?{signal:"format("+
h+', "'+(a||"")+'")'}:{signal:"isValid("+h+") ? "+h+' : ""+'+h}}function l(b,d,a){if(D(b))return a?B(b,{expr:d,suffix:"end"})+"-"+B(b,{expr:d,suffix:"start"}):B(b,{expr:d});b=b.datum;b=Bc(b)?Cc(b):""+JSON.stringify(b);return b}function m(b){var d=b.fieldOrDatumDef,a=b.format,c=b.formatType,f=b.expr,h=b.normalizeStack,n=b.config;b=b.field;b=null!==b&&void 0!==b?b:l(d,f,h);return D(d)&&X(d.bin)?(d=B(d,{expr:f,binSuffix:"end"}),{signal:Tb(b,d,a,c,n)}):{signal:c+"("+b+(a?", "+JSON.stringify(a):"")+")"}}
function t(b,d,a,c,f,h){var n;if(!g(c))return we(b)?(b=D(b)?null===(n=Da(b.timeUnit))||void 0===n?void 0:n.unit:void 0,a=a?a:b?{signal:od(b)}:h?void 0:f.timeFormat,a):O(d,a,f)}function q(b,d,a){if(b&&(C(b)||"number"===b||"time"===b))return b;if(we(d)&&"time"!==a&&"utc"!==a)return"time"}function O(b,d,a){if(L(d))return d;if(b===Vc)return a.numberFormat}function G(b,d,a,c){var f;if(g(a))return a+"("+b+(d?", "+JSON.stringify(d):"")+")";d=null!==(f=L(d)?d:void 0)&&void 0!==f?f:c.numberFormat;return"format("+
b+', "'+(d||"")+'")'}function Tb(b,d,a,c,f){var h=G(b,a,c,f);d=G(d,a,c,f);return hc(b,!1)+' ? "null" : '+h+' + " – " + '+d}function Ub(b){return!!b&&("count"===b.op||!!b.field)}function ia(b){return!!b&&J(b)}function Pd(b){return"row"in b||"column"in b}function Ug(b){var d=b.field,a=b.timeUnit,c=b.bin;b=b.aggregate;return Object.assign(Object.assign(Object.assign(Object.assign({},a?{timeUnit:a}:{}),c?{bin:c}:{}),b?{aggregate:b}:{}),{field:d})}function Nd(b){var d=b.channel,a=b.fieldDef,c=b.fieldDef2,
f=b.markDef,h=b.stack,n=b.config;b=b.isMidPoint;if(K(a)&&void 0!==a.band)return a.band;if(D(a)){var r=a.bin;if(a.timeUnit&&!c)return b?Xc("timeUnitBandPosition",f,n):F(["rect","bar","image","arc"],f.type)?Xc("timeUnitBand",f,n):0;if(X(r))return F(["rect","bar","image","arc"],f.type)&&!b?1:.5}if((null===h||void 0===h?void 0:h.fieldChannel)===d&&b)return.5}function uf(b,d,a,c,f,h){return X(d.bin)||d.timeUnit&&ab(d)&&"temporal"===d.type?!!Nd({channel:b,fieldDef:d,fieldDef2:a,stack:c,markDef:f,config:h}):
!1}function xe(b){b=b&&b.condition;return!!b&&!J(b)&&D(b)}function vf(b){b=b&&b.condition;return!!b&&!J(b)&&K(b)}function D(b){return!!b&&(!!b.field||"count"===b.aggregate)}function Ec(b){return b&&b.type}function Dc(b){return!!b&&"datum"in b}function Vb(b){return ab(b)&&!wf(b)||xf(b)}function xf(b){return Dc(b)&&W(b.datum)}function K(b){return D(b)||Dc(b)}function ab(b){return!!b&&("field"in b&&"type"in b||"count"===b.aggregate)}function kc(b){return b&&"value"in b&&"value"in b}function tf(b){return!!b&&
("scale"in b||"sort"in b)}function yf(b){return b&&("axis"in b||"stack"in b||"impute"in b)}function Vg(b){return!!b&&("format"in b||"formatType"in b)}function B(b,d){d=void 0===d?{}:d;var a,c,f,h=b.field,n=d.prefix,r=d.suffix,e="";if("count"===b.aggregate)h="__count";else{if(!d.nofn)if("op"in b)var P=b.op;else{var g=b.bin,k=b.aggregate;b=b.timeUnit;X(g)?(P=Pc(g),r=(null!==(a=d.binSuffix)&&void 0!==a?a:"")+(null!==(c=d.suffix)&&void 0!==c?c:"")):k?Va(k)?(e='["'+h+'"]',h="argmax_"+k.argmax):jb(k)?(e=
'["'+h+'"]',h="argmin_"+k.argmin):P=String(k):b&&(P=nf(b),r=(!F(["range","mid"],d.binSuffix)&&d.binSuffix||"")+(null!==(f=d.suffix)&&void 0!==f?f:""))}P&&(h=h?P+"_"+h:P)}r&&(h=h+"_"+r);n&&(h=n+"_"+h);return d.forAs?""+ja(h).join("."):d.expr?(d=d.expr,(void 0===d?"datum":d)+"["+M(ja(h).join("."))+"]"+e):xb(h)+e}function wf(b){switch(b.type){case "nominal":case "ordinal":case "geojson":return!0;case "quantitative":return D(b)&&!!b.bin;case "temporal":return!1}throw Error('Invalid field type "'+b.type+
'".');}function Tj(b,d){var a,c=b.field,f=b.timeUnit,h=b.aggregate;if("count"===h)return d.countTitle;if(X(b.bin))return c+" (binned)";if(f){if(b=null===(a=Da(f))||void 0===a?void 0:a.unit)return c+" ("+lb(b).join("-")+")"}else if(h)return Va(h)?c+" for max "+h.argmax:jb(h)?c+" for min "+h.argmin:Ac(h)+" of "+c;return c}function Yc(b,d,a){var c=a.allowDisabling,f=void 0===a.includeDefault?!0:a.includeDefault,h,n;a=(null!==(h=zf(b))&&void 0!==h?h:{}).title;if(!D(b))return a;d=f?ye(b,d):void 0;return c?
na(a,b.title,d):null!==(n=null!==a&&void 0!==a?a:b.title)&&void 0!==n?n:d}function zf(b){if(yf(b)&&b.axis)return b.axis;if(b&&"legend"in b&&b.legend)return b.legend;if(b&&"header"in b&&b.header)return b.header}function ze(b){var d;if(Vg(b))return{format:b.format,formatType:b.formatType};b=null!==(d=zf(b))&&void 0!==d?d:{};return{format:b.format,formatType:b.formatType}}function Uj(b,d){if(b.timeUnit)return"temporal";if(X(b.bin))return"quantitative";switch(oa(d)){case "continuous":return"quantitative";
case "discrete":return"nominal";case "flexible":return"nominal";default:return"quantitative"}}function Wb(b){if(D(b))return b;if(xe(b))return b.condition}function ma(b){if(K(b))return b;if(vf(b))return b.condition}function Af(b,d,a){return L(b)||W(b)||Mb(b)?(a=L(b)?"string":W(b)?"number":"boolean",x("Channel "+d+" is a "+a+". Converted to {value: "+va(b)+"}."),{value:b}):K(b)?Ae(b,d,a):vf(b)?Object.assign(Object.assign({},b),{condition:Ae(b.condition,d,a)}):b}function Ae(b,d,a){if(Vg(b)){var c=b.formatType,
f=z(b,["format","formatType"]);if(g(c)&&!a.customFormatTypes)return x(xa(d)),Ae(f,d,a)}else if((c=yf(b)?"axis":b&&"legend"in b?"legend":b&&"header"in b?"header":null)&&b[c]){var h=b[c];f=h.formatType;h=z(h,["format","formatType"]);if(g(f)&&!a.customFormatTypes)return x(xa(d)),f={},Ae(Object.assign(Object.assign({},b),(f[c]=h,f)),d,a)}if(D(b))return Wg(b,d);d=b.type;d||(d=b.datum,d=W(d)?"quantitative":L(d)?"nominal":Bc(d)?"temporal":void 0,b=Object.assign(Object.assign({},b),{type:d}));return b}function Wg(b,
d){var a=b.aggregate,c=b.timeUnit,f=b.bin,h=b.field;b=Object.assign({},b);!a||Q(a)||Va(a)||jb(a)||(x('Invalid aggregation operator "'+a+'".'),delete b.aggregate);c&&(b.timeUnit=Da(c));h&&(b.field=""+h);X(f)&&(b.bin=ke(f,d));!ta(f)||d in Pa||x("Channel "+d+' should not be used with "binned" bin.');ab(b)?(c=b.type,f=qf(c),c!==f&&(b.type=f),"quantitative"!==c&&L(a)&&F(Tg,a)&&(x('Invalid field type "'+c+'" for aggregate: "'+a+'", using "quantitative" instead.'),b.type="quantitative")):Pb(d)||(a=Uj(b,
d),x('Missing type for channel "'+d+'", using "'+a+'" instead.'),b.type=a);ab(b)&&(d=Vj(b,d),a=d.warning,d.compatible||x(a));if(ab(b)&&"sort"in b&&L(b.sort)){d=b.sort;if(d in Xg)return Object.assign(Object.assign({},b),{sort:{encoding:d}});a=d.substr(1);if("-"===d.charAt(0)&&a in Xg)return Object.assign(Object.assign({},b),{sort:{encoding:a,order:"descending"}})}return b&&"header"in b&&(d=b.header,a=d.orient,c=z(d,["orient"]),a)?Object.assign(Object.assign({},b),{header:Object.assign(Object.assign({},
c),{labelOrient:d.labelOrient||a,titleOrient:d.titleOrient||a})}):b}function ke(b,d){return Mb(b)?{maxbins:Jd(d)}:"binned"===b?{binned:!0}:b.maxbins||b.step?b:Object.assign(Object.assign({},b),{maxbins:Jd(d)})}function Vj(b,d){var a=b.type;if("geojson"===a&&"shape"!==d)return{compatible:!1,warning:"Channel "+d+" should not be used with a geojson data."};switch(d){case "row":case "column":case "facet":return wf(b)?Zc:{compatible:!1,warning:d+" encoding should be discrete (ordinal / nominal / binned)."};
case "x":case "y":case "color":case "fill":case "stroke":case "text":case "detail":case "key":case "tooltip":case "href":case "url":case "angle":case "theta":case "radius":case "description":return Zc;case "longitude":case "longitude2":case "latitude":case "latitude2":return a!==Vc?{compatible:!1,warning:"Channel "+d+" should be used with a quantitative field only, not "+b.type+" field."}:Zc;case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "size":case "theta2":case "radius2":case "x2":case "y2":return"nominal"!==
a||b.sort?Zc:{compatible:!1,warning:"Channel "+d+" should not be used with an unsorted discrete field."};case "strokeDash":return F(["ordinal","nominal"],b.type)?Zc:{compatible:!1,warning:"StrokeDash channel should be used with only discrete data."};case "shape":return F(["ordinal","nominal","geojson"],b.type)?Zc:{compatible:!1,warning:"Shape channel should be used with only either discrete or geojson data."};case "order":return"nominal"!==b.type||"sort"in b?Zc:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}
function we(b){var d=ze(b).formatType,a;if(!(a="time"===d)){if(d=!d)d=b&&("temporal"===b.type||D(b)&&!!b.timeUnit);a=d}return a}function of(b,d){var a=d.timeUnit,c=d.type,f=d.wrapTime;d=d.undefinedIfExprNotRequired;var h;c=(a=a&&(null===(h=Da(a))||void 0===h?void 0:h.unit))||"temporal"===c;if(C(b))var n=b.signal;else Bc(b)?(c=!0,n=Cc(b)):(L(b)||W(b))&&c&&(n="datetime("+JSON.stringify(b)+")",Yg[a]&&(W(b)&&1E4>b||L(b)&&isNaN(Date.parse(b)))&&(n={},n=Cc((n[a]=b,n))));return n?f&&c?"time("+n+")":n:d?
void 0:JSON.stringify(b)}function Zg(b,d){var a=b.type;return d.map(function(c){var d=of(c,{timeUnit:D(b)?b.timeUnit:void 0,type:a,undefinedIfExprNotRequired:!0});return void 0!==d?{signal:d}:c})}function Od(b,d){return X(b.bin)?!!ic[d]&&F(["ordinal","nominal"],b.type):(console.warn("Only call this method for binned field defs."),!1)}function $g(b){var d=b.anchor,a=b.frame,c=b.offset,f=b.orient,h=b.color,n=b.subtitleColor,r=b.subtitleFont,e=b.subtitleFontSize,P=b.subtitleFontStyle,g=b.subtitleFontWeight,
k=b.subtitleLineHeight,l=b.subtitlePadding;b=z(b,"anchor frame offset orient color subtitleColor subtitleFont subtitleFontSize subtitleFontStyle subtitleFontWeight subtitleLineHeight subtitlePadding".split(" "));h=Object.assign(Object.assign({},b),h?{fill:h}:{});d=Object.assign(Object.assign(Object.assign(Object.assign({},d?{anchor:d}:{}),a?{frame:a}:{}),c?{offset:c}:{}),f?{orient:f}:{});n=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},n?{subtitleColor:n}:
{}),r?{subtitleFont:r}:{}),e?{subtitleFontSize:e}:{}),P?{subtitleFontStyle:P}:{}),g?{subtitleFontWeight:g}:{}),k?{subtitleLineHeight:k}:{}),l?{subtitlePadding:l}:{});r=xc(h,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:h,subtitleMarkConfig:r,nonMark:d,subtitle:n}}function bb(b){return L(b)||J(b)&&L(b[0])}function Fa(b){return C(b)?b:void 0!==b?{value:b}:void 0}function Qd(b){return C(b)?b.signal:null==b?null:M(b)}function Wj(b,d,a){a=$jscomp.makeIterator(a);for(var c=a.next();!c.done;c=
a.next()){c=c.value;var f=Xc(c,d.markDef,d.config);void 0!==f&&(b[c]=Fa(f))}return b}function ah(b){var d;return[].concat(b.type,null!==(d=b.style)&&void 0!==d?d:[])}function ca(b,d,a,c){var f=c=void 0===c?{}:c,h=f.vgChannel;if(h&&void 0!==d[h])return d[h];if(void 0!==d[b])return d[b];if(!f.ignoreVgConfig||h&&h!==b)return Xc(b,d,a,c)}function Xc(b,d,a,c){c=(void 0===c?{}:c).vgChannel;return na(c?Be(b,d,a.style):void 0,Be(b,d,a.style),c?a[d.type][c]:void 0,a[d.type][b],c?a.mark[c]:a.mark[b])}function Be(b,
d,a){return bh(b,ah(d),a)}function bh(b,d,a){d=da(d);var c;d=$jscomp.makeIterator(d);for(var f=d.next();!f.done;f=d.next())(f=a[f.value])&&void 0!==f[b]&&(c=f[b]);return c}function ch(b,d){return da(b).reduce(function(a,b){var c;a.field.push(B(b,d));a.order.push(null!==(c=b.sort)&&void 0!==c?c:"ascending");return a},{field:[],order:[]})}function dh(b,d){var a=[].concat($jscomp.arrayFromIterable(b));d.forEach(function(b){for(var c=$jscomp.makeIterator(a),d=c.next();!d.done;d=c.next())if(Rd(d.value,
b))return;a.push(b)});return a}function eh(b,d){return Rd(b,d)||!d?b:b?[].concat($jscomp.arrayFromIterable(da(b)),$jscomp.arrayFromIterable(da(d))).join(", "):d}function fh(b,d){var a=b.value;d=d.value;if(null==a||null===d)return{explicit:b.explicit,value:null};if((bb(a)||C(a))&&(bb(d)||C(d)))return{explicit:b.explicit,value:eh(a,d)};if(bb(a)||C(a))return{explicit:b.explicit,value:a};if(bb(d)||C(d))return{explicit:b.explicit,value:d};if(!(bb(a)||C(a)||bb(d)||C(d)))return{explicit:b.explicit,value:dh(a,
d)};throw Error("It should never reach here");}function $c(b,d){return(b=b&&b[d])?J(b)?yc(b,function(a){return!!a.field}):D(b)||xe(b):!1}function Bf(b){return yc(gh,function(d){return $c(b,d)?(d=b[d],J(d)?yc(d,function(a){return!!a.aggregate}):(d=Wb(d))&&!!d.aggregate):!1})}function Cf(b,d){var a=[],c=[],f=[],h=[],n={};Df(b,function(r,e){if(D(r)){var Y=r.field,g=r.aggregate,k=r.bin,l=r.timeUnit,m=z(r,["field","aggregate","bin","timeUnit"]);if(g||l||k){var t=zf(r),w=t&&t.title;t=B(r,{forAs:!0});m=
Object.assign(Object.assign(Object.assign({},w?[]:{title:Yc(r,d,{allowDisabling:!0})}),m),{field:t});if(g){if(Va(g)){var q="argmax";t=B({op:"argmax",field:g.argmax},{forAs:!0});m.field=t+"."+Y}else jb(g)?(q="argmin",t=B({op:"argmin",field:g.argmin},{forAs:!0}),m.field=t+"."+Y):"boxplot"!==g&&"errorbar"!==g&&"errorband"!==g&&(q=g);q&&(r={op:q,as:t},Y&&(r.field=Y),h.push(r))}else a.push(t),ab(r)&&X(k)?(c.push({bin:k,field:Y,as:t}),a.push(B(r,{binSuffix:"end"})),Od(r,e)&&a.push(B(r,{binSuffix:"range"})),
e in Pa&&(n[e+"2"]={field:t+"_end"}),m.bin="binned",Pb(e)||(m.type=Vc)):l&&(f.push({timeUnit:l,field:Y,as:t}),(Y=ab(r)&&r.type!==qd&&"time")&&("text"===e||"tooltip"===e?m.formatType=Y:Ef[e]?m.legend=Object.assign({formatType:Y},m.legend):e in Pa&&(m.axis=Object.assign({formatType:Y},m.axis))));n[e]=m}else a.push(Y),n[e]=b[e]}else n[e]=b[e]});return{bins:c,timeUnits:f,aggregate:h,groupby:a,encoding:n}}function Xj(b,d,a){a=dc(d)[a];return a&&("binned"!==a||(a=b["x2"===d?"x":"y"],D(a)&&D(b[d])&&ta(a.bin)))?
!0:!1}function Yj(b,d,a){var c=d.type;return A(b).reduce(function(f,h){if(!Ce[h])return x(h+"-encoding is dropped as "+h+" is not a valid encoding channel."),f;var n=b[h];"angle"!==h||"arc"!==c||b.theta||(x("Arc marks uses theta channel rather than angle, replacing angle with theta."),h="theta");if(!Xj(b,h,c))return x(kd(h,c)),f;if("size"===h&&"line"===c){var r=Wb(b[h]);if(null===r||void 0===r?0:r.aggregate)return x("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead."),
f}if("color"===h&&(d.filled?"fill"in b:"stroke"in b))return x(le("encoding",{fill:"fill"in b,stroke:"stroke"in b})),f;if("detail"===h||"order"===h&&!J(n)&&!kc(n)||"tooltip"===h&&J(n))n&&(f[h]=da(n).reduce(function(a,b){D(b)?a.push(Wg(b,h)):x(Kd(b,h));return a},[]));else{if("tooltip"===h&&null===n)f[h]=null;else if(!(D(n)||Dc(n)||kc(n)||n&&"condition"in n||C(n)))return x(Kd(n,h)),f;f[h]=Af(n,h,a)}return f},{})}function Zj(b){for(var d=[],a=$jscomp.makeIterator(A(b)),c=a.next();!c.done;c=a.next())if(c=
c.value,$c(b,c)){c=da(b[c]);c=$jscomp.makeIterator(c);for(var f=c.next();!f.done;f=c.next())f=f.value,D(f)?d.push(f):xe(f)&&d.push(f.condition)}return d}function Df(b,d,a){if(b)for(var c=$jscomp.makeIterator(A(b)),f=c.next();!f.done;f=c.next()){f=f.value;var h=b[f];if(J(h)){h=$jscomp.makeIterator(h);for(var n=h.next();!n.done;n=h.next())d.call(a,n.value,f)}else d.call(a,h,f)}}function hh(b,d,a,c){return b?A(b).reduce(function(a,h){var f=b[h];return J(f)?f.reduce(function(a,b){return d.call(c,a,b,
h)},a):d.call(c,a,f,h)},a):a}function ih(b,d){return A(d).reduce(function(a,c){switch(c){case "x":case "y":case "href":case "description":case "url":case "x2":case "y2":case "theta":case "theta2":case "radius":case "radius2":case "latitude":case "longitude":case "latitude2":case "longitude2":case "text":case "shape":case "angle":case "tooltip":return a;case "order":if("line"===b||"trail"===b)return a;case "detail":case "key":c=d[c];if(J(c)||D(c)){c=$jscomp.makeIterator(da(c));for(var f=c.next();!f.done;f=
c.next())f=f.value,f.aggregate||a.push(B(f,{}))}return a;case "size":if("trail"===b)return a;case "color":case "fill":case "stroke":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeDash":case "strokeWidth":return(c=Wb(d[c]))&&!c.aggregate&&a.push(B(c,{})),a}},[])}function Ff(b,d,a,c){c=void 0===c?!0:c;if("tooltip"in a)return{tooltip:a.tooltip};b=b.map(function(a){var b=a.titlePrefix,f=c?" of "+d.field:"";return{field:a.fieldPrefix+d.field,type:d.type,title:C(b)?{signal:b+('"'+escape(f)+
'"')}:b+f}});return{tooltip:[].concat($jscomp.arrayFromIterable(b),$jscomp.arrayFromIterable(Zj(a)))}}function jh(b){var d=b.axis,a=b.title;b=b.field;return d&&void 0!==d.title?void 0:na(a,b)}function Sd(b,d,a,c,f){var h=a.scale,n=a.axis;return function(r){var e=r.partName,P=r.mark,g=r.positionPrefix,k=void 0===r.endPositionPrefix?void 0:r.endPositionPrefix,l=r.aria;r=void 0===r.extraEncoding?{}:r.extraEncoding;var m=jh(a),t={},w={};return kh(b,e,f,l,{mark:P,encoding:Object.assign(Object.assign(Object.assign((t[d]=
Object.assign(Object.assign(Object.assign({field:g+"_"+a.field,type:a.type},void 0!==m?{title:m}:{}),void 0!==h?{scale:h}:{}),void 0!==n?{axis:n}:{}),t),L(k)?(w[d+"2"]={field:k+"_"+a.field},w):{}),c),r)})}}function kh(b,d,a,c,f){var h=b.clip,n=b.color,r=b.opacity,e=b.type;return b[d]||void 0===b[d]&&a[d]?[Object.assign(Object.assign({},f),{mark:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},a[d]),h?{clip:h}:{}),n?{color:n}:{}),r?
{opacity:r}:{}),La(f.mark)?f.mark:{type:f.mark}),{style:e+"-"+d}),Mb(b[d])?{}:b[d]),!1===c?{aria:c}:{})})]:[]}function lh(b,d,a){b=b.encoding;d="vertical"===d?"y":"x";var c=b[d+"2"],f=b[d+"Error"],h=b[d+"Error2"];return{continuousAxisChannelDef:De(b[d],a),continuousAxisChannelDef2:De(c,a),continuousAxisChannelDefError:De(f,a),continuousAxisChannelDefError2:De(h,a),continuousAxis:d}}function De(b,d){if(b&&b.aggregate){var a=b.aggregate;b=z(b,["aggregate"]);a!==d&&x("Continuous axis should not have customized aggregation function "+
a+"; "+d+" already agregates the axis.");return b}return b}function mh(b,d){var a=b.mark,c=b.encoding;b=c.x;c=c.y;if(Vb(b)){if(Vb(c)){b=D(b)&&b.aggregate;c=D(c)&&c.aggregate;if(!b&&c===d)return"vertical";if(c||b!==d){if(b===d&&c===d)throw Error("Both x and y cannot have aggregate");return La(a)&&a.orient?a.orient:"vertical"}}return"horizontal"}if(Vb(c))return"vertical";throw Error("Need a valid continuous axis for "+d+"s");}function nh(b,d){var a=d.config,c,f,h=b.mark,n=b.selection;d=z(b,["mark",
"encoding","selection","projection"]);h=La(h)?h:{type:h};n&&x(kb("boxplot"));var r=null!==(c=h.extent)&&void 0!==c?c:a.boxplot.extent,e=ca("size",h,a),g=W(r)?"tukey":r,k=mh(b,"boxplot");n=lh(b,k,"boxplot");c=n.continuousAxisChannelDef;n=n.continuousAxis;var E=c.field,l=W(r)?"tukey":r;var m=[].concat($jscomp.arrayFromIterable(oh(E)),[{op:"median",field:E,as:"mid_box_"+E},{op:"min",field:E,as:("min-max"===l?"lower_whisker_":"min_")+E},{op:"max",field:E,as:("min-max"===l?"upper_whisker_":"max_")+E}]);
E="min-max"===l||"tukey"===l?[]:[{calculate:'datum["upper_box_'+E+'"] - datum["lower_box_'+E+'"]',as:"iqr_"+E},{calculate:'min(datum["upper_box_'+E+'"] + datum["iqr_'+E+'"] * '+r+', datum["max_'+E+'"])',as:"upper_whisker_"+E},{calculate:'max(datum["lower_box_'+E+'"] - datum["iqr_'+E+'"] * '+r+', datum["min_'+E+'"])',as:"lower_whisker_"+E}];l=z(b.encoding,["symbol"===typeof n?n:n+""]);var t;var w=l.tooltip;b=z(l,["tooltip"]);if(w){var q;if(J(w)){l=$jscomp.makeIterator(w);for(w=l.next();!w.done;w=l.next())w=
w.value,w.aggregate?(t||(t=[]),t.push(w)):(q||(q=[]),q.push(w));t&&(b.tooltip=t)}else w.aggregate?b.tooltip=w:q=w;J(q)&&1===q.length&&(q=q[0]);t={customTooltipWithoutAggregatedField:q,filteredEncoding:b}}else t={filteredEncoding:l};q=t;t=q.customTooltipWithoutAggregatedField;var p=Cf(q.filteredEncoding,a),y=p.timeUnits;q=p.aggregate;b=p.groupby;w=p.encoding;l="vertical"===k?"horizontal":"vertical";m=[].concat($jscomp.arrayFromIterable(p.bins),$jscomp.arrayFromIterable(y),[{aggregate:[].concat($jscomp.arrayFromIterable(q),
$jscomp.arrayFromIterable(m)),groupby:b}],$jscomp.arrayFromIterable(E));var v=w.size;E=z(w,["color","size"]);y=Sd(h,n,c,E,a.boxplot);p=Sd(h,n,c,w,a.boxplot);v=Sd(h,n,c,Object.assign(Object.assign({},E),v?{size:v}:{}),a.boxplot);var G=Ff([{fieldPrefix:"min-max"===g?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===g?"lower_whisker_":"min_",titlePrefix:"Min"}],
c,w),O={type:"tick",color:"black",opacity:1,orient:l,invalid:null};w="min-max"===g?G:Ff([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],c,w);w=[].concat($jscomp.arrayFromIterable(y({partName:"rule",mark:{type:"rule",invalid:null},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",aria:!1,extraEncoding:w})),$jscomp.arrayFromIterable(y({partName:"rule",mark:{type:"rule",invalid:null},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",
aria:!1,extraEncoding:w})),$jscomp.arrayFromIterable(y({partName:"ticks",mark:O,positionPrefix:"lower_whisker",aria:!1,extraEncoding:w})),$jscomp.arrayFromIterable(y({partName:"ticks",mark:O,positionPrefix:"upper_whisker",aria:!1,extraEncoding:w})));e=[].concat($jscomp.arrayFromIterable("tukey"!==g?w:[]),$jscomp.arrayFromIterable(p({partName:"box",mark:Object.assign(Object.assign({type:"bar"},e?{size:e}:{}),{orient:k,invalid:null}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",aria:!1,
extraEncoding:G})),$jscomp.arrayFromIterable(v({partName:"median",mark:Object.assign(Object.assign(Object.assign({type:"tick",invalid:null},U(a.boxplot.median)&&a.boxplot.median.color?{color:a.boxplot.median.color}:{}),e?{size:e}:{}),{orient:l,ariaRoleDescription:"box"}),positionPrefix:"mid_box",extraEncoding:G})));if("min-max"!==g)if(k='datum["lower_box_'+c.field+'"]',l='datum["upper_box_'+c.field+'"]',p="("+l+" - "+k+")",k=k+" - "+r+" * "+p,p=l+" + "+r+" * "+p,y='datum["'+c.field+'"]',r={joinaggregate:oh(c.field),
groupby:b},l=void 0,"tukey"===g&&(l={transform:[{filter:"("+k+" \x3c\x3d "+y+") \x26\x26 ("+y+" \x3c\x3d "+p+")"},{aggregate:[{op:"min",field:c.field,as:"lower_whisker_"+c.field},{op:"max",field:c.field,as:"upper_whisker_"+c.field},{op:"min",field:"lower_box_"+c.field,as:"lower_box_"+c.field},{op:"max",field:"upper_box_"+c.field,as:"upper_box_"+c.field}].concat($jscomp.arrayFromIterable(q)),groupby:b}],layer:w}),g=z(E,["tooltip"]),q=c.scale,b=c.axis,E=jh(c),w={},(a=kh(h,"outliers",a.boxplot,!0,{transform:[{filter:"("+
y+" \x3c "+k+") || ("+y+" \x3e "+p+")"}],mark:"point",encoding:Object.assign(Object.assign((w[n]=Object.assign(Object.assign(Object.assign({field:c.field,type:c.type},void 0!==E?{title:E}:{}),void 0!==q?{scale:q}:{}),void 0!==b?{axis:b}:{}),w),g),t?{tooltip:t}:{})})[0])&&l)var u={transform:[r],layer:[a,l]};else a?(u=a,u.transform.unshift(r)):l&&(u=l,u.transform.unshift(r));return u?Object.assign(Object.assign({},d),{layer:[u,{transform:m,layer:e}]}):Object.assign(Object.assign({},d),{transform:(null!==
(f=d.transform)&&void 0!==f?f:[]).concat(m),layer:e})}function oh(b){return[{op:"q1",field:b,as:"lower_box_"+b},{op:"q3",field:b,as:"upper_box_"+b}]}function ph(b,d){var a=d.config,c=qh(b,"errorbar",a);b=c.transform;var f=c.ticksOrient;d=c.outerSpec;var h=c.tooltipEncoding;a=Sd(c.markDef,c.continuousAxis,c.continuousAxisChannelDef,c.encodingWithoutContinuousAxis,a.errorbar);f={type:"tick",orient:f};h=[].concat($jscomp.arrayFromIterable(a({partName:"ticks",mark:f,positionPrefix:"lower",aria:!1,extraEncoding:h})),
$jscomp.arrayFromIterable(a({partName:"ticks",mark:f,positionPrefix:"upper",aria:!1,extraEncoding:h})),$jscomp.arrayFromIterable(a({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar"},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:h})));return Object.assign(Object.assign(Object.assign({},d),{transform:b}),1<h.length?{layer:h}:Object.assign({},h[0]))}function ak(b,d){var a=b.encoding;if(!(!K(a.x)&&!K(a.y)||K(a.x2)||K(a.y2)||K(a.xError)||K(a.xError2)||K(a.yError)||K(a.yError2)))return{orient:mh(b,
d),inputType:"raw"};var c=K(a.x2)||K(a.y2),f=K(a.xError)||K(a.xError2)||K(a.yError)||K(a.yError2);b=a.x;var h=a.y;if(c){if(f)throw Error(d+" cannot be both type aggregated-upper-lower and aggregated-error");c=a.x2;a=a.y2;if(K(c)&&K(a))throw Error(d+" cannot have both x2 and y2");if(K(c)){if(Vb(b))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw Error("Both x and x2 have to be quantitative in "+d);}if(K(a)){if(Vb(h))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw Error("Both y and y2 have to be quantitative in "+
d);}}else{c=a.xError;f=a.yError;var n=a.yError2;if(K(a.xError2)&&!K(c))throw Error(d+" cannot have xError2 without xError");if(K(n)&&!K(f))throw Error(d+" cannot have yError2 without yError");if(K(c)&&K(f))throw Error(d+" cannot have both xError and yError with both are quantiative");if(K(c)){if(Vb(b))return{orient:"horizontal",inputType:"aggregated-error"};throw Error("All x, xError, and xError2 (if exist) have to be quantitative");}if(K(f)){if(Vb(h))return{orient:"vertical",inputType:"aggregated-error"};
throw Error("All y, yError, and yError2 (if exist) have to be quantitative");}}throw Error("No ranged axis");}function qh(b,d,a){var c,f=b.mark,h=b.encoding,n=b.selection,r=z(b,["mark","encoding","selection","projection"]);f=La(f)?f:{type:f};n&&x(kb(d));var e=ak(b,d);n=e.orient;e=e.inputType;var g=lh(b,n,d);b=g.continuousAxisChannelDef;var k=g.continuousAxisChannelDef2,E=g.continuousAxisChannelDefError,l=g.continuousAxisChannelDefError2;g=g.continuousAxis;var m=[];var t=[];var w=b.field,q=!1;if("raw"===
e){var p=f.center?f.center:f.extent?"iqr"===f.extent?"median":"mean":a.errorbar.center;k=f.extent?f.extent:"mean"===p?"stderr":"iqr";"median"===p!==("iqr"===k)&&x(p+" is not usually used with "+k+" for "+d+".");"stderr"===k||"stdev"===k?(m=[{op:k,field:w,as:"extent_"+w},{op:p,field:w,as:"center_"+w}],t=[{calculate:'datum["center_'+w+'"] + datum["extent_'+w+'"]',as:"upper_"+w},{calculate:'datum["center_'+w+'"] - datum["extent_'+w+'"]',as:"lower_"+w}],p=[{fieldPrefix:"center_",titlePrefix:Ac(p)},{fieldPrefix:"upper_",
titlePrefix:Ac(p)+" + "+k},{fieldPrefix:"lower_",titlePrefix:Ac(p)+" - "+k}],q=!0):(f.center&&f.extent&&x("Center is not needed to be specified in "+d+" when extent is "+f.extent+"."),"ci"===k?(p="mean",d="ci0",k="ci1"):(p="median",d="q1",k="q3"),m=[{op:d,field:w,as:"lower_"+w},{op:k,field:w,as:"upper_"+w},{op:p,field:w,as:"center_"+w}],p=[{fieldPrefix:"upper_",titlePrefix:Yc({field:w,aggregate:k,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:Yc({field:w,aggregate:d,
type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:Yc({field:w,aggregate:p,type:"quantitative"},a,{allowDisabling:!1})}])}else{if(f.center||f.extent){d=f.center;var y=f.extent;x((y?"extent ":"")+(y&&d?"and ":"")+(d?"center ":"")+(y&&d?"are ":"is ")+"not needed when data are aggregated.")}"aggregated-upper-lower"===e?(p=[],t=[{calculate:'datum["'+k.field+'"]',as:"upper_"+w},{calculate:'datum["'+w+'"]',as:"lower_"+w}]):"aggregated-error"===e&&(p=[{fieldPrefix:"",titlePrefix:w}],
t=[{calculate:'datum["'+w+'"] + datum["'+E.field+'"]',as:"upper_"+w}],l?t.push({calculate:'datum["'+w+'"] + datum["'+l.field+'"]',as:"lower_"+w}):t.push({calculate:'datum["'+w+'"] - datum["'+E.field+'"]',as:"lower_"+w}));d=$jscomp.makeIterator(t);for(w=d.next();!w.done;w=d.next())w=w.value,p.push({fieldPrefix:w.as.substring(0,6),titlePrefix:ba(ba(w.calculate,'datum["',""),'"]',"")})}d="x"===g?"x2":"y2";w="x"===g?"xError":"yError";k="x"===g?"xError2":"yError2";h=z(h,["symbol"===typeof g?g:g+"","symbol"===
typeof d?d:d+"","symbol"===typeof w?w:w+"","symbol"===typeof k?k:k+""]);k=Cf(h,a);a=k.bins;h=k.timeUnits;w=k.groupby;d=k.encoding;m=[].concat($jscomp.arrayFromIterable(k.aggregate),$jscomp.arrayFromIterable(m));e="raw"!==e?[]:w;q=Ff(p,b,d,q);return{transform:[].concat($jscomp.arrayFromIterable(null!==(c=r.transform)&&void 0!==c?c:[]),$jscomp.arrayFromIterable(a),$jscomp.arrayFromIterable(h),$jscomp.arrayFromIterable(0===m.length?[]:[{aggregate:m,groupby:e}]),$jscomp.arrayFromIterable(t)),groupby:e,
continuousAxisChannelDef:b,continuousAxis:g,encodingWithoutContinuousAxis:d,ticksOrient:"vertical"===n?"horizontal":"vertical",markDef:f,outerSpec:r,tooltipEncoding:q}}function rh(b,d){var a=d.config,c=qh(b,"errorband",a);d=c.transform;var f=c.outerSpec,h=c.tooltipEncoding,n=c.markDef;a=Sd(n,c.continuousAxis,c.continuousAxisChannelDef,c.encodingWithoutContinuousAxis,a.errorband);b=void 0!==b.encoding.x&&void 0!==b.encoding.y;c={type:b?"area":"rect"};var r={type:b?"line":"rule"},e=Object.assign(Object.assign({},
n.interpolate?{interpolate:n.interpolate}:{}),n.tension&&n.interpolate?{tension:n.tension}:{});b?(c=Object.assign(Object.assign(Object.assign({},c),e),{ariaRoleDescription:"errorband"}),r=Object.assign(Object.assign({},r),e)):n.interpolate?x(ne("interpolate")):n.tension&&x(ne("tension"));return Object.assign(Object.assign({},f),{transform:d,layer:[].concat($jscomp.arrayFromIterable(a({partName:"band",mark:c,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:h})),$jscomp.arrayFromIterable(a({partName:"borders",
mark:r,positionPrefix:"lower",aria:!1,extraEncoding:h})),$jscomp.arrayFromIterable(a({partName:"borders",mark:r,positionPrefix:"upper",aria:!1,extraEncoding:h})))})}function Gf(b,d,a){d=new Td(b,d);sh[b]={normalizer:d,parts:a}}function Hf(b){return!!b&&("legend"===b||!!b.legend)}function If(b){return Hf(b)&&U(b)}function Xb(b){return U(b)&&void 0!==b.step}function th(b){return b.view||b.width||b.height}function bk(b,d,a){var c,f,h={};a=a[d];d=a.spacing;a=a.columns;void 0!==d&&(h.spacing=d);void 0!==
a&&("facet"in b&&!Pd(b.facet)||"concat"in b)&&(h.columns=a);"vconcat"in b&&(h.columns=1);a=$jscomp.makeIterator(ck);for(var n=a.next();!n.done;n=a.next())if(n=n.value,void 0!==b[n])if("spacing"===n){var r=b[n];h[n]=W(r)?r:{row:null!==(c=r.row)&&void 0!==c?c:d,column:null!==(f=r.column)&&void 0!==f?f:d}}else h[n]=b[n];return h}function Jf(b,d){var a;return null!==(a=b[d])&&void 0!==a?a:b["width"===d?"continuousWidth":"continuousHeight"]}function Ee(b,d){b=Ud(b,d);return Xb(b)?b.step:20}function Ud(b,
d){var a;d=null!==(a=b[d])&&void 0!==a?a:b["width"===d?"discreteWidth":"discreteHeight"];return na(d,{step:b.step})}function uh(b){var d=b=void 0===b?{}:b,a=d.color,c=d.font;d=d.fontSize;b=z(b,["color","font","fontSize"]);c=c?{text:{font:c},style:{"guide-label":{font:c},"guide-title":{font:c},"group-title":{font:c},"group-subtitle":{font:c}}}:{};a?(a=void 0===a?{}:a,a={signals:[{name:"color",value:U(a)?Object.assign(Object.assign({},vh),a):vh}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},
text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},
{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}):a={};return fd({},dk,c,a,d?{signals:[{name:"fontSize",value:U(d)?Object.assign(Object.assign({},wh),d):wh}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}:{},b||{})}function ek(b){b=
T(b);for(var d=$jscomp.makeIterator(fk),a=d.next();!a.done;a=d.next())delete b[a.value];if(b.axis)for(var c in b.axis)Id(b.axis[c])&&delete b.axis[c];if(b.legend)for(d=$jscomp.makeIterator(gk),a=d.next();!a.done;a=d.next())delete b.legend[a.value];if(b.mark){d=$jscomp.makeIterator(xh);for(a=d.next();!a.done;a=d.next())delete b.mark[a.value];b.mark.tooltip&&U(b.mark.tooltip)&&delete b.mark.tooltip}d=$jscomp.makeIterator(hk);for(c=d.next();!c.done;c=d.next()){c=c.value;var f=$jscomp.makeIterator(xh);
for(a=f.next();!a.done;a=f.next())delete b[c][a.value];if(a=ik[c])for(f=$jscomp.makeIterator(a),a=f.next();!a.done;a=f.next())delete b[c][a.value];a=b;f=void 0;var h=a[c];"view"===c&&(f="cell");h=Object.assign(Object.assign({},h),a.style[null!==f&&void 0!==f?f:c]);ha(h)||(a.style[null!==f&&void 0!==f?f:c]=h);delete a[c]}d=$jscomp.makeIterator(A(sh));for(c=d.next();!c.done;c=d.next())delete b[c.value];d=b;f=$g(d.title);c=f.titleMarkConfig;a=f.subtitleMarkConfig;f=f.subtitle;ha(c)||(d.style["group-title"]=
Object.assign(Object.assign({},d.style["group-title"]),c));ha(a)||(d.style["group-subtitle"]=Object.assign(Object.assign({},d.style["group-subtitle"]),a));ha(f)?delete d.title:d.title=f;for(var n in b)U(b[n])&&ha(b[n])&&delete b[n];return ha(b)?void 0:b}function yh(b,d){var a,c,f="x"===d?"y":"radius",h=b[d];b=b[f];if(D(h)&&D(b))if("quantitative"===Ec(h)&&"quantitative"===Ec(b)){if(h.stack)return d;if(b.stack)return f;var n=D(h)&&!!h.aggregate,r=D(b)&&!!b.aggregate;if(n!==r)return n?d:f;h=null===(a=
h.scale)||void 0===a?void 0:a.type;a=null===(c=b.scale)||void 0===c?void 0:c.type;if(h&&"linear"!==h)return f;if(a&&"linear"!==a)return d}else{if("quantitative"===Ec(h))return d;if("quantitative"===Ec(b))return f}else{if("quantitative"===Ec(h))return d;if("quantitative"===Ec(b))return f}}function jk(b){switch(b){case "x":return"y";case "y":return"x";case "theta":return"radius";case "radius":return"theta"}}function zh(b,d,a){a=void 0===a?{}:a;b=La(b)?b.type:b;if(!kk.has(b))return null;var c=yh(d,"x")||
yh(d,"theta");if(!c)return null;var f=d[c],h=D(f)?B(f,{}):void 0,n=jk(c),r=d[n],e=D(r)?B(r,{}):void 0;e===h&&(n=r=e=void 0);h=lk.reduce(function(a,b){if("tooltip"!==b&&$c(d,b))for(var c=$jscomp.makeIterator(da(d[b])),f=c.next();!f.done;f=c.next())if(f=Wb(f.value),!f.aggregate){var h=B(f,{});h&&h===e||a.push({channel:b,fieldDef:f})}return a},[]);var g;void 0!==f.stack?g=Mb(f.stack)?f.stack?"zero":null:f.stack:0<h.length&&mk.has(b)&&(g="zero");if(!(g&&g in nk)||Bf(d)&&0===h.length)return null;if(f.scale&&
f.scale.type&&f.scale.type!==Ha.LINEAR){if(a.disallowNonLinearStack)return null;x("Cannot stack non-linear scale ("+f.scale.type+").")}if(K(d[ea(c)]))return void 0!==f.stack&&x('Cannot stack "'+c+'" if there is already "'+c+'2".'),null;D(f)&&f.aggregate&&!F(ok,f.aggregate)&&x('Stacking is applied even though the aggregate function is non-summative ("'+f.aggregate+'").');return{groupbyChannel:r?n:void 0,groupbyField:e,fieldChannel:c,impute:null===f.impute?!1:bc(b),stackBy:h,offset:g}}function pk(b){b=
z(b,["point","line"]);return 1<A(b).length?b:b.type}function qk(b){for(var d=$jscomp.makeIterator(["line","area","rule","trail"]),a=d.next();!a.done;a=d.next())if(a=a.value,b[a]){var c={};b=Object.assign(Object.assign({},b),(c[a]=sa(b[a],["point","line"]),c))}return b}function Kf(b,d,a){d=void 0===d?{}:d;if("transparent"===b.point)return{opacity:0};if(b.point)return U(b.point)?b.point:{};if(void 0!==b.point)return null;if(d.point||a.shape)return U(d.point)?d.point:{}}function Ah(b,d){d=void 0===d?
{}:d;if(b.line)return!0===b.line?{}:b.line;if(void 0!==b.line)return null;if(d.line)return!0===d.line?{}:d.line}function Lf(b,d){return d?Bh(b,d):b}function Mf(b,d,a){var c=d[b];if(c&&!L(c)&&"repeat"in c){if(c.repeat in a){var f={};return Object.assign(Object.assign({},d),(f[b]=a[c.repeat],f))}x('Unknown repeated value "'+c.repeat+'".')}else return d}function Ch(b,d){b=Mf("field",b,d);if(void 0!==b){if(null===b)return null;var a=b;ab(a)&&"sort"in a&&Ub(b.sort)&&(d=Mf("field",b.sort,d),b=Object.assign(Object.assign({},
b),d?{sort:d}:{}));return b}}function Dh(b,d){if(D(b))return Ch(b,d);d=Mf("datum",b,d);d===b||d.type||(d.type="nominal");return d}function Eh(b,d){if(K(b)){if(d=Dh(b,d))return d;if(b&&"condition"in b)return{condition:b.condition}}else return vf(b)?(d=Dh(b.condition,d))?Object.assign(Object.assign({},b),{condition:d}):z(b,["condition"]):b}function Bh(b,d){var a={},c;for(c in b)if(Mc.call(b,c)){var f=b[c];J(f)?a[c]=f.map(function(a){return Eh(a,d)}).filter(function(a){return a}):(f=Eh(f,d),void 0!==
f&&(a[c]=f))}return a}function Fh(b){var d=b.parentEncoding,a=b.encoding;d&&a&&(b=A(d).reduce(function(b,d){a[d]&&b.push(d);return b},[]),0<b.length&&x("Layer's shared "+b.join(",")+" channel "+(1===b.length?"is":"are")+" overriden."));d=Object.assign(Object.assign({},null!==d&&void 0!==d?d:{}),null!==a&&void 0!==a?a:{});return ha(d)?void 0:d}function Gh(b){var d=b.parentProjection;b=b.projection;if(d&&b){var a="Layer's shared projection "+va(d)+" is overridden by a child projection "+va(b)+".";x(a)}return null!==
b&&void 0!==b?b:d}function Hh(b,d){void 0===d&&(d=uh(b.config));var a=d;a=void 0===a?{}:a;a=rk.map(b,{config:a});var c=d;d=b.width;b=b.height;var f=yb(a)||"layer"in a,h={};f?"container"==d&&"container"==b?(h.type="fit",h.contains="padding"):"container"==d?(h.type="fit-x",h.contains="padding"):"container"==b&&(h.type="fit-y",h.contains="padding"):("container"==d&&(x(jd("width")),d=void 0),"container"==b&&(x(jd("height")),b=void 0));c=Object.assign(Object.assign(Object.assign({type:"pad"},h),c?Ih(c.autosize):
{}),Ih(a.autosize));"fit"!==c.type||f||(x('Autosize "fit" only works for single views and layered views.'),c.type="pad");"container"==d&&"fit"!=c.type&&"fit-x"!=c.type&&x(Rc("width"));"container"==b&&"fit"!=c.type&&"fit-y"!=c.type&&x(Rc("height"));d=Rd(c,{type:"pad"})?void 0:c;return Object.assign(Object.assign({},a),d?{autosize:d}:{})}function Ih(b){return L(b)?{type:b}:null!==b&&void 0!==b?b:{}}function Jh(b){return sk.reduce(function(d,a){b&&void 0!==b[a]&&(d[a]=b[a]);return d},{})}function ad(b){return{explicit:!0,
value:b}}function fb(b){return{explicit:!1,value:b}}function Kh(b){return function(d,a,c,f){var h=b(d.value,a.value);return 0<h?d:0>h?a:Fe(d,a,c,f)}}function Fe(b,d,a,c){if(b.explicit&&d.explicit){var f=b.value;d=d.value;a="Conflicting "+c.toString()+' property "'+a.toString()+'" ('+va(f)+" and "+va(d)+"). Using "+va(f)+".";x(a)}return b}function Fc(b,d,a,c,f){f=void 0===f?Fe:f;return void 0===b||void 0===b.value?d:b.explicit&&!d.explicit?b:d.explicit&&!b.explicit?d:Rd(b.value,d.value)?b:f(b,d,a,
c)}function Lh(b){return"name"in b&&!("url"in b)&&!("values"in b)&&!bd(b)}function bd(b){return b&&("sequence"in b||"sphere"in b||"graticule"in b)}function tk(b){return b.map(function(b){return"filter"in b?{filter:wc(b.filter,te)}:b})}function ud(b,d,a){Mh=d||uk;Nh=a||vk;return Oh(b.trim()).map(Nf)}function Vd(b,d,a,c,f){for(var h=0,n=b.length,r;d<n;++d)if(r=b[d],h||r!==a)f&&0<=f.indexOf(r)?--h:c&&0<=c.indexOf(r)&&++h;else break;return d}function Oh(b){for(var d=[],a=0,c=b.length,f=0;f<c;)f=Vd(b,
f,Ph,Ge+Qh,He+Rh),d.push(b.substring(a,f).trim()),a=++f;if(0===d.length)throw"Empty event selector: "+b;return d}function Nf(b){if("["===b[0]){var d=b;var a=d.length;b=Vd(d,1,He,Ge,He);if(b===a)throw"Empty between selector: "+d;a=Oh(d.substring(1,b));if(2!==a.length)throw"Between selector must have two elements: "+d;d=d.slice(b+1).trim();if(d[0]!==wk)throw"Expected '\x3e' after between selector: "+d;a=a.map(Nf);d=Nf(d.slice(1).trim());d.between?d={between:a,stream:d}:d.between=a}else{a={source:Mh};
var c=[],f=[0,0],h=0,n=0,r=b.length,e=0;if(b[r-1]===Rh){e=b.lastIndexOf(Qh);if(0<=e){try{f=xk(b.substring(e+1,r-1))}catch(qb){throw"Invalid throttle specification: "+b;}b=b.slice(0,e).trim();r=b.length}else throw"Unmatched right brace: "+b;e=0}if(!r)throw b;b[0]===yk&&(h=++e);var g=Vd(b,e,zk);g<r&&(c.push(b.substring(n,g).trim()),n=e=++g);e=Vd(b,e,Ge);if(e===r)c.push(b.substring(n,r).trim());else if(c.push(b.substring(n,e).trim()),d=[],n=++e,n===r)throw"Unmatched left bracket: "+b;for(;e<r;){e=Vd(b,
e,He);if(e===r)throw"Unmatched left bracket: "+b;d.push(b.substring(n,e).trim());if(e<r-1&&b[++e]!==Ge)throw"Expected left bracket: "+b;n=++e}if(!(r=c.length)||Ak.test(c[r-1]))throw"Invalid event selector: "+b;1<r?(a.type=c[1],h?a.markname=c[0].slice(1):Nh[c[0]]?a.marktype=c[0]:a.source=c[0]):a.type=c[0];"!"===a.type.slice(-1)&&(a.consume=!0,a.type=a.type.slice(0,-1));null!=d&&(a.filter=d);f[0]&&(a.throttle=f[0]);f[1]&&(a.debounce=f[1]);d=a}return d}function xk(b){var d=b.split(Ph);if(!b.length||
2<d.length)throw b;return d.map(function(a){a=+a;if(a!==a)throw b;return a})}function Wd(b,d,a,c){var f=!!d&&"condition"in d&&d.condition;d=c(d);if(f){f=da(f).map(function(a){var d=c(a);a=a.selection?Sh(b,a.selection):Ie(b,a.test);return Object.assign({test:a},d)});var h={};return h[a]=[].concat($jscomp.arrayFromIterable(f),$jscomp.arrayFromIterable(void 0!==d?[d]:[])),h}f={};return void 0!==d?(f[a]=d,f):{}}function Of(b,d){d=void 0===d?"text":d;return Wd(b,b.encoding[d],d,function(a){return Je(a,
b.config)})}function Je(b,d,a){a=void 0===a?"datum":a;if(b){if(kc(b))return Fa(b.value);if(K(b)){var c=ze(b);return k({fieldOrDatumDef:b,format:c.format,formatType:c.formatType,expr:a,config:d})}}}function Th(b,d){d=void 0===d?{}:d;var a=b.encoding,c=b.markDef,f=b.config,h=b.stack,n=a.tooltip;if(J(n))return{tooltip:Uh({tooltip:n},h,f,d)};var r=d.reactiveGeom?"datum.datum":"datum";return Wd(b,n,"tooltip",function(b){var n=Je(b,f,r);if(n)return n;if(null!==b){b=ca("tooltip",c,f);!0===b&&(b={content:"encoding"});
if(L(b))return{value:b};if(U(b))return"encoding"===b.content?Uh(a,h,f,d):{signal:r}}})}function Vh(b,d,a,c){function f(c,f){var e=Qb(f);c=ab(c)?c:Object.assign(Object.assign({},c),{type:b[e].type});e=da(Yc(c,a,{allowDisabling:!1})).join(", ");if(f in Pa){var g="x"===f?"x2":"y2",Y=Wb(b[g]);if(ta(c.bin)&&Y){var P=B(c,{expr:n});Y=B(Y,{expr:n});var E=ze(c);P=Tb(P,Y,E.format,E.formatType,a);h[g]=!0}else d&&d.fieldChannel===f&&"normalize"===d.offset&&(g=ze(c),P=k({fieldOrDatumDef:c,format:g.format,formatType:g.formatType,
expr:n,config:a,normalizeStack:!0}).signal)}P=null!==P&&void 0!==P?P:Je(c,a,n).signal;r.push({channel:f,key:e,value:P})}var h={},n=(void 0===c?{}:c).reactiveGeom?"datum.datum":"datum",r=[];Df(b,function(a,b){D(a)?f(a,b):xe(a)&&f(a.condition,b)});c={};for(var e=$jscomp.makeIterator(r),g=e.next();!g.done;g=e.next()){g=g.value;var l=g.key,E=g.value;h[g.channel]||c[l]||(c[M(l)]=E)}return c}function Uh(b,d,a,c){b=Vh(b,d,a,{reactiveGeom:(void 0===c?{}:c).reactiveGeom});b=he(b).map(function(a){return a.key+
": "+a.value});return 0<b.length?{signal:"{"+b.join(", ")+"}"}:void 0}function Bk(b){var d=ca("aria",b.markDef,b.config);return!1===d?{}:Object.assign(Object.assign(Object.assign({},d?{aria:d}:{}),Ck(b)),Dk(b))}function Ck(b){var d=b.mark,a=b.config;if(!1===a.aria)return{};b=ca("ariaRoleDescription",b.markDef,a);return null!=b?{ariaRoleDescription:{value:b}}:d in Ek?{}:{ariaRoleDescription:{value:d}}}function Dk(b){var d=b.encoding,a=b.markDef,c=b.config,f=b.stack,h=d.description;if(h)return Wd(b,
h,"description",function(a){return Je(a,b.config)});a=ca("description",a,c);if(null!=a)return{description:Fa(a)};if(!1===c.aria)return{};d=Vh(d,f,c);if(!ha(d))return{description:{signal:he(d).map(function(a){return a.key+' + ": " + ('+a.value+")"}).join(' + "; " + ')}}}function Ma(b,d,a){a=void 0===a?{}:a;var c=d.markDef,f=d.encoding,h=d.config,n=a.vgChannel,r=a.defaultRef;a=a.defaultValue;void 0===r&&(a=null!==a&&void 0!==a?a:ca(b,c,h,{vgChannel:n,ignoreVgConfig:!0}),void 0!==a&&(r=Fa(a)));return Wd(d,
f[b],null!==n&&void 0!==n?n:b,function(a){return Eb({channel:b,channelDef:a,markDef:c,config:h,scaleName:d.scaleName(b),scale:d.getScaleComponent(b),stack:null,defaultRef:r})})}function Wh(b,d){d=void 0===d?{filled:void 0}:d;var a,c,f,h,n=b.markDef,r=b.encoding,e=b.config,g=n.type;d=null!==(a=d.filled)&&void 0!==a?a:ca("filled",n,e);a=F(["bar","point","circle","square","geoshape"],g)?"transparent":void 0;a=null!==(f=null!==(c=ca(!0===d?"color":void 0,n,e,{vgChannel:"fill"}))&&void 0!==c?c:e.mark[!0===
d&&"color"])&&void 0!==f?f:a;c=null!==(h=ca(!1===d?"color":void 0,n,e,{vgChannel:"stroke"}))&&void 0!==h?h:e.mark[!1===d&&"color"];h=d?"fill":"stroke";f=Object.assign(Object.assign({},a?{fill:Fa(a)}:{}),c?{stroke:Fa(c)}:{});n.color&&(d?n.fill:n.stroke)&&x(le("property",{fill:"fill"in n,stroke:"stroke"in n}));return Object.assign(Object.assign(Object.assign(Object.assign({},f),Ma("color",b,{vgChannel:h,defaultValue:d?a:c})),Ma("fill",b,{defaultValue:r.fill?a:void 0})),Ma("stroke",b,{defaultValue:r.stroke?
c:void 0}))}function Xd(b,d){b=je(b);if(d=d[b])return d}function Qa(b,d,a){var c=a.defaultPos,f=a.vgChannel;a=a.isMidPoint;var h=d.encoding,n=d.markDef,r=d.config,e=d.stack,g=h[b],k=h[ea(b)],E=d.scaleName(b),l=d.getScaleComponent(b),m=Xd(b,n);c=Pf({model:d,defaultPos:c,channel:b,scaleName:E,scale:l});if(!g&&b in Pa&&(h.latitude||h.longitude))d={field:d.getName(b)};else a:if(h={channel:b,channelDef:g,channel2Def:k,markDef:n,config:r,isMidPoint:a,scaleName:E,scale:l,stack:e,offset:m,defaultRef:c},n=
h.channel,d=h.channelDef,r=h.isMidPoint,c=h.scaleName,e=h.stack,a=h.offset,g=h.markDef,k=h.config,K(d)&&e&&n===e.fieldChannel){if(D(d)&&(h=Nd({channel:n,fieldDef:d,isMidPoint:r,markDef:g,stack:e,config:k}),void 0!==h)){d=td({scaleName:c,fieldOrDatumDef:d,startSuffix:"start",band:h,offset:a});break a}d=pb(d,c,{suffix:"end"},{offset:a})}else d=Md(h);c={};return d?(c[f||b]=d,c):void 0}function Pf(b){var d=b.model,a=b.defaultPos,c=b.channel,f=b.scaleName,h=b.scale,n=d.markDef,r=d.config;return function(){var b=
Qb(c),g=zb(c);g=ca(c,n,r,{vgChannel:g});if(void 0!==g)return e(c,g);switch(a){case "zeroOrMin":case "zeroOrMax":if(f&&(g=h.get("type"),!F([Ha.LOG,Ha.TIME,Ha.UTC],g)&&h.domainDefinitelyIncludesZero()))return{scale:f,value:0};if("zeroOrMin"===a)return"y"===b?{field:{group:"height"}}:{value:0};switch(b){case "radius":return{signal:"min("+d.width.signal+","+d.height.signal+")/2"};case "theta":return{signal:"2*PI"};case "x":return{field:{group:"width"}};case "y":return{value:0}}break;case "mid":return b=
d[R(c)],Object.assign(Object.assign({},b),{mult:.5})}}}function Xh(b,d,a,c){c=void 0===c?"middle":c;if("radius"===b||"theta"===b)return zb(b);d=ca("x"===b?"align":"baseline",d,a);return"x"===b?Fk[d||("top"===c?"left":"center")]:Gk[d||c]}function Ke(b,d,a){var c=a.defaultPos,f=a.defaultPos2;return a.range?Yh(b,d,{defaultPos:c,defaultPos2:f}):Qa(b,d,{defaultPos:c})}function Yh(b,d,a){var c=a.defaultPos,f=a.defaultPos2;a=d.markDef;var h=d.config,n=ea(b),r=R(b);var e=d.encoding,g=d.mark,k=d.markDef,E=
d.stack,l=d.config,m=Qb(n),t=R(n);var w=zb(n);var q=e[m],p=d.scaleName(m),y=d.getScaleComponent(m);m=n in e||n in k?Xd(n,d.markDef):Xd(m,d.markDef);q||"x2"!==n&&"y2"!==n||!e.latitude&&!e.longitude?(e=e[n],E=K(q)&&E&&n.charAt(0)===E.fieldChannel.charAt(0)?pb(q,p,{suffix:"start"},{offset:m}):Md({channel:n,channelDef:e,scaleName:p,scale:y,stack:E,markDef:k,config:l,offset:m,defaultRef:void 0}),void 0!==E?(n={},w=(n[w]=E,n)):(E={},q={},w=Le(n,k)||Le(n,(E[n]=Be(n,k,l.style),E[t]=Be(t,k,l.style),E))||Le(n,
l[g])||Le(n,l.mark)||(q[w]=Pf({model:d,defaultPos:f,channel:n,scaleName:p,scale:y})(),q))):(f={},w=(f[w]={field:d.getName(n)},f));a=w[r]?Xh(b,a,h):zb(b);return Object.assign(Object.assign({},Qa(b,d,{defaultPos:c,vgChannel:a})),w)}function Le(b,d){var a=R(b),c=zb(b);if(void 0!==d[c])return a={},a[c]=e(b,d[c]),a;if(void 0!==d[b])return a={},a[c]=e(b,d[b]),a;if(d[a])return c={},c[a]=e(b,d[a]),c}function Gc(b,d,a){var c,f,h,n,r=b.config,e=b.encoding,g=b.markDef,k=b.stack,E=ea(d),l=R(d),m=e[d],t=e[E],
w=b.getScaleComponent(d),q=w?w.get("type"):void 0;E=b.scaleName(d);var p=g.orient;e=null!==(f=null!==(c=e[l])&&void 0!==c?c:e.size)&&void 0!==f?f:ca("size",g,r,{vgChannel:l});c="bar"===a&&("x"===d?"vertical"===p:"horizontal"===p);if(D(m)&&(X(m.bin)||ta(m.bin)||m.timeUnit&&!t)&&!e&&!(q in $a)){var y=Nd({channel:d,fieldDef:m,stack:k,markDef:g,config:r});b=null===(h=b.component.axes[d])||void 0===h?void 0:h[0];b=null!==(n=null===b||void 0===b?void 0:b.get("translate"))&&void 0!==n?n:.5;a:{var v=d in
Pa?ca("binSpacing",g,r):void 0;a=w.get("reverse");v=void 0===v?0:v;k=ea(d);n=zb(d);w=zb(k);h=Xd(d,g);if(X(m.bin)||m.timeUnit)t={},d=(t[w]=Zh({channel:d,fieldDef:m,scaleName:E,markDef:g,band:(1-y)/2,offset:Yd(k,v,a,b,h),config:r}),t[n]=Zh({channel:d,fieldDef:m,scaleName:E,markDef:g,band:1-(1-y)/2,offset:Yd(d,v,a,b,h),config:r}),t);else{if(ta(m.bin)){y=pb(m,E,{},{offset:Yd(k,v,a,b,h)});if(D(t)){m={};d=(m[w]=y,m[n]=pb(t,E,{},{offset:Yd(d,v,a,b,h)}),m);break a}if(U(m.bin)&&m.bin.step){r={};d=(r[w]=y,
r[n]={signal:'scale("'+E+'", '+B(m,{expr:"datum"})+" + "+m.bin.step+")",offset:Yd(d,v,a,b,h)},r);break a}}x(oe(k));d=void 0}}return d}if((K(m)&&q in $a||c)&&!t){g=b.markDef;k=b.encoding;t=b.config;n=b.stack;c=g.orient;w=b.scaleName(d);h=b.getScaleComponent(d);E=R(d);r=ea(d);c="horizontal"===c&&"y"===d||"vertical"===c&&"x"===d;f=ca(c?"size":E,g,t,{vgChannel:E});if(k.size||void 0!==f)c?y=Ma("size",b,{vgChannel:E,defaultValue:f}):x('Cannot apply size to non-oriented mark "'+g.type+'".');k=null!==(v=
K(m)?Nd({channel:d,fieldDef:m,markDef:g,stack:n,config:t}):void 0)&&void 0!==v?v:1;v={};y||(h?(y=h.get("type"),"point"===y||"band"===y?void 0!==t[a].discreteBandSize?y={value:t[a].discreteBandSize}:y===Ha.POINT?(y=h.get("range"),y=Bb(y)&&W(y.step)?{value:y.step-2}:{value:18}):y={scale:w,band:k}:y={value:t[a].continuousBandSize}):(y=Ee(t.view,E),y=na(t[a].discreteBandSize,y-2),y=void 0!==y?{value:y}:void 0),y=(v[E]=y,v));c="band"!==(null===h||void 0===h?void 0:h.get("type"))||!("band"in y[E]);a=Xh(d,
g,t,c?"middle":"top");v=Xd(d,g);d=Md({channel:d,channelDef:m,markDef:g,config:t,scaleName:w,scale:h,stack:n,offset:v,defaultRef:Pf({model:b,defaultPos:"mid",channel:d,scaleName:w,scale:h}),band:c?.5:(1-k)/2});E?(m={},d=Object.assign((m[a]=d,m),y)):(m=zb(r),b=y[E],b=v?Object.assign(Object.assign({},b),{offset:v}):b,y={},d=(y[a]=d,y[m]=J(d)?[d[0],Object.assign(Object.assign({},d[1]),{offset:b})]:Object.assign(Object.assign({},d),{offset:b}),y));return d}return Yh(d,b,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}
function Yd(b,d,a,c,f){if(b in kf)return 0;b="x"===b||"y2"===b?-d/2:d/2;if(C(a))return f=Qd(f),{signal:a.signal+" ? "+(c-b)+(f?"-"+f:"")+" : "+(c+b)+(f?"+"+f:"")};if(C(f))return c+=a?-b:b,{signal:""+(c||"")+(a?" - ":c?" + ":"")+f.signal};f=f||0;return c+(a?-f-b:+f+b)}function Zh(b){var d=b.channel,a=b.fieldDef,c=b.markDef,f=b.config;b=td({scaleName:b.scaleName,fieldOrDatumDef:a,band:b.band,offset:b.offset});return ve({fieldDef:a,channel:d,markDef:c,ref:b,config:f})}function rb(b,d){var a="include"===
d.color?Wh(b):{},c=void 0===a.fill?void 0:a.fill;a=void 0===a.stroke?void 0:a.stroke;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Hk(b.markDef,d)),$h(b,"fill",c)),$h(b,"stroke",a)),Ma("opacity",b)),Ma("fillOpacity",b)),Ma("strokeOpacity",b)),Ma("strokeWidth",b)),Ma("strokeDash",b)),Th(b)),Of(b,"href")),Bk(b))}function $h(b,d,a){var c=b.mark;if("hide"===ca("invalid",b.markDef,b.config)&&
a&&!bc(c)&&(b=Ik(b,{invalid:!0,channels:Me})))return c={},c[d]=[{test:b,value:null}].concat($jscomp.arrayFromIterable(da(a))),c;b={};return a?(b[d]=a,b):{}}function Hk(b,d){return Jk.reduce(function(a,c){Kk.has(c)||void 0===b[c]||"ignore"===d[c]||(a[c]=Fa(b[c]));return a},{})}function Ik(b,d){var a=void 0===d.invalid?!1:d.invalid;d=d.channels.reduce(function(a,c){var d=b.getScaleComponent(c);d&&(d=d.get("type"),(c=b.vgField(c,{expr:"datum"}))&&d in nb&&(a[c]=!0));return a},{});d=A(d);if(0<d.length){var c=
a?"||":"\x26\x26";return d.map(function(b){return jc(b,a)}).join(" "+c+" ")}}function Qf(b){return ca("invalid",b.markDef,b.config)&&(b=Lk(b,{channels:sb}))?{defined:{signal:b}}:{}}function Lk(b,d){var a=void 0===d.invalid?!1:d.invalid;d=d.channels.reduce(function(a,c){var d=b.getScaleComponent(c);d&&(d=d.get("type"),(c=b.vgField(c,{expr:"datum"}))&&d in nb&&(a[c]=!0));return a},{});d=A(d);if(0<d.length){var c=a?"||":"\x26\x26";return d.map(function(b){return jc(b,a)}).join(" "+c+" ")}}function ai(b,
d){if(void 0!==d){var a={};return a[b]=Fa(d),a}}function Rf(b){var d;return b.parent&&vd(b.parent)&&(null!==(d=!b.parent.parent)&&void 0!==d?d:Rf(b.parent.parent))}function Mk(b,d,a){var c,f=null===(c=b.fieldDef(d))||void 0===c?void 0:c.field;cd(b,function(b){var c,h,e=null!==(c=b.project.hasField[f])&&void 0!==c?c:b.project.hasChannel[d];e&&bi.has(b)&&(c=null!==(h=a.get("selections"))&&void 0!==h?h:[],c.push(b.name),a.set("selections",c,!1),e.hasLegend=!0)})}function ci(b,d,a,c,f){var h,n=d.name,
r=n+"_translate_anchor";n+="_translate_delta";var e=a.channel,g=Hc.has(d);d=f.filter(function(b){return b.name===a.signals[g?"data":"visual"]})[0];c=b.getSizeSignalRef(c).signal;b=b.getScaleComponent(e);f=b.get("type");r=r+".extent_"+e;r=(g?"log"===f?"panLog":"pow"===f?"panPow":"panLinear":"panLinear")+"("+r+", "+((g&&"x"===e?"-":"")+n+"."+e+" / "+(g?""+c:"span("+r+")"))+(g&&"pow"===f?", "+(null!==(h=b.get("exponent"))&&void 0!==h?h:1):"")+")";d.on.push({events:{signal:n},update:g?r:"clampRange("+
r+", 0, "+c+")"})}function di(b,d,a,c,f){var h,n=d.name,r=a.channel,e=Hc.has(d);d=f.filter(function(b){return b.name===a.signals[e?"data":"visual"]})[0];c=b.getSizeSignalRef(c).signal;f=b.getScaleComponent(r);var g=f.get("type"),k=e?"domain("+M(b.scaleName(r))+")":d.name;b=n+"_zoom_delta";n=(e?"log"===g?"zoomLog":"pow"===g?"zoomPow":"zoomLinear":"zoomLinear")+"("+k+", "+(n+"_zoom_anchor."+r)+", "+b+(e&&"pow"===g?", "+(null!==(h=f.get("exponent"))&&void 0!==h?h:1):"")+")";d.on.push({events:{signal:b},
update:e?n:"clampRange("+n+", 0, "+c+")"})}function Ne(b,d){for(var a=$jscomp.makeIterator(Nk),c=a.next();!c.done;c=a.next())c=c.value,c.has(b)&&d(c)}function wd(b,d,a){d=void 0===d?!0:d;a=void 0===a?Ok:a;return J(b)?(b=b.map(function(b){return wd(b,d,a)}),d?"["+b.join(", ")+"]":b):Bc(b)?d?a(Cc(b)):a(pe(b)):d?a(JSON.stringify(b)):b}function Pk(b,d){cd(b,function(a,c){var f=a.name,h=c.modifyExpr(b,a);d.push.apply(d,$jscomp.arrayFromIterable(c.signals(b,a)));Ne(a,function(c){c.signals&&(d=c.signals(b,
a,d));c.modifyExpr&&(h=c.modifyExpr(b,a,h))});d.push({name:f+"_modify",on:[{events:{signal:a.name+"_tuple"},update:"modify("+M(a.name+"_store")+", "+h+")"}]})});return Sf(d)}function Qk(b,d){b.component.selection&&A(b.component.selection).length&&(b=M(b.getName("cell")),d.unshift({name:"facet",value:{},on:[{events:ud("mousemove","scope"),update:"isTuple(facet) ? facet : group("+b+").datum"}]}));return Sf(d)}function Rk(b,d){var a=!1;cd(b,function(c,f){var h=c.name,n=M(h+"_store");if(0===d.filter(function(a){return a.name===
h}).length){var r="multi"===c.type?", true)":")";d.push({name:c.name,update:"vlSelectionResolve("+n+", "+M("global"===c.resolve?"union":c.resolve)+r})}a=!0;f.topLevelSignals&&(d=f.topLevelSignals(b,c,d));Ne(c,function(a){a.topLevelSignals&&(d=a.topLevelSignals(b,c,d))})});a&&0===d.filter(function(a){return"unit"===a.name}).length&&d.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]});return Sf(d)}function Sk(b,d){var a=[].concat($jscomp.arrayFromIterable(d));
cd(b,function(c){var d={name:c.name+"_store"};if(c.init){var h=c.project.items.map(function(a){return z(a,["signals"])}),n=c.init.map(function(a){return wd(a,!1)});d.values="interval"===c.type?[{unit:lc(b,{escape:!1}),fields:h,values:n}]:n.map(function(a){return{unit:lc(b,{escape:!1}),fields:h,values:a}})}a.filter(function(a){return a.name===c.name+"_store"}).length||a.push(d)});return a}function ei(b,d){cd(b,function(a,c){d=c.marks?c.marks(b,a,d):d;Ne(a,function(c){c.marks&&(d=c.marks(b,a,d))})});
return d}function Tk(b,d){b=$jscomp.makeIterator(b.children);for(var a=b.next();!a.done;a=b.next())a=a.value,wa(a)&&(d=ei(a,d));return d}function Sf(b){return b.map(function(b){b.on&&!b.on.length&&delete b.on;return b})}function Uk(b,d,a,c){var f=a.channel,h=a.signals.visual;a=a.signals.data;var n=Hc.has(d),r=M(b.scaleName(f)),e=b.getScaleComponent(f);e=e?e.get("type"):void 0;var g=function(a){return"scale("+r+", "+a+")"},k=b.getSizeSignalRef("x"===f?"width":"height").signal,m=f+"(unit)";b=fi(d,function(a,
b){return[].concat($jscomp.arrayFromIterable(a),[{events:b.between[0],update:"["+m+", "+m+"]"},{events:b,update:"["+h+"[0], clamp("+m+", 0, "+k+")]"}])});b.push({events:{signal:d.name+"_scale_trigger"},update:e in nb?"["+g(a+"[0]")+", "+g(a+"[1]")+"]":"[0, 0]"});return n?[{name:a,on:[]}]:[Object.assign(Object.assign({name:h},c?{init:wd(c,!0,g)}:{value:[]}),{on:b}),Object.assign(Object.assign({name:a},c?{init:wd(c)}:{}),{on:[{events:{signal:h},update:h+"[0] \x3d\x3d\x3d "+h+"[1] ? null : invert("+
r+", "+h+")"}]})]}function fi(b,d){return b.events.reduce(function(a,b){return b.between?d(a,b):(x(b+" is not an ordered event stream for interval selections."),a)},[])}function gi(b,d){var a=d.name,c=a+"_tuple_fields",f=d.project.items.map(function(a){var c=b.fieldDef(a.channel);return c&&c.bin?"[(item().isVoronoi ? datum.datum : datum)["+M(b.vgField(a.channel,{}))+"], (item().isVoronoi ? datum.datum : datum)["+(M(b.vgField(a.channel,{binSuffix:"end"}))+"]]"):"(item().isVoronoi ? datum.datum : datum)["+
M(a.field)+"]"}).join(", ");c="unit: "+lc(b)+", fields: "+c+", values";d=d.events;return[{name:a+"_tuple",on:d?[{events:d,update:"datum \x26\x26 item().mark.marktype !\x3d\x3d 'group' ? {"+c+": ["+f+"]} : null",force:!0}]:[]}]}function cd(b,d){if(b=b.component.selection){b=$jscomp.makeIterator(Ic(b));for(var a=b.next();!a.done&&(a=a.value,!0!==d(a,Vk[a.type]));a=b.next());}}function lc(b,d){d=(void 0===d?{escape:!0}:d).escape?M(b.name):b.name;for(b=b.parent;b&&!Fb(b);)b=b.parent;if(b)for(var a=b.facet,
c=$jscomp.makeIterator(tb),f=c.next();!f.done;f=c.next())f=f.value,a[f]&&(d+=" + '__facet_"+f+"_' + (facet["+M(b.vgField(f))+"])");return d}function Tf(b){var d=!1;cd(b,function(a){d=d||a.project.items.some(function(a){return"_vgsid_"===a.field})});return d}function Gb(b){this.type=b}function Wk(b){switch(b.type){case "ArrayExpression":return b.elements;case "BinaryExpression":case "LogicalExpression":return[b.left,b.right];case "CallExpression":var d=b.arguments.slice();d.unshift(b.callee);return d;
case "ConditionalExpression":return[b.test,b.consequent,b.alternate];case "MemberExpression":return[b.object,b.property];case "ObjectExpression":return b.properties;case "Property":return[b.key,b.value];case "UnaryExpression":return[b.argument];default:return[]}}function Oe(b,d){if(!b)throw Error("ASSERT: "+d);}function mc(b){return 48<=b&&57>=b}function Uf(b){return 0<="0123456789abcdefABCDEF".indexOf(b)}function Zd(b){return 0<="01234567".indexOf(b)}function $d(b){return 10===b||13===b||8232===
b||8233===b}function ae(b){return 36===b||95===b||65<=b&&90>=b||97<=b&&122>=b||92===b||128<=b&&Xk.test(String.fromCharCode(b))}function Pe(b){return 36===b||95===b||65<=b&&90>=b||97<=b&&122>=b||48<=b&&57>=b||92===b||128<=b&&Yk.test(String.fromCharCode(b))}function hi(){for(var b;v<Ra;)if(b=I.charCodeAt(v),32===b||9===b||11===b||12===b||160===b||5760<=b&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(b)||$d(b))++v;else break}function Vf(b){var d=
0;var a="u"===b?4:2;for(b=0;b<a;++b)if(v<Ra&&Uf(I[v])){var c=I[v++];d=16*d+"0123456789abcdef".indexOf(c.toLowerCase())}else fa({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(d)}function ii(){var b=I.charCodeAt(v++);var d=String.fromCharCode(b);92===b&&(117!==I.charCodeAt(v)&&fa({},"Unexpected token %0","ILLEGAL"),++v,(b=Vf("u"))&&"\\"!==b&&ae(b.charCodeAt(0))||fa({},"Unexpected token %0","ILLEGAL"),d=b);for(;v<Ra;){b=I.charCodeAt(v);if(!Pe(b))break;++v;d+=String.fromCharCode(b);92===
b&&(d=d.substr(0,d.length-1),117!==I.charCodeAt(v)&&fa({},"Unexpected token %0","ILLEGAL"),++v,(b=Vf("u"))&&"\\"!==b&&Pe(b.charCodeAt(0))||fa({},"Unexpected token %0","ILLEGAL"),d+=b)}return d}function Wf(){var b=v,d=I.charCodeAt(v),a=I[v];switch(d){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++v,{type:7,value:String.fromCharCode(d),start:b,end:v};default:var c=I.charCodeAt(v+1);if(61===c)switch(d){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return v+=
2,{type:7,value:String.fromCharCode(d)+String.fromCharCode(c),start:b,end:v};case 33:case 61:return v+=2,61===I.charCodeAt(v)&&++v,{type:7,value:I.slice(b,v),start:b,end:v}}}d=I.substr(v,4);if("\x3e\x3e\x3e\x3d"===d)return v+=4,{type:7,value:d,start:b,end:v};d=d.substr(0,3);if("\x3e\x3e\x3e"===d||"\x3c\x3c\x3d"===d||"\x3e\x3e\x3d"===d)return v+=3,{type:7,value:d,start:b,end:v};d=d.substr(0,2);if(a===d[1]&&0<="+-\x3c\x3e\x26|".indexOf(a)||"\x3d\x3e"===d)return v+=2,{type:7,value:d,start:b,end:v};if(0<=
"\x3c\x3e\x3d!+-*%\x26|^/".indexOf(a))return++v,{type:7,value:a,start:b,end:v};fa({},"Unexpected token %0","ILLEGAL")}function ji(){var b=I[v];Oe(mc(b.charCodeAt(0))||"."===b,"Numeric literal must start with a decimal digit or a decimal point");var d=v;var a="";if("."!==b){a=I[v++];b=I[v];if("0"===a){if("x"===b||"X"===b){++v;for(a="";v<Ra&&Uf(I[v]);)a+=I[v++];0===a.length&&fa({},"Unexpected token %0","ILLEGAL");ae(I.charCodeAt(v))&&fa({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt("0x"+
a,16),start:d,end:v}}if(Zd(b)){for(a="0"+I[v++];v<Ra&&Zd(I[v]);)a+=I[v++];(ae(I.charCodeAt(v))||mc(I.charCodeAt(v)))&&fa({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt(a,8),octal:!0,start:d,end:v}}b&&mc(b.charCodeAt(0))&&fa({},"Unexpected token %0","ILLEGAL")}for(;mc(I.charCodeAt(v));)a+=I[v++];b=I[v]}if("."===b){for(a+=I[v++];mc(I.charCodeAt(v));)a+=I[v++];b=I[v]}if("e"===b||"E"===b){a+=I[v++];b=I[v];if("+"===b||"-"===b)a+=I[v++];if(mc(I.charCodeAt(v)))for(;mc(I.charCodeAt(v));)a+=
I[v++];else fa({},"Unexpected token %0","ILLEGAL")}ae(I.charCodeAt(v))&&fa({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(a),start:d,end:v}}function Zk(b,d){var a=b;0<=d.indexOf("u")&&(a=a.replace(/\\u\{([0-9a-fA-F]+)\}/g,function(a,b){if(1114111>=parseInt(b,16))return"x";fa({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(a)}catch(c){fa({},"Invalid regular expression")}try{return new RegExp(b,d)}catch(c){return null}}function ki(){hi();
if(v>=Ra)return{type:2,start:v,end:v};var b=I.charCodeAt(v);if(ae(b)){b=v;if(92===I.charCodeAt(v))var d=ii();else a:{for(d=v++;v<Ra;){var a=I.charCodeAt(v);if(92===a){v=d;d=ii();break a}if(Pe(a))++v;else break}d=I.slice(d,v)}return{type:1===d.length?3:$k.hasOwnProperty(d)?4:"null"===d?5:"true"===d||"false"===d?1:3,value:d,start:b,end:v}}if(40===b||41===b||59===b)return Wf();if(39===b||34===b){var c="";a=!1;b=I[v];Oe("'"===b||'"'===b,"String literal must starts with a quote");d=v;for(++v;v<Ra;){var f=
I[v++];if(f===b){b="";break}else if("\\"===f)if((f=I[v++])&&$d(f.charCodeAt(0)))"\r"===f&&"\n"===I[v]&&++v;else switch(f){case "u":case "x":if("{"===I[v]){++v;var h=I[v];f=0;for("}"===h&&fa({},"Unexpected token %0","ILLEGAL");v<Ra;){h=I[v++];if(!Uf(h))break;f=16*f+"0123456789abcdef".indexOf(h.toLowerCase())}(1114111<f||"}"!==h)&&fa({},"Unexpected token %0","ILLEGAL");f=65535>=f?String.fromCharCode(f):String.fromCharCode((f-65536>>10)+55296,(f-65536&1023)+56320);c+=f}else c+=Vf(f);break;case "n":c+=
"\n";break;case "r":c+="\r";break;case "t":c+="\t";break;case "b":c+="\b";break;case "f":c+="\f";break;case "v":c+="\x0B";break;default:Zd(f)?(h="01234567".indexOf(f),0!==h&&(a=!0),v<Ra&&Zd(I[v])&&(a=!0,h=8*h+"01234567".indexOf(I[v++]),0<="0123".indexOf(f)&&v<Ra&&Zd(I[v])&&(h=8*h+"01234567".indexOf(I[v++]))),c+=String.fromCharCode(h)):c+=f}else if($d(f.charCodeAt(0)))break;else c+=f}""!==b&&fa({},"Unexpected token %0","ILLEGAL");return{type:8,value:c,octal:a,start:d,end:v}}return 46===b?mc(I.charCodeAt(v+
1))?ji():Wf():mc(b)?ji():Wf()}function cb(){var b=Z;v=b.end;Z=ki();v=b.end;return b}function li(){var b=v;Z=ki();v=b}function mi(b,d,a){var c=new Gb("||"===b||"\x26\x26"===b?"LogicalExpression":"BinaryExpression");c.operator=b;c.left=d;c.right=a;return c}function Xf(b){var d=new Gb("Identifier");d.name=b;return d}function be(b){var d=new Gb("Literal");d.value=b.value;d.raw=I.slice(b.start,b.end);b.regex&&("//"===d.raw&&(d.raw="/(?:)/"),d.regex=b.regex);return d}function ni(b,d,a){var c=new Gb("MemberExpression");
c.computed="["===b;c.object=d;c.property=a;c.computed||(a.member=!0);return c}function oi(b,d,a){var c=new Gb("Property");c.key=d;c.value=a;c.kind=b;return c}function fa(b,d){var a=Array.prototype.slice.call(arguments,2),c=d.replace(/%(\d)/g,function(b,c){Oe(c<a.length,"Message reference must be in range");return a[c]});var f=Error(c);f.index=v;f.description=c;throw f;}function Qe(b){2===b.type&&fa(b,"Unexpected end of input");6===b.type&&fa(b,"Unexpected number");8===b.type&&fa(b,"Unexpected string");
3===b.type&&fa(b,"Unexpected identifier");4===b.type&&fa(b,"Unexpected reserved word");fa(b,"Unexpected token %0",b.value)}function Sa(b){var d=cb();7===d.type&&d.value===b||Qe(d)}function qa(b){return 7===Z.type&&Z.value===b}function pi(){v=Z.start;var b=cb();return 8===b.type||6===b.type?(b.octal&&fa(b,"Octal literals are not allowed in strict mode."),be(b)):Xf(b.value)}function al(){if(qa("(")){Sa("(");var b=Yf();Sa(")");return b}if(qa("[")){b=[];v=Z.start;for(Sa("[");!qa("]");)qa(",")?(cb(),b.push(null)):
(b.push(dd()),qa("]")||Sa(","));cb();var d=new Gb("ArrayExpression");d.elements=b;return d}if(qa("{")){b=[];d={};var a=String;v=Z.start;for(Sa("{");!qa("}");){v=Z.start;var c=Z;if(3===c.type){var f=pi();Sa(":");c=dd();c=oi("init",f,c)}else 2===c.type||7===c.type?(Qe(c),c=void 0):(f=pi(),Sa(":"),c=dd(),c=oi("init",f,c));f="Identifier"===c.key.type?c.key.name:a(c.key.value);f="$"+f;Object.prototype.hasOwnProperty.call(d,f)?fa({},"Duplicate data property in object literal not allowed in strict mode"):
d[f]=!0;b.push(c);qa("}")||Sa(",")}Sa("}");d=new Gb("ObjectExpression");d.properties=b;return d}b=Z.type;v=Z.start;if(3===b||bl[Z.value])d=Xf(cb().value);else if(8===b||6===b)Z.octal&&fa(Z,"Octal literals are not allowed in strict mode."),d=be(cb());else{if(4===b)throw Error("Disabled.");if(1===b)b=cb(),b.value="true"===b.value,d=be(b);else if(5===b)b=cb(),b.value=null,d=be(b);else if(qa("/")||qa("/\x3d")){var h;Z=null;hi();b=v;d=I[v];Oe("/"===d,"Regular expression literal must start with a slash");
a=I[v++];for(f=c=!1;v<Ra;)if(d=I[v++],a+=d,"\\"===d)d=I[v++],$d(d.charCodeAt(0))&&fa({},"Invalid regular expression: missing /"),a+=d;else if($d(d.charCodeAt(0)))fa({},"Invalid regular expression: missing /");else if(c)"]"===d&&(c=!1);else if("/"===d){f=!0;break}else"["===d&&(c=!0);f||fa({},"Invalid regular expression: missing /");d=a.substr(1,a.length-2);for(h=f="";v<Ra;){c=I[v];if(!Pe(c.charCodeAt(0)))break;++v;"\\"===c&&v<Ra?fa({},"Unexpected token %0","ILLEGAL"):(h+=c,f+=c)}0<=h.search(/[^gimuy]/g)&&
fa({},"Invalid regular expression",h);c=h;h=Zk(d,c);d=be({literal:a+f,value:h,regex:{pattern:d,flags:c},start:b,end:v});li()}else Qe(cb())}return d}function qi(){var b;for(b=al();;)if(qa(".")){Sa(".");v=Z.start;var d=cb();3===d.type||4===d.type||1===d.type||5===d.type||Qe(d);d=Xf(d.value);b=ni(".",b,d)}else if(qa("(")){d=[];Sa("(");if(!qa(")"))for(;v<Ra;){d.push(dd());if(qa(")"))break;Sa(",")}Sa(")");var a=new Gb("CallExpression");a.callee=b;a.arguments=d;b=a}else if(qa("["))Sa("["),d=Yf(),Sa("]"),
b=ni("[",b,d);else break;if(7===Z.type&&(qa("++")||qa("--")))throw Error("Disabled.");return b}function Re(){if(7!==Z.type&&4!==Z.type)var b=qi();else{if(qa("++")||qa("--"))throw Error("Disabled.");if(qa("+")||qa("-")||qa("~")||qa("!")){var d=cb();b=Re();d=d.value;var a=new Gb("UnaryExpression");a.operator=d;a.argument=b;a.prefix=!0;b=a}else{if(4===Z.type&&"delete"===Z.value||4===Z.type&&"void"===Z.value||4===Z.type&&"typeof"===Z.value)throw Error("Disabled.");b=qi()}}return b}function ri(b){var d=
0;if(7!==b.type&&4!==b.type)return 0;switch(b.value){case "||":d=1;break;case "\x26\x26":d=2;break;case "|":d=3;break;case "^":d=4;break;case "\x26":d=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":d=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":d=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":d=8;break;case "+":case "-":d=9;break;case "*":case "/":case "%":d=11}return d}function dd(){var b=Z;var d=Re();var a=Z;
var c=ri(a);if(0===c)var f=d;else{a.prec=c;cb();b=[b,Z];var h=Re();for(f=[d,a,h];0<(c=ri(Z));){for(;2<f.length&&c<=f[f.length-2].prec;)h=f.pop(),a=f.pop().value,d=f.pop(),b.pop(),d=mi(a,d,h),f.push(d);a=cb();a.prec=c;f.push(a);b.push(Z);d=Re();f.push(d)}c=f.length-1;d=f[c];for(b.pop();1<c;)b.pop(),d=mi(f[c-1].value,f[c-2],d),c-=2;f=d}qa("?")&&(cb(),b=dd(),Sa(":"),c=dd(),d=new Gb("ConditionalExpression"),d.test=f,d.consequent=b,d.alternate=c,f=d);return f}function Yf(){var b=dd();if(qa(","))throw Error("Disabled.");
return b}function cl(b){I=b;v=0;Ra=I.length;Z=null;li();b=Yf();if(2!==Z.type)throw Error("Unexpect token after expression.");return b}function Zf(b){var d=[];if("Identifier"===b.type)return[b.name];if("Literal"===b.type)return[b.value];"MemberExpression"===b.type&&(d.push.apply(d,$jscomp.arrayFromIterable(Zf(b.object))),d.push.apply(d,$jscomp.arrayFromIterable(Zf(b.property))));return d}function si(b){return"MemberExpression"===b.object.type?si(b.object):"datum"===b.object.name}function ti(b){b=cl(b);
var d=new Set;b.visit(function(a){"MemberExpression"===a.type&&si(a)&&d.add(Zf(a).slice(1).join("."))});return d}function dl(b,d){for(var a,c={},f=b.config.selection,h={},n=$jscomp.makeIterator(A(null!==d&&void 0!==d?d:{})),r=n.next();!r.done;h={$jscomp$loop$prop$selCmpt$446:h.$jscomp$loop$prop$selCmpt$446,$jscomp$loop$prop$selDef$447:h.$jscomp$loop$prop$selDef$447,$jscomp$loop$prop$name$330$448:h.$jscomp$loop$prop$name$330$448},r=n.next()){h.$jscomp$loop$prop$name$330$448=r.value;h.$jscomp$loop$prop$selDef$447=
T(d[h.$jscomp$loop$prop$name$330$448]);r=z(f[h.$jscomp$loop$prop$selDef$447.type],["fields","encodings"]);for(var e in r)"encodings"===e&&h.$jscomp$loop$prop$selDef$447.fields||"fields"===e&&h.$jscomp$loop$prop$selDef$447.encodings||("mark"===e&&(h.$jscomp$loop$prop$selDef$447[e]=Object.assign(Object.assign({},r[e]),h.$jscomp$loop$prop$selDef$447[e])),void 0!==h.$jscomp$loop$prop$selDef$447[e]&&!0!==h.$jscomp$loop$prop$selDef$447[e])||(h.$jscomp$loop$prop$selDef$447[e]=null!==(a=r[e])&&void 0!==a?
a:h.$jscomp$loop$prop$selDef$447[e]);r=aa(h.$jscomp$loop$prop$name$330$448);h.$jscomp$loop$prop$selCmpt$446=c[r]=Object.assign(Object.assign({},h.$jscomp$loop$prop$selDef$447),{name:r,events:L(h.$jscomp$loop$prop$selDef$447.on)?ud(h.$jscomp$loop$prop$selDef$447.on,"scope"):T(h.$jscomp$loop$prop$selDef$447.on)});Ne(h.$jscomp$loop$prop$selCmpt$446,function(a){return function(c){c.has(a.$jscomp$loop$prop$selCmpt$446)&&c.parse&&c.parse(b,a.$jscomp$loop$prop$selCmpt$446,a.$jscomp$loop$prop$selDef$447,
d[a.$jscomp$loop$prop$name$330$448])}}(h))}return c}function Sh(b,d,a,c){c=void 0===c?"datum":c;var f=[];d=zc(d,function(d){var h=aa(d);d=b.getSelectionComponent(h,d);h=M(h+"_store");if(d.project.timeUnit){var r=null!==a&&void 0!==a?a:b.component.data.raw,e=d.project.timeUnit.clone();r.parent?e.insertAsParentOf(r):r.parent=e}"none"!==d.empty&&f.push(h);return"vlSelectionTest("+h+", "+c+("global"===d.resolve?")":", "+M(d.resolve)+")")});return(f.length?"!("+f.map(function(a){return"length(data("+a+
"))"}).join(" || ")+") || ":"")+("("+d+")")}function ui(b,d){var a=d.encoding,c=d.field;if(!a&&!c)c=b.project.items[0].field,1<b.project.items.length&&x('A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": '+(M(c)+"."));else if(a&&!c){var f=b.project.items.filter(function(b){return b.channel===a});!f.length||1<f.length?(c=b.project.items[0].field,x((f.length?"Multiple ":"No ")+("matching "+M(a)+" encoding found for selection "+M(d.selection)+'. Using "field": ')+
(M(c)+"."))):c=f[0].field}return b.name+"["+M(c)+"]"}function el(b,d){cd(b,function(a){var c=a.name,f=b.getName("lookup_"+c);b.component.data.outputNodes[f]=a.materialized=new ya(new Hb(d,b,{selection:c}),f,"lookup",b.component.data.outputNodeRefCounts)})}function Ie(b,d,a){return zc(d,function(c){return L(c)?c:(null===c||void 0===c?0:c.selection)?Sh(b,c.selection,a):se(c)})}function fl(b,d){if(b)return J(b)&&!bb(b)?b.map(function(a){return ye(a,d)}).join(", "):b}function $f(b,d,a,c){var f,h,n;b.encode=
null!==(f=b.encode)&&void 0!==f?f:{};b.encode[d]=null!==(h=b.encode[d])&&void 0!==h?h:{};b.encode[d].update=null!==(n=b.encode[d].update)&&void 0!==n?n:{};b.encode[d].update[a]=c}function ce(b,d,a,c){c=void 0===c?{header:!1}:c;var f,h,n=b.combine(),r=n.disable,e=n.orient,g=n.scale,k=n.labelExpr,m=n.title,l=n.zindex;n=z(n,"disable orient scale labelExpr title zindex".split(" "));if(!r){for(var t in n){var q=gl[t];r=n[t];if(q&&q!==d&&"both"!==q)delete n[t];else if(Id(r)){q=r.condition;r=z(r,["condition"]);
q=da(q);var w=vi[t];if(w){var p=w;w=p.vgProp;p=p.part;r=[].concat($jscomp.arrayFromIterable(q.map(function(a){var b=a.test;a=z(a,["test"]);return Object.assign({test:Ie(null,b)},a)})),[r]);$f(n,p,w,r);delete n[t]}else null===w&&(r={signal:q.map(function(a){var b=a.test;a=z(a,["test"]);return Ie(null,b)+" ? "+(C(a)?a.signal:M(a.value))+" : "}).join("")+(C(r)?r.signal:M(r.value))},n[t]=r)}else C(r)&&(q=vi[t])&&($f(n,q.part,q.vgProp,r),delete n[t])}if("grid"===d){if(n.grid)return n.encode&&(a=n.encode.grid,
n.encode=Object.assign({},a?{grid:a}:{}),ha(n.encode)&&delete n.encode),Object.assign(Object.assign({scale:g,orient:e},n),{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:na(l,0)})}else if(c.header||!b.mainExtracted){void 0!==k&&(d=k,(null===(h=null===(f=n.encode)||void 0===f?void 0:f.labels)||void 0===h?0:h.update)&&C(n.encode.labels.update.text)&&(d=ba(k,"datum.label",n.encode.labels.update.text.signal)),$f(n,"labels","text",{signal:d}));null===n.labelAlign&&delete n.labelAlign;
if(n.encode){f=$jscomp.makeIterator(wi);for(h=f.next();!h.done;h=f.next())h=h.value,b.hasAxisPart(h)||delete n.encode[h];ha(n.encode)&&delete n.encode}b=fl(m,a);return Object.assign(Object.assign(Object.assign(Object.assign({scale:g,orient:e,grid:!1},b?{title:b}:{}),n),!1===a.aria?{aria:!1}:{}),{zindex:na(l,0)})}}}function xi(b){for(var d=b.component.axes,a=[],c=$jscomp.makeIterator(sb),f=c.next();!f.done;f=c.next())if(f=f.value,d[f])for(var h=$jscomp.makeIterator(d[f]),n=h.next();!n.done;n=h.next())if(n=
n.value,!n.get("disable")&&!n.get("gridScale")){n="x"===f?"height":"width";var r=b.getSizeSignalRef(n).signal;n!==r&&a.push({name:n,update:r})}return a}function hl(b,d){var a=void 0===b.x?[]:b.x;b=void 0===b.y?[]:b.y;return[].concat($jscomp.arrayFromIterable(a.map(function(a){return ce(a,"grid",d)})),$jscomp.arrayFromIterable(b.map(function(a){return ce(a,"grid",d)})),$jscomp.arrayFromIterable(a.map(function(a){return ce(a,"main",d)})),$jscomp.arrayFromIterable(b.map(function(a){return ce(a,"main",
d)}))).filter(function(a){return a})}function yi(b,d,a,c){return Object.assign.apply(null,[{}].concat($jscomp.arrayFromIterable(b.map(function(b){if("axisOrient"===b){b="x"===a?"bottom":"left";var f=d["x"===a?"axisBottom":"axisLeft"]||{},n=d["x"===a?"axisTop":"axisRight"]||{},r=new Set([].concat($jscomp.arrayFromIterable(A(f)),$jscomp.arrayFromIterable(A(n)))),e={};r=$jscomp.makeIterator(r.values());for(var g=r.next();!g.done;g=r.next())g=g.value,e[g]={signal:c.signal+' \x3d\x3d\x3d "'+b+'" ? '+Qd(f[g])+
" : "+Qd(n[g])};return e}return d[b]}))))}function il(b,d,a,c){var f="band"===d?["axisDiscrete","axisBand"]:"point"===d?["axisDiscrete","axisPoint"]:d in jl?["axisQuantitative"]:"time"===d||"utc"===d?["axisTemporal"]:[],h="x"===b?"axisX":"axisY";d=C(a)?"axisOrient":"axis"+Ac(a);f=[].concat($jscomp.arrayFromIterable(f),$jscomp.arrayFromIterable(f.map(function(a){return h+a.substr(4)})));d=["axis",d,h];return{vlOnlyAxisConfig:yi(f,c,b,a),vgAxisConfig:yi(d,c,b,a),axisConfigStyle:kl([].concat($jscomp.arrayFromIterable(d),
$jscomp.arrayFromIterable(f)),c)}}function kl(b,d){var a,c=[{}];b=$jscomp.makeIterator(b);for(var f=b.next();!f.done;f=b.next())if(f=null===(a=d[f.value])||void 0===a?void 0:a.style){f=da(f);f=$jscomp.makeIterator(f);for(var h=f.next();!h.done;h=f.next())c.push(d.style[h.value])}return Object.assign.apply(null,c)}function ag(b,d,a,c){c=void 0===c?{}:c;var f;d=bh(b,a,d.style);if(void 0!==d)return{configFrom:"style",configValue:d};d=$jscomp.makeIterator(["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"]);
for(a=d.next();!a.done;a=d.next())if(a=a.value,void 0!==(null===(f=c[a])||void 0===f?void 0:f[b]))return{configFrom:a,configValue:c[a][b]};return{}}function ll(b,d,a,c,f){var h=null===d||void 0===d?void 0:d.labelAngle;if(void 0!==h)return C(h)?h:id(h);b=ag("labelAngle",b.config,null===d||void 0===d?void 0:d.style,f).configValue;if(void 0!==b)return id(b);if("x"===a&&F([sf,rf],c.type))return 270}function bg(b){return"((("+b.signal+" % 360) + 360) % 360)"}function zi(b,d,a,c){if(void 0!==b)return"x"===
a?C(b)?(c=bg(b),d=C(d)?"("+d.signal+' \x3d\x3d\x3d "top")':"top"===d,{signal:"(45 \x3c "+c+" \x26\x26 "+c+" \x3c 135) || (225 \x3c "+c+" \x26\x26 "+c+' \x3c 315) ? "middle" :('+(c+" \x3c\x3d 45 || 315 \x3c\x3d "+c+") \x3d\x3d\x3d "+d+' ? "bottom" : "top"')}):45<b&&135>b||225<b&&315>b?"middle":C(d)?{signal:d.signal+" "+(45>=b||315<=b?"\x3d\x3d\x3d":"!\x3d\x3d")+' "top" ? "bottom" : "top"'}:(45>=b||315<=b)===("top"===d)?"bottom":"top":C(b)?(b=bg(b),d=C(d)?"("+d.signal+' \x3d\x3d\x3d "left")':"left"===
d,{signal:b+" \x3c\x3d 45 || 315 \x3c\x3d "+b+" || (135 \x3c\x3d "+b+" \x26\x26 "+b+" \x3c\x3d 225) ? "+(c?'"middle"':"null")+" : (45 \x3c\x3d "+b+" \x26\x26 "+b+" \x3c\x3d 135) \x3d\x3d\x3d "+d+' ? "top" : "bottom"'}):45>=b||315<=b||135<=b&&225>=b?c?"middle":null:C(d)?{signal:d.signal+" "+(45<=b&&135>=b?"\x3d\x3d\x3d":"!\x3d\x3d")+' "left" ? "top" : "bottom"'}:(45<=b&&135>=b)===("left"===d)?"top":"bottom"}function Ai(b,d,a){if(void 0!==b){var c=(a="x"===a)?0:90,f=a?"bottom":"left";return C(b)?(b=
bg(b),d=C(d)?"("+d.signal+' \x3d\x3d\x3d "'+f+'")':d===f,{signal:"("+(c?"("+b+" + 90)":b)+" % 180 \x3d\x3d\x3d 0) ? "+(a?null:'"center"')+" :("+(c+" \x3c "+b+" \x26\x26 "+b+" \x3c "+(180+c)+") \x3d\x3d\x3d "+d+' ? "left" : "right"')}):0===(b+c)%180?a?null:"center":C(d)?{signal:d.signal+" "+(c<b&&b<180+c?"\x3d\x3d\x3d":"!\x3d\x3d")+' "'+f+'" ? "left" : "right"'}:(c<b&&b<180+c)===(d===f)?"left":"right"}}function Bi(b,d){var a="x"===d?"x2":"y2";d=b.fieldDef(d);b=b.fieldDef(a);a=d?d.title:void 0;b=b?
b.title:void 0;if(a&&b)return eh(a,b);if(a)return a;if(b)return b;if(void 0!==a)return a;if(void 0!==b)return b}function xd(b,d,a){return B(b,Object.assign({prefix:d,suffix:"sort_index"},null!==a&&void 0!==a?a:{}))}function Se(b,d){return F(["top","bottom"],d)?"column":F(["left","right"],d)?"row":"row"===b?"row":"column"}function yd(b,d,a,c){return na(((null===d||void 0===d?void 0:d.header)||{})[b],("row"===c?a.headerRow:"column"===c?a.headerColumn:a.headerFacet)[b],a.header[b])}function Te(b,d,a,
c){var f={};b=$jscomp.makeIterator(b);for(var h=b.next();!h.done;h=b.next()){h=h.value;var n=yd(h,d,a,c);void 0!==n&&(f[h]=n)}return f}function ml(b,d){var a=b.component.layoutHeaders[d].title,c=b.config?b.config:void 0;b=b.component.layoutHeaders[d].facetFieldDef?b.component.layoutHeaders[d].facetFieldDef:void 0;var f=Te(["titleAnchor","titleAngle","titleOrient"],b,c,d),h=f.titleAnchor,n=f.titleAngle;f=Se(d,f.titleOrient);n=id(n);return{name:d+"-title",type:"group",role:f+"-title",title:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:a},
"row"===d?{orient:"left"}:{}),{style:"guide-title"}),Ci(n,f)),Di(f,n,h)),Ei(c,b,d,nl,Fi))}}function Di(b,d,a){switch(void 0===a?"middle":a){case "start":return{align:"left"};case "end":return{align:"right"}}return(b=Ai(d,"row"===b?"left":"top","row"===b?"y":"x"))?{align:b}:{}}function Ci(b,d){return(b=zi(b,"row"===d?"left":"top","row"===d?"y":"x",!0))?{baseline:b}:{}}function ol(b,d){for(var a=b.component.layoutHeaders[d],c=[],f=$jscomp.makeIterator(cg),h=f.next();!h.done;h=f.next())if(h=h.value,
a[h])for(var n=$jscomp.makeIterator(a[h]),r=n.next();!r.done;r=n.next()){r=r.value;a:{var e=b,g=d;if(r){var k=null,m=a.facetFieldDef,l=e.config?e.config:void 0;if(m&&r.labels){var t=Te(["labelOrient"],m,l,g).labelOrient;if("row"===g&&!F(["top","bottom"],t)||"column"===g&&!F(["left","right"],t))k=dg(m,g,l)}l=Fb(e)&&!Pd(e.facet);t=r.axes;var q=0<(null===t||void 0===t?void 0:t.length);if(k||q){var w="row"===g?"height":"width",p={};r=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:e.getName(g+
"_"+h),type:"group",role:g+"-"+h},a.facetFieldDef?{from:{data:e.getName(g+"_domain")},sort:pl(m,g)}:{}),q&&l?{from:{data:e.getName("facet_domain_"+g)}}:{}),k?{title:k}:{}),r.sizeSignal?{encode:{update:(p[w]=r.sizeSignal,p)}}:{}),q?{axes:t}:{});break a}}r=null}null!=r&&c.push(r)}return c}function pl(b,d){var a,c=b.sort;return Ub(c)?{field:B(c,{expr:"datum"}),order:null!==(a=c.order)&&void 0!==a?a:"ascending"}:J(c)?{field:xd(b,d,{expr:"datum"}),order:"ascending"}:{field:B(b,{expr:"datum"}),order:null!==
c&&void 0!==c?c:"ascending"}}function dg(b,d,a){var c=Te("format formatType labelAngle labelAnchor labelOrient labelExpr".split(" "),b,a,d),f=c.labelAngle,h=c.labelAnchor,n=c.labelOrient,r=c.labelExpr;c=k({fieldOrDatumDef:b,format:c.format,formatType:c.formatType,expr:"parent",config:a}).signal;n=Se(d,n);return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({text:{signal:r?ba(ba(r,"datum.label",c),"datum.value",B(b,{expr:"parent"})):c}},"row"===d?{orient:"left"}:{}),{style:"guide-label",
frame:"group"}),Ci(f,n)),Di(n,f,h)),Ei(a,b,d,ql,Gi))}function Ei(b,d,a,c,f){var h={};c=$jscomp.makeIterator(c);for(var n=c.next();!n.done;n=c.next())if(n=n.value,f[n]){var r=yd(n,d,b,a);void 0!==r&&(h[f[n]]=r)}return h}function eg(b){return[].concat($jscomp.arrayFromIterable(Ue(b,"width")),$jscomp.arrayFromIterable(Ue(b,"height")),$jscomp.arrayFromIterable(Ue(b,"childWidth")),$jscomp.arrayFromIterable(Ue(b,"childHeight")))}function Ue(b,d){var a="width"===d?"x":"y",c=b.component.layoutSize.get(d);
if(!c||"merged"===c)return[];d=b.getSizeSignalRef(d).signal;if("step"===c){if(c=b.getScaleComponent(a)){var f=c.get("type"),h=c.get("range");if(f in $a&&Bb(h))return f=b.scaleName(a),Fb(b.parent)&&"independent"===b.parent.component.resolve.scale[a]?[{name:f+"_step",value:h.step}]:[{name:f+"_step",value:h.step},{name:d,update:Hi(f,c,"domain('"+f+"').length")}]}throw Error("layout size is step although width/height is not step.");}return"container"==c?(a=(c=d.endsWith("width"))?"containerSize()[0]":
"containerSize()[1]",b=Jf(b.config.view,c?"width":"height"),b="isFinite("+a+") ? "+a+" : "+b,[{name:d,init:b,on:[{update:b,events:"window:resize"}]}]):[{name:d,value:c}]}function Hi(b,d,a){var c=d.get("type"),f=d.get("padding"),h=na(d.get("paddingOuter"),f);d=d.get("paddingInner");return"bandspace("+a+", "+("band"===c?void 0!==d?d:f:1)+", "+h+") * "+b+"_step"}function Ii(b){return"childWidth"===b?"width":"childHeight"===b?"height":b}function Ji(b,d){return A(b).reduce(function(a,c){var f=b[c];return Object.assign(Object.assign({},
a),Wd(d,f,c,function(a){return C(a)?a:{value:a.value}}))},{})}function fg(b,d){var a=d in Pa?"axis":"legend";return"independent"===b.scale[d]?("shared"===b[a][d]&&x('Setting the scale to be independent for "'+d+'" means we also have to set the guide (axis or legend) to be independent.'),"independent"):b[a][d]||"shared"}function Ki(b){return Li(b,function(b,a){return Math.max(b,a.value)})}function gg(b){return Li(b,function(b,a){return na(b,a.value)})}function Li(b,d){var a=b&&b.condition;if(a&&(J(a)||
kc(a)))return da(b.condition).reduce(d,b.value);if(kc(b))return b.value}function Mi(b,d,a){b=d.get("selections");if(null!==b&&void 0!==b&&b.length){var c=M(a.field);return b.map(function(a){return"(!length(data("+M(aa(a)+"_store")+")) || ("+a+"["+c+"] \x26\x26 indexof("+a+"["+c+"], datum.value) \x3e\x3d 0))"}).join(" || ")}}function Ni(b){if(wa(b)){var d=b.encoding;for(var a={},c=$jscomp.makeIterator(["color"].concat($jscomp.arrayFromIterable(Oi))),f=c.next();!f.done;f=c.next()){f=f.value;var h=ma(d[f]);
if(h&&b.getScaleComponent(f)&&("shape"!==f||!D(h)||h.type!==rd)){var n=void 0,r=void 0,e=h=void 0;var g=void 0;var k=b,m=k.legend(f),l=k.markDef,t=k.encoding,q=k.config,w=q.legend,p=new Pi({},rl(k,f));Mk(k,f,p);var v=void 0!==m?!m:w.disable;p.set("disable",v,void 0!==m);if(!v){m=m||{};var y=k.getScaleComponent(f).get("type");v=ma(t[f]);var G=D(v)?null===(g=Da(v.timeUnit))||void 0===g?void 0:g.unit:void 0,u=m.orient||q.legend.orient||"right";g=m.type;b:{var O=y;if(cc(f)){if(F(["quarter","month","day"],
G)){G="symbol";break b}if(O in Db){G="gradient";break b}}G="symbol"}g=na(g,G);G=w;O=g;var x=u;if(null===(n=null!==(r=m.direction)&&void 0!==r?r:G[O?"gradientDirection":"symbolDirection"])||void 0===n)b:{switch(x){case "top":case "bottom":n="horizontal";break b;case "left":case "right":case "none":case void 0:break;default:n="gradient"===O?"horizontal":void 0;break b}n=void 0}l={legend:m,channel:f,model:k,markDef:l,encoding:t,fieldOrDatumDef:v,legendConfig:w,config:q,scaleType:y,orient:u,legendType:g,
direction:n};t=$jscomp.makeIterator(Qi);for(w=t.next();!w.done;w=t.next())if(w=w.value,y=w in Ri?Ri[w](l):m[w],void 0!==y){b:{n=k.fieldDef(f);switch(w){case "disable":n=void 0!==m;break b;case "values":n=!(null===m||void 0===m||!m.values);break b;case "title":if("title"===w&&y===(null===n||void 0===n?void 0:n.title)){n=!0;break b}}n=y===(m||{})[w]}(n||void 0===q.legend[w])&&p.set(w,y,n)}q=null!==(e=null===m||void 0===m?void 0:m.encoding)&&void 0!==e?e:{};e=p.get("selections");l={};g={fieldOrDatumDef:v,
model:k,channel:f,legendCmpt:p,legendType:g};t=$jscomp.makeIterator("labels legend title symbols gradient entries".split(" "));for(w=t.next();!w.done;w=t.next())w=w.value,y=Ji(null!==(h=q[w])&&void 0!==h?h:{},k),y=w in Si?Si[w](y,g):y,void 0===y||ha(y)||(l[w]=Object.assign(Object.assign(Object.assign({},(null===e||void 0===e?0:e.length)&&D(v)?{name:aa(v.field)+"_legend_"+w}:{}),(null===e||void 0===e?0:e.length)?{interactive:!!e}:{}),{update:y}));ha(l)||p.set("encode",l,!(null===m||void 0===m||!m.encoding))}h=
p;a[f]=h}}d=a}else{a=b.component;d=a.legends;a=a.resolve;c=$jscomp.makeIterator(b.children);for(f=c.next();!f.done;f=c.next())for(f=f.value,Ni(f),h=$jscomp.makeIterator(A(f.component.legends)),k=h.next();!k.done;k=h.next())k=k.value,a.legend[k]=fg(b.component.resolve,k),"shared"===a.legend[k]&&(d[k]=Ti(d[k],f.component.legends[k]),d[k]||(a.legend[k]="independent",delete d[k]));c=$jscomp.makeIterator(A(d));for(k=c.next();!k.done;k=c.next())for(h=k.value,k=$jscomp.makeIterator(b.children),f=k.next();!f.done;f=
k.next())f=f.value,f.component.legends[h]&&"shared"===a.legend[h]&&delete f.component.legends[h]}return b.component.legends=d}function rl(b,d){var a=b.scaleName(d);if("trail"===b.mark){if("color"===d)return{stroke:a};if("size"===d)return{strokeWidth:a}}if("color"===d)return b.markDef.filled?{fill:a}:{stroke:a};b={};return b[d]=a,b}function Ti(b,d){var a,c,f,h;if(!b)return d.clone();var n=b.getWithExplicit("orient"),r=d.getWithExplicit("orient");if(!n.explicit||!r.explicit||n.value===r.value){var e=
!1;n={};r=$jscomp.makeIterator(Qi);for(var g=r.next();!g.done;n={$jscomp$loop$prop$prop$450:n.$jscomp$loop$prop$prop$450},g=r.next())n.$jscomp$loop$prop$prop$450=g.value,g=Fc(b.getWithExplicit(n.$jscomp$loop$prop$prop$450),d.getWithExplicit(n.$jscomp$loop$prop$prop$450),n.$jscomp$loop$prop$prop$450,"legend",function(a){return function(b,c){switch(a.$jscomp$loop$prop$prop$450){case "symbolType":return b="circle"===c.value?c:b,b;case "title":return fh(b,c);case "type":return e=!0,fb("symbol")}return Fe(b,
c,a.$jscomp$loop$prop$prop$450,"legend")}}(n)),b.setWithExplicit(n.$jscomp$loop$prop$prop$450,g);e&&((null===(c=null===(a=b.implicit)||void 0===a?void 0:a.encode)||void 0===c?0:c.gradient)&&Gd(b.implicit,["encode","gradient"]),(null===(h=null===(f=b.explicit)||void 0===f?void 0:f.encode)||void 0===h?0:h.gradient)&&Gd(b.explicit,["encode","gradient"]));return b}}function Ui(b,d,a,c){var f,h,n;b.encode=null!==(f=b.encode)&&void 0!==f?f:{};b.encode[d]=null!==(h=b.encode[d])&&void 0!==h?h:{};b.encode[d].update=
null!==(n=b.encode[d].update)&&void 0!==n?n:{};b.encode[d].update[a]=c}function Vi(b){for(var d=b.component.legends,a={},c=$jscomp.makeIterator(A(d)),f=c.next();!f.done;f=c.next()){f=f.value;var h=b.getScaleComponent(f);h=va(h.get("domains"));if(a[h])for(var n=$jscomp.makeIterator(a[h]),r=n.next();!r.done;r=n.next())Ti(r.value,d[f])||a[h].push(d[f]);else a[h]=[d[f].clone()]}return Ic(a).flat().map(function(a){var c=b.config,d,f,h;a=a.combine();var n=a.disable,r=a.labelExpr;a=z(a,["disable","labelExpr",
"selections"]);if(n)var e=void 0;else{!1===c.aria&&void 0==a.aria&&(a.aria=!1);if(null===(d=a.encode)||void 0===d?0:d.symbols)for(c=a.encode.symbols.update,!c.fill||"transparent"===c.fill.value||c.stroke||a.stroke||(c.stroke={value:"transparent"}),d=$jscomp.makeIterator(Oi),n=d.next();!n.done;n=d.next())n=n.value,a[n]&&delete c[n];a.title||delete a.title;void 0!==r&&(c=r,(null===(h=null===(f=a.encode)||void 0===f?void 0:f.labels)||void 0===h?0:h.update)&&C(a.encode.labels.update.text)&&(c=ba(r,"datum.label",
a.encode.labels.update.text.signal)),Ui(a,"labels","text",{signal:c}));for(e in a)if(f=a[e],C(f)&&(h=sl[e]))Ui(a,h.part,h.vgProp,f),delete a[e];e=a}return e}).filter(function(a){return void 0!==a})}function tl(b){return b.children.reduce(function(b,a){return b.concat(a.assembleProjections())},Wi(b))}function Wi(b){var d=b.component.projection;if(!d||d.merged)return[];var a=d.combine(),c=a.name;if(d.data){var f={signal:"["+d.size.map(function(a){return a.signal}).join(", ")+"]"};d=d.data.reduce(function(a,
c){c=C(c)?c.signal:"data('"+b.lookupDataSource(c)+"')";F(a,c)||a.push(c);return a},[]);if(0>=d.length)throw Error("Projection's fit didn't find any data sources");return[Object.assign({name:c,size:f,fit:{signal:1<d.length?"["+d.join(", ")+"]":d[0]}},a)]}return[Object.assign(Object.assign({name:c},{translate:{signal:"[width / 2, height / 2]"}}),a)]}function Xi(b){var d;if(b.hasProjection){var a=b.specifiedProjection,c=!(a&&(null!=a.scale||null!=a.translate)),f=c?[b.getSizeSignalRef("width"),b.getSizeSignalRef("height")]:
void 0;if(c){c=[];for(var h=b.encoding,n=$jscomp.makeIterator([["longitude","latitude"],["longitude2","latitude2"]]),e=n.next();!e.done;e=n.next())e=e.value,(ma(h[e[0]])||ma(h[e[1]]))&&c.push({signal:b.getName("geojson_"+c.length)});b.channelHasField("shape")&&b.typedFieldDef("shape").type===rd&&c.push({signal:b.getName("geojson_"+c.length)});0===c.length&&c.push(b.requestDataName("main"))}else c=void 0;return new Ve(b.projectionName(!0),Object.assign(Object.assign({},null!==(d=b.config.projection)&&
void 0!==d?d:{}),null!==a&&void 0!==a?a:{}),f,c)}}function ul(b,d){var a=fe(vl,function(a){return!Mc.call(b.explicit,a)&&!Mc.call(d.explicit,a)||Mc.call(b.explicit,a)&&Mc.call(d.explicit,a)&&va(b.get(a))===va(d.get(a))?!0:!1});if(va(b.size)===va(d.size)){if(a)return b;if(va(b.explicit)===va({}))return d;if(va(d.explicit)===va({}))return b}return null}function Yi(b){if(0!==b.children.length){for(var d,a=$jscomp.makeIterator(b.children),c=a.next();!c.done;c=a.next()){var f=c.value;f.component.projection=
wa(f)?Xi(f):Yi(f)}a=fe(b.children,function(a){if(a=a.component.projection){if(d)return(a=ul(d,a))&&(d=a),!!a;d=a}return!0});if(d&&a){a=b.projectionName(!0);f=new Ve(a,d.specifiedProjection,d.size,T(d.data));b=$jscomp.makeIterator(b.children);for(c=b.next();!c.done;c=b.next()){c=c.value;var h=c.component.projection;h&&(h.isFit&&f.data.push.apply(f.data,$jscomp.arrayFromIterable(c.component.projection.data)),c.renameProjection(h.get("name"),a),h.merged=!0)}return f}}}function wl(b,d,a,c){var f,h;return Od(d,
a)?(b=wa(b)?null!==(h=null!==(f=b.axis(a))&&void 0!==f?f:b.legend(a))&&void 0!==h?h:{}:{},f=B(d,{expr:"datum"}),h=B(d,{expr:"datum",binSuffix:"end"}),{formulaAs:B(d,{binSuffix:"range",forAs:!0}),formula:Tb(f,h,b.format,b.formatType,c)}):{}}function hg(b,d,a){var c;a=null!==(c=ke(a,void 0))&&void 0!==c?c:{};d=Pc(a)+"_"+d;return b.getName(d+"_bins")}function Zi(b,d,a){var c="as"in b?L(b.as)?[b.as,b.as+"_end"]:[b.as[0],b.as[1]]:[B(b,{forAs:!0}),B(b,{binSuffix:"end",forAs:!0})];d=Object.assign({},ke(d,
void 0));var f=b.field;f=Pc(d)+"_"+f;var h=a.getName(f+"_bins");var n=a.getName(f+"_extent");if(ec(d.extent)){var e=d.extent;var g=e.selection;e=ui(a.getSelectionComponent(aa(g),g),e);delete d.extent}b=Object.assign(Object.assign(Object.assign({bin:d,field:b.field,as:[c]},h?{signal:h}:{}),n?{extentSignal:n}:{}),e?{span:e}:{});return{key:f,binComponent:b}}function ig(b){b=$jscomp.makeIterator(b);for(var d=b.next();!d.done;d=b.next()){d=d.value;for(var a=$jscomp.makeIterator(d.children),c=a.next();!c.done;c=
a.next())if(c=c.value,c.parent!==d)return console.error("Dataflow graph is inconsistent.",d,c),!1;if(!ig(d.children))return!1}return!0}function We(b){return b instanceof db||b instanceof Yb||b instanceof Zb}function $i(b){return"'"===b[0]&&"'"===b[b.length-1]||'"'===b[0]&&'"'===b[b.length-1]?b.slice(1,-1):b}function xl(b,d){b=ie(b);if("number"===d)return"toNumber("+b+")";if("boolean"===d)return"toBoolean("+b+")";if("string"===d)return"toString("+b+")";if("date"===d)return"toDate("+b+")";if("flatten"===
d)return b;if(0===d.indexOf("date:"))return d=$i(d.slice(5,d.length)),"timeParse("+b+",'"+d+"')";if(0===d.indexOf("utc:"))return d=$i(d.slice(4,d.length)),"utcParse("+b+",'"+d+"')";x('Unrecognized parse "'+d+'".');return null}function yl(b){var d={};vc(b.filter,function(a){var b;if(re(a)){var f=null;pd(a)?f=a.equal:fc(a)?f=a.range[0]:gc(a)&&(f=(null!==(b=a.oneOf)&&void 0!==b?b:a["in"])[0]);f&&(Bc(f)?d[a.field]="date":W(f)?d[a.field]="number":L(f)&&(d[a.field]="string"));a.timeUnit&&(d[a.field]="date")}});
return d}function zl(b){function d(b){if(we(b))a[b.field]="date";else{var c;if(c="quantitative"===b.type)c=b.aggregate,c=L(c)&&F(["min","max"],c);c?a[b.field]="number":1<Ka(b.field)?b.field in a||(a[b.field]="flatten"):tf(b)&&Ub(b.sort)&&1<Ka(b.sort.field)&&(b.sort.field in a||(a[b.sort.field]="flatten"))}}var a={};(wa(b)||Fb(b))&&b.forEachFieldDef(function(a,c){ab(a)?d(a):(c=Qb(c),c=b.fieldDef(c),d(Object.assign(Object.assign({},a),{type:c.type})))});if(wa(b)){var c=b.markDef,f=b.encoding;bc(b.mark)&&
!b.encoding.order&&(c=f["horizontal"===c.orient?"y":"x"],!D(c)||"quantitative"!==c.type||c.field in a||(a[c.field]="number"))}return a}function Al(b){return b.stack.stackBy.reduce(function(b,a){(a=B(a.fieldDef))&&b.push(a);return b},[])}function Bl(b){return J(b)&&b.every(function(b){return L(b)})&&1<b.length}function Cl(b){function d(a){if(!(a instanceof Ta)){var c=a.clone();if(c instanceof ya){var f="scale_"+c.getSource();c.setSource(f);b.model.component.data.outputNodes[f]=c}else(c instanceof Ga||
c instanceof Ja||c instanceof gb||c instanceof eb)&&c.addDimensions(b.fields);a=$jscomp.makeIterator(a.children.flatMap(d));for(f=a.next();!f.done;f=a.next())f.value.parent=c;return[c]}return a.children.flatMap(d)}return d}function jg(b){if(b instanceof Ta)if(1!==b.numChildren()||b.children[0]instanceof ya){var d=b.model.component.data.main;aj(d);var a=Cl(b);b=b.children.map(a).flat();b=$jscomp.makeIterator(b);for(a=b.next();!a.done;a=b.next())a.value.parent=d}else d=b.children[0],(d instanceof Ga||
d instanceof Ja||d instanceof gb||d instanceof eb)&&d.addDimensions(b.fields),d.swapWithParent(),jg(b);else b.children.map(jg)}function aj(b){if(b instanceof ya&&"main"===b.type&&1===b.numChildren()){var d=b.children[0];d instanceof Ta||(d.swapWithParent(),aj(b))}}function Jc(b){function d(b){if(0===b.numChildren())a.push(b);else{b=$jscomp.makeIterator(b.children);for(var c=b.next();!c.done;c=b.next())d(c.value)}}var a=[];b=$jscomp.makeIterator(b);for(var c=b.next();!c.done;c=b.next())d(c.value);
return a}function Dl(b){return b}function Ib(b,d){return d.map(function(a){return b instanceof Ea?(a=b.optimizeNextFromLeaves(a),b.reset(),a):b.run(a)}).some(Dl)}function bj(b,d){var a=b.sources,c=new Set;c.add(Ib(new kg,a));c.add(Ib(new lg(d),a));a=a.filter(function(a){return 0<a.numChildren()});c.add(Ib(new mg,Jc(a)));a=a.filter(function(a){return 0<a.numChildren()});c.add(Ib(new ng,Jc(a)));c.add(Ib(new og(d),Jc(a)));c.add(Ib(new Xe,Jc(a)));c.add(Ib(new pg,Jc(a)));c.add(Ib(new qg,Jc(a)));c.add(Ib(new rg,
Jc(a)));c.add(Ib(new Ye,a));c.add(Ib(new sg,Jc(a)));b.sources=a;return c.has(!0)}function cj(b){for(var d=b.component.scales,a=$jscomp.makeIterator(A(d)),c=a.next();!c.done;c=a.next()){c=c.value;var f=b,h=f.getScaleComponent(c).get("type"),n=f.encoding;var e=f.scaleDomain(c);var g=f.typedFieldDef(c),k=f.config.scale;"unaggregated"===e?(g=dj(g,h),k=g.reason,g.valid||(x(k),e=void 0)):void 0===e&&k.useUnaggregatedDomain&&dj(g,h).valid&&(e="unaggregated");e!==f.scaleDomain(c)&&(f.specifiedScales[c]=Object.assign(Object.assign({},
f.specifiedScales[c]),{domain:e}));f="x"===c&&ma(n.x2)?ma(n.x)?Fc(Kc(h,e,f,"x"),Kc(h,e,f,"x2"),"domain","scale",tg):Kc(h,e,f,"x2"):"y"===c&&ma(n.y2)?ma(n.y)?Fc(Kc(h,e,f,"y"),Kc(h,e,f,"y2"),"domain","scale",tg):Kc(h,e,f,"y2"):Kc(h,e,f,c);d[c].setWithExplicit("domains",f);e=void 0;h=b.component.scales[c];g=b.specifiedScales[c].domain;n=null===(e=b.fieldDef(c))||void 0===e?void 0:e.bin;e=Ld(g)&&g;n=U(n)&&ec(n.extent)&&n.extent;(e||n)&&h.set("selectionExtent",null!==e&&void 0!==e?e:n,!0);if(b.component.data.isFaceted){for(h=
b;!Fb(h)&&h.parent;)h=h.parent;if("shared"===h.component.resolve.scale[c])for(c=$jscomp.makeIterator(f.value),f=c.next();!f.done;f=c.next())f=f.value,Cb(f)&&(f.data="scale_"+f.data.replace("scale_",""))}}}function ej(b){for(var d=$jscomp.makeIterator(b.children),a=d.next();!a.done;a=d.next()){var c=a.value;wa(c)?cj(c):ej(c)}d=b.component.scales;c=$jscomp.makeIterator(A(d));for(var f=c.next();!f.done;f=c.next()){f=f.value;var h=void 0,n=null,e=$jscomp.makeIterator(b.children);for(a=e.next();!a.done;a=
e.next())if(a=a.value.component.scales[f])h=void 0===h?a.getWithExplicit("domains"):Fc(h,a.getWithExplicit("domains"),"domains","scale",tg),a=a.get("selectionExtent"),n&&a&&n.selection!==a.selection&&x("The same selection must be used to override scale domains in a layered view."),n=a;d[f].setWithExplicit("domains",h);n&&d[f].set("selectionExtent",n,!0)}}function El(b,d,a){return b.map(function(b){return{signal:"{data: "+of(b,{timeUnit:a,type:d})+"}"}})}function ug(b,d,a){var c;a=null===(c=Da(a))||
void 0===c?void 0:c.unit;return"temporal"===d||a?El(b,d,a):[b]}function Kc(b,d,a,c){var f=ma(a.encoding[c]),h=f.type,n=f.timeUnit;if(d&&d.unionWith)return c=Kc(b,void 0,a,c),f=ug(d.unionWith,h,n),ad([].concat($jscomp.arrayFromIterable(c.value),$jscomp.arrayFromIterable(f)));if(C(d))return ad([d]);if(d&&"unaggregated"!==d&&!Ld(d))return ad(ug(d,h,n));var e=a.stack;if(e&&c===e.fieldChannel){if("normalize"===e.offset)return fb([[0,1]]);f=a.requestDataName("main");return fb([{data:f,field:a.vgField(c,
{suffix:"start"})},{data:f,field:a.vgField(c,{suffix:"end"})}])}e=ic[c]&&D(f)?Fl(a,c,b):void 0;if(Dc(f))return c=ug([f.datum],h,n),fb(c);if("unaggregated"===d)return c=a.requestDataName("main"),f=f.field,fb([{data:c,field:B({field:f,aggregate:"min"})},{data:c,field:B({field:f,aggregate:"max"})}]);if(X(f.bin)){if(b in $a)return"bin-ordinal"===b?fb([]):fb([{data:!0===e||!1===e?a.requestDataName("main"):a.requestDataName("raw"),field:a.vgField(c,Od(f,c)?{binSuffix:"range"}:{}),sort:!0!==e&&U(e)?e:{field:a.vgField(c,
{}),op:"min"}}]);d=f.bin;if(X(d)){var g=hg(a,f.field,d);return fb([new hb(function(){var b=a.getSignalName(g);return"["+b+".start, "+b+".stop]"})])}return fb([{data:a.requestDataName("main"),field:a.vgField(c,{})}])}return f.timeUnit&&F(["time","utc"],b)&&uf(c,f,wa(a)?a.encoding[ea(c)]:void 0,a.stack,a.markDef,a.config)?(f=a.requestDataName("main"),fb([{data:f,field:a.vgField(c)},{data:f,field:a.vgField(c,{suffix:"end"})}])):e?fb([{data:!0===e||!1===e?a.requestDataName("main"):a.requestDataName("raw"),
field:a.vgField(c),sort:e}]):fb([{data:a.requestDataName("main"),field:a.vgField(c)}])}function vg(b,d){var a=b.op,c=b.field;b=b.order;return Object.assign(Object.assign({op:null!==a&&void 0!==a?a:d?"sum":"min"},c?{field:xb(c)}:{}),b?{order:b}:{})}function Fl(b,d,a){if(a in $a){a=b.fieldDef(d);var c=a.sort;if(ia(c))return{op:"min",field:xd(a,d),order:"ascending"};var f=(a=b.stack)?[].concat($jscomp.arrayFromIterable(a.groupbyField?[a.groupbyField]:[]),$jscomp.arrayFromIterable(a.stackBy.map(function(a){return a.fieldDef.field}))):
void 0;if(Ub(c))return a=a&&!F(f,c.field),vg(c,a);if(c&&c.encoding){d=c.order;b=b.fieldDef(c.encoding);c=b.aggregate;var h=b.field;a=a&&!F(f,h);if(jb(c)||Va(c))return vg({field:B(b),order:d},a);if(Q(c)||!c)return vg({op:c,field:h,order:d},a)}else{if("descending"===c)return{op:"min",field:b.vgField(d),order:"descending"};if(F(["ascending",void 0],c))return!0}}}function dj(b,d){var a=b.aggregate,c=b.type;return a?L(a)&&!Gl[a]?{valid:!1,reason:'Unaggregated domain not applicable for "'+a+'" since it produces values outside the origin domain of the source data.'}:
"quantitative"===c&&"log"===d?{valid:!1,reason:"Unaggregated domain is currently unsupported for log scale ("+va(b)+")."}:{valid:!0}:{valid:!1,reason:"Using unaggregated domain with raw field has no effect ("+va(b)+")."}}function tg(b,d,a,c){if(b.explicit&&d.explicit){var f=d.value;a="Conflicting "+c.toString()+' property "'+a.toString()+'" ('+va(b.value)+" and "+va(f)+"). Using the union of the two domains.";x(a)}return{explicit:b.explicit,value:[].concat($jscomp.arrayFromIterable(b.value),$jscomp.arrayFromIterable(d.value))}}
function Hl(b){var d=Ob(b.map(function(a){return Cb(a)?z(a,["sort"]):a}),S),a=Ob(b.map(function(a){if(Cb(a))return a=a.sort,void 0!==a&&!0!==a&&!1!==a&&("op"in a&&"count"===a.op&&delete a.field,"ascending"===a.order&&delete a.order),a}).filter(function(a){return void 0!==a}),S);if(0!==d.length){if(1===d.length){d=b[0];if(Cb(d)&&0<a.length){var c=a[0];1<a.length?(x("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),c=!0):U(c)&&"field"in c&&d.field===c.field&&
(c=c.order?{order:c.order}:!0);return Object.assign(Object.assign({},d),{sort:c})}return d}a=Ob(a.map(function(a){if(!0===a||!1===a||!("op"in a)||a.op in Il)return a;x("Dropping sort property "+va(a)+' as unioned domains only support boolean or op "count", "min", and "max".');return!0}),S);1===a.length?c=a[0]:1<a.length&&(x("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),c=!0);a=Ob(b.map(function(a){return Cb(a)?a.data:null}),function(a){return a});return 1===
a.length&&null!==a[0]?Object.assign({data:a[0],fields:d.map(function(a){return a.field})},c?{sort:c}:{}):Object.assign({fields:d},c?{sort:c}:{})}}function wg(b){if(Cb(b)&&L(b.field))return b.field;var d=J(b)?!1:"fields"in b&&!("data"in b);if(d){b=$jscomp.makeIterator(b.fields);for(d=b.next();!d.done;d=b.next())if(d=d.value,Cb(d)&&L(d.field))if(!a)var a=d.field;else if(a!==d.field)return x("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),
a;x("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.");return a}a=J(b)?!1:"fields"in b&&"data"in b;if(a)return x("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect."),a=b.fields[0],
L(a)?a:void 0}function Ze(b,d){d=b.component.scales[d].get("domains").map(function(a){Cb(a)&&(a.data=b.lookupDataSource(a.data));return a});return Hl(d)}function fj(b){return vd(b)||xg(b)?b.children.reduce(function(b,a){return b.concat(fj(a))},gj(b)):gj(b)}function gj(b){return A(b.component.scales).reduce(function(d,a){var c=b.component.scales[a];if(c.merged)return d;var f=c.combine();c=f.name;var h=f.type,n=f.selectionExtent,e=f.reverse,g=z(f,"name type selectionExtent domains range reverse".split(" "));
f=f.range;f=a in Pa&&Bb(f)?{step:{signal:c+"_step"}}:f;if(n){var k=n.selection;k=b.getSelectionComponent(k,aa(k));k={signal:ui(k,n)}}a=Ze(b,a);d.push(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:c,type:h},a?{domain:a}:{}),k?{domainRaw:k}:{}),{range:f}),void 0!==e?{reverse:e}:{}),g));return d},[])}function hj(b){return"x"===b?"width":"y"===b?"height":void 0}function ij(b,d){var a=b.fieldDef(d);if(a&&a.bin&&X(a.bin)){var c=hg(b,a.field,a.bin);d=hj(d);var f=b.getName(d);
return new hb(function(){var a=b.getSignalName(c);a="("+a+".stop - "+a+".start) / "+a+".step";return b.getSignalName(f)+" / ("+a+")"})}}function Jl(b,d){for(var a=d.specifiedScales[b],c=d.size,f=d.getScaleComponent(b).get("type"),h=$jscomp.makeIterator(Kl),n=h.next();!n.done;n=h.next())if(n=n.value,void 0!==a[n]){var e=sd(f,n),g=ob(b,n);if(e)if(g)x(g);else switch(n){case "range":return J(a.range)&&b in Pa?ad(a.range.map(function(a){if("width"===a||"height"===a){a=d.getName(a);var b=d.getSignalName.bind(d);
return hb.fromName(b,a)}return a})):ad(a.range);case "scheme":return ad(Ll(a[n]))}else x(la(f,n,b))}if("x"===b||"y"===b)if(a="x"===b?"width":"height",c=c[a],Xb(c)){if(f in $a)return ad({step:c.step});x(me(a))}return fb(Ml(b,d))}function Ll(b){return!L(b)&&b.name?Object.assign({scheme:b.name},sa(b,["name"])):{scheme:b}}function Ml(b,d){var a=d.size,c=d.config,f=d.mark,h=d.encoding,n=d.getSignalName.bind(d),e=ma(h[b]).type;h=d.getScaleComponent(b).get("type");var g=d.specifiedScales[b],k=g.domain;g=
g.domainMid;switch(b){case "x":case "y":if(F(["point","band"],h))if("x"===b&&!a.width){if(c=Ud(c.view,"width"),Xb(c))return c}else if("y"===b&&!a.height&&(c=Ud(c.view,"height"),Xb(c)))return c;c=hj(b);c=d.getName(c);return"y"===b&&h in nb?[hb.fromName(n,c),0]:[0,hb.fromName(n,c)];case "size":return n=d.component.scales[b].get("zero"),n=jj(f,n,c),a=Nl(f,a,d,c),h in ue?Ol(n,a,Pl(h,c,k,b)):[n,a];case "theta":return[0,2*Math.PI];case "angle":return[0,360];case "radius":return[0,new hb(function(){var a=
d.getSignalName("width"),b=d.getSignalName("height");return"min("+a+","+b+")/2"})];case "strokeWidth":return[c.scale.minStrokeWidth,c.scale.maxStrokeWidth];case "strokeDash":return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case "shape":return"symbol";case "color":case "fill":case "stroke":return"ordinal"===h?"nominal"===e?"category":"ordinal":void 0!==g?"diverging":"rect"===f||"geoshape"===f?"heatmap":"ramp";case "opacity":case "fillOpacity":case "strokeOpacity":return[c.scale.minOpacity,c.scale.maxOpacity]}throw Error("Scale range undefined for channel "+
b);}function Pl(b,d,a,c){switch(b){case "quantile":return d.scale.quantileCount;case "quantize":return d.scale.quantizeCount;case "threshold":if(void 0!==a&&J(a))return a.length+1;x("Domain for "+c+" is required for threshold scale.");return 3}}function Ol(b,d,a){var c=function(){var c=Qd(d),h=Qd(b),n="("+c+" - "+h+") / ("+a+" - 1)";return"sequence("+h+", "+c+" + "+n+", "+n+")"};return C(d)?new hb(c):{signal:c()}}function jj(b,d,a){if(d)return C(d)?{signal:d.signal+" ? 0 : "+jj(b,!1,a)}:0;switch(b){case "bar":case "tick":return a.scale.minBandSize;
case "line":case "trail":case "rule":return a.scale.minStrokeWidth;case "text":return a.scale.minFontSize;case "point":case "square":case "circle":return a.scale.minSize}throw Error(kd("size",b));}function Nl(b,d,a,c){a={x:ij(a,"x"),y:ij(a,"y")};switch(b){case "bar":case "tick":if(void 0!==c.scale.maxBandSize)return c.scale.maxBandSize;var f=kj(d,a,c.view);return W(f)?f-1:new hb(function(){return f.signal+" - 1"});case "line":case "trail":case "rule":return c.scale.maxStrokeWidth;case "text":return c.scale.maxFontSize;
case "point":case "square":case "circle":if(c.scale.maxSize)return c.scale.maxSize;var h=kj(d,a,c.view);return W(h)?Math.pow(.95*h,2):new hb(function(){return"pow(0.95 * "+h.signal+", 2)"})}throw Error(kd("size",b));}function kj(b,d,a){var c=Xb(b.width)?b.width.step:Ee(a,"width"),f=Xb(b.height)?b.height.step:Ee(a,"height");return d.x||d.y?new hb(function(){return"min("+[d.x?d.x.signal:c,d.y?d.y.signal:f].join(", ")+")"}):Math.min(c,f)}function lj(b,d){if(wa(b))for(var a=b.component.scales,c=b.config,
f=b.encoding,h=b.markDef,n=b.specifiedScales,e=$jscomp.makeIterator(A(a)),g=e.next();!g.done;g=e.next()){var k=g.value,m=n[k];g=a[k];var l=b.getScaleComponent(k),t=ma(f[k]),q=m[d],p=l.get("type"),w=l.get("padding");l=l.get("paddingInner");var v=sd(p,d),G=ob(k,d);void 0!==q&&(v?G&&x(G):x(la(p,d,k)));v&&void 0===G&&(void 0!==q?g.copyKeyFromObject(d,m):(k=d in mj?mj[d]({model:b,channel:k,fieldOrDatumDef:t,scaleType:p,scalePadding:w,scalePaddingInner:l,domain:m.domain,markDef:h,config:c}):c.scale[d],
void 0!==k&&g.set(d,k,!1)))}else nj(b,d)}function oj(b){if(wa(b))for(var d=b.component.scales,a=$jscomp.makeIterator(Me),c=a.next();!c.done;c=a.next()){var f=c.value;if(c=d[f])f=Jl(f,b),c.setWithExplicit("range",f)}else nj(b,"range")}function nj(b,d){for(var a=b.component.scales,c=$jscomp.makeIterator(b.children),f=c.next();!f.done;f=c.next()){var h=f.value;"range"===d?oj(h):lj(h,d)}c=$jscomp.makeIterator(A(a));for(h=c.next();!h.done;h=c.next()){h=h.value;var n=void 0,e=$jscomp.makeIterator(b.children);
for(f=e.next();!f.done;f=e.next())if(f=f.value.component.scales[h])f=f.getWithExplicit(d),n=Fc(n,f,d,"scale",Kh(function(a,b){switch(d){case "range":if(a.step&&b.step)return a.step-b.step}return 0}));a[h].setWithExplicit(d,n)}}function Ql(b,d){var a=d.bin;if(X(a)){var c=hg(b,d.field,a);return new hb(function(){return b.getSignalName(c)})}if(ta(a)&&U(a)&&void 0!==a.step)return{step:a.step}}function Rl(b,d,a){var c;switch(d.type){case "nominal":case "ordinal":if(cc(b)||"discrete"===oa(b))return"shape"===
b&&"ordinal"===d.type&&x(ld(b,"ordinal")),"ordinal";if(b in Pa){if(F(["rect","bar","image","rule"],a))return"band"}else if("arc"===a&&b in yg)return"band";return void 0!==d.band||yf(d)&&(null===(c=d.axis)||void 0===c?0:c.tickBand)?"band":"point";case "temporal":if(!cc(b)){if("discrete"===oa(b))return x(ld(b,"temporal")),"ordinal";if(D(d)&&d.timeUnit&&Da(d.timeUnit).utc)return"utc"}return"time";case "quantitative":if(cc(b)){if(D(d)&&X(d.bin))return"bin-ordinal"}else if("discrete"===oa(b))return x(ld(b,
"quantitative")),"ordinal";return"linear";case "geojson":return}throw Error('Invalid field type "'+d.type+'".');}function pj(b){if(wa(b))b.component.scales=Sl(b);else{for(var d=b.component,a,c=b.component.scales={},f={},h=b.component.resolve,n=$jscomp.makeIterator(b.children),e=n.next();!e.done;e=n.next()){e=e.value;pj(e);for(var g=$jscomp.makeIterator(A(e.component.scales)),k=g.next();!k.done;k=g.next()){k=k.value;var m=h.scale;if(null!==(a=h.scale[k])&&void 0!==a)var l=a;else if(l=b,vd(l)||Fb(l))l=
"shared";else if(xg(l))l=k in Pa?"independent":"shared";else throw Error("invalid model type for resolve");m[k]=l;if("shared"===h.scale[k])if(m=f[k],l=e.component.scales[k].getWithExplicit("type"),m){var t=zg[m.value],q=zg[l.value];t===q||"ordinal-position"===t&&"time"===q||"ordinal-position"===q&&"time"===t?f[k]=Fc(m,l,"type","scale",Tl):(h.scale[k]="independent",delete f[k])}else f[k]=l}}a=$jscomp.makeIterator(A(f));for(k=a.next();!k.done;k=a.next())for(h=k.value,n=b.scaleName(h,!0),c[h]=new $e(n,
f[h]),g=$jscomp.makeIterator(b.children),e=g.next();!e.done;e=g.next())if(e=e.value,k=e.component.scales[h])e.renameScale(k.get("name"),n),k.merged=!0;d.scales=c}}function Sl(b){var d=b.encoding,a=b.mark;return Me.reduce(function(c,f){var h=ma(d[f]);if(h&&a===qj&&"shape"===f&&h.type===rd)return c;var n=h&&h.scale;if(h&&null!==n&&!1!==n){n=null!==n&&void 0!==n?n:{};var e=n,g=Rl(f,h,a);e=e.type;ic[f]?void 0!==e?Wc(f,e)?D(h)&&!Sb(e,h.type)?(x('FieldDef does not work with "'+e+'" scale. We are using "'+
g+'" scale instead.'),h=g):h=e:(x('Channel "'+f+'" does not work with "'+e+'" scale. We are using "'+g+'" scale instead.'),h=g):h=g:h=null;c[f]=new $e(b.scaleName(f+"",!0),{value:h,explicit:n.type===h})}return c},{})}function wa(b){return"unit"===(null===b||void 0===b?void 0:b.type)}function Fb(b){return"facet"===(null===b||void 0===b?void 0:b.type)}function xg(b){return"concat"===(null===b||void 0===b?void 0:b.type)}function vd(b){return"layer"===(null===b||void 0===b?void 0:b.type)}function rj(b){function d(c,
f){var h;c instanceof db&&!(c.isGenerator||"url"in c.data)&&(b.push(f),f={name:null,source:f.name,transform:[]});c instanceof pa&&(c.parent instanceof db&&!f.source?(f.format=Object.assign(Object.assign({},null!==(h=f.format)&&void 0!==h?h:{}),{parse:c.assembleFormatParse()}),f.transform.push.apply(f.transform,$jscomp.arrayFromIterable(c.assembleTransforms(!0)))):f.transform.push.apply(f.transform,$jscomp.arrayFromIterable(c.assembleTransforms())));if(c instanceof Ta)for(f.name||(f.name="data_"+a++),
!f.source||0<f.transform.length?(b.push(f),c.data=f.name):c.data=f.source,h=$jscomp.makeIterator(c.assemble()),c=h.next();!c.done;c=h.next())b.push(c.value);else switch((c instanceof Yb||c instanceof Zb||c instanceof Jb||c instanceof Hb||c instanceof ub||c instanceof Kb||c instanceof vb||c instanceof Ga||c instanceof Lb||c instanceof gb||c instanceof eb||c instanceof nc||c instanceof oc||c instanceof pc||c instanceof qc||c instanceof rc||c instanceof sc||c instanceof ib||c instanceof tc||c instanceof
$b)&&f.transform.push(c.assemble()),(c instanceof Na||c instanceof Oa||c instanceof Wa||c instanceof Ja)&&f.transform.push.apply(f.transform,$jscomp.arrayFromIterable(c.assemble())),c instanceof ya&&(f.source&&0===f.transform.length?c.setSource(f.source):c.parent instanceof ya?c.setSource(f.name):(f.name||(f.name="data_"+a++),c.setSource(f.name),1===c.numChildren()&&(b.push(f),f={name:null,source:f.name,transform:[]}))),c.numChildren()){case 0:c instanceof ya&&(!f.source||0<f.transform.length)&&b.push(f);
break;case 1:d(c.children[0],f);break;default:for(f.name||(f.name="data_"+a++),h=f.name,!f.source||0<f.transform.length?b.push(f):h=f.source,c=$jscomp.makeIterator(c.children),f=c.next();!f.done;f=c.next())d(f.value,{name:null,source:h,transform:[]})}}var a=0;return d}function Ul(b){for(var d=[],a=rj(d),c=$jscomp.makeIterator(b.children),f=c.next();!f.done;f=c.next())a(f.value,{source:b.name,name:null,transform:[]});return d}function Vl(b,d){for(var a,c,f=[],h=rj(f),n=0,e=$jscomp.makeIterator(b.sources),
g=e.next();!g.done;g=e.next()){g=g.value;g.hasName()||(g.dataName="source_"+n++);var k=g.assemble();h(g,k)}n=$jscomp.makeIterator(f);for(h=n.next();!h.done;h=n.next())h=h.value,0===h.transform.length&&delete h.transform;h=0;n=$jscomp.makeIterator(f.entries());for(e=n.next();!e.done;e=n.next())g=$jscomp.makeIterator(e.value),e=g.next().value,g=g.next().value,0!==(null!==(a=g.transform)&&void 0!==a?a:[]).length||g.source||f.splice(h++,0,f.splice(e,1)[0]);a=$jscomp.makeIterator(f);for(h=a.next();!h.done;h=
a.next())for(h=$jscomp.makeIterator(null!==(c=h.value.transform)&&void 0!==c?c:[]),n=h.next();!n.done;n=h.next())n=n.value,"lookup"===n.type&&(n.from=b.outputNodes[n.from].getSource());b=$jscomp.makeIterator(f);for(h=b.next();!h.done;h=b.next())c=h.value,c.name in d&&(c.values=d[c.name]);return f}function sj(b,d,a){d="row"===d?"height":"width";return{labels:a,sizeSignal:b.child.component.layoutSize.get(d)?b.child.getSizeSignalRef(d):void 0,axes:[]}}function tj(b,d){var a,c=b.child;if(c.component.axes[d]){var f=
b.component,h=f.layoutHeaders;f=f.resolve;f.axis[d]=fg(f,d);if("shared"===f.axis[d])for(f="x"===d?"column":"row",h=h[f],d=$jscomp.makeIterator(c.component.axes[d]),c=d.next();!c.done;c=d.next()){c=c.value;var n=c.get("orient");n="top"===n||"left"===n||C(n)?"header":"footer";h[n]=null!==(a=h[n])&&void 0!==a?a:[sj(b,f,!1)];var e=ce(c,"main",b.config,{header:!0});e&&h[n][0].axes.push(e);c.mainExtracted=!0}}}function Ag(b){b=$jscomp.makeIterator(b.children);for(var d=b.next();!d.done;d=b.next())d.value.parseLayoutSize()}
function af(b,d){for(var a=Ii(d),c=Oc(a),f=b.component.resolve,h=b.component.layoutSize,n,e=$jscomp.makeIterator(b.children),g=e.next();!g.done;g=e.next()){g=g.value.component.layoutSize.getWithExplicit(a);var k=f.scale[c];if("independent"===k&&"step"===g.value){n=void 0;break}if(n){if("independent"===k&&n.value!==g.value){n=void 0;break}n=Fc(n,g,a,"")}else n=g}if(n){c=$jscomp.makeIterator(b.children);for(g=c.next();!g.done;g=c.next())f=g.value,b.renameSignal(f.getName(a),b.getName(d)),f.component.layoutSize.set(a,
"merged",!1);h.setWithExplicit(d,n)}else h.setWithExplicit(d,{explicit:!1,value:void 0})}function Wl(b,d){var a=b.config,c=b.getScaleComponent("width"===d?"x":"y");if(c)return b=c.get("type"),c=c.get("range"),b in $a?(d=Ud(a.view,d),Bb(c)||Xb(d)?"step":d):Jf(a.view,d);if(b.hasProjection||"arc"===b.mark)return Jf(a.view,d);d=Ud(a.view,d);return Xb(d)?d.step:d}function Bg(b,d,a){return B(d,Object.assign({suffix:"by_"+B(b)},null!==a&&void 0!==a?a:{}))}function uj(b,d){var a,c,f,h,n,e,g,k,m,l;d=$jscomp.makeIterator(d);
for(var t=d.next();!t.done;t=d.next()){t=t.value;var q=t.data;if(!(b.name&&t.hasName()&&b.name!==t.dataName||(null===(a=b.format)||void 0===a?0:a.mesh)&&(null===(c=q.format)||void 0===c?0:c.feature)||((null===(f=b.format)||void 0===f?0:f.feature)||(null===(h=q.format)||void 0===h?0:h.feature))&&(null===(n=b.format)||void 0===n?void 0:n.feature)!==(null===(e=q.format)||void 0===e?void 0:e.feature)||((null===(g=b.format)||void 0===g?0:g.mesh)||(null===(k=q.format)||void 0===k?0:k.mesh))&&(null===(m=
b.format)||void 0===m?void 0:m.mesh)!==(null===(l=q.format)||void 0===l?void 0:l.mesh)))if("values"in b&&"values"in q){if(Rd(b.values,q.values))return t}else if("url"in b&&"url"in q){if(b.url===q.url)return t}else if(Lh(b)&&b.name===t.dataName)return t}return null}function Xl(b,d){if(b.data||!b.parent){if(null===b.data)return b=new db({values:[]}),d.push(b),b;var a=uj(b.data,d);if(a)return bd(b.data)||(a.data.format=hd({},b.data.format,a.data.format)),!a.hasName()&&b.data.name&&(a.dataName=b.data.name),
a;b=new db(b.data);d.push(b);return b}return b.parent.component.data.facetRoot?b.parent.component.data.facetRoot:b.parent.component.data.main}function bf(b){var d,a,c,f,h,n,e,g,k,m,l=Xl(b,b.component.data.sources),t=b.component.data,q=t.outputNodes;t=t.outputNodeRefCounts;var p=b.parent?b.parent.component.data.ancestorParse.clone():new Cg,w=b.data;bd(w)?("sequence"in w?l=new Zb(l,w.sequence):"graticule"in w&&(l=new Yb(l,w.graticule)),p.parseNothing=!0):null===(null===(d=null===w||void 0===w?void 0:
w.format)||void 0===d?void 0:d.parse)&&(p.parseNothing=!0);l=null!==(a=pa.makeExplicit(l,b,p))&&void 0!==a?a:l;l=new ib(l);d=b.parent&&vd(b.parent);(wa(b)||Fb(b))&&d&&(l=null!==(c=Na.makeFromEncoding(l,b))&&void 0!==c?c:l);if(0<b.transforms.length){var v,G;c=0;a=$jscomp.makeIterator(b.transforms);for(w=a.next();!w.done;w=a.next()){var y=w.value,u=w=void 0;if("calculate"in y)u=l=new ub(l,y),w="derived";else if("filter"in y)u=yl(y),u=l=null!==(v=pa.makeWithAncestors(l,{},u,p))&&void 0!==v?v:l,l=new Hb(l,
b,y.filter);else if("bin"in y)u=l=Na.makeFromTransform(l,y,b),w="number";else if("timeUnit"in y)w="date",void 0===p.getWithExplicit(y.field).value&&(u={},l=new pa(l,(u[y.field]=w,u)),p.set(y.field,w,!1)),u=l=Oa.makeFromTransform(l,y);else if("aggregate"in y)u=l=Ga.makeFromTransform(l,y),w="number",Tf(b)&&(l=new ib(l));else if("lookup"in y)u=l=Lb.make(l,b,y,c++),w="derived";else if("window"in y)u=l=new gb(l,y),w="number";else if("joinaggregate"in y)u=l=new eb(l,y),w="number";else if("stack"in y)u=
l=Ja.makeFromTransform(l,y),w="derived";else if("fold"in y)u=l=new nc(l,y),w="derived";else if("flatten"in y)u=l=new oc(l,y),w="derived";else if("pivot"in y)u=l=new $b(l,y),w="derived";else if("sample"in y)l=new tc(l,y);else if("impute"in y)u=l=Wa.makeFromTransform(l,y),w="derived";else if("density"in y)u=l=new pc(l,y),w="derived";else if("quantile"in y)u=l=new rc(l,y),w="derived";else if("regression"in y)u=l=new sc(l,y),w="derived";else if("loess"in y)u=l=new qc(l,y),w="derived";else{x("Ignoring an invalid transform: "+
va(y)+".");continue}if(u&&void 0!==w)for(y=$jscomp.makeIterator(null!==(G=u.producedFields())&&void 0!==G?G:[]),u=y.next();!u.done;u=y.next())p.set(u.value,w,!1)}}v={};if(wa(b)&&b.component.selection)for(G=$jscomp.makeIterator(A(b.component.selection)),c=G.next();!c.done;c=G.next())for(c=$jscomp.makeIterator(b.component.selection[c.value].project.items),a=c.next();!a.done;a=c.next())a=a.value,!a.channel&&1<Ka(a.field)&&(v[a.field]="flatten");G=zl(b);l=null!==(f=pa.makeWithAncestors(l,{},Object.assign(Object.assign({},
v),G),p))&&void 0!==f?f:l;wa(b)&&(l=vb.parseAll(l,b),l=Kb.parseAll(l,b));if(wa(b)||Fb(b))d||(l=null!==(h=Na.makeFromEncoding(l,b))&&void 0!==h?h:l),l=null!==(n=Oa.makeFromEncoding(l,b))&&void 0!==n?n:l,l=ub.parseAllForSortIndex(l,b);h=b.getName("raw");f=new ya(l,h,"raw",t);l=q[h]=f;if(wa(b)){if(h=Ga.makeFromEncoding(l,b))l=h,Tf(b)&&(l=new ib(l));l=null!==(e=Wa.makeFromEncoding(l,b))&&void 0!==e?e:l;l=null!==(g=Ja.makeFromEncoding(l,b))&&void 0!==g?g:l}wa(b)&&(l=null!==(k=Jb.make(l,b))&&void 0!==k?
k:l);g=b.getName("main");e=new ya(l,g,"main",t);l=q[g]=e;wa(b)&&el(b,e);k=null;if(Fb(b)){g=b.getName("facet");k=l;h=b.facet;n=h.row;d=h.column;if(n&&d){h=null;n=$jscomp.makeIterator([n,d]);for(d=n.next();!d.done;d=n.next())d=d.value,Ub(d.sort)&&(h=d.sort,k=h=new eb(k,{joinaggregate:[{op:void 0===h.op?"min":h.op,field:h.field,as:Bg(d,d.sort,{forAs:!0})}],groupby:[B(d)]}));k=h}else k=null;l=null!==(m=k)&&void 0!==m?m:l;k=new Ta(l,b,g,e.getSource());q[g]=k}return Object.assign(Object.assign({},b.component.data),
{outputNodes:q,outputNodeRefCounts:t,raw:f,main:e,facetRoot:k,ancestorParse:p})}function Yl(b){return sb.reduce(function(d,a){b.component.scales[a]&&(d[a]=[Zl(a,b)]);return d},{})}function $l(b,d){if(b){if(b.length!==d.length)return;for(var a=b.length,c=0;c<a;c++){var f=b[c],h=d[c];if(!!f!==!!h)return;if(f&&h){var n=f.getWithExplicit("orient"),e=h.getWithExplicit("orient");if(n.explicit&&e.explicit&&n.value!==e.value)return;b[c]=am(f,h)}}}else return d.map(function(a){return a.clone()});return b}
function am(b,d){for(var a={},c=$jscomp.makeIterator(vj),f=c.next();!f.done;a={$jscomp$loop$prop$prop$452:a.$jscomp$loop$prop$prop$452},f=c.next())a.$jscomp$loop$prop$prop$452=f.value,f=Fc(b.getWithExplicit(a.$jscomp$loop$prop$prop$452),d.getWithExplicit(a.$jscomp$loop$prop$prop$452),a.$jscomp$loop$prop$prop$452,"axis",function(a){return function(b,c){switch(a.$jscomp$loop$prop$prop$452){case "title":return fh(b,c);case "gridScale":return{explicit:b.explicit,value:na(b.value,c.value)}}return Fe(b,
c,a.$jscomp$loop$prop$prop$452,"axis")}}(a)),b.setWithExplicit(a.$jscomp$loop$prop$prop$452,f);return b}function bm(b,d,a,c,f){if("disable"===d)return void 0!==a;a=a||{};switch(d){case "titleAngle":case "labelAngle":return b===(C(a.labelAngle)?a.labelAngle:id(a.labelAngle));case "values":return!!a.values;case "encode":return!!a.encoding||!!a.labelAngle;case "title":if(b===Bi(c,f))return!0}return b===a[d]}function Zl(b,d){var a,c,f,h=d.axis(b),n=new zd,e=ma(d.encoding[b]),k=d.mark,l=d.config,t=(null===
h||void 0===h?void 0:h.orient)||(null===(a=l["x"===b?"axisX":"axisY"])||void 0===a?void 0:a.orient)||(null===(c=l.axis)||void 0===c?void 0:c.orient)||("x"===b?"bottom":"left");c=d.getScaleComponent(b).get("type");a=il(b,c,t,d.config);var E=void 0!==h?!h:ag("disable",l,null===h||void 0===h?void 0:h.style,a).configValue;n.set("disable",E,void 0!==h);if(E)return n;h=h||{};E=ll(d,h,b,e,a);e={fieldOrDatumDef:e,axis:h,channel:b,model:d,scaleType:c,orient:t,labelAngle:E,mark:k,config:l};k=$jscomp.makeIterator(vj);
for(l=k.next();!l.done;l=k.next())if(l=l.value,t=l in wj?wj[l](e):xj[l]?h[l]:void 0,c=void 0!==t,E=bm(t,l,h,d,b),c&&E)n.set(l,t,E);else{var q=xj[l]&&"values"!==l?ag(l,d.config,h.style,a):{},p=void 0===q.configValue?void 0:q.configValue;q=void 0===q.configFrom?void 0:q.configFrom;var v=void 0!==p;c&&!v?n.set(l,t,E):("vgAxisConfig"!==q||cm.has(l)&&v||Id(p)||C(p))&&n.set(l,p,!1)}var w=null!==(f=h.encoding)&&void 0!==f?f:{};f=wi.reduce(function(a,c){var f;if(!n.hasAxisPart(c))return a;var h=Ji(null!==
(f=w[c])&&void 0!==f?f:{},d);if("labels"===c){var e,r=d.encoding;f=d.config;r=null!==(e=ma(r[b]))&&void 0!==e?e:ma(r[ea(b)]);var k=d.axis(b)||{};e=k.format;k=k.formatType;h=g(k)?Object.assign({text:m({fieldOrDatumDef:r,field:"datum.value",format:e,formatType:k,config:f})},h):h}void 0===h||ha(h)||(a[c]={update:h});return a},{});ha(f)||n.set("encode",f,!!h.encoding||void 0!==h.labelAngle);return n}function dm(b,d,a){switch(b){case cf:case Dg:case Eg:case yj:case em:case fm:return}var c=d.x,f=d.y,h=
d.x2;d=d.y2;switch(b){case df:if(D(c)&&(ta(c.bin)||D(f)&&f.aggregate&&!c.aggregate))break;if(D(f)&&(ta(f.bin)||D(c)&&c.aggregate&&!f.aggregate))return"horizontal";if(d||h){if(a)return a;if(!h&&(D(c)&&c.type===Vc&&!X(c.bin)||xf(c)))return"horizontal";if(!d&&(D(f)&&f.type===Vc&&!X(f.bin)||xf(f)))break}case ef:if(!(!h||D(c)&&ta(c.bin)||!d||D(f)&&ta(f.bin)))return;case ff:if(d){if(D(f)&&ta(f.bin))return"horizontal";break}else if(h)if(D(c)&&ta(c.bin))break;else return"horizontal";else if(b===ef)if(c&&
!f)break;else if(f&&!c)return"horizontal";case gf:case Fg:h=Vb(c);d=Vb(f);if(h&&!d)return"tick"!==b?"horizontal":"vertical";if(!h&&d)return"tick"!==b?"vertical":"horizontal";if(h&&d){h=c.type===qd;d=f.type===qd;if(h&&!d)return"tick"!==b?"vertical":"horizontal";if(!h&&d)return"tick"!==b?"horizontal":"vertical";if(!c.aggregate&&f.aggregate)return"tick"!==b?"vertical":"horizontal";if(c.aggregate&&!f.aggregate)return"tick"!==b?"horizontal":"vertical";if(a)return a}else{if(a)return a;return}}return"vertical"}
function Gg(b,d){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},rb(b,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),Qa("x",b,{defaultPos:"mid"})),Qa("y",b,{defaultPos:"mid"})),Ma("size",b)),Ma("angle",b)),d?{shape:{value:d}}:Ma("shape",b))}function gm(b,d,a){if(void 0===ca("align",b,a))return"center"}function hm(b,d,a){if(void 0===ca("baseline",b,a))return"middle"}function im(b){var d,a=b.config,c=b.markDef,
f=c.orient,h="horizontal"===f?"width":"height";b=b.getScaleComponent("horizontal"===f?"x":"y");c=null!==(d=ca("size",c,a,{vgChannel:h}))&&void 0!==d?d:a.tick.bandSize;return void 0!==c?c:(d=b?b.get("range"):void 0)&&Bb(d)&&W(d.step)?3*d.step/4:3*Ee(a.view,h)/4}function jm(b){var d=Hg.some(function(a){return ca(a,b.markDef,b.config)});if(b.stack&&!b.fieldDef("size")&&d){var a=$jscomp.makeIterator(hf(b,{fromPrefix:"stack_group_"})).next().value,c=b.scaleName(b.stack.fieldChannel),f=function(a){a=void 0===
a?{}:a;return b.vgField(b.stack.fieldChannel,a)};d=function(a,b){b=[f({prefix:"min",suffix:"start",expr:b}),f({prefix:"max",suffix:"start",expr:b}),f({prefix:"min",suffix:"end",expr:b}),f({prefix:"max",suffix:"end",expr:b})];return a+"("+b.map(function(a){return"scale('"+c+"',"+a+")"}).join(",")+")"};if("x"===b.stack.fieldChannel){d=Object.assign(Object.assign({},xc(a.encode.update,["y","yc","y2","height"].concat($jscomp.arrayFromIterable(Hg)))),{x:{signal:d("min","datum")},x2:{signal:d("max","datum")},
clip:{value:!0}});var h={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}};a.encode.update=Object.assign(Object.assign({},sa(a.encode.update,["y","yc","y2"])),{height:{field:{group:"height"}}})}else d=Object.assign(Object.assign({},xc(a.encode.update,["x","xc","x2","width"])),{y:{signal:d("min","datum")},y2:{signal:d("max","datum")},clip:{value:!0}}),h={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},a.encode.update=Object.assign(Object.assign({},sa(a.encode.update,["x",
"xc","x2"])),{width:{field:{group:"width"}}});for(var n=$jscomp.makeIterator(Hg),e=n.next();!e.done;e=n.next()){e=e.value;var g=Xc(e,b.markDef,b.config);a.encode.update[e]?(d[e]=a.encode.update[e],delete a.encode.update[e]):g&&(d[e]=Fa(g));g&&(a.encode.update[e]={value:0})}n=b.fieldDef(b.stack.groupbyChannel);e=B(n)?[B(n)]:[];((null===n||void 0===n?0:n.bin)||(null===n||void 0===n?0:n.timeUnit))&&e.push(B(n,{binSuffix:"end"}));d="stroke strokeWidth strokeJoin strokeCap strokeDash strokeDashOffset strokeMiterLimit strokeOpacity".split(" ").reduce(function(c,
d){if(a.encode.update[d]){var f={};return Object.assign(Object.assign({},c),(f[d]=a.encode.update[d],f))}f=Xc(d,b.markDef,b.config);if(void 0!==f){var h={};return Object.assign(Object.assign({},c),(h[d]=Fa(f),h))}return c},d);d.stroke&&(d.strokeForeground={value:!0},d.strokeOffset={value:0});return[{type:"group",from:{facet:{data:b.requestDataName("main"),name:"stack_group_"+b.requestDataName("main"),groupby:e,aggregate:{fields:[f({suffix:"start"}),f({suffix:"start"}),f({suffix:"end"}),f({suffix:"end"})],
ops:["min","max","min","max"]}}},encode:{update:d},marks:[{type:"group",encode:{update:h},marks:[a]}]}]}return hf(b)}function km(b){var d=b.encoding,a=b.stack,c=b.mark,f=b.markDef,h=b.config,n=d.order;if(!(!J(n)&&kc(n)&&Pg(n.value)||!n&&Pg(ca("order",f,h)))){if((J(n)||D(n))&&!a)return ch(n,{expr:"datum"});if(bc(c)&&(a="horizontal"===f.orient?"y":"x",c=d[a],D(c))){d=c.sort;if(J(d))return{field:B(c,{prefix:a,suffix:"sort_index",expr:"datum"})};if(Ub(d))return{field:B({aggregate:Bf(b.encoding)?d.op:
void 0,field:d.field},{expr:"datum"})};if(d&&d.encoding)return b=b.fieldDef(d.encoding),{field:B(b,{expr:"datum"}),order:d.order};if(null!==d)return{field:B(c,{binSuffix:b.stack&&b.stack.impute?"mid":void 0,expr:"datum"})}}}}function hf(b,d){d=void 0===d?{fromPrefix:""}:d;var a=b.mark,c=b.markDef,f=b.config,h=c.clip;var n=b.getScaleComponent("x");var e=b.getScaleComponent("y");n=n&&n.get("selectionExtent")||e&&e.get("selectionExtent")?!0:void 0;e=b.component.projection;h=na(h,n,e&&!e.isFit?!0:void 0);
n=ah(c);e=b.encoding.key;var g=km(b),k;if(b.component.selection){for(var l=k=A(b.component.selection).length,m=b.parent;m&&0===l;)l=A(m.component.selection).length,m=m.parent;k=l?{interactive:0<k}:null}else k=null;c=ca("aria",c,f);f=jf[a].postEncodingTransform?jf[a].postEncodingTransform(b):null;return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:b.getName("marks"),type:jf[a].vgMark},h?{clip:!0}:{}),n?{style:n}:{}),e?{key:e.field}:
{}),g?{sort:g}:{}),k?k:{}),!1===c?{aria:c}:{}),{from:{data:d.fromPrefix+b.requestDataName("main")},encode:{update:jf[a].encodeEntry(b)}}),f?{transform:f}:{})]}function Ig(b,d,a,c,f){if("facet"in b)return new ka(b,d,a,f);if("layer"in b)return new Ua(b,d,a,c,f);if(yb(b))return new ra(b,d,a,c,f);if("vconcat"in b||"hconcat"in b||"concat"in b)return new Xa(b,d,a,f);throw Error(Qc(b));}function lm(b,d,a,c){a=void 0===a?{}:a;var f=b.config?ek(b.config):void 0;a=[].concat(b.assembleSelectionData([]),Vl(b.component.data,
a));var h=b.assembleProjections(),n=b.assembleTitle(),e=b.assembleGroupStyle(),g=b.assembleGroupEncodeEntry(!0),k=b.assembleLayoutSignals();k=k.filter(function(a){return"width"!==a.name&&"height"!==a.name||void 0===a.value?!0:(d[a.name]=+a.value,!1)});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({$schema:"https://vega.github.io/schema/vega/v5.json"},b.description?{description:b.description}:{}),d),
n?{title:n}:{}),e?{style:e}:{}),g?{encode:{update:g}}:{}),{data:a}),0<h.length?{projections:h}:{}),b.assembleGroup([].concat($jscomp.arrayFromIterable(k),$jscomp.arrayFromIterable(b.assembleSelectionTopLevelSignals([]))))),f?{config:f}:{}),c?{usermeta:c}:{})}var Mj=function(b){return function(d){return d[b]}},Nj=function(b){var d=b.length;return function(a){for(var c=0;c<d;++c)a=a[b[c]];return a}},de=[];(function(b,d,a){var c=ja(b);b=1===c.length?c[0]:b;return u((a&&a.get||N)(c),[b],d||b)})("id");
var Ok=u(function(b){return b},de,"identity");u(function(){return 0},de,"zero");u(function(){return 1},de,"one");u(function(){return!0},de,"true");u(function(){return!1},de,"false");var J=Array.isArray,Mc=Object.prototype.hasOwnProperty;Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function a(d){var c=isNaN(d)?1:Number(d);return c?Array.prototype.reduce.call(this,function(d,h){return Array.isArray(h)?d.push.apply(d,a.call(h,c-1)):d.push(h),d},[]):Array.prototype.slice.call(this)},
writable:!0});Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(d){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var Dd=function(d,a){a||(a={});"function"===typeof a&&(a={cmp:a});var c="boolean"===typeof a.cycles?a.cycles:!1,f=a.cmp&&function(a){return function(c){return function(d,f){return a({key:d,value:c[d]},{key:f,value:c[f]})}}}(a.cmp),h=[];return function Y(a){a&&a.toJSON&&"function"===typeof a.toJSON&&(a=a.toJSON());
if(void 0!==a){if("number"==typeof a)return isFinite(a)?""+a:"null";if("object"!==typeof a)return JSON.stringify(a);var d;if(Array.isArray(a)){var e="[";for(d=0;d<a.length;d++)d&&(e+=","),e+=Y(a[d])||"null";return e+"]"}if(null===a)return"null";if(-1!==h.indexOf(a)){if(c)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var g=h.push(a)-1,r=Object.keys(a).sort(f&&f(a));e="";for(d=0;d<r.length;d++){var k=r[d],l=Y(a[k]);l&&(e&&(e+=","),e+=JSON.stringify(k)+
":"+l)}h.splice(g,1);return"{"+e+"}"}}(d)},Rd=function f(a,c){if(a===c)return!0;if(a&&c&&"object"==typeof a&&"object"==typeof c){if(a.constructor!==c.constructor)return!1;var h;if(Array.isArray(a)){var e=a.length;if(e!=c.length)return!1;for(h=e;0!==h--;)if(!f(a[h],c[h]))return!1;return!0}if(a.constructor===RegExp)return a.source===c.source&&a.flags===c.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===c.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===c.toString();
var g=Object.keys(a);e=g.length;if(e!==Object.keys(c).length)return!1;for(h=e;0!==h--;)if(!Object.prototype.hasOwnProperty.call(c,g[h]))return!1;for(h=e;0!==h--;)if(e=g[h],!f(a[e],c[e]))return!1;return!0}return a!==a&&c!==c},T=function(a,c,f){return f={path:c,exports:{},require:function(a,c){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs");}},a(f,f.exports),f.exports}(function(a){var c=function(){function a(a,c){return null!=c&&a instanceof c}function c(f,h,e,
n,r){function Y(f,e){if(null===f)return null;if(0===e||"object"!=typeof f)return f;if(a(f,k))var q=new k;else if(a(f,l))q=new l;else if(a(f,m))q=new m(function(a,c){f.then(function(c){a(Y(c,e-1))},function(a){c(Y(a,e-1))})});else if(c.__isArray(f))q=[];else if(c.__isRegExp(f))q=new RegExp(f.source,g(f)),f.lastIndex&&(q.lastIndex=f.lastIndex);else if(c.__isDate(f))q=new Date(f.getTime());else{if(E&&Ia.isBuffer(f))return q=Ia.allocUnsafe?Ia.allocUnsafe(f.length):new Ia(f.length),f.copy(q),q;if(a(f,
Error))q=Object.create(f);else if("undefined"==typeof n){var w=Object.getPrototypeOf(f);q=Object.create(w)}else q=Object.create(n),w=n}if(h){var p=t.indexOf(f);if(-1!=p)return P[p];t.push(f);P.push(q)}a(f,k)&&f.forEach(function(a,c){c=Y(c,e-1);a=Y(a,e-1);q.set(c,a)});a(f,l)&&f.forEach(function(a){a=Y(a,e-1);q.add(a)});for(var qb in f){var v;w&&(v=Object.getOwnPropertyDescriptor(w,qb));v&&null==v.set||(q[qb]=Y(f[qb],e-1))}if(Object.getOwnPropertySymbols)for(p=Object.getOwnPropertySymbols(f),qb=0;qb<
p.length;qb++)if(v=p[qb],w=Object.getOwnPropertyDescriptor(f,v),!w||w.enumerable||r)q[v]=Y(f[v],e-1),w.enumerable||Object.defineProperty(q,v,{enumerable:!1});if(r)for(p=Object.getOwnPropertyNames(f),qb=0;qb<p.length;qb++)v=p[qb],w=Object.getOwnPropertyDescriptor(f,v),w&&w.enumerable||(q[v]=Y(f[v],e-1),Object.defineProperty(q,v,{enumerable:!1}));return q}"object"===typeof h&&(e=h.depth,n=h.prototype,r=h.includeNonEnumerable,h=h.circular);var t=[],P=[],E="undefined"!=typeof Ia;"undefined"==typeof h&&
(h=!0);"undefined"==typeof e&&(e=Infinity);return Y(f,e)}function e(a){return Object.prototype.toString.call(a)}function g(a){var c="";a.global&&(c+="g");a.ignoreCase&&(c+="i");a.multiline&&(c+="m");return c}try{var k=Map}catch(E){k=function(){}}try{var l=Set}catch(E){l=function(){}}try{var m=Promise}catch(E){m=function(){}}c.clonePrototype=function(a){if(null===a)return null;var c=function(){};c.prototype=a;return new c};c.__objToStr=e;c.__isDate=function(a){return"object"===typeof a&&"[object Date]"===
e(a)};c.__isArray=function(a){return"object"===typeof a&&"[object Array]"===e(a)};c.__isRegExp=function(a){return"object"===typeof a&&"[object RegExp]"===e(a)};c.__getRegExpFlags=g;return c}();a.exports&&(a.exports=c)});Set.prototype.toJSON=function(){return"Set("+[].concat($jscomp.arrayFromIterable(this)).map(function(a){return Dd(a)}).join(",")+")"};var va=Dd,A=Object.keys,Ic=Object.values,mm=42,vi={domainColor:{part:"domain",vgProp:"stroke"},labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",
vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDash"},gridOpacity:{part:"grid",vgProp:"opacity"},
gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDash"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"},titleColor:{part:"title",vgProp:"fill"},title:null},wi=["domain","grid","labels","ticks","title"],gl={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",
gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",
labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"main",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",
titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},zj={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,
gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,
tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},xj=Object.assign(Object.assign({},zj),{style:1,labelExpr:1,encoding:1}),Ya={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",
geoshape:"geoshape"},Aj=Ya.arc,ff=Ya.area,df=Ya.bar,fm=Ya.image,gf=Ya.line,cf=Ya.point,em=Ya.rect,ef=Ya.rule,yj=Ya.text,Fg=Ya.tick,nm=Ya.trail,Dg=Ya.circle,Eg=Ya.square,qj=Ya.geoshape,Bj=A(Ya);Nb(Bj);var om=[].concat($jscomp.arrayFromIterable("stroke strokeWidth strokeDash strokeDashOffset strokeOpacity strokeJoin strokeMiterLimit".split(" ")),$jscomp.arrayFromIterable(["fill","fillOpacity"])),xh=A({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBand:1,timeUnitBandPosition:1}),pm={horizontal:["cornerRadiusTopRight",
"cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},Td=function(a,c){this.name=a;this.run=c};Td.prototype.hasMatchingType=function(a){return yb(a)?(a=a.mark,(La(a)?a.type:a)===this.name):!1};var Oj={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},Il={count:1,min:1,max:1},Tg=["count","valid","missing","distinct"],ok=["count","sum",
"distinct","valid","missing"],Gl=Nb("mean average median q1 q3 min max".split(" ")),kf={theta:1,theta2:1,radius:1,radius2:1},Jg={longitude:1,longitude2:1,latitude:1,latitude2:1},qm=A(Jg),Cj=Object.assign(Object.assign(Object.assign(Object.assign({},{x:1,y:1,x2:1,y2:1}),kf),Jg),{color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1}),Dj={row:1,column:1,facet:1},tb=A(Dj),Ce=
Object.assign(Object.assign({},Cj),Dj),gh=A(Ce),rm=z(Ce,["order","detail","tooltip"]),sm=z(rm,["row","column","facet"]),tm="x2 y2 latitude2 longitude2 theta2 radius2".split(" "),Ef=z(Cj,"x y x2 y2 latitude longitude latitude2 longitude2 theta theta2 radius radius2".split(" ")),lk=A(Ef),Pa={x:1,y:1},sb=A(Pa),yg={theta:1,radius:1},um=A(yg),Ej=z(Ef,"text tooltip href url description detail key order".split(" ")),vm=A(Ej),ic=Object.assign(Object.assign(Object.assign({},Pa),yg),Ej),Me=A(ic),Qg={arc:"always",
area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},Pj=z(Qg,["geoshape"]),Fj=function(a,c){var f=a||0;return{level:function(a){return arguments.length?(f=+a,this):f},error:function(){1<=f&&Aa(c||"error","ERROR",arguments);return this},warn:function(){2<=f&&Aa(c||"warn","WARN",arguments);return this},info:function(){3<=f&&Aa(c||"log","INFO",arguments);return this},
debug:function(){4<=f&&Aa(c||"log","DEBUG",arguments);return this}}}(2),nd=Fj,Rg="january february march april may june july august september october november december".split(" "),Qj=Rg.map(function(a){return a.substr(0,3)}),Sg="sunday monday tuesday wednesday thursday friday saturday".split(" "),Rj=Sg.map(function(a){return a.substr(0,3)}),Yg={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},mf=A(Yg),Sj={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "},
Jk=A({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,
href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1}),Ek={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},Hg=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"],Ad={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"},Vc=Ad.quantitative,rf=Ad.ordinal,
qd=Ad.temporal,sf=Ad.nominal,rd=Ad.geojson,wm=A(Ad),Ha={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},zg={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",
point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},xm=A(zg),Gj={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0},Hj="linear log pow sqrt symlog time utc".split(" "),Db=Nb(Hj),jl=Nb(["linear","log","pow","sqrt","symlog"]),ue=Nb(["quantile","quantize","threshold"]),ym=Hj.concat(["quantile","quantize","threshold","sequential","identity"]),
nb=Nb(ym),$a=Nb(["ordinal","bin-ordinal","point","band"]),zm=z({type:1,domain:1,domainMid:1,align:1,range:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},["type","domain","range","scheme"]),Am=A(zm);(function(){for(var a,c={},f=$jscomp.makeIterator(gh),h=f.next();!h.done;h=f.next()){h=h.value;for(var e=$jscomp.makeIterator(wm),g=e.next();!g.done;g=e.next()){g=g.value;for(var k=$jscomp.makeIterator(xm),l=
k.next();!l.done;l=k.next()){l=l.value;var m=h+"_"+g;Wc(h,l)&&Sb(l,g)&&(c[m]=null!==(a=c[m])&&void 0!==a?a:[],c[m].push(l))}}}return c})();var Xg={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1},Ij=function(a,c){switch(c.fieldTitle){case "plain":return a.field;case "functional":c=a.aggregate;var f=a.bin,h=a.timeUnit;a=a.field;Va(c)?c=a+" for argmax("+c.argmax+")":jb(c)?c=a+" for argmin("+c.argmin+")":(h=Da(h),c=(c=c||(null===h||void 0===
h?void 0:h.unit)||(null===h||void 0===h?void 0:h.maxbins)&&"timeunit"||X(f)&&"bin")?c.toUpperCase()+"("+a+")":a);return c;default:return Tj(a,c)}},ye=Ij,Zc={compatible:!0},Bm=new Td("boxplot",nh),Cm=new Td("errorbar",ph),Dm=new Td("errorband",rh),sh={};Gf("boxplot",nh,["box","median","outliers","rule","ticks"]);Gf("errorbar",ph,["ticks","rule"]);Gf("errorband",rh,["band","borders"]);var gk=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength",
"unselectedOpacity"],Oi="size shape fill stroke strokeDash strokeWidth opacity".split(" "),sl={fillColor:{part:"legend",vgProp:"fill"},gradientStrokeColor:{part:"gradient",vgProp:"stroke"},labelColor:{part:"labels",vgProp:"fill"},strokeColor:{part:"legend",vgProp:"stroke"},symbolFillColor:{part:"symbols",vgProp:"fill"},symbolStrokeColor:{part:"symbols",vgProp:"stroke"},titleColor:{part:"title",vgProp:"fill"}},ck=A({align:1,bounds:1,center:1,columns:1,spacing:1}),dk={background:"white",padding:5,timeFormat:"%b %d, %Y",
countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:20},mark:{color:"#4c78a8",invalid:"filter",timeUnitBand:1},arc:{},area:{},bar:{binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},circle:{},geoshape:{},image:{},line:{},point:{},rect:{binSpacing:0,continuousBandSize:5,timeUnitBandPosition:.5},rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},
errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},
headerColumn:{},headerRow:{},headerFacet:{},selection:{single:{on:"click",fields:["_vgsid_"],resolve:"global",empty:"all",clear:"dblclick"},multi:{on:"click",fields:["_vgsid_"],toggle:"event.shiftKey",resolve:"global",empty:"all",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] \x3e window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] \x3e window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}},style:{},
title:{},facet:{spacing:20},concat:{spacing:20}},uc="#4c78a8 #f58518 #e45756 #72b7b2 #54a24b #eeca3b #b279a2 #ff9da6 #9d755d #bab0ac".split(" "),wh={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},vh={blue:uc[0],orange:uc[1],red:uc[2],teal:uc[3],green:uc[4],yellow:uc[5],purple:uc[6],pink:uc[7],brown:uc[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",
gray14:"#eee",gray15:"#fff"},hk=["view"].concat($jscomp.arrayFromIterable(Bj)),fk="color fontSize background padding facet concat numberFormat timeFormat countTitle header axisQuantitative axisTemporal axisDiscrete axisPoint axisXBand axisXPoint axisXDiscrete axisXQuantitative axisXTemporal axisYBand axisYPoint axisYDiscrete axisYQuantitative axisYTemporal scale selection overlay".split(" "),ik=Object.assign({view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line",
"point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]}),Za=function(){};Za.prototype.map=function(a,c){return"facet"in a?this.mapFacet(a,c):"repeat"in a?this.mapRepeat(a,c):"hconcat"in a?this.mapHConcat(a,c):"vconcat"in a?this.mapVConcat(a,c):"concat"in a?this.mapConcat(a,c):this.mapLayerOrUnit(a,c)};Za.prototype.mapLayerOrUnit=function(a,c){if("layer"in a)return this.mapLayer(a,
c);if(yb(a))return this.mapUnit(a,c);throw Error(Qc(a));};Za.prototype.mapLayer=function(a,c){var f=this;return Object.assign(Object.assign({},a),{layer:a.layer.map(function(a){return f.mapLayerOrUnit(a,c)})})};Za.prototype.mapHConcat=function(a,c){var f=this;return Object.assign(Object.assign({},a),{hconcat:a.hconcat.map(function(a){return f.map(a,c)})})};Za.prototype.mapVConcat=function(a,c){var f=this;return Object.assign(Object.assign({},a),{vconcat:a.vconcat.map(function(a){return f.map(a,c)})})};
Za.prototype.mapConcat=function(a,c){var f=this,h=a.concat;a=z(a,["concat"]);return Object.assign(Object.assign({},a),{concat:h.map(function(a){return f.map(a,c)})})};Za.prototype.mapFacet=function(a,c){return Object.assign(Object.assign({},a),{spec:this.map(a.spec,c)})};Za.prototype.mapRepeat=function(a,c){return Object.assign(Object.assign({},a),{spec:this.map(a.spec,c)})};var nk={zero:1,center:1,normalize:1},kk=new Set([Aj,df,ff,ef,cf,Dg,Eg,gf,yj,Fg]),mk=new Set([df,ff,Aj]),Kg=function(){this.name=
"path-overlay"};Kg.prototype.hasMatchingType=function(a,c){if(yb(a)){var f=a.mark;a=a.encoding;f=La(f)?f:{type:f};switch(f.type){case "line":case "rule":case "trail":return!!Kf(f,c[f.type],a);case "area":return!!Kf(f,c[f.type],a)||!!Ah(f,c[f.type])}}return!1};Kg.prototype.run=function(a,c,f){var h=c.config,e=a.selection,g=a.projection,k=a.encoding,l=a.mark;a=z(a,["selection","projection","encoding","mark"]);l=La(l)?l:{type:l};var m=Kf(l,h[l.type],k),t="area"===l.type&&Ah(l,h[l.type]);e=[Object.assign(Object.assign({},
e?{selection:e}:{}),{mark:pk(Object.assign(Object.assign({},"area"===l.type&&void 0===l.opacity&&void 0===l.fillOpacity?{opacity:.7}:{}),l)),encoding:sa(k,["shape"])})];var q=zh(l,k),p=k;if(q){p=q.fieldChannel;q=q.offset;var v={};p=Object.assign(Object.assign({},k),(v[p]=Object.assign(Object.assign({},k[p]),q?{stack:q}:{}),v))}t&&e.push(Object.assign(Object.assign({},g?{projection:g}:{}),{mark:Object.assign(Object.assign({type:"line"},xc(l,["clip","interpolate","tension","tooltip"])),t),encoding:p}));
m&&e.push(Object.assign(Object.assign({},g?{projection:g}:{}),{mark:Object.assign(Object.assign({type:"point",opacity:1,filled:!0},xc(l,["clip","tooltip"])),m),encoding:p}));return f(Object.assign(Object.assign({},a),{layer:e}),Object.assign(Object.assign({},c),{config:qk(h)}))};var Lg=function(){this.name="RangeStep"};Lg.prototype.hasMatchingType=function(a){var c;if(yb(a)&&a.encoding)for(var f=$jscomp.makeIterator(sb),h=f.next();!h.done;h=f.next())if((h=a.encoding[h.value])&&K(h)&&(null===(c=null===
h||void 0===h?void 0:h.scale)||void 0===c?0:c.rangeStep))return!0;return!1};Lg.prototype.run=function(a){for(var c,f={},h=Object.assign({},a.encoding),e=$jscomp.makeIterator(sb),g=e.next();!g.done;g=e.next()){g=g.value;var k=R(g),l=h[g];if(l&&K(l)&&(null===(c=null===l||void 0===l?void 0:l.scale)||void 0===c?0:c.rangeStep)){var m=l.scale;l=z(l,["scale"]);var t=z(m,["rangeStep"]);f[k]={step:m.rangeStep};x('Scale\'s "rangeStep" is deprecated and will be removed in Vega-Lite 5.0. Please use "width"/"height": {"step": ...} instead. See https://vega.github.io/vega-lite/docs/size.html.');
k={};h=Object.assign(Object.assign({},h),(k[g]=Object.assign(Object.assign({},l),ha(t)?{}:{scale:t}),k))}}return Object.assign(Object.assign(Object.assign({},f),a),{encoding:h})};var Mg=function(){this.name="RuleForRangedLine"};Mg.prototype.hasMatchingType=function(a){if(yb(a)){var c=a.encoding;if("line"===a.mark){a=$jscomp.makeIterator(tm);for(var f=a.next();!f.done;f=a.next()){f=f.value;var h=Qb(f);h=c[h];if(c[f]&&(D(h)&&!ta(h.bin)||Dc(h)))return!0}}}return!1};Mg.prototype.run=function(a,c,f){var h=
a.encoding,e=!!h.x2;x("Line mark is for continuous lines and thus cannot be used with "+(e&&h.y2?"x2 and y2":e?"x2":"y2")+". We will use the rule mark (line segments) instead.");return f(Object.assign(Object.assign({},a),{mark:"rule"}),c)};var wb=function(){var a=Za.apply(this,arguments)||this;a.nonFacetUnitNormalizers=[Bm,Cm,Dm,new Kg,new Mg,new Lg];return a};$jscomp.inherits(wb,Za);wb.prototype.map=function(a,c){if(yb(a)){var f=$c(a.encoding,"row"),h=$c(a.encoding,"column"),e=$c(a.encoding,"facet");
if(f||h||e)return this.mapFacetedUnit(a,c)}return Za.prototype.map.call(this,a,c)};wb.prototype.mapUnit=function(a,c){var f=c.parentEncoding,h=c.parentProjection;a=Object.assign(Object.assign({},a),{encoding:Lf(a.encoding,c.repeater)});if(f||h)return this.mapUnitWithParentEncodingOrProjection(a,c);f=this.mapLayerOrUnit.bind(this);h=$jscomp.makeIterator(this.nonFacetUnitNormalizers);for(var e=h.next();!e.done;e=h.next())if(e=e.value,e.hasMatchingType(a,c.config))return e.run(a,c,f);return a};wb.prototype.mapRepeat=
function(a,c){return!J(a.repeat)&&a.repeat.layer?this.mapLayerRepeat(a,c):this.mapNonLayerRepeat(a,c)};wb.prototype.mapLayerRepeat=function(a,c){var f=this,h=a.repeat,e=a.spec,g=z(a,["repeat","spec"]),k=h.row,l=h.column;h=h.layer;var m=void 0===c.repeater?{}:c.repeater,t=void 0===c.repeaterPrefix?"":c.repeaterPrefix;return k||l?this.mapRepeat(Object.assign(Object.assign({},a),{repeat:Object.assign(Object.assign({},k?{row:k}:{}),l?{column:l}:{}),spec:{repeat:{layer:h},spec:e}}),c):Object.assign(Object.assign({},
g),{layer:h.map(function(a){var h=Object.assign(Object.assign({},m),{layer:a});a=(e.name||"")+t+("child__layer_"+aa(a));h=f.mapLayerOrUnit(e,Object.assign(Object.assign({},c),{repeater:h,repeaterPrefix:a}));h.name=a;return h})})};wb.prototype.mapNonLayerRepeat=function(a,c){var f,h=a,e=h.repeat,g=h.spec;h=h.data;var k=z(a,["repeat","spec","data"]);!J(e)&&a.columns&&(a=sa(a,["columns"]),x(Ca("repeat")));var l=[],m=void 0===c.repeater?{}:c.repeater,t=void 0===c.repeaterPrefix?"":c.repeaterPrefix,q=
!J(e)&&e.row||[m?m.row:null],p=!J(e)&&e.column||[m?m.column:null],v=J(e)&&e||[m?m.repeat:null];v=$jscomp.makeIterator(v);for(var w=v.next();!w.done;w=v.next()){w=w.value;for(var u=$jscomp.makeIterator(q),G=u.next();!G.done;G=u.next()){G=G.value;for(var y=$jscomp.makeIterator(p),O=y.next();!O.done;O=y.next()){var A=O.value;O={repeat:w,row:G,column:A,layer:m.layer};A=(g.name||"")+t+"child__"+(J(e)?""+aa(w):(e.row?"row_"+aa(G):"")+(e.column?"column_"+aa(A):""));O=this.map(g,Object.assign(Object.assign({},
c),{repeater:O,repeaterPrefix:A}));O.name=A;l.push(sa(O,["data"]))}}}a=J(e)?a.columns:e.column?e.column.length:1;return Object.assign(Object.assign({data:null!==(f=g.data)&&void 0!==f?f:h,align:"all"},k),{columns:a,concat:l})};wb.prototype.mapFacet=function(a,c){Pd(a.facet)&&a.columns&&(a=sa(a,["columns"]),x(Ca("facet")));return Za.prototype.mapFacet.call(this,a,c)};wb.prototype.mapUnitWithParentEncodingOrProjection=function(a,c){var f=a.encoding,h=c.parentEncoding,e=c.config,g=Gh({parentProjection:c.parentProjection,
projection:a.projection});c=Fh({parentEncoding:h,encoding:Lf(f,c.repeater)});return this.mapUnit(Object.assign(Object.assign(Object.assign({},a),g?{projection:g}:{}),c?{encoding:c}:{}),{config:e})};wb.prototype.mapFacetedUnit=function(a,c){var f=a.encoding,h=f.row,e=f.column,g=f.facet,k=z(f,["row","column","facet"]);f=a.mark;var l=a.width,m=a.projection,t=a.height,q=a.view,p=a.selection;a=z(a,"mark width projection height view selection encoding".split(" "));e=this.getFacetMappingAndLayout({row:h,
column:e,facet:g},c);h=e.facetMapping;e=e.layout;k=Lf(k,c.repeater);return this.mapFacet(Object.assign(Object.assign(Object.assign({},a),e),{facet:h,spec:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},l?{width:l}:{}),t?{height:t}:{}),q?{view:q}:{}),m?{projection:m}:{}),{mark:f,encoding:k}),p?{selection:p}:{})}),c)};wb.prototype.getFacetMappingAndLayout=function(a,c){var f,h=a.row,e=a.column,g=a.facet;if(h||e){g&&(c=[].concat($jscomp.arrayFromIterable(h?["row"]:
[]),$jscomp.arrayFromIterable(e?["column"]:[])),c="Facet encoding dropped as "+c.join(" and ")+" "+(1<c.length?"are":"is")+" also specified.",x(c));c={};g={};h=$jscomp.makeIterator(["row","column"]);for(e=h.next();!e.done;e=h.next()){e=e.value;var k=a[e];if(k){var l=z(k,["align","center","spacing","columns"]);c[e]=l;l=$jscomp.makeIterator(["align","center","spacing"]);for(var m=l.next();!m.done;m=l.next())m=m.value,void 0!==k[m]&&(g[m]=null!==(f=g[m])&&void 0!==f?f:{},g[m][e]=k[m])}}return{facetMapping:c,
layout:g}}a=g.align;f=g.center;h=g.spacing;e=g.columns;g=z(g,["align","center","spacing","columns"]);c=(c=c.repeater)?Pd(g)?Bh(g,c):Ch(g,c):g;return{facetMapping:c,layout:Object.assign(Object.assign(Object.assign(Object.assign({},a?{align:a}:{}),f?{center:f}:{}),h?{spacing:h}:{}),e?{columns:e}:{})}};wb.prototype.mapLayer=function(a,c){var f=c.parentEncoding,h=c.parentProjection;c=z(c,["parentEncoding","parentProjection"]);var e=a.encoding,g=a.projection;a=z(a,["encoding","projection"]);f=Object.assign(Object.assign({},
c),{parentEncoding:Fh({parentEncoding:f,encoding:e}),parentProjection:Gh({parentProjection:h,projection:g})});return Za.prototype.mapLayer.call(this,a,f)};var rk=new wb,sk=["background","padding"],za=function(a,c){a=void 0===a?{}:a;c=void 0===c?{}:c;this.explicit=a;this.implicit=c};za.prototype.clone=function(){return new za(T(this.explicit),T(this.implicit))};za.prototype.combine=function(){return Object.assign(Object.assign({},this.explicit),this.implicit)};za.prototype.get=function(a){return na(this.explicit[a],
this.implicit[a])};za.prototype.getWithExplicit=function(a){return void 0!==this.explicit[a]?{explicit:!0,value:this.explicit[a]}:void 0!==this.implicit[a]?{explicit:!1,value:this.implicit[a]}:{explicit:!1,value:void 0}};za.prototype.setWithExplicit=function(a,c){void 0!==c.value&&this.set(a,c.value,c.explicit)};za.prototype.set=function(a,c,f){delete this[f?"implicit":"explicit"][a];this[f?"explicit":"implicit"][a]=c;return this};za.prototype.copyKeyFromSplit=function(a,c){void 0!==c.explicit[a]?
this.set(a,c.explicit[a],!0):void 0!==c.implicit[a]&&this.set(a,c.implicit[a],!1)};za.prototype.copyKeyFromObject=function(a,c){void 0!==c[a]&&this.set(a,c[a],!0)};za.prototype.copyAll=function(a){for(var c=$jscomp.makeIterator(A(a.combine())),f=c.next();!f.done;f=c.next()){f=f.value;var h=a.getWithExplicit(f);this.setWithExplicit(f,h)}};var Cg=function(a,c,f){a=void 0===a?{}:a;c=void 0===c?{}:c;f=void 0===f?!1:f;var h=za.call(this,a,c)||this;h.explicit=a;h.implicit=c;h.parseNothing=f;return h};$jscomp.inherits(Cg,
za);Cg.prototype.clone=function(){var a=za.prototype.clone.call(this);a.parseNothing=this.parseNothing;return a};var uk="view",Ge="[",He="]",Qh="{",Rh="}",zk=":",Ph=",",yk="@",wk="\x3e",Ak=/[[\]{}]/,Mh,Nh,vk={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},Fk={left:"x",center:"xc",right:"x2"},Gk={top:"y",middle:"yc",bottom:"y2"},Kk=new Set(["aria"]),Jj={has:function(a){return"interval"!==a.type&&a.nearest},parse:function(a,c){if(c.events){c=$jscomp.makeIterator(c.events);
for(var f=c.next();!f.done;f=c.next())f.value.markname=a.getName("voronoi")}},marks:function(a,c,f){var h=c.project.hasChannel;c=h.x;h=h.y;var e=a.mark;if(bc(e))return x('The "nearest" transform is not supported for '+e+" marks."),f;c={name:a.getName("voronoi"),type:"path",interactive:!0,from:{data:a.getName("marks")},encode:{update:Object.assign({fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},Th(a,{reactiveGeom:!0}))},transform:[{type:"voronoi",
x:{expr:c||!h?"datum.datum.x || 0":"0"},y:{expr:h||!c?"datum.datum.y || 0":"0"},size:[a.getSizeSignalRef("width"),a.getSizeSignalRef("height")]}]};var g=0,k=!1;f.forEach(function(c,f){var h;c=null!==(h=c.name)&&void 0!==h?h:"";c===a.component.mark[0].name?g=f:0<=c.indexOf("voronoi")&&(k=!0)});k||f.splice(g+1,0,c);return f}},H=function(a,c){this.debugName=c;this._children=[];this._parent=null;a&&(this.parent=a)};H.prototype.clone=function(){throw Error("Cannot clone node");};H.prototype.numChildren=
function(){return this._children.length};H.prototype.addChild=function(a,c){-1<this._children.indexOf(a)?console.warn("Attempt to add the same child twice."):void 0!==c?this._children.splice(c,0,a):this._children.push(a)};H.prototype.removeChild=function(a){a=this._children.indexOf(a);this._children.splice(a,1);return a};H.prototype.remove=function(){for(var a=this._parent.removeChild(this),c=$jscomp.makeIterator(this._children),f=c.next();!f.done;f=c.next())f=f.value,f._parent=this._parent,this._parent.addChild(f,
a++)};H.prototype.insertAsParentOf=function(a){var c=a.parent;c.removeChild(this);this.parent=c;a.parent=this};H.prototype.swapWithParent=function(){for(var a=this._parent,c=a.parent,f=$jscomp.makeIterator(this._children),h=f.next();!h.done;h=f.next())h.value.parent=a;this._children=[];a.removeChild(this);a.parent.removeChild(a);this.parent=c;a.parent=this};$jscomp.global.Object.defineProperties(H.prototype,{parent:{configurable:!0,enumerable:!0,get:function(){return this._parent},set:function(a){(this._parent=
a)&&a.addChild(this)}},children:{configurable:!0,enumerable:!0,get:function(){return this._children}}});var ya=function(a,c,f,h){a=H.call(this,a,c)||this;a.type=f;a.refCounts=h;a._source=a._name=c;!a.refCounts||a._name in a.refCounts||(a.refCounts[a._name]=0);return a};$jscomp.inherits(ya,H);ya.prototype.clone=function(){var a=new this.constructor;a.debugName="clone_"+this.debugName;a._source=this._source;a._name="clone_"+this._name;a.type=this.type;a.refCounts=this.refCounts;a.refCounts[a._name]=
0;return a};ya.prototype.dependentFields=function(){return new Set};ya.prototype.producedFields=function(){return new Set};ya.prototype.hash=function(){void 0===this._hash&&(this._hash="Output "+ ++mm);return this._hash};ya.prototype.getSource=function(){this.refCounts[this._name]++;return this._source};ya.prototype.isRequired=function(){return!!this.refCounts[this._name]};ya.prototype.setSource=function(a){this._source=a};var Oa=function(a,c){a=H.call(this,a)||this;a.formula=c;return a};$jscomp.inherits(Oa,
H);Oa.prototype.clone=function(){return new Oa(null,T(this.formula))};Oa.makeFromEncoding=function(a,c){var f=c.reduceFieldDef(function(a,f,e){var h=f.field,n=f.timeUnit,g=wa(c)?c.encoding[ea(e)]:void 0;e=wa(c)&&uf(e,f,g,c.stack,c.markDef,c.config);n&&(f=B(f,{forAs:!0}),a[S({as:f,field:h,timeUnit:n})]=Object.assign({as:f,field:h,timeUnit:n},e?{band:!0}:{}));return a},{});return ha(f)?null:new Oa(a,f)};Oa.makeFromTransform=function(a,c){var f=Object.assign({},c);c=f.timeUnit;f=z(f,["timeUnit"]);c=
Da(c);c=Object.assign(Object.assign({},f),{timeUnit:c});f={};return new Oa(a,(f[S(c)]=c,f))};Oa.prototype.merge=function(a){this.formula=Object.assign({},this.formula);for(var c in a.formula)if(!this.formula[c]||a.formula[c].band)this.formula[c]=a.formula[c];c=$jscomp.makeIterator(a.children);for(var f=c.next();!f.done;f=c.next())f=f.value,a.removeChild(f),f.parent=this;a.remove()};Oa.prototype.producedFields=function(){return new Set(Ic(this.formula).map(function(a){return a.as}))};Oa.prototype.dependentFields=
function(){return new Set(Ic(this.formula).map(function(a){return a.field}))};Oa.prototype.hash=function(){return"TimeUnit "+S(this.formula)};Oa.prototype.assemble=function(){for(var a=[],c=$jscomp.makeIterator(Ic(this.formula)),f=c.next();!f.done;f=c.next()){var h=f.value;f=h.field;var e=h.as,g=Da(h.timeUnit),k=g;h=k.unit;k=k.utc;g=z(g,["unit","utc"]);a.push(Object.assign(Object.assign(Object.assign(Object.assign({field:xb(f),type:"timeunit"},h?{units:lb(h)}:{}),k?{timezone:"utc"}:{}),g),{as:[e,
e+"_end"]}))}return a};var Em=function(a){for(var c=[],f=0;f<arguments.length;++f)c[f-0]=arguments[f];this.items=c;this.hasChannel={};this.hasField={}},Kj={has:function(a){return"single"===a.type&&"global"===a.resolve&&a.bind&&"scales"!==a.bind&&!Hf(a.bind)},parse:function(a,c,f,h){h.on||delete c.events;h.clear||delete c.clear},topLevelSignals:function(a,c,f){var h=c.name;a=c.project;var e=c.bind,g=c.init&&c.init[0],k=Jj.has(c)?"(item().isVoronoi ? datum.datum : datum)":"datum";a.items.forEach(function(a,
n){var r,l,m=aa(h+"_"+a.field);f.filter(function(a){return a.name===m}).length||f.unshift(Object.assign(Object.assign({name:m},g?{init:wd(g[n])}:{value:null}),{on:c.events?[{events:c.events,update:"datum \x26\x26 item().mark.marktype !\x3d\x3d 'group' ? "+k+"["+M(a.field)+"] : null"}]:[],bind:null!==(l=null!==(r=e[a.field])&&void 0!==r?r:e[a.channel])&&void 0!==l?l:e}))});return f},signals:function(a,c,f){var h=c.name,e=c.project;a=f.filter(function(a){return a.name===h+"_tuple"})[0];c=h+"_tuple_fields";
e=e.items.map(function(a){return aa(h+"_"+a.field)});var g=e.map(function(a){return a+" !\x3d\x3d null"}).join(" \x26\x26 ");e.length&&(a.update=g+" ? {fields: "+c+", values: ["+e.join(", ")+"]} : null");delete a.value;delete a.on;return f}},Lj={has:function(a){return"multi"===a.type&&!!a.toggle},signals:function(a,c,f){return f.concat({name:c.name+"_toggle",value:!1,on:[{events:c.events,update:c.toggle}]})},modifyExpr:function(a,c){var f=c.name+"_tuple",h=c.name+"_toggle";return h+" ? null : "+f+
", "+("global"===c.resolve?h+" ? null : true, ":h+" ? null : {unit: "+lc(a)+"}, ")+(h+" ? "+f+" : null")}},Hc={has:function(a){return"interval"===a.type&&"global"===a.resolve&&a.bind&&"scales"===a.bind},parse:function(a,c){for(var f=c.scales=[],h=$jscomp.makeIterator(c.project.items),e=h.next();!e.done;e=h.next()){e=e.value;var g=e.channel;if(ic[g]){var k=(g=a.getScaleComponent(g))?g.get("type"):void 0;g&&k in nb?(g.set("selectionExtent",{selection:c.name,field:e.field},!0),f.push(e)):x("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}}},
topLevelSignals:function(a,c,f){var h=c.scales.filter(function(a){return 0===f.filter(function(c){return c.name===a.signals.data}).length});if(!a.parent||Rf(a)||0===h.length)return f;a=f.filter(function(a){return a.name===c.name})[0];var e=a.update;if(0<=e.indexOf("vlSelectionResolve"))a.update="{"+h.map(function(a){return M(a.field)+": "+a.signals.data}).join(", ")+"}";else{for(var g=$jscomp.makeIterator(h),k=g.next();!k.done;k=g.next())k=k.value,k=M(k.field)+": "+k.signals.data,0>e.indexOf(k)&&
(e=e.substring(0,e.length-1)+", "+k+"}");a.update=e}return f.concat(h.map(function(a){return{name:a.signals.data}}))},signals:function(a,c,f){if(a.parent&&!Rf(a)){a={};c=$jscomp.makeIterator(c.scales);for(var h=c.next();!h.done;a={$jscomp$loop$prop$proj$442:a.$jscomp$loop$prop$proj$442},h=c.next())a.$jscomp$loop$prop$proj$442=h.value,h=f.filter(function(a){return function(c){return c.name===a.$jscomp$loop$prop$proj$442.signals.data}}(a))[0],h.push="outer",delete h.value,delete h.update}return f}},
bi={has:function(a){var c="global"===a.resolve&&a.bind&&Hf(a.bind);a=1===a.project.items.length&&"_vgsid_"!==a.project.items[0].field;c&&!a&&x("Legend bindings are only supported for selections over an individual field or encoding channel.");return c&&a},parse:function(a,c,f,h){var e;h.on||delete c.events;h.clear||delete c.clear;if(h.on||h.clear)for(a=$jscomp.makeIterator(c.events),f=a.next();!f.done;f=a.next())f=f.value,f.filter=da(null!==(e=f.filter)&&void 0!==e?e:[]),0>f.filter.indexOf('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')&&
f.filter.push('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0');e=If(c.bind)?c.bind.legend:"click";e=L(e)?ud(e,"view"):da(e);c.bind={legend:{merge:e}}},topLevelSignals:function(a,c,f){a=c.name;for(var h=If(c.bind)&&c.bind.legend,e=function(a){return function(c){c=T(c);c.markname=a;return c}},g={},k=$jscomp.makeIterator(c.project.items),l=k.next();!l.done;g={$jscomp$loop$prop$sgName$444:g.$jscomp$loop$prop$sgName$444},l=k.next())l=l.value,l.hasLegend&&(l=aa(l.field)+"_legend",g.$jscomp$loop$prop$sgName$444=
a+"_"+l,0===f.filter(function(a){return function(c){return c.name===a.$jscomp$loop$prop$sgName$444}}(g)).length&&(l=h.merge.map(e(l+"_symbols")).concat(h.merge.map(e(l+"_labels"))).concat(h.merge.map(e(l+"_entries"))),f.unshift(Object.assign(Object.assign({name:g.$jscomp$loop$prop$sgName$444},c.init?{}:{value:null}),{on:[{events:l,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:h.merge,update:"!event.item || !datum ? null : "+g.$jscomp$loop$prop$sgName$444,force:!0}]}))));
return f},signals:function(a,c,f){var h=c.name,e=c.project;a=f.find(function(a){return a.name===h+"_tuple"});var g=h+"_tuple_fields";e=e.items.filter(function(a){return a.hasLegend}).map(function(a){return aa(h+"_"+aa(a.field)+"_legend")});g=e.map(function(a){return a+" !\x3d\x3d null"}).join(" \x26\x26 ")+" ? {fields: "+g+", values: ["+e.join(", ")+"]} : null";c.events&&0<e.length?a.on.push({events:e.map(function(a){return{signal:a}}),update:g}):0<e.length&&(a.update=g,delete a.value,delete a.on);
a=f.find(function(a){return a.name===h+"_toggle"});g=If(c.bind)&&c.bind.legend;a&&(c.events?a.on.push(Object.assign(Object.assign({},a.on[0]),{events:g})):a.on[0].events=g);return f}},Nk=[{has:function(){return!0},parse:function(a,c,f){var h,e,g,k=c.name,l=null!==(h=c.project)&&void 0!==h?h:c.project=new Em,m={};h={};var t=new Set,q=function(a,c){var f="visual"===c?a.channel:a.field;a=aa(k+"_"+f);for(var h=1;t.has(a);h++)a=aa(k+"_"+f+"_"+h);t.add(a);f={};return f[c]=a,f};if(!f.fields&&!f.encodings){var p=
a.config.selection[f.type];if(f.init)for(var v=$jscomp.makeIterator(da(f.init)),w=v.next();!w.done;w=v.next()){w=$jscomp.makeIterator(A(w.value));for(var u=w.next();!u.done;u=w.next())u=u.value,sm[u]?(f.encodings||(f.encodings=[])).push(u):"interval"===f.type?(x('Interval selections should be initialized using "x" and/or "y" keys.'),f.encodings=p.encodings):(f.fields||(f.fields=[])).push(u)}else f.encodings=p.encodings,f.fields=p.fields}p=$jscomp.makeIterator(null!==(e=f.fields)&&void 0!==e?e:[]);
for(e=p.next();!e.done;e=p.next())e=e.value,v={type:"E",field:e},v.signals=Object.assign({},q(v,"data")),l.items.push(v),l.hasField[e]=v;e=$jscomp.makeIterator(null!==(g=f.encodings)&&void 0!==g?g:[]);for(g=e.next();!g.done;g=e.next())g=g.value,(v=a.fieldDef(g))?(p=v.field,v.aggregate?x('Cannot project a selection on encoding channel "'+g+'" as it uses an aggregate function ("'+v.aggregate+'").'):p?(v.timeUnit&&(p=a.vgField(g),w={timeUnit:v.timeUnit,as:p,field:v.field},h[S(w)]=w),m[p]||(w="E","interval"===
c.type?a.getScaleComponent(g).get("type")in nb&&(w="R"):v.bin&&(w="R-RE"),v={field:p,channel:g,type:w},v.signals=Object.assign(Object.assign({},q(v,"data")),q(v,"visual")),l.items.push(m[p]=v),l.hasField[p]=l.hasChannel[g]=m[p])):x(Tc(g))):x(Tc(g));f.init&&(a=function(a){return l.items.map(function(c){return void 0!==a[c.channel]?a[c.channel]:a[c.field]})},"interval"===f.type?c.init=a(f.init):(f=da(f.init),c.init=f.map(a)));ha(h)||(l.timeUnit=new Oa(null,h))},signals:function(a,c,f){var h=c.name+
"_tuple_fields";return 0<f.filter(function(a){return a.name===h}).length?f:f.concat({name:h,value:c.project.items.map(function(a){a=z(a,["signals","hasLegend"]);a.field=xb(a.field);return a})})}},Lj,Hc,bi,{has:function(a){return"interval"===a.type&&a.translate},signals:function(a,c,f){var h=c.name,e=Hc.has(c),g=h+"_translate_anchor",k=c.project.hasChannel,l=k.x;k=k.y;var m=ud(c.translate,"scope");e||(m=m.map(function(a){return a.between[0].markname=h+"_brush",a}));f.push({name:g,value:{},on:[{events:m.map(function(a){return a.between[0]}),
update:"{x: x(unit), y: y(unit)"+(void 0!==l?", extent_x: "+(e?"domain("+M(a.scaleName("x"))+")":"slice("+l.signals.visual+")"):"")+(void 0!==k?", extent_y: "+(e?"domain("+M(a.scaleName("y"))+")":"slice("+k.signals.visual+")"):"")+"}"}]},{name:h+"_translate_delta",value:{},on:[{events:m,update:"{x: "+g+".x - x(unit), y: "+g+".y - y(unit)}"}]});void 0!==l&&ci(a,c,l,"width",f);void 0!==k&&ci(a,c,k,"height",f);return f}},{has:function(a){return"interval"===a.type&&a.zoom},signals:function(a,c,f){var h=
c.name,e=Hc.has(c),g=h+"_zoom_delta",k=c.project.hasChannel,l=k.x;k=k.y;var m=M(a.scaleName("x")),t=M(a.scaleName("y")),q=ud(c.zoom,"scope");e||(q=q.map(function(a){return a.markname=h+"_brush",a}));f.push({name:h+"_zoom_anchor",on:[{events:q,update:e?"{"+[m?"x: invert("+m+", x(unit))":"",t?"y: invert("+t+", y(unit))":""].filter(function(a){return!!a}).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:g,on:[{events:q,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]});void 0!==
l&&di(a,c,l,"width",f);void 0!==k&&di(a,c,k,"height",f);return f}},Kj,Jj,{has:function(a){return void 0!==a.clear&&!1!==a.clear},parse:function(a,c,f){f.clear&&(c.clear=L(f.clear)?ud(f.clear,"scope"):f.clear)},topLevelSignals:function(a,c,f){if(Kj.has(c)){a={};for(var h=$jscomp.makeIterator(c.project.items),e=h.next();!e.done;a={$jscomp$loop$prop$proj$437:a.$jscomp$loop$prop$proj$437},e=h.next())a.$jscomp$loop$prop$proj$437=e.value,e=f.findIndex(function(a){return function(f){return f.name===aa(c.name+
"_"+a.$jscomp$loop$prop$proj$437.field)}}(a)),-1!==e&&f[e].on.push({events:c.clear,update:"null"})}return f},signals:function(a,c,f){function h(a,h){-1!==a&&f[a].on&&f[a].on.push({events:c.clear,update:h})}if("interval"===c.type){a={};for(var e=$jscomp.makeIterator(c.project.items),g=e.next();!g.done;a={$jscomp$loop$prop$proj$440:a.$jscomp$loop$prop$proj$440},g=e.next())a.$jscomp$loop$prop$proj$440=g.value,g=f.findIndex(function(a){return function(c){return c.name===a.$jscomp$loop$prop$proj$440.signals.visual}}(a)),
h(g,"[0, 0]"),-1===g&&(g=f.findIndex(function(a){return function(c){return c.name===a.$jscomp$loop$prop$proj$440.signals.data}}(a)),h(g,"null"))}else a=f.findIndex(function(a){return a.name===c.name+"_tuple"}),h(a,"null"),Lj.has(c)&&(a=f.findIndex(function(a){return a.name===c.name+"_toggle"}),h(a,"false"));return f}}],Vk={single:{signals:gi,modifyExpr:function(a,c){return c.name+"_tuple, "+("global"===c.resolve?"true":"{unit: "+lc(a)+"}")}},multi:{signals:gi,modifyExpr:function(a,c){return c.name+
"_tuple, "+("global"===c.resolve?"null":"{unit: "+lc(a)+"}")}},interval:{signals:function(a,c){var f=c.name,h=f+"_tuple_fields",e=Hc.has(c),g=[],k=[],l=[];if(c.translate&&!e){var m="!event.item || event.item.mark.name !\x3d\x3d "+M(f+"_brush");fi(c,function(a,c){var f;c=da(null!==(f=c.between[0].filter)&&void 0!==f?f:c.between[0].filter=[]);0>c.indexOf(m)&&c.push(m);return a})}c.project.items.forEach(function(f,h){var e=f.channel;if("x"!==e&&"y"!==e)x("Interval selections only support x and y encoding channels.");
else{h=Uk(a,c,f,c.init?c.init[h]:null);var n=f.signals.data;f=f.signals.visual;var r=M(a.scaleName(e)),m=a.getScaleComponent(e).get("type")in nb?"+":"";g.push.apply(g,$jscomp.arrayFromIterable(h));k.push(n);l.push({scaleName:a.scaleName(e),expr:"(!isArray("+n+") || ("+(m+"invert("+r+", "+f+")[0] \x3d\x3d\x3d "+m+n+"[0] \x26\x26 ")+(m+"invert("+r+", "+f+")[1] \x3d\x3d\x3d "+m+n+"[1]))")})}});e||g.push({name:f+"_scale_trigger",value:{},on:[{events:l.map(function(a){return{scale:a.scaleName}}),update:l.map(function(a){return a.expr}).join(" \x26\x26 ")+
(" ? "+(f+"_scale_trigger : {}"))}]});e=c.init;h="unit: "+lc(a)+", fields: "+h+", values";return g.concat(Object.assign(Object.assign({name:f+"_tuple"},e?{init:"{"+h+": "+wd(e)+"}"}:{}),{on:[{events:[{signal:k.join(" || ")}],update:k.join(" \x26\x26 ")+(" ? {"+h+": ["+k+"]} : null")}]}))},modifyExpr:function(a,c){return c.name+"_tuple, "+("global"===c.resolve?"true":"{unit: "+lc(a)+"}")},marks:function(a,c,f){var h=c.name,e=c.project.hasChannel,g=e.x,k=e.y,l=g&&g.signals.visual,m=k&&k.signals.visual,
t="data("+M(c.name+"_store")+")";if(Hc.has(c))return f;e={x:void 0!==g?{signal:l+"[0]"}:{value:0},y:void 0!==k?{signal:m+"[0]"}:{value:0},x2:void 0!==g?{signal:l+"[1]"}:{field:{group:"width"}},y2:void 0!==k?{signal:m+"[1]"}:{field:{group:"height"}}};if("global"===c.resolve)for(var q=$jscomp.makeIterator(A(e)),p=q.next();!p.done;p=q.next())p=p.value,e[p]=[Object.assign({test:t+".length \x26\x26 "+t+"[0].unit \x3d\x3d\x3d "+lc(a)},e[p]),{value:0}];q=c.mark;a=q.fill;c=q.fillOpacity;t=q.cursor;var v=
z(q,["fill","fillOpacity","cursor"]);q=A(v).reduce(function(a,c){a[c]=[{test:[void 0!==g&&l+"[0] !\x3d\x3d "+l+"[1]",void 0!==k&&m+"[0] !\x3d\x3d "+m+"[1]"].filter(function(a){return a}).join(" \x26\x26 "),value:v[c]},{value:null}];return a},{});return[{name:h+"_brush_bg",type:"rect",clip:!0,encode:{enter:{fill:{value:a},fillOpacity:{value:c}},update:e}}].concat($jscomp.arrayFromIterable(f),[{name:h+"_brush",type:"rect",clip:!0,encode:{enter:Object.assign(Object.assign({},t?{cursor:{value:t}}:{}),
{fill:{value:"transparent"}}),update:Object.assign(Object.assign({},e),q)}}])}}};Gb.prototype.visit=function(a){var c;if(a(this))return 1;var f=Wk(this);var h=0;for(c=f.length;h<c;++h)if(f[h].visit(a))return 1};var I,v,Ra,Z,Xk=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
Yk=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
$k={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},bl={"if":1},Hb=function(a,c,f){a=H.call(this,a)||this;a.model=
c;a.filter=f;a.expr=Ie(a.model,a.filter,a);a._dependentFields=ti(a.expr);return a};$jscomp.inherits(Hb,H);Hb.prototype.clone=function(){return new Hb(null,this.model,T(this.filter))};Hb.prototype.dependentFields=function(){return this._dependentFields};Hb.prototype.producedFields=function(){return new Set};Hb.prototype.assemble=function(){return{type:"filter",expr:this.expr}};Hb.prototype.hash=function(){return"Filter "+this.expr};var Fi={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",
titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},Gi={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",
labelPadding:"offset"},nl=A(Fi),ql=A(Gi),wj={scale:function(a){return a.model.scaleName(a.channel)},format:function(a){var c=a.fieldOrDatumDef,f=a.axis;return t(c,c.type,f.format,f.formatType,a.config,!0)},formatType:function(a){return q(a.axis.formatType,a.fieldOrDatumDef,a.scaleType)},grid:function(a){var c=a.fieldOrDatumDef,f=a.axis;a=a.scaleType;var h;return D(c)&&ta(c.bin)?!1:null!==(h=f.grid)&&void 0!==h?h:!(a in $a)&&D(c)&&!X(null===c||void 0===c?void 0:c.bin)},gridScale:function(a){var c=
a.model;a="x"===a.channel?"y":"x";c=c.getScaleComponent(a)?c.scaleName(a):void 0;return c},labelAlign:function(a){var c=a.labelAngle,f=a.orient,h=a.channel;return a.axis.labelAlign||Ai(c,f,h)},labelAngle:function(a){return a.labelAngle},labelBaseline:function(a){var c=a.labelAngle,f=a.orient,h=a.channel;return a.axis.labelBaseline||zi(c,f,h)},labelFlush:function(a){var c=a.fieldOrDatumDef,f=a.channel,h;a=null!==(h=a.axis.labelFlush)&&void 0!==h?h:"x"===f&&F(["quantitative","temporal"],c.type)?!0:
void 0;return a},labelOverlap:function(a){var c=a.fieldOrDatumDef,f=a.scaleType,h;a=null!==(h=a.axis.labelOverlap)&&void 0!==h?h:"nominal"!==c.type?"log"===f?"greedy":!0:void 0;return a},orient:function(a){return a.orient},tickCount:function(a){var c=a.channel,f=a.model,h=a.axis,e=a.fieldOrDatumDef;a=a.scaleType;var g;f=(c="x"===c?"width":"y"===c?"height":void 0)?f.getSizeSignalRef(c):void 0;if(null!==(g=h.tickCount)&&void 0!==g)h=g;else a:{var k;if(h.values||a in $a||"log"===a)h=void 0;else{if(D(e)){if(X(e.bin)){h=
{signal:"ceil("+f.signal+"/10)"};break a}if(e.timeUnit&&F(["month","hours","day","quarter"],null===(k=Da(e.timeUnit))||void 0===k?void 0:k.unit)){h=void 0;break a}}h={signal:"ceil("+f.signal+"/40)"}}}return h},title:function(a){var c=a.axis,f=a.model;a=a.channel;if(void 0!==c.title)return c.title;c=Bi(f,a);if(void 0!==c)return c;c=f.typedFieldDef(a);f=f.fieldDef("x"===a?"x2":"y2");return dh(c?[Ug(c)]:[],D(f)?[Ug(f)]:[])},values:function(a){var c=a.fieldOrDatumDef;a=a.axis.values;c=J(a)?Zg(c,a):C(a)?
a:void 0;return c},zindex:function(a){var c=a.fieldOrDatumDef,f=a.mark,h;a=null!==(h=a.axis.zindex)&&void 0!==h?h:"rect"===f&&wf(c)?1:0;return a}},ub=function(a,c){a=H.call(this,a)||this;a.transform=c;a._dependentFields=ti(a.transform.calculate);return a};$jscomp.inherits(ub,H);ub.prototype.clone=function(){return new ub(null,T(this.transform))};ub.parseAllForSortIndex=function(a,c){c.forEachFieldDef(function(c,h){if(tf(c)&&ia(c.sort)){var f=c.field,e=c.timeUnit,g=c.sort;g=g.map(function(a,c){return se({field:f,
timeUnit:e,equal:a})+" ? "+c+" : "}).join("")+g.length;a=new ub(a,{calculate:g,as:xd(c,h,{forAs:!0})})}});return a};ub.prototype.producedFields=function(){return new Set([this.transform.as])};ub.prototype.dependentFields=function(){return this._dependentFields};ub.prototype.assemble=function(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}};ub.prototype.hash=function(){return"Calculate "+S(this.transform)};var Ng=["row","column"],cg=["header","footer"],Fm={column:{start:0,
end:1},row:{start:1,end:0}},Gm=Object.assign(Object.assign({},{aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,
offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1}),{disable:1,labelExpr:1,selections:1,
opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),Qi=A(Gm),Pi=function(){return za.apply(this,arguments)||this};$jscomp.inherits(Pi,za);var Si={symbols:function(a,c){var f=c.fieldOrDatumDef,h=c.model,e=c.channel,g=c.legendCmpt,k,l,m,t,q;if("symbol"===c.legendType){var p=h.markDef,v=h.encoding;c=h.config;var w=h.mark,u=p.filled&&"trail"!==w;w=Object.assign(Object.assign({},Wj({},h,om)),Wh(h,{filled:u}));var G=null!==(k=Ki(v.opacity))&&void 0!==k?k:p.opacity;w.fill&&("fill"===
e||u&&"color"===e?delete w.fill:w.fill.field?g.get("symbolFillColor")?delete w.fill:(w.fill=Fa(null!==(l=c.legend.symbolBaseFillColor)&&void 0!==l?l:"black"),w.fillOpacity=Fa(null!==G&&void 0!==G?G:1)):J(w.fill)&&(k=null!==(q=null!==(t=gg(null!==(m=v.fill)&&void 0!==m?m:v.color))&&void 0!==t?t:p.fill)&&void 0!==q?q:u&&p.color)&&(w.fill=Fa(k)));w.stroke&&("stroke"===e||!u&&"color"===e?delete w.stroke:w.stroke.field?delete w.stroke:J(w.stroke)&&(m=na(gg(v.stroke||v.color),p.stroke,u?p.color:void 0))&&
(w.stroke={value:m}));"opacity"!==e&&((f=D(f)&&Mi(h,g,f))?w.opacity=[Object.assign({test:f},Fa(null!==G&&void 0!==G?G:1)),Fa(c.legend.unselectedOpacity)]:G&&(w.opacity=Fa(G)));w=Object.assign(Object.assign({},w),a);return ha(w)?void 0:w}},gradient:function(a,c){var f=c.model;if("gradient"===c.legendType){c={};if(f=Ki(f.encoding.opacity)||f.markDef.opacity)c.opacity=Fa(f);c=Object.assign(Object.assign({},c),a);return ha(c)?void 0:c}},labels:function(a,c){var f=c.fieldOrDatumDef,h=c.model,e=c.legendCmpt,
k=h.legend(c.channel)||{};c=h.config;h=(h=D(f)?Mi(h,e,f):void 0)?[{test:h,value:1},{value:c.legend.unselectedOpacity}]:void 0;e=k.format;k=k.formatType;f=g(k)?m({fieldOrDatumDef:f,field:"datum.value",format:e,formatType:k,config:c}):void 0;a=Object.assign(Object.assign(Object.assign({},h?{opacity:h}:{}),f?{text:f}:{}),a);return ha(a)?void 0:a},entries:function(a,c){c=c.legendCmpt.get("selections");return(null===c||void 0===c?0:c.length)?Object.assign(Object.assign({},a),{fill:{value:"transparent"}}):
a}},Ri={direction:function(a){return a.direction},format:function(a){var c=a.fieldOrDatumDef,f=a.legend;return t(c,c.type,f.format,f.formatType,a.config,!1)},formatType:function(a){return q(a.legend.formatType,a.fieldOrDatumDef,a.scaleType)},gradientLength:function(a){var c,f,h=a.legendConfig;if(null!==(f=null!==(c=a.legend.gradientLength)&&void 0!==c?c:h.gradientLength)&&void 0!==f)a=f;else{c=a.model;f=a.direction;h=a.orient;var e=a.legendConfig,g=e.gradientHorizontalMaxLength,k=e.gradientHorizontalMinLength,
l=e.gradientVerticalMaxLength;e=e.gradientVerticalMinLength;a=a.scaleType in Db?"horizontal"===f?"top"===h||"bottom"===h?{signal:"clamp("+c.getSizeSignalRef("width").signal+", "+k+", "+g+")"}:k:{signal:"clamp("+c.getSizeSignalRef("height").signal+", "+e+", "+l+")"}:void 0}return a},labelOverlap:function(a){var c=a.legendConfig,f=a.scaleType,h,e;a=null!==(e=null!==(h=a.legend.labelOverlap)&&void 0!==h?h:c.labelOverlap)&&void 0!==e?e:F(["quantile","threshold","log"],f)?"greedy":void 0;return a},symbolType:function(a){var c=
a.markDef,f=a.channel,h=a.encoding,e;if(null!==(e=a.legend.symbolType)&&void 0!==e)var g=e;else a:{a=c.type;c=c.shape;if("shape"!==f&&(f=null!==(g=gg(h.shape))&&void 0!==g?g:c)){g=f;break a}switch(a){case "bar":case "rect":case "image":case "square":g="square";break a;case "line":case "trail":case "rule":g="stroke";break a;case "arc":case "point":case "circle":case "tick":case "geoshape":case "area":case "text":g="circle";break a}g=void 0}return g},title:function(a){return Yc(a.fieldOrDatumDef,a.config,
{allowDisabling:!0})},type:function(a){var c=a.legendType,f=a.scaleType;if(cc(a.channel)&&f in Db){if("gradient"===c)return}else if("symbol"===c)return;return c},values:function(a){var c=a.fieldOrDatumDef;a=a.legend.values;c=J(a)?Zg(c,a):C(a)?a:void 0;return c}},vl="type clipAngle clipExtent center rotate precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),Ve=function(a,c,f,h){a=za.call(this,Object.assign({},c),{name:a})||this;a.specifiedProjection=
c;a.size=f;a.data=h;a.merged=!1;return a};$jscomp.inherits(Ve,za);$jscomp.global.Object.defineProperties(Ve.prototype,{isFit:{configurable:!0,enumerable:!0,get:function(){return!!this.data}}});var Na=function(a,c){a=H.call(this,a)||this;a.bins=c;return a};$jscomp.inherits(Na,H);Na.prototype.clone=function(){return new Na(null,T(this.bins))};Na.makeFromEncoding=function(a,c){var f=c.reduceFieldDef(function(a,f,e){if(ab(f)&&X(f.bin)){var h=Zi(f,f.bin,c),g=h.key;a[g]=Object.assign(Object.assign(Object.assign({},
h.binComponent),a[g]),wl(c,f,e,c.config))}return a},{});return ha(f)?null:new Na(a,f)};Na.makeFromTransform=function(a,c,f){c=Zi(c,c.bin,f);f={};return new Na(a,(f[c.key]=c.binComponent,f))};Na.prototype.merge=function(a,c){for(var f=$jscomp.makeIterator(A(a.bins)),h=f.next();!h.done;h=f.next())h=h.value,h in this.bins?(c(a.bins[h].signal,this.bins[h].signal),this.bins[h].as=Ob([].concat($jscomp.arrayFromIterable(this.bins[h].as),$jscomp.arrayFromIterable(a.bins[h].as)),S)):this.bins[h]=a.bins[h];
c=$jscomp.makeIterator(a.children);for(f=c.next();!f.done;f=c.next())f=f.value,a.removeChild(f),f.parent=this;a.remove()};Na.prototype.producedFields=function(){return new Set(Ic(this.bins).map(function(a){return a.as}).flat(2))};Na.prototype.dependentFields=function(){return new Set(Ic(this.bins).map(function(a){return a.field}))};Na.prototype.hash=function(){return"Bin "+S(this.bins)};Na.prototype.assemble=function(){return Ic(this.bins).flatMap(function(a){var c=[],f=$jscomp.makeIterator(a.as),
h=f.next().value;f=$jscomp.arrayFromIterator(f);var e=a.bin,g=e.extent;e=z(e,["extent"]);e=Object.assign(Object.assign(Object.assign({type:"bin",field:xb(a.field),as:h,signal:a.signal},ec(g)?{extent:null}:{extent:g}),a.span?{span:{signal:"span("+a.span+")"}}:{}),e);!g&&a.extentSignal&&(c.push({type:"extent",field:xb(a.field),signal:a.extentSignal}),e.extent={signal:a.extentSignal});c.push(e);f=$jscomp.makeIterator(f);for(g=f.next();!g.done;g=f.next())for(g=g.value,e=0;2>e;e++)c.push({type:"formula",
expr:B({field:h[e]},{expr:"datum"}),as:g[e]});a.formula&&c.push({type:"formula",expr:a.formula,as:a.formulaAs});return c})};var db=function(a){var c=H.call(this,null)||this;a=null!==a&&void 0!==a?a:{name:"source"};var f;bd(a)||(f=a.format?Object.assign({},sa(a.format,["parse"])):{});if("values"in a)c._data={values:a.values};else if("url"in a){if(c._data={url:a.url},!f.type){var h=/(?:\.([^.]+))?$/.exec(a.url)[1];F(["json","csv","tsv","dsv","topojson"],h)||(h="json");f.type=h}}else if("sphere"in a)c._data=
{values:[{type:"Sphere"}]};else if(Lh(a)||bd(a))c._data={};c._generator=bd(a);a.name&&(c._name=a.name);f&&!ha(f)&&(c._data.format=f);return c};$jscomp.inherits(db,H);db.prototype.dependentFields=function(){return new Set};db.prototype.producedFields=function(){};db.prototype.hasName=function(){return!!this._name};db.prototype.remove=function(){throw Error("Source nodes are roots and cannot be removed.");};db.prototype.hash=function(){throw Error("Cannot hash sources");};db.prototype.assemble=function(){return Object.assign(Object.assign({name:this._name},
this._data),{transform:[]})};$jscomp.global.Object.defineProperties(db.prototype,{data:{configurable:!0,enumerable:!0,get:function(){return this._data}},isGenerator:{configurable:!0,enumerable:!0,get:function(){return this._generator}},dataName:{configurable:!0,enumerable:!0,get:function(){return this._name},set:function(a){this._name=a}},parent:{configurable:!0,enumerable:!0,set:function(a){throw Error("Source nodes have to be roots.");}}});var Yb=function(a,c){a=H.call(this,a)||this;a.params=c;
return a};$jscomp.inherits(Yb,H);Yb.prototype.clone=function(){return new Yb(null,this.params)};Yb.prototype.dependentFields=function(){return new Set};Yb.prototype.producedFields=function(){};Yb.prototype.hash=function(){return"Graticule "+S(this.params)};Yb.prototype.assemble=function(){return Object.assign({type:"graticule"},!0===this.params?{}:this.params)};var Zb=function(a,c){a=H.call(this,a)||this;a.params=c;return a};$jscomp.inherits(Zb,H);Zb.prototype.clone=function(){return new Zb(null,
this.params)};Zb.prototype.dependentFields=function(){return new Set};Zb.prototype.producedFields=function(){var a;return new Set([null!==(a=this.params.as)&&void 0!==a?a:"data"])};Zb.prototype.hash=function(){return"Hash "+S(this.params)};Zb.prototype.assemble=function(){return Object.assign({type:"sequence"},this.params)};var ee=function(){this._mutated=!1};ee.prototype.setMutated=function(){this._mutated=!0};$jscomp.global.Object.defineProperties(ee.prototype,{mutatedFlag:{configurable:!0,enumerable:!0,
get:function(){return this._mutated}}});var Ea=function(){this._continue=this._mutated=!1;return this};$jscomp.inherits(Ea,ee);Ea.prototype.setContinue=function(){this._continue=!0};Ea.prototype.reset=function(){};Ea.prototype.optimizeNextFromLeaves=function(a){if(We(a))return!1;var c=a.parent;this.run(a).continueFlag&&this.optimizeNextFromLeaves(c);return this.mutatedFlag};$jscomp.global.Object.defineProperties(Ea.prototype,{continueFlag:{configurable:!0,enumerable:!0,get:function(){return this._continue}},
flags:{configurable:!0,enumerable:!0,get:function(){return{continueFlag:this.continueFlag,mutatedFlag:this.mutatedFlag}},set:function(a){var c=a.mutatedFlag;a.continueFlag&&this.setContinue();c&&this.setMutated()}}});var ed=function(){return ee.apply(this,arguments)||this};$jscomp.inherits(ed,ee);var Ga=function(a,c,f){a=H.call(this,a)||this;a.dimensions=c;a.measures=f;return a};$jscomp.inherits(Ga,H);Ga.prototype.clone=function(){return new Ga(null,new Set(this.dimensions),T(this.measures))};Ga.makeFromEncoding=
function(a,c){var f=!1;c.forEachFieldDef(function(a){a.aggregate&&(f=!0)});var h={},e=new Set;if(!f)return null;c.forEachFieldDef(function(a,f){var g,n,k,l,r=a.aggregate,m=a.field;r?"count"===r?(h["*"]=null!==(g=h["*"])&&void 0!==g?g:{},h["*"].count=new Set([B(a,{forAs:!0})])):(jb(r)||Va(r)?(a=jb(r)?"argmin":"argmax",r=r[a],h[r]=null!==(n=h[r])&&void 0!==n?n:{},h[r][a]=new Set([B({op:a,field:r},{forAs:!0})])):(h[m]=null!==(k=h[m])&&void 0!==k?k:{},h[m][r]=new Set([B(a,{forAs:!0})])),ic[f]&&"unaggregated"===
c.scaleDomain(f)&&(h[m]=null!==(l=h[m])&&void 0!==l?l:{},h[m].min=new Set([B({field:m,aggregate:"min"},{forAs:!0})]),h[m].max=new Set([B({field:m,aggregate:"max"},{forAs:!0})]))):(n=wa(c)?c.encoding[ea(f)]:void 0,ab(a)&&wa(c)&&uf(f,a,n,c.stack,c.markDef,c.config)?(e.add(B(a,{})),e.add(B(a,{suffix:"end"})),a.bin&&Od(a,f)&&e.add(B(a,{binSuffix:"range"}))):f in Jg?(f=Ba(f),e.add(c.getName(f))):e.add(B(a)))});return 0===e.size+A(h).length?null:new Ga(a,e,h)};Ga.makeFromTransform=function(a,c){for(var f,
h,e,g=new Set,k={},l=$jscomp.makeIterator(c.aggregate),m=l.next();!m.done;m=l.next()){var t=m=m.value,q=t.op,p=t.field;t=t.as;q&&("count"===q?(k["*"]=null!==(f=k["*"])&&void 0!==f?f:{},k["*"].count=new Set([t?t:B(m,{forAs:!0})])):(k[p]=null!==(h=k[p])&&void 0!==h?h:{},k[p][q]=new Set([t?t:B(m,{forAs:!0})])))}c=$jscomp.makeIterator(null!==(e=c.groupby)&&void 0!==e?e:[]);for(m=c.next();!m.done;m=c.next())g.add(m.value);return 0===g.size+A(k).length?null:new Ga(a,g,k)};Ga.prototype.merge=function(a){a:{var c=
this.dimensions;var f=a.dimensions;if(c.size!==f.size)f=!1;else{c=$jscomp.makeIterator(c);for(var h=c.next();!h.done;h=c.next())if(!f.has(h.value)){f=!1;break a}f=!0}}if(f){f=this.measures;a=a.measures;var e;c=$jscomp.makeIterator(A(a));for(h=c.next();!h.done;h=c.next()){h=h.value;for(var g=a[h],k=$jscomp.makeIterator(A(g)),l=k.next();!l.done;l=k.next())if(l=l.value,h in f)f[h][l]=new Set([].concat($jscomp.arrayFromIterable(null!==(e=f[h][l])&&void 0!==e?e:[]),$jscomp.arrayFromIterable(g[l])));else{var m=
{};f[h]=(m[l]=g[l],m)}}return!0}lf("different dimensions, cannot merge");return!1};Ga.prototype.addDimensions=function(a){a.forEach(this.dimensions.add,this.dimensions)};Ga.prototype.dependentFields=function(){return new Set([].concat($jscomp.arrayFromIterable(this.dimensions),$jscomp.arrayFromIterable(A(this.measures))))};Ga.prototype.producedFields=function(){for(var a=new Set,c=$jscomp.makeIterator(A(this.measures)),f=c.next();!f.done;f=c.next()){f=f.value;for(var h=$jscomp.makeIterator(A(this.measures[f])),
e=h.next();!e.done;e=h.next()){e=e.value;var g=this.measures[f][e];0===g.size?a.add(e+"_"+f):g.forEach(a.add,a)}}return a};Ga.prototype.hash=function(){return"Aggregate "+S({dimensions:this.dimensions,measures:this.measures})};Ga.prototype.assemble=function(){for(var a=[],c=[],f=[],h=$jscomp.makeIterator(A(this.measures)),e=h.next();!e.done;e=h.next()){e=e.value;for(var g=$jscomp.makeIterator(A(this.measures[e])),k=g.next();!k.done;k=g.next()){k=k.value;for(var l=$jscomp.makeIterator(this.measures[e][k]),
m=l.next();!m.done;m=l.next())f.push(m.value),a.push(k),c.push("*"===e?null:xb(e))}}return{type:"aggregate",groupby:[].concat($jscomp.arrayFromIterable(this.dimensions)).map(xb),ops:a,fields:c,as:f}};$jscomp.global.Object.defineProperties(Ga.prototype,{groupBy:{configurable:!0,enumerable:!0,get:function(){return this.dimensions}}});var Ta=function(a,c,f,h){a=H.call(this,a)||this;a.model=c;a.name=f;a.data=h;f=$jscomp.makeIterator(tb);for(h=f.next();!h.done;h=f.next()){h=h.value;var e=c.facet[h];if(e){var g=
e,k=g.bin;g=g.sort;a[h]=Object.assign({name:c.getName(h+"_domain"),fields:[B(e)].concat($jscomp.arrayFromIterable(X(k)?[B(e,{binSuffix:"end"})]:[]))},Ub(g)?{sortField:g}:J(g)?{sortIndexField:xd(e,h)}:{})}}a.childModel=c.child;return a};$jscomp.inherits(Ta,H);Ta.prototype.hash=function(){for(var a="Facet",c=$jscomp.makeIterator(tb),f=c.next();!f.done;f=c.next())f=f.value,this[f]&&(a+=" "+f.charAt(0)+":"+S(this[f]));return a};Ta.prototype.dependentFields=function(){for(var a=new Set(this.fields),c=
$jscomp.makeIterator(tb),f=c.next();!f.done;f=c.next())f=f.value,this[f]&&(this[f].sortField&&a.add(this[f].sortField.field),this[f].sortIndexField&&a.add(this[f].sortIndexField));return a};Ta.prototype.producedFields=function(){return new Set};Ta.prototype.getSource=function(){return this.name};Ta.prototype.getChildIndependentFieldsWithStep=function(){for(var a={},c=$jscomp.makeIterator(sb),f=c.next();!f.done;f=c.next()){f=f.value;var h=this.childModel.component.scales[f];if(h&&!h.merged){var e=
h.get("type");h=h.get("range");e in $a&&Bb(h)&&(e=Ze(this.childModel,f),(e=wg(e))?a[f]=e:x("Unknown field for "+f+". Cannot calculate view size."))}}return a};Ta.prototype.assembleRowColumnHeaderData=function(a,c,f){var h={row:"y",column:"x"}[a],e=[],g=[],k=[];f&&f[h]&&(c?(e.push("distinct_"+f[h]),g.push("max")):(e.push(f[h]),g.push("distinct")),k.push("distinct_"+f[h]));h=this[a];f=h.sortField;h=h.sortIndexField;f?(h=void 0===f.op?"min":f.op,e.push(f.field),g.push(h),k.push(B(f,{forAs:!0}))):h&&
(e.push(h),g.push("max"),k.push(h));return{name:this[a].name,source:null!==c&&void 0!==c?c:this.data,transform:[Object.assign({type:"aggregate",groupby:this[a].fields},e.length?{fields:e,ops:g,as:k}:{})]}};Ta.prototype.assembleFacetHeaderData=function(a){for(var c,f,h=this.model.layout.columns,e=this.model.component.layoutHeaders,g=[],k={},l=$jscomp.makeIterator(Ng),m=l.next();!m.done;m=l.next()){m=m.value;for(var t=$jscomp.makeIterator(cg),q=t.next();!q.done;q=t.next()){q=q.value;q=null!==(c=e[m]&&
e[m][q])&&void 0!==c?c:[];q=$jscomp.makeIterator(q);for(var p=q.next();!p.done;p=q.next())if(0<(null===(f=p.value.axes)||void 0===f?void 0:f.length)){k[m]=!0;break}}k[m]&&(t='length(data("'+this.facet.name+'"))',g.push({name:this.facet.name+"_"+m,transform:[{type:"sequence",start:0,stop:"row"===m?h?{signal:"ceil("+t+" / "+h+")"}:1:h?{signal:"min("+t+", "+h+")"}:{signal:t}}]}))}c=k.column;(k.row||c)&&g.unshift(this.assembleRowColumnHeaderData("facet",null,a));return g};Ta.prototype.assemble=function(){var a,
c,f=[],h=null,e=this.getChildIndependentFieldsWithStep(),g=this.row,k=this.facet;this.column&&g&&(e.x||e.y)&&(h="cross_"+this.column.name+"_"+this.row.name,g=[].concat(null!==(a=e.x)&&void 0!==a?a:[],null!==(c=e.y)&&void 0!==c?c:[]),a=g.map(function(){return"distinct"}),f.push({name:h,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:g,ops:a}]}));a=$jscomp.makeIterator(["column","row"]);for(c=a.next();!c.done;c=a.next())c=c.value,this[c]&&f.push(this.assembleRowColumnHeaderData(c,
h,e));k&&(h=this.assembleFacetHeaderData(e))&&f.push.apply(f,$jscomp.arrayFromIterable(h));return f};$jscomp.global.Object.defineProperties(Ta.prototype,{fields:{configurable:!0,enumerable:!0,get:function(){for(var a,c=[],f=$jscomp.makeIterator(tb),h=f.next();!h.done;h=f.next())h=h.value,(null===(a=this[h])||void 0===a?0:a.fields)&&c.push.apply(c,$jscomp.arrayFromIterable(this[h].fields));return c}}});var pa=function(a,c){a=H.call(this,a)||this;a._parse=c;return a};$jscomp.inherits(pa,H);pa.prototype.clone=
function(){return new pa(null,T(this._parse))};pa.prototype.hash=function(){return"Parse "+S(this._parse)};pa.makeExplicit=function(a,c,f){var h={};c=c.data;!bd(c)&&c&&c.format&&c.format.parse&&(h=c.format.parse);return this.makeWithAncestors(a,h,{},f)};pa.makeWithAncestors=function(a,c,f,h){for(var e=$jscomp.makeIterator(A(f)),g=e.next();!g.done;g=e.next()){g=g.value;var k=h.getWithExplicit(g);void 0!==k.value&&(k.explicit||k.value===f[g]||"derived"===k.value||"flatten"===f[g]?delete f[g]:x(ua(g,
f[g],k.value)))}e=$jscomp.makeIterator(A(c));for(g=e.next();!g.done;g=e.next())g=g.value,k=h.get(g),void 0!==k&&(k===c[g]?delete c[g]:x(ua(g,c[g],k)));c=new za(c,f);h.copyAll(c);f={};e=$jscomp.makeIterator(A(c.combine()));for(g=e.next();!g.done;g=e.next())g=g.value,k=c.get(g),null!==k&&(f[g]=k);return 0===A(f).length||h.parseNothing?null:new pa(a,f)};pa.prototype.merge=function(a){this._parse=Object.assign(Object.assign({},this._parse),a.parse);a.remove()};pa.prototype.assembleFormatParse=function(){for(var a=
{},c=$jscomp.makeIterator(A(this._parse)),f=c.next();!f.done;f=c.next()){f=f.value;var h=this._parse[f];1===Ka(f)&&(a[f]=h)}return a};pa.prototype.producedFields=function(){return new Set(A(this._parse))};pa.prototype.dependentFields=function(){return new Set(A(this._parse))};pa.prototype.assembleTransforms=function(a){var c=this;a=void 0===a?!1:a;return A(this._parse).filter(function(c){return a?1<Ka(c):!0}).map(function(a){var f=xl(a,c._parse[a]);return f?{type:"formula",expr:f,as:""+ja(a).join(".")}:
null}).filter(function(a){return null!==a})};$jscomp.global.Object.defineProperties(pa.prototype,{parse:{configurable:!0,enumerable:!0,get:function(){return this._parse}}});var ib=function(a){return H.call(this,a)||this};$jscomp.inherits(ib,H);ib.prototype.clone=function(){return new ib(null)};ib.prototype.dependentFields=function(){return new Set};ib.prototype.producedFields=function(){return new Set(["_vgsid_"])};ib.prototype.hash=function(){return"Identifier"};ib.prototype.assemble=function(){return{type:"identifier",
as:"_vgsid_"}};var eb=function(a,c){a=H.call(this,a)||this;a.transform=c;return a};$jscomp.inherits(eb,H);eb.prototype.clone=function(){return new eb(null,T(this.transform))};eb.prototype.addDimensions=function(a){this.transform.groupby=Ob(this.transform.groupby.concat(a),function(a){return a})};eb.prototype.dependentFields=function(){var a=new Set;this.transform.groupby&&this.transform.groupby.forEach(a.add,a);this.transform.joinaggregate.map(function(a){return a.field}).filter(function(a){return void 0!==
a}).forEach(a.add,a);return a};eb.prototype.producedFields=function(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))};eb.prototype.getDefaultName=function(a){var c;return null!==(c=a.as)&&void 0!==c?c:B(a)};eb.prototype.hash=function(){return"JoinAggregateTransform "+S(this.transform)};eb.prototype.assemble=function(){for(var a=[],c=[],f=[],h=$jscomp.makeIterator(this.transform.joinaggregate),e=h.next();!e.done;e=h.next())e=e.value,c.push(e.op),f.push(this.getDefaultName(e)),
a.push(void 0===e.field?null:e.field);h=this.transform.groupby;return Object.assign({type:"joinaggregate",as:f,ops:c,fields:a},void 0!==h?{groupby:h}:{})};var Ja=function(a,c){a=H.call(this,a)||this;a._stack=c;return a};$jscomp.inherits(Ja,H);Ja.prototype.clone=function(){return new Ja(null,T(this._stack))};Ja.makeFromTransform=function(a,c){var f=c.stack,h=c.groupby,e=c.as,g=void 0===c.offset?"zero":c.offset,k=[],l=[];if(void 0!==c.sort)for(var m=$jscomp.makeIterator(c.sort),t=m.next();!t.done;t=
m.next())t=t.value,k.push(t.field),l.push(na(t.order,"ascending"));k={field:k,order:l};c=Bl(e)?e:L(e)?[e,e+"_end"]:[c.stack+"_start",c.stack+"_end"];return new Ja(a,{stackField:f,groupby:h,offset:g,sort:k,facetby:[],as:c})};Ja.makeFromEncoding=function(a,c){var f=c.stack,h=c.encoding;if(!f)return null;var e=f.groupbyChannel,g=f.fieldChannel,k=f.offset;f=f.impute;var l;e&&(l=Wb(h[e]));h=Al(c);e=c.encoding.order;e=J(e)||D(e)?ch(e):h.reduce(function(a,c){a.field.push(c);a.order.push("y"===g?"descending":
"ascending");return a},{field:[],order:[]});return new Ja(a,{dimensionFieldDef:l,stackField:c.vgField(g),facetby:[],stackby:h,sort:e,offset:k,impute:f,as:[c.vgField(g,{suffix:"start",forAs:!0}),c.vgField(g,{suffix:"end",forAs:!0})]})};Ja.prototype.addDimensions=function(a){this._stack.facetby.push.apply(this._stack.facetby,$jscomp.arrayFromIterable(a))};Ja.prototype.dependentFields=function(){var a=new Set;a.add(this._stack.stackField);this.getGroupbyFields().forEach(a.add,a);this._stack.facetby.forEach(a.add,
a);this._stack.sort.field.forEach(a.add,a);return a};Ja.prototype.producedFields=function(){return new Set(this._stack.as)};Ja.prototype.hash=function(){return"Stack "+S(this._stack)};Ja.prototype.getGroupbyFields=function(){var a=this._stack,c=a.dimensionFieldDef,f=a.impute;a=a.groupby;return c?c.bin?f?[B(c,{binSuffix:"mid"})]:[B(c,{}),B(c,{binSuffix:"end"})]:[B(c)]:null!==a&&void 0!==a?a:[]};Ja.prototype.assemble=function(){var a=[],c=this._stack,f=c.facetby,h=c.dimensionFieldDef,e=c.stackField,
g=c.stackby,k=c.sort,l=c.offset,m=c.as;c.impute&&h&&(c=void 0===h.band?.5:h.band,h.bin&&a.push({type:"formula",expr:c+"*"+B(h,{expr:"datum"})+("+"+(1-c)+"*")+B(h,{expr:"datum",binSuffix:"end"}),as:B(h,{binSuffix:"mid",forAs:!0})}),a.push({type:"impute",field:e,groupby:[].concat($jscomp.arrayFromIterable(g),$jscomp.arrayFromIterable(f)),key:B(h,{binSuffix:"mid"}),method:"value",value:0}));a.push({type:"stack",groupby:[].concat($jscomp.arrayFromIterable(this.getGroupbyFields()),$jscomp.arrayFromIterable(f)),
field:e,sort:k,as:m,offset:l});return a};$jscomp.global.Object.defineProperties(Ja.prototype,{stack:{configurable:!0,enumerable:!0,get:function(){return this._stack}}});var gb=function(a,c){a=H.call(this,a)||this;a.transform=c;return a};$jscomp.inherits(gb,H);gb.prototype.clone=function(){return new gb(null,T(this.transform))};gb.prototype.addDimensions=function(a){this.transform.groupby=Ob(this.transform.groupby.concat(a),function(a){return a})};gb.prototype.dependentFields=function(){var a,c,f=
new Set;(null!==(a=this.transform.groupby)&&void 0!==a?a:[]).forEach(f.add,f);(null!==(c=this.transform.sort)&&void 0!==c?c:[]).forEach(function(a){return f.add(a.field)});this.transform.window.map(function(a){return a.field}).filter(function(a){return void 0!==a}).forEach(f.add,f);return f};gb.prototype.producedFields=function(){return new Set(this.transform.window.map(this.getDefaultName))};gb.prototype.getDefaultName=function(a){var c;return null!==(c=a.as)&&void 0!==c?c:B(a)};gb.prototype.hash=
function(){return"WindowTransform "+S(this.transform)};gb.prototype.assemble=function(){for(var a,c=[],f=[],h=[],e=[],g=$jscomp.makeIterator(this.transform.window),k=g.next();!k.done;k=g.next())k=k.value,f.push(k.op),h.push(this.getDefaultName(k)),e.push(void 0===k.param?null:k.param),c.push(void 0===k.field?null:k.field);g=this.transform.frame;k=this.transform.groupby;if(g&&null===g[0]&&null===g[1]&&f.every(function(a){return Q(a)}))return Object.assign({type:"joinaggregate",as:h,ops:f,fields:c},
void 0!==k?{groupby:k}:{});var l=[],m=[];if(void 0!==this.transform.sort)for(var t=$jscomp.makeIterator(this.transform.sort),q=t.next();!q.done;q=t.next())q=q.value,l.push(q.field),m.push(null!==(a=q.order)&&void 0!==a?a:"ascending");a=this.transform.ignorePeers;return Object.assign(Object.assign(Object.assign({type:"window",params:e,as:h,ops:f,fields:c,sort:{field:l,order:m}},void 0!==a?{ignorePeers:a}:{}),void 0!==k?{groupby:k}:{}),void 0!==g?{frame:g}:{})};var ng=function(){return Ea.apply(this,
arguments)||this};$jscomp.inherits(ng,Ea);ng.prototype.run=function(a){var c=a.parent;if(a instanceof pa){if(We(c))return this.flags;if(1<c.numChildren())return this.setContinue(),this.flags;if(c instanceof pa)this.setMutated(),c.merge(a);else{if(Fd(c.producedFields(),a.dependentFields()))return this.setContinue(),this.flags;this.setMutated();a.swapWithParent()}}this.setContinue();return this.flags};var Ye=function(){return ed.apply(this,arguments)||this};$jscomp.inherits(Ye,ed);Ye.prototype.mergeNodes=
function(a,c){var f=c.shift();c=$jscomp.makeIterator(c);for(var h=c.next();!h.done;h=c.next())h=h.value,a.removeChild(h),h.parent=f,h.remove()};Ye.prototype.run=function(a){for(var c=a.children.map(function(a){return a.hash()}),f={},h=0;h<c.length;h++)void 0===f[c[h]]?f[c[h]]=[a.children[h]]:f[c[h]].push(a.children[h]);c=$jscomp.makeIterator(A(f));for(h=c.next();!h.done;h=c.next())h=h.value,1<f[h].length&&(this.setMutated(),this.mergeNodes(a,f[h]));a=$jscomp.makeIterator(a.children);for(f=a.next();!f.done;f=
a.next())this.run(f.value);return this.mutatedFlag};var mg=function(){return Ea.apply(this,arguments)||this};$jscomp.inherits(mg,Ea);mg.prototype.run=function(a){a instanceof ya||0<a.numChildren()||a instanceof Ta||(this.setMutated(),a.remove());return this.flags};var Xe=function(){var a=Ea.apply(this,arguments)||this;a.fields=new Set;a.prev=null;return a};$jscomp.inherits(Xe,Ea);Xe.prototype.run=function(a){this.setContinue();if(a instanceof Oa){var c=a.producedFields();Ed(c,this.fields)?(this.setMutated(),
this.prev.remove()):this.fields=new Set([].concat($jscomp.arrayFromIterable(this.fields),$jscomp.arrayFromIterable(c)));this.prev=a}return this.flags};Xe.prototype.reset=function(){this.fields.clear()};var rg=function(){return Ea.apply(this,arguments)||this};$jscomp.inherits(rg,Ea);rg.prototype.run=function(a){this.setContinue();var c=a.parent.children.filter(function(a){return a instanceof Oa});a=c.pop();c=$jscomp.makeIterator(c);for(var f=c.next();!f.done;f=c.next())f=f.value,this.setMutated(),
a.merge(f);return this.flags};var kg=function(){return ed.call(this)||this};$jscomp.inherits(kg,ed);kg.prototype.run=function(a){a instanceof ya&&!a.isRequired()&&(this.setMutated(),a.remove());a=$jscomp.makeIterator(a.children);for(var c=a.next();!c.done;c=a.next())this.run(c.value);return this.mutatedFlag};var lg=function(a){var c=ed.call(this)||this;c.requiresSelectionId=a&&Tf(a);return c};$jscomp.inherits(lg,ed);lg.prototype.run=function(a){!(a instanceof ib)||this.requiresSelectionId&&(We(a.parent)||
a.parent instanceof Ga||a.parent instanceof pa)||(this.setMutated(),a.remove());a=$jscomp.makeIterator(a.children);for(var c=a.next();!c.done;c=a.next())this.run(c.value);return this.mutatedFlag};var pg=function(){return Ea.apply(this,arguments)||this};$jscomp.inherits(pg,Ea);pg.prototype.run=function(a){a=a.parent;var c=[].concat($jscomp.arrayFromIterable(a.children)),f=a.children.filter(function(a){return a instanceof pa});if(1<a.numChildren()&&1<=f.length){var h={},e=new Set;f=$jscomp.makeIterator(f);
for(var g=f.next();!g.done;g=f.next()){g=g.value.parse;for(var k=$jscomp.makeIterator(A(g)),l=k.next();!l.done;l=k.next())l=l.value,l in h?h[l]!==g[l]&&e.add(l):h[l]=g[l]}e=$jscomp.makeIterator(e);for(f=e.next();!f.done;f=e.next())delete h[f.value];if(!ha(h))for(this.setMutated(),e=new pa(a,h),c=$jscomp.makeIterator(c),f=c.next();!f.done;f=c.next()){f=f.value;if(f instanceof pa)for(g=$jscomp.makeIterator(A(h)),k=g.next();!k.done;k=g.next())delete f.parse[k.value];a.removeChild(f);f.parent=e;f instanceof
pa&&0===A(f.parse).length&&f.remove()}}this.setContinue();return this.flags};var qg=function(){return Ea.apply(this,arguments)||this};$jscomp.inherits(qg,Ea);qg.prototype.run=function(a){a=a.parent;var c=a.children.filter(function(a){return a instanceof Ga}),f={};c=$jscomp.makeIterator(c);for(var h=c.next();!h.done;h=c.next()){var e=h.value;h=S(e.groupBy);h in f||(f[h]=[]);f[h].push(e)}c=$jscomp.makeIterator(A(f));for(e=c.next();!e.done;e=c.next())if(h=f[e.value],1<h.length){e=h.pop();var g=$jscomp.makeIterator(h);
for(h=g.next();!h.done;h=g.next())h=h.value,e.merge(h)&&(a.removeChild(h),h.parent=e,h.remove(),this.setMutated())}this.setContinue();return this.flags};var og=function(a){var c=Ea.call(this)||this;c.model=a;return c};$jscomp.inherits(og,Ea);og.prototype.run=function(a){var c=a.parent,f=!(We(c)||c instanceof Hb||c instanceof pa||c instanceof ib),h=[];a=[];for(var e=$jscomp.makeIterator(c.children),g=e.next();!g.done;g=e.next())g=g.value,g instanceof Na&&(f&&!Fd(c.producedFields(),g.dependentFields())?
h.push(g):a.push(g));if(0<h.length){f=h.pop();e=$jscomp.makeIterator(h);for(h=e.next();!h.done;h=e.next())f.merge(h.value,this.model.renameSignal.bind(this.model));this.setMutated();c instanceof Na?c.merge(f,this.model.renameSignal.bind(this.model)):f.swapWithParent()}if(1<a.length){c=a.pop();a=$jscomp.makeIterator(a);for(h=a.next();!h.done;h=a.next())c.merge(h.value,this.model.renameSignal.bind(this.model));this.setMutated()}this.setContinue();return this.flags};var sg=function(){return Ea.apply(this,
arguments)||this};$jscomp.inherits(sg,Ea);sg.prototype.run=function(a){a=a.parent;var c=[].concat($jscomp.arrayFromIterable(a.children));if(!yc(c,function(a){return a instanceof ya})||1>=a.numChildren())return this.setContinue(),this.flags;var f=[];c=$jscomp.makeIterator(c);for(var h=c.next();!h.done;h=c.next())if(h=h.value,h instanceof ya){for(var e=h;1===e.numChildren();){var g=e.children[0];if(g instanceof ya)e=g;else break}f.push.apply(f,$jscomp.arrayFromIterable(e.children));if(k)a.removeChild(h),
h.parent=k.parent,k.parent.removeChild(k),k.parent=e,this.setMutated();else var k=e}else f.push(h);if(f.length)for(this.setMutated(),a=$jscomp.makeIterator(f),h=a.next();!h.done;h=a.next())f=h.value,f.parent.removeChild(f),f.parent=k;this.setContinue();return this.flags};var hb=function(a){Object.defineProperty(this,"signal",{enumerable:!0,get:a})};hb.fromName=function(a,c){return new hb(function(){return a(c)})};var $e=function(a,c){a=za.call(this,{},{name:a})||this;a.merged=!1;a.setWithExplicit("type",
c);return a};$jscomp.inherits($e,za);$e.prototype.domainDefinitelyIncludesZero=function(){return!1!==this.get("zero")?!0:yc(this.get("domains"),function(a){return J(a)&&2===a.length&&0>=a[0]&&0<=a[1]})};var Kl=["range","scheme"],mj={bins:function(a){var c=a.model;a=a.fieldOrDatumDef;return D(a)?Ql(c,a):void 0},interpolate:function(a){var c=a.fieldOrDatumDef.type;a=F(["color","fill","stroke"],a.channel)&&"nominal"!==c?"hcl":void 0;return a},nice:function(a){var c=a.scaleType,f=a.channel,h;a=(null===
(h=Wb(a.fieldOrDatumDef))||void 0===h?0:h.bin)||F([Ha.TIME,Ha.UTC],c)?void 0:f in Pa?!0:void 0;return a},padding:function(a){var c=a.config;a:{var f=a.channel;var h=a.scaleType,e=c.scale,g=a.fieldOrDatumDef;a=a.markDef;c=c.bar;if(f in Pa){if(h in Db){if(void 0!==e.continuousPadding){f=e.continuousPadding;break a}var k=a.orient;if("bar"===a.type&&(!D(g)||!g.bin&&!g.timeUnit)&&("vertical"===k&&"x"===f||"horizontal"===k&&"y"===f)){f=c.continuousBandSize;break a}}if(h===Ha.POINT){f=e.pointPadding;break a}}f=
void 0}return f},paddingInner:function(a){var c=a.channel,f=a.markDef,h=a.config;void 0!==a.scalePadding?f=void 0:c in Pa?(a=h.scale,c=a.barBandPaddingInner,h=a.rectBandPaddingInner,f=na(a.bandPaddingInner,"bar"===f.type?c:h)):f=void 0;return f},paddingOuter:function(a){var c=a.channel,f=a.scaleType,h=a.config;var e=a.scalePaddingInner;a=void 0!==a.scalePadding?void 0:c in Pa&&f===Ha.BAND?na(h.scale.bandPaddingOuter,C(e)?{signal:e.signal+"/2"}:e/2):void 0;return a},reverse:function(a){var c=a.fieldOrDatumDef,
f=a.scaleType,h=a.channel;a=a.config;c=D(c)?c.sort:void 0;a=a.scale;f="x"===h&&void 0!==a.xReverse?f in nb&&"descending"===c?C(a.xReverse)?{signal:"!"+a.xReverse.signal}:!a.xReverse:a.xReverse:f in nb&&"descending"===c?!0:void 0;return f},zero:function(a){a:{var c=a.channel;var f=a.fieldOrDatumDef,h=a.domain,e=a.markDef;a=a.scaleType;if(h&&"unaggregated"!==h&&a in nb){if(J(h)&&(c=h[h.length-1],0>=h[0]&&0<=c)){c=!0;break a}c=!1}else"size"!==c||"quantitative"!==f.type||a in ue?D(f)&&f.bin||!F([].concat($jscomp.arrayFromIterable(sb),
$jscomp.arrayFromIterable(um)),c)?c=!1:(h=e.orient,c=F(["bar","area","line","trail"],e.type)&&("horizontal"===h&&"y"===c||"vertical"===h&&"x"===c)?!1:!0):c=!0}return c}},Tl=Kh(function(a,c){return Gj[a]-Gj[c]}),Bd=function(){this.nameMap={}};Bd.prototype.rename=function(a,c){this.nameMap[a]=c};Bd.prototype.has=function(a){return void 0!==this.nameMap[a]};Bd.prototype.get=function(a){for(;this.nameMap[a]&&a!==this.nameMap[a];)a=this.nameMap[a];return a};var V=function(a,c,f,h,e,g,k){var l=this,n,m;
this.type=c;this.parent=f;this.config=e;this.view=k;this.children=[];this.correctDataNames=function(a){a.from&&a.from.data&&(a.from.data=l.lookupDataSource(a.from.data));a.from&&a.from.facet&&a.from.facet.data&&(a.from.facet.data=l.lookupDataSource(a.from.facet.data));return a};this.parent=f;this.config=e;this.name=null!==(n=a.name)&&void 0!==n?n:h;this.title=bb(a.title)?{text:a.title}:a.title;this.scaleNameMap=f?f.scaleNameMap:new Bd;this.projectionNameMap=f?f.projectionNameMap:new Bd;this.signalNameMap=
f?f.signalNameMap:new Bd;this.data=a.data;this.description=a.description;this.transforms=tk(null!==(m=a.transform)&&void 0!==m?m:[]);this.layout="layer"===c||"unit"===c?{}:bk(a,c,e);this.component={data:{sources:f?f.component.data.sources:[],outputNodes:f?f.component.data.outputNodes:{},outputNodeRefCounts:f?f.component.data.outputNodeRefCounts:{},isFaceted:"facet"in a||f&&f.component.data.isFaceted&&void 0===a.data},layoutSize:new za,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({scale:{},
axis:{},legend:{}},g?T(g):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}};V.prototype.parse=function(){this.parseScale();this.parseLayoutSize();this.renameTopLevelLayoutSizeSignal();this.parseSelections();this.parseProjection();this.parseData();this.parseAxesAndHeaders();this.parseLegends();this.parseMarkGroup()};V.prototype.parseScale=function(){var a={}.ignoreRange;pj(this);wa(this)?cj(this):ej(this);for(var c=$jscomp.makeIterator(Am),f=c.next();!f.done;f=c.next())lj(this,f.value);
a||oj(this)};V.prototype.parseProjection=function(){this.component.projection=wa(this)?Xi(this):Yi(this)};V.prototype.renameTopLevelLayoutSizeSignal=function(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width");"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")};V.prototype.parseLegends=function(){Ni(this)};V.prototype.assembleGroupStyle=function(){var a,c;if("unit"===this.type||"layer"===this.type)return null!==(c=null===(a=this.view)||
void 0===a?void 0:a.style)&&void 0!==c?c:"cell"};V.prototype.assembleEncodeFromView=function(a){a=z(a,["style"]);for(var c={},f=$jscomp.makeIterator(A(a)),e=f.next();!e.done;e=f.next()){e=e.value;var g=a[e];void 0!==g&&(c[e]=Fa(g))}return c};V.prototype.assembleGroupEncodeEntry=function(a){var c={};this.view&&(c=this.assembleEncodeFromView(this.view));return a||(this.description&&(c.description=Fa(this.description)),"unit"!==this.type&&"layer"!==this.type)?ha(c)?void 0:c:Object.assign({width:this.getSizeSignalRef("width"),
height:this.getSizeSignalRef("height")},null!==c&&void 0!==c?c:{})};V.prototype.assembleLayout=function(){if(this.layout){var a=this.layout,c=a.spacing;a=z(a,["spacing"]);for(var f=this.config,e=this.component.layoutHeaders,g={},k=$jscomp.makeIterator(tb),l=k.next();!l.done;l=k.next()){l=l.value;var m=e[l];if(null===m||void 0===m?0:m.facetFieldDef){var t=Te(["titleAnchor","titleOrient"],m.facetFieldDef,f,l);m=t.titleAnchor;l=Se(l,t.titleOrient);m=Fm[l][m];void 0!==m&&(g[l]=m)}}f=ha(g)?void 0:g;return Object.assign(Object.assign(Object.assign({padding:c},
this.assembleDefaultLayout()),a),f?{titleBand:f}:{})}};V.prototype.assembleDefaultLayout=function(){return{}};V.prototype.assembleHeaderMarks=function(){for(var a=this.component.layoutHeaders,c=[],f=$jscomp.makeIterator(tb),e=f.next();!e.done;e=f.next())e=e.value,a[e].title&&c.push(ml(this,e));a=$jscomp.makeIterator(Ng);for(e=a.next();!e.done;e=a.next())c=c.concat(ol(this,e.value));return c};V.prototype.assembleAxes=function(){return hl(this.component.axes,this.config)};V.prototype.assembleLegends=
function(){return Vi(this)};V.prototype.assembleProjections=function(){var a=vd(this)||xg(this)?tl(this):Wi(this);return a};V.prototype.assembleTitle=function(){var a,c,f,e=null!==(a=this.title)&&void 0!==a?a:{};a=e.encoding;e=z(e,["encoding"]);e=Object.assign(Object.assign(Object.assign({},$g(this.config.title).nonMark),e),a?{encode:{update:a}}:{});if(e.text)return F(["unit","layer"],this.type)?F(["middle",void 0],e.anchor)&&(e.frame=null!==(c=e.frame)&&void 0!==c?c:"group"):e.anchor=null!==(f=e.anchor)&&
void 0!==f?f:"start",ha(e)?void 0:e};V.prototype.assembleGroup=function(a){a=void 0===a?[]:a;var c={};a=a.concat(this.assembleSignals());0<a.length&&(c.signals=a);if(a=this.assembleLayout())c.layout=a;c.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());a=!this.parent||Fb(this.parent)?fj(this):[];0<a.length&&(c.scales=a);a=this.assembleAxes();0<a.length&&(c.axes=a);a=this.assembleLegends();0<a.length&&(c.legends=a);return c};V.prototype.getName=function(a){return aa((this.name?this.name+
"_":"")+a)};V.prototype.requestDataName=function(a){var c;a=this.getName(a);var f=this.component.data.outputNodeRefCounts;f[a]=(null!==(c=f[a])&&void 0!==c?c:0)+1;return a};V.prototype.getSizeSignalRef=function(a){if(Fb(this.parent)){var c=Ii(a),f=Oc(c);if((c=this.component.scales[f])&&!c.merged){var e=c.get("type"),g=c.get("range");if(e in $a&&Bb(g)){a=c.get("name");e=Ze(this,f);if(e=wg(e))return f=B({aggregate:"distinct",field:e},{expr:"datum"}),{signal:Hi(a,c,f)};x("Unknown field for "+f+". Cannot calculate view size.");
return null}}}return{signal:this.signalNameMap.get(this.getName(a))}};V.prototype.lookupDataSource=function(a){var c=this.component.data.outputNodes[a];return c?c.getSource():a};V.prototype.getSignalName=function(a){return this.signalNameMap.get(a)};V.prototype.renameSignal=function(a,c){this.signalNameMap.rename(a,c)};V.prototype.renameScale=function(a,c){this.scaleNameMap.rename(a,c)};V.prototype.renameProjection=function(a,c){this.projectionNameMap.rename(a,c)};V.prototype.scaleName=function(a,
c){if(c)return this.getName(a);if(Ce[a]&&ic[a]&&this.component.scales[a]||this.scaleNameMap.has(this.getName(a)))return this.scaleNameMap.get(this.getName(a))};V.prototype.projectionName=function(a){if(a)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))};V.prototype.getScaleComponent=function(a){if(!this.component.scales)throw Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");
var c=this.component.scales[a];return c&&!c.merged?c:this.parent?this.parent.getScaleComponent(a):void 0};V.prototype.getSelectionComponent=function(a,c){var f=this.component.selection[a];!f&&this.parent&&(f=this.parent.getSelectionComponent(a,c));if(!f)throw Error('Cannot find a selection named "'+c+'".');return f};V.prototype.hasAxisOrientSignalRef=function(){var a,c;return(null===(a=this.component.axes.x)||void 0===a?void 0:a.some(function(a){return a.hasOrientSignalRef()}))||(null===(c=this.component.axes.y)||
void 0===c?void 0:c.some(function(a){return a.hasOrientSignalRef()}))};$jscomp.global.Object.defineProperties(V.prototype,{width:{configurable:!0,enumerable:!0,get:function(){return this.getSizeSignalRef("width")}},height:{configurable:!0,enumerable:!0,get:function(){return this.getSizeSignalRef("height")}}});var ac=function(){return V.apply(this,arguments)||this};$jscomp.inherits(ac,V);ac.prototype.vgField=function(a,c){c=void 0===c?{}:c;if(a=this.fieldDef(a))return B(a,c)};ac.prototype.reduceFieldDef=
function(a,c){return hh(this.getMapping(),function(c,e,g){return(e=Wb(e))?a(c,e,g):c},c)};ac.prototype.forEachFieldDef=function(a,c){Df(this.getMapping(),function(c,e){(c=Wb(c))&&a(c,e)},c)};var pc=function(a,c){var f,e,g;a=H.call(this,a)||this;a.transform=c;a.transform=T(c);c=null!==(f=a.transform.as)&&void 0!==f?f:[void 0,void 0];a.transform.as=[null!==(e=c[0])&&void 0!==e?e:"value",null!==(g=c[1])&&void 0!==g?g:"density"];return a};$jscomp.inherits(pc,H);pc.prototype.clone=function(){return new pc(null,
T(this.transform))};pc.prototype.dependentFields=function(){var a;return new Set([this.transform.density].concat($jscomp.arrayFromIterable(null!==(a=this.transform.groupby)&&void 0!==a?a:[])))};pc.prototype.producedFields=function(){return new Set(this.transform.as)};pc.prototype.hash=function(){return"DensityTransform "+S(this.transform)};pc.prototype.assemble=function(){var a=this.transform,c=a.density;a=z(a,["density"]);return Object.assign({type:"kde",field:c},a)};var Jb=function(a,c){a=H.call(this,
a)||this;a.filter=c;return a};$jscomp.inherits(Jb,H);Jb.prototype.clone=function(){return new Jb(null,Object.assign({},this.filter))};Jb.make=function(a,c){var f=c.mark;if("filter"!==ca("invalid",c.markDef,c.config))return null;var e=c.reduceFieldDef(function(a,e,h){(h=!!ic[h]&&c.getScaleComponent(h))&&h.get("type")in nb&&"count"!==e.aggregate&&!bc(f)&&(a[e.field]=e);return a},{});return A(e).length?new Jb(a,e):null};Jb.prototype.dependentFields=function(){return new Set(A(this.filter))};Jb.prototype.producedFields=
function(){return new Set};Jb.prototype.hash=function(){return"FilterInvalid "+S(this.filter)};Jb.prototype.assemble=function(){var a=this,c=A(this.filter).reduce(function(c,e){e=a.filter[e];var f=B(e,{expr:"datum"});null!==e&&("temporal"===e.type?c.push("(isDate("+f+") || (isValid("+f+") \x26\x26 isFinite(+"+f+")))"):"quantitative"===e.type&&(c.push("isValid("+f+")"),c.push("isFinite(+"+f+")")));return c},[]);return 0<c.length?{type:"filter",expr:c.join(" \x26\x26 ")}:null};var oc=function(a,c){a=
H.call(this,a)||this;a.transform=c;a.transform=T(c);c=a.transform;var f=void 0===c.as?[]:c.as;a.transform.as=c.flatten.map(function(a,c){var e;return null!==(e=f[c])&&void 0!==e?e:a});return a};$jscomp.inherits(oc,H);oc.prototype.clone=function(){return new oc(this.parent,T(this.transform))};oc.prototype.dependentFields=function(){return new Set(this.transform.flatten)};oc.prototype.producedFields=function(){return new Set(this.transform.as)};oc.prototype.hash=function(){return"FlattenTransform "+
S(this.transform)};oc.prototype.assemble=function(){var a=this.transform;return{type:"flatten",fields:a.flatten,as:a.as}};var nc=function(a,c){var f,e,g;a=H.call(this,a)||this;a.transform=c;a.transform=T(c);c=null!==(f=a.transform.as)&&void 0!==f?f:[void 0,void 0];a.transform.as=[null!==(e=c[0])&&void 0!==e?e:"key",null!==(g=c[1])&&void 0!==g?g:"value"];return a};$jscomp.inherits(nc,H);nc.prototype.clone=function(){return new nc(null,T(this.transform))};nc.prototype.dependentFields=function(){return new Set(this.transform.fold)};
nc.prototype.producedFields=function(){return new Set(this.transform.as)};nc.prototype.hash=function(){return"FoldTransform "+S(this.transform)};nc.prototype.assemble=function(){var a=this.transform;return{type:"fold",fields:a.fold,as:a.as}};var vb=function(a,c,f,e){a=H.call(this,a)||this;a.fields=c;a.geojson=f;a.signal=e;return a};$jscomp.inherits(vb,H);vb.prototype.clone=function(){return new vb(null,T(this.fields),this.geojson,this.signal)};vb.parseAll=function(a,c){if(c.component.projection&&
!c.component.projection.isFit)return a;for(var f=0,e=$jscomp.makeIterator([["longitude","latitude"],["longitude2","latitude2"]]),g=e.next();!g.done;g=e.next())if(g=g.value.map(function(a){a=ma(c.encoding[a]);return D(a)?a.field:Dc(a)?{expr:""+a.datum}:kc(a)?{expr:""+a.value}:void 0}),g[0]||g[1])a=new vb(a,g,null,c.getName("geojson_"+f++));c.channelHasField("shape")&&(e=c.typedFieldDef("shape"),e.type===rd&&(a=new vb(a,null,e.field,c.getName("geojson_"+f++))));return a};vb.prototype.dependentFields=
function(){var a,c=(null!==(a=this.fields)&&void 0!==a?a:[]).filter(L);return new Set([].concat($jscomp.arrayFromIterable(this.geojson?[this.geojson]:[]),$jscomp.arrayFromIterable(c)))};vb.prototype.producedFields=function(){return new Set};vb.prototype.hash=function(){return"GeoJSON "+this.geojson+" "+this.signal+" "+S(this.fields)};vb.prototype.assemble=function(){return Object.assign(Object.assign(Object.assign({type:"geojson"},this.fields?{fields:this.fields}:{}),this.geojson?{geojson:this.geojson}:
{}),{signal:this.signal})};var Kb=function(a,c,f,e){a=H.call(this,a)||this;a.projection=c;a.fields=f;a.as=e;return a};$jscomp.inherits(Kb,H);Kb.prototype.clone=function(){return new Kb(null,this.projection,T(this.fields),T(this.as))};Kb.parseAll=function(a,c){if(!c.projectionName())return a;for(var f=$jscomp.makeIterator([["longitude","latitude"],["longitude2","latitude2"]]),e=f.next();!e.done;e=f.next()){var g=e.value;e=g.map(function(a){a=ma(c.encoding[a]);return D(a)?a.field:Dc(a)?{expr:""+a.datum}:
kc(a)?{expr:""+a.value}:void 0});g="longitude2"===g[0]?"2":"";if(e[0]||e[1])a=new Kb(a,c.projectionName(),e,[c.getName("x"+g),c.getName("y"+g)])}return a};Kb.prototype.dependentFields=function(){return new Set(this.fields.filter(L))};Kb.prototype.producedFields=function(){return new Set(this.as)};Kb.prototype.hash=function(){return"Geopoint "+this.projection+" "+S(this.fields)+" "+S(this.as)};Kb.prototype.assemble=function(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}};
var Wa=function(a,c){a=H.call(this,a)||this;a.transform=c;return a};$jscomp.inherits(Wa,H);Wa.prototype.clone=function(){return new Wa(null,T(this.transform))};Wa.prototype.dependentFields=function(){var a;return new Set([this.transform.impute,this.transform.key].concat($jscomp.arrayFromIterable(null!==(a=this.transform.groupby)&&void 0!==a?a:[])))};Wa.prototype.producedFields=function(){return new Set([this.transform.impute])};Wa.prototype.processSequence=function(a){var c=a.step;return{signal:"sequence("+
[void 0===a.start?0:a.start,a.stop].concat($jscomp.arrayFromIterable(c?[c]:[])).join(",")+")"}};Wa.makeFromTransform=function(a,c){return new Wa(a,c)};Wa.makeFromEncoding=function(a,c){var f=c.encoding,e=f.x,g=f.y;if(D(e)&&D(g)){var k=e.impute?e:g.impute?g:void 0;if(void 0===k)return;e=e.impute?g:g.impute?e:void 0;var l=k.impute;g=l.method;var m=l.value,t=l.frame;l=l.keyvals;c=ih(c.mark,f);return new Wa(a,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({impute:k.field,key:e.field},
g?{method:g}:{}),void 0!==m?{value:m}:{}),t?{frame:t}:{}),void 0!==l?{keyvals:l}:{}),c.length?{groupby:c}:{}))}return null};Wa.prototype.hash=function(){return"Impute "+S(this.transform)};Wa.prototype.assemble=function(){var a=this.transform,c=a.impute,f=a.keyvals,e=a.method,g=a.groupby,k=a.value,l=void 0===a.frame?[null,null]:a.frame;a=Object.assign(Object.assign(Object.assign(Object.assign({type:"impute",field:c,key:a.key},f?{keyvals:void 0!==(null===f||void 0===f?void 0:f.stop)?this.processSequence(f):
f}:{}),{method:"value"}),g?{groupby:g}:{}),{value:e&&"value"!==e?null:k});return e&&"value"!==e?(e=Object.assign({type:"window",as:["imputed_"+c+"_value"],ops:[e],fields:[c],frame:l,ignorePeers:!1},g?{groupby:g}:{}),[a,e,{type:"formula",expr:"datum."+c+" \x3d\x3d\x3d null ? datum.imputed_"+c+"_value : datum."+c,as:c}]):[a]};var qc=function(a,c){var f,e,g;a=H.call(this,a)||this;a.transform=c;a.transform=T(c);var k=null!==(f=a.transform.as)&&void 0!==f?f:[void 0,void 0];a.transform.as=[null!==(e=k[0])&&
void 0!==e?e:c.on,null!==(g=k[1])&&void 0!==g?g:c.loess];return a};$jscomp.inherits(qc,H);qc.prototype.clone=function(){return new qc(null,T(this.transform))};qc.prototype.dependentFields=function(){var a;return new Set([this.transform.loess,this.transform.on].concat($jscomp.arrayFromIterable(null!==(a=this.transform.groupby)&&void 0!==a?a:[])))};qc.prototype.producedFields=function(){return new Set(this.transform.as)};qc.prototype.hash=function(){return"LoessTransform "+S(this.transform)};qc.prototype.assemble=
function(){var a=this.transform,c=a.loess,f=a.on;a=z(a,["loess","on"]);return Object.assign({type:"loess",x:f,y:c},a)};var Lb=function(a,c,f){a=H.call(this,a)||this;a.transform=c;a.secondary=f;return a};$jscomp.inherits(Lb,H);Lb.prototype.clone=function(){return new Lb(null,T(this.transform),this.secondary)};Lb.make=function(a,c,f,e){var h=c.component.data.sources,g=f.from,k=null;if("data"in g)k=uj(g.data,h),k||(k=new db(g.data),h.push(k)),e=c.getName("lookup_"+e),k=new ya(k,e,"lookup",c.component.data.outputNodeRefCounts),
c.component.data.outputNodes[e]=k;else if("selection"in g&&(e=g.selection,f=Object.assign({as:e},f),k=c.getSelectionComponent(aa(e),e).materialized,!k))throw Error('Cannot define and lookup the "'+e+'" selection in the same view. Try moving the lookup into a second, layered view?');return new Lb(a,f,k.getSource())};Lb.prototype.dependentFields=function(){return new Set([this.transform.lookup])};Lb.prototype.producedFields=function(){return new Set(this.transform.as?da(this.transform.as):this.transform.from.fields)};
Lb.prototype.hash=function(){return"Lookup "+S({transform:this.transform,secondary:this.secondary})};Lb.prototype.assemble=function(){if(this.transform.from.fields)var a=Object.assign({values:this.transform.from.fields},this.transform.as?{as:da(this.transform.as)}:{});else a=this.transform.as,L(a)||(x('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),a="_lookup"),a={as:[a]};return Object.assign(Object.assign({type:"lookup",
from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},a),this.transform.default?{default:this.transform.default}:{})};var rc=function(a,c){var f,e,g;a=H.call(this,a)||this;a.transform=c;a.transform=T(c);c=null!==(f=a.transform.as)&&void 0!==f?f:[void 0,void 0];a.transform.as=[null!==(e=c[0])&&void 0!==e?e:"prob",null!==(g=c[1])&&void 0!==g?g:"value"];return a};$jscomp.inherits(rc,H);rc.prototype.clone=function(){return new rc(null,T(this.transform))};rc.prototype.dependentFields=
function(){var a;return new Set([this.transform.quantile].concat($jscomp.arrayFromIterable(null!==(a=this.transform.groupby)&&void 0!==a?a:[])))};rc.prototype.producedFields=function(){return new Set(this.transform.as)};rc.prototype.hash=function(){return"QuantileTransform "+S(this.transform)};rc.prototype.assemble=function(){var a=this.transform,c=a.quantile;a=z(a,["quantile"]);return Object.assign({type:"quantile",field:c},a)};var sc=function(a,c){var f,e,g;a=H.call(this,a)||this;a.transform=c;
a.transform=T(c);var k=null!==(f=a.transform.as)&&void 0!==f?f:[void 0,void 0];a.transform.as=[null!==(e=k[0])&&void 0!==e?e:c.on,null!==(g=k[1])&&void 0!==g?g:c.regression];return a};$jscomp.inherits(sc,H);sc.prototype.clone=function(){return new sc(null,T(this.transform))};sc.prototype.dependentFields=function(){var a;return new Set([this.transform.regression,this.transform.on].concat($jscomp.arrayFromIterable(null!==(a=this.transform.groupby)&&void 0!==a?a:[])))};sc.prototype.producedFields=function(){return new Set(this.transform.as)};
sc.prototype.hash=function(){return"RegressionTransform "+S(this.transform)};sc.prototype.assemble=function(){var a=this.transform,c=a.regression,f=a.on;a=z(a,["regression","on"]);return Object.assign({type:"regression",x:f,y:c},a)};var $b=function(a,c){a=H.call(this,a)||this;a.transform=c;return a};$jscomp.inherits($b,H);$b.prototype.clone=function(){return new $b(null,T(this.transform))};$b.prototype.addDimensions=function(a){var c;this.transform.groupby=Ob((null!==(c=this.transform.groupby)&&void 0!==
c?c:[]).concat(a),function(a){return a})};$b.prototype.producedFields=function(){};$b.prototype.dependentFields=function(){var a;return new Set([this.transform.pivot,this.transform.value].concat($jscomp.arrayFromIterable(null!==(a=this.transform.groupby)&&void 0!==a?a:[])))};$b.prototype.hash=function(){return"PivotTransform "+S(this.transform)};$b.prototype.assemble=function(){var a=this.transform,c=a.groupby,f=a.limit,e=a.op;return Object.assign(Object.assign(Object.assign({type:"pivot",field:a.pivot,
value:a.value},void 0!==f?{limit:f}:{}),void 0!==e?{op:e}:{}),void 0!==c?{groupby:c}:{})};var tc=function(a,c){a=H.call(this,a)||this;a.transform=c;return a};$jscomp.inherits(tc,H);tc.prototype.clone=function(){return new tc(null,T(this.transform))};tc.prototype.dependentFields=function(){return new Set};tc.prototype.producedFields=function(){return new Set};tc.prototype.hash=function(){return"SampleTransform "+S(this.transform)};tc.prototype.assemble=function(){return{type:"sample",size:this.transform.sample}};
var ka=function(a,c,f,e){c=ac.call(this,a,"facet",c,f,e,a.resolve)||this;c.child=Ig(a.spec,c,c.getName("child"),void 0,e);c.children=[c.child];c.facet=c.initFacet(a.facet,e);return c};$jscomp.inherits(ka,ac);ka.prototype.initFacet=function(a,c){return Pd(a)?hh(a,function(a,e,g){if(!F(["row","column"],g))return x(kd(g,"facet")),a;if(void 0===e.field)return x(Kd(e,g)),a;a[g]=Af(e,g,c);return a},{}):{facet:Af(a,"facet",c)}};ka.prototype.channelHasField=function(a){return!!this.facet[a]};ka.prototype.fieldDef=
function(a){return this.facet[a]};ka.prototype.parseData=function(){this.component.data=bf(this);this.child.parseData()};ka.prototype.parseLayoutSize=function(){Ag(this)};ka.prototype.parseSelections=function(){this.child.parseSelections();this.component.selection=this.child.component.selection};ka.prototype.parseMarkGroup=function(){this.child.parseMarkGroup()};ka.prototype.parseAxesAndHeaders=function(){this.child.parseAxesAndHeaders();for(var a=$jscomp.makeIterator(tb),c=a.next();!c.done;c=a.next()){var f=
void 0;c=c.value;var e=this.facet,g=this.config,k=this.child,l=this.component;if(this.channelHasField(c)){e=e[c];var m=yd("title",null,g,c);m=Yc(e,g,{allowDisabling:!0,includeDefault:void 0===m||!!m});k.component.layoutHeaders[c].title&&(m=J(m)?m.join(", "):m,m+=" / "+k.component.layoutHeaders[c].title,k.component.layoutHeaders[c].title=null);k=yd("labelOrient",e,g,c);var t=null!==(f=e.header)&&void 0!==f?f:{};f=na(t.labels,g.header.labels,!0);g=F(["bottom","right"],k)?"footer":"header";k={};l.layoutHeaders[c]=
(k.title=m,k.facetFieldDef=e,k[g]="facet"===c?[]:[sj(this,c,f)],k)}}tj(this,"x");tj(this,"y")};ka.prototype.assembleSelectionTopLevelSignals=function(a){return this.child.assembleSelectionTopLevelSignals(a)};ka.prototype.assembleSignals=function(){this.child.assembleSignals();return[]};ka.prototype.assembleSelectionData=function(a){return this.child.assembleSelectionData(a)};ka.prototype.getHeaderLayoutMixins=function(){for(var a,c,f,e={},g=$jscomp.makeIterator(tb),k=g.next();!k.done;k=g.next()){k=
k.value;for(var l=$jscomp.makeIterator(cg),m=l.next();!m.done;m=l.next()){var t=m.value;m=this.component.layoutHeaders[k];var q=m[t],p=m.facetFieldDef;p&&(p=yd("titleOrient",p,this.config,k),F(["right","bottom"],p)&&(p=Se(k,p),e.titleAnchor=null!==(a=e.titleAnchor)&&void 0!==a?a:{},e.titleAnchor[p]="end"));if(null===q||void 0===q?0:q[0])q="row"===k?"height":"width",t="header"===t?"headerBand":"footerBand","facet"===k||this.child.component.layoutSize.get(q)||(e[t]=null!==(c=e[t])&&void 0!==c?c:{},
e[t][k]=.5),m.title&&(e.offset=null!==(f=e.offset)&&void 0!==f?f:{},e.offset["row"===k?"rowTitle":"columnTitle"]=10)}}return e};ka.prototype.assembleDefaultLayout=function(){var a=this.facet,c=a.column;a=a.row;var f=c?this.columnDistinctSignal():a?1:void 0,e="all";a||"independent"!==this.component.resolve.scale.x?c||"independent"!==this.component.resolve.scale.y||(e="none"):e="none";return Object.assign(Object.assign(Object.assign({},this.getHeaderLayoutMixins()),f?{columns:f}:{}),{bounds:"full",
align:e})};ka.prototype.assembleLayoutSignals=function(){return this.child.assembleLayoutSignals()};ka.prototype.columnDistinctSignal=function(){if(!(this.parent&&this.parent instanceof ka))return{signal:"length(data('"+this.getName("column_domain")+"'))"}};ka.prototype.assembleGroup=function(a){return this.parent&&this.parent instanceof ka?Object.assign(Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:B(this.facet.column,{prefix:"distinct"})}}}}:{}),ac.prototype.assembleGroup.call(this,
a)):ac.prototype.assembleGroup.call(this,a)};ka.prototype.getCardinalityAggregateForChild=function(){var a=[],c=[],f=[];if(this.child instanceof ka){if(this.child.channelHasField("column")){var e=B(this.child.facet.column);a.push(e);c.push("distinct");f.push("distinct_"+e)}}else{e=$jscomp.makeIterator(sb);for(var g=e.next();!g.done;g=e.next()){g=g.value;var k=this.child.component.scales[g];if(k&&!k.merged){var l=k.get("type");k=k.get("range");l in $a&&Bb(k)&&(l=Ze(this.child,g),(l=wg(l))?(a.push(l),
c.push("distinct"),f.push("distinct_"+l)):x("Unknown field for "+g+". Cannot calculate view size."))}}}return{fields:a,ops:c,as:f}};ka.prototype.assembleFacet=function(){var a=this.component.data.facetRoot,c=a.name;a=a.data;var f=this.facet,e=f.row,g=f.column,k=this.getCardinalityAggregateForChild();f=k.fields;var l=k.ops;k=k.as;for(var m=[],t=$jscomp.makeIterator(tb),q=t.next();!q.done;q=t.next()){var p=q.value;if(q=this.facet[p]){m.push(B(q));var v=q,u=v.sort;X(v.bin)&&m.push(B(q,{binSuffix:"end"}));
Ub(u)?(v=u,p=v.field,v=void 0===v.op?"min":v.op,q=Bg(q,u),e&&g?(f.push(q),l.push("max")):(f.push(p),l.push(v)),k.push(q)):J(u)&&(q=xd(q,p),f.push(q),l.push("max"),k.push(q))}}e=!!e&&!!g;return Object.assign({name:c,data:a,groupby:m},e||0<f.length?{aggregate:Object.assign(Object.assign({},e?{cross:e}:{}),f.length?{fields:f,ops:l,as:k}:{})}:{})};ka.prototype.facetSortFields=function(a){var c=this.facet[a];return c?Ub(c.sort)?[Bg(c,c.sort,{expr:"datum"})]:J(c.sort)?[xd(c,a,{expr:"datum"})]:[B(c,{expr:"datum"})]:
[]};ka.prototype.facetSortOrder=function(a){return(a=this.facet[a])?(a=a.sort,[(Ub(a)?a.order:!J(a)&&a)||"ascending"]):[]};ka.prototype.assembleLabelTitle=function(){var a=this.facet,c=this.config;if(a.facet)return dg(a.facet,"facet",c);for(var f={row:["top","bottom"],column:["left","right"]},e=$jscomp.makeIterator(Ng),g=e.next();!g.done;g=e.next())if(g=g.value,a[g]){var k=yd("labelOrient",a[g],c,g);if(F(f[g],k))return dg(a[g],g,c)}};ka.prototype.assembleMarks=function(){var a=this,c=this.child,f=
Ul(this.component.data.facetRoot),e=c.assembleGroupEncodeEntry(!1),g=this.assembleLabelTitle()||c.assembleTitle(),k=c.assembleGroupStyle();return[Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({name:this.getName("cell"),type:"group"},g?{title:g}:{}),k?{style:k}:{}),{from:{facet:this.assembleFacet()},sort:{field:tb.map(function(c){return a.facetSortFields(c)}).flat(),order:tb.map(function(c){return a.facetSortOrder(c)}).flat()}}),0<f.length?{data:f}:{}),e?{encode:{update:e}}:
{}),c.assembleGroup(Qk(this,[])))]};ka.prototype.getMapping=function(){return this.facet};var Xa=function(a,c,f,e){var h,g,k,l;var m=V.call(this,a,"concat",c,f,e,a.resolve)||this;"shared"!==(null===(g=null===(h=a.resolve)||void 0===h?void 0:h.axis)||void 0===g?void 0:g.x)&&"shared"!==(null===(l=null===(k=a.resolve)||void 0===k?void 0:k.axis)||void 0===l?void 0:l.y)||x("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).");m.children=m.getChildren(a).map(function(a,
c){return Ig(a,m,m.getName("concat_"+c),void 0,e)});return m};$jscomp.inherits(Xa,V);Xa.prototype.parseData=function(){this.component.data=bf(this);for(var a=$jscomp.makeIterator(this.children),c=a.next();!c.done;c=a.next())c.value.parseData()};Xa.prototype.parseSelections=function(){this.component.selection={};for(var a=$jscomp.makeIterator(this.children),c=a.next();!c.done;c=a.next()){c=c.value;c.parseSelections();for(var f=$jscomp.makeIterator(A(c.component.selection)),e=f.next();!e.done;e=f.next())e=
e.value,this.component.selection[e]=c.component.selection[e]}};Xa.prototype.parseMarkGroup=function(){for(var a=$jscomp.makeIterator(this.children),c=a.next();!c.done;c=a.next())c.value.parseMarkGroup()};Xa.prototype.parseAxesAndHeaders=function(){for(var a=$jscomp.makeIterator(this.children),c=a.next();!c.done;c=a.next())c.value.parseAxesAndHeaders()};Xa.prototype.getChildren=function(a){return"vconcat"in a?a.vconcat:"hconcat"in a?a.hconcat:a.concat};Xa.prototype.parseLayoutSize=function(){Ag(this);
var a=void 0===this.layout.columns?"height":"childHeight";af(this,1===this.layout.columns?"width":"childWidth");af(this,a)};Xa.prototype.parseAxisGroup=function(){return null};Xa.prototype.assembleSelectionTopLevelSignals=function(a){return this.children.reduce(function(a,f){return f.assembleSelectionTopLevelSignals(a)},a)};Xa.prototype.assembleSignals=function(){this.children.forEach(function(a){return a.assembleSignals()});return[]};Xa.prototype.assembleLayoutSignals=function(){for(var a=eg(this),
c=$jscomp.makeIterator(this.children),f=c.next();!f.done;f=c.next())a.push.apply(a,$jscomp.arrayFromIterable(f.value.assembleLayoutSignals()));return a};Xa.prototype.assembleSelectionData=function(a){return this.children.reduce(function(a,f){return f.assembleSelectionData(a)},a)};Xa.prototype.assembleMarks=function(){return this.children.map(function(a){var c=a.assembleTitle(),f=a.assembleGroupStyle(),e=a.assembleGroupEncodeEntry(!1);return Object.assign(Object.assign(Object.assign(Object.assign({type:"group",
name:a.getName("group")},c?{title:c}:{}),f?{style:f}:{}),e?{encode:{update:e}}:{}),a.assembleGroup())})};Xa.prototype.assembleDefaultLayout=function(){var a=this.layout.columns;return Object.assign(Object.assign({},null!=a?{columns:a}:{}),{bounds:"full",align:"each"})};var Hm=Object.assign(Object.assign({disable:1,gridScale:1,scale:1},zj),{labelExpr:1,encode:1}),vj=A(Hm),zd=function(a,c,f){a=void 0===a?{}:a;c=void 0===c?{}:c;f=void 0===f?!1:f;var e=za.call(this)||this;e.explicit=a;e.implicit=c;e.mainExtracted=
f;return e};$jscomp.inherits(zd,za);zd.prototype.clone=function(){return new zd(T(this.explicit),T(this.implicit),this.mainExtracted)};zd.prototype.hasAxisPart=function(a){if("axis"===a)return!0;if("grid"===a||"title"===a)return!!this.get(a);a=this.get(a);return!(!1===a||null===a)};zd.prototype.hasOrientSignalRef=function(){return C(this.explicit.orient)};var Im={bottom:"top",top:"bottom",left:"right",right:"left"},cm=new Set("grid translate format formatType orient labelExpr tickCount position tickMinStep".split(" ")),
jf={arc:{vgMark:"arc",encodeEntry:function(a){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},rb(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),Qa("x",a,{defaultPos:"mid"})),Qa("y",a,{defaultPos:"mid"})),Gc(a,"radius","arc")),Gc(a,"theta","arc"))}},area:{vgMark:"area",encodeEntry:function(a){return Object.assign(Object.assign(Object.assign(Object.assign({},rb(a,{align:"ignore",baseline:"ignore",color:"include",orient:"include",
size:"ignore",theta:"ignore"})),Ke("x",a,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===a.markDef.orient})),Ke("y",a,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===a.markDef.orient})),Qf(a))}},bar:{vgMark:"rect",encodeEntry:function(a){return Object.assign(Object.assign(Object.assign({},rb(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),Gc(a,"x","bar")),Gc(a,"y","bar"))}},circle:{vgMark:"symbol",encodeEntry:function(a){return Gg(a,
"circle")}},geoshape:{vgMark:"shape",encodeEntry:function(a){return Object.assign({},rb(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}))},postEncodingTransform:function(a){var c=a.encoding.shape;return[Object.assign({type:"geoshape",projection:a.projectionName()},c&&D(c)&&c.type===rd?{field:B(c,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:function(a){return Object.assign(Object.assign(Object.assign(Object.assign({},rb(a,{align:"ignore",
baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"})),Gc(a,"x","image")),Gc(a,"y","image")),Of(a,"url"))}},line:{vgMark:"line",encodeEntry:function(a){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},rb(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),Qa("x",a,{defaultPos:"mid"})),Qa("y",a,{defaultPos:"mid"})),Ma("size",a,{vgChannel:"strokeWidth"})),Qf(a))}},point:{vgMark:"symbol",encodeEntry:function(a){return Gg(a)}},
rect:{vgMark:"rect",encodeEntry:function(a){return Object.assign(Object.assign(Object.assign({},rb(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),Gc(a,"x","rect")),Gc(a,"y","rect"))}},rule:{vgMark:"rule",encodeEntry:function(a){var c=a.markDef.orient;return a.encoding.x||a.encoding.y||a.encoding.latitude||a.encoding.longitude?Object.assign(Object.assign(Object.assign(Object.assign({},rb(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",
size:"ignore",theta:"ignore"})),Ke("x",a,{defaultPos:"horizontal"===c?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==c})),Ke("y",a,{defaultPos:"vertical"===c?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==c})),Ma("size",a,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:function(a){return Gg(a,"square")}},text:{vgMark:"text",encodeEntry:function(a){var c=a.config,f=a.encoding;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},
rb(a,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"})),Qa("x",a,{defaultPos:"mid"})),Qa("y",a,{defaultPos:"mid"})),Of(a)),Ma("size",a,{vgChannel:"fontSize"})),Ma("angle",a)),ai("align",gm(a.markDef,f,c))),ai("baseline",hm(a.markDef,f,c))),Qa("radius",a,{defaultPos:null,isMidPoint:!0})),Qa("theta",a,{defaultPos:null,isMidPoint:!0}))}},tick:{vgMark:"rect",encodeEntry:function(a){var c=a.config,f=a.markDef,e=f.orient,g="horizontal"===e?"width":"height";
e="horizontal"===e?"height":"width";var k={};return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},rb(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"})),Qa("x",a,{defaultPos:"mid",vgChannel:"xc"})),Qa("y",a,{defaultPos:"mid",vgChannel:"yc"})),Ma("size",a,{defaultValue:im(a),vgChannel:g})),(k[e]=Fa(ca("thickness",f,c)),k))}},trail:{vgMark:"trail",encodeEntry:function(a){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},
rb(a,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"})),Qa("x",a,{defaultPos:"mid"})),Qa("y",a,{defaultPos:"mid"})),Ma("size",a)),Qf(a))}}},ra=function(a,c,f,e,g){e=void 0===e?{}:e;var h,k;c=ac.call(this,a,"unit",c,f,g,void 0,th(a)?a.view:void 0)||this;c.specifiedScales={};c.specifiedAxes={};c.specifiedLegends={};c.specifiedProjection={};c.selection={};c.children=[];f=La(a.mark)?a.mark.type:a.mark;var l=a.mark,m=null!==(h=a.encoding)&&void 0!==h?h:{},
n=a.data&&"graticule"in a.data;h=La(l)?Object.assign({},l):{type:l};l=ca("orient",h,g);h.orient=dm(h.type,m,l);void 0!==l&&l!==h.orient&&x('Specified orient "'+h.orient+'" overridden with "'+l+'".');if("bar"===h.type&&h.orient&&(l=ca("cornerRadiusEnd",h,g),void 0!==l)){for(var t=$jscomp.makeIterator("horizontal"===h.orient&&m.x2||"vertical"===h.orient&&m.y2?["cornerRadius"]:pm[h.orient]),q=t.next();!q.done;q=t.next())h[q.value]=l;void 0!==h.cornerRadiusEnd&&delete h.cornerRadiusEnd}void 0===ca("opacity",
h,g)&&(l=F([cf,Fg,Dg,Eg],h.type)&&!Bf(m)?.7:void 0,h.opacity=l);void 0===h.filled&&(n?n=!1:(n=Xc("filled",h,g),l=h.type,n=na(n,l!==cf&&l!==gf&&l!==ef)),h.filled=n);void 0===ca("cursor",h,g)&&(h.cursor=m.href||h.href||ca("href",h,g)?"pointer":h.cursor);c.markDef=h;g=c.encoding=Yj(null!==(k=a.encoding)&&void 0!==k?k:{},c.markDef,g);e=th(a)?Object.assign(Object.assign(Object.assign({},e),a.width?{width:a.width}:{}),a.height?{height:a.height}:{}):e;k=$jscomp.makeIterator(sb);for(m=k.next();!m.done;m=
k.next())m=m.value,h=R(m),Xb(e[h])&&Vb(g[m])&&(delete e[h],x(me(h)));c.size=e;c.stack=zh(f,g);c.specifiedScales=c.initScales(f,g);c.specifiedAxes=c.initAxes(g);c.specifiedLegends=c.initLegend(g);c.specifiedProjection=a.projection;c.selection=a.selection;return c};$jscomp.inherits(ra,ac);ra.prototype.scaleDomain=function(a){return(a=this.specifiedScales[a])?a.domain:void 0};ra.prototype.axis=function(a){return this.specifiedAxes[a]};ra.prototype.legend=function(a){return this.specifiedLegends[a]};
ra.prototype.initScales=function(a,c){return Me.reduce(function(a,e){var f,h=ma(c[e]);h&&(a[e]=null!==(f=h.scale)&&void 0!==f?f:{});return a},{})};ra.prototype.initAxes=function(a){return sb.reduce(function(c,f){var e=a[f];if(K(e)||"x"===f&&K(a.x2)||"y"===f&&K(a.y2))e=K(e)?e.axis:void 0,c[f]=e?Object.assign({},e):e;return c},{})};ra.prototype.initLegend=function(a){return vm.reduce(function(c,f){var e=ma(a[f]),g;if(g=e)a:{switch(f){case "color":case "fill":case "stroke":case "size":case "shape":case "opacity":case "strokeWidth":case "strokeDash":g=
!0;break a;case "fillOpacity":case "strokeOpacity":case "angle":g=!1;break a}g=void 0}g&&(e=e.legend,c[f]=e?Object.assign({},e):e);return c},{})};ra.prototype.parseData=function(){this.component.data=bf(this)};ra.prototype.parseLayoutSize=function(){for(var a=this.size,c=this.component,f=$jscomp.makeIterator(sb),e=f.next();!e.done;e=f.next())if(e=R(e.value),a[e]){var g=a[e];c.layoutSize.set(e,Xb(g)?"step":g,!0)}else g=Wl(this,e),c.layoutSize.set(e,g,!1)};ra.prototype.parseSelections=function(){this.component.selection=
dl(this,this.selection)};ra.prototype.parseMarkGroup=function(){var a=this.component;if(F([gf,ff,nm],this.mark)){var c=ih(this.mark,this.encoding);var f=hf(this,{fromPrefix:0<c.length?"faceted_path_":""});c=0<c.length?[{name:this.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+this.requestDataName("main"),data:this.requestDataName("main"),groupby:c}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:f}]:f}else c=F([df],this.mark)?jm(this):hf(this);
a.mark=c};ra.prototype.parseAxesAndHeaders=function(){this.component.axes=Yl(this)};ra.prototype.assembleSelectionTopLevelSignals=function(a){return Rk(this,a)};ra.prototype.assembleSignals=function(){return[].concat($jscomp.arrayFromIterable(xi(this)),$jscomp.arrayFromIterable(Pk(this,[])))};ra.prototype.assembleSelectionData=function(a){return Sk(this,a)};ra.prototype.assembleLayout=function(){return null};ra.prototype.assembleLayoutSignals=function(){return eg(this)};ra.prototype.assembleMarks=
function(){var a,c=null!==(a=this.component.mark)&&void 0!==a?a:[];this.parent&&vd(this.parent)||(c=ei(this,c));return c.map(this.correctDataNames)};ra.prototype.getMapping=function(){return this.encoding};ra.prototype.channelHasField=function(a){return $c(this.encoding,a)};ra.prototype.fieldDef=function(a){return Wb(this.encoding[a])};ra.prototype.typedFieldDef=function(a){a=this.fieldDef(a);return ab(a)?a:null};$jscomp.global.Object.defineProperties(ra.prototype,{hasProjection:{configurable:!0,
enumerable:!0,get:function(){var a=this.encoding,c=this.mark===qj,f=a&&qm.some(function(c){return K(a[c])});return c||f}},mark:{configurable:!0,enumerable:!0,get:function(){return this.markDef.type}}});var Ua=function(a,c,f,e,g){var h=V.call(this,a,"layer",c,f,g,a.resolve,a.view)||this;var k=Object.assign(Object.assign(Object.assign({},e),a.width?{width:a.width}:{}),a.height?{height:a.height}:{});h.children=a.layer.map(function(a,c){if("layer"in a)return new Ua(a,h,h.getName("layer_"+c),k,g);if(yb(a))return new ra(a,
h,h.getName("layer_"+c),k,g);throw Error(Qc(a));});return h};$jscomp.inherits(Ua,V);Ua.prototype.parseData=function(){this.component.data=bf(this);for(var a=$jscomp.makeIterator(this.children),c=a.next();!c.done;c=a.next())c.value.parseData()};Ua.prototype.parseLayoutSize=function(){Ag(this);af(this,"width");af(this,"height")};Ua.prototype.parseSelections=function(){this.component.selection={};for(var a=$jscomp.makeIterator(this.children),c=a.next();!c.done;c=a.next()){c=c.value;c.parseSelections();
for(var f=$jscomp.makeIterator(A(c.component.selection)),e=f.next();!e.done;e=f.next())e=e.value,this.component.selection[e]=c.component.selection[e]}};Ua.prototype.parseMarkGroup=function(){for(var a=$jscomp.makeIterator(this.children),c=a.next();!c.done;c=a.next())c.value.parseMarkGroup()};Ua.prototype.parseAxesAndHeaders=function(){var a,c=this.component,f=c.axes;c=c.resolve;for(var e={top:0,bottom:0,right:0,left:0},g=$jscomp.makeIterator(this.children),k=g.next();!k.done;k=g.next()){var l=k.value;
l.parseAxesAndHeaders();var m=$jscomp.makeIterator(A(l.component.axes));for(k=m.next();!k.done;k=m.next())k=k.value,c.axis[k]=fg(this.component.resolve,k),"shared"===c.axis[k]&&(f[k]=$l(f[k],l.component.axes[k]),f[k]||(c.axis[k]="independent",delete f[k]))}g=$jscomp.makeIterator(sb);for(k=g.next();!k.done;k=g.next()){l=k.value;m=$jscomp.makeIterator(this.children);for(k=m.next();!k.done;k=m.next())if(k=k.value,k.component.axes[l]){if("independent"===c.axis[l]){f[l]=(null!==(a=f[l])&&void 0!==a?a:
[]).concat(k.component.axes[l]);for(var t=$jscomp.makeIterator(k.component.axes[l]),q=t.next();!q.done;q=t.next()){q=q.value;var p=q.getWithExplicit("orient"),v=p.value;p=p.explicit;C(v)||(0<e[v]&&!p&&(p=Im[v],e[v]>e[p]&&q.set("orient",p,!1)),e[v]++)}}delete k.component.axes[l]}if("independent"===c.axis[l]&&f[l]&&1<f[l].length)for(l=$jscomp.makeIterator(f[l]),m=l.next();!m.done;m=l.next())m=m.value,m.get("grid")&&!m.explicit.grid&&(m.implicit.grid=!1)}};Ua.prototype.assembleSelectionTopLevelSignals=
function(a){return this.children.reduce(function(a,f){return f.assembleSelectionTopLevelSignals(a)},a)};Ua.prototype.assembleSignals=function(){return this.children.reduce(function(a,c){return a.concat(c.assembleSignals())},xi(this))};Ua.prototype.assembleLayoutSignals=function(){return this.children.reduce(function(a,c){return a.concat(c.assembleLayoutSignals())},eg(this))};Ua.prototype.assembleSelectionData=function(a){return this.children.reduce(function(a,f){return f.assembleSelectionData(a)},
a)};Ua.prototype.assembleTitle=function(){var a=V.prototype.assembleTitle.call(this);if(a)return a;var c=$jscomp.makeIterator(this.children);for(a=c.next();!a.done;a=c.next())if(a=a.value.assembleTitle())return a};Ua.prototype.assembleLayout=function(){return null};Ua.prototype.assembleMarks=function(){return Tk(this,this.children.flatMap(function(a){return a.assembleMarks()}))};Ua.prototype.assembleLegends=function(){return this.children.reduce(function(a,c){return a.concat(c.assembleLegends())},
Vi(this))};var Og=function(){return Za.apply(this,arguments)||this};$jscomp.inherits(Og,Za);Og.prototype.mapUnit=function(a,c){var f=c.config;if(a.encoding){c=a.transform;var e=Cf(a.encoding,f);f=e.bins;var g=e.timeUnits,k=e.aggregate,l=e.groupby;e=e.encoding;c=[].concat($jscomp.arrayFromIterable(c?c:[]),$jscomp.arrayFromIterable(f),$jscomp.arrayFromIterable(g),$jscomp.arrayFromIterable(0===k.length?[]:[{aggregate:k,groupby:l}]));return Object.assign(Object.assign(Object.assign({},a),0<c.length?{transform:c}:
{}),{encoding:e})}return a};var Jm=new Og;p.compile=function(a,c){c=void 0===c?{}:c;c.logger&&(nd=c.logger);c.fieldTitle&&(ye=c.fieldTitle);try{var f=uh(fd(c.config,a.config)),e=Hh(a,f),g=Ig(e,null,"",void 0,f);g.parse();var k=g.component.data;ig(k.sources);for(var l=0,m=0,t=0;5>t&&bj(k,g);t++)l++;k.sources.map(jg);for(t=0;5>t&&bj(k,g);t++)m++;ig(k.sources);5===Math.max(l,m)&&x("Maximum optimization runs(5) reached.");var q=e.autosize,p=g.component.layoutSize.get("width"),v=g.component.layoutSize.get("height");
void 0===q?(q={type:"pad"},g.hasAxisOrientSignalRef()&&(q.resize=!0)):L(q)&&(q={type:q});var u;if(u=p&&v){var w=q.type;u="fit"===w||"fit-x"===w||"fit-y"===w}if(u)if("step"===p&&"step"===v)x(Sc()),q.type="pad";else if("step"===p||"step"===v){l="step"===p?"width":"height";x(Sc(Oc(l)));k=q;var G=(l="width"===l?"height":"width","fit-"+Oc(l));k.type=G}var O=Object.assign(Object.assign(Object.assign({},1===A(q).length&&q.type?"pad"===q.type?{}:{autosize:q.type}:{autosize:q}),Jh(f)),Jh(a));return{spec:lm(g,
O,a.datasets,a.usermeta),normalized:e}}finally{c.logger&&(nd=Fj),c.fieldTitle&&(ye=Ij)}};p.extractTransforms=function(a,c){return Jm.map(a,{config:c})};p.normalize=Hh;p.version="4.13.1";Object.defineProperty(p,"__esModule",{value:!0})})};
shadow$provide[52]=function(E,y,J,z){function a(){throw Error("setTimeout has not been defined");}function b(){throw Error("clearTimeout has not been defined");}function d(b){if(W===setTimeout)return setTimeout(b,0);if((W===a||!W)&&setTimeout)return W=setTimeout,setTimeout(b,0);try{return W(b,0)}catch(S){try{return W.call(null,b,0)}catch(C){return W.call(this,b,0)}}}function w(a){if(M===clearTimeout)return clearTimeout(a);if((M===b||!M)&&clearTimeout)return M=clearTimeout,clearTimeout(a);try{return M(a)}catch(S){try{return M.call(null,
a)}catch(C){return M.call(this,a)}}}function la(){Z&&G&&(Z=!1,G.length?N=G.concat(N):x=-1,N.length&&l())}function l(){if(!Z){var a=d(la);Z=!0;for(var b=N.length;b;){G=N;for(N=[];++x<b;)G&&G[x].run();x=-1;b=N.length}G=null;Z=!1;w(a)}}function P(a,b){this.fun=a;this.array=b}function Na(){}E=J.exports={};try{var W="function"===typeof setTimeout?setTimeout:a}catch(D){W=a}try{var M="function"===typeof clearTimeout?clearTimeout:b}catch(D){M=b}var N=[],Z=!1,G,x=-1;E.nextTick=function(a){var b=Array(arguments.length-
1);if(1<arguments.length)for(var w=1;w<arguments.length;w++)b[w-1]=arguments[w];N.push(new P(a,b));1!==N.length||Z||d(l)};P.prototype.run=function(){this.fun.apply(null,this.array)};E.title="browser";E.browser=!0;E.env={};E.argv=[];E.version="";E.versions={};E.on=Na;E.addListener=Na;E.once=Na;E.off=Na;E.removeListener=Na;E.removeAllListeners=Na;E.emit=Na;E.prependListener=Na;E.prependOnceListener=Na;E.listeners=function(a){return[]};E.binding=function(a){throw Error("process.binding is not supported");
};E.cwd=function(){return"/"};E.chdir=function(a){throw Error("process.chdir is not supported");};E.umask=function(){return 0}};
shadow$provide[53]=function(p,u,N,ja){var Ia=u(52);(function(p,Ia){"object"===typeof ja&&"undefined"!==typeof N?N.exports=Ia(u(50),u(51)):"function"===typeof define&&define.amd?define(["vega","vega-lite"],Ia):(p=p||self,p.vegaEmbed=Ia(p.vega,p.vegaLite))})(this,function(p,u){function N(e,g,k,l){function m(e){return e instanceof k?e:new k(function(g){g(e)})}return new (k||(k=Promise))(function(k,q){function t(e){try{u(l.next(e))}catch(ia){q(ia)}}function p(e){try{u(l["throw"](e))}catch(ia){q(ia)}}
function u(e){e.done?k(e.value):m(e.value).then(t,p)}u((l=l.apply(e,g||[])).next())})}function ja(e){if(Array.isArray(e)){var g=Array(e.length);for(e=0;e<g.length;e++)g[e]=""+e;return g}if(Object.keys)return Object.keys(e);g=[];for(var k in e)Hd.call(e,k)&&g.push(k);return g}function Aa(e){switch(typeof e){case "object":return JSON.parse(JSON.stringify(e));case "undefined":return null;default:return e}}function U(e){for(var g=0,k=e.length,l;g<k;)if(l=e.charCodeAt(g),48<=l&&57>=l)g++;else return!1;
return!0}function Lc(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function gd(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Cd(e){if(void 0===e)return!0;if(e)if(Array.isArray(e))for(var g=0,k=e.length;g<k;g++){if(Cd(e[g]))return!0}else if("object"===typeof e){k=ja(e);var l=k.length;for(g=0;g<l;g++)if(Cd(e[k[g]]))return!0}return!1}function da(e,g){e=[e];for(var k in g){var l="object"===typeof g[k]?JSON.stringify(g[k],null,2):g[k];"undefined"!==
typeof l&&e.push(k+": "+l)}return e.join("\n")}function Mb(e,g){if(""==g)return e;g={op:"_get",path:g};W(e,g);return g.value}function W(e,g,k,l,m,t){void 0===k&&(k=!1);void 0===l&&(l=!0);void 0===m&&(m=!0);void 0===t&&(t=0);k&&("function"==typeof k?k(g,0,e,g.path):M(g,0));if(""===g.path){m={newDocument:e};if("add"===g.op)return m.newDocument=g.value,m;if("replace"===g.op)return m.newDocument=g.value,m.removed=e,m;if("move"===g.op||"copy"===g.op)return m.newDocument=Mb(e,g.from),"move"===g.op&&(m.removed=
e),m;if("test"===g.op){m.test=z(e,g.value);if(!1===m.test)throw new ba("Test operation failed","TEST_OPERATION_FAILED",t,g,e);m.newDocument=e;return m}if("remove"===g.op)return m.removed=e,m.newDocument=null,m;if("_get"===g.op)return g.value=e,m;if(k)throw new ba("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,g,e);return m}l||(e=Aa(e));l=(g.path||"").split("/");var q=e,p=1,u=l.length,x=void 0,F;for(F="function"==typeof k?k:M;;){var ia=l[p];if(m&&"__proto__"==
ia)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");k&&void 0===x&&(void 0===q[ia]?x=l.slice(0,p).join("/"):p==u-1&&(x=g.path),void 0!==x&&F(g,0,e,x));p++;if(Array.isArray(q)){if("-"===ia)ia=q.length;else{if(k&&!U(ia))throw new ba("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index",
"OPERATION_PATH_ILLEGAL_ARRAY_INDEX",t,g,e);U(ia)&&(ia=~~ia)}if(p>=u){if(k&&"add"===g.op&&ia>q.length)throw new ba("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",t,g,e);m=na[g.op].call(g,q,ia,e);if(!1===m.test)throw new ba("Test operation failed","TEST_OPERATION_FAILED",t,g,e);return m}}else if(ia&&-1!=ia.indexOf("~")&&(ia=gd(ia)),p>=u){m=Ka[g.op].call(g,q,ia,e);if(!1===m.test)throw new ba("Test operation failed","TEST_OPERATION_FAILED",
t,g,e);return m}q=q[ia]}}function L(e,g,k,l,m){void 0===l&&(l=!0);void 0===m&&(m=!0);if(k&&!Array.isArray(g))throw new ba("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");l||(e=Aa(e));l=Array(g.length);for(var t=0,q=g.length;t<q;t++)l[t]=W(e,g[t],k,!0,m,t),e=l[t].newDocument;l.newDocument=e;return l}function M(e,g,k,l){if("object"!==typeof e||null===e||Array.isArray(e))throw new ba("Operation is not an object","OPERATION_NOT_AN_OBJECT",g,e,k);if(Ka[e.op]){if("string"!==typeof e.path)throw new ba("Operation `path` property is not a string",
"OPERATION_PATH_INVALID",g,e,k);if(0!==e.path.indexOf("/")&&0<e.path.length)throw new ba('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",g,e,k);if("move"!==e.op&&"copy"!==e.op||"string"===typeof e.from)if("add"!==e.op&&"replace"!==e.op&&"test"!==e.op||void 0!==e.value){if(("add"===e.op||"replace"===e.op||"test"===e.op)&&Cd(e.value))throw new ba("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",
g,e,k);if(k)if("add"==e.op){var m=e.path.split("/").length;l=l.split("/").length;if(m!==l+1&&m!==l)throw new ba("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",g,e,k);}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==l)throw new ba("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",g,e,k);}else if(("move"===e.op||"copy"===e.op)&&(m=Nb([{op:"_get",path:e.from,value:void 0}],k))&&"OPERATION_PATH_UNRESOLVABLE"===
m.name)throw new ba("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",g,e,k);}else throw new ba("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",g,e,k);else throw new ba("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",g,e,k);}else throw new ba("Operation `op` property is not one of operations defined in RFC-6902",
"OPERATION_OP_INVALID",g,e,k);}function Nb(e,g,k){try{if(!Array.isArray(e))throw new ba("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(g)L(Aa(g),Aa(e),k||!0);else{k=k||M;for(var l=0;l<e.length;l++)k(e[l],l,g,void 0)}}catch(m){if(m instanceof ba)return m;throw m;}}function z(e,g){if(e===g)return!0;if(e&&g&&"object"==typeof e&&"object"==typeof g){var k=Array.isArray(e),l=Array.isArray(g);if(k&&l){var m=e.length;if(m!=g.length)return!1;for(k=m;0!==k--;)if(!z(e[k],g[k]))return!1;return!0}if(k!=
l)return!1;l=Object.keys(e);m=l.length;if(m!==Object.keys(g).length)return!1;for(k=m;0!==k--;)if(!g.hasOwnProperty(l[k]))return!1;for(k=m;0!==k--;)if(m=l[k],!z(e[m],g[m]))return!1;return!0}return e!==e&&g!==g}function vc(e,g){void 0===g&&(g=!1);var k=Nc.get(e.object);wc(k.value,e.object,e.patches,"",g);e.patches.length&&L(k.value,e.patches);g=e.patches;0<g.length&&(e.patches=[],e.callback&&e.callback(g));return g}function wc(e,g,k,l,m){if(g!==e){"function"===typeof g.toJSON&&(g=g.toJSON());for(var t=
ja(g),q=ja(e),p=!1,u=q.length-1;0<=u;u--){var x=q[u],z=e[x];if(!Hd.call(g,x)||void 0===g[x]&&void 0!==z&&!1===Array.isArray(g))Array.isArray(e)===Array.isArray(g)?(m&&k.push({op:"test",path:l+"/"+Lc(x),value:Aa(z)}),k.push({op:"remove",path:l+"/"+Lc(x)}),p=!0):(m&&k.push({op:"test",path:l,value:e}),k.push({op:"replace",path:l,value:g}));else{var F=g[x];"object"==typeof z&&null!=z&&"object"==typeof F&&null!=F?wc(z,F,k,l+"/"+Lc(x),m):z!==F&&(m&&k.push({op:"test",path:l+"/"+Lc(x),value:Aa(z)}),k.push({op:"replace",
path:l+"/"+Lc(x),value:Aa(F)}))}}if(p||t.length!=q.length)for(u=0;u<t.length;u++)x=t[u],Hd.call(e,x)||void 0===g[x]||k.push({op:"add",path:l+"/"+Lc(x),value:Aa(g[x])})}}function xc(e,g,k){return k={path:g,exports:{},require:function(e,g){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs");}},e(k,k.exports),k.exports}function sa(e,g,k){e.fields=g||[];e.fname=k;return e}function S(e){return 1===e.length?pf(e[0]):se(e)}function fd(e){function g(){k.push(q+e.substring(p,
u));q="";p=u+1}var k=[],l=null,m=0,t=e.length,q="",p,u;e+="";for(p=u=0;u<t;++u){var x=e[u];if("\\"===x)q+=e.substring(p,u),q+=e.substring(++u,++u),p=u;else if(x===l)g(),l=null,m=-1;else if(!l)if(p===m&&'"'===x)p=u+1,l=x;else if(p===m&&"'"===x)p=u+1,l=x;else if("."===x&&!m)u>p?g():p=u+1;else if("["===x)u>p&&g(),m=p=u+1;else if("]"===x){if(!m)throw Error("Access path missing open bracket: "+e);0<m&&g();m=0;p=u+1}}if(m)throw Error("Access path missing closing bracket: "+e);if(l)throw Error("Access path missing closing quote: "+
e);u>p&&(u++,g());return k}function F(e){for(var g=[],k=0;k<arguments.length;++k)g[k-0]=arguments[k];return g.reduce(function(e,g){for(var k in g)"signals"===k?e.signals=fe(e.signals,g.signals):yc(e,k,g[k],"legend"===k?{layout:1}:"style"===k?!0:null);return e},{})}function yc(e,g,k,l){if("__proto__"!==g){var m;if(k!==Object(k)||te(k))e[g]=k;else{var t=e[g];e=t===Object(t)?e[g]:e[g]={};for(m in k)l&&(!0===l||l[m])?yc(e,m,k[m]):"__proto__"!==m&&(e[m]=k[m])}}}function fe(e,g){function k(e){l[e.name]||
(l[e.name]=1,m.push(e))}if(null==e)return g;var l={},m=[];g.forEach(k);e.forEach(k);return m}function hd(e){return"string"===typeof e}function Ob(e,g,k){if(te(e))return"["+e.map(function(e){return g(hd(e)?e:JSON.stringify(e,Ed(k)))}).join(", ")+"]";if(e===Object(e)){var l="",m=e.title,t=e.image;e=qf(e,["title","image"]);m&&(l+="\x3ch2\x3e"+g(m)+"\x3c/h2\x3e");t&&(l+='\x3cimg src\x3d"'+g(t)+'"\x3e');m=Object.keys(e);if(0<m.length){l+="\x3ctable\x3e";m=$jscomp.makeIterator(m);for(t=m.next();!t.done;t=
m.next()){t=t.value;var q=e[t];void 0!==q&&(q===Object(q)&&(q=JSON.stringify(q,Ed(k))),l+='\x3ctr\x3e\x3ctd class\x3d"key"\x3e'+g(t)+':\x3c/td\x3e\x3ctd class\x3d"value"\x3e'+g(q)+"\x3c/td\x3e\x3c/tr\x3e")}l+="\x3c/table\x3e"}return l||"{}"}return g(e)}function Ed(e){var g=[];return function(k,l){if("object"!==typeof l||null===l)return l;k=g.indexOf(this)+1;g.length=k;if(g.length>e)return"[Object]";if(0<=g.indexOf(l))return"[Circular]";g.push(l);return l}}function ge(e,g,k){function l(g){g.source===
t&&(p=0,e.removeEventListener("message",l,!1))}function m(){0>=p||(t.postMessage(k,q),setTimeout(m,250),--p)}var t=e.open(g),q=(new URL(g)).origin,p=40;e.addEventListener("message",l,!1);setTimeout(m,250)}function Fd(e,g){for(var k=[],l=1;l<arguments.length;++l)k[l-1]=arguments[l];k=$jscomp.makeIterator(k);for(l=k.next();!l.done;l=k.next()){l=l.value;for(var m=e,t=$jscomp.makeIterator(Object.keys(l)),q=t.next();!q.done;q=t.next())q=q.value,p.writeConfig(m,q,l[q],!0)}return e}function ha(e,g,k,l){g=
"\x3chtml\x3e\x3chead\x3e"+g+'\x3c/head\x3e\x3cbody\x3e\x3cpre\x3e\x3ccode class\x3d"json"\x3e';k="\x3c/code\x3e\x3c/pre\x3e"+k+"\x3c/body\x3e\x3c/html\x3e";var m=window.open("");m.document.write(g+e+k);m.document.title=jc[l]+" JSON Source"}function he(e,g){var k;return e.$schema?(e=pd(e.$schema),g&&g!==e.library&&console.warn("The given visualization spec is written in "+jc[e.library]+", but mode argument sets "+(null!==(k=jc[g])&&void 0!==k?k:g)+"."),g=e.library,Cb.satisfies(pb[g],"^"+e.version.slice(1))||
console.warn("The input spec uses "+jc[g]+" "+e.version+", but the current version of "+jc[g]+" is v"+pb[g]+"."),g):"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":null!==g&&void 0!==g?g:"vega"}function aa(e,g,k){k=void 0===k?{}:k;var l,m,t;return N(this,void 0,void 0,function O(){var p,u,x,z,C,L,N,M;return $jscomp.generator.createGenerator(O,function(G){switch(G.nextAddress){case 1:var O=
k.loader;p=O&&"load"in O?k.loader:ob.loader(k.loader);if(!hd(g)){u=g;G.jumpTo(2);break}x=JSON;z=x.parse;return G.yield(p.load(g),3);case 3:u=z.call(x,G.yieldResult);case 2:return C=u,G.yield(zc(null!==(l=C.usermeta&&C.usermeta.embedOptions)&&void 0!==l?l:{},p),4);case 4:return L=G.yieldResult,G.yield(zc(k,p),5);case 5:return N=G.yieldResult,M=Object.assign(Object.assign({},Fd(N,L)),{config:F(null!==(m=N.config)&&void 0!==m?m:{},null!==(t=L.config)&&void 0!==t?t:{})}),G.yield(Gd(e,C,M,p),6);case 6:return G.return(G.yieldResult)}})})}
function zc(e,g){var k;return N(this,void 0,void 0,function m(){var t,q,p,u,x,z,F,C;return $jscomp.generator.createGenerator(m,function(m){switch(m.nextAddress){case 1:if(!hd(e.config)){t=null!==(k=e.config)&&void 0!==k?k:{};m.jumpTo(2);break}q=JSON;p=q.parse;return m.yield(g.load(e.config),3);case 3:t=p.call(q,m.yieldResult);case 2:u=t;if(!hd(e.patch)){x=e.patch;m.jumpTo(4);break}z=JSON;F=z.parse;return m.yield(g.load(e.patch),5);case 5:x=F.call(z,m.yieldResult);case 4:return C=x,m.return(Object.assign(Object.assign(Object.assign({},
e),C?{patch:C}:{}),u?{config:u}:{}))}})})}function Gd(e,g,k,l){k=void 0===k?{}:k;var m,t,q,p,u,x;return N(this,void 0,void 0,function ia(){function G(){ua&&document.removeEventListener("click",ua);U.finalize()}var z,O,C,M,Tb,D,S,Q,R,X,K,W,aa,ba,ea,U,B,ja,da,na,ta,xa,ua,Aa,ma,Ba,oa,la,Da,Ca,Ia,sa,Ka,La,Va,bb;return $jscomp.generator.createGenerator(ia,function(ia){if(1==ia.nextAddress){z=k.theme?F(re[k.theme],null!==(m=k.config)&&void 0!==m?m:{}):k.config;O="boolean"===typeof k.actions?k.actions:Fd({},
Md,null!==(t=k.actions)&&void 0!==t?t:{});C=Object.assign(Object.assign({},ve),k.i18n);M=null!==(q=k.renderer)&&void 0!==q?q:"canvas";Tb=null!==(p=k.logLevel)&&void 0!==p?p:ob.Warn;D=null!==(u=k.downloadFileName)&&void 0!==u?u:"visualization";!1===k.defaultStyle||document.getElementById("vega-embed-style")||(S=document.createElement("style"),S.id="vega-embed-style",S.innerText=void 0===k.defaultStyle||!0===k.defaultStyle?'.vega-embed {\n  position: relative;\n  display: inline-block; }\n  .vega-embed.has-actions {\n    padding-right: 38px; }\n  .vega-embed details:not([open]) \x3e :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer;\n    line-height: 0px; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n    .vega-embed summary:active {\n      box-shadow: #aaa 0px 0px 0px 1px inset; }\n    .vega-embed summary svg {\n      width: 14px;\n      height: 14px; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    z-index: 1001;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n    text-align: left; }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: scroll;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n'.toString():
k.defaultStyle,document.head.appendChild(S));Q=he(g,k.mode);R=td[Q](g,z);"vega-lite"===Q&&R.$schema&&(X=pd(R.$schema),Cb.satisfies(pb.vega,"^"+X.version.slice(1))||console.warn("The compiled spec uses Vega "+X.version+", but current version is v"+pb.vega+"."));K="string"===typeof e?document.querySelector(e):e;if(!K)throw Error(e+" does not exist");K.classList.add("vega-embed");O&&K.classList.add("has-actions");K.innerHTML="";(W=k.patch)&&(R=W instanceof Function?W(R):L(R,W,!0,!1).newDocument);k.formatLocale&&
ob.formatLocale(k.formatLocale);k.timeFormatLocale&&ob.timeFormatLocale(k.timeFormatLocale);aa=k;ba=aa.ast;ea=ob.parse(R,"vega-lite"===Q?{}:z,{ast:ba});U=new ob.View(ea,Object.assign({loader:l,logLevel:Tb,renderer:M},ba?{expr:ob.expressionInterpreter}:{}));!1!==k.tooltip&&(B="function"===typeof k.tooltip?k.tooltip:(new Ld(!0===k.tooltip?{}:k.tooltip)).call,U.tooltip(B));ja=k;da=ja.hover;void 0===da&&(da="vega"===Q);da&&(na="boolean"===typeof da?{}:da,ta=na.hoverSet,xa=na.updateSet,U.hover(ta,xa));
k&&(null!=k.width&&U.width(k.width),null!=k.height&&U.height(k.height),null!=k.padding&&U.padding(k.padding));return ia.yield(U.initialize(e).runAsync(),2)}if(!1!==O){Aa=K;!1!==k.defaultStyle&&(ma=document.createElement("details"),ma.title=C.CLICK_TO_VIEW_ACTIONS,K.append(ma),Aa=ma,Ba=document.createElement("summary"),Ba.innerHTML='\n\x3csvg viewBox\x3d"0 0 16 16" fill\x3d"currentColor" stroke\x3d"none" stroke-width\x3d"1" stroke-linecap\x3d"round" stroke-linejoin\x3d"round"\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"2"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"8"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"14"\x3e\x3c/circle\x3e\n\x3c/svg\x3e',
ma.append(Ba),ua=function(e){ma.contains(e.target)||ma.removeAttribute("open")},document.addEventListener("click",ua));oa=document.createElement("div");Aa.append(oa);oa.classList.add("vega-actions");if(!0===O||!1!==O.export)for(la={},Da=$jscomp.makeIterator(["svg","png"]),Ca=Da.next();!Ca.done;la={$jscomp$loop$prop$ext$457:la.$jscomp$loop$prop$ext$457},Ca=Da.next())if(la.$jscomp$loop$prop$ext$457=Ca.value,!0===O||!0===O.export||O.export[la.$jscomp$loop$prop$ext$457])Ia=C[la.$jscomp$loop$prop$ext$457.toUpperCase()+
"_ACTION"],sa=document.createElement("a"),sa.text=Ia,sa.href="#",sa.target="_blank",sa.download=D+"."+la.$jscomp$loop$prop$ext$457,sa.addEventListener("mousedown",function(e){return function(g){return N(this,void 0,void 0,function ca(){var l,m=this;return $jscomp.generator.createGenerator(ca,function(t){if(1==t.nextAddress)return g.preventDefault(),t.yield(U.toImageURL(e.$jscomp$loop$prop$ext$457,k.scaleFactor),2);l=t.yieldResult;m.href=l;t.jumpToEnd()})})}}(la)),oa.append(sa);if(!0===O||!1!==O.source)Ka=
document.createElement("a"),Ka.text=C.SOURCE_ACTION,Ka.href="#",Ka.addEventListener("click",function(e){var l,m;ha(jb(g),null!==(l=k.sourceHeader)&&void 0!==l?l:"",null!==(m=k.sourceFooter)&&void 0!==m?m:"",Q);e.preventDefault()}),oa.append(Ka);"vega-lite"!==Q||!0!==O&&!1===O.compiled||(La=document.createElement("a"),La.text=C.COMPILED_ACTION,La.href="#",La.addEventListener("click",function(e){var g,l;ha(jb(R),null!==(g=k.sourceHeader)&&void 0!==g?g:"",null!==(l=k.sourceFooter)&&void 0!==l?l:"","vega");
e.preventDefault()}),oa.append(La));if(!0===O||!1!==O.editor)Va=null!==(x=k.editorUrl)&&void 0!==x?x:"https://vega.github.io/editor/",bb=document.createElement("a"),bb.text=C.EDITOR_ACTION,bb.href="#",bb.addEventListener("click",function(e){ge(window,Va,{config:z,mode:Q,renderer:M,spec:jb(g)});e.preventDefault()}),oa.append(bb)}return ia.return({view:U,spec:g,vgSpec:R,finalize:G})})})}function Ac(e,g){g=void 0===g?{}:g;var k;return N(this,void 0,void 0,function m(){var t,q,p,u;return $jscomp.generator.createGenerator(m,
function(m){if(1==m.nextAddress)return t=document.createElement("div"),t.classList.add("vega-embed-wrapper"),q=document.createElement("div"),t.appendChild(q),p=!0===g.actions||!1===g.actions?g.actions:Object.assign({export:!0,source:!1,compiled:!0,editor:!0},null!==(k=g.actions)&&void 0!==k?k:{}),m.yield(aa(q,e,Object.assign({actions:p},null!==g&&void 0!==g?g:{})),2);u=m.yieldResult;t.value=u.view;return m.return(t)})})}var ie=function(){var e=function(g,k){e=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(e,g){e.__proto__=g}||function(e,g){for(var k in g)g.hasOwnProperty(k)&&(e[k]=g[k])};return e(g,k)};return function(g,k){function l(){this.constructor=g}e(g,k);g.prototype=null===k?Object.create(k):(l.prototype=k.prototype,new l)}}(),Hd=Object.prototype.hasOwnProperty,xb=function(e){function g(g,l,m,t,q){var k=this.constructor,p=e.call(this,da(g,{name:l,index:m,operation:t,tree:q}))||this;p.name=l;p.index=m;p.operation=t;p.tree=q;Object.setPrototypeOf(p,k.prototype);p.message=da(g,
{name:l,index:m,operation:t,tree:q});return p}ie(g,e);return g}(Error),ba=xb,Ka={add:function(e,g,k){e[g]=this.value;return{newDocument:k}},remove:function(e,g,k){var l=e[g];delete e[g];return{newDocument:k,removed:l}},replace:function(e,g,k){var l=e[g];e[g]=this.value;return{newDocument:k,removed:l}},move:function(e,g,k){(e=Mb(k,this.path))&&(e=Aa(e));g=W(k,{op:"remove",path:this.from}).removed;W(k,{op:"add",path:this.path,value:g});return{newDocument:k,removed:e}},copy:function(e,g,k){e=Mb(k,this.from);
W(k,{op:"add",path:this.path,value:Aa(e)});return{newDocument:k}},test:function(e,g,k){return{newDocument:k,test:z(e[g],this.value)}},_get:function(e,g,k){this.value=e[g];return{newDocument:k}}},na={add:function(e,g,k){U(g)?e.splice(g,0,this.value):e[g]=this.value;return{newDocument:k,index:g}},remove:function(e,g,k){e=e.splice(g,1);return{newDocument:k,removed:e[0]}},replace:function(e,g,k){var l=e[g];e[g]=this.value;return{newDocument:k,removed:l}},move:Ka.move,copy:Ka.copy,test:Ka.test,_get:Ka._get},
id=Object.freeze({__proto__:null,JsonPatchError:ba,deepClone:Aa,getValueByPointer:Mb,applyOperation:W,applyPatch:L,applyReducer:function(e,g,k){var l=W(e,g);if(!1===l.test)throw new ba("Test operation failed","TEST_OPERATION_FAILED",k,g,e);return l.newDocument},validator:M,validate:Nb,_areEquals:z}),Nc=new WeakMap,Id=function(){return function(e){this.observers=new Map;this.obj=e}}(),bc=function(){return function(e,g){this.callback=e;this.observer=g}}(),La=Object.freeze({__proto__:null,unobserve:function(e,
g){g.unobserve()},observe:function(e,g){var k=Nc.get(e);if(k){var l=k.observers.get(g);var m=l&&l.observer}else k=new Id(e),Nc.set(e,k);if(m)return m;m={};k.value=Aa(e);if(g){m.callback=g;m.next=null;var t=function(){vc(m)},p=function(){clearTimeout(m.next);m.next=setTimeout(t)};"undefined"!==typeof window&&(window.addEventListener("mouseup",p),window.addEventListener("keyup",p),window.addEventListener("mousedown",p),window.addEventListener("keydown",p),window.addEventListener("change",p))}m.patches=
[];m.object=e;m.unobserve=function(){vc(m);clearTimeout(m.next);k.observers.delete(m.callback);"undefined"!==typeof window&&(window.removeEventListener("mouseup",p),window.removeEventListener("keyup",p),window.removeEventListener("mousedown",p),window.removeEventListener("keydown",p),window.removeEventListener("change",p))};k.observers.set(g,new bc(g,m));return m},generate:vc,compare:function(e,g,k){void 0===k&&(k=!1);var l=[];wc(e,g,l,"",k);return l}});Object.assign({},id,La,{JsonPatchError:xb,deepClone:Aa,
escapePathComponent:Lc,unescapePathComponent:gd});var yb=/("(?:[^\\"]|\\.)*")|[:,]/g,jb=function(e,g){g=g||{};var k=JSON.stringify([1],void 0,void 0===g.indent?2:g.indent).slice(2,-3);var l=""===k?Infinity:void 0===g.maxLength?80:g.maxLength;var m=g.replacer;return function Tb(e,g,p){e&&"function"===typeof e.toJSON&&(e=e.toJSON());var q=JSON.stringify(e,m);if(void 0===q)return q;p=l-g.length-p;if(q.length<=p){var u=q.replace(yb,function(e,g){return g||e+" "});if(u.length<=p)return u}null!=m&&(e=JSON.parse(q),
m=void 0);if("object"===typeof e&&null!==e){var x=g+k;var G=[];var z=0;if(Array.isArray(e)){var O="[";u="]";for(p=e.length;z<p;z++)G.push(Tb(e[z],x,z===p-1?0:1)||"null")}else{O="{";u="}";var F=Object.keys(e);for(p=F.length;z<p;z++){var C=F[z];var D=JSON.stringify(C)+": ";C=Tb(e[C],x,D.length+(z===p-1?0:1));void 0!==C&&G.push(D+C)}}if(0<G.length)return[O,k+G.join(",\n"+x),u].join("\n"+g)}return q}(e,"",0)},Va=Number.MAX_SAFE_INTEGER||9007199254740991,Q="object"===typeof Ia&&Ia.env&&Ia.env.NODE_DEBUG&&
/\bsemver\b/i.test(Ia.env.NODE_DEBUG)?function(e){for(var g=[],k=0;k<arguments.length;++k)g[k-0]=arguments[k];return console.error.apply(console,["SEMVER"].concat($jscomp.arrayFromIterable(g)))}:function(){},Ba=xc(function(e,g){g=e.exports={};var k=g.re=[],l=g.src=[],m=g.t={},p=0;e=function(e,g,t){var q=p++;Q(q,g);m[e]=q;l[q]=g;k[q]=new RegExp(g,t?"g":void 0)};e("NUMERICIDENTIFIER","0|[1-9]\\d*");e("NUMERICIDENTIFIERLOOSE","[0-9]+");e("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");e("MAINVERSION",
"("+l[m.NUMERICIDENTIFIER]+")\\.("+(l[m.NUMERICIDENTIFIER]+")\\.(")+(l[m.NUMERICIDENTIFIER]+")"));e("MAINVERSIONLOOSE","("+l[m.NUMERICIDENTIFIERLOOSE]+")\\.("+(l[m.NUMERICIDENTIFIERLOOSE]+")\\.(")+(l[m.NUMERICIDENTIFIERLOOSE]+")"));e("PRERELEASEIDENTIFIER","(?:"+l[m.NUMERICIDENTIFIER]+"|"+l[m.NONNUMERICIDENTIFIER]+")");e("PRERELEASEIDENTIFIERLOOSE","(?:"+l[m.NUMERICIDENTIFIERLOOSE]+"|"+l[m.NONNUMERICIDENTIFIER]+")");e("PRERELEASE","(?:-("+l[m.PRERELEASEIDENTIFIER]+"(?:\\."+l[m.PRERELEASEIDENTIFIER]+
")*))");e("PRERELEASELOOSE","(?:-?("+l[m.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+l[m.PRERELEASEIDENTIFIERLOOSE]+")*))");e("BUILDIDENTIFIER","[0-9A-Za-z-]+");e("BUILD","(?:\\+("+l[m.BUILDIDENTIFIER]+"(?:\\."+l[m.BUILDIDENTIFIER]+")*))");e("FULLPLAIN","v?"+l[m.MAINVERSION]+l[m.PRERELEASE]+"?"+l[m.BUILD]+"?");e("FULL","^"+l[m.FULLPLAIN]+"$");e("LOOSEPLAIN","[v\x3d\\s]*"+l[m.MAINVERSIONLOOSE]+l[m.PRERELEASELOOSE]+"?"+l[m.BUILD]+"?");e("LOOSE","^"+l[m.LOOSEPLAIN]+"$");e("GTLT","((?:\x3c|\x3e)?\x3d?)");e("XRANGEIDENTIFIERLOOSE",
l[m.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*");e("XRANGEIDENTIFIER",l[m.NUMERICIDENTIFIER]+"|x|X|\\*");e("XRANGEPLAIN","[v\x3d\\s]*("+l[m.XRANGEIDENTIFIER]+")(?:\\.("+(l[m.XRANGEIDENTIFIER]+")(?:\\.(")+(l[m.XRANGEIDENTIFIER]+")(?:")+(l[m.PRERELEASE]+")?"+l[m.BUILD]+"?)?)?"));e("XRANGEPLAINLOOSE","[v\x3d\\s]*("+l[m.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+(l[m.XRANGEIDENTIFIERLOOSE]+")(?:\\.(")+(l[m.XRANGEIDENTIFIERLOOSE]+")(?:")+(l[m.PRERELEASELOOSE]+")?"+l[m.BUILD]+"?)?)?"));e("XRANGE","^"+l[m.GTLT]+"\\s*"+l[m.XRANGEPLAIN]+
"$");e("XRANGELOOSE","^"+l[m.GTLT]+"\\s*"+l[m.XRANGEPLAINLOOSE]+"$");e("COERCE","(^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])");e("COERCERTL",l[m.COERCE],!0);e("LONETILDE","(?:~\x3e?)");e("TILDETRIM","(\\s*)"+l[m.LONETILDE]+"\\s+",!0);g.tildeTrimReplace="$1~";e("TILDE","^"+l[m.LONETILDE]+l[m.XRANGEPLAIN]+"$");e("TILDELOOSE","^"+l[m.LONETILDE]+l[m.XRANGEPLAINLOOSE]+"$");e("LONECARET","(?:\\^)");e("CARETTRIM","(\\s*)"+l[m.LONECARET]+"\\s+",!0);g.caretTrimReplace="$1^";e("CARET",
"^"+l[m.LONECARET]+l[m.XRANGEPLAIN]+"$");e("CARETLOOSE","^"+l[m.LONECARET]+l[m.XRANGEPLAINLOOSE]+"$");e("COMPARATORLOOSE","^"+l[m.GTLT]+"\\s*("+l[m.LOOSEPLAIN]+")$|^$");e("COMPARATOR","^"+l[m.GTLT]+"\\s*("+l[m.FULLPLAIN]+")$|^$");e("COMPARATORTRIM","(\\s*)"+l[m.GTLT]+"\\s*("+l[m.LOOSEPLAIN]+"|"+l[m.XRANGEPLAIN]+")",!0);g.comparatorTrimReplace="$1$2$3";e("HYPHENRANGE","^\\s*("+l[m.XRANGEPLAIN]+")\\s+-\\s+("+(l[m.XRANGEPLAIN]+")\\s*$"));e("HYPHENRANGELOOSE","^\\s*("+l[m.XRANGEPLAINLOOSE]+")\\s+-\\s+("+
(l[m.XRANGEPLAINLOOSE]+")\\s*$"));e("STAR","(\x3c|\x3e)?\x3d?\\s*\\*");e("GTE0","^\\s*\x3e\x3d\\s*0.0.0\\s*$");e("GTE0PRE","^\\s*\x3e\x3d\\s*0.0.0-0\\s*$")}),cc=/^[0-9]+$/,Pb=function(e,g){var k=cc.test(e),l=cc.test(g);k&&l&&(e=+e,g=+g);return e===g?0:k&&!l?-1:l&&!k?1:e<g?-1:1},Qb=Ba.re,zb=Ba.t,ea=function(e,g){g&&"object"===typeof g||(g={loose:!!g,includePrerelease:!1});if(e instanceof ea){if(e.loose===!!g.loose&&e.includePrerelease===!!g.includePrerelease)return e;e=e.version}else if("string"!==
typeof e)throw new TypeError("Invalid Version: "+e);if(256<e.length)throw new TypeError("version is longer than 256 characters");Q("SemVer",e,g);this.options=g;this.loose=!!g.loose;this.includePrerelease=!!g.includePrerelease;g=e.trim().match(g.loose?Qb[zb.LOOSE]:Qb[zb.FULL]);if(!g)throw new TypeError("Invalid Version: "+e);this.raw=e;this.major=+g[1];this.minor=+g[2];this.patch=+g[3];if(this.major>Va||0>this.major)throw new TypeError("Invalid major version");if(this.minor>Va||0>this.minor)throw new TypeError("Invalid minor version");
if(this.patch>Va||0>this.patch)throw new TypeError("Invalid patch version");this.prerelease=g[4]?g[4].split(".").map(function(e){if(/^[0-9]+$/.test(e)){var g=+e;if(0<=g&&g<Va)return g}return e}):[];this.build=g[5]?g[5].split("."):[];this.format()};ea.prototype.format=function(){this.version=this.major+"."+this.minor+"."+this.patch;this.prerelease.length&&(this.version+="-"+this.prerelease.join("."));return this.version};ea.prototype.toString=function(){return this.version};ea.prototype.compare=function(e){Q("SemVer.compare",
this.version,this.options,e);if(!(e instanceof ea)){if("string"===typeof e&&e===this.version)return 0;e=new ea(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)};ea.prototype.compareMain=function(e){e instanceof ea||(e=new ea(e,this.options));return Pb(this.major,e.major)||Pb(this.minor,e.minor)||Pb(this.patch,e.patch)};ea.prototype.comparePre=function(e){e instanceof ea||(e=new ea(e,this.options));if(this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&
e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var g=0;do{var k=this.prerelease[g],l=e.prerelease[g];Q("prerelease compare",g,k,l);if(void 0===k&&void 0===l)return 0;if(void 0===l)return 1;if(void 0===k)return-1;if(k!==l)return Pb(k,l)}while(++g)};ea.prototype.compareBuild=function(e){e instanceof ea||(e=new ea(e,this.options));var g=0;do{var k=this.build[g],l=e.build[g];Q("prerelease compare",g,k,l);if(void 0===k&&void 0===l)return 0;if(void 0===l)return 1;
if(void 0===k)return-1;if(k!==l)return Pb(k,l)}while(++g)};ea.prototype.inc=function(e,g){switch(e){case "premajor":this.minor=this.patch=this.prerelease.length=0;this.major++;this.inc("pre",g);break;case "preminor":this.patch=this.prerelease.length=0;this.minor++;this.inc("pre",g);break;case "prepatch":this.prerelease.length=0;this.inc("patch",g);this.inc("pre",g);break;case "prerelease":0===this.prerelease.length&&this.inc("patch",g);this.inc("pre",g);break;case "major":0===this.minor&&0===this.patch&&
0!==this.prerelease.length||this.major++;this.patch=this.minor=0;this.prerelease=[];break;case "minor":0===this.patch&&0!==this.prerelease.length||this.minor++;this.patch=0;this.prerelease=[];break;case "patch":0===this.prerelease.length&&this.patch++;this.prerelease=[];break;case "pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(e=this.prerelease.length;0<=--e;)"number"===typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}g&&(this.prerelease[0]===
g?isNaN(this.prerelease[1])&&(this.prerelease=[g,0]):this.prerelease=[g,0]);break;default:throw Error("invalid increment argument: "+e);}this.format();this.raw=this.version;return this};var R=ea,je=Ba.re,Oc=Ba.t,dc=function(e,g){g&&"object"===typeof g||(g={loose:!!g,includePrerelease:!1});if(e instanceof R)return e;if("string"!==typeof e||256<e.length||!(g.loose?je[Oc.LOOSE]:je[Oc.FULL]).test(e))return null;try{return new R(e,g)}catch(k){return null}},oa=function(e,g,k){return(new R(e,k)).compare(new R(g,
k))},Pc=function(e,g,k){return 0===oa(e,g,k)},X=function(e,g,k){e=new R(e,k);g=new R(g,k);return e.compare(g)||e.compareBuild(g)},ta=function(e,g,k){return 0<oa(e,g,k)},ec=function(e,g,k){return 0>oa(e,g,k)},Jd=function(e,g,k){return 0!==oa(e,g,k)},Qc=function(e,g,k){return 0<=oa(e,g,k)},jd=function(e,g,k){return 0>=oa(e,g,k)},Rc=function(e,g,k,l){switch(g){case "\x3d\x3d\x3d":return"object"===typeof e&&(e=e.version),"object"===typeof k&&(k=k.version),e===k;case "!\x3d\x3d":return"object"===typeof e&&
(e=e.version),"object"===typeof k&&(k=k.version),e!==k;case "":case "\x3d":case "\x3d\x3d":return Pc(e,k,l);case "!\x3d":return Jd(e,k,l);case "\x3e":return ta(e,k,l);case "\x3e\x3d":return Qc(e,k,l);case "\x3c":return ec(e,k,l);case "\x3c\x3d":return jd(e,k,l);default:throw new TypeError("Invalid operator: "+g);}},Sc=Ba.re,Tc=Ba.t,kb=function(e,g){var k=this;g&&"object"===typeof g||(g={loose:!!g,includePrerelease:!1});if(e instanceof kb)return e.loose===!!g.loose&&e.includePrerelease===!!g.includePrerelease?
e:new kb(e.raw,g);if(e instanceof Ab)return this.raw=e.value,this.set=[[e]],this.format(),this;this.options=g;this.loose=!!g.loose;this.includePrerelease=!!g.includePrerelease;this.raw=e;this.set=e.split(/\s*\|\|\s*/).map(function(e){return k.parseRange(e.trim())}).filter(function(e){return e.length});if(!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()};kb.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim()};
kb.prototype.toString=function(){return this.range};kb.prototype.parseRange=function(e){var g=this,k=this.options.loose;e=e.trim();e=e.replace(k?ua[xa.HYPHENRANGELOOSE]:ua[xa.HYPHENRANGE],Bc(this.options.includePrerelease));Q("hyphen replace",e);e=e.replace(ua[xa.COMPARATORTRIM],le);Q("comparator trim",e,ua[xa.COMPARATORTRIM]);e=e.replace(ua[xa.TILDETRIM],Kd);e=e.replace(ua[xa.CARETTRIM],kd);e=e.split(/\s+/).join(" ");var l=k?ua[xa.COMPARATORLOOSE]:ua[xa.COMPARATOR];return e.split(" ").map(function(e){var k=
e;e=g.options;Q("comp",k,e);k=ne(k,e);Q("caret",k);k=me(k,e);Q("tildes",k);k=x(k,e);Q("xrange",k);Q("replaceStars",k,e);k=k.trim().replace(ua[xa.STAR],"");Q("stars",k);return k}).join(" ").split(/\s+/).map(function(e){var k=g.options;Q("replaceGTE0",e,k);return e.trim().replace(ua[k.includePrerelease?xa.GTE0PRE:xa.GTE0],"")}).filter(this.options.loose?function(e){return!!e.match(l)}:function(){return!0}).map(function(e){return new Ab(e,g.options)})};kb.prototype.intersects=function(e,g){if(!(e instanceof
kb))throw new TypeError("a Range is required");return this.set.some(function(k){return ld(k,g)&&e.set.some(function(e){return ld(e,g)&&k.every(function(k){return e.every(function(e){return k.intersects(e,g)})})})})};kb.prototype.test=function(e){if(!e)return!1;if("string"===typeof e)try{e=new R(e,this.options)}catch(q){return!1}for(var g=0;g<this.set.length;g++){a:{var k=this.set[g];for(var l=e,m=this.options,p=0;p<k.length;p++)if(!k[p].test(l)){k=!1;break a}if(l.prerelease.length&&!m.includePrerelease){for(m=
0;m<k.length;m++)if(Q(k[m].semver),k[m].semver!==Ab.ANY&&0<k[m].semver.prerelease.length&&(p=k[m].semver,p.major===l.major&&p.minor===l.minor&&p.patch===l.patch)){k=!0;break a}k=!1}else k=!0}if(k)return!0}return!1};var Ca=kb,ua=Ba.re,xa=Ba.t,le=Ba.comparatorTrimReplace,Kd=Ba.tildeTrimReplace,kd=Ba.caretTrimReplace,ld=function(e,g){var k=!0;e=e.slice();for(var l=e.pop();k&&e.length;)k=e.every(function(e){return l.intersects(e,g)}),l=e.pop();return k},la=function(e){return!e||"x"===e.toLowerCase()||
"*"===e},me=function(e,g){return e.trim().split(/\s+/).map(function(e){return md(e,g)}).join(" ")},md=function(e,g){return e.replace(g.loose?ua[xa.TILDELOOSE]:ua[xa.TILDE],function(g,l,m,p,q){Q("tilde",e,g,l,m,p,q);la(l)?g="":la(m)?g="\x3e\x3d"+l+".0.0 \x3c"+(+l+1)+".0.0-0":la(p)?g="\x3e\x3d"+l+"."+m+".0 \x3c"+l+"."+(+m+1)+".0-0":q?(Q("replaceTilde pr",q),g="\x3e\x3d"+l+"."+m+"."+p+"-"+q+" \x3c"+l+"."+(+m+1)+".0-0"):g="\x3e\x3d"+l+"."+m+"."+p+" \x3c"+l+"."+(+m+1)+".0-0";Q("tilde return",g);return g})},
ne=function(e,g){return e.trim().split(/\s+/).map(function(e){return oe(e,g)}).join(" ")},oe=function(e,g){Q("caret",e,g);var k=g.includePrerelease?"-0":"";return e.replace(g.loose?ua[xa.CARETLOOSE]:ua[xa.CARET],function(g,m,p,q,u){Q("caret",e,g,m,p,q,u);la(m)?g="":la(p)?g="\x3e\x3d"+m+".0.0"+k+" \x3c"+(+m+1)+".0.0-0":la(q)?g="0"===m?"\x3e\x3d"+m+"."+p+".0"+k+" \x3c"+m+"."+(+p+1)+".0-0":"\x3e\x3d"+m+"."+p+".0"+k+" \x3c"+(+m+1)+".0.0-0":u?(Q("replaceCaret pr",u),g="0"===m?"0"===p?"\x3e\x3d"+m+"."+
p+"."+q+"-"+u+" \x3c"+m+"."+p+"."+(+q+1)+"-0":"\x3e\x3d"+m+"."+p+"."+q+"-"+u+" \x3c"+m+"."+(+p+1)+".0-0":"\x3e\x3d"+m+"."+p+"."+q+"-"+u+" \x3c"+(+m+1)+".0.0-0"):(Q("no pr"),g="0"===m?"0"===p?"\x3e\x3d"+m+"."+p+"."+q+k+" \x3c"+m+"."+p+"."+(+q+1)+"-0":"\x3e\x3d"+m+"."+p+"."+q+k+" \x3c"+m+"."+(+p+1)+".0-0":"\x3e\x3d"+m+"."+p+"."+q+" \x3c"+(+m+1)+".0.0-0");Q("caret return",g);return g})},x=function(e,g){Q("replaceXRanges",e,g);return e.split(/\s+/).map(function(e){return lf(e,g)}).join(" ")},lf=function(e,
g){e=e.trim();return e.replace(g.loose?ua[xa.XRANGELOOSE]:ua[xa.XRANGE],function(k,l,m,p,q,u){Q("xRange",e,k,l,m,p,q,u);var t=la(m),x=t||la(p);q=x||la(q);"\x3d"===l&&q&&(l="");u=g.includePrerelease?"-0":"";t?k="\x3e"===l||"\x3c"===l?"\x3c0.0.0-0":"*":l&&q?(x&&(p=0),q=0,"\x3e"===l?(l="\x3e\x3d",x?(m=+m+1,p=0):p=+p+1,q=0):"\x3c\x3d"===l&&(l="\x3c",x?m=+m+1:p=+p+1),"\x3c"===l&&(u="-0"),k=l+m+"."+p+"."+q+u):x?k="\x3e\x3d"+m+".0.0"+u+" \x3c"+(+m+1)+".0.0-0":q&&(k="\x3e\x3d"+m+"."+p+".0"+u+" \x3c"+m+"."+
(+p+1)+".0-0");Q("xRange return",k);return k})},Bc=function(e){return function(g,k,l,m,p,q,u,x,z,C,F,L,M){k=la(l)?"":la(m)?"\x3e\x3d"+l+".0.0"+(e?"-0":""):la(p)?"\x3e\x3d"+l+"."+m+".0"+(e?"-0":""):q?"\x3e\x3d"+k:"\x3e\x3d"+k+(e?"-0":"");x=la(z)?"":la(C)?"\x3c"+(+z+1)+".0.0-0":la(F)?"\x3c"+z+"."+(+C+1)+".0-0":L?"\x3c\x3d"+z+"."+C+"."+F+"-"+L:e?"\x3c"+z+"."+C+"."+(+F+1)+"-0":"\x3c\x3d"+x;return(k+" "+x).trim()}};$jscomp.initSymbol();var Uc=Symbol("SemVer ANY"),Rb=function(e,g){g&&"object"===typeof g||
(g={loose:!!g,includePrerelease:!1});if(e instanceof Rb){if(e.loose===!!g.loose)return e;e=e.value}Q("comparator",e,g);this.options=g;this.loose=!!g.loose;this.parse(e);this.value=this.semver===Uc?"":this.operator+this.semver.version;Q("comp",this)};Rb.prototype.parse=function(e){var g=e.match(this.options.loose?Cc[pe.COMPARATORLOOSE]:Cc[pe.COMPARATOR]);if(!g)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==g[1]?g[1]:"";"\x3d"===this.operator&&(this.operator="");this.semver=g[2]?
new R(g[2],this.options.loose):Uc};Rb.prototype.toString=function(){return this.value};Rb.prototype.test=function(e){Q("Comparator.test",e,this.options.loose);if(this.semver===Uc||e===Uc)return!0;if("string"===typeof e)try{e=new R(e,this.options)}catch(g){return!1}return Rc(e,this.operator,this.semver,this.options)};Rb.prototype.intersects=function(e,g){if(!(e instanceof Rb))throw new TypeError("a Comparator is required");g&&"object"===typeof g||(g={loose:!!g,includePrerelease:!1});if(""===this.operator)return""===
this.value?!0:(new Ca(e.value,g)).test(this.value);if(""===e.operator)return""===e.value?!0:(new Ca(this.value,g)).test(e.semver);var k=("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3e\x3d"===e.operator||"\x3e"===e.operator),l=("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3c\x3d"===e.operator||"\x3c"===e.operator),m=this.semver.version===e.semver.version,p=("\x3e\x3d"===this.operator||"\x3c\x3d"===this.operator)&&("\x3e\x3d"===e.operator||"\x3c\x3d"===e.operator),q=Rc(this.semver,
"\x3c",e.semver,g)&&("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3c\x3d"===e.operator||"\x3c"===e.operator);e=Rc(this.semver,"\x3e",e.semver,g)&&("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3e\x3d"===e.operator||"\x3e"===e.operator);return k||l||m&&p||q||e};$jscomp.global.Object.defineProperties(Rb,{ANY:{configurable:!0,enumerable:!0,get:function(){return Uc}}});var Ab=Rb,Cc=Ba.re,pe=Ba.t,lb=function(e,g,k){try{g=new Ca(g,k)}catch(l){return!1}return g.test(e)},qe=Ab.ANY,
od=function(e,g,k,l){e=new R(e,l);g=new Ca(g,l);switch(k){case "\x3e":var m=ta;k=jd;var p=ec;var q="\x3e";var u="\x3e\x3d";break;case "\x3c":m=ec;k=Qc;p=ta;q="\x3c";u="\x3c\x3d";break;default:throw new TypeError('Must provide a hilo val of "\x3c" or "\x3e"');}if(lb(e,g,l))return!1;for(var x={},z=0;z<g.set.length;x={$jscomp$loop$prop$high$454:x.$jscomp$loop$prop$high$454,$jscomp$loop$prop$low$455:x.$jscomp$loop$prop$low$455},++z){var C=g.set[z];x.$jscomp$loop$prop$high$454=null;x.$jscomp$loop$prop$low$455=
null;C.forEach(function(e){return function(g){g.semver===qe&&(g=new Ab("\x3e\x3d0.0.0"));e.$jscomp$loop$prop$high$454=e.$jscomp$loop$prop$high$454||g;e.$jscomp$loop$prop$low$455=e.$jscomp$loop$prop$low$455||g;m(g.semver,e.$jscomp$loop$prop$high$454.semver,l)?e.$jscomp$loop$prop$high$454=g:p(g.semver,e.$jscomp$loop$prop$low$455.semver,l)&&(e.$jscomp$loop$prop$low$455=g)}}(x));if(x.$jscomp$loop$prop$high$454.operator===q||x.$jscomp$loop$prop$high$454.operator===u||(!x.$jscomp$loop$prop$low$455.operator||
x.$jscomp$loop$prop$low$455.operator===q)&&k(e,x.$jscomp$loop$prop$low$455.semver)||x.$jscomp$loop$prop$low$455.operator===u&&p(e,x.$jscomp$loop$prop$low$455.semver))return!1}return!0},Da=Ab.ANY,nf=function(e,g,k){if(1===e.length&&e[0].semver===Da)return 1===g.length&&g[0].semver===Da;var l=new Set,m,p,q=$jscomp.makeIterator(e);for(e=q.next();!e.done;e=q.next())e=e.value,"\x3e"===e.operator||"\x3e\x3d"===e.operator?m=C(m,e,k):"\x3c"===e.operator||"\x3c\x3d"===e.operator?p=Bb(p,e,k):l.add(e.semver);
if(1<l.size)return null;if(m&&p){var u=oa(m.semver,p.semver,k);if(0<u||0===u&&("\x3e\x3d"!==m.operator||"\x3c\x3d"!==p.operator))return null}for(e=$jscomp.makeIterator(l).next();!e.done;){u=e.value;if(m&&!lb(u,String(m),k)||p&&!lb(u,String(p),k))return null;m=$jscomp.makeIterator(g);for(e=m.next();!e.done;e=m.next())if(!lb(u,String(e.value),k))return!1;return!0}g=$jscomp.makeIterator(g);for(e=g.next();!e.done;e=g.next()){e=e.value;var x=x||"\x3e"===e.operator||"\x3e\x3d"===e.operator;var z=z||"\x3c"===
e.operator||"\x3c\x3d"===e.operator;if(m)if("\x3e"===e.operator||"\x3e\x3d"===e.operator){if(l=C(m,e,k),l===e)return!1}else if("\x3e\x3d"===m.operator&&!lb(m.semver,String(e),k))return!1;if(p)if("\x3c"===e.operator||"\x3c\x3d"===e.operator){if(l=Bb(p,e,k),l===e)return!1}else if("\x3c\x3d"===p.operator&&!lb(p.semver,String(e),k))return!1;if(!e.operator&&(p||m)&&0!==u)return!1}return m&&z&&!p&&0!==u||p&&x&&!m&&0!==u?!1:!0},C=function(e,g,k){if(!e)return g;k=oa(e.semver,g.semver,k);return 0<k?e:0>k?
g:"\x3e"===g.operator&&"\x3e\x3d"===e.operator?g:e},Bb=function(e,g,k){if(!e)return g;k=oa(e.semver,g.semver,k);return 0>k?e:0<k?g:"\x3c"===g.operator&&"\x3c\x3d"===e.operator?g:e},Cb={re:Ba.re,src:Ba.src,tokens:Ba.t,SEMVER_SPEC_VERSION:"2.0.0",SemVer:R,compareIdentifiers:Pb,rcompareIdentifiers:function(e,g){return Pb(g,e)},parse:dc,valid:function(e,g){return(e=dc(e,g))?e.version:null},clean:function(e,g){return(e=dc(e.trim().replace(/^[=v]+/,""),g))?e.version:null},inc:function(e,g,k,l){"string"===
typeof k&&(l=k,k=void 0);try{return(new R(e,k)).inc(g,l).version}catch(m){return null}},diff:function(e,g){if(Pc(e,g))return null;e=dc(e);g=dc(g);var k=e.prerelease.length||g.prerelease.length,l=k?"pre":"",m;for(m in e)if(("major"===m||"minor"===m||"patch"===m)&&e[m]!==g[m])return l+m;return k?"prerelease":""},major:function(e,g){return(new R(e,g)).major},minor:function(e,g){return(new R(e,g)).minor},patch:function(e,g){return(new R(e,g)).patch},prerelease:function(e,g){return(e=dc(e,g))&&e.prerelease.length?
e.prerelease:null},compare:oa,rcompare:function(e,g,k){return oa(g,e,k)},compareLoose:function(e,g){return oa(e,g,!0)},compareBuild:X,sort:function(e,g){return e.sort(function(e,l){return X(e,l,g)})},rsort:function(e,g){return e.sort(function(e,l){return X(l,e,g)})},gt:ta,lt:ec,eq:Pc,neq:Jd,gte:Qc,lte:jd,cmp:Rc,coerce:function(e,g){if(e instanceof R)return e;"number"===typeof e&&(e=String(e));if("string"!==typeof e)return null;g=g||{};var k=null;if(g.rtl){for(var l;(l=Sc[Tc.COERCERTL].exec(e))&&(!k||
k.index+k[0].length!==e.length);)k&&l.index+l[0].length===k.index+k[0].length||(k=l),Sc[Tc.COERCERTL].lastIndex=l.index+l[1].length+l[2].length;Sc[Tc.COERCERTL].lastIndex=-1}else k=e.match(Sc[Tc.COERCE]);return null===k?null:dc(k[2]+"."+(k[3]||"0")+"."+(k[4]||"0"),g)},Comparator:Ab,Range:Ca,satisfies:lb,toComparators:function(e,g){return(new Ca(e,g)).set.map(function(e){return e.map(function(e){return e.value}).join(" ").trim().split(" ")})},maxSatisfying:function(e,g,k){var l=null,m=null,p=null;
try{p=new Ca(g,k)}catch(q){return null}e.forEach(function(e){!p.test(e)||l&&-1!==m.compare(e)||(l=e,m=new R(l,k))});return l},minSatisfying:function(e,g,k){var l=null,m=null,p=null;try{p=new Ca(g,k)}catch(q){return null}e.forEach(function(e){!p.test(e)||l&&1!==m.compare(e)||(l=e,m=new R(l,k))});return l},minVersion:function(e,g){e=new Ca(e,g);var k=new R("0.0.0");if(e.test(k))return k;k=new R("0.0.0-0");if(e.test(k))return k;k=null;for(g=0;g<e.set.length;++g)e.set[g].forEach(function(e){var g=new R(e.semver.version);
switch(e.operator){case "\x3e":0===g.prerelease.length?g.patch++:g.prerelease.push(0),g.raw=g.format();case "":case "\x3e\x3d":if(!k||ta(k,g))k=g;break;case "\x3c":case "\x3c\x3d":break;default:throw Error("Unexpected operation: "+e.operator);}});return k&&e.test(k)?k:null},validRange:function(e,g){try{return(new Ca(e,g)).range||"*"}catch(k){return null}},outside:od,gtr:function(e,g,k){return od(e,g,"\x3e",k)},ltr:function(e,g,k){return od(e,g,"\x3c",k)},intersects:function(e,g,k){e=new Ca(e,k);g=
new Ca(g,k);return e.intersects(g)},simplifyRange:function(e,g,k){var l=[],m=null,p=null;e=e.sort(function(e,g){return oa(e,g,k)});for(var q=$jscomp.makeIterator(e),u=q.next();!u.done;u=q.next())u=u.value,lb(u,g,k)?(p=u,m||(m=u)):(p&&l.push([m,p]),m=p=null);m&&l.push([m,null]);m=[];l=$jscomp.makeIterator(l);for(p=l.next();!p.done;p=l.next())q=$jscomp.makeIterator(p.value),p=q.next().value,q=q.next().value,p===q?m.push(p):q||p!==e[0]?q?p===e[0]?m.push("\x3c\x3d"+q):m.push(p+" - "+q):m.push("\x3e\x3d"+
p):m.push("*");e=m.join(" || ");return e.length<("string"===typeof g.raw?g.raw:String(g)).length?e:g},subset:function(e,g,k){e=new Ca(e,k);g=new Ca(g,k);var l=!1;e=$jscomp.makeIterator(e.set);var m=e.next();a:for(;!m.done;m=e.next()){m=m.value;for(var p=$jscomp.makeIterator(g.set),q=p.next();!q.done;q=p.next())if(q=nf(m,q.value,k),l=l||null!==q,q)continue a;if(l)return!1}return!0}},pd=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}(xc(function(e,
g){Object.defineProperty(g,"__esModule",{value:!0});g.default=function(e){e=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:e[0],version:e[1]}}})),fc={"category-6":"#ec8431 #829eb1 #c89d29 #3580b1 #adc839 #ab7fb4".split(" "),"fire-7":"#fbf2c7 #f9e39c #f8d36e #f4bb6a #e68a4f #d15a40 #ab4232".split(" "),"fireandice-6":"#e68a4f #f4bb6a #f9e39c #dadfe2 #a6b7c6 #849eae".split(" "),"ice-7":"#edefee #dadfe2 #c4ccd2 #a6b7c6 #849eae #607785 #47525d".split(" ")},gc={"main-colors":"#1696d2 #d2d2d2 #000000 #fdbf11 #ec008b #55b748 #5c5859 #db2b27".split(" "),
"shades-blue":"#CFE8F3 #A2D4EC #73BFE2 #46ABDB #1696D2 #12719E #0A4C6A #062635".split(" "),"shades-gray":"#F5F5F5 #ECECEC #E3E3E3 #DCDBDB #D2D2D2 #9D9D9D #696969 #353535".split(" "),"shades-yellow":"#FFF2CF #FCE39E #FDD870 #FCCB41 #FDBF11 #E88E2D #CA5800 #843215".split(" "),"shades-magenta":"#F5CBDF #EB99C2 #E46AA7 #E54096 #EC008B #AF1F6B #761548 #351123".split(" "),"shades-green":"#DCEDD9 #BCDEB4 #98CF90 #78C26D #55B748 #408941 #2C5C2D #1A2E19".split(" "),"shades-black":"#D5D5D4 #ADABAC #848081 #5C5859 #332D2F #262223 #1A1717 #0E0C0D".split(" "),
"shades-red":"#F8D5D4 #F1AAA9 #E9807D #E25552 #DB2B27 #A4201D #6E1614 #370B0A".split(" "),"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11",
"#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":"#1696d2 #ec008b #fdbf11 #000000 #d2d2d2 #55b748".split(" "),"six-groups-cat-2":"#1696d2 #d2d2d2 #ec008b #fdbf11 #332d2f #0a4c6a".split(" "),"six-groups-seq":"#cfe8f3 #a2d4ec #73bfe2 #46abdb #1696d2 #12719e".split(" "),
"diverging-colors":"#ca5800 #fdbf11 #fdd870 #fff2cf #cfe8f3 #73bfe2 #1696d2 #0a4c6a".split(" ")},re=Object.freeze({__proto__:null,version:"2.8.3",dark:{background:"#333",title:{color:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},excel:{background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},symbol:{fill:"#4572a7",
strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:"#4572a7 #aa4643 #8aa453 #71598e #4598ae #d98445 #94aace #d09393 #b9cc98 #a99cbc".split(" ")}},fivethirtyeight:{arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",
labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:"#30a2da #fc4f30 #e5ae38 #6d904f #8b8b8b #b96db8 #ff9e27 #56cc60 #52d2ca #52689e #545454 #9fe4f8".split(" "),
diverging:"#cc0020 #e77866 #f6e7e1 #d6e8ed #91bfd9 #1d78b5".split(" "),heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},ggplot2:{group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,
gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:"#000000 #7F7F7F #1A1A1A #999999 #333333 #B0B0B0 #4D4D4D #C9C9C9 #666666 #DCDCDC".split(" ")}},latimes:{background:"#ffffff",title:{anchor:"start",color:"#000000",font:"Benton Gothic Bold, sans-serif",fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},
line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",
labelFontSize:11.5,symbolType:"square",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},range:{category:fc["category-6"],diverging:fc["fireandice-6"],heatmap:fc["fire-7"],ordinal:fc["fire-7"],ramp:fc["fire-7"]}},quartz:{background:"#f9f9f9",arc:{fill:"#ab5787"},area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,
labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:"#ab5787 #51b2e5 #703c5c #168dd9 #d190b6 #00609f #d365ba #154866 #666666 #c4c4c4".split(" ")}},vox:{background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},
symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:"#3e5c69 #6793a6 #182429 #0570b0 #3690c0 #74a9cf #a6bddb #e2ddf2".split(" ")}},urbaninstitute:{background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,
labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",orient:"right",offset:10},view:{stroke:"transparent"},range:{category:gc["six-groups-cat-1"],
diverging:gc["diverging-colors"],heatmap:gc["diverging-colors"],ordinal:gc["six-groups-seq"],ramp:gc["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},
symbol:{fill:"#1696d2",size:30}},googlecharts:{arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",
dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:"#4285F4 #DB4437 #F4B400 #0F9D58 #AB47BC #00ACC1 #FF7043 #9E9D24 #5C6BC0 #F06292 #00796B #C2185B".split(" "),heatmap:["#c6dafc","#5e97f6","#2a56c6"]}}}),mb={offsetX:10,offsetY:10,id:"vg-tooltip-element",styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(e){return String(e).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;")},maxDepth:2},pf=function(e){return function(g){return g[e]}},
se=function(e){var g=e.length;return function(k){for(var l=0;l<g;++l)k=k[e[l]];return k}},hc=[];(function(e,g,k){var l=fd(e);e=1===l.length?l[0]:e;return sa((k&&k.get||S)(l),[e],g||e)})("id");sa(function(e){return e},hc,"identity");sa(function(){return 0},hc,"zero");sa(function(){return 1},hc,"one");sa(function(){return!0},hc,"true");sa(function(){return!1},hc,"false");var te=Array.isArray,qf=function(e,g){var k={},l;for(l in e)Object.prototype.hasOwnProperty.call(e,l)&&0>g.indexOf(l)&&(k[l]=e[l]);
if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var m=0;for(l=Object.getOwnPropertySymbols(e);m<l.length;m++)0>g.indexOf(l[m])&&Object.prototype.propertyIsEnumerable.call(e,l[m])&&(k[l[m]]=e[l[m]])}return k},Ld=function(e){this.options=Object.assign(Object.assign({},mb),e);e=this.options.id;this.call=this.tooltipHandler.bind(this);if(!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){var g=document.createElement("style");g.setAttribute("id",this.options.styleId);
if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw Error("Invalid HTML ID");var k="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element img {\n    max-width: 200px;\n    max-height: 200px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n".toString().replace("vg-tooltip-element",
e);g.innerHTML=k;k=document.head;0<k.childNodes.length?k.insertBefore(g,k.childNodes[0]):k.appendChild(g)}this.el=document.getElementById(e);this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",e),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))};Ld.prototype.tooltipHandler=function(e,g,k,l){if(null==l||""===l)this.el.classList.remove("visible",this.options.theme+"-theme");else{this.el.innerHTML=Ob(l,this.options.sanitize,this.options.maxDepth);this.el.classList.add("visible",
this.options.theme+"-theme");e=this.el.getBoundingClientRect();var m=this.options.offsetX;k=this.options.offsetY;l=g.clientX+m;l+e.width>window.innerWidth&&(l=+g.clientX-m-e.width);m=g.clientY+k;m+e.height>window.innerHeight&&(m=+g.clientY-k-e.height);this.el.setAttribute("style","top: "+m+"px; left: "+l+"px")}};String.prototype.startsWith||(String.prototype.startsWith=function(e,g){return this.substr(!g||0>g?0:+g,e.length)===e});var sd,ob=p,Sb=u,Wc="undefined"!==typeof window?window:void 0;void 0===
Sb&&(null===(sd=null===Wc||void 0===Wc?void 0:Wc.vl)||void 0===sd?0:sd.compile)&&(Sb=Wc.vl);var Md={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},ve={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},jc={vega:"Vega","vega-lite":"Vega-Lite"},pb={vega:ob.version,"vega-lite":Sb?Sb.version:"not available"},td={vega:function(e){return e},"vega-lite":function(e,
g){return Sb.compile(e,{config:g}).spec}},Eb=function(e){for(var g=[],k=0;k<arguments.length;++k)g[k-0]=arguments[k];if(k=1<g.length){if(k=p.isString(g[0]))k=g[0],k=!(k.startsWith("http://")||k.startsWith("https://")||k.startsWith("//"));k=k||g[0]instanceof HTMLElement||3===g.length}return k?aa(g[0],g[1],g[2]):Ac(g[0],g[1])};Eb.vegaLite=Sb;Eb.vl=Sb;Eb.container=Ac;Eb.embed=aa;Eb.vega=ob;Eb.default=aa;Eb.version="6.9.0";return Eb})};
shadow$provide[54]=function(r,m,y,g){var h=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,ya=Object.prototype.propertyIsEnumerable;y.exports=function(){try{if(!Object.assign)return!1;var h=new String("abc");h[5]="de";if("5"===Object.getOwnPropertyNames(h)[0])return!1;var g={};for(h=0;10>h;h++)g["_"+String.fromCharCode(h)]=h;if("0123456789"!==Object.getOwnPropertyNames(g).map(function(h){return g[h]}).join(""))return!1;var u={};"abcdefghijklmnopqrst".split("").forEach(function(h){u[h]=
h});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},u)).join("")?!1:!0}catch(za){return!1}}()?Object.assign:function(g,m){if(null===g||void 0===g)throw new TypeError("Object.assign cannot be called with null or undefined");var y=Object(g);for(var r,ca=1;ca<arguments.length;ca++){var P=Object(arguments[ca]);for(var sa in P)u.call(P,sa)&&(y[sa]=P[sa]);if(h){r=h(P);for(var Y=0;Y<r.length;Y++)ya.call(P,r[Y])&&(y[r[Y]]=P[r[Y]])}}return y}};
shadow$provide[55]=function(r,m,y,g){function h(f){for(var n="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+f,h=1;h<arguments.length;h++)n+="\x26args[]\x3d"+encodeURIComponent(arguments[h]);return"Minified React error #"+f+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(f,h,g){this.props=f;this.context=h;this.refs=Ra;this.updater=g||la}function ya(){}function ca(f,h,g){this.props=f;this.context=h;
this.refs=Ra;this.updater=g||la}function Ea(f,h,g){var n,t={},I=null,u=null;if(null!=h)for(n in void 0!==h.ref&&(u=h.ref),void 0!==h.key&&(I=""+h.key),h)w.call(h,n)&&!Fa.hasOwnProperty(n)&&(t[n]=h[n]);var z=arguments.length-2;if(1===z)t.children=g;else if(1<z){for(var m=Array(z),r=0;r<z;r++)m[r]=arguments[r+2];t.children=m}if(f&&f.defaultProps)for(n in z=f.defaultProps,z)void 0===t[n]&&(t[n]=z[n]);return{$$typeof:D,type:f,key:I,ref:u,props:t,_owner:K.current}}function bb(f,h){return{$$typeof:D,type:f.type,
key:h,ref:f.ref,props:f.props,_owner:f._owner}}function za(f){return"object"===typeof f&&null!==f&&f.$$typeof===D}function ub(f){var h={"\x3d":"\x3d0",":":"\x3d2"};return"$"+(""+f).replace(/[=:]/g,function(f){return h[f]})}function P(f,h,g,t){if(da.length){var n=da.pop();n.result=f;n.keyPrefix=h;n.func=g;n.context=t;n.count=0;return n}return{result:f,keyPrefix:h,func:g,context:t,count:0}}function sa(f){f.result=null;f.keyPrefix=null;f.func=null;f.context=null;f.count=0;10>da.length&&da.push(f)}function Y(f,
n,g,t){var I=typeof f;if("undefined"===I||"boolean"===I)f=null;var Z=!1;if(null===f)Z=!0;else switch(I){case "string":case "number":Z=!0;break;case "object":switch(f.$$typeof){case D:case vb:Z=!0}}if(Z)return g(t,f,""===n?"."+ta(f,0):n),1;Z=0;n=""===n?".":n+":";if(Array.isArray(f))for(var u=0;u<f.length;u++){I=f[u];var z=n+ta(I,u);Z+=Y(I,z,g,t)}else if(null===f||"object"!==typeof f?z=null:(z=S&&f[S]||f["@@iterator"],z="function"===typeof z?z:null),"function"===typeof z)for(f=z.call(f),u=0;!(I=f.next()).done;)I=
I.value,z=n+ta(I,u++),Z+=Y(I,z,g,t);else if("object"===I)throw g=""+f,Error(h(31,"[object Object]"===g?"object with keys {"+Object.keys(f).join(", ")+"}":g,""));return Z}function Sa(f,h,g){return null==f?0:Y(f,"",h,g)}function ta(f,h){return"object"===typeof f&&null!==f&&null!=f.key?ub(f.key):h.toString(36)}function Ga(f,h){f.func.call(f.context,h,f.count++)}function Ta(f,h,g){var n=f.result,t=f.keyPrefix;f=f.func.call(f.context,h,f.count++);Array.isArray(f)?Ha(f,n,g,function(f){return f}):null!=
f&&(za(f)&&(f=bb(f,t+(!f.key||h&&h.key===f.key?"":(""+f.key).replace(ma,"$\x26/")+"/")+g)),n.push(f))}function Ha(f,h,g,t,u){var n="";null!=g&&(n=(""+g).replace(ma,"$\x26/")+"/");h=P(h,n,t,u);Sa(f,Ta,h);sa(h)}function aa(){var f=t.current;if(null===f)throw Error(h(321));return f}var cb=m(54),M="function"===typeof Symbol&&Symbol.for,D=M?Symbol.for("react.element"):60103,vb=M?Symbol.for("react.portal"):60106;r=M?Symbol.for("react.fragment"):60107;m=M?Symbol.for("react.strict_mode"):60108;y=M?Symbol.for("react.profiler"):
60114;var Ia=M?Symbol.for("react.provider"):60109,ua=M?Symbol.for("react.context"):60110,wb=M?Symbol.for("react.forward_ref"):60112,ea=M?Symbol.for("react.suspense"):60113,db=M?Symbol.for("react.memo"):60115,fa=M?Symbol.for("react.lazy"):60116,S="function"===typeof Symbol&&Symbol.iterator,la={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ra={};u.prototype.isReactComponent={};u.prototype.setState=function(f,g){if("object"!==
typeof f&&"function"!==typeof f&&null!=f)throw Error(h(85));this.updater.enqueueSetState(this,f,g,"setState")};u.prototype.forceUpdate=function(f){this.updater.enqueueForceUpdate(this,f,"forceUpdate")};ya.prototype=u.prototype;M=ca.prototype=new ya;M.constructor=ca;cb(M,u.prototype);M.isPureReactComponent=!0;var K={current:null},w=Object.prototype.hasOwnProperty,Fa={key:!0,ref:!0,__self:!0,__source:!0},ma=/\/+/g,da=[],t={current:null};M={ReactCurrentDispatcher:t,ReactCurrentBatchConfig:{suspense:null},
ReactCurrentOwner:K,IsSomeRendererActing:{current:!1},assign:cb};g.Children={map:function(f,h,g){if(null==f)return f;var n=[];Ha(f,n,null,h,g);return n},forEach:function(f,h,g){if(null==f)return f;h=P(null,null,h,g);Sa(f,Ga,h);sa(h)},count:function(f){return Sa(f,function(){return null},null)},toArray:function(f){var h=[];Ha(f,h,null,function(f){return f});return h},only:function(f){if(!za(f))throw Error(h(143));return f}};g.Component=u;g.Fragment=r;g.Profiler=y;g.PureComponent=ca;g.StrictMode=m;
g.Suspense=ea;g.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M;g.cloneElement=function(f,g,t){if(null===f||void 0===f)throw Error(h(267,f));var n=cb({},f.props),u=f.key,I=f.ref,r=f._owner;if(null!=g){void 0!==g.ref&&(I=g.ref,r=K.current);void 0!==g.key&&(u=""+g.key);if(f.type&&f.type.defaultProps)var z=f.type.defaultProps;for(m in g)w.call(g,m)&&!Fa.hasOwnProperty(m)&&(n[m]=void 0===g[m]&&void 0!==z?z[m]:g[m])}var m=arguments.length-2;if(1===m)n.children=t;else if(1<m){z=Array(m);for(var y=
0;y<m;y++)z[y]=arguments[y+2];n.children=z}return{$$typeof:D,type:f.type,key:u,ref:I,props:n,_owner:r}};g.createContext=function(f,h){void 0===h&&(h=null);f={$$typeof:ua,_calculateChangedBits:h,_currentValue:f,_currentValue2:f,_threadCount:0,Provider:null,Consumer:null};f.Provider={$$typeof:Ia,_context:f};return f.Consumer=f};g.createElement=Ea;g.createFactory=function(f){var h=Ea.bind(null,f);h.type=f;return h};g.createRef=function(){return{current:null}};g.forwardRef=function(f){return{$$typeof:wb,
render:f}};g.isValidElement=za;g.lazy=function(f){return{$$typeof:fa,_ctor:f,_status:-1,_result:null}};g.memo=function(f,h){return{$$typeof:db,type:f,compare:void 0===h?null:h}};g.useCallback=function(f,h){return aa().useCallback(f,h)};g.useContext=function(f,h){return aa().useContext(f,h)};g.useDebugValue=function(){};g.useEffect=function(f,h){return aa().useEffect(f,h)};g.useImperativeHandle=function(f,h,g){return aa().useImperativeHandle(f,h,g)};g.useLayoutEffect=function(f,h){return aa().useLayoutEffect(f,
h)};g.useMemo=function(f,h){return aa().useMemo(f,h)};g.useReducer=function(f,h,g){return aa().useReducer(f,h,g)};g.useRef=function(f){return aa().useRef(f)};g.useState=function(f){return aa().useState(f)};g.version="16.13.1"};
shadow$provide[59]=function(r,m,y,g){y.exports=m(55)};
shadow$provide[60]=function(r,m,y,g){function h(h,f){var g=h.length;h.push(f);a:for(;;){var t=g-1>>>1,u=h[t];if(void 0!==u&&0<ca(u,f))h[t]=f,h[g]=u,g=t;else break a}}function u(h){h=h[0];return void 0===h?null:h}function ya(h){var f=h[0];if(void 0!==f){var g=h.pop();if(g!==f){h[0]=g;var t=0,u=h.length;a:for(;t<u;){var m=2*(t+1)-1,r=h[m],y=m+1,z=h[y];if(void 0!==r&&0>ca(r,g))void 0!==z&&0>ca(z,r)?(h[t]=z,h[y]=g,t=y):(h[t]=r,h[m]=g,t=m);else if(void 0!==z&&0>ca(z,g))h[t]=z,h[y]=g,t=y;else break a}}return f}return null}
function ca(h,f){var g=h.sortIndex-f.sortIndex;return 0!==g?g:h.id-f.id}function Ea(g){for(var f=u(la);null!==f;){if(null===f.callback)ya(la);else if(f.startTime<=g)ya(la),f.sortIndex=f.expirationTime,h(S,f);else break;f=u(la)}}function bb(h){da=!1;Ea(h);if(!ma)if(null!==u(S))ma=!0,ta(za);else{var f=u(la);null!==f&&Ga(bb,f.startTime-h)}}function za(h,f){ma=!1;da&&(da=!1,Ta());Fa=!0;var t=w;try{Ea(f);for(K=u(S);null!==K&&(!(K.expirationTime>f)||h&&!Ha());){var m=K.callback;if(null!==m){K.callback=
null;w=K.priorityLevel;var r=m(K.expirationTime<=f);f=g.unstable_now();"function"===typeof r?K.callback=r:K===u(S)&&ya(S);Ea(f)}else ya(S);K=u(S)}if(null!==K)var y=!0;else{var D=u(la);null!==D&&Ga(bb,D.startTime-f);y=!1}return y}finally{K=null,w=t,Fa=!1}}function ub(h){switch(h){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1E4;default:return 5E3}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var P=null,sa=null,Y=function(){if(null!==P)try{var h=g.unstable_now();
P(!0,h);P=null}catch(f){throw setTimeout(Y,0),f;}},Sa=Date.now();g.unstable_now=function(){return Date.now()-Sa};var ta=function(h){null!==P?setTimeout(ta,0,h):(P=h,setTimeout(Y,0))};var Ga=function(h,f){sa=setTimeout(h,f)};var Ta=function(){clearTimeout(sa)};var Ha=function(){return!1};r=g.unstable_forceFrameRate=function(){}}else{var aa=window.performance,cb=window.Date,M=window.setTimeout,D=window.clearTimeout;"undefined"!==typeof console&&(r=window.cancelAnimationFrame,"function"!==typeof window.requestAnimationFrame&&
console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof r&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));if("object"===typeof aa&&"function"===typeof aa.now)g.unstable_now=function(){return aa.now()};else{var vb=cb.now();g.unstable_now=function(){return cb.now()-vb}}var Ia=!1,
ua=null,wb=-1,ea=5,db=0;Ha=function(){return g.unstable_now()>=db};r=function(){};g.unstable_forceFrameRate=function(h){0>h||125<h?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):ea=0<h?Math.floor(1E3/h):5};m=new MessageChannel;var fa=m.port2;m.port1.onmessage=function(){if(null!==ua){var h=g.unstable_now();db=h+ea;try{ua(!0,h)?fa.postMessage(null):(Ia=!1,ua=null)}catch(f){throw fa.postMessage(null),f;}}else Ia=!1};
ta=function(h){ua=h;Ia||(Ia=!0,fa.postMessage(null))};Ga=function(h,f){wb=M(function(){h(g.unstable_now())},f)};Ta=function(){D(wb);wb=-1}}var S=[],la=[],Ra=1,K=null,w=3,Fa=!1,ma=!1,da=!1;g.unstable_IdlePriority=5;g.unstable_ImmediatePriority=1;g.unstable_LowPriority=4;g.unstable_NormalPriority=3;g.unstable_Profiling=null;g.unstable_UserBlockingPriority=2;g.unstable_cancelCallback=function(h){h.callback=null};g.unstable_continueExecution=function(){ma||Fa||(ma=!0,ta(za))};g.unstable_getCurrentPriorityLevel=
function(){return w};g.unstable_getFirstCallbackNode=function(){return u(S)};g.unstable_next=function(h){switch(w){case 1:case 2:case 3:var f=3;break;default:f=w}var g=w;w=f;try{return h()}finally{w=g}};g.unstable_pauseExecution=function(){};g.unstable_requestPaint=r;g.unstable_runWithPriority=function(h,f){switch(h){case 1:case 2:case 3:case 4:case 5:break;default:h=3}var g=w;w=h;try{return f()}finally{w=g}};g.unstable_scheduleCallback=function(t,f,n){var m=g.unstable_now();if("object"===typeof n&&
null!==n){var r=n.delay;r="number"===typeof r&&0<r?m+r:m;n="number"===typeof n.timeout?n.timeout:ub(t)}else n=ub(t),r=m;n=r+n;t={id:Ra++,callback:f,priorityLevel:t,startTime:r,expirationTime:n,sortIndex:-1};r>m?(t.sortIndex=r,h(la,t),null===u(S)&&t===u(la)&&(da?Ta():da=!0,Ga(bb,r-m))):(t.sortIndex=n,h(S,t),ma||Fa||(ma=!0,ta(za)));return t};g.unstable_shouldYield=function(){var h=g.unstable_now();Ea(h);var f=u(S);return f!==K&&null!==K&&null!==f&&null!==f.callback&&f.startTime<=h&&f.expirationTime<
K.expirationTime||Ha()};g.unstable_wrapCallback=function(h){var f=w;return function(){var g=w;w=f;try{return h.apply(this,arguments)}finally{w=g}}}};
shadow$provide[62]=function(r,m,y,g){y.exports=m(60)};
shadow$provide[63]=function(r,m,y,g){function h(a){for(var b="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+a,c=1;c<arguments.length;c++)b+="\x26args[]\x3d"+encodeURIComponent(arguments[c]);return"Minified React error #"+a+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(a,b,c,d,e,k,l,h,f){var v=Array.prototype.slice.call(arguments,3);try{b.apply(c,v)}catch(F){this.onError(F)}}function ya(a,b,c,d,
e,k,l,h,f){ic=!1;Qc=null;u.apply(ni,arguments)}function ca(a,b,c,d,e,k,l,v,f){ya.apply(this,arguments);if(ic){if(ic){var g=Qc;ic=!1;Qc=null}else throw Error(h(198));Rc||(Rc=!0,Zd=g)}}function Ea(a,b,c){var d=a.type||"unknown-event";a.currentTarget=Kf(c);ca(d,b,void 0,a);a.currentTarget=null}function bb(){if(Sc)for(var a in Nb){var b=Nb[a],c=Sc.indexOf(a);if(!(-1<c))throw Error(h(96,a));if(!Tc[c]){if(!b.extractEvents)throw Error(h(97,a));Tc[c]=b;c=b.eventTypes;for(var d in c){var e=void 0,k=c[d],l=
b,v=d;if($d.hasOwnProperty(v))throw Error(h(99,v));$d[v]=k;var f=k.phasedRegistrationNames;if(f){for(e in f)f.hasOwnProperty(e)&&za(f[e],l,v);e=!0}else k.registrationName?(za(k.registrationName,l,v),e=!0):e=!1;if(!e)throw Error(h(98,d,a));}}}}function za(a,b,c){if(Ob[a])throw Error(h(100,a));Ob[a]=b;ae[a]=b.eventTypes[c].dependencies}function ub(a){var b=!1,c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c];if(!Nb.hasOwnProperty(c)||Nb[c]!==d){if(Nb[c])throw Error(h(102,c));Nb[c]=d;b=!0}}b&&bb()}function P(a){if(a=
Lf(a)){if("function"!==typeof be)throw Error(h(280));var b=a.stateNode;b&&(b=ce(b),be(a.stateNode,a.type,b))}}function sa(a){Pb?Qb?Qb.push(a):Qb=[a]:Pb=a}function Y(){if(Pb){var a=Pb,b=Qb;Qb=Pb=null;P(a);if(b)for(a=0;a<b.length;a++)P(b[a])}}function Sa(a,b){return a(b)}function ta(a,b,c,d,e){return a(b,c,d,e)}function Ga(){}function Ta(){if(null!==Pb||null!==Qb)Ga(),Y()}function Ha(a,b,c){if(de)return a(b,c);de=!0;try{return Mf(a,b,c)}finally{de=!1,Ta()}}function aa(a){if(Nf.call(Of,a))return!0;if(Nf.call(Pf,
a))return!1;if(oi.test(a))return Of[a]=!0;Pf[a]=!0;return!1}function cb(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case "function":case "symbol":return!0;case "boolean":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return"data-"!==a&&"aria-"!==a;default:return!1}}function M(a,b,c,d){if(null===b||"undefined"===typeof b||cb(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||
1>b}return!1}function D(a,b,c,d,e,k){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=k}function vb(a){return a[1].toUpperCase()}function Ia(a,b,c,d){var e=T.hasOwnProperty(b)?T[b]:null;(null!==e?0===e.type:d?0:2<b.length&&("o"===b[0]||"O"===b[0])&&("n"===b[1]||"N"===b[1]))||(M(b,c,e,d)&&(c=null),d||null===e?aa(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,""+c)):e.mustUseProperty?
a[e.propertyName]=null===c?3===e.type?!1:"":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?"":""+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c))))}function ua(a){if(null===a||"object"!==typeof a)return null;a=Qf&&a[Qf]||a["@@iterator"];return"function"===typeof a?a:null}function wb(a){if(-1===a._status){a._status=0;var b=a._ctor;b=b();a._result=b;b.then(function(b){0===a._status&&(b=b.default,a._status=1,a._result=b)},function(b){0===a._status&&
(a._status=2,a._result=b)})}}function ea(a){if(null==a)return null;if("function"===typeof a)return a.displayName||a.name||null;if("string"===typeof a)return a;switch(a){case xb:return"Fragment";case Rb:return"Portal";case Uc:return"Profiler";case Rf:return"StrictMode";case Vc:return"Suspense";case ee:return"SuspenseList"}if("object"===typeof a)switch(a.$$typeof){case Sf:return"Context.Consumer";case Tf:return"Context.Provider";case fe:var b=a.render;b=b.displayName||b.name||"";return a.displayName||
(""!==b?"ForwardRef("+b+")":"ForwardRef");case ge:return ea(a.type);case Uf:return ea(a.render);case Vf:if(a=1===a._status?a._result:null)return ea(a)}return null}function db(a){var b="";do{a:switch(a.tag){case 3:case 4:case 6:case 7:case 10:case 9:var c="";break a;default:var d=a._debugOwner,e=a._debugSource,k=ea(a.type);c=null;d&&(c=ea(d.type));d=k;k="";e?k=" (at "+e.fileName.replace(pi,"")+":"+e.lineNumber+")":c&&(k=" (created by "+c+")");c="\n    in "+(d||"Unknown")+k}b+=c;a=a.return}while(a);
return b}function fa(a){switch(typeof a){case "boolean":case "number":case "object":case "string":case "undefined":return a;default:return""}}function S(a){var b=a.type;return(a=a.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===b||"radio"===b)}function la(a){var b=S(a)?"checked":"value",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=""+a[b];if(!a.hasOwnProperty(b)&&"undefined"!==typeof c&&"function"===typeof c.get&&"function"===typeof c.set){var e=c.get,k=c.set;Object.defineProperty(a,
b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=""+a;k.call(this,a)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=""+a},stopTracking:function(){a._valueTracker=null;delete a[b]}}}}function Ra(a){a._valueTracker||(a._valueTracker=la(a))}function K(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue(),d="";a&&(d=S(a)?a.checked?"true":"false":a.value);a=d;return a!==c?(b.setValue(a),!0):
!1}function w(a,b){var c=b.checked;return ba({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function Fa(a,b){var c=null==b.defaultValue?"":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=fa(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:"checkbox"===b.type||"radio"===b.type?null!=b.checked:null!=b.value}}function ma(a,b){b=b.checked;null!=b&&Ia(a,"checked",b,!1)}function da(a,b){ma(a,
b);var c=fa(b.value),d=b.type;if(null!=c)if("number"===d){if(0===c&&""===a.value||a.value!=c)a.value=""+c}else a.value!==""+c&&(a.value=""+c);else if("submit"===d||"reset"===d){a.removeAttribute("value");return}b.hasOwnProperty("value")?f(a,b.type,c):b.hasOwnProperty("defaultValue")&&f(a,b.type,fa(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}function t(a,b,c){if(b.hasOwnProperty("value")||b.hasOwnProperty("defaultValue")){var d=b.type;if(!("submit"!==
d&&"reset"!==d||void 0!==b.value&&null!==b.value))return;b=""+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;""!==c&&(a.name="");a.defaultChecked=!!a._wrapperState.initialChecked;""!==c&&(a.name=c)}function f(a,b,c){if("number"!==b||a.ownerDocument.activeElement!==a)null==c?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+c&&(a.defaultValue=""+c)}function n(a){var b="";Wc.Children.forEach(a,function(a){null!=a&&(b+=a)});return b}function I(a,b){a=
ba({children:void 0},b);if(b=n(b.children))a.children=b;return a}function Z(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b["$"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty("$"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=""+fa(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}function Xd(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(h(91));
return ba({},b,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function Hf(a,b){var c=b.value;if(null==c){c=b.children;b=b.defaultValue;if(null!=c){if(null!=b)throw Error(h(92));if(Array.isArray(c)){if(!(1>=c.length))throw Error(h(93));c=c[0]}b=c}null==b&&(b="");c=b}a._wrapperState={initialValue:fa(c)}}function If(a,b){var c=fa(b.value),d=fa(b.defaultValue);null!=c&&(c=""+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&
(a.defaultValue=""+d)}function z(a){var b=a.textContent;b===a._wrapperState.initialValue&&""!==b&&null!==b&&(a.value=b)}function Jf(a){switch(a){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yd(a,b){return null==a||"http://www.w3.org/1999/xhtml"===a?Jf(b):"http://www.w3.org/2000/svg"===a&&"foreignObject"===b?"http://www.w3.org/1999/xhtml":a}function jc(a,b){if(b){var c=a.firstChild;if(c&&
c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b}function Xc(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c["Webkit"+a]="webkit"+b;c["Moz"+a]="moz"+b;return c}function Yc(a){if(he[a])return he[a];if(!Sb[a])return a;var b=Sb[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Wf)return he[a]=b[c];return a}function ie(a){var b=Xf.get(a);void 0===b&&(b=new Map,Xf.set(a,b));return b}function yb(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.effectTag&
1026)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function Yf(a){if(13===a.tag){var b=a.memoizedState;null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState));if(null!==b)return b.dehydrated}return null}function Zf(a){if(yb(a)!==a)throw Error(h(188));}function qi(a){var b=a.alternate;if(!b){b=yb(a);if(null===b)throw Error(h(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var k=e.alternate;if(null===k){d=e.return;if(null!==d){c=d;continue}break}if(e.child===
k.child){for(k=e.child;k;){if(k===c)return Zf(e),a;if(k===d)return Zf(e),b;k=k.sibling}throw Error(h(188));}if(c.return!==d.return)c=e,d=k;else{for(var l=!1,v=e.child;v;){if(v===c){l=!0;c=e;d=k;break}if(v===d){l=!0;d=e;c=k;break}v=v.sibling}if(!l){for(v=k.child;v;){if(v===c){l=!0;c=k;d=e;break}if(v===d){l=!0;d=k;c=e;break}v=v.sibling}if(!l)throw Error(h(189));}}if(c.alternate!==d)throw Error(h(190));}if(3!==c.tag)throw Error(h(188));return c.stateNode.current===c?a:b}function $f(a){a=qi(a);if(!a)return null;
for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child)b.child.return=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}}return null}function Tb(a,b){if(null==b)throw Error(h(30));if(null==a)return b;if(Array.isArray(a)){if(Array.isArray(b))return a.push.apply(a,b),a;a.push(b);return a}return Array.isArray(b)?[a].concat(b):[a,b]}function je(a,b,c){Array.isArray(a)?a.forEach(b,c):a&&b.call(c,a)}function ri(a){if(a){var b=
a._dispatchListeners,c=a._dispatchInstances;if(Array.isArray(b))for(var d=0;d<b.length&&!a.isPropagationStopped();d++)Ea(a,b[d],c[d]);else b&&Ea(a,b,c);a._dispatchListeners=null;a._dispatchInstances=null;a.isPersistent()||a.constructor.release(a)}}function Zc(a){null!==a&&(kc=Tb(kc,a));a=kc;kc=null;if(a){je(a,ri);if(kc)throw Error(h(95));if(Rc)throw a=Zd,Rc=!1,Zd=null,a;}}function ke(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?
a.parentNode:a}function ag(a){if(!eb)return!1;a="on"+a;var b=a in document;b||(b=document.createElement("div"),b.setAttribute(a,"return;"),b="function"===typeof b[a]);return b}function bg(a){a.topLevelType=null;a.nativeEvent=null;a.targetInst=null;a.ancestors.length=0;10>$c.length&&$c.push(a)}function cg(a,b,c,d){if($c.length){var e=$c.pop();e.topLevelType=a;e.eventSystemFlags=d;e.nativeEvent=b;e.targetInst=c;return e}return{topLevelType:a,eventSystemFlags:d,nativeEvent:b,targetInst:c,ancestors:[]}}
function dg(a){var b=a.targetInst,c=b;do{if(!c){a.ancestors.push(c);break}var d=c;if(3===d.tag)d=d.stateNode.containerInfo;else{for(;d.return;)d=d.return;d=3!==d.tag?null:d.stateNode.containerInfo}if(!d)break;b=c.tag;5!==b&&6!==b||a.ancestors.push(c);c=lc(d)}while(c);for(c=0;c<a.ancestors.length;c++){b=a.ancestors[c];var e=ke(a.nativeEvent);d=a.topLevelType;var k=a.nativeEvent,l=a.eventSystemFlags;0===c&&(l|=64);for(var h=null,f=0;f<Tc.length;f++){var g=Tc[f];g&&(g=g.extractEvents(d,b,k,e,l))&&(h=
Tb(h,g))}Zc(h)}}function le(a,b,c){if(!c.has(a)){switch(a){case "scroll":mc(b,"scroll",!0);break;case "focus":case "blur":mc(b,"focus",!0);mc(b,"blur",!0);c.set("blur",null);c.set("focus",null);break;case "cancel":case "close":ag(a)&&mc(b,a,!0);break;case "invalid":case "submit":case "reset":break;default:-1===nc.indexOf(a)&&J(a,b)}c.set(a,null)}}function si(a,b){var c=ie(b);me.forEach(function(a){le(a,b,c)});ti.forEach(function(a){le(a,b,c)})}function ne(a,b,c,d,e){return{blockedOn:a,topLevelType:b,
eventSystemFlags:c|32,nativeEvent:e,container:d}}function eg(a,b){switch(a){case "focus":case "blur":fb=null;break;case "dragenter":case "dragleave":gb=null;break;case "mouseover":case "mouseout":hb=null;break;case "pointerover":case "pointerout":oc.delete(b.pointerId);break;case "gotpointercapture":case "lostpointercapture":pc.delete(b.pointerId)}}function qc(a,b,c,d,e,k){if(null===a||a.nativeEvent!==k)return a=ne(b,c,d,e,k),null!==b&&(b=rc(b),null!==b&&fg(b)),a;a.eventSystemFlags|=d;return a}function ui(a,
b,c,d,e){switch(b){case "focus":return fb=qc(fb,a,b,c,d,e),!0;case "dragenter":return gb=qc(gb,a,b,c,d,e),!0;case "mouseover":return hb=qc(hb,a,b,c,d,e),!0;case "pointerover":var k=e.pointerId;oc.set(k,qc(oc.get(k)||null,a,b,c,d,e));return!0;case "gotpointercapture":return k=e.pointerId,pc.set(k,qc(pc.get(k)||null,a,b,c,d,e)),!0}return!1}function vi(a){var b=lc(a.target);if(null!==b){var c=yb(b);if(null!==c)if(b=c.tag,13===b){if(b=Yf(c),null!==b){a.blockedOn=b;U.unstable_runWithPriority(a.priority,
function(){wi(c)});return}}else if(3===b&&c.stateNode.hydrate){a.blockedOn=3===c.tag?c.stateNode.containerInfo:null;return}}a.blockedOn=null}function ad(a){if(null!==a.blockedOn)return!1;var b=oe(a.topLevelType,a.eventSystemFlags,a.container,a.nativeEvent);if(null!==b){var c=rc(b);null!==c&&fg(c);a.blockedOn=b;return!1}return!0}function gg(a,b,c){ad(a)&&c.delete(b)}function xi(){for(pe=!1;0<Ja.length;){var a=Ja[0];if(null!==a.blockedOn){a=rc(a.blockedOn);null!==a&&yi(a);break}var b=oe(a.topLevelType,
a.eventSystemFlags,a.container,a.nativeEvent);null!==b?a.blockedOn=b:Ja.shift()}null!==fb&&ad(fb)&&(fb=null);null!==gb&&ad(gb)&&(gb=null);null!==hb&&ad(hb)&&(hb=null);oc.forEach(gg);pc.forEach(gg)}function sc(a,b){a.blockedOn===b&&(a.blockedOn=null,pe||(pe=!0,U.unstable_scheduleCallback(U.unstable_NormalPriority,xi)))}function hg(a){function b(b){return sc(b,a)}if(0<Ja.length){sc(Ja[0],a);for(var c=1;c<Ja.length;c++){var d=Ja[c];d.blockedOn===a&&(d.blockedOn=null)}}null!==fb&&sc(fb,a);null!==gb&&
sc(gb,a);null!==hb&&sc(hb,a);oc.forEach(b);pc.forEach(b);for(c=0;c<tc.length;c++)d=tc[c],d.blockedOn===a&&(d.blockedOn=null);for(;0<tc.length&&(c=tc[0],null===c.blockedOn);)vi(c),null===c.blockedOn&&tc.shift()}function qe(a,b){for(var c=0;c<a.length;c+=2){var d=a[c],e=a[c+1],k="on"+(e[0].toUpperCase()+e.slice(1));k={phasedRegistrationNames:{bubbled:k,captured:k+"Capture"},dependencies:[d],eventPriority:b};re.set(d,b);ig.set(d,k);jg[e]=k}}function J(a,b){mc(b,a,!1)}function mc(a,b,c){var d=re.get(b);
switch(void 0===d?2:d){case 0:d=zi.bind(null,b,1,a);break;case 1:d=Ai.bind(null,b,1,a);break;default:d=bd.bind(null,b,1,a)}c?a.addEventListener(b,d,!0):a.addEventListener(b,d,!1)}function zi(a,b,c,d){zb||Ga();var e=bd,k=zb;zb=!0;try{ta(e,a,b,c,d)}finally{(zb=k)||Ta()}}function Ai(a,b,c,d){Bi(Ci,bd.bind(null,a,b,c,d))}function bd(a,b,c,d){if(cd)if(0<Ja.length&&-1<me.indexOf(a))a=ne(null,a,b,c,d),Ja.push(a);else{var e=oe(a,b,c,d);if(null===e)eg(a,d);else if(-1<me.indexOf(a))a=ne(e,a,b,c,d),Ja.push(a);
else if(!ui(e,a,b,c,d)){eg(a,d);a=cg(a,d,null,b);try{Ha(dg,a)}finally{bg(a)}}}}function oe(a,b,c,d){c=ke(d);c=lc(c);if(null!==c){var e=yb(c);if(null===e)c=null;else{var k=e.tag;if(13===k){c=Yf(e);if(null!==c)return c;c=null}else if(3===k){if(e.stateNode.hydrate)return 3===e.tag?e.stateNode.containerInfo:null;c=null}else e!==c&&(c=null)}}a=cg(a,d,c,b);try{Ha(dg,a)}finally{bg(a)}return null}function kg(a,b,c){return null==b||"boolean"===typeof b||""===b?"":c||"number"!==typeof b||0===b||uc.hasOwnProperty(a)&&
uc[a]?(""+b).trim():b+"px"}function lg(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf("--"),e=kg(c,b[c],d);"float"===c&&(c="cssFloat");d?a.setProperty(c,e):a[c]=e}}function se(a,b){if(b){if(Di[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(h(137,a,""));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(h(60));if(!("object"===typeof b.dangerouslySetInnerHTML&&"__html"in b.dangerouslySetInnerHTML))throw Error(h(61));}if(null!=b.style&&
"object"!==typeof b.style)throw Error(h(62,""));}}function te(a,b){if(-1===a.indexOf("-"))return"string"===typeof b.is;switch(a){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;default:return!0}}function Ua(a,b){a=9===a.nodeType||11===a.nodeType?a:a.ownerDocument;var c=ie(a);b=ae[b];for(var d=0;d<b.length;d++)le(b[d],a,c)}function dd(){}function ue(a){a=a||("undefined"!==
typeof document?document:void 0);if("undefined"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}function mg(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function ng(a,b){var c=mg(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=mg(c)}}function og(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?og(a,b.parentNode):
"contains"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}function pg(){for(var a=window,b=ue();b instanceof a.HTMLIFrameElement;){try{var c="string"===typeof b.contentWindow.location.href}catch(d){c=!1}if(c)a=b.contentWindow;else break;b=ue(a.document)}return b}function ve(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&("input"===b&&("text"===a.type||"search"===a.type||"tel"===a.type||"url"===a.type||"password"===a.type)||"textarea"===b||"true"===
a.contentEditable)}function qg(a,b){switch(a){case "button":case "input":case "select":case "textarea":return!!b.autoFocus}return!1}function we(a,b){return"textarea"===a||"option"===a||"noscript"===a||"string"===typeof b.children||"number"===typeof b.children||"object"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}function Ub(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break}return a}function rg(a){a=a.previousSibling;
for(var b=0;a;){if(8===a.nodeType){var c=a.data;if(c===sg||c===xe||c===ye){if(0===b)return a;b--}else c===tg&&b++}a=a.previousSibling}return null}function lc(a){var b=a[ib];if(b)return b;for(var c=a.parentNode;c;){if(b=c[vc]||c[ib]){c=b.alternate;if(null!==b.child||null!==c&&null!==c.child)for(a=rg(a);null!==a;){if(c=a[ib])return c;a=rg(a)}return b}a=c;c=a.parentNode}return null}function rc(a){a=a[ib]||a[vc];return!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function Ab(a){if(5===a.tag||
6===a.tag)return a.stateNode;throw Error(h(33));}function ze(a){return a[ed]||null}function Va(a){do a=a.return;while(a&&5!==a.tag);return a?a:null}function ug(a,b){var c=a.stateNode;if(!c)return null;var d=ce(c);if(!d)return null;c=d[b];a:switch(b){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(d=!d.disabled)||
(a=a.type,d=!("button"===a||"input"===a||"select"===a||"textarea"===a));a=!d;break a;default:a=!1}if(a)return null;if(c&&"function"!==typeof c)throw Error(h(231,b,typeof c));return c}function vg(a,b,c){if(b=ug(a,c.dispatchConfig.phasedRegistrationNames[b]))c._dispatchListeners=Tb(c._dispatchListeners,b),c._dispatchInstances=Tb(c._dispatchInstances,a)}function Ei(a){if(a&&a.dispatchConfig.phasedRegistrationNames){for(var b=a._targetInst,c=[];b;)c.push(b),b=Va(b);for(b=c.length;0<b--;)vg(c[b],"captured",
a);for(b=0;b<c.length;b++)vg(c[b],"bubbled",a)}}function Ae(a,b,c){a&&c&&c.dispatchConfig.registrationName&&(b=ug(a,c.dispatchConfig.registrationName))&&(c._dispatchListeners=Tb(c._dispatchListeners,b),c._dispatchInstances=Tb(c._dispatchInstances,a))}function Fi(a){a&&a.dispatchConfig.registrationName&&Ae(a._targetInst,null,a)}function Vb(a){je(a,Ei)}function wg(){if(fd)return fd;var a,b=Be,c=b.length,d,e="value"in jb?jb.value:jb.textContent,k=e.length;for(a=0;a<c&&b[a]===e[a];a++);var l=c-a;for(d=
1;d<=l&&b[c-d]===e[k-d];d++);return fd=e.slice(a,1<d?1-d:void 0)}function gd(){return!0}function hd(){return!1}function na(a,b,c,d){this.dispatchConfig=a;this._targetInst=b;this.nativeEvent=c;a=this.constructor.Interface;for(var e in a)a.hasOwnProperty(e)&&((b=a[e])?this[e]=b(c):"target"===e?this.target=d:this[e]=c[e]);this.isDefaultPrevented=(null!=c.defaultPrevented?c.defaultPrevented:!1===c.returnValue)?gd:hd;this.isPropagationStopped=hd;return this}function Gi(a,b,c,d){if(this.eventPool.length){var e=
this.eventPool.pop();this.call(e,a,b,c,d);return e}return new this(a,b,c,d)}function Hi(a){if(!(a instanceof this))throw Error(h(279));a.destructor();10>this.eventPool.length&&this.eventPool.push(a)}function xg(a){a.eventPool=[];a.getPooled=Gi;a.release=Hi}function yg(a,b){switch(a){case "keyup":return-1!==Ii.indexOf(b.keyCode);case "keydown":return 229!==b.keyCode;case "keypress":case "mousedown":case "blur":return!0;default:return!1}}function zg(a){a=a.detail;return"object"===typeof a&&"data"in
a?a.data:null}function Ji(a,b){switch(a){case "compositionend":return zg(b);case "keypress":if(32!==b.which)return null;Ag=!0;return Bg;case "textInput":return a=b.data,a===Bg&&Ag?null:a;default:return null}}function Ki(a,b){if(Wb)return"compositionend"===a||!Ce&&yg(a,b)?(a=wg(),fd=Be=jb=null,Wb=!1,a):null;switch(a){case "paste":return null;case "keypress":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;
case "compositionend":return Cg&&"ko"!==b.locale?null:b.data;default:return null}}function Dg(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return"input"===b?!!Li[a.type]:"textarea"===b?!0:!1}function Eg(a,b,c){a=na.getPooled(Fg.change,a,b,c);a.type="change";sa(c);Vb(a);return a}function Mi(a){Zc(a)}function id(a){var b=Ab(a);if(K(b))return a}function Ni(a,b){if("change"===a)return b}function Gg(){wc&&(wc.detachEvent("onpropertychange",Hg),xc=wc=null)}function Hg(a){if("value"===a.propertyName&&
id(xc))if(a=Eg(xc,a,ke(a)),zb)Zc(a);else{zb=!0;try{Sa(Mi,a)}finally{zb=!1,Ta()}}}function Oi(a,b,c){"focus"===a?(Gg(),wc=b,xc=c,wc.attachEvent("onpropertychange",Hg)):"blur"===a&&Gg()}function Pi(a){if("selectionchange"===a||"keyup"===a||"keydown"===a)return id(xc)}function Qi(a,b){if("click"===a)return id(b)}function Ri(a,b){if("input"===a||"change"===a)return id(b)}function Si(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Ti[a])?!!b[a]:!1}function De(){return Si}function Ui(a,
b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}function yc(a,b){if(Bb(a,b))return!0;if("object"!==typeof a||null===a||"object"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++)if(!Vi.call(b,c[d])||!Bb(a[c[d]],b[c[d]]))return!1;return!0}function Ig(a,b){var c=b.window===b?b.document:9===b.nodeType?b:b.ownerDocument;if(Ee||null==Xb||Xb!==ue(c))return null;c=Xb;"selectionStart"in c&&ve(c)?c={start:c.selectionStart,end:c.selectionEnd}:
(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset});return zc&&yc(zc,c)?null:(zc=c,a=na.getPooled(Jg.select,Fe,a,b),a.type="select",a.target=Xb,Vb(a),a)}function jd(a){var b=a.keyCode;"charCode"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function E(a){0>Yb||(a.current=Ge[Yb],Ge[Yb]=null,Yb--)}function N(a,b){Yb++;Ge[Yb]=a.current;a.current=
b}function Zb(a,b){var c=a.type.contextTypes;if(!c)return kb;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},k;for(k in c)e[k]=b[k];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}function ha(a){a=a.childContextTypes;return null!==a&&void 0!==a}function kd(){E(ia);E(V)}function Kg(a,b,c){if(V.current!==kb)throw Error(h(168));N(V,b);N(ia,c)}
function Lg(a,b,c){var d=a.stateNode;a=b.childContextTypes;if("function"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in a))throw Error(h(108,ea(b)||"Unknown",e));return ba({},c,{},d)}function ld(a){a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||kb;Cb=V.current;N(V,a);N(ia,ia.current);return!0}function Mg(a,b,c){var d=a.stateNode;if(!d)throw Error(h(169));c?(a=Lg(a,b,Cb),d.__reactInternalMemoizedMergedChildContext=a,E(ia),E(V),N(V,a)):E(ia);N(ia,
c)}function md(){switch(Wi()){case nd:return 99;case Ng:return 98;case Og:return 97;case Pg:return 96;case Qg:return 95;default:throw Error(h(332));}}function Rg(a){switch(a){case 99:return nd;case 98:return Ng;case 97:return Og;case 96:return Pg;case 95:return Qg;default:throw Error(h(332));}}function lb(a,b){a=Rg(a);return Xi(a,b)}function Sg(a,b,c){a=Rg(a);return He(a,b,c)}function Tg(a){null===Wa?(Wa=[a],od=He(nd,Ug)):Wa.push(a);return Vg}function Ka(){if(null!==od){var a=od;od=null;Wg(a)}Ug()}
function Ug(){if(!Ie&&null!==Wa){Ie=!0;var a=0;try{var b=Wa;lb(99,function(){for(;a<b.length;a++){var c=b[a];do c=c(!0);while(null!==c)}});Wa=null}catch(c){throw null!==Wa&&(Wa=Wa.slice(a+1)),He(nd,Ka),c;}finally{Ie=!1}}}function pd(a,b,c){c/=10;return 1073741821-(((1073741821-a+b/10)/c|0)+1)*c}function Aa(a,b){if(a&&a.defaultProps){b=ba({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c])}return b}function Je(a){var b=qd.current;E(qd);a.type._context._currentValue=b}function Xg(a,b){for(;null!==
a;){var c=a.alternate;if(a.childExpirationTime<b)a.childExpirationTime=b,null!==c&&c.childExpirationTime<b&&(c.childExpirationTime=b);else if(null!==c&&c.childExpirationTime<b)c.childExpirationTime=b;else break;a=a.return}}function $b(a,b){ac=a;bc=mb=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(a.expirationTime>=b&&(La=!0),a.firstContext=null)}function va(a,b){if(bc!==a&&!1!==b&&0!==b){if("number"!==typeof b||1073741823===b)bc=a,b=1073741823;b={context:a,observedBits:b,next:null};if(null===
mb){if(null===ac)throw Error(h(308));mb=b;ac.dependencies={expirationTime:0,firstContext:b,responders:null}}else mb=mb.next=b}return a._currentValue}function Ke(a){a.updateQueue={baseState:a.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function Le(a,b){a=a.updateQueue;b.updateQueue===a&&(b.updateQueue={baseState:a.baseState,baseQueue:a.baseQueue,shared:a.shared,effects:a.effects})}function nb(a,b){a={expirationTime:a,suspenseConfig:b,tag:0,payload:null,callback:null,next:null};
return a.next=a}function ob(a,b){a=a.updateQueue;if(null!==a){a=a.shared;var c=a.pending;null===c?b.next=b:(b.next=c.next,c.next=b);a.pending=b}}function Yg(a,b){var c=a.alternate;null!==c&&Le(c,a);a=a.updateQueue;c=a.baseQueue;null===c?(a.baseQueue=b.next=b,b.next=b):(b.next=c.next,c.next=b)}function Ac(a,b,c,d){var e=a.updateQueue;pb=!1;var k=e.baseQueue,l=e.shared.pending;if(null!==l){if(null!==k){var h=k.next;k.next=l.next;l.next=h}k=l;e.shared.pending=null;h=a.alternate;null!==h&&(h=h.updateQueue,
null!==h&&(h.baseQueue=l))}if(null!==k){h=k.next;var f=e.baseState,g=0,F=null,Xa=null,p=null;if(null!==h){var m=h;do{l=m.expirationTime;if(l<d){var r={expirationTime:m.expirationTime,suspenseConfig:m.suspenseConfig,tag:m.tag,payload:m.payload,callback:m.callback,next:null};null===p?(Xa=p=r,F=f):p=p.next=r;l>g&&(g=l)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:m.suspenseConfig,tag:m.tag,payload:m.payload,callback:m.callback,next:null});Zg(l,m.suspenseConfig);a:{var n=a,G=m;l=
b;r=c;switch(G.tag){case 1:n=G.payload;if("function"===typeof n){f=n.call(r,f,l);break a}f=n;break a;case 3:n.effectTag=n.effectTag&-4097|64;case 0:n=G.payload;l="function"===typeof n?n.call(r,f,l):n;if(null===l||void 0===l)break a;f=ba({},f,l);break a;case 2:pb=!0}}null!==m.callback&&(a.effectTag|=32,l=e.effects,null===l?e.effects=[m]:l.push(m))}m=m.next;if(null===m||m===h)if(l=e.shared.pending,null===l)break;else m=k.next=l.next,l.next=h,e.baseQueue=k=l,e.shared.pending=null}while(1)}null===p?F=
f:p.next=Xa;e.baseState=F;e.baseQueue=p;rd(g);a.expirationTime=g;a.memoizedState=f}}function $g(a,b,c){a=b.effects;b.effects=null;if(null!==a)for(b=0;b<a.length;b++){var d=a[b],e=d.callback;if(null!==e){d.callback=null;d=e;e=c;if("function"!==typeof d)throw Error(h(191,d));d.call(e)}}}function sd(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:ba({},b,c);a.memoizedState=c;0===a.expirationTime&&(a.updateQueue.baseState=c)}function ah(a,b,c,d,e,k,l){a=a.stateNode;return"function"===typeof a.shouldComponentUpdate?
a.shouldComponentUpdate(d,k,l):b.prototype&&b.prototype.isPureReactComponent?!yc(c,d)||!yc(e,k):!0}function bh(a,b,c){var d=!1,e=kb,k=b.contextType;"object"===typeof k&&null!==k?k=va(k):(e=ha(b)?Cb:V.current,d=b.contextTypes,k=(d=null!==d&&void 0!==d)?Zb(a,e):kb);b=new b(c,k);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=td;a.stateNode=b;b._reactInternalFiber=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=k);
return b}function ch(a,b,c,d){a=b.state;"function"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);"function"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&td.enqueueReplaceState(b,b.state,null)}function Me(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs=dh;Ke(a);var k=b.contextType;"object"===typeof k&&null!==k?e.context=va(k):(k=ha(b)?Cb:V.current,e.context=Zb(a,k));Ac(a,c,e,d);e.state=a.memoizedState;
k=b.getDerivedStateFromProps;"function"===typeof k&&(sd(a,b,k,c),e.state=a.memoizedState);"function"===typeof b.getDerivedStateFromProps||"function"===typeof e.getSnapshotBeforeUpdate||"function"!==typeof e.UNSAFE_componentWillMount&&"function"!==typeof e.componentWillMount||(b=e.state,"function"===typeof e.componentWillMount&&e.componentWillMount(),"function"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&td.enqueueReplaceState(e,e.state,null),Ac(a,c,e,d),e.state=
a.memoizedState);"function"===typeof e.componentDidMount&&(a.effectTag|=4)}function Bc(a,b,c){a=c.ref;if(null!==a&&"function"!==typeof a&&"object"!==typeof a){if(c._owner){if(c=c._owner){if(1!==c.tag)throw Error(h(309));var d=c.stateNode}if(!d)throw Error(h(147,a));var e=""+a;if(null!==b&&null!==b.ref&&"function"===typeof b.ref&&b.ref._stringRef===e)return b.ref;b=function(a){var b=d.refs;b===dh&&(b=d.refs={});null===a?delete b[e]:b[e]=a};b._stringRef=e;return b}if("string"!==typeof a)throw Error(h(284));
if(!c._owner)throw Error(h(290,a));}return a}function ud(a,b){if("textarea"!==a.type)throw Error(h(31,"[object Object]"===Object.prototype.toString.call(b)?"object with keys {"+Object.keys(b).join(", ")+"}":b,""));}function eh(a){function b(b,c){if(a){var d=b.lastEffect;null!==d?(d.nextEffect=c,b.lastEffect=c):b.firstEffect=b.lastEffect=c;c.nextEffect=null;c.effectTag=8}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==
b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b){a=Db(a,b);a.index=0;a.sibling=null;return a}function k(b,c,d){b.index=d;if(!a)return c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.effectTag=2,c):d;b.effectTag=2;return c}function l(b){a&&null===b.alternate&&(b.effectTag=2);return b}function f(a,b,c,d){if(null===b||6!==b.tag)return b=Ne(c,a.mode,d),b.return=a,b;b=e(b,c);b.return=a;return b}function g(a,b,c,d){if(null!==b&&b.elementType===c.type)return d=e(b,c.props),
d.ref=Bc(a,b,c),d.return=a,d;d=vd(c.type,c.key,c.props,null,a.mode,d);d.ref=Bc(a,b,c);d.return=a;return d}function q(a,b,c,d){if(null===b||4!==b.tag||b.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation)return b=Oe(c,a.mode,d),b.return=a,b;b=e(b,c.children||[]);b.return=a;return b}function m(a,b,c,d,k){if(null===b||7!==b.tag)return b=qb(c,a.mode,d,k),b.return=a,b;b=e(b,c);b.return=a;return b}function p(a,b,c){if("string"===typeof b||"number"===typeof b)return b=
Ne(""+b,a.mode,c),b.return=a,b;if("object"===typeof b&&null!==b){switch(b.$$typeof){case wd:return c=vd(b.type,b.key,b.props,null,a.mode,c),c.ref=Bc(a,null,b),c.return=a,c;case Rb:return b=Oe(b,a.mode,c),b.return=a,b}if(xd(b)||ua(b))return b=qb(b,a.mode,c,null),b.return=a,b;ud(a,b)}return null}function n(a,b,c,d){var e=null!==b?b.key:null;if("string"===typeof c||"number"===typeof c)return null!==e?null:f(a,b,""+c,d);if("object"===typeof c&&null!==c){switch(c.$$typeof){case wd:return c.key===e?c.type===
xb?m(a,b,c.props.children,d,e):g(a,b,c,d):null;case Rb:return c.key===e?q(a,b,c,d):null}if(xd(c)||ua(c))return null!==e?null:m(a,b,c,d,null);ud(a,c)}return null}function r(a,b,c,d,e){if("string"===typeof d||"number"===typeof d)return a=a.get(c)||null,f(b,a,""+d,e);if("object"===typeof d&&null!==d){switch(d.$$typeof){case wd:return a=a.get(null===d.key?c:d.key)||null,d.type===xb?m(b,a,d.props.children,e,d.key):g(b,a,d,e);case Rb:return a=a.get(null===d.key?c:d.key)||null,q(b,a,d,e)}if(xd(d)||ua(d))return a=
a.get(c)||null,m(b,a,d,e,null);ud(b,d)}return null}function u(e,l,h,f){for(var v=null,g=null,q=l,C=l=0,m=null;null!==q&&C<h.length;C++){q.index>C?(m=q,q=null):m=q.sibling;var G=n(e,q,h[C],f);if(null===G){null===q&&(q=m);break}a&&q&&null===G.alternate&&b(e,q);l=k(G,l,C);null===g?v=G:g.sibling=G;g=G;q=m}if(C===h.length)return c(e,q),v;if(null===q){for(;C<h.length;C++)q=p(e,h[C],f),null!==q&&(l=k(q,l,C),null===g?v=q:g.sibling=q,g=q);return v}for(q=d(e,q);C<h.length;C++)m=r(q,e,C,h[C],f),null!==m&&(a&&
null!==m.alternate&&q.delete(null===m.key?C:m.key),l=k(m,l,C),null===g?v=m:g.sibling=m,g=m);a&&q.forEach(function(a){return b(e,a)});return v}function t(e,l,f,v){var g=ua(f);if("function"!==typeof g)throw Error(h(150));f=g.call(f);if(null==f)throw Error(h(151));for(var q=g=null,C=l,m=l=0,G=null,F=f.next();null!==C&&!F.done;m++,F=f.next()){C.index>m?(G=C,C=null):G=C.sibling;var Xa=n(e,C,F.value,v);if(null===Xa){null===C&&(C=G);break}a&&C&&null===Xa.alternate&&b(e,C);l=k(Xa,l,m);null===q?g=Xa:q.sibling=
Xa;q=Xa;C=G}if(F.done)return c(e,C),g;if(null===C){for(;!F.done;m++,F=f.next())F=p(e,F.value,v),null!==F&&(l=k(F,l,m),null===q?g=F:q.sibling=F,q=F);return g}for(C=d(e,C);!F.done;m++,F=f.next())F=r(C,e,m,F.value,v),null!==F&&(a&&null!==F.alternate&&C.delete(null===F.key?m:F.key),l=k(F,l,m),null===q?g=F:q.sibling=F,q=F);a&&C.forEach(function(a){return b(e,a)});return g}return function(a,d,k,f){var v="object"===typeof k&&null!==k&&k.type===xb&&null===k.key;v&&(k=k.props.children);var g="object"===typeof k&&
null!==k;if(g)switch(k.$$typeof){case wd:a:{g=k.key;for(v=d;null!==v;){if(v.key===g){switch(v.tag){case 7:if(k.type===xb){c(a,v.sibling);d=e(v,k.props.children);d.return=a;a=d;break a}break;default:if(v.elementType===k.type){c(a,v.sibling);d=e(v,k.props);d.ref=Bc(a,v,k);d.return=a;a=d;break a}}c(a,v);break}else b(a,v);v=v.sibling}k.type===xb?(d=qb(k.props.children,a.mode,f,k.key),d.return=a,a=d):(f=vd(k.type,k.key,k.props,null,a.mode,f),f.ref=Bc(a,d,k),f.return=a,a=f)}return l(a);case Rb:a:{for(v=
k.key;null!==d;){if(d.key===v)if(4===d.tag&&d.stateNode.containerInfo===k.containerInfo&&d.stateNode.implementation===k.implementation){c(a,d.sibling);d=e(d,k.children||[]);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=Oe(k,a.mode,f);d.return=a;a=d}return l(a)}if("string"===typeof k||"number"===typeof k)return k=""+k,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,k),d.return=a,a=d):(c(a,d),d=Ne(k,a.mode,f),d.return=a,a=d),l(a);if(xd(k))return u(a,d,k,f);if(ua(k))return t(a,d,k,f);
g&&ud(a,k);if("undefined"===typeof k&&!v)switch(a.tag){case 1:case 0:throw a=a.type,Error(h(152,a.displayName||a.name||"Component"));}return c(a,d)}}function Eb(a){if(a===Cc)throw Error(h(174));return a}function Pe(a,b){N(Dc,b);N(Ec,a);N(Ma,Cc);a=b.nodeType;switch(a){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:Yd(null,"");break;default:a=8===a?b.parentNode:b,b=a.namespaceURI||null,a=a.tagName,b=Yd(b,a)}E(Ma);N(Ma,b)}function dc(){E(Ma);E(Ec);E(Dc)}function fh(a){Eb(Dc.current);var b=Eb(Ma.current),
c=Yd(b,a.type);b!==c&&(N(Ec,a),N(Ma,c))}function Qe(a){Ec.current===a&&(E(Ma),E(Ec))}function yd(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||c.data===ye||c.data===xe))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.effectTag&64))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;
b=b.sibling}return null}function Re(a,b){return{responder:a,props:b}}function oa(){throw Error(h(321));}function Se(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!Bb(a[c],b[c]))return!1;return!0}function Te(a,b,c,d,e,k){rb=k;O=b;b.memoizedState=null;b.updateQueue=null;b.expirationTime=0;zd.current=null===a||null===a.memoizedState?Zi:$i;a=c(d,e);if(b.expirationTime===rb){k=0;do{b.expirationTime=0;if(!(25>k))throw Error(h(301));k+=1;W=X=null;b.updateQueue=null;zd.current=aj;a=
c(d,e)}while(b.expirationTime===rb)}zd.current=Ad;b=null!==X&&null!==X.next;rb=0;W=X=O=null;Bd=!1;if(b)throw Error(h(300));return a}function ec(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===W?O.memoizedState=W=a:W=W.next=a;return W}function fc(){if(null===X){var a=O.alternate;a=null!==a?a.memoizedState:null}else a=X.next;var b=null===W?O.memoizedState:W.next;if(null!==b)W=b,X=a;else{if(null===a)throw Error(h(310));X=a;a={memoizedState:X.memoizedState,baseState:X.baseState,
baseQueue:X.baseQueue,queue:X.queue,next:null};null===W?O.memoizedState=W=a:W=W.next=a}return W}function Fb(a,b){return"function"===typeof b?b(a):b}function Cd(a){var b=fc(),c=b.queue;if(null===c)throw Error(h(311));c.lastRenderedReducer=a;var d=X,e=d.baseQueue,k=c.pending;if(null!==k){if(null!==e){var l=e.next;e.next=k.next;k.next=l}d.baseQueue=e=k;c.pending=null}if(null!==e){e=e.next;d=d.baseState;var f=l=k=null,g=e;do{var q=g.expirationTime;if(q<rb){var m={expirationTime:g.expirationTime,suspenseConfig:g.suspenseConfig,
action:g.action,eagerReducer:g.eagerReducer,eagerState:g.eagerState,next:null};null===f?(l=f=m,k=d):f=f.next=m;q>O.expirationTime&&(O.expirationTime=q,rd(q))}else null!==f&&(f=f.next={expirationTime:1073741823,suspenseConfig:g.suspenseConfig,action:g.action,eagerReducer:g.eagerReducer,eagerState:g.eagerState,next:null}),Zg(q,g.suspenseConfig),d=g.eagerReducer===a?g.eagerState:a(d,g.action);g=g.next}while(null!==g&&g!==e);null===f?k=d:f.next=l;Bb(d,b.memoizedState)||(La=!0);b.memoizedState=d;b.baseState=
k;b.baseQueue=f;c.lastRenderedState=d}return[b.memoizedState,c.dispatch]}function Dd(a){var b=fc(),c=b.queue;if(null===c)throw Error(h(311));c.lastRenderedReducer=a;var d=c.dispatch,e=c.pending,k=b.memoizedState;if(null!==e){c.pending=null;var l=e=e.next;do k=a(k,l.action),l=l.next;while(l!==e);Bb(k,b.memoizedState)||(La=!0);b.memoizedState=k;null===b.baseQueue&&(b.baseState=k);c.lastRenderedState=k}return[k,d]}function Ue(a){var b=ec();"function"===typeof a&&(a=a());b.memoizedState=b.baseState=a;
a=b.queue={pending:null,dispatch:null,lastRenderedReducer:Fb,lastRenderedState:a};a=a.dispatch=gh.bind(null,O,a);return[b.memoizedState,a]}function Ve(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};b=O.updateQueue;null===b?(b={lastEffect:null},O.updateQueue=b,b.lastEffect=a.next=a):(c=b.lastEffect,null===c?b.lastEffect=a.next=a:(d=c.next,c.next=a,a.next=d,b.lastEffect=a));return a}function hh(){return fc().memoizedState}function We(a,b,c,d){var e=ec();O.effectTag|=a;e.memoizedState=Ve(1|b,
c,void 0,void 0===d?null:d)}function Xe(a,b,c,d){var e=fc();d=void 0===d?null:d;var k=void 0;if(null!==X){var l=X.memoizedState;k=l.destroy;if(null!==d&&Se(d,l.deps)){Ve(b,c,k,d);return}}O.effectTag|=a;e.memoizedState=Ve(1|b,c,k,d)}function ih(a,b){return We(516,4,a,b)}function Ed(a,b){return Xe(516,4,a,b)}function jh(a,b){return Xe(4,2,a,b)}function kh(a,b){if("function"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}function lh(a,
b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return Xe(4,2,kh.bind(null,b,a),c)}function Ye(){}function mh(a,b){ec().memoizedState=[a,void 0===b?null:b];return a}function Fd(a,b){var c=fc();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Se(b,d[1]))return d[0];c.memoizedState=[a,b];return a}function nh(a,b){var c=fc();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Se(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a}function Ze(a,b,c){var d=md();lb(98>d?
98:d,function(){a(!0)});lb(97<d?97:d,function(){var d=wa.suspense;wa.suspense=void 0===b?null:b;try{a(!1),c()}finally{wa.suspense=d}})}function gh(a,b,c){var d=Na(),e=Fc.suspense;d=Gb(d,a,e);e={expirationTime:d,suspenseConfig:e,action:c,eagerReducer:null,eagerState:null,next:null};var k=b.pending;null===k?e.next=e:(e.next=k.next,k.next=e);b.pending=e;k=a.alternate;if(a===O||null!==k&&k===O)Bd=!0,e.expirationTime=rb,O.expirationTime=rb;else{if(0===a.expirationTime&&(null===k||0===k.expirationTime)&&
(k=b.lastRenderedReducer,null!==k))try{var l=b.lastRenderedState,h=k(l,c);e.eagerReducer=k;e.eagerState=h;if(Bb(h,l))return}catch(C){}finally{}sb(a,d)}}function oh(a,b){var c=Oa(5,null,null,0);c.elementType="DELETED";c.type="DELETED";c.stateNode=b;c.return=a;c.effectTag=8;null!==a.lastEffect?(a.lastEffect.nextEffect=c,a.lastEffect=c):a.firstEffect=a.lastEffect=c}function ph(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=
b,!0):!1;case 6:return b=""===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,!0):!1;case 13:return!1;default:return!1}}function $e(a){if(Ya){var b=Pa;if(b){var c=b;if(!ph(a,b)){b=Ub(c.nextSibling);if(!b||!ph(a,b)){a.effectTag=a.effectTag&-1025|2;Ya=!1;Ba=a;return}oh(Ba,c)}Ba=a;Pa=Ub(b.firstChild)}else a.effectTag=a.effectTag&-1025|2,Ya=!1,Ba=a}}function qh(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;Ba=a}function Gd(a){if(a!==Ba)return!1;if(!Ya)return qh(a),
Ya=!0,!1;var b=a.type;if(5!==a.tag||"head"!==b&&"body"!==b&&!we(b,a.memoizedProps))for(b=Pa;b;)oh(a,b),b=Ub(b.nextSibling);qh(a);if(13===a.tag){a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(h(317));a:{a=a.nextSibling;for(b=0;a;){if(8===a.nodeType){var c=a.data;if(c===tg){if(0===b){Pa=Ub(a.nextSibling);break a}b--}else c!==sg&&c!==xe&&c!==ye||b++}a=a.nextSibling}Pa=null}}else Pa=Ba?Ub(a.stateNode.nextSibling):null;return!0}function pa(a,b,c,d){b.child=null===a?af(b,null,c,d):gc(b,
a.child,c,d)}function rh(a,b,c,d,e){c=c.render;var k=b.ref;$b(b,e);d=Te(a,b,c,d,k,e);if(null!==a&&!La)return b.updateQueue=a.updateQueue,b.effectTag&=-517,a.expirationTime<=e&&(a.expirationTime=0),Za(a,b,e);b.effectTag|=1;pa(a,b,d,e);return b.child}function sh(a,b,c,d,e,k){if(null===a){var l=c.type;if("function"===typeof l&&!bf(l)&&void 0===l.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=l,th(a,b,l,d,e,k);a=vd(c.type,null,d,null,b.mode,k);a.ref=b.ref;a.return=b;return b.child=
a}l=a.child;if(e<k&&(e=l.memoizedProps,c=c.compare,c=null!==c?c:yc,c(e,d)&&a.ref===b.ref))return Za(a,b,k);b.effectTag|=1;a=Db(l,d);a.ref=b.ref;a.return=b;return b.child=a}function th(a,b,c,d,e,k){return null!==a&&yc(a.memoizedProps,d)&&a.ref===b.ref&&(La=!1,e<k)?(b.expirationTime=a.expirationTime,Za(a,b,k)):cf(a,b,c,d,k)}function uh(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.effectTag|=128}function cf(a,b,c,d,e){var k=ha(c)?Cb:V.current;k=Zb(b,k);$b(b,e);c=Te(a,b,c,d,k,e);if(null!==
a&&!La)return b.updateQueue=a.updateQueue,b.effectTag&=-517,a.expirationTime<=e&&(a.expirationTime=0),Za(a,b,e);b.effectTag|=1;pa(a,b,c,e);return b.child}function vh(a,b,c,d,e){if(ha(c)){var k=!0;ld(b)}else k=!1;$b(b,e);if(null===b.stateNode)null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2),bh(b,c,d),Me(b,c,d,e),d=!0;else if(null===a){var l=b.stateNode,h=b.memoizedProps;l.props=h;var f=l.context,g=c.contextType;"object"===typeof g&&null!==g?g=va(g):(g=ha(c)?Cb:V.current,g=Zb(b,g));var m=
c.getDerivedStateFromProps,p="function"===typeof m||"function"===typeof l.getSnapshotBeforeUpdate;p||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(h!==d||f!==g)&&ch(b,l,d,g);pb=!1;var n=b.memoizedState;l.state=n;Ac(b,d,l,e);f=b.memoizedState;h!==d||n!==f||ia.current||pb?("function"===typeof m&&(sd(b,c,m,d),f=b.memoizedState),(h=pb||ah(b,c,h,d,n,f,g))?(p||"function"!==typeof l.UNSAFE_componentWillMount&&"function"!==typeof l.componentWillMount||
("function"===typeof l.componentWillMount&&l.componentWillMount(),"function"===typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"===typeof l.componentDidMount&&(b.effectTag|=4)):("function"===typeof l.componentDidMount&&(b.effectTag|=4),b.memoizedProps=d,b.memoizedState=f),l.props=d,l.state=f,l.context=g,d=h):("function"===typeof l.componentDidMount&&(b.effectTag|=4),d=!1)}else l=b.stateNode,Le(a,b),h=b.memoizedProps,l.props=b.type===b.elementType?h:Aa(b.type,h),f=l.context,
g=c.contextType,"object"===typeof g&&null!==g?g=va(g):(g=ha(c)?Cb:V.current,g=Zb(b,g)),m=c.getDerivedStateFromProps,(p="function"===typeof m||"function"===typeof l.getSnapshotBeforeUpdate)||"function"!==typeof l.UNSAFE_componentWillReceiveProps&&"function"!==typeof l.componentWillReceiveProps||(h!==d||f!==g)&&ch(b,l,d,g),pb=!1,f=b.memoizedState,l.state=f,Ac(b,d,l,e),n=b.memoizedState,h!==d||f!==n||ia.current||pb?("function"===typeof m&&(sd(b,c,m,d),n=b.memoizedState),(m=pb||ah(b,c,h,d,f,n,g))?(p||
"function"!==typeof l.UNSAFE_componentWillUpdate&&"function"!==typeof l.componentWillUpdate||("function"===typeof l.componentWillUpdate&&l.componentWillUpdate(d,n,g),"function"===typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(d,n,g)),"function"===typeof l.componentDidUpdate&&(b.effectTag|=4),"function"===typeof l.getSnapshotBeforeUpdate&&(b.effectTag|=256)):("function"!==typeof l.componentDidUpdate||h===a.memoizedProps&&f===a.memoizedState||(b.effectTag|=4),"function"!==typeof l.getSnapshotBeforeUpdate||
h===a.memoizedProps&&f===a.memoizedState||(b.effectTag|=256),b.memoizedProps=d,b.memoizedState=n),l.props=d,l.state=n,l.context=g,d=m):("function"!==typeof l.componentDidUpdate||h===a.memoizedProps&&f===a.memoizedState||(b.effectTag|=4),"function"!==typeof l.getSnapshotBeforeUpdate||h===a.memoizedProps&&f===a.memoizedState||(b.effectTag|=256),d=!1);return df(a,b,c,d,k,e)}function df(a,b,c,d,e,k){uh(a,b);var l=0!==(b.effectTag&64);if(!d&&!l)return e&&Mg(b,c,!1),Za(a,b,k);d=b.stateNode;bj.current=b;
var h=l&&"function"!==typeof c.getDerivedStateFromError?null:d.render();b.effectTag|=1;null!==a&&l?(b.child=gc(b,a.child,null,k),b.child=gc(b,null,h,k)):pa(a,b,h,k);b.memoizedState=d.state;e&&Mg(b,c,!0);return b.child}function wh(a){var b=a.stateNode;b.pendingContext?Kg(a,b.pendingContext,b.pendingContext!==b.context):b.context&&Kg(a,b.context,!1);Pe(a,b.containerInfo)}function xh(a,b,c){var d=b.mode,e=b.pendingProps,k=L.current,l=!1,h;(h=0!==(b.effectTag&64))||(h=0!==(k&2)&&(null===a||null!==a.memoizedState));
h?(l=!0,b.effectTag&=-65):null!==a&&null===a.memoizedState||void 0===e.fallback||!0===e.unstable_avoidThisFallback||(k|=1);N(L,k&1);if(null===a){void 0!==e.fallback&&$e(b);if(l){l=e.fallback;e=qb(null,d,0,null);e.return=b;if(0===(b.mode&2))for(a=null!==b.memoizedState?b.child.child:b.child,e.child=a;null!==a;)a.return=e,a=a.sibling;c=qb(l,d,c,null);c.return=b;e.sibling=c;b.memoizedState=ef;b.child=e;return c}d=e.children;b.memoizedState=null;return b.child=af(b,null,d,c)}if(null!==a.memoizedState){a=
a.child;d=a.sibling;if(l){e=e.fallback;c=Db(a,a.pendingProps);c.return=b;if(0===(b.mode&2)&&(l=null!==b.memoizedState?b.child.child:b.child,l!==a.child))for(c.child=l;null!==l;)l.return=c,l=l.sibling;d=Db(d,e);d.return=b;c.sibling=d;c.childExpirationTime=0;b.memoizedState=ef;b.child=c;return d}c=gc(b,a.child,e.children,c);b.memoizedState=null;return b.child=c}a=a.child;if(l){l=e.fallback;e=qb(null,d,0,null);e.return=b;e.child=a;null!==a&&(a.return=e);if(0===(b.mode&2))for(a=null!==b.memoizedState?
b.child.child:b.child,e.child=a;null!==a;)a.return=e,a=a.sibling;c=qb(l,d,c,null);c.return=b;e.sibling=c;c.effectTag|=2;e.childExpirationTime=0;b.memoizedState=ef;b.child=e;return c}b.memoizedState=null;return b.child=gc(b,a,e.children,c)}function yh(a,b){a.expirationTime<b&&(a.expirationTime=b);var c=a.alternate;null!==c&&c.expirationTime<b&&(c.expirationTime=b);Xg(a.return,b)}function ff(a,b,c,d,e,k){var l=a.memoizedState;null===l?a.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,
last:d,tail:c,tailExpiration:0,tailMode:e,lastEffect:k}:(l.isBackwards=b,l.rendering=null,l.renderingStartTime=0,l.last=d,l.tail=c,l.tailExpiration=0,l.tailMode=e,l.lastEffect=k)}function zh(a,b,c){var d=b.pendingProps,e=d.revealOrder,k=d.tail;pa(a,b,d.children,c);d=L.current;if(0!==(d&2))d=d&1|2,b.effectTag|=64;else{if(null!==a&&0!==(a.effectTag&64))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&yh(a,c);else if(19===a.tag)yh(a,c);else if(null!==a.child){a.child.return=a;a=a.child;
continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}N(L,d);if(0===(b.mode&2))b.memoizedState=null;else switch(e){case "forwards":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===yd(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);ff(b,!1,e,c,k,b.lastEffect);break;case "backwards":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===
yd(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}ff(b,!0,c,null,k,b.lastEffect);break;case "together":ff(b,!1,null,null,void 0,b.lastEffect);break;default:b.memoizedState=null}return b.child}function Za(a,b,c){null!==a&&(b.dependencies=a.dependencies);var d=b.expirationTime;0!==d&&rd(d);if(b.childExpirationTime<c)return null;if(null!==a&&b.child!==a.child)throw Error(h(153));if(null!==b.child){a=b.child;c=Db(a,a.pendingProps);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=
Db(a,a.pendingProps),c.return=b;c.sibling=null}return b.child}function Hd(a,b){switch(a.tailMode){case "hidden":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case "collapsed":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}function cj(a,b,c){var d=b.pendingProps;switch(b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;
case 1:return ha(b.type)&&kd(),null;case 3:return dc(),E(ia),E(V),c=b.stateNode,c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),null!==a&&null!==a.child||!Gd(b)||(b.effectTag|=4),Ah(b),null;case 5:Qe(b);c=Eb(Dc.current);var e=b.type;if(null!==a&&null!=b.stateNode)dj(a,b,e,d,c),a.ref!==b.ref&&(b.effectTag|=128);else{if(!d){if(null===b.stateNode)throw Error(h(166));return null}a=Eb(Ma.current);if(Gd(b)){d=b.stateNode;e=b.type;var k=b.memoizedProps;d[ib]=b;d[ed]=k;switch(e){case "iframe":case "object":case "embed":J("load",
d);break;case "video":case "audio":for(a=0;a<nc.length;a++)J(nc[a],d);break;case "source":J("error",d);break;case "img":case "image":case "link":J("error",d);J("load",d);break;case "form":J("reset",d);J("submit",d);break;case "details":J("toggle",d);break;case "input":Fa(d,k);J("invalid",d);Ua(c,"onChange");break;case "select":d._wrapperState={wasMultiple:!!k.multiple};J("invalid",d);Ua(c,"onChange");break;case "textarea":Hf(d,k),J("invalid",d),Ua(c,"onChange")}se(e,k);a=null;for(var l in k)if(k.hasOwnProperty(l)){var f=
k[l];"children"===l?"string"===typeof f?d.textContent!==f&&(a=["children",f]):"number"===typeof f&&d.textContent!==""+f&&(a=["children",""+f]):Ob.hasOwnProperty(l)&&null!=f&&Ua(c,l)}switch(e){case "input":Ra(d);t(d,k,!0);break;case "textarea":Ra(d);z(d);break;case "select":case "option":break;default:"function"===typeof k.onClick&&(d.onclick=dd)}c=a;b.updateQueue=c;null!==c&&(b.effectTag|=4)}else{l=9===c.nodeType?c:c.ownerDocument;"http://www.w3.org/1999/xhtml"===a&&(a=Jf(e));"http://www.w3.org/1999/xhtml"===
a?"script"===e?(a=l.createElement("div"),a.innerHTML="\x3cscript\x3e\x3c/script\x3e",a=a.removeChild(a.firstChild)):"string"===typeof d.is?a=l.createElement(e,{is:d.is}):(a=l.createElement(e),"select"===e&&(l=a,d.multiple?l.multiple=!0:d.size&&(l.size=d.size))):a=l.createElementNS(a,e);a[ib]=b;a[ed]=d;ej(a,b,!1,!1);b.stateNode=a;l=te(e,d);switch(e){case "iframe":case "object":case "embed":J("load",a);f=d;break;case "video":case "audio":for(f=0;f<nc.length;f++)J(nc[f],a);f=d;break;case "source":J("error",
a);f=d;break;case "img":case "image":case "link":J("error",a);J("load",a);f=d;break;case "form":J("reset",a);J("submit",a);f=d;break;case "details":J("toggle",a);f=d;break;case "input":Fa(a,d);f=w(a,d);J("invalid",a);Ua(c,"onChange");break;case "option":f=I(a,d);break;case "select":a._wrapperState={wasMultiple:!!d.multiple};f=ba({},d,{value:void 0});J("invalid",a);Ua(c,"onChange");break;case "textarea":Hf(a,d);f=Xd(a,d);J("invalid",a);Ua(c,"onChange");break;default:f=d}se(e,f);var g=f;for(k in g)if(g.hasOwnProperty(k)){var q=
g[k];"style"===k?lg(a,q):"dangerouslySetInnerHTML"===k?(q=q?q.__html:void 0,null!=q&&Bh(a,q)):"children"===k?"string"===typeof q?("textarea"!==e||""!==q)&&jc(a,q):"number"===typeof q&&jc(a,""+q):"suppressContentEditableWarning"!==k&&"suppressHydrationWarning"!==k&&"autoFocus"!==k&&(Ob.hasOwnProperty(k)?null!=q&&Ua(c,k):null!=q&&Ia(a,k,q,l))}switch(e){case "input":Ra(a);t(a,d,!1);break;case "textarea":Ra(a);z(a);break;case "option":null!=d.value&&a.setAttribute("value",""+fa(d.value));break;case "select":a.multiple=
!!d.multiple;c=d.value;null!=c?Z(a,!!d.multiple,c,!1):null!=d.defaultValue&&Z(a,!!d.multiple,d.defaultValue,!0);break;default:"function"===typeof f.onClick&&(a.onclick=dd)}qg(e,d)&&(b.effectTag|=4)}null!==b.ref&&(b.effectTag|=128)}return null;case 6:if(a&&null!=b.stateNode)fj(a,b,a.memoizedProps,d);else{if("string"!==typeof d&&null===b.stateNode)throw Error(h(166));c=Eb(Dc.current);Eb(Ma.current);Gd(b)?(c=b.stateNode,d=b.memoizedProps,c[ib]=b,c.nodeValue!==d&&(b.effectTag|=4)):(c=(9===c.nodeType?
c:c.ownerDocument).createTextNode(d),c[ib]=b,b.stateNode=c)}return null;case 13:E(L);d=b.memoizedState;if(0!==(b.effectTag&64))return b.expirationTime=c,b;c=null!==d;d=!1;null===a?void 0!==b.memoizedProps.fallback&&Gd(b):(e=a.memoizedState,d=null!==e,c||null===e||(e=a.child.sibling,null!==e&&(k=b.firstEffect,null!==k?(b.firstEffect=e,e.nextEffect=k):(b.firstEffect=b.lastEffect=e,e.nextEffect=null),e.effectTag=8)));if(c&&!d&&0!==(b.mode&2))if(null===a&&!0!==b.memoizedProps.unstable_avoidThisFallback||
0!==(L.current&1))Q===Hb&&(Q=Id);else{if(Q===Hb||Q===Id)Q=Jd;0!==Gc&&null!==qa&&(Ib(qa,ja),Ch(qa,Gc))}if(c||d)b.effectTag|=4;return null;case 4:return dc(),Ah(b),null;case 10:return Je(b),null;case 17:return ha(b.type)&&kd(),null;case 19:E(L);d=b.memoizedState;if(null===d)return null;e=0!==(b.effectTag&64);k=d.rendering;if(null===k)if(e)Hd(d,!1);else{if(Q!==Hb||null!==a&&0!==(a.effectTag&64))for(k=b.child;null!==k;){a=yd(k);if(null!==a){b.effectTag|=64;Hd(d,!1);e=a.updateQueue;null!==e&&(b.updateQueue=
e,b.effectTag|=4);null===d.lastEffect&&(b.firstEffect=null);b.lastEffect=d.lastEffect;for(d=b.child;null!==d;)e=d,k=c,e.effectTag&=2,e.nextEffect=null,e.firstEffect=null,e.lastEffect=null,a=e.alternate,null===a?(e.childExpirationTime=0,e.expirationTime=k,e.child=null,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null):(e.childExpirationTime=a.childExpirationTime,e.expirationTime=a.expirationTime,e.child=a.child,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,
e.updateQueue=a.updateQueue,k=a.dependencies,e.dependencies=null===k?null:{expirationTime:k.expirationTime,firstContext:k.firstContext,responders:k.responders}),d=d.sibling;N(L,L.current&1|2);return b.child}k=k.sibling}}else{if(!e)if(a=yd(k),null!==a){if(b.effectTag|=64,e=!0,c=a.updateQueue,null!==c&&(b.updateQueue=c,b.effectTag|=4),Hd(d,!0),null===d.tail&&"hidden"===d.tailMode&&!k.alternate)return b=b.lastEffect=d.lastEffect,null!==b&&(b.nextEffect=null),null}else 2*xa()-d.renderingStartTime>d.tailExpiration&&
1<c&&(b.effectTag|=64,e=!0,Hd(d,!1),b.expirationTime=b.childExpirationTime=c-1);d.isBackwards?(k.sibling=b.child,b.child=k):(c=d.last,null!==c?c.sibling=k:b.child=k,d.last=k)}return null!==d.tail?(0===d.tailExpiration&&(d.tailExpiration=xa()+500),c=d.tail,d.rendering=c,d.tail=c.sibling,d.lastEffect=b.lastEffect,d.renderingStartTime=xa(),c.sibling=null,b=L.current,N(L,e?b&1|2:b&1),c):null}throw Error(h(156,b.tag));}function gj(a){switch(a.tag){case 1:ha(a.type)&&kd();var b=a.effectTag;return b&4096?
(a.effectTag=b&-4097|64,a):null;case 3:dc();E(ia);E(V);b=a.effectTag;if(0!==(b&64))throw Error(h(285));a.effectTag=b&-4097|64;return a;case 5:return Qe(a),null;case 13:return E(L),b=a.effectTag,b&4096?(a.effectTag=b&-4097|64,a):null;case 19:return E(L),null;case 4:return dc(),null;case 10:return Je(a),null;default:return null}}function gf(a,b){return{value:a,source:b,stack:db(b)}}function hf(a,b){var c=b.source,d=b.stack;null===d&&null!==c&&(d=db(c));null!==c&&ea(c.type);b=b.value;null!==a&&1===a.tag&&
ea(a.type);try{console.error(b)}catch(e){setTimeout(function(){throw e;})}}function hj(a,b){try{b.props=a.memoizedProps,b.state=a.memoizedState,b.componentWillUnmount()}catch(c){Jb(a,c)}}function Dh(a){var b=a.ref;if(null!==b)if("function"===typeof b)try{b(null)}catch(c){Jb(a,c)}else b.current=null}function ij(a,b){switch(b.tag){case 0:case 11:case 15:case 22:return;case 1:if(b.effectTag&256&&null!==a){var c=a.memoizedProps,d=a.memoizedState;a=b.stateNode;b=a.getSnapshotBeforeUpdate(b.elementType===
b.type?c:Aa(b.type,c),d);a.__reactInternalSnapshotBeforeUpdate=b}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(h(163));}function Eh(a,b){b=b.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){var c=b=b.next;do{if((c.tag&a)===a){var d=c.destroy;c.destroy=void 0;void 0!==d&&d()}c=c.next}while(c!==b)}}function Fh(a,b){b=b.updateQueue;b=null!==b?b.lastEffect:null;if(null!==b){var c=b=b.next;do{if((c.tag&a)===a){var d=c.create;c.destroy=d()}c=c.next}while(c!==b)}}function jj(a,b,c){switch(c.tag){case 0:case 11:case 15:case 22:Fh(3,
c);return;case 1:a=c.stateNode;if(c.effectTag&4)if(null===b)a.componentDidMount();else{var d=c.elementType===c.type?b.memoizedProps:Aa(c.type,b.memoizedProps);a.componentDidUpdate(d,b.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}b=c.updateQueue;null!==b&&$g(c,b,a);return;case 3:b=c.updateQueue;if(null!==b){a=null;if(null!==c.child)switch(c.child.tag){case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}$g(c,b,a)}return;case 5:a=c.stateNode;null===b&&c.effectTag&4&&qg(c.type,c.memoizedProps)&&
a.focus();return;case 6:return;case 4:return;case 12:return;case 13:null===c.memoizedState&&(c=c.alternate,null!==c&&(c=c.memoizedState,null!==c&&(c=c.dehydrated,null!==c&&hg(c))));return;case 19:case 17:case 20:case 21:return}throw Error(h(163));}function Gh(a,b,c){"function"===typeof jf&&jf(b);switch(b.tag){case 0:case 11:case 14:case 15:case 22:a=b.updateQueue;if(null!==a&&(a=a.lastEffect,null!==a)){var d=a.next;lb(97<c?97:c,function(){var a=d;do{var c=a.destroy;if(void 0!==c){var l=b;try{c()}catch(v){Jb(l,
v)}}a=a.next}while(a!==d)})}break;case 1:Dh(b);c=b.stateNode;"function"===typeof c.componentWillUnmount&&hj(b,c);break;case 5:Dh(b);break;case 4:Hh(a,b,c)}}function Ih(a){var b=a.alternate;a.return=null;a.child=null;a.memoizedState=null;a.updateQueue=null;a.dependencies=null;a.alternate=null;a.firstEffect=null;a.lastEffect=null;a.pendingProps=null;a.memoizedProps=null;a.stateNode=null;null!==b&&Ih(b)}function Jh(a){return 5===a.tag||3===a.tag||4===a.tag}function Kh(a){a:{for(var b=a.return;null!==
b;){if(Jh(b)){var c=b;break a}b=b.return}throw Error(h(160));}b=c.stateNode;switch(c.tag){case 5:var d=!1;break;case 3:b=b.containerInfo;d=!0;break;case 4:b=b.containerInfo;d=!0;break;default:throw Error(h(161));}c.effectTag&16&&(jc(b,""),c.effectTag&=-17);c=a;a:b:for(;;){for(;null===c.sibling;){if(null===c.return||Jh(c.return)){c=null;break a}c=c.return}c.sibling.return=c.return;for(c=c.sibling;5!==c.tag&&6!==c.tag&&18!==c.tag;){if(c.effectTag&2)continue b;if(null===c.child||4===c.tag)continue b;
else c.child.return=c,c=c.child}if(!(c.effectTag&2)){c=c.stateNode;break a}}d?kf(a,c,b):lf(a,c,b)}function kf(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?8===c.nodeType?c.parentNode.insertBefore(a,b):c.insertBefore(a,b):(8===c.nodeType?(b=c.parentNode,b.insertBefore(a,c)):(b=c,b.appendChild(a)),c=c._reactRootContainer,null!==c&&void 0!==c||null!==b.onclick||(b.onclick=dd));else if(4!==d&&(a=a.child,null!==a))for(kf(a,b,c),a=a.sibling;null!==a;)kf(a,b,c),a=a.sibling}
function lf(a,b,c){var d=a.tag,e=5===d||6===d;if(e)a=e?a.stateNode:a.stateNode.instance,b?c.insertBefore(a,b):c.appendChild(a);else if(4!==d&&(a=a.child,null!==a))for(lf(a,b,c),a=a.sibling;null!==a;)lf(a,b,c),a=a.sibling}function Hh(a,b,c){for(var d=b,e=!1,k,l;;){if(!e){e=d.return;a:for(;;){if(null===e)throw Error(h(160));k=e.stateNode;switch(e.tag){case 5:l=!1;break a;case 3:k=k.containerInfo;l=!0;break a;case 4:k=k.containerInfo;l=!0;break a}e=e.return}e=!0}if(5===d.tag||6===d.tag){var f=a,g=d,
q=c,m=g;a:for(;;)if(Gh(f,m,q),null!==m.child&&4!==m.tag)m.child.return=m,m=m.child;else{if(m===g)break a;for(;null===m.sibling;){if(null===m.return||m.return===g)break a;m=m.return}m.sibling.return=m.return;m=m.sibling}l?(f=k,g=d.stateNode,8===f.nodeType?f.parentNode.removeChild(g):f.removeChild(g)):k.removeChild(d.stateNode)}else if(4===d.tag){if(null!==d.child){k=d.stateNode.containerInfo;l=!0;d.child.return=d;d=d.child;continue}}else if(Gh(a,d,c),null!==d.child){d.child.return=d;d=d.child;continue}if(d===
b)break;for(;null===d.sibling;){if(null===d.return||d.return===b)return;d=d.return;4===d.tag&&(e=!1)}d.sibling.return=d.return;d=d.sibling}}function mf(a,b){switch(b.tag){case 0:case 11:case 14:case 15:case 22:Eh(3,b);return;case 1:return;case 5:var c=b.stateNode;if(null!=c){var d=b.memoizedProps,e=null!==a?a.memoizedProps:d;a=b.type;var k=b.updateQueue;b.updateQueue=null;if(null!==k){c[ed]=d;"input"===a&&"radio"===d.type&&null!=d.name&&ma(c,d);te(a,e);b=te(a,d);for(e=0;e<k.length;e+=2){var l=k[e],
f=k[e+1];"style"===l?lg(c,f):"dangerouslySetInnerHTML"===l?Bh(c,f):"children"===l?jc(c,f):Ia(c,l,f,b)}switch(a){case "input":da(c,d);break;case "textarea":If(c,d);break;case "select":b=c._wrapperState.wasMultiple,c._wrapperState.wasMultiple=!!d.multiple,a=d.value,null!=a?Z(c,!!d.multiple,a,!1):b!==!!d.multiple&&(null!=d.defaultValue?Z(c,!!d.multiple,d.defaultValue,!0):Z(c,!!d.multiple,d.multiple?[]:"",!1))}}}return;case 6:if(null===b.stateNode)throw Error(h(162));b.stateNode.nodeValue=b.memoizedProps;
return;case 3:b=b.stateNode;b.hydrate&&(b.hydrate=!1,hg(b.containerInfo));return;case 12:return;case 13:c=b;null===b.memoizedState?d=!1:(d=!0,c=b.child,nf=xa());if(null!==c)a:for(a=c;;){if(5===a.tag)k=a.stateNode,d?(k=k.style,"function"===typeof k.setProperty?k.setProperty("display","none","important"):k.display="none"):(k=a.stateNode,e=a.memoizedProps.style,e=void 0!==e&&null!==e&&e.hasOwnProperty("display")?e.display:null,k.style.display=kg("display",e));else if(6===a.tag)a.stateNode.nodeValue=
d?"":a.memoizedProps;else if(13===a.tag&&null!==a.memoizedState&&null===a.memoizedState.dehydrated){k=a.child.sibling;k.return=a;a=k;continue}else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===c)break;for(;null===a.sibling;){if(null===a.return||a.return===c)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}Lh(b);return;case 19:Lh(b);return;case 17:return}throw Error(h(163));}function Lh(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=
new kj);b.forEach(function(b){var d=lj.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}function Mh(a,b,c){c=nb(c,null);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){Kd||(Kd=!0,of=d);hf(a,b)};return c}function Nh(a,b,c){c=nb(c,null);c.tag=3;var d=a.type.getDerivedStateFromError;if("function"===typeof d){var e=b.value;c.payload=function(){hf(a,b);return d(e)}}var k=a.stateNode;null!==k&&"function"===typeof k.componentDidCatch&&(c.callback=function(){"function"!==typeof d&&
(null===tb?tb=new Set([this]):tb.add(this),hf(a,b));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:""})});return c}function Na(){return(x&(Ca|Qa))!==R?1073741821-(xa()/10|0):0!==Ld?Ld:Ld=1073741821-(xa()/10|0)}function Gb(a,b,c){b=b.mode;if(0===(b&2))return 1073741823;var d=md();if(0===(b&4))return 99===d?1073741823:1073741822;if((x&Ca)!==R)return ja;if(null!==c)a=pd(a,c.timeoutMs|0||5E3,250);else switch(d){case 99:a=1073741823;break;case 98:a=pd(a,150,100);break;case 97:case 96:a=
pd(a,5E3,250);break;case 95:a=2;break;default:throw Error(h(326));}null!==qa&&a===ja&&--a;return a}function sb(a,b){if(50<Hc)throw Hc=0,pf=null,Error(h(185));a=Md(a,b);if(null!==a){var c=md();1073741823===b?(x&qf)!==R&&(x&(Ca|Qa))===R?rf(a):(ra(a),x===R&&Ka()):ra(a);(x&4)===R||98!==c&&99!==c||(null===Kb?Kb=new Map([[a,b]]):(c=Kb.get(a),(void 0===c||c>b)&&Kb.set(a,b)))}}function Md(a,b){a.expirationTime<b&&(a.expirationTime=b);var c=a.alternate;null!==c&&c.expirationTime<b&&(c.expirationTime=b);var d=
a.return,e=null;if(null===d&&3===a.tag)e=a.stateNode;else for(;null!==d;){c=d.alternate;d.childExpirationTime<b&&(d.childExpirationTime=b);null!==c&&c.childExpirationTime<b&&(c.childExpirationTime=b);if(null===d.return&&3===d.tag){e=d.stateNode;break}d=d.return}null!==e&&(qa===e&&(rd(b),Q===Jd&&Ib(e,ja)),Ch(e,b));return e}function Nd(a){var b=a.lastExpiredTime;if(0!==b)return b;b=a.firstPendingTime;if(!Oh(a,b))return b;var c=a.lastPingedTime;a=a.nextKnownPendingLevel;a=c>a?c:a;return 2>=a&&b!==a?
0:a}function ra(a){if(0!==a.lastExpiredTime)a.callbackExpirationTime=1073741823,a.callbackPriority=99,a.callbackNode=Tg(rf.bind(null,a));else{var b=Nd(a),c=a.callbackNode;if(0===b)null!==c&&(a.callbackNode=null,a.callbackExpirationTime=0,a.callbackPriority=90);else{var d=Na();1073741823===b?d=99:1===b||2===b?d=95:(d=10*(1073741821-b)-10*(1073741821-d),d=0>=d?99:250>=d?98:5250>=d?97:95);if(null!==c){var e=a.callbackPriority;if(a.callbackExpirationTime===b&&e>=d)return;c!==Vg&&Wg(c)}a.callbackExpirationTime=
b;a.callbackPriority=d;b=1073741823===b?Tg(rf.bind(null,a)):Sg(d,Ph.bind(null,a),{timeout:10*(1073741821-b)-xa()});a.callbackNode=b}}}function Ph(a,b){Ld=0;if(b)return b=Na(),sf(a,b),ra(a),null;var c=Nd(a);if(0!==c){b=a.callbackNode;if((x&(Ca|Qa))!==R)throw Error(h(327));hc();a===qa&&c===ja||Lb(a,c);if(null!==A){var d=x;x|=Ca;var e=Qh();do try{for(;null!==A&&!mj();)A=Rh(A);break}catch(v){Sh(a,v)}while(1);bc=mb=ac=null;x=d;Od.current=e;if(Q===Pd)throw b=Qd,Lb(a,c),Ib(a,c),ra(a),b;if(null===A)switch(e=
a.finishedWork=a.current.alternate,a.finishedExpirationTime=c,d=Q,qa=null,d){case Hb:case Pd:throw Error(h(345));case Th:sf(a,2<c?2:c);break;case Id:Ib(a,c);d=a.lastSuspendedTime;c===d&&(a.nextKnownPendingLevel=tf(e));if(1073741823===$a&&(e=nf+Uh-xa(),10<e)){if(Rd){var k=a.lastPingedTime;if(0===k||k>=c){a.lastPingedTime=c;Lb(a,c);break}}k=Nd(a);if(0!==k&&k!==c)break;if(0!==d&&d!==c){a.lastPingedTime=d;break}a.timeoutHandle=uf(Mb.bind(null,a),e);break}Mb(a);break;case Jd:Ib(a,c);d=a.lastSuspendedTime;
c===d&&(a.nextKnownPendingLevel=tf(e));if(Rd&&(e=a.lastPingedTime,0===e||e>=c)){a.lastPingedTime=c;Lb(a,c);break}e=Nd(a);if(0!==e&&e!==c)break;if(0!==d&&d!==c){a.lastPingedTime=d;break}1073741823!==Ic?d=10*(1073741821-Ic)-xa():1073741823===$a?d=0:(d=10*(1073741821-$a)-5E3,e=xa(),c=10*(1073741821-c)-e,d=e-d,0>d&&(d=0),d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3E3>d?3E3:4320>d?4320:1960*nj(d/1960))-d,c<d&&(d=c));if(10<d){a.timeoutHandle=uf(Mb.bind(null,a),d);break}Mb(a);break;case vf:if(1073741823!==
$a&&null!==Sd){k=$a;var l=Sd;d=l.busyMinDurationMs|0;0>=d?d=0:(e=l.busyDelayMs|0,k=xa()-(10*(1073741821-k)-(l.timeoutMs|0||5E3)),d=k<=e?0:e+d-k);if(10<d){Ib(a,c);a.timeoutHandle=uf(Mb.bind(null,a),d);break}}Mb(a);break;default:throw Error(h(329));}ra(a);if(a.callbackNode===b)return Ph.bind(null,a)}}return null}function rf(a){var b=a.lastExpiredTime;b=0!==b?b:1073741823;if((x&(Ca|Qa))!==R)throw Error(h(327));hc();a===qa&&b===ja||Lb(a,b);if(null!==A){var c=x;x|=Ca;var d=Qh();do try{for(;null!==A;)A=
Rh(A);break}catch(e){Sh(a,e)}while(1);bc=mb=ac=null;x=c;Od.current=d;if(Q===Pd)throw c=Qd,Lb(a,b),Ib(a,b),ra(a),c;if(null!==A)throw Error(h(261));a.finishedWork=a.current.alternate;a.finishedExpirationTime=b;qa=null;Mb(a);ra(a)}return null}function oj(){if(null!==Kb){var a=Kb;Kb=null;a.forEach(function(a,c){sf(c,a);ra(c)});Ka()}}function Vh(a,b){var c=x;x|=1;try{return a(b)}finally{x=c,x===R&&Ka()}}function Wh(a,b){var c=x;x&=-2;x|=qf;try{return a(b)}finally{x=c,x===R&&Ka()}}function Lb(a,b){a.finishedWork=
null;a.finishedExpirationTime=0;var c=a.timeoutHandle;-1!==c&&(a.timeoutHandle=-1,pj(c));if(null!==A)for(c=A.return;null!==c;){var d=c;switch(d.tag){case 1:d=d.type.childContextTypes;null!==d&&void 0!==d&&kd();break;case 3:dc();E(ia);E(V);break;case 5:Qe(d);break;case 4:dc();break;case 13:E(L);break;case 19:E(L);break;case 10:Je(d)}c=c.return}qa=a;A=Db(a.current,null);ja=b;Q=Hb;Qd=null;Ic=$a=1073741823;Sd=null;Gc=0;Rd=!1}function Sh(a,b){do{try{bc=mb=ac=null;zd.current=Ad;if(Bd)for(var c=O.memoizedState;null!==
c;){var d=c.queue;null!==d&&(d.pending=null);c=c.next}rb=0;W=X=O=null;Bd=!1;if(null===A||null===A.return)return Q=Pd,Qd=b,A=null;a:{var e=a,k=A.return,l=A,f=b;b=ja;l.effectTag|=2048;l.firstEffect=l.lastEffect=null;if(null!==f&&"object"===typeof f&&"function"===typeof f.then){var h=f;if(0===(l.mode&2)){var g=l.alternate;g?(l.updateQueue=g.updateQueue,l.memoizedState=g.memoizedState,l.expirationTime=g.expirationTime):(l.updateQueue=null,l.memoizedState=null)}var m=0!==(L.current&1),n=k;do{var p;if(p=
13===n.tag){var r=n.memoizedState;if(null!==r)p=null!==r.dehydrated?!0:!1;else{var u=n.memoizedProps;p=void 0===u.fallback?!1:!0!==u.unstable_avoidThisFallback?!0:m?!1:!0}}if(p){var t=n.updateQueue;if(null===t){var x=new Set;x.add(h);n.updateQueue=x}else t.add(h);if(0===(n.mode&2)){n.effectTag|=64;l.effectTag&=-2981;if(1===l.tag)if(null===l.alternate)l.tag=17;else{var y=nb(1073741823,null);y.tag=2;ob(l,y)}l.expirationTime=1073741823;break a}f=void 0;l=b;var z=e.pingCache;null===z?(z=e.pingCache=new qj,
f=new Set,z.set(h,f)):(f=z.get(h),void 0===f&&(f=new Set,z.set(h,f)));if(!f.has(l)){f.add(l);var H=rj.bind(null,e,h,l);h.then(H,H)}n.effectTag|=4096;n.expirationTime=b;break a}n=n.return}while(null!==n);f=Error((ea(l.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a \x3cSuspense fallback\x3d...\x3e component higher in the tree to provide a loading indicator or placeholder to display."+db(l))}Q!==vf&&(Q=Th);f=gf(f,l);n=k;do{switch(n.tag){case 3:h=f;
n.effectTag|=4096;n.expirationTime=b;var D=Mh(n,h,b);Yg(n,D);break a;case 1:h=f;var B=n.type,E=n.stateNode;if(0===(n.effectTag&64)&&("function"===typeof B.getDerivedStateFromError||null!==E&&"function"===typeof E.componentDidCatch&&(null===tb||!tb.has(E)))){n.effectTag|=4096;n.expirationTime=b;var w=Nh(n,h,b);Yg(n,w);break a}}n=n.return}while(null!==n)}A=Xh(A)}catch(Yi){b=Yi;continue}break}while(1)}function Qh(){var a=Od.current;Od.current=Ad;return null===a?Ad:a}function Zg(a,b){a<$a&&2<a&&($a=a);
null!==b&&a<Ic&&2<a&&(Ic=a,Sd=b)}function rd(a){a>Gc&&(Gc=a)}function Rh(a){var b=sj(a.alternate,a,ja);a.memoizedProps=a.pendingProps;null===b&&(b=Xh(a));Yh.current=null;return b}function Xh(a){A=a;do{var b=A.alternate;a=A.return;if(0===(A.effectTag&2048)){b=cj(b,A,ja);if(1===ja||1!==A.childExpirationTime){for(var c=0,d=A.child;null!==d;){var e=d.expirationTime,k=d.childExpirationTime;e>c&&(c=e);k>c&&(c=k);d=d.sibling}A.childExpirationTime=c}if(null!==b)return b;null!==a&&0===(a.effectTag&2048)&&
(null===a.firstEffect&&(a.firstEffect=A.firstEffect),null!==A.lastEffect&&(null!==a.lastEffect&&(a.lastEffect.nextEffect=A.firstEffect),a.lastEffect=A.lastEffect),1<A.effectTag&&(null!==a.lastEffect?a.lastEffect.nextEffect=A:a.firstEffect=A,a.lastEffect=A))}else{b=gj(A);if(null!==b)return b.effectTag&=2047,b;null!==a&&(a.firstEffect=a.lastEffect=null,a.effectTag|=2048)}b=A.sibling;if(null!==b)return b;A=a}while(null!==A);Q===Hb&&(Q=vf);return null}function tf(a){var b=a.expirationTime;a=a.childExpirationTime;
return b>a?b:a}function Mb(a){var b=md();lb(99,tj.bind(null,a,b));return null}function tj(a,b){do hc();while(null!==Jc);if((x&(Ca|Qa))!==R)throw Error(h(327));var c=a.finishedWork,d=a.finishedExpirationTime;if(null===c)return null;a.finishedWork=null;a.finishedExpirationTime=0;if(c===a.current)throw Error(h(177));a.callbackNode=null;a.callbackExpirationTime=0;a.callbackPriority=90;a.nextKnownPendingLevel=0;var e=tf(c);a.firstPendingTime=e;d<=a.lastSuspendedTime?a.firstSuspendedTime=a.lastSuspendedTime=
a.nextKnownPendingLevel=0:d<=a.firstSuspendedTime&&(a.firstSuspendedTime=d-1);d<=a.lastPingedTime&&(a.lastPingedTime=0);d<=a.lastExpiredTime&&(a.lastExpiredTime=0);a===qa&&(A=qa=null,ja=0);1<c.effectTag?null!==c.lastEffect?(c.lastEffect.nextEffect=c,e=c.firstEffect):e=c:e=c.firstEffect;if(null!==e){var k=x;x|=Qa;Yh.current=null;wf=cd;var f=pg();if(ve(f)){if("selectionStart"in f)var g={start:f.selectionStart,end:f.selectionEnd};else a:{g=(g=f.ownerDocument)&&g.defaultView||window;var m=g.getSelection&&
g.getSelection();if(m&&0!==m.rangeCount){g=m.anchorNode;var q=m.anchorOffset,n=m.focusNode;m=m.focusOffset;try{g.nodeType,n.nodeType}catch(cc){g=null;break a}var r=0,u=-1,t=-1,y=0,z=0,G=f,D=null;b:for(;;){for(var E;;){G!==g||0!==q&&3!==G.nodeType||(u=r+q);G!==n||0!==m&&3!==G.nodeType||(t=r+m);3===G.nodeType&&(r+=G.nodeValue.length);if(null===(E=G.firstChild))break;D=G;G=E}for(;;){if(G===f)break b;D===g&&++y===q&&(u=r);D===n&&++z===m&&(t=r);if(null!==(E=G.nextSibling))break;G=D;D=G.parentNode}G=E}g=
-1===u||-1===t?null:{start:u,end:t}}else g=null}g=g||{start:0,end:0}}else g=null;xf={activeElementDetached:null,focusedElem:f,selectionRange:g};cd=!1;p=e;do try{uj()}catch(cc){if(null===p)throw Error(h(330));Jb(p,cc);p=p.nextEffect}while(null!==p);p=e;do try{for(f=a,g=b;null!==p;){var H=p.effectTag;H&16&&jc(p.stateNode,"");if(H&128){var w=p.alternate;if(null!==w){var B=w.ref;null!==B&&("function"===typeof B?B(null):B.current=null)}}switch(H&1038){case 2:Kh(p);p.effectTag&=-3;break;case 6:Kh(p);p.effectTag&=
-3;mf(p.alternate,p);break;case 1024:p.effectTag&=-1025;break;case 1028:p.effectTag&=-1025;mf(p.alternate,p);break;case 4:mf(p.alternate,p);break;case 8:q=p,Hh(f,q,g),Ih(q)}p=p.nextEffect}}catch(cc){if(null===p)throw Error(h(330));Jb(p,cc);p=p.nextEffect}while(null!==p);B=xf;w=pg();H=B.focusedElem;g=B.selectionRange;if(w!==H&&H&&H.ownerDocument&&og(H.ownerDocument.documentElement,H)){null!==g&&ve(H)&&(w=g.start,B=g.end,void 0===B&&(B=w),"selectionStart"in H?(H.selectionStart=w,H.selectionEnd=Math.min(B,
H.value.length)):(B=(w=H.ownerDocument||document)&&w.defaultView||window,B.getSelection&&(B=B.getSelection(),q=H.textContent.length,f=Math.min(g.start,q),g=void 0===g.end?f:Math.min(g.end,q),!B.extend&&f>g&&(q=g,g=f,f=q),q=ng(H,f),n=ng(H,g),q&&n&&(1!==B.rangeCount||B.anchorNode!==q.node||B.anchorOffset!==q.offset||B.focusNode!==n.node||B.focusOffset!==n.offset)&&(w=w.createRange(),w.setStart(q.node,q.offset),B.removeAllRanges(),f>g?(B.addRange(w),B.extend(n.node,n.offset)):(w.setEnd(n.node,n.offset),
B.addRange(w))))));w=[];for(B=H;B=B.parentNode;)1===B.nodeType&&w.push({element:B,left:B.scrollLeft,top:B.scrollTop});"function"===typeof H.focus&&H.focus();for(H=0;H<w.length;H++)B=w[H],B.element.scrollLeft=B.left,B.element.scrollTop=B.top}cd=!!wf;xf=wf=null;a.current=c;p=e;do try{for(H=a;null!==p;){var J=p.effectTag;J&36&&jj(H,p.alternate,p);if(J&128){w=void 0;var I=p.ref;if(null!==I){var K=p.stateNode;switch(p.tag){case 5:w=K;break;default:w=K}"function"===typeof I?I(w):I.current=w}}p=p.nextEffect}}catch(cc){if(null===
p)throw Error(h(330));Jb(p,cc);p=p.nextEffect}while(null!==p);p=null;vj();x=k}else a.current=c;if(Td)Td=!1,Jc=a,Kc=b;else for(p=e;null!==p;)b=p.nextEffect,p.nextEffect=null,p=b;b=a.firstPendingTime;0===b&&(tb=null);1073741823===b?a===pf?Hc++:(Hc=0,pf=a):Hc=0;"function"===typeof yf&&yf(c.stateNode,d);ra(a);if(Kd)throw Kd=!1,a=of,of=null,a;if((x&qf)!==R)return null;Ka();return null}function uj(){for(;null!==p;){var a=p.effectTag;0!==(a&256)&&ij(p.alternate,p);0===(a&512)||Td||(Td=!0,Sg(97,function(){hc();
return null}));p=p.nextEffect}}function hc(){if(90!==Kc){var a=97<Kc?97:Kc;Kc=90;return lb(a,wj)}}function wj(){if(null===Jc)return!1;var a=Jc;Jc=null;if((x&(Ca|Qa))!==R)throw Error(h(331));var b=x;x|=Qa;for(a=a.current.firstEffect;null!==a;){try{var c=a;if(0!==(c.effectTag&512))switch(c.tag){case 0:case 11:case 15:case 22:Eh(5,c),Fh(5,c)}}catch(d){if(null===a)throw Error(h(330));Jb(a,d)}c=a.nextEffect;a.nextEffect=null;a=c}x=b;Ka();return!0}function Zh(a,b,c){b=gf(c,b);b=Mh(a,b,1073741823);ob(a,
b);a=Md(a,1073741823);null!==a&&ra(a)}function Jb(a,b){if(3===a.tag)Zh(a,a,b);else for(var c=a.return;null!==c;){if(3===c.tag){Zh(c,a,b);break}else if(1===c.tag){var d=c.stateNode;if("function"===typeof c.type.getDerivedStateFromError||"function"===typeof d.componentDidCatch&&(null===tb||!tb.has(d))){a=gf(b,a);a=Nh(c,a,1073741823);ob(c,a);c=Md(c,1073741823);null!==c&&ra(c);break}}c=c.return}}function rj(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);qa===a&&ja===c?Q===Jd||Q===Id&&1073741823===$a&&
xa()-nf<Uh?Lb(a,ja):Rd=!0:Oh(a,c)&&(b=a.lastPingedTime,0!==b&&b<c||(a.lastPingedTime=c,ra(a)))}function lj(a,b){var c=a.stateNode;null!==c&&c.delete(b);b=0;0===b&&(b=Na(),b=Gb(b,a,null));a=Md(a,b);null!==a&&ra(a)}function xj(a){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var b=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(b.isDisabled||!b.supportsFiber)return!0;try{var c=b.inject(a);yf=function(a){try{b.onCommitFiberRoot(c,a,void 0,64===(a.current.effectTag&64))}catch(e){}};jf=function(a){try{b.onCommitFiberUnmount(c,
a)}catch(e){}}}catch(d){}return!0}function yj(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.effectTag=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childExpirationTime=this.expirationTime=0;this.alternate=null}function Oa(a,b,c,d){return new yj(a,b,c,d)}function bf(a){a=a.prototype;
return!(!a||!a.isReactComponent)}function zj(a){if("function"===typeof a)return bf(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===fe)return 11;if(a===ge)return 14}return 2}function Db(a,b){var c=a.alternate;null===c?(c=Oa(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.effectTag=0,c.nextEffect=null,c.firstEffect=null,c.lastEffect=null);c.childExpirationTime=a.childExpirationTime;c.expirationTime=a.expirationTime;
c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{expirationTime:b.expirationTime,firstContext:b.firstContext,responders:b.responders};c.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}function vd(a,b,c,d,e,k){var f=2;d=a;if("function"===typeof a)bf(a)&&(f=1);else if("string"===typeof a)f=5;else a:switch(a){case xb:return qb(c.children,e,k,b);case Aj:f=8;e|=7;break;case Rf:f=8;e|=1;break;
case Uc:return a=Oa(12,c,b,e|8),a.elementType=Uc,a.type=Uc,a.expirationTime=k,a;case Vc:return a=Oa(13,c,b,e),a.type=Vc,a.elementType=Vc,a.expirationTime=k,a;case ee:return a=Oa(19,c,b,e),a.elementType=ee,a.expirationTime=k,a;default:if("object"===typeof a&&null!==a)switch(a.$$typeof){case Tf:f=10;break a;case Sf:f=9;break a;case fe:f=11;break a;case ge:f=14;break a;case Vf:f=16;d=null;break a;case Uf:f=22;break a}throw Error(h(130,null==a?a:typeof a,""));}b=Oa(f,c,b,e);b.elementType=a;b.type=d;b.expirationTime=
k;return b}function qb(a,b,c,d){a=Oa(7,a,d,b);a.expirationTime=c;return a}function Ne(a,b,c){a=Oa(6,a,null,b);a.expirationTime=c;return a}function Oe(a,b,c){b=Oa(4,null!==a.children?a.children:[],a.key,b);b.expirationTime=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}function Bj(a,b,c){this.tag=b;this.current=null;this.containerInfo=a;this.pingCache=this.pendingChildren=null;this.finishedExpirationTime=0;this.finishedWork=null;this.timeoutHandle=
-1;this.pendingContext=this.context=null;this.hydrate=c;this.callbackNode=null;this.callbackPriority=90;this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Oh(a,b){var c=a.firstSuspendedTime;a=a.lastSuspendedTime;return 0!==c&&c>=b&&a<=b}function Ib(a,b){var c=a.firstSuspendedTime,d=a.lastSuspendedTime;c<b&&(a.firstSuspendedTime=b);if(d>b||0===c)a.lastSuspendedTime=b;b<=a.lastPingedTime&&(a.lastPingedTime=
0);b<=a.lastExpiredTime&&(a.lastExpiredTime=0)}function Ch(a,b){b>a.firstPendingTime&&(a.firstPendingTime=b);var c=a.firstSuspendedTime;0!==c&&(b>=c?a.firstSuspendedTime=a.lastSuspendedTime=a.nextKnownPendingLevel=0:b>=a.lastSuspendedTime&&(a.lastSuspendedTime=b+1),b>a.nextKnownPendingLevel&&(a.nextKnownPendingLevel=b))}function sf(a,b){var c=a.lastExpiredTime;if(0===c||c>b)a.lastExpiredTime=b}function Ud(a,b,c,d){var e=b.current,k=Na(),f=Fc.suspense;k=Gb(k,e,f);a:if(c){c=c._reactInternalFiber;b:{if(yb(c)!==
c||1!==c.tag)throw Error(h(170));var g=c;do{switch(g.tag){case 3:g=g.stateNode.context;break b;case 1:if(ha(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break b}}g=g.return}while(null!==g);throw Error(h(171));}if(1===c.tag){var m=c.type;if(ha(m)){c=Lg(c,m,g);break a}}c=g}else c=kb;null===b.context?b.context=c:b.pendingContext=c;b=nb(k,f);b.payload={element:a};d=void 0===d?null:d;null!==d&&(b.callback=d);ob(e,b);sb(e,k);return k}function zf(a){a=a.current;if(!a.child)return null;
switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function $h(a,b){a=a.memoizedState;null!==a&&null!==a.dehydrated&&a.retryTime<b&&(a.retryTime=b)}function Af(a,b){$h(a,b);(a=a.alternate)&&$h(a,b)}function Bf(a,b,c){c=null!=c&&!0===c.hydrate;var d=new Bj(a,b,c),e=Oa(3,null,null,2===b?7:1===b?3:0);d.current=e;e.stateNode=d;Ke(e);a[vc]=d.current;c&&0!==b&&si(a,9===a.nodeType?a:a.ownerDocument);this._internalRoot=d}function Lc(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&
11!==a.nodeType&&(8!==a.nodeType||" react-mount-point-unstable "!==a.nodeValue))}function Cj(a,b){b||(b=a?9===a.nodeType?a.documentElement:a.firstChild:null,b=!(!b||1!==b.nodeType||!b.hasAttribute("data-reactroot")));if(!b)for(var c;c=a.lastChild;)a.removeChild(c);return new Bf(a,0,b?{hydrate:!0}:void 0)}function Vd(a,b,c,d,e){var k=c._reactRootContainer;if(k){var f=k._internalRoot;if("function"===typeof e){var h=e;e=function(){var a=zf(f);h.call(a)}}Ud(b,f,a,e)}else{k=c._reactRootContainer=Cj(c,
d);f=k._internalRoot;if("function"===typeof e){var g=e;e=function(){var a=zf(f);g.call(a)}}Wh(function(){Ud(b,f,a,e)})}return zf(f)}function Dj(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Rb,key:null==d?null:""+d,children:a,containerInfo:b,implementation:c}}function ai(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Lc(b))throw Error(h(200));return Dj(a,b,null,c)}var Wc=m(59),ba=m(54),U=m(62);if(!Wc)throw Error(h(227));var ic=
!1,Qc=null,Rc=!1,Zd=null,ni={onError:function(a){ic=!0;Qc=a}},ce=null,Lf=null,Kf=null,Sc=null,Nb={},Tc=[],$d={},Ob={},ae={},eb=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),be=null,Pb=null,Qb=null,Mf=Sa,zb=!1,de=!1,oi=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
Nf=Object.prototype.hasOwnProperty,Pf={},Of={},T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){T[a]=new D(a,0,!1,a,null,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var b=a[0];T[b]=new D(b,1,!1,a[1],null,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(a){T[a]=new D(a,
2,!1,a.toLowerCase(),null,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){T[a]=new D(a,2,!1,a,null,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){T[a]=new D(a,3,!1,a.toLowerCase(),null,!1)});["checked","multiple","muted","selected"].forEach(function(a){T[a]=
new D(a,3,!0,a,null,!1)});["capture","download"].forEach(function(a){T[a]=new D(a,4,!1,a,null,!1)});["cols","rows","size","span"].forEach(function(a){T[a]=new D(a,6,!1,a,null,!1)});["rowSpan","start"].forEach(function(a){T[a]=new D(a,5,!1,a.toLowerCase(),null,!1)});var Cf=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var b=
a.replace(Cf,vb);T[b]=new D(b,1,!1,a,null,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var b=a.replace(Cf,vb);T[b]=new D(b,1,!1,a,"http://www.w3.org/1999/xlink",!1)});["xml:base","xml:lang","xml:space"].forEach(function(a){var b=a.replace(Cf,vb);T[b]=new D(b,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1)});["tabIndex","crossOrigin"].forEach(function(a){T[a]=new D(a,1,!1,a.toLowerCase(),null,!1)});T.xlinkHref=new D("xlinkHref",1,
!1,"xlink:href","http://www.w3.org/1999/xlink",!0);["src","href","action","formAction"].forEach(function(a){T[a]=new D(a,1,!1,a.toLowerCase(),null,!0)});var Da=Wc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Da.hasOwnProperty("ReactCurrentDispatcher")||(Da.ReactCurrentDispatcher={current:null});Da.hasOwnProperty("ReactCurrentBatchConfig")||(Da.ReactCurrentBatchConfig={suspense:null});var pi=/^(.*)[\\\/]/,ka="function"===typeof Symbol&&Symbol.for,wd=ka?Symbol.for("react.element"):60103,Rb=ka?
Symbol.for("react.portal"):60106,xb=ka?Symbol.for("react.fragment"):60107,Rf=ka?Symbol.for("react.strict_mode"):60108,Uc=ka?Symbol.for("react.profiler"):60114,Tf=ka?Symbol.for("react.provider"):60109,Sf=ka?Symbol.for("react.context"):60110,Aj=ka?Symbol.for("react.concurrent_mode"):60111,fe=ka?Symbol.for("react.forward_ref"):60112,Vc=ka?Symbol.for("react.suspense"):60113,ee=ka?Symbol.for("react.suspense_list"):60120,ge=ka?Symbol.for("react.memo"):60115,Vf=ka?Symbol.for("react.lazy"):60116,Uf=ka?Symbol.for("react.block"):
60121,Qf="function"===typeof Symbol&&Symbol.iterator,Wd,Bh=function(a){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if("http://www.w3.org/2000/svg"!==a.namespaceURI||"innerHTML"in a)a.innerHTML=b;else{Wd=Wd||document.createElement("div");Wd.innerHTML="\x3csvg\x3e"+b.valueOf().toString()+"\x3c/svg\x3e";for(b=Wd.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}}),
Sb={animationend:Xc("Animation","AnimationEnd"),animationiteration:Xc("Animation","AnimationIteration"),animationstart:Xc("Animation","AnimationStart"),transitionend:Xc("Transition","TransitionEnd")},he={},Wf={};eb&&(Wf=document.createElement("div").style,"AnimationEvent"in window||(delete Sb.animationend.animation,delete Sb.animationiteration.animation,delete Sb.animationstart.animation),"TransitionEvent"in window||delete Sb.transitionend.transition);var bi=Yc("animationend"),ci=Yc("animationiteration"),
di=Yc("animationstart"),ei=Yc("transitionend"),nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xf=new ("function"===typeof WeakMap?WeakMap:Map),kc=null,$c=[],pe=!1,Ja=[],fb=null,gb=null,hb=null,oc=new Map,pc=new Map,tc=[],me="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),
ti="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" "),jg={},ig=new Map,re=new Map,Ej=["abort","abort",bi,"animationEnd",ci,"animationIteration",di,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata",
"loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",ei,"transitionEnd","waiting","waiting"];qe("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),
0);qe("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);qe(Ej,2);for(var fi="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Df=0;Df<fi.length;Df++)re.set(fi[Df],0);var Ci=U.unstable_UserBlockingPriority,Bi=U.unstable_runWithPriority,
cd=!0,uc={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,
floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fj=["Webkit","ms","Moz","O"];Object.keys(uc).forEach(function(a){Fj.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);uc[b]=uc[a]})});var Di=ba({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),sg="$",tg="/$",ye="$?",xe="$!",wf=null,xf=null,uf="function"===typeof setTimeout?
setTimeout:void 0,pj="function"===typeof clearTimeout?clearTimeout:void 0,Ef=Math.random().toString(36).slice(2),ib="__reactInternalInstance$"+Ef,ed="__reactEventHandlers$"+Ef,vc="__reactContainere$"+Ef,jb=null,Be=null,fd=null;ba(na.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():"unknown"!==typeof a.returnValue&&(a.returnValue=!1),this.isDefaultPrevented=gd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?
a.stopPropagation():"unknown"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=gd)},persist:function(){this.isPersistent=gd},isPersistent:hd,destructor:function(){var a=this.constructor.Interface,b;for(b in a)this[b]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null;this.isPropagationStopped=this.isDefaultPrevented=hd;this._dispatchInstances=this._dispatchListeners=null}});na.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,
bubbles:null,cancelable:null,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};na.extend=function(a){function b(){}function c(){return d.apply(this,arguments)}var d=this;b.prototype=d.prototype;var e=new b;ba(e,c.prototype);c.prototype=e;c.prototype.constructor=c;c.Interface=ba({},d.Interface,a);c.extend=d.extend;xg(c);return c};xg(na);var Gj=na.extend({data:null}),Hj=na.extend({data:null}),Ii=[9,13,27,32],Ce=eb&&"CompositionEvent"in window,Mc=null;eb&&"documentMode"in
document&&(Mc=document.documentMode);var Ij=eb&&"TextEvent"in window&&!Mc,Cg=eb&&(!Ce||Mc&&8<Mc&&11>=Mc),Bg=String.fromCharCode(32),ab={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",
captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Ag=!1,Wb=!1,Jj={eventTypes:ab,extractEvents:function(a,b,c,d){var e;if(Ce)a:{switch(a){case "compositionstart":var k=ab.compositionStart;break a;case "compositionend":k=ab.compositionEnd;
break a;case "compositionupdate":k=ab.compositionUpdate;break a}k=void 0}else Wb?yg(a,c)&&(k=ab.compositionEnd):"keydown"===a&&229===c.keyCode&&(k=ab.compositionStart);k?(Cg&&"ko"!==c.locale&&(Wb||k!==ab.compositionStart?k===ab.compositionEnd&&Wb&&(e=wg()):(jb=d,Be="value"in jb?jb.value:jb.textContent,Wb=!0)),k=Gj.getPooled(k,b,c,d),e?k.data=e:(e=zg(c),null!==e&&(k.data=e)),Vb(k),e=k):e=null;(a=Ij?Ji(a,c):Ki(a,c))?(b=Hj.getPooled(ab.beforeInput,b,c,d),b.data=a,Vb(b)):b=null;return null===e?b:null===
b?e:[e,b]}},Li={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Fg={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},wc=null,xc=null,Ff=!1;eb&&(Ff=ag("input")&&(!document.documentMode||9<document.documentMode));var Kj={eventTypes:Fg,_isInputEventSupported:Ff,extractEvents:function(a,
b,c,d){var e=b?Ab(b):window,k=e.nodeName&&e.nodeName.toLowerCase();if("select"===k||"input"===k&&"file"===e.type)var h=Ni;else if(Dg(e))if(Ff)h=Ri;else{h=Pi;var g=Oi}else(k=e.nodeName)&&"input"===k.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)&&(h=Qi);if(h&&(h=h(a,b)))return Eg(h,c,d);g&&g(a,e,b);"blur"===a&&(a=e._wrapperState)&&a.controlled&&"number"===e.type&&f(e,"number",e.value)}},Nc=na.extend({view:null,detail:null}),Ti={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},
gi=0,hi=0,ii=!1,ji=!1,Oc=Nc.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:De,button:null,buttons:null,relatedTarget:function(a){return a.relatedTarget||(a.fromElement===a.srcElement?a.toElement:a.fromElement)},movementX:function(a){if("movementX"in a)return a.movementX;var b=gi;gi=a.screenX;return ii?"mousemove"===a.type?a.screenX-b:0:(ii=!0,0)},movementY:function(a){if("movementY"in a)return a.movementY;
var b=hi;hi=a.screenY;return ji?"mousemove"===a.type?a.screenY-b:0:(ji=!0,0)}}),ki=Oc.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Pc={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",
dependencies:["pointerout","pointerover"]}},Lj={eventTypes:Pc,extractEvents:function(a,b,c,d,e){var k="mouseover"===a||"pointerover"===a,f="mouseout"===a||"pointerout"===a;if(k&&0===(e&32)&&(c.relatedTarget||c.fromElement)||!f&&!k)return null;k=d.window===d?d:(k=d.ownerDocument)?k.defaultView||k.parentWindow:window;if(f){if(f=b,b=(b=c.relatedTarget||c.toElement)?lc(b):null,null!==b){var h=yb(b);if(b!==h||5!==b.tag&&6!==b.tag)b=null}}else f=null;if(f===b)return null;if("mouseout"===a||"mouseover"===
a)var g=Oc,m=Pc.mouseLeave,n=Pc.mouseEnter,p="mouse";else if("pointerout"===a||"pointerover"===a)g=ki,m=Pc.pointerLeave,n=Pc.pointerEnter,p="pointer";a=null==f?k:Ab(f);k=null==b?k:Ab(b);m=g.getPooled(m,f,c,d);m.type=p+"leave";m.target=a;m.relatedTarget=k;c=g.getPooled(n,b,c,d);c.type=p+"enter";c.target=k;c.relatedTarget=a;d=f;p=b;if(d&&p)a:{g=d;n=p;f=0;for(a=g;a;a=Va(a))f++;a=0;for(b=n;b;b=Va(b))a++;for(;0<f-a;)g=Va(g),f--;for(;0<a-f;)n=Va(n),a--;for(;f--;){if(g===n||g===n.alternate)break a;g=Va(g);
n=Va(n)}g=null}else g=null;n=g;for(g=[];d&&d!==n;){f=d.alternate;if(null!==f&&f===n)break;g.push(d);d=Va(d)}for(d=[];p&&p!==n;){f=p.alternate;if(null!==f&&f===n)break;d.push(p);p=Va(p)}for(p=0;p<g.length;p++)Ae(g[p],"bubbled",m);for(p=d.length;0<p--;)Ae(d[p],"captured",c);return 0===(e&64)?[m]:[m,c]}},Bb="function"===typeof Object.is?Object.is:Ui,Vi=Object.prototype.hasOwnProperty,Mj=eb&&"documentMode"in document&&11>=document.documentMode,Jg={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},
dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Xb=null,Fe=null,zc=null,Ee=!1,Nj={eventTypes:Jg,extractEvents:function(a,b,c,d,e,f){e=f||(d.window===d?d.document:9===d.nodeType?d:d.ownerDocument);if(!(f=!e)){a:{e=ie(e);f=ae.onSelect;for(var k=0;k<f.length;k++)if(!e.has(f[k])){e=!1;break a}e=!0}f=!e}if(f)return null;e=b?Ab(b):window;switch(a){case "focus":if(Dg(e)||"true"===e.contentEditable)Xb=e,Fe=b,zc=null;break;case "blur":zc=Fe=Xb=null;
break;case "mousedown":Ee=!0;break;case "contextmenu":case "mouseup":case "dragend":return Ee=!1,Ig(c,d);case "selectionchange":if(Mj)break;case "keydown":case "keyup":return Ig(c,d)}return null}},Oj=na.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Pj=na.extend({clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Qj=Nc.extend({relatedTarget:null}),Rj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",
Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",
224:"Meta"},Tj=Nc.extend({key:function(a){if(a.key){var b=Rj[a.key]||a.key;if("Unidentified"!==b)return b}return"keypress"===a.type?(a=jd(a),13===a?"Enter":String.fromCharCode(a)):"keydown"===a.type||"keyup"===a.type?Sj[a.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:De,charCode:function(a){return"keypress"===a.type?jd(a):0},keyCode:function(a){return"keydown"===a.type||"keyup"===a.type?a.keyCode:0},which:function(a){return"keypress"===
a.type?jd(a):"keydown"===a.type||"keyup"===a.type?a.keyCode:0}}),Uj=Oc.extend({dataTransfer:null}),Vj=Nc.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:De}),Wj=na.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Xj=Oc.extend({deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?
-a.wheelDelta:0},deltaZ:null,deltaMode:null}),Yj={eventTypes:jg,extractEvents:function(a,b,c,d){var e=ig.get(a);if(!e)return null;switch(a){case "keypress":if(0===jd(c))return null;case "keydown":case "keyup":a=Tj;break;case "blur":case "focus":a=Qj;break;case "click":if(2===c.button)return null;case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":a=Oc;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":a=
Uj;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":a=Vj;break;case bi:case ci:case di:a=Oj;break;case ei:a=Wj;break;case "scroll":a=Nc;break;case "wheel":a=Xj;break;case "copy":case "cut":case "paste":a=Pj;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":a=ki;break;default:a=na}b=a.getPooled(e,b,c,d);Vb(b);return b}};if(Sc)throw Error(h(101));Sc=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));
bb();var Zj=rc;ce=ze;Lf=Zj;Kf=Ab;ub({SimpleEventPlugin:Yj,EnterLeaveEventPlugin:Lj,ChangeEventPlugin:Kj,SelectEventPlugin:Nj,BeforeInputEventPlugin:Jj});var Ge=[],Yb=-1,kb={},V={current:kb},ia={current:!1},Cb=kb,Xi=U.unstable_runWithPriority,He=U.unstable_scheduleCallback,Wg=U.unstable_cancelCallback,li=U.unstable_requestPaint,Gf=U.unstable_now,Wi=U.unstable_getCurrentPriorityLevel,nd=U.unstable_ImmediatePriority,Ng=U.unstable_UserBlockingPriority,Og=U.unstable_NormalPriority,Pg=U.unstable_LowPriority,
Qg=U.unstable_IdlePriority,Vg={},mj=U.unstable_shouldYield,vj=void 0!==li?li:function(){},Wa=null,od=null,Ie=!1,mi=Gf(),xa=1E4>mi?Gf:function(){return Gf()-mi},qd={current:null},ac=null,mb=null,bc=null,pb=!1,Fc=Da.ReactCurrentBatchConfig,dh=(new Wc.Component).refs,td={isMounted:function(a){return(a=a._reactInternalFiber)?yb(a)===a:!1},enqueueSetState:function(a,b,c){a=a._reactInternalFiber;var d=Na(),e=Fc.suspense;d=Gb(d,a,e);e=nb(d,e);e.payload=b;void 0!==c&&null!==c&&(e.callback=c);ob(a,e);sb(a,
d)},enqueueReplaceState:function(a,b,c){a=a._reactInternalFiber;var d=Na(),e=Fc.suspense;d=Gb(d,a,e);e=nb(d,e);e.tag=1;e.payload=b;void 0!==c&&null!==c&&(e.callback=c);ob(a,e);sb(a,d)},enqueueForceUpdate:function(a,b){a=a._reactInternalFiber;var c=Na(),d=Fc.suspense;c=Gb(c,a,d);d=nb(c,d);d.tag=2;void 0!==b&&null!==b&&(d.callback=b);ob(a,d);sb(a,c)}},xd=Array.isArray,gc=eh(!0),af=eh(!1),Cc={},Ma={current:Cc},Ec={current:Cc},Dc={current:Cc},L={current:0},zd=Da.ReactCurrentDispatcher,wa=Da.ReactCurrentBatchConfig,
rb=0,O=null,X=null,W=null,Bd=!1,Ad={readContext:va,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useResponder:oa,useDeferredValue:oa,useTransition:oa},Zi={readContext:va,useCallback:mh,useContext:va,useEffect:ih,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return We(4,2,kh.bind(null,b,a),c)},useLayoutEffect:function(a,b){return We(4,2,a,b)},useMemo:function(a,b){var c=
ec();b=void 0===b?null:b;a=a();c.memoizedState=[a,b];return a},useReducer:function(a,b,c){var d=ec();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a=d.queue={pending:null,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};a=a.dispatch=gh.bind(null,O,a);return[d.memoizedState,a]},useRef:function(a){var b=ec();a={current:a};return b.memoizedState=a},useState:Ue,useDebugValue:Ye,useResponder:Re,useDeferredValue:function(a,b){var c=Ue(a),d=c[0],e=c[1];ih(function(){var c=wa.suspense;wa.suspense=
void 0===b?null:b;try{e(a)}finally{wa.suspense=c}},[a,b]);return d},useTransition:function(a){var b=Ue(!1),c=b[0];b=b[1];return[mh(Ze.bind(null,b,a),[b,a]),c]}},$i={readContext:va,useCallback:Fd,useContext:va,useEffect:Ed,useImperativeHandle:lh,useLayoutEffect:jh,useMemo:nh,useReducer:Cd,useRef:hh,useState:function(){return Cd(Fb)},useDebugValue:Ye,useResponder:Re,useDeferredValue:function(a,b){var c=Cd(Fb),d=c[0],e=c[1];Ed(function(){var c=wa.suspense;wa.suspense=void 0===b?null:b;try{e(a)}finally{wa.suspense=
c}},[a,b]);return d},useTransition:function(a){var b=Cd(Fb),c=b[0];b=b[1];return[Fd(Ze.bind(null,b,a),[b,a]),c]}},aj={readContext:va,useCallback:Fd,useContext:va,useEffect:Ed,useImperativeHandle:lh,useLayoutEffect:jh,useMemo:nh,useReducer:Dd,useRef:hh,useState:function(){return Dd(Fb)},useDebugValue:Ye,useResponder:Re,useDeferredValue:function(a,b){var c=Dd(Fb),d=c[0],e=c[1];Ed(function(){var c=wa.suspense;wa.suspense=void 0===b?null:b;try{e(a)}finally{wa.suspense=c}},[a,b]);return d},useTransition:function(a){var b=
Dd(Fb),c=b[0];b=b[1];return[Fd(Ze.bind(null,b,a),[b,a]),c]}},Ba=null,Pa=null,Ya=!1,bj=Da.ReactCurrentOwner,La=!1,ef={dehydrated:null,retryTime:0};var ej=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};var Ah=function(){};var dj=function(a,b,c,d,e){var f=
a.memoizedProps;if(f!==d){var h=b.stateNode;Eb(Ma.current);a=null;switch(c){case "input":f=w(h,f);d=w(h,d);a=[];break;case "option":f=I(h,f);d=I(h,d);a=[];break;case "select":f=ba({},f,{value:void 0});d=ba({},d,{value:void 0});a=[];break;case "textarea":f=Xd(h,f);d=Xd(h,d);a=[];break;default:"function"!==typeof f.onClick&&"function"===typeof d.onClick&&(h.onclick=dd)}se(c,d);var g,m;c=null;for(g in f)if(!d.hasOwnProperty(g)&&f.hasOwnProperty(g)&&null!=f[g])if("style"===g)for(m in h=f[g],h)h.hasOwnProperty(m)&&
(c||(c={}),c[m]="");else"dangerouslySetInnerHTML"!==g&&"children"!==g&&"suppressContentEditableWarning"!==g&&"suppressHydrationWarning"!==g&&"autoFocus"!==g&&(Ob.hasOwnProperty(g)?a||(a=[]):(a=a||[]).push(g,null));for(g in d){var n=d[g];h=null!=f?f[g]:void 0;if(d.hasOwnProperty(g)&&n!==h&&(null!=n||null!=h))if("style"===g)if(h){for(m in h)!h.hasOwnProperty(m)||n&&n.hasOwnProperty(m)||(c||(c={}),c[m]="");for(m in n)n.hasOwnProperty(m)&&h[m]!==n[m]&&(c||(c={}),c[m]=n[m])}else c||(a||(a=[]),a.push(g,
c)),c=n;else"dangerouslySetInnerHTML"===g?(n=n?n.__html:void 0,h=h?h.__html:void 0,null!=n&&h!==n&&(a=a||[]).push(g,n)):"children"===g?h===n||"string"!==typeof n&&"number"!==typeof n||(a=a||[]).push(g,""+n):"suppressContentEditableWarning"!==g&&"suppressHydrationWarning"!==g&&(Ob.hasOwnProperty(g)?(null!=n&&Ua(e,g),a||h===n||(a=[])):(a=a||[]).push(g,n))}c&&(a=a||[]).push("style",c);if(b.updateQueue=a)b.effectTag|=4}};var fj=function(a,b,c,d){c!==d&&(b.effectTag|=4)};var kj="function"===typeof WeakSet?
WeakSet:Set,qj="function"===typeof WeakMap?WeakMap:Map,nj=Math.ceil,Od=Da.ReactCurrentDispatcher,Yh=Da.ReactCurrentOwner,R=0,qf=8,Ca=16,Qa=32,Hb=0,Pd=1,Th=2,Id=3,Jd=4,vf=5,x=R,qa=null,A=null,ja=0,Q=Hb,Qd=null,$a=1073741823,Ic=1073741823,Sd=null,Gc=0,Rd=!1,nf=0,Uh=500,p=null,Kd=!1,of=null,tb=null,Td=!1,Jc=null,Kc=90,Kb=null,Hc=0,pf=null,Ld=0;var sj=function(a,b,c){var d=b.expirationTime;if(null!==a){var e=b.pendingProps;if(a.memoizedProps!==e||ia.current)La=!0;else{if(d<c){La=!1;switch(b.tag){case 3:wh(b);
Pa=Ba=null;Ya=!1;break;case 5:fh(b);if(b.mode&4&&1!==c&&e.hidden)return b.expirationTime=b.childExpirationTime=1,null;break;case 1:ha(b.type)&&ld(b);break;case 4:Pe(b,b.stateNode.containerInfo);break;case 10:d=b.memoizedProps.value;e=b.type._context;N(qd,e._currentValue);e._currentValue=d;break;case 13:if(null!==b.memoizedState){d=b.child.childExpirationTime;if(0!==d&&d>=c)return xh(a,b,c);N(L,L.current&1);b=Za(a,b,c);return null!==b?b.sibling:null}N(L,L.current&1);break;case 19:d=b.childExpirationTime>=
c;if(0!==(a.effectTag&64)){if(d)return zh(a,b,c);b.effectTag|=64}e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null);N(L,L.current);if(!d)return null}return Za(a,b,c)}La=!1}}else La=!1;b.expirationTime=0;switch(b.tag){case 2:d=b.type;null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2);a=b.pendingProps;e=Zb(b,V.current);$b(b,c);e=Te(null,b,d,a,e,c);b.effectTag|=1;if("object"===typeof e&&null!==e&&"function"===typeof e.render&&void 0===e.$$typeof){b.tag=1;b.memoizedState=null;b.updateQueue=
null;if(ha(d)){var f=!0;ld(b)}else f=!1;b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null;Ke(b);var g=d.getDerivedStateFromProps;"function"===typeof g&&sd(b,d,g,a);e.updater=td;b.stateNode=e;e._reactInternalFiber=b;Me(b,d,a,c);b=df(null,b,d,!0,f,c)}else b.tag=0,pa(null,b,e,c),b=b.child;return b;case 16:a:{e=b.elementType;null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2);a=b.pendingProps;wb(e);if(1!==e._status)throw e._result;e=e._result;b.type=e;f=b.tag=zj(e);a=Aa(e,a);switch(f){case 0:b=
cf(null,b,e,a,c);break a;case 1:b=vh(null,b,e,a,c);break a;case 11:b=rh(null,b,e,a,c);break a;case 14:b=sh(null,b,e,Aa(e.type,a),d,c);break a}throw Error(h(306,e,""));}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Aa(d,e),cf(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Aa(d,e),vh(a,b,d,e,c);case 3:wh(b);d=b.updateQueue;if(null===a||null===d)throw Error(h(282));d=b.pendingProps;e=b.memoizedState;e=null!==e?e.element:null;Le(a,b);Ac(b,d,null,c);d=
b.memoizedState.element;if(d===e)Pa=Ba=null,Ya=!1,b=Za(a,b,c);else{if(e=b.stateNode.hydrate)Pa=Ub(b.stateNode.containerInfo.firstChild),Ba=b,e=Ya=!0;if(e)for(c=af(b,null,d,c),b.child=c;c;)c.effectTag=c.effectTag&-3|1024,c=c.sibling;else pa(a,b,d,c),Pa=Ba=null,Ya=!1;b=b.child}return b;case 5:return fh(b),null===a&&$e(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,we(d,e)?g=null:null!==f&&we(d,f)&&(b.effectTag|=16),uh(a,b),b.mode&4&&1!==c&&e.hidden?(b.expirationTime=b.childExpirationTime=
1,b=null):(pa(a,b,g,c),b=b.child),b;case 6:return null===a&&$e(b),null;case 13:return xh(a,b,c);case 4:return Pe(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=gc(b,null,d,c):pa(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Aa(d,e),rh(a,b,d,e,c);case 7:return pa(a,b,b.pendingProps,c),b.child;case 8:return pa(a,b,b.pendingProps.children,c),b.child;case 12:return pa(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;e=b.pendingProps;
g=b.memoizedProps;f=e.value;var m=b.type._context;N(qd,m._currentValue);m._currentValue=f;if(null!==g)if(m=g.value,f=Bb(m,f)?0:("function"===typeof d._calculateChangedBits?d._calculateChangedBits(m,f):1073741823)|0,0===f){if(g.children===e.children&&!ia.current){b=Za(a,b,c);break a}}else for(m=b.child,null!==m&&(m.return=b);null!==m;){var n=m.dependencies;if(null!==n){g=m.child;for(var p=n.firstContext;null!==p;){if(p.context===d&&0!==(p.observedBits&f)){1===m.tag&&(p=nb(c,null),p.tag=2,ob(m,p));
m.expirationTime<c&&(m.expirationTime=c);p=m.alternate;null!==p&&p.expirationTime<c&&(p.expirationTime=c);Xg(m.return,c);n.expirationTime<c&&(n.expirationTime=c);break}p=p.next}}else g=10===m.tag?m.type===b.type?null:m.child:m.child;if(null!==g)g.return=m;else for(g=m;null!==g;){if(g===b){g=null;break}m=g.sibling;if(null!==m){m.return=g.return;g=m;break}g=g.return}m=g}pa(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,f=b.pendingProps,d=f.children,$b(b,c),e=va(e,f.unstable_observedBits),
d=d(e),b.effectTag|=1,pa(a,b,d,c),b.child;case 14:return e=b.type,f=Aa(e,b.pendingProps),f=Aa(e.type,f),sh(a,b,e,f,d,c);case 15:return th(a,b,b.type,b.pendingProps,d,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Aa(d,e),null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2),b.tag=1,ha(d)?(a=!0,ld(b)):a=!1,$b(b,c),bh(b,d,e),Me(b,d,e,c),df(null,b,d,!0,a,c);case 19:return zh(a,b,c)}throw Error(h(156,b.tag));};var yf=null,jf=null;Bf.prototype.render=function(a){Ud(a,this._internalRoot,
null,null)};Bf.prototype.unmount=function(){var a=this._internalRoot,b=a.containerInfo;Ud(null,a,null,function(){b[vc]=null})};var yi=function(a){if(13===a.tag){var b=pd(Na(),150,100);sb(a,b);Af(a,b)}};var fg=function(a){13===a.tag&&(sb(a,3),Af(a,3))};var wi=function(a){if(13===a.tag){var b=Na();b=Gb(b,a,null);sb(a,b);Af(a,b)}};be=function(a,b,c){switch(b){case "input":da(a,c);b=c.name;if("radio"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll("input[name\x3d"+JSON.stringify(""+
b)+'][type\x3d"radio"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=ze(d);if(!e)throw Error(h(90));K(d);da(d,e)}}}break;case "textarea":If(a,c);break;case "select":b=c.value,null!=b&&Z(a,!!c.multiple,b,!1)}};Sa=Vh;ta=function(a,b,c,d,e){var f=x;x|=4;try{return lb(98,a.bind(null,b,c,d,e))}finally{x=f,x===R&&Ka()}};Ga=function(){(x&(1|Ca|Qa))===R&&(oj(),hc())};Mf=function(a,b){var c=x;x|=2;try{return a(b)}finally{x=c,x===R&&Ka()}};var ak={Events:[rc,Ab,ze,ub,$d,Vb,function(a){je(a,
Fi)},sa,Y,bd,Zc,hc,{current:!1}]};(function(a){var b=a.findFiberByHostInstance;return xj(ba({},a,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Da.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=$f(a);return null===a?null:a.stateNode},findFiberByHostInstance:function(a){return b?b(a):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))})({findFiberByHostInstance:lc,
bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"});g.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ak;g.createPortal=ai;g.findDOMNode=function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternalFiber;if(void 0===b){if("function"===typeof a.render)throw Error(h(188));throw Error(h(268,Object.keys(a)));}a=$f(b);return a=null===a?null:a.stateNode};g.flushSync=function(a,b){if((x&(Ca|Qa))!==R)throw Error(h(187));var c=x;x|=1;try{return lb(99,a.bind(null,b))}finally{x=
c,Ka()}};g.hydrate=function(a,b,c){if(!Lc(b))throw Error(h(200));return Vd(null,a,b,!0,c)};g.render=function(a,b,c){if(!Lc(b))throw Error(h(200));return Vd(null,a,b,!1,c)};g.unmountComponentAtNode=function(a){if(!Lc(a))throw Error(h(40));return a._reactRootContainer?(Wh(function(){Vd(null,null,a,!1,function(){a._reactRootContainer=null;a[vc]=null})}),!0):!1};g.unstable_batchedUpdates=Vh;g.unstable_createPortal=function(a,b){return ai(a,b,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)};
g.unstable_renderSubtreeIntoContainer=function(a,b,c,d){if(!Lc(c))throw Error(h(200));if(null==a||void 0===a._reactInternalFiber)throw Error(h(38));return Vd(a,b,c,!1,d)};g.version="16.13.1"};
shadow$provide[68]=function(r,m,y,g){function h(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h)}catch(u){console.error(u)}}h();y.exports=m(63)};
var aa="cljs.core",ca="cljs.spec.alpha",g,da=this||self;
function r(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ea(a){return a[ha]||(a[ha]=++ia)}var ha="closure_uid_"+(1E9*Math.random()>>>0),ia=0;function ja(a,b){a.sort(b||la)}function na(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]={index:d,value:a[d]};var e=b||la;ja(c,function(f,h){return e(f.value,h.value)||f.index-h.index});for(d=0;d<a.length;d++)a[d]=c[d].value}function la(a,b){return a>b?1:a<b?-1:0};function oa(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function qa(a,b){return null!==a&&b in a?a[b]:void 0}var ta="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ua(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<ta.length;f++)c=ta[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function wa(a){return/^[\s\xa0]*$/.test(a)};function ya(a,b){null!=a&&this.append.apply(this,arguments)}g=ya.prototype;g.jb="";g.set=function(a){this.jb=""+a};g.append=function(a,b,c){this.jb+=String(a);if(null!=b)for(var d=1;d<arguments.length;d++)this.jb+=arguments[d];return this};g.clear=function(){this.jb=""};g.toString=function(){return this.jb};var Aa={},Ba={},Ca,u={},Da=null;function Ea(){return new v(null,5,[Fa,!0,Ga,!0,Ja,!1,Ka,!1,La,null],null)}function w(a){return null!=a&&!1!==a}function Ma(a){return a instanceof Array}function Na(a){return null==a?!0:!1===a?!0:!1}function y(a,b){return a[r(null==b?null:b)]?!0:a._?!0:!1}function z(a,b){var c=null==b?null:b.constructor;c=w(w(c)?c.Eb:c)?c.kb:r(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function Oa(a){var b=a.kb;return w(b)?b:C.f(a)}
var Pa="undefined"!==typeof Symbol&&"function"===r(Symbol)?Symbol.iterator:"@@iterator",Qa={_RBRACE_:"}",_COLON_:":",_BANG_:"!",_QMARK_:"?",_BSLASH_:"\\\\",_SLASH_:"/",_PERCENT_:"%",_PLUS_:"+",_SHARP_:"#",_LBRACE_:"{",_BAR_:"|",_LBRACK_:"[",_EQ_:"\x3d",_:"-",_TILDE_:"~",_RBRACK_:"]",_GT_:"\x3e",_SINGLEQUOTE_:"'",_CIRCA_:"@",_AMPERSAND_:"\x26",_DOUBLEQUOTE_:'\\"',_CARET_:"^",_LT_:"\x3c",_STAR_:"*"},Ra=null;
function Sa(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function Ta(a){function b(d,e){d.push(e);return d}var c=[];return Ua?Ua(b,c,a):Va.call(null,b,c,a)}function Wa(a){return"symbol"===r(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function Xa(){}function Ya(){}function Za(){}
function ab(a){if(null!=a&&null!=a.la)a=a.la(a);else{var b=ab[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=ab._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("ICounted.-count",a);}return a}function bb(){}function cb(a){if(null!=a&&null!=a.na)a=a.na(a);else{var b=cb[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=cb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("IEmptyableCollection.-empty",a);}return a}function db(){}
function eb(a,b){if(null!=a&&null!=a.oa)a=a.oa(a,b);else{var c=eb[r(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=eb._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw z("ICollection.-conj",a);}return a}function fb(){}
var hb=function(){function a(d,e,f){var h=gb[r(null==d?null:d)];if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);h=gb._;if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);throw z("IIndexed.-nth",d);}function b(d,e){var f=gb[r(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=gb._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw z("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.j=b;c.C=a;return c}(),gb=function gb(a){switch(arguments.length){case 2:return gb.j(arguments[0],arguments[1]);case 3:return gb.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.f(arguments.length)].join(""));}};gb.j=function(a,b){return null!=a&&null!=a.ba?a.ba(a,b):hb(a,b)};gb.C=function(a,b,c){return null!=a&&null!=a.Aa?a.Aa(a,b,c):hb(a,b,c)};gb.K=3;function ib(){}
function jb(a){if(null!=a&&null!=a.wa)a=a.wa(a);else{var b=jb[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=jb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("ISeq.-first",a);}return a}function kb(a){if(null!=a&&null!=a.xa)a=a.xa(a);else{var b=kb[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=kb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("ISeq.-rest",a);}return a}function lb(){}
function mb(a){if(null!=a&&null!=a.qa)a=a.qa(a);else{var b=mb[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=mb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("INext.-next",a);}return a}function nb(){}
var rb=function(){function a(d,e,f){var h=ob[r(null==d?null:d)];if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);h=ob._;if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);throw z("ILookup.-lookup",d);}function b(d,e){var f=ob[r(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=ob._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw z("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.j=b;c.C=a;return c}(),ob=function ob(a){switch(arguments.length){case 2:return ob.j(arguments[0],arguments[1]);case 3:return ob.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.f(arguments.length)].join(""));}};ob.j=function(a,b){return null!=a&&null!=a.fa?a.fa(a,b):rb(a,b)};ob.C=function(a,b,c){return null!=a&&null!=a.Y?a.Y(a,b,c):rb(a,b,c)};ob.K=3;
function sb(a,b,c){if(null!=a&&null!=a.gb)a=a.gb(a,b,c);else{var d=sb[r(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=sb._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw z("IAssociative.-assoc",a);}return a}function tb(a,b){if(null!=a&&null!=a.zb)a=a.zb(a,b);else{var c=tb[r(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=tb._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw z("IFind.-find",a);}return a}function ub(){}
function wb(a,b){if(null!=a&&null!=a.Zb)a=a.Zb(a,b);else{var c=wb[r(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=wb._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw z("IMap.-dissoc",a);}return a}function xb(a){if(null!=a&&null!=a.Pc)a=a.key;else{var b=xb[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=xb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("IMapEntry.-key",a);}return a}
function yb(a){if(null!=a&&null!=a.Qc)a=a.ha;else{var b=yb[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=yb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("IMapEntry.-val",a);}return a}function zb(){}function Ab(a,b){if(null!=a&&null!=a.sc)a=a.sc(a,b);else{var c=Ab[r(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Ab._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw z("ISet.-disjoin",a);}return a}
function Bb(a){if(null!=a&&null!=a.Bb)a=a.Bb(a);else{var b=Bb[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=Bb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("IStack.-peek",a);}return a}function Cb(a){if(null!=a&&null!=a.Cb)a=a.Cb(a);else{var b=Cb[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=Cb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("IStack.-pop",a);}return a}function Db(){}
function Eb(a){if(null!=a&&null!=a.hb)a=a.hb(a);else{var b=Eb[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=Eb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("IDeref.-deref",a);}return a}function Fb(){}function Gb(a){if(null!=a&&null!=a.ga)a=a.ga(a);else{var b=Gb[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=Gb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("IMeta.-meta",a);}return a}
function Hb(a,b){if(null!=a&&null!=a.ka)a=a.ka(a,b);else{var c=Hb[r(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Hb._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw z("IWithMeta.-with-meta",a);}return a}function Jb(){}
var Lb=function(){function a(d,e,f){var h=Kb[r(null==d?null:d)];if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);h=Kb._;if(null!=h)return h.C?h.C(d,e,f):h.call(null,d,e,f);throw z("IReduce.-reduce",d);}function b(d,e){var f=Kb[r(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=Kb._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw z("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.j=b;c.C=a;return c}(),Kb=function Kb(a){switch(arguments.length){case 2:return Kb.j(arguments[0],arguments[1]);case 3:return Kb.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.f(arguments.length)].join(""));}};Kb.j=function(a,b){return null!=a&&null!=a.ua?a.ua(a,b):Lb(a,b)};Kb.C=function(a,b,c){return null!=a&&null!=a.va?a.va(a,b,c):Lb(a,b,c)};Kb.K=3;function Mb(){}
function Nb(a,b,c){if(null!=a&&null!=a.Nb)a=a.Nb(a,b,c);else{var d=Nb[r(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=Nb._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw z("IKVReduce.-kv-reduce",a);}return a}function Ob(a,b){if(null!=a&&null!=a.ea)a=a.ea(a,b);else{var c=Ob[r(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Ob._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw z("IEquiv.-equiv",a);}return a}
function Pb(a){if(null!=a&&null!=a.ia)a=a.ia(a);else{var b=Pb[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=Pb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("IHash.-hash",a);}return a}function Rb(){}function Sb(a){if(null!=a&&null!=a.ja)a=a.ja(a);else{var b=Sb[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=Sb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("ISeqable.-seq",a);}return a}function Tb(){}function Ub(){}function Vb(){}function Wb(){}
function Xb(a){if(null!=a&&null!=a.Ob)a=a.Ob(a);else{var b=Xb[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=Xb._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("IReversible.-rseq",a);}return a}function Yb(a,b){if(null!=a&&null!=a.tc)a=a.tc(a,b);else{var c=Yb[r(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=Yb._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw z("IWriter.-write",a);}return a}function Zb(){}
function $b(a,b,c){if(null!=a&&null!=a.da)a=a.da(a,b,c);else{var d=$b[r(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=$b._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw z("IPrintWithWriter.-pr-writer",a);}return a}function cc(a,b){var c=dc;if(null!=a&&null!=a.Pb)a.Pb(a,b,c);else{var d=cc[r(null==a?null:a)];if(null!=d)d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=cc._,null!=d)d.C?d.C(a,b,c):d.call(null,a,b,c);else throw z("IWatchable.-add-watch",a);}}
function ec(a,b){if(null!=a&&null!=a.Qb)a.Qb(a,b);else{var c=ec[r(null==a?null:a)];if(null!=c)c.j?c.j(a,b):c.call(null,a,b);else if(c=ec._,null!=c)c.j?c.j(a,b):c.call(null,a,b);else throw z("IWatchable.-remove-watch",a);}}function fc(a){if(null!=a&&null!=a.qb)a=a.qb(a);else{var b=fc[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=fc._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("IEditableCollection.-as-transient",a);}return a}
function gc(a,b){if(null!=a&&null!=a.sb)a=a.sb(a,b);else{var c=gc[r(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=gc._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw z("ITransientCollection.-conj!",a);}return a}function hc(a){if(null!=a&&null!=a.Db)a=a.Db(a);else{var b=hc[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=hc._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("ITransientCollection.-persistent!",a);}return a}
function ic(a,b,c){if(null!=a&&null!=a.rb)a=a.rb(a,b,c);else{var d=ic[r(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=ic._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw z("ITransientAssociative.-assoc!",a);}return a}function jc(){}function kc(a,b){if(null!=a&&null!=a.pb)a=a.pb(a,b);else{var c=kc[r(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=kc._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw z("IComparable.-compare",a);}return a}
function lc(a){if(null!=a&&null!=a.nc)a=a.nc(a);else{var b=lc[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=lc._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("IChunk.-drop-first",a);}return a}function mc(a){if(null!=a&&null!=a.Yb)a=a.Yb(a);else{var b=mc[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=mc._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("IChunkedSeq.-chunked-first",a);}return a}
function nc(a){if(null!=a&&null!=a.Lb)a=a.Lb(a);else{var b=nc[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=nc._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("IChunkedSeq.-chunked-rest",a);}return a}function oc(a,b){if(null!=a&&null!=a.Ha)a=a.Ha(a,b);else{var c=oc[r(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=oc._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw z("IReset.-reset!",a);}return a}
var qc=function(){function a(f,h,k,l,m){var n=pc[r(null==f?null:f)];if(null!=n)return n.pa?n.pa(f,h,k,l,m):n.call(null,f,h,k,l,m);n=pc._;if(null!=n)return n.pa?n.pa(f,h,k,l,m):n.call(null,f,h,k,l,m);throw z("ISwap.-swap!",f);}function b(f,h,k,l){var m=pc[r(null==f?null:f)];if(null!=m)return m.P?m.P(f,h,k,l):m.call(null,f,h,k,l);m=pc._;if(null!=m)return m.P?m.P(f,h,k,l):m.call(null,f,h,k,l);throw z("ISwap.-swap!",f);}function c(f,h,k){var l=pc[r(null==f?null:f)];if(null!=l)return l.C?l.C(f,h,k):l.call(null,
f,h,k);l=pc._;if(null!=l)return l.C?l.C(f,h,k):l.call(null,f,h,k);throw z("ISwap.-swap!",f);}function d(f,h){var k=pc[r(null==f?null:f)];if(null!=k)return k.j?k.j(f,h):k.call(null,f,h);k=pc._;if(null!=k)return k.j?k.j(f,h):k.call(null,f,h);throw z("ISwap.-swap!",f);}var e=null;e=function(f,h,k,l,m){switch(arguments.length){case 2:return d.call(this,f,h);case 3:return c.call(this,f,h,k);case 4:return b.call(this,f,h,k,l);case 5:return a.call(this,f,h,k,l,m)}throw Error("Invalid arity: "+arguments.length);
};e.j=d;e.C=c;e.P=b;e.pa=a;return e}(),pc=function pc(a){switch(arguments.length){case 2:return pc.j(arguments[0],arguments[1]);case 3:return pc.C(arguments[0],arguments[1],arguments[2]);case 4:return pc.P(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return pc.pa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",C.f(arguments.length)].join(""));}};pc.j=function(a,b){return null!=a&&null!=a.ac?a.ac(a,b):qc(a,b)};
pc.C=function(a,b,c){return null!=a&&null!=a.bc?a.bc(a,b,c):qc(a,b,c)};pc.P=function(a,b,c,d){return null!=a&&null!=a.cc?a.cc(a,b,c,d):qc(a,b,c,d)};pc.pa=function(a,b,c,d,e){return null!=a&&null!=a.dc?a.dc(a,b,c,d,e):qc(a,b,c,d,e)};pc.K=5;function rc(){}function sc(a){if(null!=a&&null!=a.Ga)a=a.Ga(a);else{var b=sc[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=sc._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("IIterable.-iterator",a);}return a}
function tc(a){this.ad=a;this.F=1073741824;this.O=0}tc.prototype.tc=function(a,b){return this.ad.append(b)};function wc(a){var b=new ya;a.da(null,new tc(b),Ea());return C.f(b)}var xc="undefined"!==typeof Math&&"undefined"!==typeof Math.imul&&0!==Math.imul(4294967295,5)?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function yc(a){a=xc(a|0,-862048943);return xc(a<<15|a>>>-15,461845907)}
function zc(a,b){a=(a|0)^(b|0);return xc(a<<13|a>>>-13,5)+-430675100|0}function Ac(a,b){a=(a|0)^b;a=xc(a^a>>>16,-2048144789);a=xc(a^a>>>13,-1028477387);return a^a>>>16}function Bc(a){a:{var b=1;for(var c=0;;)if(b<a.length)c=zc(c,yc(a.charCodeAt(b-1)|a.charCodeAt(b)<<16)),b+=2;else{b=c;break a}}return Ac(1===(a.length&1)?b^yc(a.charCodeAt(a.length-1)):b,xc(2,a.length))}var Cc={},Dc=0;
function Ec(a){255<Dc&&(Cc={},Dc=0);if(null==a)return 0;var b=Cc[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=xc(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;Cc[a]=b;Dc+=1;a=b}return a}
function Fc(a){if(null!=a&&(a.F&4194304||u===a.fd))return a.ia(null)^0;if("number"===typeof a){if(w(isFinite(a)))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=Ec(a),a=0===a?a:Ac(zc(0,yc(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:Pb(a)^0,a}function Gc(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function Hc(a,b){if(a.Zc===b.Zc)return 0;if(w(Na(a.Ba)?b.Ba:!1))return-1;if(w(a.Ba)){if(Na(b.Ba))return 1;var c=la(a.Ba,b.Ba);return 0===c?la(a.name,b.name):c}return la(a.name,b.name)}function Ic(a,b,c,d,e){this.Ba=a;this.name=b;this.Zc=c;this._hash=d;this.Ma=e;this.F=2154168321;this.O=4096}g=Ic.prototype;g.toString=function(){return this.Zc};g.ea=function(a,b){return b instanceof Ic?this.Zc===b.Zc:!1};
g.call=function(a){switch(arguments.length-1){case 1:return this.f(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.f(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Sa(b)))};g.f=function(a){return J.j?J.j(a,this):J.call(null,a,this)};g.j=function(a,b){return J.C?J.C(a,this,b):J.call(null,a,this,b)};g.ga=function(){return this.Ma};
g.ka=function(a,b){return new Ic(this.Ba,this.name,this.Zc,this._hash,b)};g.ia=function(){var a=this._hash;return null!=a?a:this._hash=a=Gc(Bc(this.name),Ec(this.Ba))};g.da=function(a,b){return Yb(b,this.Zc)};var Jc=function Jc(a){switch(arguments.length){case 1:return Jc.f(arguments[0]);case 2:return Jc.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",C.f(arguments.length)].join(""));}};
Jc.f=function(a){for(;;){if(a instanceof Ic)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?Jc.j(null,a):Jc.j(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof N)a=a.Da;else throw Error("no conversion to symbol");}};Jc.j=function(a,b){var c=null!=a?[C.f(a),"/",C.f(b)].join(""):b;return new Ic(a,b,c,null,null)};Jc.K=2;function Kc(a){return null!=a?a.O&131072||u===a.gd?!0:a.O?!1:y(rc,a):y(rc,a)}
function Q(a){if(null==a)return null;if(null!=a&&(a.F&8388608||u===a.Sc))return a.ja(null);if(Ma(a)||"string"===typeof a)return 0===a.length?null:new R(a,0,null);if(null!=a&&null!=a[Pa])return a=qa(a,Pa).call(a),Lc.f?Lc.f(a):Lc.call(null,a);if(y(Rb,a))return Sb(a);throw Error([C.f(a)," is not ISeqable"].join(""));}function S(a){if(null==a)return null;if(null!=a&&(a.F&64||u===a.Ca))return a.wa(null);a=Q(a);return null==a?null:jb(a)}
function Mc(a){return null!=a?null!=a&&(a.F&64||u===a.Ca)?a.xa(null):(a=Q(a))?a.xa(null):Nc:Nc}function T(a){return null==a?null:null!=a&&(a.F&128||u===a.Ab)?a.qa(null):Q(Mc(a))}var Oc=function Oc(a){switch(arguments.length){case 1:return Oc.f(arguments[0]);case 2:return Oc.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new R(c.slice(2),0,null);return Oc.I(arguments[0],arguments[1],c)}};Oc.f=function(){return!0};
Oc.j=function(a,b){return null==a?null==b:a===b||Ob(a,b)};Oc.I=function(a,b,c){for(;;)if(Oc.j(a,b))if(T(c))a=b,b=S(c),c=T(c);else return Oc.j(b,S(c));else return!1};Oc.N=function(a){var b=S(a),c=T(a);a=S(c);c=T(c);return this.I(b,a,c)};Oc.K=2;function Pc(a){this.s=a}Pc.prototype.next=function(){if(null!=this.s){var a=S(this.s);this.s=T(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function Qc(a){return new Pc(Q(a))}
function Rc(a,b){this.value=a;this.xb=b;this.Vb=null;this.F=8388672;this.O=0}Rc.prototype.ja=function(){return this};Rc.prototype.wa=function(){return this.value};Rc.prototype.xa=function(){null==this.Vb&&(this.Vb=Lc.f?Lc.f(this.xb):Lc.call(null,this.xb));return this.Vb};function Lc(a){var b=a.next();return w(b.done)?null:new Rc(b.value,a)}function Sc(a){var b=0,c=1;for(a=Q(a);;)if(null!=a)b+=1,c=xc(31,c)+Fc(S(a))|0,a=T(a);else return Ac(zc(0,yc(c)),b)}var Tc=Ac(zc(0,yc(1)),0);
function Uc(a){var b=0,c=0;for(a=Q(a);;)if(null!=a)b+=1,c=c+Fc(S(a))|0,a=T(a);else return Ac(zc(0,yc(c)),b)}var Vc=Ac(zc(0,yc(0)),0);Za["null"]=!0;ab["null"]=function(){return 0};Date.prototype.ea=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};Date.prototype.yb=u;Date.prototype.pb=function(a,b){if(b instanceof Date)return la(this.valueOf(),b.valueOf());throw Error(["Cannot compare ",C.f(this)," to ",C.f(b)].join(""));};Ob.number=function(a,b){return a===b};Xa["function"]=!0;
Fb["function"]=!0;Gb["function"]=function(){return null};Pb._=function(a){return ea(a)};function Wc(a){return a+1}function Xc(a){this.ha=a;this.F=32768;this.O=0}Xc.prototype.hb=function(){return this.ha};function Yc(a){return a instanceof Xc}function Zc(a){return Eb(a)}function $c(a,b){var c=a.length;if(0===a.length)return b.J?b.J():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.j?b.j(d,f):b.call(null,d,f);if(Yc(d))return Eb(d);e+=1}else return d}
function ad(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.j?b.j(e,f):b.call(null,e,f);if(Yc(e))return Eb(e);c+=1}else return e}function bd(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.j?b.j(c,f):b.call(null,c,f);if(Yc(c))return Eb(c);d+=1}else return c}function cd(a){return null!=a?a.F&2||u===a.Ic?!0:a.F?!1:y(Za,a):y(Za,a)}function dd(a){return null!=a?a.F&16||u===a.pc?!0:a.F?!1:y(fb,a):y(fb,a)}
function U(a,b,c){var d=W.f?W.f(a):W.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(Oc.j(ed?ed(a,c):fd.call(null,a,c),b))return c;c+=1}else return-1}function gd(a,b,c){var d=W.f?W.f(a):W.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(Oc.j(ed?ed(a,c):fd.call(null,a,c),b))return c;--c}else return-1}function hd(a,b){this.B=a;this.i=b}hd.prototype.ya=function(){return this.i<this.B.length};
hd.prototype.next=function(){var a=this.B[this.i];this.i+=1;return a};function R(a,b,c){this.B=a;this.i=b;this.meta=c;this.F=166592766;this.O=139264}g=R.prototype;g.toString=function(){return wc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return U(this,b,0)};a.j=function(b,c){return U(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return gd(this,c,W.f?W.f(this):W.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return gd(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return gd(this,c,d)};return b}();g.ba=function(a,b){a=b+this.i;if(0<=a&&a<this.B.length)return this.B[a];throw Error("Index out of bounds");};g.Aa=function(a,b,c){a=b+this.i;return 0<=a&&a<this.B.length?this.B[a]:c};
g.Ga=function(){return new hd(this.B,this.i)};g.ga=function(){return this.meta};g.qa=function(){return this.i+1<this.B.length?new R(this.B,this.i+1,null):null};g.la=function(){var a=this.B.length-this.i;return 0>a?0:a};g.Ob=function(){var a=this.la(null);return 0<a?new id(this,a-1,null):null};g.ia=function(){return Sc(this)};g.ea=function(a,b){return jd.j?jd.j(this,b):jd.call(null,this,b)};g.na=function(){return Nc};g.ua=function(a,b){return bd(this.B,b,this.B[this.i],this.i+1)};
g.va=function(a,b,c){return bd(this.B,b,c,this.i)};g.wa=function(){return this.B[this.i]};g.xa=function(){return this.i+1<this.B.length?new R(this.B,this.i+1,null):Nc};g.ja=function(){return this.i<this.B.length?this:null};g.ka=function(a,b){return b===this.meta?this:new R(this.B,this.i,b)};g.oa=function(a,b){return kd.j?kd.j(b,this):kd.call(null,b,this)};R.prototype[Pa]=function(){return Qc(this)};function ld(a){return 0<a.length?new R(a,0,null):null}
function id(a,b,c){this.ci=a;this.i=b;this.meta=c;this.F=32374990;this.O=8192}g=id.prototype;g.toString=function(){return wc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return U(this,b,0)};a.j=function(b,c){return U(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return gd(this,c,W.f?W.f(this):W.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return gd(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return gd(this,c,d)};return b}();g.ga=function(){return this.meta};g.qa=function(){return 0<this.i?new id(this.ci,this.i-1,null):null};g.la=function(){return this.i+1};g.ia=function(){return Sc(this)};
g.ea=function(a,b){return jd.j?jd.j(this,b):jd.call(null,this,b)};g.na=function(){return Nc};g.ua=function(a,b){return md?md(b,this):nd.call(null,b,this)};g.va=function(a,b,c){return od?od(b,c,this):nd.call(null,b,c,this)};g.wa=function(){return gb(this.ci,this.i)};g.xa=function(){return 0<this.i?new id(this.ci,this.i-1,null):Nc};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new id(this.ci,this.i,b)};g.oa=function(a,b){return kd.j?kd.j(b,this):kd.call(null,b,this)};
id.prototype[Pa]=function(){return Qc(this)};function pd(a){for(;;){var b=T(a);if(null!=b)a=b;else return S(a)}}Ob._=function(a,b){return a===b};var qd=function qd(a){switch(arguments.length){case 0:return qd.J();case 1:return qd.f(arguments[0]);case 2:return qd.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new R(c.slice(2),0,null);return qd.I(arguments[0],arguments[1],c)}};qd.J=function(){return rd};qd.f=function(a){return a};
qd.j=function(a,b){return null!=a?eb(a,b):new sd(null,b,null,1,null)};qd.I=function(a,b,c){for(;;)if(w(c))a=qd.j(a,b),b=S(c),c=T(c);else return qd.j(a,b)};qd.N=function(a){var b=S(a),c=T(a);a=S(c);c=T(c);return this.I(b,a,c)};qd.K=2;
function W(a){if(null!=a)if(null!=a&&(a.F&2||u===a.Ic))a=a.la(null);else if(Ma(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.F&8388608||u===a.Sc))a:{a=Q(a);for(var b=0;;){if(cd(a)){a=b+ab(a);break a}a=T(a);b+=1}}else a=ab(a);else a=0;return a}function td(a,b,c){for(;;){if(null==a)return c;if(0===b)return Q(a)?S(a):c;if(dd(a))return gb(a,b,c);if(Q(a))a=T(a),--b;else return c}}
function fd(a){switch(arguments.length){case 2:return ed(arguments[0],arguments[1]);case 3:return ud(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.f(arguments.length)].join(""));}}
function ed(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.F&16||u===a.pc))return a.ba(null,b);if(Ma(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.F&64||u===a.Ca)||null!=a&&(a.F&16777216||u===a.rc)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(Q(a)){a=S(a);break a}throw Error("Index out of bounds");}if(dd(a)){a=gb(a,b);break a}if(Q(a))a=T(a),--b;else throw Error("Index out of bounds");}return a}if(y(fb,a))return gb(a,b);throw Error(["nth not supported on this type ",C.f(Oa(null==a?null:a.constructor))].join(""));}
function ud(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.F&16||u===a.pc))return a.Aa(null,b,c);if(Ma(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.F&64||u===a.Ca)||null!=a&&(a.F&16777216||u===a.rc))return 0>b?c:td(a,b,c);if(y(fb,a))return gb(a,b,c);throw Error(["nth not supported on this type ",C.f(Oa(null==a?null:a.constructor))].join(""));}
var J=function J(a){switch(arguments.length){case 2:return J.j(arguments[0],arguments[1]);case 3:return J.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.f(arguments.length)].join(""));}};J.j=function(a,b){return null==a?null:null!=a&&(a.F&256||u===a.Oc)?a.fa(null,b):Ma(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:y(nb,a)?ob(a,b):null};
J.C=function(a,b,c){return null!=a?null!=a&&(a.F&256||u===a.Oc)?a.Y(null,b,c):Ma(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:y(nb,a)?ob(a,b,c):c:c};J.K=3;var vd=function vd(a){switch(arguments.length){case 3:return vd.C(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new R(c.slice(3),0,null);return vd.I(arguments[0],arguments[1],arguments[2],c)}};
vd.C=function(a,b,c){if(null!=a&&(a.F&512||u===a.bd))a=a.gb(null,b,c);else if(null!=a)a=sb(a,b,c);else{a=[b,c];b=[];for(c=0;;)if(c<a.length){var d=a[c],e=a[c+1],f=wd(b,d);-1===f?(f=b,f.push(d),f.push(e)):b[f+1]=e;c+=2}else break;a=new v(null,b.length/2,b,null)}return a};vd.I=function(a,b,c,d){for(;;)if(a=vd.C(a,b,c),w(d))b=S(d),c=S(T(d)),d=T(T(d));else return a};vd.N=function(a){var b=S(a),c=T(a);a=S(c);var d=T(c);c=S(d);d=T(d);return this.I(b,a,c,d)};vd.K=3;
var xd=function xd(a){switch(arguments.length){case 1:return xd.f(arguments[0]);case 2:return xd.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new R(c.slice(2),0,null);return xd.I(arguments[0],arguments[1],c)}};xd.f=function(a){return a};xd.j=function(a,b){return null==a?null:wb(a,b)};xd.I=function(a,b,c){for(;;){if(null==a)return null;a=xd.j(a,b);if(w(c))b=S(c),c=T(c);else return a}};
xd.N=function(a){var b=S(a),c=T(a);a=S(c);c=T(c);return this.I(b,a,c)};xd.K=2;function yd(a){var b="function"==r(a);return b?b:null!=a?u===a.Hc?!0:a.uc?!1:y(Xa,a):y(Xa,a)}function zd(a,b){this.D=a;this.meta=b;this.F=393217;this.O=0}g=zd.prototype;g.ga=function(){return this.meta};g.ka=function(a,b){return new zd(this.D,b)};g.Hc=u;
g.call=function(a){switch(arguments.length-1){case 0:return this.J();case 1:return this.f(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);case 3:return this.C(arguments[1],arguments[2],arguments[3]);case 4:return this.P(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Fa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Za(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.$a(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.ab(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Oa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Pa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Qa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Ra(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Sa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Ta(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Ua(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Va(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Wa(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Xa(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Ya(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:var b=arguments[1],c=arguments[2],d=arguments[3],e=arguments[4],f=arguments[5],h=arguments[6],k=arguments[7],l=arguments[8],m=arguments[9],n=arguments[10],p=arguments[11],t=arguments[12],x=arguments[13],F=arguments[14],G=arguments[15],
P=arguments[16],X=arguments[17],fa=arguments[18],ra=arguments[19],xa=arguments[20],Ia=arguments[21];return Ad.Mb?Ad.Mb(this.D,b,c,d,e,f,h,k,l,m,n,p,t,x,F,G,P,X,fa,ra,xa,Ia):Ad.call(null,this.D,b,c,d,e,f,h,k,l,m,n,p,t,x,F,G,P,X,fa,ra,xa,Ia);default:throw Error(["Invalid arity: ",C.f(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Sa(b)))};g.J=function(){return this.D.J?this.D.J():this.D.call(null)};
g.f=function(a){return this.D.f?this.D.f(a):this.D.call(null,a)};g.j=function(a,b){return this.D.j?this.D.j(a,b):this.D.call(null,a,b)};g.C=function(a,b,c){return this.D.C?this.D.C(a,b,c):this.D.call(null,a,b,c)};g.P=function(a,b,c,d){return this.D.P?this.D.P(a,b,c,d):this.D.call(null,a,b,c,d)};g.pa=function(a,b,c,d,e){return this.D.pa?this.D.pa(a,b,c,d,e):this.D.call(null,a,b,c,d,e)};g.Fa=function(a,b,c,d,e,f){return this.D.Fa?this.D.Fa(a,b,c,d,e,f):this.D.call(null,a,b,c,d,e,f)};
g.Za=function(a,b,c,d,e,f,h){return this.D.Za?this.D.Za(a,b,c,d,e,f,h):this.D.call(null,a,b,c,d,e,f,h)};g.$a=function(a,b,c,d,e,f,h,k){return this.D.$a?this.D.$a(a,b,c,d,e,f,h,k):this.D.call(null,a,b,c,d,e,f,h,k)};g.ab=function(a,b,c,d,e,f,h,k,l){return this.D.ab?this.D.ab(a,b,c,d,e,f,h,k,l):this.D.call(null,a,b,c,d,e,f,h,k,l)};g.Oa=function(a,b,c,d,e,f,h,k,l,m){return this.D.Oa?this.D.Oa(a,b,c,d,e,f,h,k,l,m):this.D.call(null,a,b,c,d,e,f,h,k,l,m)};
g.Pa=function(a,b,c,d,e,f,h,k,l,m,n){return this.D.Pa?this.D.Pa(a,b,c,d,e,f,h,k,l,m,n):this.D.call(null,a,b,c,d,e,f,h,k,l,m,n)};g.Qa=function(a,b,c,d,e,f,h,k,l,m,n,p){return this.D.Qa?this.D.Qa(a,b,c,d,e,f,h,k,l,m,n,p):this.D.call(null,a,b,c,d,e,f,h,k,l,m,n,p)};g.Ra=function(a,b,c,d,e,f,h,k,l,m,n,p,t){return this.D.Ra?this.D.Ra(a,b,c,d,e,f,h,k,l,m,n,p,t):this.D.call(null,a,b,c,d,e,f,h,k,l,m,n,p,t)};
g.Sa=function(a,b,c,d,e,f,h,k,l,m,n,p,t,x){return this.D.Sa?this.D.Sa(a,b,c,d,e,f,h,k,l,m,n,p,t,x):this.D.call(null,a,b,c,d,e,f,h,k,l,m,n,p,t,x)};g.Ta=function(a,b,c,d,e,f,h,k,l,m,n,p,t,x,F){return this.D.Ta?this.D.Ta(a,b,c,d,e,f,h,k,l,m,n,p,t,x,F):this.D.call(null,a,b,c,d,e,f,h,k,l,m,n,p,t,x,F)};g.Ua=function(a,b,c,d,e,f,h,k,l,m,n,p,t,x,F,G){return this.D.Ua?this.D.Ua(a,b,c,d,e,f,h,k,l,m,n,p,t,x,F,G):this.D.call(null,a,b,c,d,e,f,h,k,l,m,n,p,t,x,F,G)};
g.Va=function(a,b,c,d,e,f,h,k,l,m,n,p,t,x,F,G,P){return this.D.Va?this.D.Va(a,b,c,d,e,f,h,k,l,m,n,p,t,x,F,G,P):this.D.call(null,a,b,c,d,e,f,h,k,l,m,n,p,t,x,F,G,P)};g.Wa=function(a,b,c,d,e,f,h,k,l,m,n,p,t,x,F,G,P,X){return this.D.Wa?this.D.Wa(a,b,c,d,e,f,h,k,l,m,n,p,t,x,F,G,P,X):this.D.call(null,a,b,c,d,e,f,h,k,l,m,n,p,t,x,F,G,P,X)};
g.Xa=function(a,b,c,d,e,f,h,k,l,m,n,p,t,x,F,G,P,X,fa){return this.D.Xa?this.D.Xa(a,b,c,d,e,f,h,k,l,m,n,p,t,x,F,G,P,X,fa):this.D.call(null,a,b,c,d,e,f,h,k,l,m,n,p,t,x,F,G,P,X,fa)};g.Ya=function(a,b,c,d,e,f,h,k,l,m,n,p,t,x,F,G,P,X,fa,ra){return this.D.Ya?this.D.Ya(a,b,c,d,e,f,h,k,l,m,n,p,t,x,F,G,P,X,fa,ra):this.D.call(null,a,b,c,d,e,f,h,k,l,m,n,p,t,x,F,G,P,X,fa,ra)};function Bd(a,b){return"function"==r(a)?new zd(a,b):null==a?null:Hb(a,b)}
function Cd(a){return null!=a&&(null!=a?a.F&131072||u===a.$b||(a.F?0:y(Fb,a)):y(Fb,a))?Gb(a):null}var Dd=function Dd(a){switch(arguments.length){case 1:return Dd.f(arguments[0]);case 2:return Dd.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new R(c.slice(2),0,null);return Dd.I(arguments[0],arguments[1],c)}};Dd.f=function(a){return a};Dd.j=function(a,b){return null==a?null:Ab(a,b)};
Dd.I=function(a,b,c){for(;;){if(null==a)return null;a=Dd.j(a,b);if(w(c))b=S(c),c=T(c);else return a}};Dd.N=function(a){var b=S(a),c=T(a);a=S(c);c=T(c);return this.I(b,a,c)};Dd.K=2;function Ed(a){return null==a||Na(Q(a))}function Fd(a){return null==a?!1:null!=a?a.F&8||u===a.dd?!0:a.F?!1:y(db,a):y(db,a)}function Gd(a){return null==a?!1:null!=a?a.F&4096||u===a.od?!0:a.F?!1:y(zb,a):y(zb,a)}function Md(a){return null!=a?a.F&16777216||u===a.rc?!0:a.F?!1:y(Tb,a):y(Tb,a)}
function Nd(a){return null==a?!1:null!=a?a.F&1024||u===a.kd?!0:a.F?!1:y(ub,a):y(ub,a)}function Od(a){return null!=a?a.F&67108864||u===a.md?!0:a.F?!1:y(Vb,a):y(Vb,a)}function Pd(a){return null!=a?a.F&16384||u===a.pd?!0:a.F?!1:y(Db,a):y(Db,a)}function Qd(a){return null!=a?a.O&512||u===a.cd?!0:!1:!1}function Rd(a,b,c,d,e){for(;0!==e;)c[d]=a[b],d+=1,--e,b+=1}var Sd={};function Td(a){return null==a?!1:!1===a?!1:!0}
function Ud(a){var b=yd(a);return b?b:null!=a?a.F&1||u===a.ed?!0:a.F?!1:y(Ya,a):y(Ya,a)}function Vd(a,b){return J.C(a,b,Sd)===Sd?!1:!0}
function Wd(a,b){if(a===b)return 0;if(null==a)return-1;if(null==b)return 1;if("number"===typeof a){if("number"===typeof b)return la(a,b);throw Error(["Cannot compare ",C.f(a)," to ",C.f(b)].join(""));}if(null!=a?a.O&2048||u===a.yb||(a.O?0:y(jc,a)):y(jc,a))return kc(a,b);if("string"!==typeof a&&!Ma(a)&&!0!==a&&!1!==a||(null==a?null:a.constructor)!==(null==b?null:b.constructor))throw Error(["Cannot compare ",C.f(a)," to ",C.f(b)].join(""));return la(a,b)}
function Xd(a,b){var c=W(a),d=W(b);if(c<d)a=-1;else if(c>d)a=1;else if(0===c)a=0;else a:for(d=0;;){var e=Wd(ed(a,d),ed(b,d));if(0===e&&d+1<c)d+=1;else{a=e;break a}}return a}function Yd(a){return Oc.j(a,Wd)?Wd:function(b,c){var d=a.j?a.j(b,c):a.call(null,b,c);return"number"===typeof d?d:w(d)?-1:w(a.j?a.j(c,b):a.call(null,c,b))?1:0}}function Zd(a,b){return Q(b)?(b=$d.f?$d.f(b):$d.call(null,b),na(b,Yd(a)),Q(b)):Nc}
function ae(a,b){return Zd(function(c,d){c=a.f?a.f(c):a.call(null,c);d=a.f?a.f(d):a.call(null,d);var e=Yd(Wd);return e.j?e.j(c,d):e.call(null,c,d)},b)}function nd(a){switch(arguments.length){case 2:return md(arguments[0],arguments[1]);case 3:return od(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.f(arguments.length)].join(""));}}function md(a,b){var c=Q(b);return c?(b=S(c),c=T(c),Ua?Ua(a,b,c):Va.call(null,a,b,c)):a.J?a.J():a.call(null)}
function od(a,b,c){for(c=Q(c);;)if(c){var d=S(c);b=a.j?a.j(b,d):a.call(null,b,d);if(Yc(b))return Eb(b);c=T(c)}else return b}function be(a,b){a=sc(a);if(w(a.ya()))for(var c=a.next();;)if(a.ya()){var d=a.next();c=b.j?b.j(c,d):b.call(null,c,d);if(Yc(c))return Eb(c)}else return c;else return b.J?b.J():b.call(null)}function ce(a,b,c){for(a=sc(a);;)if(a.ya()){var d=a.next();c=b.j?b.j(c,d):b.call(null,c,d);if(Yc(c))return Eb(c)}else return c}
function Va(a){switch(arguments.length){case 2:return de(arguments[0],arguments[1]);case 3:return Ua(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.f(arguments.length)].join(""));}}function de(a,b){return null!=b&&(b.F&524288||u===b.Rc)?b.ua(null,a):Ma(b)?$c(b,a):"string"===typeof b?$c(b,a):y(Jb,b)?Kb(b,a):Kc(b)?be(b,a):md(a,b)}
function Ua(a,b,c){return null!=c&&(c.F&524288||u===c.Rc)?c.va(null,a,b):Ma(c)?ad(c,a,b):"string"===typeof c?ad(c,a,b):y(Jb,c)?Kb(c,a,b):Kc(c)?ce(c,a,b):od(a,b,c)}function ee(a,b,c){return null!=c?Nb(c,a,b):b}function fe(a){return a}function ge(a,b,c,d){a=a.f?a.f(b):a.call(null,b);c=Ua(a,c,d);return a.f?a.f(c):a.call(null,c)}function he(a){return a-1}function ie(a,b){a=(a-a%b)/b;return 0<=a?Math.floor(a):Math.ceil(a)}
function je(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var C=function C(a){switch(arguments.length){case 0:return C.J();case 1:return C.f(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new R(c.slice(1),0,null);return C.I(arguments[0],c)}};C.J=function(){return""};C.f=function(a){return null==a?"":[a].join("")};
C.I=function(a,b){for(a=new ya(C.f(a));;)if(w(b))a=a.append(C.f(S(b))),b=T(b);else return a.toString()};C.N=function(a){var b=S(a);a=T(a);return this.I(b,a)};C.K=1;function jd(a,b){if(Md(b))if(cd(a)&&cd(b)&&W(a)!==W(b))a=!1;else a:for(a=Q(a),b=Q(b);;){if(null==a){a=null==b;break a}if(null!=b&&Oc.j(S(a),S(b)))a=T(a),b=T(b);else{a=!1;break a}}else a=null;return Td(a)}function sd(a,b,c,d,e){this.meta=a;this.first=b;this.eb=c;this.count=d;this.T=e;this.F=65937646;this.O=8192}g=sd.prototype;
g.toString=function(){return wc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return U(this,b,0)};a.j=function(b,c){return U(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return gd(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return gd(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return gd(this,c,d)};return b}();g.ga=function(){return this.meta};g.qa=function(){return 1===this.count?null:this.eb};g.la=function(){return this.count};g.Bb=function(){return this.first};g.Cb=function(){return this.xa(null)};
g.ia=function(){var a=this.T;return null!=a?a:this.T=a=Sc(this)};g.ea=function(a,b){return jd(this,b)};g.na=function(){return Hb(Nc,this.meta)};g.ua=function(a,b){return md(b,this)};g.va=function(a,b,c){return od(b,c,this)};g.wa=function(){return this.first};g.xa=function(){return 1===this.count?Nc:this.eb};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new sd(b,this.first,this.eb,this.count,this.T)};g.oa=function(a,b){return new sd(this.meta,b,this,this.count+1,null)};
sd.prototype[Pa]=function(){return Qc(this)};function ke(a){this.meta=a;this.F=65937614;this.O=8192}g=ke.prototype;g.toString=function(){return wc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return U(this,b,0)};a.j=function(b,c){return U(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return gd(this,c,W(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return gd(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return gd(this,c,d)};return b}();g.ga=function(){return this.meta};g.qa=function(){return null};g.la=function(){return 0};g.Bb=function(){return null};g.Cb=function(){throw Error("Can't pop empty list");};g.ia=function(){return Tc};
g.ea=function(a,b){return(null!=b?b.F&33554432||u===b.jd||(b.F?0:y(Ub,b)):y(Ub,b))||Md(b)?null==Q(b):!1};g.na=function(){return this};g.ua=function(a,b){return md(b,this)};g.va=function(a,b,c){return od(b,c,this)};g.wa=function(){return null};g.xa=function(){return Nc};g.ja=function(){return null};g.ka=function(a,b){return b===this.meta?this:new ke(b)};g.oa=function(a,b){return new sd(this.meta,b,null,1,null)};var Nc=new ke(null);ke.prototype[Pa]=function(){return Qc(this)};
function le(a){return(null!=a?a.F&134217728||u===a.nd||(a.F?0:y(Wb,a)):y(Wb,a))?(a=Xb(a))?a:Nc:Ua(qd,Nc,a)}var me=function me(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new R(c.slice(0),0,null):null;return me.I(c)};me.I=function(a){if(a instanceof R&&0===a.i)var b=a.B;else a:for(b=[];;)if(null!=a)b.push(jb(a)),a=mb(a);else break a;a=b.length;for(var c=Nc;;)if(0<a){var d=a-1;c=eb(c,b[a-1]);a=d}else return c};me.K=0;me.N=function(a){return this.I(Q(a))};
function qe(a,b,c,d){this.meta=a;this.first=b;this.eb=c;this.T=d;this.F=65929452;this.O=8192}g=qe.prototype;g.toString=function(){return wc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return U(this,b,0)};a.j=function(b,c){return U(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return gd(this,c,W(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return gd(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return gd(this,c,d)};return b}();g.ga=function(){return this.meta};g.qa=function(){return null==this.eb?null:Q(this.eb)};g.ia=function(){var a=this.T;return null!=a?a:this.T=a=Sc(this)};g.ea=function(a,b){return jd(this,b)};g.na=function(){return Nc};
g.ua=function(a,b){return md(b,this)};g.va=function(a,b,c){return od(b,c,this)};g.wa=function(){return this.first};g.xa=function(){return null==this.eb?Nc:this.eb};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new qe(b,this.first,this.eb,this.T)};g.oa=function(a,b){return new qe(null,b,this,null)};qe.prototype[Pa]=function(){return Qc(this)};
function kd(a,b){return null==b?new sd(null,a,null,1,null):null!=b&&(b.F&64||u===b.Ca)?new qe(null,a,b,null):new qe(null,a,Q(b),null)}function re(a,b){if(a.Da===b.Da)return 0;if(w(Na(a.Ba)?b.Ba:!1))return-1;if(w(a.Ba)){if(Na(b.Ba))return 1;var c=la(a.Ba,b.Ba);return 0===c?la(a.name,b.name):c}return la(a.name,b.name)}function N(a,b,c,d){this.Ba=a;this.name=b;this.Da=c;this._hash=d;this.F=2153775105;this.O=4096}g=N.prototype;g.toString=function(){return[":",C.f(this.Da)].join("")};
g.ea=function(a,b){return b instanceof N?this.Da===b.Da:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.f(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.f(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Sa(b)))};g.f=function(a){return J.j(a,this)};g.j=function(a,b){return J.C(a,this,b)};
g.ia=function(){var a=this._hash;return null!=a?a:this._hash=a=Gc(Bc(this.name),Ec(this.Ba))+2654435769|0};g.da=function(a,b){return Yb(b,[":",C.f(this.Da)].join(""))};function se(a,b){return a===b?!0:a instanceof N&&b instanceof N?a.Da===b.Da:!1}function te(a){if(null!=a&&(a.O&4096||u===a.qc))return a.Ba;throw Error(["Doesn't support namespace: ",C.f(a)].join(""));}function ue(a){return a instanceof N||a instanceof Ic}
var ve=function ve(a){switch(arguments.length){case 1:return ve.f(arguments[0]);case 2:return ve.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",C.f(arguments.length)].join(""));}};ve.f=function(a){if(a instanceof N)return a;if(a instanceof Ic)return new N(te(a),we.f?we.f(a):we.call(null,a),a.Zc,null);if(Oc.j("/",a))return new N(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new N(b[0],b[1],a,null):new N(null,b[0],a,null)}return null};
ve.j=function(a,b){a=a instanceof N?we.f?we.f(a):we.call(null,a):a instanceof Ic?we.f?we.f(a):we.call(null,a):a;b=b instanceof N?we.f?we.f(b):we.call(null,b):b instanceof Ic?we.f?we.f(b):we.call(null,b):b;return new N(a,b,[w(a)?[C.f(a),"/"].join(""):null,C.f(b)].join(""),null)};ve.K=2;function xe(a,b,c){this.meta=a;this.fn=b;this.s=null;this.T=c;this.F=32374988;this.O=1}g=xe.prototype;g.toString=function(){return wc(this)};
function ye(a){null!=a.fn&&(a.s=a.fn.J?a.fn.J():a.fn.call(null),a.fn=null);return a.s}g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return U(this,b,0)};a.j=function(b,c){return U(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return gd(this,c,W(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return gd(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return gd(this,c,d)};return b}();g.ga=function(){return this.meta};g.qa=function(){this.ja(null);return null==this.s?null:T(this.s)};g.ia=function(){var a=this.T;return null!=a?a:this.T=a=Sc(this)};g.ea=function(a,b){return jd(this,b)};
g.na=function(){return Hb(Nc,this.meta)};g.ua=function(a,b){return md(b,this)};g.va=function(a,b,c){return od(b,c,this)};g.wa=function(){this.ja(null);return null==this.s?null:S(this.s)};g.xa=function(){this.ja(null);return null!=this.s?Mc(this.s):Nc};g.ja=function(){ye(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof xe)a=ye(a);else return this.s=a,Q(this.s)};g.ka=function(a,b){var c=this;return b===this.meta?c:new xe(b,function(){return c.ja(null)},this.T)};
g.oa=function(a,b){return kd(b,this)};xe.prototype[Pa]=function(){return Qc(this)};function ze(a){this.Wb=a;this.end=0;this.F=2;this.O=0}ze.prototype.add=function(a){this.Wb[this.end]=a;return this.end+=1};ze.prototype.ra=function(){var a=new Ae(this.Wb,0,this.end);this.Wb=null;return a};ze.prototype.la=function(){return this.end};function Be(a){return new ze(Array(a))}function Ae(a,b,c){this.B=a;this.off=b;this.end=c;this.F=524306;this.O=0}g=Ae.prototype;g.la=function(){return this.end-this.off};
g.ba=function(a,b){return this.B[this.off+b]};g.Aa=function(a,b,c){return 0<=b&&b<this.end-this.off?this.B[this.off+b]:c};g.nc=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Ae(this.B,this.off+1,this.end)};g.ua=function(a,b){return bd(this.B,b,this.B[this.off],this.off+1)};g.va=function(a,b,c){return bd(this.B,b,c,this.off)};function Ce(a,b,c,d){this.ra=a;this.Ka=b;this.meta=c;this.T=d;this.F=31850732;this.O=1536}g=Ce.prototype;g.toString=function(){return wc(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return U(this,b,0)};a.j=function(b,c){return U(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return gd(this,c,W(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return gd(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return gd(this,c,d)};return b}();g.ga=function(){return this.meta};g.qa=function(){return 1<ab(this.ra)?new Ce(lc(this.ra),this.Ka,null,null):null==this.Ka?null:Sb(this.Ka)};g.ia=function(){var a=this.T;return null!=a?a:this.T=a=Sc(this)};
g.ea=function(a,b){return jd(this,b)};g.na=function(){return Nc};g.wa=function(){return gb(this.ra,0)};g.xa=function(){return 1<ab(this.ra)?new Ce(lc(this.ra),this.Ka,null,null):null==this.Ka?Nc:this.Ka};g.ja=function(){return this};g.Yb=function(){return this.ra};g.Lb=function(){return null==this.Ka?Nc:this.Ka};g.ka=function(a,b){return b===this.meta?this:new Ce(this.ra,this.Ka,b,this.T)};g.oa=function(a,b){return kd(b,this)};g.oc=function(){return null==this.Ka?null:this.Ka};Ce.prototype[Pa]=function(){return Qc(this)};
function De(a,b){return 0===ab(a)?b:new Ce(a,b,null,null)}function Ee(a,b){a.add(b)}function $d(a){var b=[];for(a=Q(a);;)if(null!=a)b.push(S(a)),a=T(a);else return b}function Fe(a,b){if(cd(b))return W(b);var c=0;for(b=Q(b);;)if(null!=b&&c<a)c+=1,b=T(b);else return c}
var Ge=function Ge(a){if(null==a)return null;var c=T(a);return null==c?Q(S(a)):kd(S(a),Ge.f?Ge.f(c):Ge.call(null,c))},He=function He(a){switch(arguments.length){case 0:return He.J();case 1:return He.f(arguments[0]);case 2:return He.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new R(c.slice(2),0,null);return He.I(arguments[0],arguments[1],c)}};He.J=function(){return fc(rd)};He.f=function(a){return a};
He.j=function(a,b){return gc(a,b)};He.I=function(a,b,c){for(;;)if(a=gc(a,b),w(c))b=S(c),c=T(c);else return a};He.N=function(a){var b=S(a),c=T(a);a=S(c);c=T(c);return this.I(b,a,c)};He.K=2;
function Ie(a,b,c){var d=Q(c);if(0===b)return a.J?a.J():a.call(null);c=jb(d);var e=kb(d);if(1===b)return a.f?a.f(c):a.call(null,c);d=jb(e);var f=kb(e);if(2===b)return a.j?a.j(c,d):a.call(null,c,d);e=jb(f);var h=kb(f);if(3===b)return a.C?a.C(c,d,e):a.call(null,c,d,e);f=jb(h);var k=kb(h);if(4===b)return a.P?a.P(c,d,e,f):a.call(null,c,d,e,f);h=jb(k);var l=kb(k);if(5===b)return a.pa?a.pa(c,d,e,f,h):a.call(null,c,d,e,f,h);k=jb(l);var m=kb(l);if(6===b)return a.Fa?a.Fa(c,d,e,f,h,k):a.call(null,c,d,e,f,h,
k);l=jb(m);var n=kb(m);if(7===b)return a.Za?a.Za(c,d,e,f,h,k,l):a.call(null,c,d,e,f,h,k,l);m=jb(n);var p=kb(n);if(8===b)return a.$a?a.$a(c,d,e,f,h,k,l,m):a.call(null,c,d,e,f,h,k,l,m);n=jb(p);var t=kb(p);if(9===b)return a.ab?a.ab(c,d,e,f,h,k,l,m,n):a.call(null,c,d,e,f,h,k,l,m,n);p=jb(t);var x=kb(t);if(10===b)return a.Oa?a.Oa(c,d,e,f,h,k,l,m,n,p):a.call(null,c,d,e,f,h,k,l,m,n,p);t=jb(x);var F=kb(x);if(11===b)return a.Pa?a.Pa(c,d,e,f,h,k,l,m,n,p,t):a.call(null,c,d,e,f,h,k,l,m,n,p,t);x=jb(F);var G=kb(F);
if(12===b)return a.Qa?a.Qa(c,d,e,f,h,k,l,m,n,p,t,x):a.call(null,c,d,e,f,h,k,l,m,n,p,t,x);F=jb(G);var P=kb(G);if(13===b)return a.Ra?a.Ra(c,d,e,f,h,k,l,m,n,p,t,x,F):a.call(null,c,d,e,f,h,k,l,m,n,p,t,x,F);G=jb(P);var X=kb(P);if(14===b)return a.Sa?a.Sa(c,d,e,f,h,k,l,m,n,p,t,x,F,G):a.call(null,c,d,e,f,h,k,l,m,n,p,t,x,F,G);P=jb(X);var fa=kb(X);if(15===b)return a.Ta?a.Ta(c,d,e,f,h,k,l,m,n,p,t,x,F,G,P):a.call(null,c,d,e,f,h,k,l,m,n,p,t,x,F,G,P);X=jb(fa);var ra=kb(fa);if(16===b)return a.Ua?a.Ua(c,d,e,f,h,
k,l,m,n,p,t,x,F,G,P,X):a.call(null,c,d,e,f,h,k,l,m,n,p,t,x,F,G,P,X);fa=jb(ra);var xa=kb(ra);if(17===b)return a.Va?a.Va(c,d,e,f,h,k,l,m,n,p,t,x,F,G,P,X,fa):a.call(null,c,d,e,f,h,k,l,m,n,p,t,x,F,G,P,X,fa);ra=jb(xa);var Ia=kb(xa);if(18===b)return a.Wa?a.Wa(c,d,e,f,h,k,l,m,n,p,t,x,F,G,P,X,fa,ra):a.call(null,c,d,e,f,h,k,l,m,n,p,t,x,F,G,P,X,fa,ra);xa=jb(Ia);Ia=kb(Ia);if(19===b)return a.Xa?a.Xa(c,d,e,f,h,k,l,m,n,p,t,x,F,G,P,X,fa,ra,xa):a.call(null,c,d,e,f,h,k,l,m,n,p,t,x,F,G,P,X,fa,ra,xa);var sa=jb(Ia);
kb(Ia);if(20===b)return a.Ya?a.Ya(c,d,e,f,h,k,l,m,n,p,t,x,F,G,P,X,fa,ra,xa,sa):a.call(null,c,d,e,f,h,k,l,m,n,p,t,x,F,G,P,X,fa,ra,xa,sa);throw Error("Only up to 20 arguments supported on functions");}function Je(a){return null!=a&&(a.F&128||u===a.Ab)?a.qa(null):Q(Mc(a))}function Ke(a,b,c){return null==c?a.f?a.f(b):a.call(a,b):Le(a,b,jb(c),Je(c))}function Le(a,b,c,d){return null==d?a.j?a.j(b,c):a.call(a,b,c):Me(a,b,c,jb(d),Je(d))}
function Me(a,b,c,d,e){return null==e?a.C?a.C(b,c,d):a.call(a,b,c,d):Ne(a,b,c,d,jb(e),Je(e))}
function Ne(a,b,c,d,e,f){if(null==f)return a.P?a.P(b,c,d,e):a.call(a,b,c,d,e);var h=jb(f),k=T(f);if(null==k)return a.pa?a.pa(b,c,d,e,h):a.call(a,b,c,d,e,h);f=jb(k);var l=T(k);if(null==l)return a.Fa?a.Fa(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=jb(l);var m=T(l);if(null==m)return a.Za?a.Za(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);l=jb(m);var n=T(m);if(null==n)return a.$a?a.$a(b,c,d,e,h,f,k,l):a.call(a,b,c,d,e,h,f,k,l);m=jb(n);var p=T(n);if(null==p)return a.ab?a.ab(b,c,d,e,h,f,k,l,m):a.call(a,b,c,d,e,h,f,
k,l,m);n=jb(p);var t=T(p);if(null==t)return a.Oa?a.Oa(b,c,d,e,h,f,k,l,m,n):a.call(a,b,c,d,e,h,f,k,l,m,n);p=jb(t);var x=T(t);if(null==x)return a.Pa?a.Pa(b,c,d,e,h,f,k,l,m,n,p):a.call(a,b,c,d,e,h,f,k,l,m,n,p);t=jb(x);var F=T(x);if(null==F)return a.Qa?a.Qa(b,c,d,e,h,f,k,l,m,n,p,t):a.call(a,b,c,d,e,h,f,k,l,m,n,p,t);x=jb(F);var G=T(F);if(null==G)return a.Ra?a.Ra(b,c,d,e,h,f,k,l,m,n,p,t,x):a.call(a,b,c,d,e,h,f,k,l,m,n,p,t,x);F=jb(G);var P=T(G);if(null==P)return a.Sa?a.Sa(b,c,d,e,h,f,k,l,m,n,p,t,x,F):a.call(a,
b,c,d,e,h,f,k,l,m,n,p,t,x,F);G=jb(P);var X=T(P);if(null==X)return a.Ta?a.Ta(b,c,d,e,h,f,k,l,m,n,p,t,x,F,G):a.call(a,b,c,d,e,h,f,k,l,m,n,p,t,x,F,G);P=jb(X);var fa=T(X);if(null==fa)return a.Ua?a.Ua(b,c,d,e,h,f,k,l,m,n,p,t,x,F,G,P):a.call(a,b,c,d,e,h,f,k,l,m,n,p,t,x,F,G,P);X=jb(fa);var ra=T(fa);if(null==ra)return a.Va?a.Va(b,c,d,e,h,f,k,l,m,n,p,t,x,F,G,P,X):a.call(a,b,c,d,e,h,f,k,l,m,n,p,t,x,F,G,P,X);fa=jb(ra);var xa=T(ra);if(null==xa)return a.Wa?a.Wa(b,c,d,e,h,f,k,l,m,n,p,t,x,F,G,P,X,fa):a.call(a,b,
c,d,e,h,f,k,l,m,n,p,t,x,F,G,P,X,fa);ra=jb(xa);var Ia=T(xa);if(null==Ia)return a.Xa?a.Xa(b,c,d,e,h,f,k,l,m,n,p,t,x,F,G,P,X,fa,ra):a.call(a,b,c,d,e,h,f,k,l,m,n,p,t,x,F,G,P,X,fa,ra);xa=jb(Ia);Ia=T(Ia);if(null==Ia)return a.Ya?a.Ya(b,c,d,e,h,f,k,l,m,n,p,t,x,F,G,P,X,fa,ra,xa):a.call(a,b,c,d,e,h,f,k,l,m,n,p,t,x,F,G,P,X,fa,ra,xa);b=[b,c,d,e,h,f,k,l,m,n,p,t,x,F,G,P,X,fa,ra,xa];for(c=Ia;;)if(c)b.push(jb(c)),c=T(c);else break;return a.apply(a,b)}
function Ad(a){switch(arguments.length){case 2:return Oe(arguments[0],arguments[1]);case 3:return Pe(arguments[0],arguments[1],arguments[2]);case 4:return Qe(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Re(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=new R(b.slice(5),0,null);return Se(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}
function Oe(a,b){if(a.N){var c=a.K,d=Fe(c+1,b);return d<=c?Ie(a,d,b):a.N(b)}b=Q(b);return null==b?a.J?a.J():a.call(a):Ke(a,jb(b),Je(b))}function Pe(a,b,c){if(a.N){b=kd(b,c);var d=a.K;c=Fe(d,c)+1;return c<=d?Ie(a,c,b):a.N(b)}return Ke(a,b,Q(c))}function Qe(a,b,c,d){return a.N?(b=kd(b,kd(c,d)),c=a.K,d=2+Fe(c-1,d),d<=c?Ie(a,d,b):a.N(b)):Le(a,b,c,Q(d))}function Re(a,b,c,d,e){return a.N?(b=kd(b,kd(c,kd(d,e))),c=a.K,e=3+Fe(c-2,e),e<=c?Ie(a,e,b):a.N(b)):Me(a,b,c,d,Q(e))}
function Se(a,b,c,d,e,f){return a.N?(f=Ge(f),b=kd(b,kd(c,kd(d,kd(e,f)))),c=a.K,f=4+Fe(c-3,f),f<=c?Ie(a,f,b):a.N(b)):Ne(a,b,c,d,e,Ge(f))}
function Te(){if("undefined"===typeof Aa||"undefined"===typeof Ba||"undefined"===typeof Ca)Ca=function(a){this.Nc=a;this.F=393216;this.O=0},Ca.prototype.ka=function(a,b){return new Ca(b)},Ca.prototype.ga=function(){return this.Nc},Ca.prototype.ya=function(){return!1},Ca.prototype.next=function(){return Error("No such element")},Ca.prototype.remove=function(){return Error("Unsupported operation")},Ca.Ac=function(){return new Z(null,1,5,Ue,[Ve],null)},Ca.Eb=!0,Ca.kb="cljs.core/t_cljs$core22169",Ca.Rb=
function(a){return Yb(a,"cljs.core/t_cljs$core22169")};return new Ca(We)}function Xe(a,b){for(;;){if(null==Q(b))return!0;var c=S(b);c=a.f?a.f(c):a.call(null,c);if(w(c))b=T(b);else return!1}}function Ye(a){for(var b=fe;;)if(a=Q(a)){var c=S(a);c=b.f?b.f(c):b.call(null,c);if(w(c))return c;a=T(a)}else return null}
function Ze(a){return function(){function b(h,k){return Na(a.j?a.j(h,k):a.call(null,h,k))}function c(h){return Na(a.f?a.f(h):a.call(null,h))}function d(){return Na(a.J?a.J():a.call(null))}var e=null,f=function(){function h(l,m,n){var p=null;if(2<arguments.length){p=0;for(var t=Array(arguments.length-2);p<t.length;)t[p]=arguments[p+2],++p;p=new R(t,0,null)}return k.call(this,l,m,p)}function k(l,m,n){return Na(Qe(a,l,m,n))}h.K=2;h.N=function(l){var m=S(l);l=T(l);var n=S(l);l=Mc(l);return k(m,n,l)};
h.I=k;return h}();e=function(h,k,l){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,h);case 2:return b.call(this,h,k);default:var m=null;if(2<arguments.length){m=0;for(var n=Array(arguments.length-2);m<n.length;)n[m]=arguments[m+2],++m;m=new R(n,0,null)}return f.I(h,k,m)}throw Error("Invalid arity: "+arguments.length);};e.K=2;e.N=f.N;e.J=d;e.f=c;e.j=b;e.I=f.I;return e}()}
var $e=function $e(a){switch(arguments.length){case 0:return $e.J();case 1:return $e.f(arguments[0]);case 2:return $e.j(arguments[0],arguments[1]);case 3:return $e.C(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new R(c.slice(3),0,null);return $e.I(arguments[0],arguments[1],arguments[2],c)}};$e.J=function(){return fe};$e.f=function(a){return a};
$e.j=function(a,b){return function(){function c(l,m,n){l=b.C?b.C(l,m,n):b.call(null,l,m,n);return a.f?a.f(l):a.call(null,l)}function d(l,m){l=b.j?b.j(l,m):b.call(null,l,m);return a.f?a.f(l):a.call(null,l)}function e(l){l=b.f?b.f(l):b.call(null,l);return a.f?a.f(l):a.call(null,l)}function f(){var l=b.J?b.J():b.call(null);return a.f?a.f(l):a.call(null,l)}var h=null,k=function(){function l(n,p,t,x){var F=null;if(3<arguments.length){F=0;for(var G=Array(arguments.length-3);F<G.length;)G[F]=arguments[F+
3],++F;F=new R(G,0,null)}return m.call(this,n,p,t,F)}function m(n,p,t,x){n=Re(b,n,p,t,x);return a.f?a.f(n):a.call(null,n)}l.K=3;l.N=function(n){var p=S(n);n=T(n);var t=S(n);n=T(n);var x=S(n);n=Mc(n);return m(p,t,x,n)};l.I=m;return l}();h=function(l,m,n,p){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,l);case 2:return d.call(this,l,m);case 3:return c.call(this,l,m,n);default:var t=null;if(3<arguments.length){t=0;for(var x=Array(arguments.length-3);t<x.length;)x[t]=arguments[t+
3],++t;t=new R(x,0,null)}return k.I(l,m,n,t)}throw Error("Invalid arity: "+arguments.length);};h.K=3;h.N=k.N;h.J=f;h.f=e;h.j=d;h.C=c;h.I=k.I;return h}()};
$e.C=function(a,b,c){return function(){function d(m,n,p){m=c.C?c.C(m,n,p):c.call(null,m,n,p);m=b.f?b.f(m):b.call(null,m);return a.f?a.f(m):a.call(null,m)}function e(m,n){m=c.j?c.j(m,n):c.call(null,m,n);m=b.f?b.f(m):b.call(null,m);return a.f?a.f(m):a.call(null,m)}function f(m){m=c.f?c.f(m):c.call(null,m);m=b.f?b.f(m):b.call(null,m);return a.f?a.f(m):a.call(null,m)}function h(){var m=c.J?c.J():c.call(null);m=b.f?b.f(m):b.call(null,m);return a.f?a.f(m):a.call(null,m)}var k=null,l=function(){function m(p,
t,x,F){var G=null;if(3<arguments.length){G=0;for(var P=Array(arguments.length-3);G<P.length;)P[G]=arguments[G+3],++G;G=new R(P,0,null)}return n.call(this,p,t,x,G)}function n(p,t,x,F){p=Re(c,p,t,x,F);p=b.f?b.f(p):b.call(null,p);return a.f?a.f(p):a.call(null,p)}m.K=3;m.N=function(p){var t=S(p);p=T(p);var x=S(p);p=T(p);var F=S(p);p=Mc(p);return n(t,x,F,p)};m.I=n;return m}();k=function(m,n,p,t){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,m);case 2:return e.call(this,
m,n);case 3:return d.call(this,m,n,p);default:var x=null;if(3<arguments.length){x=0;for(var F=Array(arguments.length-3);x<F.length;)F[x]=arguments[x+3],++x;x=new R(F,0,null)}return l.I(m,n,p,x)}throw Error("Invalid arity: "+arguments.length);};k.K=3;k.N=l.N;k.J=h;k.f=f;k.j=e;k.C=d;k.I=l.I;return k}()};
$e.I=function(a,b,c,d){var e=le(kd(a,kd(b,kd(c,d))));return function(){function f(k){var l=null;if(0<arguments.length){l=0;for(var m=Array(arguments.length-0);l<m.length;)m[l]=arguments[l+0],++l;l=new R(m,0,null)}return h.call(this,l)}function h(k){k=Oe(S(e),k);for(var l=T(e);;)if(l){var m=S(l);k=m.f?m.f(k):m.call(null,k);l=T(l)}else return k}f.K=0;f.N=function(k){k=Q(k);return h(k)};f.I=h;return f}()};$e.N=function(a){var b=S(a),c=T(a);a=S(c);var d=T(c);c=S(d);d=T(d);return this.I(b,a,c,d)};
$e.K=3;function af(a,b){return new xe(null,function(){var c=Q(b);if(c){if(Qd(c)){for(var d=mc(c),e=W(d),f=Be(e),h=0;;)if(h<e){var k=function(){var l=gb(d,h);return a.f?a.f(l):a.call(null,l)}();null!=k&&f.add(k);h+=1}else break;return De(f.ra(),af(a,nc(c)))}e=function(){var l=S(c);return a.f?a.f(l):a.call(null,l)}();return null==e?af(a,Mc(c)):kd(e,af(a,Mc(c)))}return null},null)}function bf(a){this.state=a;this.ta=this.validator=this.meta=null;this.O=16386;this.F=6455296}g=bf.prototype;
g.ea=function(a,b){return this===b};g.hb=function(){return this.state};g.ga=function(){return this.meta};g.fc=function(a,b){for(var c=Q(this.ta),d=null,e=0,f=0;;)if(f<e){var h=d.ba(null,f),k=ud(h,0,null);h=ud(h,1,null);h.P?h.P(k,this,a,b):h.call(null,k,this,a,b);f+=1}else if(c=Q(c))Qd(c)?(d=mc(c),c=nc(c),k=d,e=W(d),d=k):(d=S(c),k=ud(d,0,null),h=ud(d,1,null),h.P?h.P(k,this,a,b):h.call(null,k,this,a,b),c=T(c),d=null,e=0),f=0;else break};g.Pb=function(a,b,c){this.ta=vd.C(this.ta,b,c);return this};
g.Qb=function(a,b){return this.ta=xd.j(this.ta,b)};g.ia=function(){return ea(this)};function cf(a,b){if(a instanceof bf){var c=a.validator;if(null!=c&&!w(c.f?c.f(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.ta&&a.fc(c,b);return b}return oc(a,b)}
var df=function df(a){switch(arguments.length){case 2:return df.j(arguments[0],arguments[1]);case 3:return df.C(arguments[0],arguments[1],arguments[2]);case 4:return df.P(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new R(c.slice(4),0,null);return df.I(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
df.j=function(a,b){if(a instanceof bf){var c=a.state;b=b.f?b.f(c):b.call(null,c);a=cf(a,b)}else a=pc(a,b);return a};df.C=function(a,b,c){if(a instanceof bf){var d=a.state;b=b.j?b.j(d,c):b.call(null,d,c);a=cf(a,b)}else a=pc(a,b,c);return a};df.P=function(a,b,c,d){if(a instanceof bf){var e=a.state;b=b.C?b.C(e,c,d):b.call(null,e,c,d);a=cf(a,b)}else a=pc(a,b,c,d);return a};df.I=function(a,b,c,d,e){return a instanceof bf?cf(a,Re(b,a.state,c,d,e)):pc(a,b,c,d,e)};
df.N=function(a){var b=S(a),c=T(a);a=S(c);var d=T(c);c=S(d);var e=T(d);d=S(e);e=T(e);return this.I(b,a,c,d,e)};df.K=4;function ef(a){this.state=a;this.F=32768;this.O=0}ef.prototype.hb=function(){return this.state};
var ff=function ff(a){switch(arguments.length){case 1:return ff.f(arguments[0]);case 2:return ff.j(arguments[0],arguments[1]);case 3:return ff.C(arguments[0],arguments[1],arguments[2]);case 4:return ff.P(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new R(c.slice(4),0,null);return ff.I(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
ff.f=function(a){return function(b){return function(){function c(k,l){l=a.f?a.f(l):a.call(null,l);return b.j?b.j(k,l):b.call(null,k,l)}function d(k){return b.f?b.f(k):b.call(null,k)}function e(){return b.J?b.J():b.call(null)}var f=null,h=function(){function k(m,n,p){var t=null;if(2<arguments.length){t=0;for(var x=Array(arguments.length-2);t<x.length;)x[t]=arguments[t+2],++t;t=new R(x,0,null)}return l.call(this,m,n,t)}function l(m,n,p){n=Pe(a,n,p);return b.j?b.j(m,n):b.call(null,m,n)}k.K=2;k.N=function(m){var n=
S(m);m=T(m);var p=S(m);m=Mc(m);return l(n,p,m)};k.I=l;return k}();f=function(k,l,m){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);default:var n=null;if(2<arguments.length){n=0;for(var p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new R(p,0,null)}return h.I(k,l,n)}throw Error("Invalid arity: "+arguments.length);};f.K=2;f.N=h.N;f.J=e;f.f=d;f.j=c;f.I=h.I;return f}()}};
ff.j=function(a,b){return new xe(null,function(){var c=Q(b);if(c){if(Qd(c)){for(var d=mc(c),e=W(d),f=Be(e),h=0;;)if(h<e)Ee(f,function(){var k=gb(d,h);return a.f?a.f(k):a.call(null,k)}()),h+=1;else break;return De(f.ra(),ff.j(a,nc(c)))}return kd(function(){var k=S(c);return a.f?a.f(k):a.call(null,k)}(),ff.j(a,Mc(c)))}return null},null)};
ff.C=function(a,b,c){return new xe(null,function(){var d=Q(b),e=Q(c);if(d&&e){var f=S(d);var h=S(e);f=a.j?a.j(f,h):a.call(null,f,h);d=kd(f,ff.C(a,Mc(d),Mc(e)))}else d=null;return d},null)};ff.P=function(a,b,c,d){return new xe(null,function(){var e=Q(b),f=Q(c),h=Q(d);if(e&&f&&h){var k=S(e);var l=S(f),m=S(h);k=a.C?a.C(k,l,m):a.call(null,k,l,m);e=kd(k,ff.P(a,Mc(e),Mc(f),Mc(h)))}else e=null;return e},null)};
ff.I=function(a,b,c,d,e){return ff.j(function(f){return Oe(a,f)},function k(h){return new xe(null,function(){var l=ff.j(Q,h);return Xe(fe,l)?kd(ff.j(S,l),k(ff.j(Mc,l))):null},null)}(qd.I(e,d,ld([c,b]))))};ff.N=function(a){var b=S(a),c=T(a);a=S(c);var d=T(c);c=S(d);var e=T(d);d=S(e);e=T(e);return this.I(b,a,c,d,e)};ff.K=4;
var gf=function gf(a){switch(arguments.length){case 1:return gf.f(arguments[0]);case 2:return gf.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",C.f(arguments.length)].join(""));}};
gf.f=function(a){return function(b){var c=new ef(a);return function(){function d(k,l){var m=Eb(c);var n=c.hb(null)-1;n=c.state=n;k=0<m?b.j?b.j(k,l):b.call(null,k,l):k;return 0<n?k:Yc(k)?k:new Xc(k)}function e(k){return b.f?b.f(k):b.call(null,k)}function f(){return b.J?b.J():b.call(null)}var h=null;h=function(k,l){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,k);case 2:return d.call(this,k,l)}throw Error("Invalid arity: "+arguments.length);};h.J=f;h.f=e;h.j=d;return h}()}};
gf.j=function(a,b){return new xe(null,function(){if(0<a){var c=Q(b);return c?kd(S(c),gf.j(a-1,Mc(c))):null}return null},null)};gf.K=2;function hf(a,b){return new xe(null,function(){a:for(var c=a,d=b;;)if(d=Q(d),0<c&&d)--c,d=Mc(d);else break a;return d},null)}function jf(a){return ff.C(function(b){return b},a,hf(2,a))}
function kf(a,b){return new xe(null,function(){var c=Q(b);if(c){if(Qd(c)){for(var d=mc(c),e=W(d),f=Be(e),h=0;;)if(h<e){var k=gb(d,h);k=a.f?a.f(k):a.call(null,k);w(k)&&(k=gb(d,h),f.add(k));h+=1}else break;return De(f.ra(),kf(a,nc(c)))}d=S(c);c=Mc(c);return w(a.f?a.f(d):a.call(null,d))?kd(d,kf(a,c)):kf(a,c)}return null},null)}function lf(a,b){return kf(Ze(a),b)}
var mf=function mf(a){switch(arguments.length){case 0:return mf.J();case 1:return mf.f(arguments[0]);case 2:return mf.j(arguments[0],arguments[1]);case 3:return mf.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.f(arguments.length)].join(""));}};mf.J=function(){return rd};mf.f=function(a){return a};mf.j=function(a,b){return null!=a?null!=a&&(a.O&4||u===a.Jc)?Hb(hc(Ua(gc,fc(a),b)),Cd(a)):Ua(eb,a,b):Ua(qd,a,b)};
mf.C=function(a,b,c){return null!=a&&(a.O&4||u===a.Jc)?Hb(hc(ge(b,He,fc(a),c)),Cd(a)):ge(b,qd,a,c)};mf.K=3;
var nf=function nf(a){switch(arguments.length){case 3:return nf.C(arguments[0],arguments[1],arguments[2]);case 4:return nf.P(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return nf.pa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return nf.Fa(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new R(c.slice(6),0,null);return nf.I(arguments[0],
arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};nf.C=function(a,b,c){return vd.C(a,b,function(){var d=J.j(a,b);return c.f?c.f(d):c.call(null,d)}())};nf.P=function(a,b,c,d){return vd.C(a,b,function(){var e=J.j(a,b);return c.j?c.j(e,d):c.call(null,e,d)}())};nf.pa=function(a,b,c,d,e){return vd.C(a,b,function(){var f=J.j(a,b);return c.C?c.C(f,d,e):c.call(null,f,d,e)}())};
nf.Fa=function(a,b,c,d,e,f){return vd.C(a,b,function(){var h=J.j(a,b);return c.P?c.P(h,d,e,f):c.call(null,h,d,e,f)}())};nf.I=function(a,b,c,d,e,f,h){return vd.C(a,b,Se(c,J.j(a,b),d,e,f,ld([h])))};nf.N=function(a){var b=S(a),c=T(a);a=S(c);var d=T(c);c=S(d);var e=T(d);d=S(e);var f=T(e);e=S(f);var h=T(f);f=S(h);h=T(h);return this.I(b,a,c,d,e,f,h)};nf.K=6;function of(a,b){this.aa=a;this.B=b}
function pf(a){return new of(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function tf(a){return new of(a.aa,Sa(a.B))}function uf(a){a=a.G;return 32>a?0:a-1>>>5<<5}function vf(a,b,c){for(;;){if(0===b)return c;var d=pf(a);d.B[0]=c;c=d;b-=5}}
var wf=function wf(a,b,c,d){var f=tf(c),h=a.G-1>>>b&31;5===b?f.B[h]=d:(c=c.B[h],null!=c?(b-=5,a=wf.P?wf.P(a,b,c,d):wf.call(null,a,b,c,d)):a=vf(null,b-5,d),f.B[h]=a);return f};function xf(a,b){if(b>=uf(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.B[b>>>a&31];a=d}else return c.B}function yf(a,b){if(0<=b&&b<a.G)b=xf(a,b);else throw a=a.G,Error(["No item ",C.f(b)," in vector of length ",C.f(a)].join(""));return b}
var zf=function zf(a,b,c,d,e){var h=tf(c);if(0===b)h.B[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.B[k];a=zf.pa?zf.pa(a,b,c,d,e):zf.call(null,a,b,c,d,e);h.B[k]=a}return h},Af=function Af(a,b,c){var e=a.G-2>>>b&31;if(5<b){b-=5;var f=c.B[e];a=Af.C?Af.C(a,b,f):Af.call(null,a,b,f);if(null==a&&0===e)return null;c=tf(c);c.B[e]=a;return c}if(0===e)return null;c=tf(c);c.B[e]=null;return c};function Bf(a,b,c){this.base=this.i=0;this.B=a;this.v=b;this.start=0;this.end=c}Bf.prototype.ya=function(){return this.i<this.end};
Bf.prototype.next=function(){32===this.i-this.base&&(this.B=xf(this.v,this.i),this.base+=32);var a=this.B[this.i&31];this.i+=1;return a};function Cf(a,b,c,d){return c<d?Df(a,b,ed(a,c),c+1,d):b.J?b.J():b.call(null)}function Df(a,b,c,d,e){var f=c;c=d;for(d=xf(a,d);;)if(c<e){var h=c&31;d=0===h?xf(a,c):d;h=d[h];f=b.j?b.j(f,h):b.call(null,f,h);if(Yc(f))return Eb(f);c+=1}else return f}
function Z(a,b,c,d,e,f){this.meta=a;this.G=b;this.shift=c;this.root=d;this.tail=e;this.T=f;this.F=167666463;this.O=139268}g=Z.prototype;g.zb=function(a,b){return 0<=b&&b<this.G?new Ef(b,xf(this,b)[b&31]):null};g.toString=function(){return wc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return U(this,b,0)};a.j=function(b,c){return U(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return gd(this,c,W(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return gd(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return gd(this,c,d)};return b}();g.fa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){return"number"===typeof b?this.Aa(null,b,c):c};
g.Nb=function(a,b,c){a=0;for(var d=c;;)if(a<this.G){var e=xf(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.C?b.C(d,h,k):b.call(null,d,h,k);if(Yc(d)){e=d;break a}f+=1}else{e=d;break a}if(Yc(e))return Eb(e);a+=c;d=e}else return d};g.ba=function(a,b){return yf(this,b)[b&31]};g.Aa=function(a,b,c){return 0<=b&&b<this.G?xf(this,b)[b&31]:c};
g.ec=function(a,b){if(0<=a&&a<this.G){if(uf(this)<=a){var c=Sa(this.tail);c[a&31]=b;return new Z(this.meta,this.G,this.shift,this.root,c,null)}return new Z(this.meta,this.G,this.shift,zf(this,this.shift,this.root,a,b),this.tail,null)}if(a===this.G)return this.oa(null,b);throw Error(["Index ",C.f(a)," out of bounds  [0,",C.f(this.G),"]"].join(""));};g.Ga=function(){var a=this.G;return new Bf(0<W(this)?xf(this,0):null,this,a)};g.ga=function(){return this.meta};g.la=function(){return this.G};
g.Bb=function(){return 0<this.G?this.ba(null,this.G-1):null};g.Cb=function(){if(0===this.G)throw Error("Can't pop empty vector");if(1===this.G)return Hb(rd,this.meta);if(1<this.G-uf(this))return new Z(this.meta,this.G-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=xf(this,this.G-2),b=Af(this,this.shift,this.root);b=null==b?Ue:b;var c=this.G-1;return 5<this.shift&&null==b.B[1]?new Z(this.meta,c,this.shift-5,b.B[0],a,null):new Z(this.meta,c,this.shift,b,a,null)};
g.Ob=function(){return 0<this.G?new id(this,this.G-1,null):null};g.ia=function(){var a=this.T;return null!=a?a:this.T=a=Sc(this)};g.ea=function(a,b){if(b instanceof Z)if(this.G===W(b))for(a=this.Ga(null),b=b.Ga(null);;)if(a.ya()){var c=a.next(),d=b.next();if(!Oc.j(c,d))return!1}else return!0;else return!1;else return jd(this,b)};g.qb=function(){return new Ff(this.G,this.shift,Gf.f?Gf.f(this.root):Gf.call(null,this.root),Hf.f?Hf.f(this.tail):Hf.call(null,this.tail))};g.na=function(){return Hb(rd,this.meta)};
g.ua=function(a,b){return Cf(this,b,0,this.G)};g.va=function(a,b,c){a=0;for(var d=c;;)if(a<this.G){var e=xf(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.j?b.j(d,h):b.call(null,d,h);if(Yc(d)){e=d;break a}f+=1}else{e=d;break a}if(Yc(e))return Eb(e);a+=c;d=e}else return d};g.gb=function(a,b,c){if("number"===typeof b)return this.ec(b,c);throw Error("Vector's key for assoc must be a number.");};
g.ja=function(){if(0===this.G)return null;if(32>=this.G)return new R(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.B[0];else{a=a.B;break a}}return If?If(this,a,0,0):Jf.call(null,this,a,0,0)};g.ka=function(a,b){return b===this.meta?this:new Z(b,this.G,this.shift,this.root,this.tail,this.T)};
g.oa=function(a,b){if(32>this.G-uf(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new Z(this.meta,this.G+1,this.shift,this.root,c,null)}a=(c=this.G>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=pf(null),c.B[0]=this.root,d=vf(null,this.shift,new of(null,this.tail)),c.B[1]=d):c=wf(this,this.shift,this.root,new of(null,this.tail));return new Z(this.meta,this.G+1,a,c,[b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.f(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.f(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Sa(b)))};g.f=function(a){return this.ba(null,a)};g.j=function(a,b){return this.Aa(null,a,b)};
var Ue=new of(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),rd=new Z(null,0,5,Ue,[],Tc);function Kf(a,b){var c=a.length;a=b?a:Sa(a);if(32>c)return new Z(null,c,5,Ue,a,null);var d=a.slice(0,32);b=32;for(var e=(new Z(null,32,5,Ue,d,null)).qb(null);;)if(b<c)d=b+1,e=He.j(e,a[b]),b=d;else return hc(e)}Z.prototype[Pa]=function(){return Qc(this)};
function Lf(a){return w(Mf.f?Mf.f(a):Mf.call(null,a))?new Z(null,2,5,Ue,[Nf.f?Nf.f(a):Nf.call(null,a),Of.f?Of.f(a):Of.call(null,a)],null):Pd(a)?Bd(a,null):Ma(a)?Kf(a,!0):hc(Ua(gc,fc(rd),a))}var Pf=function Pf(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new R(c.slice(0),0,null):null;return Pf.I(c)};Pf.I=function(a){return a instanceof R&&0===a.i?Kf(a.B,!Ma(a.B)):Lf(a)};Pf.K=0;Pf.N=function(a){return this.I(Q(a))};
function Qf(a,b,c,d,e){this.Ea=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.T=null;this.F=32375020;this.O=1536}g=Qf.prototype;g.toString=function(){return wc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return U(this,b,0)};a.j=function(b,c){return U(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return gd(this,c,W(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return gd(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return gd(this,c,d)};return b}();g.ga=function(){return this.meta};g.qa=function(){if(this.off+1<this.node.length){var a=this.Ea;var b=this.node,c=this.i,d=this.off+1;a=If?If(a,b,c,d):Jf.call(null,a,b,c,d);return null==a?null:a}return this.oc()};
g.ia=function(){var a=this.T;return null!=a?a:this.T=a=Sc(this)};g.ea=function(a,b){return jd(this,b)};g.na=function(){return Nc};g.ua=function(a,b){return Cf(this.Ea,b,this.i+this.off,W(this.Ea))};g.va=function(a,b,c){return Df(this.Ea,b,c,this.i+this.off,W(this.Ea))};g.wa=function(){return this.node[this.off]};g.xa=function(){if(this.off+1<this.node.length){var a=this.Ea;var b=this.node,c=this.i,d=this.off+1;a=If?If(a,b,c,d):Jf.call(null,a,b,c,d);return null==a?Nc:a}return this.Lb(null)};g.ja=function(){return this};
g.Yb=function(){var a=this.node;return new Ae(a,this.off,a.length)};g.Lb=function(){var a=this.i+this.node.length;if(a<ab(this.Ea)){var b=this.Ea,c=xf(this.Ea,a);return If?If(b,c,a,0):Jf.call(null,b,c,a,0)}return Nc};g.ka=function(a,b){return b===this.meta?this:Rf?Rf(this.Ea,this.node,this.i,this.off,b):Jf.call(null,this.Ea,this.node,this.i,this.off,b)};g.oa=function(a,b){return kd(b,this)};
g.oc=function(){var a=this.i+this.node.length;if(a<ab(this.Ea)){var b=this.Ea,c=xf(this.Ea,a);return If?If(b,c,a,0):Jf.call(null,b,c,a,0)}return null};Qf.prototype[Pa]=function(){return Qc(this)};
function Jf(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new Qf(b,yf(b,c),c,d,null);case 4:return If(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Rf(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",C.f(arguments.length)].join(""));}}function If(a,b,c,d){return new Qf(a,b,c,d,null)}function Rf(a,b,c,d,e){return new Qf(a,b,c,d,e)}
function Sf(a,b){return a===b.aa?b:new of(a,Sa(b.B))}function Gf(a){return new of({},Sa(a.B))}function Hf(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];Rd(a,0,b,0,a.length);return b}var Tf=function Tf(a,b,c,d){c=Sf(a.root.aa,c);var f=a.G-1>>>b&31;if(5===b)a=d;else{var h=c.B[f];null!=h?(b-=5,a=Tf.P?Tf.P(a,b,h,d):Tf.call(null,a,b,h,d)):a=vf(a.root.aa,b-5,d)}c.B[f]=a;return c};
function Ff(a,b,c,d){this.G=a;this.shift=b;this.root=c;this.tail=d;this.O=88;this.F=275}g=Ff.prototype;
g.sb=function(a,b){if(this.root.aa){if(32>this.G-uf(this))this.tail[this.G&31]=b;else{a=new of(this.root.aa,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.G>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+
5,b[0]=this.root,b[1]=vf(this.root.aa,this.shift,a),this.root=new of(this.root.aa,b),this.shift=c):this.root=Tf(this,this.shift,this.root,a)}this.G+=1;return this}throw Error("conj! after persistent!");};g.Db=function(){if(this.root.aa){this.root.aa=null;var a=this.G-uf(this),b=Array(a);Rd(this.tail,0,b,0,a);return new Z(null,this.G,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.rb=function(a,b,c){if("number"===typeof b)return Uf(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function Uf(a,b,c){if(a.root.aa){if(0<=b&&b<a.G){if(uf(a)<=b)a.tail[b&31]=c;else{var d=function k(f,h){h=Sf(a.root.aa,h);if(0===f)h.B[b&31]=c;else{var l=b>>>f&31;f=k(f-5,h.B[l]);h.B[l]=f}return h}(a.shift,a.root);a.root=d}return a}if(b===a.G)return a.sb(null,c);throw Error(["Index ",C.f(b)," out of bounds for TransientVector of length",C.f(a.G)].join(""));}throw Error("assoc! after persistent!");}g.la=function(){if(this.root.aa)return this.G;throw Error("count after persistent!");};
g.ba=function(a,b){if(this.root.aa)return yf(this,b)[b&31];throw Error("nth after persistent!");};g.Aa=function(a,b,c){return 0<=b&&b<this.G?this.ba(null,b):c};g.fa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){if(this.root.aa)return"number"===typeof b?this.Aa(null,b,c):c;throw Error("lookup after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.f(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.f(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Sa(b)))};g.f=function(a){return this.fa(null,a)};g.j=function(a,b){return this.Y(null,a,b)};function Vf(){this.F=2097152;this.O=0}Vf.prototype.ea=function(){return!1};var Wf=new Vf;
function Xf(a,b){return Td(Nd(b)&&!Od(b)?W(a)===W(b)?(null!=a?a.F&1048576||u===a.hd||(a.F?0:y(Mb,a)):y(Mb,a))?ee(function(c,d,e){return Oc.j(J.C(b,d,Wf),e)?!0:new Xc(!1)},!0,a):Xe(function(c){return Oc.j(J.C(b,S(c),Wf),S(T(c)))},a):null:null)}function Yf(a){this.s=a}Yf.prototype.next=function(){if(null!=this.s){var a=S(this.s),b=ud(a,0,null);a=ud(a,1,null);this.s=T(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function Zf(a){this.s=a}
Zf.prototype.next=function(){if(null!=this.s){var a=S(this.s);this.s=T(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function wd(a,b){if(b instanceof N)a:{var c=a.length;b=b.Da;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof N&&b===a[d].Da){a=d;break a}d+=2}}else if("string"==typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof Ic)a:for(c=a.length,b=b.Zc,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof Ic&&b===a[d].Zc){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(Oc.j(b,a[d])){a=d;break a}d+=2}return a}function Ef(a,b){this.key=a;this.ha=b;this.T=null;this.F=166619935;this.O=0}g=Ef.prototype;g.zb=function(a,b){switch(b){case 0:return new Ef(0,this.key);case 1:return new Ef(1,this.ha);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return U(this,b,0)};a.j=function(b,c){return U(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return gd(this,c,W(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return gd(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return gd(this,c,d)};return b}();g.fa=function(a,b){return this.Aa(null,b,null)};g.Y=function(a,b,c){return this.Aa(null,b,c)};g.ba=function(a,b){if(0===b)return this.key;if(1===b)return this.ha;throw Error("Index out of bounds");};
g.Aa=function(a,b,c){return 0===b?this.key:1===b?this.ha:c};g.ec=function(a,b){return(new Z(null,2,5,Ue,[this.key,this.ha],null)).ec(a,b)};g.ga=function(){return null};g.la=function(){return 2};g.Pc=function(){return this.key};g.Qc=function(){return this.ha};g.Bb=function(){return this.ha};g.Cb=function(){return new Z(null,1,5,Ue,[this.key],null)};g.Ob=function(){return new R([this.ha,this.key],0,null)};g.ia=function(){var a=this.T;return null!=a?a:this.T=a=Sc(this)};
g.ea=function(a,b){return jd(this,b)};g.na=function(){return null};g.ua=function(a,b){a:if(a=this.la(null),0===a)b=b.J?b.J():b.call(null);else for(var c=this.ba(null,0),d=1;;)if(d<a){var e=this.ba(null,d);c=b.j?b.j(c,e):b.call(null,c,e);if(Yc(c)){b=Eb(c);break a}d+=1}else{b=c;break a}return b};g.va=function(a,b,c){a:{a=this.la(null);var d=c;for(c=0;;)if(c<a){var e=this.ba(null,c);d=b.j?b.j(d,e):b.call(null,d,e);if(Yc(d)){b=Eb(d);break a}c+=1}else{b=d;break a}}return b};
g.gb=function(a,b,c){return vd.C(new Z(null,2,5,Ue,[this.key,this.ha],null),b,c)};g.ja=function(){return new R([this.key,this.ha],0,null)};g.ka=function(a,b){return Bd(new Z(null,2,5,Ue,[this.key,this.ha],null),b)};g.oa=function(a,b){return new Z(null,3,5,Ue,[this.key,this.ha,b],null)};g.call=function(a){switch(arguments.length-1){case 1:return this.f(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.f(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Sa(b)))};g.f=function(a){return this.ba(null,a)};g.j=function(a,b){return this.Aa(null,a,b)};function Mf(a){return null!=a?a.F&2048||u===a.ld?!0:!1:!1}function $f(a,b,c){this.B=a;this.i=b;this.Ma=c;this.F=32374990;this.O=0}g=$f.prototype;g.toString=function(){return wc(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return U(this,b,0)};a.j=function(b,c){return U(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return gd(this,c,W(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return gd(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return gd(this,c,d)};return b}();g.ga=function(){return this.Ma};g.qa=function(){return this.i<this.B.length-2?new $f(this.B,this.i+2,null):null};g.la=function(){return(this.B.length-this.i)/2};g.ia=function(){return Sc(this)};
g.ea=function(a,b){return jd(this,b)};g.na=function(){return Nc};g.ua=function(a,b){return md(b,this)};g.va=function(a,b,c){return od(b,c,this)};g.wa=function(){return new Ef(this.B[this.i],this.B[this.i+1])};g.xa=function(){return this.i<this.B.length-2?new $f(this.B,this.i+2,null):Nc};g.ja=function(){return this};g.ka=function(a,b){return b===this.Ma?this:new $f(this.B,this.i,b)};g.oa=function(a,b){return kd(b,this)};$f.prototype[Pa]=function(){return Qc(this)};
function ag(a,b){this.B=a;this.i=0;this.G=b}ag.prototype.ya=function(){return this.i<this.G};ag.prototype.next=function(){var a=new Ef(this.B[this.i],this.B[this.i+1]);this.i+=2;return a};function v(a,b,c,d){this.meta=a;this.G=b;this.B=c;this.T=d;this.F=16647951;this.O=139268}g=v.prototype;g.zb=function(a,b){a=wd(this.B,b);return-1===a?null:new Ef(this.B[a],this.B[a+1])};g.toString=function(){return wc(this)};g.keys=function(){return Qc(bg.f?bg.f(this):bg.call(null,this))};g.entries=function(){return new Yf(Q(Q(this)))};
g.values=function(){return Qc(cg.f?cg.f(this):cg.call(null,this))};g.has=function(a){return Vd(this,a)};g.get=function(a,b){return this.Y(null,a,b)};g.forEach=function(a){for(var b=Q(this),c=null,d=0,e=0;;)if(e<d){var f=c.ba(null,e),h=ud(f,0,null);f=ud(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=Q(b))Qd(b)?(c=mc(b),b=nc(b),h=c,d=W(c),c=h):(c=S(b),h=ud(c,0,null),f=ud(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=T(b),c=null,d=0),e=0;else return null};
g.fa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){a=wd(this.B,b);return-1===a?c:this.B[a+1]};g.Nb=function(a,b,c){a=this.B.length;for(var d=0;;)if(d<a){var e=this.B[d],f=this.B[d+1];c=b.C?b.C(c,e,f):b.call(null,c,e,f);if(Yc(c))return Eb(c);d+=2}else return c};g.Ga=function(){return new ag(this.B,2*this.G)};g.ga=function(){return this.meta};g.la=function(){return this.G};g.ia=function(){var a=this.T;return null!=a?a:this.T=a=Uc(this)};
g.ea=function(a,b){if(Nd(b)&&!Od(b))if(a=this.B.length,this.G===b.la(null))for(var c=0;;)if(c<a){var d=b.Y(null,this.B[c],Sd);if(d!==Sd)if(Oc.j(this.B[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.qb=function(){return new dg(this.B.length,Sa(this.B))};g.na=function(){return Hb(We,this.meta)};g.ua=function(a,b){return be(this,b)};g.va=function(a,b,c){return ce(this,b,c)};
g.Zb=function(a,b){if(0<=wd(this.B,b)){a=this.B.length;var c=a-2;if(0===c)return this.na(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new v(this.meta,this.G-1,c,null);Oc.j(b,this.B[d])?d+=2:(c[e]=this.B[d],c[e+1]=this.B[d+1],e+=2,d+=2)}}else return this};
g.gb=function(a,b,c){a=wd(this.B,b);if(-1===a){if(this.G<eg){a=this.B;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new v(this.meta,this.G+1,e,null)}return Hb(sb(mf.j(fg,this),b,c),this.meta)}if(c===this.B[a+1])return this;b=Sa(this.B);b[a+1]=c;return new v(this.meta,this.G,b,null)};g.ja=function(){var a=this.B;return 0<=a.length-2?new $f(a,0,null):null};g.ka=function(a,b){return b===this.meta?this:new v(b,this.G,this.B,this.T)};
g.oa=function(a,b){if(Pd(b))return this.gb(null,gb(b,0),gb(b,1));a=this;for(b=Q(b);;){if(null==b)return a;var c=S(b);if(Pd(c))a=sb(a,gb(c,0),gb(c,1)),b=T(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.f(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.f(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Sa(b)))};
g.f=function(a){return this.fa(null,a)};g.j=function(a,b){return this.Y(null,a,b)};var We=new v(null,0,[],Vc),eg=8;v.prototype[Pa]=function(){return Qc(this)};function dg(a,b){this.vb={};this.nb=a;this.B=b;this.F=259;this.O=56}g=dg.prototype;g.la=function(){if(this.vb)return ie(this.nb,2);throw Error("count after persistent!");};g.fa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){if(this.vb)return a=wd(this.B,b),-1===a?c:this.B[a+1];throw Error("lookup after persistent!");};
g.sb=function(a,b){if(this.vb){if(Mf(b))return this.rb(null,Nf.f?Nf.f(b):Nf.call(null,b),Of.f?Of.f(b):Of.call(null,b));if(Pd(b))return this.rb(null,b.f?b.f(0):b.call(null,0),b.f?b.f(1):b.call(null,1));a=Q(b);for(b=this;;){var c=S(a);if(w(c))a=T(a),b=ic(b,Nf.f?Nf.f(c):Nf.call(null,c),Of.f?Of.f(c):Of.call(null,c));else return b}}else throw Error("conj! after persistent!");};g.Db=function(){if(this.vb)return this.vb=!1,new v(null,ie(this.nb,2),this.B,null);throw Error("persistent! called twice");};
g.rb=function(a,b,c){if(this.vb){a=wd(this.B,b);if(-1===a){if(this.nb+2<=2*eg)return this.nb+=2,this.B.push(b),this.B.push(c),this;a=gg.j?gg.j(this.nb,this.B):gg.call(null,this.nb,this.B);return ic(a,b,c)}c!==this.B[a+1]&&(this.B[a+1]=c);return this}throw Error("assoc! after persistent!");};g.call=function(a){switch(arguments.length-1){case 1:return this.f(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.f(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Sa(b)))};g.f=function(a){return this.Y(null,a,null)};g.j=function(a,b){return this.Y(null,a,b)};function gg(a,b){for(var c=fc(fg),d=0;;)if(d<a)c=ic(c,b[d],b[d+1]),d+=2;else return c}function hg(){this.ha=!1}function ig(a,b){return a===b?!0:se(a,b)?!0:Oc.j(a,b)}function jg(a,b,c){a=Sa(a);a[b]=c;return a}function kg(a,b){var c=Array(a.length-2);Rd(a,0,c,0,2*b);Rd(a,2*(b+1),c,2*b,c.length-2*b);return c}
function lg(a,b,c,d){a=a.lb(b);a.B[c]=d;return a}function mg(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.C?b.C(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.Ib(b,f):f;if(Yc(c))return c;e+=2;f=c}else return f}function ng(a){this.B=a;this.i=0;this.La=this.Jb=null}ng.prototype.advance=function(){for(var a=this.B.length;;)if(this.i<a){var b=this.B[this.i],c=this.B[this.i+1];null!=b?b=this.Jb=new Ef(b,c):null!=c?(b=sc(c),b=b.ya()?this.La=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};
ng.prototype.ya=function(){var a=null!=this.Jb;return a?a:(a=null!=this.La)?a:this.advance()};ng.prototype.next=function(){if(null!=this.Jb){var a=this.Jb;this.Jb=null;return a}if(null!=this.La)return a=this.La.next(),this.La.ya()||(this.La=null),a;if(this.advance())return this.next();throw Error("No such element");};ng.prototype.remove=function(){return Error("Unsupported operation")};function og(a,b,c){this.aa=a;this.ca=b;this.B=c;this.O=131072;this.F=0}g=og.prototype;
g.lb=function(a){if(a===this.aa)return this;var b=je(this.ca),c=Array(0>b?4:2*(b+1));Rd(this.B,0,c,0,2*b);return new og(a,this.ca,c)};g.Gb=function(){return pg?pg(this.B):qg.call(null,this.B)};g.Ib=function(a,b){return mg(this.B,a,b)};g.mb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.ca&e))return d;var f=je(this.ca&e-1);e=this.B[2*f];f=this.B[2*f+1];return null==e?f.mb(a+5,b,c,d):ig(c,e)?f:d};
g.Ja=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=je(this.ca&h-1);if(0===(this.ca&h)){var l=je(this.ca);if(2*l<this.B.length){a=this.lb(a);b=a.B;f.ha=!0;c=2*(l-k);f=2*k+(c-1);for(l=2*(k+1)+(c-1);0!==c;)b[l]=b[f],--l,--c,--f;b[2*k]=d;b[2*k+1]=e;a.ca|=h;return a}if(16<=l){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=rg.Ja(a,b+5,c,d,e,f);for(e=d=0;;)if(32>d)0===(this.ca>>>
d&1)?d+=1:(k[d]=null!=this.B[e]?rg.Ja(a,b+5,Fc(this.B[e]),this.B[e],this.B[e+1],f):this.B[e+1],e+=2,d+=1);else break;return new sg(a,l+1,k)}b=Array(2*(l+4));Rd(this.B,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;Rd(this.B,2*k,b,2*(k+1),2*(l-k));f.ha=!0;a=this.lb(a);a.B=b;a.ca|=h;return a}l=this.B[2*k];h=this.B[2*k+1];if(null==l)return l=h.Ja(a,b+5,c,d,e,f),l===h?this:lg(this,a,2*k+1,l);if(ig(d,l))return e===h?this:lg(this,a,2*k+1,e);f.ha=!0;f=b+5;d=tg?tg(a,f,l,h,c,d,e):ug.call(null,a,f,l,h,c,d,e);e=2*k;k=2*k+1;
a=this.lb(a);a.B[e]=null;a.B[k]=d;return a};
g.Ia=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=je(this.ca&f-1);if(0===(this.ca&f)){var k=je(this.ca);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=rg.Ia(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.ca>>>c&1)?c+=1:(h[c]=null!=this.B[d]?rg.Ia(a+5,Fc(this.B[d]),this.B[d],this.B[d+1],e):this.B[d+1],d+=2,c+=1);else break;return new sg(null,k+1,h)}a=Array(2*(k+1));Rd(this.B,
0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;Rd(this.B,2*h,a,2*(h+1),2*(k-h));e.ha=!0;return new og(null,this.ca|f,a)}var l=this.B[2*h];f=this.B[2*h+1];if(null==l)return k=f.Ia(a+5,b,c,d,e),k===f?this:new og(null,this.ca,jg(this.B,2*h+1,k));if(ig(c,l))return d===f?this:new og(null,this.ca,jg(this.B,2*h+1,d));e.ha=!0;e=this.ca;k=this.B;a+=5;a=vg?vg(a,l,f,b,c,d):ug.call(null,a,l,f,b,c,d);c=2*h;h=2*h+1;d=Sa(k);d[c]=null;d[h]=a;return new og(null,e,d)};
g.Fb=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.ca&e))return d;var f=je(this.ca&e-1);e=this.B[2*f];f=this.B[2*f+1];return null==e?f.Fb(a+5,b,c,d):ig(c,e)?new Ef(e,f):d};g.Hb=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.ca&d))return this;var e=je(this.ca&d-1),f=this.B[2*e],h=this.B[2*e+1];return null==f?(a=h.Hb(a+5,b,c),a===h?this:null!=a?new og(null,this.ca,jg(this.B,2*e+1,a)):this.ca===d?null:new og(null,this.ca^d,kg(this.B,e))):ig(c,f)?new og(null,this.ca^d,kg(this.B,e)):this};
g.Ga=function(){return new ng(this.B)};var rg=new og(null,0,[]);function wg(a){this.B=a;this.i=0;this.La=null}wg.prototype.ya=function(){for(var a=this.B.length;;){if(null!=this.La&&this.La.ya())return!0;if(this.i<a){var b=this.B[this.i];this.i+=1;null!=b&&(this.La=sc(b))}else return!1}};wg.prototype.next=function(){if(this.ya())return this.La.next();throw Error("No such element");};wg.prototype.remove=function(){return Error("Unsupported operation")};
function sg(a,b,c){this.aa=a;this.G=b;this.B=c;this.O=131072;this.F=0}g=sg.prototype;g.lb=function(a){return a===this.aa?this:new sg(a,this.G,Sa(this.B))};g.Gb=function(){return xg?xg(this.B):yg.call(null,this.B)};g.Ib=function(a,b){for(var c=this.B.length,d=0;;)if(d<c){var e=this.B[d];if(null!=e){b=e.Ib(a,b);if(Yc(b))return b;d+=1}else d+=1}else return b};g.mb=function(a,b,c,d){var e=this.B[b>>>a&31];return null!=e?e.mb(a+5,b,c,d):d};
g.Ja=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.B[h];if(null==k)return a=lg(this,a,h,rg.Ja(a,b+5,c,d,e,f)),a.G+=1,a;b=k.Ja(a,b+5,c,d,e,f);return b===k?this:lg(this,a,h,b)};g.Ia=function(a,b,c,d,e){var f=b>>>a&31,h=this.B[f];if(null==h)return new sg(null,this.G+1,jg(this.B,f,rg.Ia(a+5,b,c,d,e)));a=h.Ia(a+5,b,c,d,e);return a===h?this:new sg(null,this.G,jg(this.B,f,a))};g.Fb=function(a,b,c,d){var e=this.B[b>>>a&31];return null!=e?e.Fb(a+5,b,c,d):d};
g.Hb=function(a,b,c){var d=b>>>a&31,e=this.B[d];if(null!=e){a=e.Hb(a+5,b,c);if(a===e)d=this;else if(null==a)if(8>=this.G)a:{e=this.B;a=e.length;b=Array(2*(this.G-1));c=0;for(var f=1,h=0;;)if(c<a)c!==d&&null!=e[c]?(b[f]=e[c],f+=2,h|=1<<c,c+=1):c+=1;else{d=new og(null,h,b);break a}}else d=new sg(null,this.G-1,jg(this.B,d,a));else d=new sg(null,this.G,jg(this.B,d,a));return d}return this};g.Ga=function(){return new wg(this.B)};
function zg(a,b,c){b*=2;for(var d=0;;)if(d<b){if(ig(c,a[d]))return d;d+=2}else return-1}function Ag(a,b,c,d){this.aa=a;this.bb=b;this.G=c;this.B=d;this.O=131072;this.F=0}g=Ag.prototype;g.lb=function(a){if(a===this.aa)return this;var b=Array(2*(this.G+1));Rd(this.B,0,b,0,2*this.G);return new Ag(a,this.bb,this.G,b)};g.Gb=function(){return pg?pg(this.B):qg.call(null,this.B)};g.Ib=function(a,b){return mg(this.B,a,b)};
g.mb=function(a,b,c,d){a=zg(this.B,this.G,c);return 0>a?d:ig(c,this.B[a])?this.B[a+1]:d};
g.Ja=function(a,b,c,d,e,f){if(c===this.bb){b=zg(this.B,this.G,d);if(-1===b){if(this.B.length>2*this.G)return b=2*this.G,c=2*this.G+1,a=this.lb(a),a.B[b]=d,a.B[c]=e,f.ha=!0,a.G+=1,a;c=this.B.length;b=Array(c+2);Rd(this.B,0,b,0,c);b[c]=d;b[c+1]=e;f.ha=!0;d=this.G+1;a===this.aa?(this.B=b,this.G=d,a=this):a=new Ag(this.aa,this.bb,d,b);return a}return this.B[b+1]===e?this:lg(this,a,b+1,e)}return(new og(a,1<<(this.bb>>>b&31),[null,this,null,null])).Ja(a,b,c,d,e,f)};
g.Ia=function(a,b,c,d,e){return b===this.bb?(a=zg(this.B,this.G,c),-1===a?(a=2*this.G,b=Array(a+2),Rd(this.B,0,b,0,a),b[a]=c,b[a+1]=d,e.ha=!0,new Ag(null,this.bb,this.G+1,b)):Oc.j(this.B[a+1],d)?this:new Ag(null,this.bb,this.G,jg(this.B,a+1,d))):(new og(null,1<<(this.bb>>>a&31),[null,this])).Ia(a,b,c,d,e)};g.Fb=function(a,b,c,d){a=zg(this.B,this.G,c);return 0>a?d:ig(c,this.B[a])?new Ef(this.B[a],this.B[a+1]):d};
g.Hb=function(a,b,c){a=zg(this.B,this.G,c);return-1===a?this:1===this.G?null:new Ag(null,this.bb,this.G-1,kg(this.B,ie(a,2)))};g.Ga=function(){return new ng(this.B)};function ug(a){switch(arguments.length){case 6:return vg(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return tg(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",C.f(arguments.length)].join(""));}}
function vg(a,b,c,d,e,f){var h=Fc(b);if(h===d)return new Ag(null,h,2,[b,c,e,f]);var k=new hg;return rg.Ia(a,h,b,c,k).Ia(a,d,e,f,k)}function tg(a,b,c,d,e,f,h){var k=Fc(c);if(k===e)return new Ag(null,k,2,[c,d,f,h]);var l=new hg;return rg.Ja(a,b,k,c,d,l).Ja(a,b,e,f,h,l)}function Bg(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.T=e;this.F=32374988;this.O=0}g=Bg.prototype;g.toString=function(){return wc(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return U(this,b,0)};a.j=function(b,c){return U(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return gd(this,c,W(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return gd(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return gd(this,c,d)};return b}();g.ga=function(){return this.meta};g.qa=function(){if(null==this.s){var a=this.nodes,b=this.i+2;return Cg?Cg(a,b,null):qg.call(null,a,b,null)}a=this.nodes;b=this.i;var c=T(this.s);return Cg?Cg(a,b,c):qg.call(null,a,b,c)};
g.ia=function(){var a=this.T;return null!=a?a:this.T=a=Sc(this)};g.ea=function(a,b){return jd(this,b)};g.na=function(){return Nc};g.ua=function(a,b){return md(b,this)};g.va=function(a,b,c){return od(b,c,this)};g.wa=function(){return null==this.s?new Ef(this.nodes[this.i],this.nodes[this.i+1]):S(this.s)};
g.xa=function(){var a=this,b=null==a.s?function(){var c=a.nodes,d=a.i+2;return Cg?Cg(c,d,null):qg.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=T(a.s);return Cg?Cg(c,d,e):qg.call(null,c,d,e)}();return null!=b?b:Nc};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new Bg(b,this.nodes,this.i,this.s,this.T)};g.oa=function(a,b){return kd(b,this)};Bg.prototype[Pa]=function(){return Qc(this)};
function qg(a){switch(arguments.length){case 1:return pg(arguments[0]);case 3:return Cg(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.f(arguments.length)].join(""));}}function pg(a){return Cg(a,0,null)}function Cg(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new Bg(null,a,b,null,null);var d=a[b+1];if(w(d)&&(d=d.Gb(),w(d)))return new Bg(null,a,b+2,d,null);b+=2}else return null;else return new Bg(null,a,b,c,null)}
function Dg(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.T=e;this.F=32374988;this.O=0}g=Dg.prototype;g.toString=function(){return wc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return U(this,b,0)};a.j=function(b,c){return U(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return gd(this,c,W(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return gd(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return gd(this,c,d)};return b}();g.ga=function(){return this.meta};g.qa=function(){var a=this.nodes,b=this.i,c=T(this.s);return Eg?Eg(a,b,c):yg.call(null,a,b,c)};g.ia=function(){var a=this.T;return null!=a?a:this.T=a=Sc(this)};
g.ea=function(a,b){return jd(this,b)};g.na=function(){return Nc};g.ua=function(a,b){return md(b,this)};g.va=function(a,b,c){return od(b,c,this)};g.wa=function(){return S(this.s)};g.xa=function(){var a=this.nodes;var b=this.i,c=T(this.s);a=Eg?Eg(a,b,c):yg.call(null,a,b,c);return null!=a?a:Nc};g.ja=function(){return this};g.ka=function(a,b){return b===this.meta?this:new Dg(b,this.nodes,this.i,this.s,this.T)};g.oa=function(a,b){return kd(b,this)};Dg.prototype[Pa]=function(){return Qc(this)};
function yg(a){switch(arguments.length){case 1:return xg(arguments[0]);case 3:return Eg(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.f(arguments.length)].join(""));}}function xg(a){return Eg(a,0,null)}function Eg(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(w(d)&&(d=d.Gb(),w(d)))return new Dg(null,a,b+1,d,null);b+=1}else return null;else return new Dg(null,a,b,c,null)}function Fg(a,b){this.sa=a;this.Ec=b;this.seen=!1}
Fg.prototype.ya=function(){return!this.seen||this.Ec.ya()};Fg.prototype.next=function(){if(this.seen)return this.Ec.next();this.seen=!0;return new Ef(null,this.sa)};Fg.prototype.remove=function(){return Error("Unsupported operation")};function Gg(a,b,c,d,e,f){this.meta=a;this.G=b;this.root=c;this.za=d;this.sa=e;this.T=f;this.F=16123663;this.O=139268}g=Gg.prototype;g.zb=function(a,b){return null==b?this.za?new Ef(null,this.sa):null:null==this.root?null:this.root.Fb(0,Fc(b),b,null)};g.toString=function(){return wc(this)};
g.keys=function(){return Qc(bg.f?bg.f(this):bg.call(null,this))};g.entries=function(){return new Yf(Q(Q(this)))};g.values=function(){return Qc(cg.f?cg.f(this):cg.call(null,this))};g.has=function(a){return Vd(this,a)};g.get=function(a,b){return this.Y(null,a,b)};
g.forEach=function(a){for(var b=Q(this),c=null,d=0,e=0;;)if(e<d){var f=c.ba(null,e),h=ud(f,0,null);f=ud(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=Q(b))Qd(b)?(c=mc(b),b=nc(b),h=c,d=W(c),c=h):(c=S(b),h=ud(c,0,null),f=ud(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=T(b),c=null,d=0),e=0;else return null};g.fa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){return null==b?this.za?this.sa:c:null==this.root?c:this.root.mb(0,Fc(b),b,c)};
g.Nb=function(a,b,c){a=this.za?b.C?b.C(c,null,this.sa):b.call(null,c,null,this.sa):c;Yc(a)?b=Eb(a):null!=this.root?(b=this.root.Ib(b,a),b=Yc(b)?Zc.f?Zc.f(b):Zc.call(null,b):b):b=a;return b};g.Ga=function(){var a=this.root?sc(this.root):Te();return this.za?new Fg(this.sa,a):a};g.ga=function(){return this.meta};g.la=function(){return this.G};g.ia=function(){var a=this.T;return null!=a?a:this.T=a=Uc(this)};g.ea=function(a,b){return Xf(this,b)};g.qb=function(){return new Hg(this.root,this.G,this.za,this.sa)};
g.na=function(){return Hb(fg,this.meta)};g.Zb=function(a,b){if(null==b)return this.za?new Gg(this.meta,this.G-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.Hb(0,Fc(b),b);return a===this.root?this:new Gg(this.meta,this.G-1,a,this.za,this.sa,null)};
g.gb=function(a,b,c){if(null==b)return this.za&&c===this.sa?this:new Gg(this.meta,this.za?this.G:this.G+1,this.root,!0,c,null);a=new hg;b=(null==this.root?rg:this.root).Ia(0,Fc(b),b,c,a);return b===this.root?this:new Gg(this.meta,a.ha?this.G+1:this.G,b,this.za,this.sa,null)};g.ja=function(){if(0<this.G){var a=null!=this.root?this.root.Gb():null;return this.za?kd(new Ef(null,this.sa),a):a}return null};g.ka=function(a,b){return b===this.meta?this:new Gg(b,this.G,this.root,this.za,this.sa,this.T)};
g.oa=function(a,b){if(Pd(b))return this.gb(null,gb(b,0),gb(b,1));a=this;for(b=Q(b);;){if(null==b)return a;var c=S(b);if(Pd(c))a=sb(a,gb(c,0),gb(c,1)),b=T(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.f(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.f(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Sa(b)))};
g.f=function(a){return this.fa(null,a)};g.j=function(a,b){return this.Y(null,a,b)};var fg=new Gg(null,0,null,!1,null,Vc);Gg.prototype[Pa]=function(){return Qc(this)};function Hg(a,b,c,d){this.aa={};this.root=a;this.count=b;this.za=c;this.sa=d;this.F=259;this.O=56}
function Ig(a,b,c){if(a.aa){if(null==b)a.sa!==c&&(a.sa=c),a.za||(a.count+=1,a.za=!0);else{var d=new hg;b=(null==a.root?rg:a.root).Ja(a.aa,0,Fc(b),b,c,d);b!==a.root&&(a.root=b);d.ha&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=Hg.prototype;g.la=function(){if(this.aa)return this.count;throw Error("count after persistent!");};g.fa=function(a,b){return null==b?this.za?this.sa:null:null==this.root?null:this.root.mb(0,Fc(b),b)};
g.Y=function(a,b,c){return null==b?this.za?this.sa:c:null==this.root?c:this.root.mb(0,Fc(b),b,c)};g.sb=function(a,b){a:if(this.aa)if(Mf(b))a=Ig(this,Nf.f?Nf.f(b):Nf.call(null,b),Of.f?Of.f(b):Of.call(null,b));else if(Pd(b))a=Ig(this,b.f?b.f(0):b.call(null,0),b.f?b.f(1):b.call(null,1));else for(a=Q(b),b=this;;){var c=S(a);if(w(c))a=T(a),b=Ig(b,Nf.f?Nf.f(c):Nf.call(null,c),Of.f?Of.f(c):Of.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.Db=function(){if(this.aa){this.aa=null;var a=new Gg(null,this.count,this.root,this.za,this.sa,null)}else throw Error("persistent! called twice");return a};g.rb=function(a,b,c){return Ig(this,b,c)};g.call=function(a){switch(arguments.length-1){case 1:return this.f(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.f(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Sa(b)))};
g.f=function(a){return this.fa(null,a)};g.j=function(a,b){return this.Y(null,a,b)};var Jg=function Jg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new R(c.slice(0),0,null):null;return Jg.I(c)};Jg.I=function(a){for(var b=Q(a),c=fc(fg);;)if(b){a=T(T(b));var d=S(b);b=S(T(b));c=ic(c,d,b);b=a}else return hc(c)};Jg.K=0;Jg.N=function(a){return this.I(Q(a))};function Kg(a,b){this.$=a;this.Ma=b;this.F=32374988;this.O=0}g=Kg.prototype;g.toString=function(){return wc(this)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return U(this,b,0)};a.j=function(b,c){return U(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return gd(this,c,W(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return gd(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return gd(this,c,d)};return b}();g.ga=function(){return this.Ma};g.qa=function(){var a=(null!=this.$?this.$.F&128||u===this.$.Ab||(this.$.F?0:y(lb,this.$)):y(lb,this.$))?this.$.qa(null):T(this.$);return null==a?null:new Kg(a,null)};g.ia=function(){return Sc(this)};
g.ea=function(a,b){return jd(this,b)};g.na=function(){return Nc};g.ua=function(a,b){return md(b,this)};g.va=function(a,b,c){return od(b,c,this)};g.wa=function(){return this.$.wa(null).key};g.xa=function(){var a=(null!=this.$?this.$.F&128||u===this.$.Ab||(this.$.F?0:y(lb,this.$)):y(lb,this.$))?this.$.qa(null):T(this.$);return null!=a?new Kg(a,null):Nc};g.ja=function(){return this};g.ka=function(a,b){return b===this.Ma?this:new Kg(this.$,b)};g.oa=function(a,b){return kd(b,this)};Kg.prototype[Pa]=function(){return Qc(this)};
function bg(a){return(a=Q(a))?new Kg(a,null):null}function Nf(a){return xb(a)}function Lg(a,b){this.$=a;this.Ma=b;this.F=32374988;this.O=0}g=Lg.prototype;g.toString=function(){return wc(this)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return U(this,b,0);case 2:return U(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.f=function(b){return U(this,b,0)};a.j=function(b,c){return U(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return gd(this,c,W(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return gd(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return gd(this,c,d)};return b}();g.ga=function(){return this.Ma};g.qa=function(){var a=(null!=this.$?this.$.F&128||u===this.$.Ab||(this.$.F?0:y(lb,this.$)):y(lb,this.$))?this.$.qa(null):T(this.$);return null==a?null:new Lg(a,null)};g.ia=function(){return Sc(this)};
g.ea=function(a,b){return jd(this,b)};g.na=function(){return Nc};g.ua=function(a,b){return md(b,this)};g.va=function(a,b,c){return od(b,c,this)};g.wa=function(){return this.$.wa(null).ha};g.xa=function(){var a=(null!=this.$?this.$.F&128||u===this.$.Ab||(this.$.F?0:y(lb,this.$)):y(lb,this.$))?this.$.qa(null):T(this.$);return null!=a?new Lg(a,null):Nc};g.ja=function(){return this};g.ka=function(a,b){return b===this.Ma?this:new Lg(this.$,b)};g.oa=function(a,b){return kd(b,this)};Lg.prototype[Pa]=function(){return Qc(this)};
function cg(a){return(a=Q(a))?new Lg(a,null):null}function Of(a){return yb(a)}var Mg=function Mg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new R(c.slice(0),0,null):null;return Mg.I(c)};Mg.I=function(a){return w(Ye(a))?de(function(b,c){return qd.j(w(b)?b:We,c)},a):null};Mg.K=0;Mg.N=function(a){return this.I(Q(a))};
function Ng(a,b){if(w(Ye(b))){var c=function(d,e){var f=xb(e),h=yb(e);return Vd(d,f)?vd.C(d,f,function(){var k=J.j(d,f);return a.j?a.j(k,h):a.call(null,k,h)}()):vd.C(d,f,h)};return de(function(d,e){return Ua(c,w(d)?d:We,Q(e))},b)}return null}function Og(a){for(var b=We,c=Q(Pg);;)if(c){var d=S(c),e=J.C(a,d,Qg);b=Oc.j(e,Qg)?b:vd.C(b,d,e);c=T(c)}else return Hb(b,Cd(a))}function Rg(a){this.xb=a}Rg.prototype.ya=function(){return this.xb.ya()};
Rg.prototype.next=function(){if(this.xb.ya())return this.xb.next().key;throw Error("No such element");};Rg.prototype.remove=function(){return Error("Unsupported operation")};function Sg(a,b,c){this.meta=a;this.cb=b;this.T=c;this.F=15077647;this.O=139268}g=Sg.prototype;g.toString=function(){return wc(this)};g.keys=function(){return Qc(Q(this))};g.entries=function(){return new Zf(Q(Q(this)))};g.values=function(){return Qc(Q(this))};g.has=function(a){return Vd(this,a)};
g.forEach=function(a){for(var b=Q(this),c=null,d=0,e=0;;)if(e<d){var f=c.ba(null,e),h=ud(f,0,null);f=ud(f,1,null);a.j?a.j(f,h):a.call(null,f,h);e+=1}else if(b=Q(b))Qd(b)?(c=mc(b),b=nc(b),h=c,d=W(c),c=h):(c=S(b),h=ud(c,0,null),f=ud(c,1,null),a.j?a.j(f,h):a.call(null,f,h),b=T(b),c=null,d=0),e=0;else return null};g.fa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){a=tb(this.cb,b);return w(a)?xb(a):c};g.Ga=function(){return new Rg(sc(this.cb))};g.ga=function(){return this.meta};g.la=function(){return ab(this.cb)};
g.ia=function(){var a=this.T;return null!=a?a:this.T=a=Uc(this)};g.ea=function(a,b){if(Gd(b))if(W(this)===W(b))try{return ee(function(c,d){return(c=Vd(b,d))?c:new Xc(!1)},!0,this.cb)}catch(c){if(c instanceof Error)return!1;throw c;}else return!1;else return!1};g.qb=function(){return new Tg(fc(this.cb))};g.na=function(){return Hb(Wg,this.meta)};g.sc=function(a,b){return new Sg(this.meta,wb(this.cb,b),null)};g.ja=function(){return bg(this.cb)};
g.ka=function(a,b){return b===this.meta?this:new Sg(b,this.cb,this.T)};g.oa=function(a,b){return new Sg(this.meta,vd.C(this.cb,b,null),null)};g.call=function(a){switch(arguments.length-1){case 1:return this.f(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.f(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Sa(b)))};g.f=function(a){return this.fa(null,a)};g.j=function(a,b){return this.Y(null,a,b)};
var Wg=new Sg(null,We,Vc);Sg.prototype[Pa]=function(){return Qc(this)};function Tg(a){this.fb=a;this.O=136;this.F=259}g=Tg.prototype;g.sb=function(a,b){this.fb=ic(this.fb,b,null);return this};g.Db=function(){return new Sg(null,hc(this.fb),null)};g.la=function(){return W(this.fb)};g.fa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){return ob(this.fb,b,Sd)===Sd?c:b};
g.call=function(a){switch(arguments.length-1){case 1:return this.f(arguments[1]);case 2:return this.j(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",C.f(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Sa(b)))};g.f=function(a){return ob(this.fb,a,Sd)===Sd?null:a};g.j=function(a,b){return ob(this.fb,a,Sd)===Sd?b:a};
function Xg(a){if(Gd(a))return Bd(a,null);a=Q(a);if(null==a)return Wg;if(a instanceof R&&0===a.i){a=a.B;for(var b=a.length,c=fc(Wg),d=0;;)if(d<b)gc(c,a[d]),d+=1;else break;return hc(c)}for(c=fc(Wg);;)if(null!=a)b=T(a),c=gc(c,jb(a)),a=b;else return hc(c)}function Yg(a){for(var b=rd;;)if(T(a))b=qd.j(b,S(a)),a=T(a);else return Q(b)}function we(a){if(null!=a&&(a.O&4096||u===a.qc))return a.name;if("string"===typeof a)return a;throw Error(["Doesn't support name: ",C.f(a)].join(""));}
var Zg=function Zg(a){switch(arguments.length){case 2:return Zg.j(arguments[0],arguments[1]);case 3:return Zg.C(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new R(c.slice(3),0,null);return Zg.I(arguments[0],arguments[1],arguments[2],c)}};Zg.j=function(a,b){return b};Zg.C=function(a,b,c){return(a.f?a.f(b):a.call(null,b))>(a.f?a.f(c):a.call(null,c))?b:c};
Zg.I=function(a,b,c,d){return Ua(function(e,f){return Zg.C(a,e,f)},Zg.C(a,b,c),d)};Zg.N=function(a){var b=S(a),c=T(a);a=S(c);var d=T(c);c=S(d);d=T(d);return this.I(b,a,c,d)};Zg.K=3;
function $g(){return function(){function a(h,k,l){return new Z(null,2,5,Ue,[Yg.C?Yg.C(h,k,l):Yg.call(null,h,k,l),pd.C?pd.C(h,k,l):pd.call(null,h,k,l)],null)}function b(h,k){return new Z(null,2,5,Ue,[Yg.j?Yg.j(h,k):Yg.call(null,h,k),pd.j?pd.j(h,k):pd.call(null,h,k)],null)}function c(h){return new Z(null,2,5,Ue,[Yg.f?Yg.f(h):Yg.call(null,h),pd.f?pd.f(h):pd.call(null,h)],null)}function d(){return new Z(null,2,5,Ue,[Yg.J?Yg.J():Yg.call(null),pd.J?pd.J():pd.call(null)],null)}var e=null,f=function(){function h(l,
m,n,p){var t=null;if(3<arguments.length){t=0;for(var x=Array(arguments.length-3);t<x.length;)x[t]=arguments[t+3],++t;t=new R(x,0,null)}return k.call(this,l,m,n,t)}function k(l,m,n,p){return new Z(null,2,5,Ue,[Re(Yg,l,m,n,p),Re(pd,l,m,n,p)],null)}h.K=3;h.N=function(l){var m=S(l);l=T(l);var n=S(l);l=T(l);var p=S(l);l=Mc(l);return k(m,n,p,l)};h.I=k;return h}();e=function(h,k,l,m){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,h);case 2:return b.call(this,h,k);case 3:return a.call(this,
h,k,l);default:var n=null;if(3<arguments.length){n=0;for(var p=Array(arguments.length-3);n<p.length;)p[n]=arguments[n+3],++n;n=new R(p,0,null)}return f.I(h,k,l,n)}throw Error("Invalid arity: "+arguments.length);};e.K=3;e.N=f.N;e.J=d;e.f=c;e.j=b;e.C=a;e.I=f.I;return e}()}function ah(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&Oc.j(a[0],b)?1===a.length?a[0]:Lf(a):null;throw new TypeError("re-matches must match against a string.");}
function bh(a,b,c,d,e,f,h){var k=Da;Da=null==Da?null:Da-1;try{if(null!=Da&&0>Da)return Yb(a,"#");Yb(a,c);if(0===La.f(f))Q(h)&&Yb(a,function(){var x=ch.f(f);return w(x)?x:"..."}());else{if(Q(h)){var l=S(h);b.C?b.C(l,a,f):b.call(null,l,a,f)}for(var m=T(h),n=La.f(f)-1;;)if(!m||null!=n&&0===n){Q(m)&&0===n&&(Yb(a,d),Yb(a,function(){var x=ch.f(f);return w(x)?x:"..."}()));break}else{Yb(a,d);var p=S(m);c=a;h=f;b.C?b.C(p,c,h):b.call(null,p,c,h);var t=T(m);c=n-1;m=t;n=c}}return Yb(a,e)}finally{Da=k}}
function dh(a,b){b=Q(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.ba(null,e);Yb(a,f);e+=1}else if(b=Q(b))c=b,Qd(c)?(b=mc(c),d=nc(c),c=b,f=W(b),b=d,d=f):(f=S(c),Yb(a,f),b=T(c),c=null,d=0),e=0;else return null}var eh={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function fh(a){return['"',C.f(a.replace(/[\\"\b\f\n\r\t]/g,function(b){return eh[b]})),'"'].join("")}function gh(a,b){return Td(J.j(a,Ja))?null!=b&&(b.F&131072||u===b.$b)?null!=Cd(b):!1:!1}
function hh(a,b,c){if(null==a)return Yb(b,"nil");if(gh(c,a)){Yb(b,"^");var d=Cd(a);ih.C?ih.C(d,b,c):ih.call(null,d,b,c);Yb(b," ")}if(a.Eb)return a.Rb(b);if(null!=a?a.F&2147483648||u===a.ma||(a.F?0:y(Zb,a)):y(Zb,a))return $b(a,b,c);if(!0===a||!1===a)return Yb(b,C.f(a));if("number"===typeof a)return Yb(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":C.f(a));if(null!=a&&a.constructor===Object)return Yb(b,"#js "),d=ff.j(function(f){return new Ef(null!=ah(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,
f)?ve.f(f):f,a[f])},oa(a)),jh.P?jh.P(d,ih,b,c):jh.call(null,d,ih,b,c);if(Ma(a))return bh(b,ih,"#js ["," ","]",c,a);if("string"==typeof a)return w(Ga.f(c))?Yb(b,fh(a)):Yb(b,a);if("function"==r(a)){var e=a.name;c=w(function(){var f=null==e;return f?f:wa(e)}())?"Function":e;return dh(b,ld(["#object[",c,w(!1)?[' "',C.f(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=C.f(f);;)if(f.length<h)f=["0",f].join("");else return f},dh(b,ld(['#inst "',C.f(a.getUTCFullYear()),"-",c(a.getUTCMonth()+
1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return dh(b,ld(['#"',a.source,'"']));if(Wa(a))return dh(b,ld(["#object[",a.toString(),"]"]));if(w(function(){var f=null==a?null:a.constructor;return null==f?null:f.kb}()))return dh(b,ld(["#object[",a.constructor.kb.replace(/\//g,"."),"]"]));e=function(){var f=null==a?null:a.constructor;return null==f?null:f.name}();c=w(function(){var f=
null==e;return f?f:wa(e)}())?"Object":e;return null==a.constructor?dh(b,ld(["#object[",c,"]"])):dh(b,ld(["#object[",c," ",C.f(a),"]"]))}function ih(a,b,c){var d=kh.f(c);return w(d)?(c=vd.C(c,lh,hh),d.C?d.C(a,b,c):d.call(null,a,b,c)):hh(a,b,c)}
function mh(a,b){var c=new ya;a:{var d=new tc(c);ih(S(a),d,b);a=Q(T(a));for(var e=null,f=0,h=0;;)if(h<f){var k=e.ba(null,h);Yb(d," ");ih(k,d,b);h+=1}else if(a=Q(a))e=a,Qd(e)?(a=mc(e),f=nc(e),e=a,k=W(a),a=f,f=k):(k=S(e),Yb(d," "),ih(k,d,b),a=T(e),e=null,f=0),h=0;else break a}return c}function nh(a){var b=Ea();return Ed(a)?"":C.f(mh(a,b))}function oh(a){return a instanceof Ic?Jc.j(null,we(a)):ve.j(null,we(a))}
function ph(a){if(w(!1)){var b=Q(a),c=Q(b),d=S(c);T(c);ud(d,0,null);ud(d,1,null);c=null==a?null:null!=a&&(a.F&4||u===a.Kc)?a.na(null):(null!=a?a.F&4||u===a.Kc||(a.F?0:y(bb,a)):y(bb,a))?cb(a):null;for(a=null;;){d=a;b=Q(b);a=S(b);var e=T(b),f=a;a=ud(f,0,null);b=ud(f,1,null);if(w(f))if(a instanceof N||a instanceof Ic)if(w(d))if(Oc.j(d,te(a)))c=vd.C(c,oh(a),b),a=d,b=e;else return null;else if(d=te(a),w(d))c=vd.C(c,oh(a),b),a=d,b=e;else return null;else return null;else return new Z(null,2,5,Ue,[d,c],
null)}}else return null}function qh(a,b,c,d,e){return bh(d,function(f,h,k){var l=xb(f);c.C?c.C(l,h,k):c.call(null,l,h,k);Yb(h," ");f=yb(f);return c.C?c.C(f,h,k):c.call(null,f,h,k)},[C.f(a),"{"].join(""),", ","}",e,Q(b))}function jh(a,b,c,d){var e=Nd(a)?ph(a):null,f=ud(e,0,null);e=ud(e,1,null);return w(f)?qh(["#:",C.f(f)].join(""),e,b,c,d):qh(null,a,b,c,d)}ef.prototype.ma=u;ef.prototype.da=function(a,b,c){Yb(b,"#object[cljs.core.Volatile ");ih(new v(null,1,[rh,this.state],null),b,c);return Yb(b,"]")};
R.prototype.ma=u;R.prototype.da=function(a,b,c){return bh(b,ih,"("," ",")",c,this)};xe.prototype.ma=u;xe.prototype.da=function(a,b,c){return bh(b,ih,"("," ",")",c,this)};Ef.prototype.ma=u;Ef.prototype.da=function(a,b,c){return bh(b,ih,"["," ","]",c,this)};Bg.prototype.ma=u;Bg.prototype.da=function(a,b,c){return bh(b,ih,"("," ",")",c,this)};$f.prototype.ma=u;$f.prototype.da=function(a,b,c){return bh(b,ih,"("," ",")",c,this)};Rc.prototype.ma=u;
Rc.prototype.da=function(a,b,c){return bh(b,ih,"("," ",")",c,this)};Qf.prototype.ma=u;Qf.prototype.da=function(a,b,c){return bh(b,ih,"("," ",")",c,this)};qe.prototype.ma=u;qe.prototype.da=function(a,b,c){return bh(b,ih,"("," ",")",c,this)};id.prototype.ma=u;id.prototype.da=function(a,b,c){return bh(b,ih,"("," ",")",c,this)};Gg.prototype.ma=u;Gg.prototype.da=function(a,b,c){return jh(this,ih,b,c)};Dg.prototype.ma=u;Dg.prototype.da=function(a,b,c){return bh(b,ih,"("," ",")",c,this)};
Sg.prototype.ma=u;Sg.prototype.da=function(a,b,c){return bh(b,ih,"#{"," ","}",c,this)};Ce.prototype.ma=u;Ce.prototype.da=function(a,b,c){return bh(b,ih,"("," ",")",c,this)};bf.prototype.ma=u;bf.prototype.da=function(a,b,c){Yb(b,"#object[cljs.core.Atom ");ih(new v(null,1,[rh,this.state],null),b,c);return Yb(b,"]")};Lg.prototype.ma=u;Lg.prototype.da=function(a,b,c){return bh(b,ih,"("," ",")",c,this)};Z.prototype.ma=u;Z.prototype.da=function(a,b,c){return bh(b,ih,"["," ","]",c,this)};
ke.prototype.ma=u;ke.prototype.da=function(a,b){return Yb(b,"()")};v.prototype.ma=u;v.prototype.da=function(a,b,c){return jh(this,ih,b,c)};Kg.prototype.ma=u;Kg.prototype.da=function(a,b,c){return bh(b,ih,"("," ",")",c,this)};sd.prototype.ma=u;sd.prototype.da=function(a,b,c){return bh(b,ih,"("," ",")",c,this)};Ic.prototype.yb=u;Ic.prototype.pb=function(a,b){if(b instanceof Ic)return Hc(this,b);throw Error(["Cannot compare ",C.f(this)," to ",C.f(b)].join(""));};N.prototype.yb=u;
N.prototype.pb=function(a,b){if(b instanceof N)return re(this,b);throw Error(["Cannot compare ",C.f(this)," to ",C.f(b)].join(""));};Z.prototype.yb=u;Z.prototype.pb=function(a,b){if(Pd(b))return Xd(this,b);throw Error(["Cannot compare ",C.f(this)," to ",C.f(b)].join(""));};Ef.prototype.yb=u;Ef.prototype.pb=function(a,b){if(Pd(b))return Xd(this,b);throw Error(["Cannot compare ",C.f(this)," to ",C.f(b)].join(""));};var sh=null;
function th(){null==sh&&(sh=new bf(0));return Jc.f([C.f("reagent"),C.f(df.j(sh,Wc))].join(""))}function uh(){}function vh(a){if(null!=a&&null!=a.Mc)a=a.Mc(a);else{var b=vh[r(null==a?null:a)];if(null!=b)a=b.f?b.f(a):b.call(null,a);else if(b=vh._,null!=b)a=b.f?b.f(a):b.call(null,a);else throw z("IEncodeJS.-clj-\x3ejs",a);}return a}
function wh(a,b){return(null!=a?u===a.Lc||(a.uc?0:y(uh,a)):y(uh,a))?vh(a):"string"===typeof a||"number"===typeof a||a instanceof N||a instanceof Ic?b.f?b.f(a):b.call(null,a):nh(ld([a]))}var xh=function xh(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new R(c.slice(1),0,null):null;return xh.I(arguments[0],c)};
xh.I=function(a,b){b=null!=b&&(b.F&64||u===b.Ca)?Oe(Jg,b):b;var c=J.C(b,yh,we),d=function h(f){if(null==f)return null;if(null!=f?u===f.Lc||(f.uc?0:y(uh,f)):y(uh,f))return vh(f);if(f instanceof N)return c.f?c.f(f):c.call(null,f);if(f instanceof Ic)return C.f(f);if(Nd(f)){var k={};f=Q(f);for(var l=null,m=0,n=0;;)if(n<m){var p=l.ba(null,n),t=ud(p,0,null);p=ud(p,1,null);t=wh(t,d);p=h(p);k[t]=p;n+=1}else if(f=Q(f))Qd(f)?(m=mc(f),f=nc(f),l=m,m=W(m)):(m=S(f),l=ud(m,0,null),m=ud(m,1,null),l=wh(l,d),m=h(m),
k[l]=m,f=T(f),l=null,m=0),n=0;else break;return k}if(Fd(f)){k=[];f=Q(ff.j(h,f));l=null;for(n=m=0;;)if(n<m)t=l.ba(null,n),k.push(t),n+=1;else if(f=Q(f))l=f,Qd(l)?(f=mc(l),n=nc(l),l=f,m=W(f),f=n):(f=S(l),k.push(f),f=T(l),l=null,m=0),n=0;else break;return k}return f};return d(a)};xh.K=1;xh.N=function(a){var b=S(a);a=T(a);return this.I(b,a)};
function zh(){w(Ra)||(Ra=function(){for(var a=Zd(function(e,f){return f.length-e.length},oa(Qa)),b="";;)if(Q(a)){var c=T(a),d=[function(){var e=b;return""!==b?[e,"|"].join(""):e}(),C.f(S(a))].join("");a=c;b=d}else return[b,"|\\$"].join("")}());return Ra}
function Ah(a){var b=C.f(a);if("_DOT__DOT_"===b)var c="..";else a:{c=new RegExp(zh(),"g");var d=b.length-1;d=0<=d&&b.indexOf("$",d)==d;b=w(d)?b.substring(0,b.length-1):b;d="";for(var e=0;;){var f=c.exec(b);if(w(f))f=ud(f,0,null),d=[d,C.f(b.substring(e,c.lastIndex-f.length)),C.f("$"===f?"/":qa(Qa,f))].join(""),e=c.lastIndex;else{c=[d,C.f(b.substring(e,b.length))].join("");break a}}}a=a instanceof Ic?Jc:C;return a.f?a.f(c):a.call(null,c)};var Bh=new N(null,"table","table",-564943036),rh=new N(null,"val","val",128701612),Ch=new Ic(aa,"zipmap","cljs.core/zipmap",-1902130674,null),Dh=new N(null,"render","render",-1408033454),Eh=new N(null,"auto-run","auto-run",1958400437),Fh=new N(null,"renderer","renderer",336841071),Gh=new N(null,"on-dispose","on-dispose",2105306360),Hh=new N(ca,"kvs-\x3emap","cljs.spec.alpha/kvs-\x3emap",579713455),Ih=new N(null,"descending","descending",-24766135),Jh=new Ic(null,"fn*","fn*",-752876845,null),Kh=new N(null,
"constructor","constructor",-1953928811),zk=new N(null,"log-level","log-level",862121670),Lh=new N(null,"childContextTypes","childContextTypes",578717991),Mh=new Ic(aa,"fn","cljs.core/fn",-1065745098,null),Nh=new N(null,"vega","vega",-1657843081),Oh=new N(null,"on-click","on-click",1632826543),Ph=new N(null,"vega-lite","vega-lite",-650304770),Qh=new N(null,"th-style","th-style",-1504296072),Rh=new Ic(null,"cpred?","cpred?",35589515,null),Sh=new N(null,"getInitialState","getInitialState",1541760916),
kh=new N(null,"alt-impl","alt-impl",670969595),Th=new N(null,"div.viz","div.viz",1155063891),Qg=new N(aa,"not-found","cljs.core/not-found",-1572889185),Uh=new N(null,"sort-order","sort-order",1853277479),Vh=new Ic(null,"form","form",16469056,null),Wh=new N(null,"no-cache","no-cache",1588056370),Xh=new N(null,"\x3c\x3e","\x3c\x3e",1280186386),Fa=new N(null,"flush-on-newline","flush-on-newline",-151457939),Yh=new N(null,"data-table","data-table",-149582774),Zh=new Ic(null,"meta23995","meta23995",-727463571,
null),xi=new Ic(null,"meta24720","meta24720",-1999851908,null),$h=new N(null,"reagent-render","reagent-render",-985383853),ai=new Ic(null,"pred","pred",-727012372,null),bi=new N(null,"th","th",-545608566),ci=new N(null,"tr","tr",-1424774646),di=new N(null,"a","a",-2123407586),ei=new N(ca,"name","cljs.spec.alpha/name",205233570),fi=new N(null,"componentWillUnmount","componentWillUnmount",1573788814),gi=new N(null,"p","p",151049309),hi=new N(null,"td","td",1479933353),ii=new N(null,"contextType","contextType",
1033066077),ji=new N(null,"getDerivedStateFromProps","getDerivedStateFromProps",-991834739),ki=new N(null,"div","div",1057191632),lh=new N(null,"fallback-impl","fallback-impl",-1501286995),li=new N(null,"canvas","canvas",-1798817489),mi=new N(null,"display-name","display-name",694513143),ni=new N(null,"margin-bottom","margin-bottom",388334941),yh=new N(null,"keyword-fn","keyword-fn",-64566675),oi=new N(null,"per-page","per-page",-54905429),pi=new N(null,"component-will-unmount","component-will-unmount",
-2058314698),qi=new Ic(ca,"conformer","cljs.spec.alpha/conformer",2140085535,null),ri=new N(null,"style","style",-496642736),si=new Ic(null,"v","v",1661996586,null),ti=new N(ca,"op","cljs.spec.alpha/op",-1269055252),ui=new Ic(null,"k","k",-505765866,null),ch=new N(null,"more-marker","more-marker",-14717935),vi=new N(null,"span","span",1394872991),wi=new Ic(null,"re","re",1869207729,null),yi=new N(null,"component-will-update","component-will-update",335247566),zi=new N(null,"td-style","td-style",1948769874),
Ri=new Ic(null,"p1__24765#","p1__24765#",2051555572,null),Ja=new N(null,"meta","meta",1499536964),Ai=new N(null,"displayName","displayName",-809144601),Bi=new N(ca,"gfn","cljs.spec.alpha/gfn",-593120375),Ci=new Ic(null,"gfn","gfn",-1862918295,null),Di=new N(null,"getDerivedStateFromError","getDerivedStateFromError",166658477),Ei=new N(null,"mode","mode",654403691),Fi=new N(null,"sort-key","sort-key",1285844623),Fk=new N(null,"logLevel","logLevel",1131406165),Gi=new N(null,"class","class",-2030961996),
Hi=new N(null,"cljsLegacyRender","cljsLegacyRender",-1527295613),Ii=new N(null,"tr-style","tr-style",1853585605),Ji=new N(null,"reagentRender","reagentRender",-358306383),Ki=new N(null,"cursor","cursor",1011937484),Li=new N(null,"name","name",1843675177),Mi=new N(null,"page","page",849072397),Ni=new N(null,"on-set","on-set",-140953470),Oi=new N(null,"pointer","pointer",85071187),Pi=new N(null,"ascending","ascending",-988350486),Qi=new Ic(aa,"map","cljs.core/map",-338988913,null),Ka=new N(null,"dup",
"dup",556298533),La=new N(null,"print-length","print-length",1931866356),Si=new N(null,"component-did-update","component-did-update",-1468549173),Ti=new N(null,"component-did-mount","component-did-mount",-1126910518),Ui=new N(ca,"v","cljs.spec.alpha/v",552625740),Vi=new N(null,"on-write","on-write",31519475),Wi=new N(null,"key","key",-1516042587),Xi=new N(ca,"k","cljs.spec.alpha/k",-1602615178),Zi=new Ic(null,"%","%",-950237169,null),$i=new N(null,"validator","validator",-1966190681),aj=new N(null,
"padding-right","padding-right",-1250249681),bj=new N(ca,"unknown","cljs.spec.alpha/unknown",651034818),Ga=new N(null,"readably","readably",1129599760),cj=new N(null,"contextTypes","contextTypes",-2023853910),dj=new N(null,"shouldComponentUpdate","shouldComponentUpdate",1795750960),ej=new N(null,"id","id",-1388402092),fj=new Ic(null,"unc","unc",-465250751,null),Ve=new Ic(null,"meta22170","meta22170",-1045400475,null),Yi=new Ic(null,"p1__24764#","p1__24764#",1035837421,null);var gj={},hj={},ij=[];function jj(a,b){var c=hj[a];if(void 0!==c)return c;try{ij.push(a);var d=gj[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};gj[a]=d}if(e){delete shadow$provide[a];try{e.call(d,da,jj,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{ij.pop()}return d.exports}jj.cache={};jj.resolve=function(a){return a};var El=jj(50,{});var kj=jj(53,{});function lj(a,b,c){var d=RegExp,e=b.source,f=w(b.ignoreCase)?"gi":"g";f=w(b.multiline)?[f,"m"].join(""):f;b=w(b.rd)?[f,"u"].join(""):f;d=new d(e,b);return a.replace(d,c)}
function mj(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new R(f,0,null)}return c.call(this,e)}function c(d){d=jf(d);if(Oc.j(W(d),1))return d=S(d),a.f?a.f(d):a.call(null,d);d=Lf(d);return a.f?a.f(d):a.call(null,d)}b.K=0;b.N=function(d){d=Q(d);return c(d)};b.I=c;return b}()}
function nj(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?lj(a,b,c):lj(a,b,mj(c));throw["Invalid match arg: ",C.f(b)].join("");}function oj(a,b){var c=new ya;for(b=Q(b);;)if(null!=b)c.append(C.f(S(b))),b=T(b),null!=b&&c.append(a);else return c.toString()}
function pj(a,b){a="/(?:)/"===C.f(b)?qd.j(Lf(kd("",ff.j(C,Q(a)))),""):Lf(C.f(a).split(b));if(1<W(a))a:for(;;)if(""===(null==a?null:Bb(a)))a=null==a?null:Cb(a);else break a;return a};var qj={};var rj={},sj,tj;function uj(a,b){if(null!=a&&null!=a.hc)a=a.hc(a,b);else{var c=uj[r(null==a?null:a)];if(null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else if(c=uj._,null!=c)a=c.j?c.j(a,b):c.call(null,a,b);else throw z("Spec.with-gen*",a);}return a}var vj=new bf(We);function wj(a){if(ue(a)){var b=Eb(vj);a=J.j(b,a);if(ue(a))a:for(;;)if(ue(a))a=J.j(b,a);else{b=a;break a}else b=a;return b}return a}
function xj(a){if(ue(a)){var b=wj(a);if(w(b))return b;throw Error(["Unable to resolve spec: ",C.f(a)].join(""));}return a}function yj(a){return null!=a&&u===a.vc?a:null}function Dj(a){var b=ti.f(a);return w(b)?a:b}function Ej(a,b){return ue(a)?a:w(Dj(a))?vd.C(a,ei,b):null!=a&&(a.F&131072||u===a.$b)?Bd(a,vd.C(Cd(a),ei,b)):null}function Fj(a){return ue(a)?a:w(Dj(a))?ei.f(a):null!=a&&(a.F&131072||u===a.$b)?ei.f(Cd(a)):null}
function Gj(a){var b=function(){var c=ue(a)?wj(a):!1;if(w(c))return c;c=yj(a);if(w(c))return c;c=Dj(a);return w(c)?c:null}();return w(Dj(b))?Ej(Hj(b,null),Fj(b)):b}function Ij(a){var b=Gj(a);if(w(b))return b;if(ue(a))throw Error(["Unable to resolve spec: ",C.f(a)].join(""));return null}
function Jj(a){if(wa(null==a?"":String(a)))return null;a=ff.j(Ah,pj(a,"$"));if(2<=W(a)&&Xe(function(c){return!wa(null==c?"":String(c))},a)){var b=$g()(a);a=ud(b,0,null);b=ud(b,1,null);return Jc.f([oj(".",a),"/",C.f(b)].join(""))}return null}
var Lj=function(){function a(d,e){var f=Kj[r(null==d?null:d)];if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);f=Kj._;if(null!=f)return f.j?f.j(d,e):f.call(null,d,e);throw z("Specize.specize*",d);}function b(d){var e=Kj[r(null==d?null:d)];if(null!=e)return e.f?e.f(d):e.call(null,d);e=Kj._;if(null!=e)return e.f?e.f(d):e.call(null,d);throw z("Specize.specize*",d);}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+
arguments.length);};c.f=b;c.j=a;return c}(),Kj=function Kj(a){switch(arguments.length){case 1:return Kj.f(arguments[0]);case 2:return Kj.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",C.f(arguments.length)].join(""));}};Kj.f=function(a){return null!=a&&null!=a.tb?a.tb(a):Lj(a)};Kj.j=function(a,b){return null!=a&&null!=a.ub?a.ub(a,b):Lj(a,b)};Kj.K=2;N.prototype.tb=function(){return Kj(xj(this))};N.prototype.ub=function(){return Kj(xj(this))};Ic.prototype.tb=function(){return Kj(xj(this))};
Ic.prototype.ub=function(){return Kj(xj(this))};Sg.prototype.tb=function(){return Mj(this,this,null,null,null)};Sg.prototype.ub=function(a,b){return Mj(b,this,null,null,null)};
Kj._=function(){function a(c){var d=yd(c)?Jj(c.name):!1;return w(d)?Mj(d,c,null,null,null):Mj(bj,c,null,null,null)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Mj(d,c,null,null,null)}throw Error("Invalid arity: "+arguments.length);};b.f=a;b.j=function(c,d){return Mj(d,c,null,null,null)};return b}();
var Nj=function Nj(a){switch(arguments.length){case 1:return Nj.f(arguments[0]);case 2:return Nj.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",C.f(arguments.length)].join(""));}};Nj.f=function(a){var b=yj(a);return w(b)?b:Kj(a)};Nj.j=function(a,b){var c=yj(a);return w(c)?c:Kj(a,b)};Nj.K=2;function Oj(a,b){a=wj(a);return w(Dj(a))?vd.C(a,Bi,b):uj(Nj.f(a),b)}
function Mj(a,b,c,d,e){if(w(yj(b)))return w(c)?Oj(b,c):b;if(w(Dj(b)))return Hj(b,c);if(ue(b))return a=Ij(b),w(c)?Oj(a,c):a;if("undefined"===typeof Aa||"undefined"===typeof qj||"undefined"===typeof rj||"undefined"===typeof sj)sj=function(f,h,k,l,m,n){this.form=f;this.Dc=h;this.jc=k;this.zc=l;this.Fc=m;this.Xc=n;this.F=393216;this.O=0},sj.prototype.ka=function(f,h){return new sj(this.form,this.Dc,this.jc,this.zc,this.Fc,h)},sj.prototype.ga=function(){return this.Xc},sj.prototype.tb=function(){return this},
sj.prototype.ub=function(){return this},sj.prototype.vc=u,sj.prototype.hc=function(f,h){return Mj(this.form,this.Dc,h,this.zc,this.Fc)},sj.Ac=function(){return new Z(null,6,5,Ue,[Vh,ai,Ci,Rh,fj,Zh],null)},sj.Eb=!0,sj.kb="cljs.spec.alpha/t_cljs$spec$alpha23994",sj.Rb=function(f){return Yb(f,"cljs.spec.alpha/t_cljs$spec$alpha23994")};return new sj(a,b,c,d,e,We)}
var Hj=function Hj(a,b){if("undefined"===typeof Aa||"undefined"===typeof qj||"undefined"===typeof rj||"undefined"===typeof tj)tj=function(d,e,f){this.re=d;this.jc=e;this.Yc=f;this.F=393216;this.O=0},tj.prototype.ka=function(d,e){return new tj(this.re,this.jc,e)},tj.prototype.ga=function(){return this.Yc},tj.prototype.tb=function(){return this},tj.prototype.ub=function(){return this},tj.prototype.vc=u,tj.prototype.hc=function(d,e){return Hj.j?Hj.j(this.re,e):Hj.call(null,this.re,e)},tj.Ac=function(){return new Z(null,
3,5,Ue,[wi,Ci,xi],null)},tj.Eb=!0,tj.kb="cljs.spec.alpha/t_cljs$spec$alpha24719",tj.Rb=function(d){return Yb(d,"cljs.spec.alpha/t_cljs$spec$alpha24719")};return new tj(a,b,We)},Pj=me(qi,me(Jh,new Z(null,1,5,Ue,[Yi],null),me(Ch,me(Qi,Xi,Yi),me(Qi,Ui,Yi))),me(Jh,new Z(null,1,5,Ue,[Ri],null),me(Qi,me(Mh,new Z(null,1,5,Ue,[new Z(null,2,5,Ue,[ui,si],null)],null),new v(null,2,[Xi,ui,Ui,si],null)),Ri))),Qj=Mj(me(qi,me(Mh,new Z(null,1,5,Ue,[Zi],null),me(Ch,me(Qi,Xi,Zi),me(Qi,Ui,Zi))),me(Mh,new Z(null,1,5,
Ue,[Zi],null),me(Qi,me(Mh,new Z(null,1,5,Ue,[new Z(null,2,5,Ue,[ui,si],null)],null),new v(null,2,[Xi,ui,Ui,si],null)),Zi))),function(a){a:{var b=ff.j(Xi,a),c=ff.j(Ui,a);a=fc(We);b=Q(b);for(c=Q(c);;)if(b&&c){var d=S(b),e=S(c);a=ic(a,d,e);b=T(b);c=T(c)}else{a=hc(a);break a}}return a},null,!0,function(a){return ff.j(function(b){var c=ud(b,0,null);b=ud(b,1,null);return new v(null,2,[Xi,c,Ui,b],null)},a)});
if(null==Qj)df.C(vj,xd,Hh);else{var Rj;var Sj=yj(Qj);if(w(Sj))Rj=Sj;else{var Tj=Dj(Qj);Rj=w(Tj)?Tj:J.j(Eb(vj),Qj)}var Uj=w(Rj)?Qj:Mj(Pj,Qj,null,null,null);df.P(vj,vd,Hh,Ej(Uj,Hh))};var Vj=jj(59,{});var Wj="undefined"!==typeof window&&null!=window.document,Xj=new Sg(null,new v(null,2,["aria",null,"data",null],null),null);function Yj(a){return 2>W(a)?a.toUpperCase():[a.substring(0,1).toUpperCase(),a.substring(1)].join("")}function Zj(a){if("string"===typeof a)return a;a=we(a);var b=pj(a,/-/);var c=Q(b);b=S(c);c=T(c);return w(Xj.f?Xj.f(b):Xj.call(null,b))?a:Pe(C,b,ff.j(Yj,c))}
function ak(a){var b=function(){if(yd(a)){var c=a.displayName;w(c)||(c=a.name,c="string"===typeof c&&Q(c)?c:null)}else c=!1;if(w(c))return c;c=null!=a&&(a.O&4096||u===a.qc)?we(a):!1;if(w(c))return c;c=Cd(a);return Nd(c)?Li.f(c):null}();return w(b)?nj(C.f(b),"$","."):null}function bk(a){return a instanceof N||a instanceof Ic}
var ck=function ck(a){switch(arguments.length){case 0:return ck.J();case 1:return ck.f(arguments[0]);case 2:return ck.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new R(c.slice(2),0,null);return ck.I(arguments[0],arguments[1],c)}};ck.J=function(){return null};ck.f=function(a){return Fd(a)?(a=af(function(b){return w(b)?bk(b)?we(b):b:null},a),Q(a)?oj(" ",a):null):bk(a)?we(a):a};
ck.j=function(a,b){return w(a)?w(b)?[C.f(ck.f(a))," ",C.f(ck.f(b))].join(""):ck.f(a):ck.f(b)};ck.I=function(a,b,c){return Ua(ck,ck.j(a,b),c)};ck.N=function(a){var b=S(a),c=T(a);a=S(c);c=T(c);return this.I(b,a,c)};ck.K=2;var dk=0;function ek(a){return setTimeout(a,16)}var fk=Wj?function(){var a=window,b=a.requestAnimationFrame;if(w(b))return b;b=a.webkitRequestAnimationFrame;if(w(b))return b;b=a.mozRequestAnimationFrame;if(w(b))return b;a=a.msRequestAnimationFrame;return w(a)?a:ek}():ek;function gk(a,b){return a.xc-b.xc}function hk(){return null}function ik(a){for(var b=a.length,c=0;;)if(c<b){var d=a[c];d.J?d.J():d.call(null);c+=1}else return null}function jk(a,b,c){b.push(c);return a.schedule()}
function kk(){this.Ub=!1}g=kk.prototype;g.flush_after_render=function(){var a=this.Kb;if(null==a)return null;this.Kb=null;return ik(a)};g.queue_render=function(a){null==this.Tb&&(this.Tb=[]);return jk(this,this.Tb,a)};g.schedule=function(){function a(){return b.run_queues()}var b=this;if(this.Ub)return null;this.Ub=!0;return fk.f?fk.f(a):fk.call(null,a)};g.flush_before_flush=function(){var a=this.Gc;if(null==a)return null;this.Gc=null;return ik(a)};
g.flush_queues=function(){this.flush_before_flush();hk();this.flush_render();return this.flush_after_render()};g.run_queues=function(){this.Ub=!1;return this.flush_queues()};g.add_before_flush=function(a){null==this.Gc&&(this.Gc=[]);return jk(this,this.Gc,a)};g.add_after_render=function(a){null==this.Kb&&(this.Kb=[]);return jk(this,this.Kb,a)};
g.flush_render=function(){var a=this.Tb;if(null==a)return null;this.Tb=null;a:{a.sort(gk);for(var b=a.length,c=0;;)if(c<b){var d=a[c];!0===d.cljsIsDirty&&d.forceUpdate();c+=1}else break a}return null};var lk=new kk;function mk(a){if(w(a.cljsIsDirty))return null;a.cljsIsDirty=!0;return lk.queue_render(a)};function nk(a,b){var c=Pe(Zg,a,b);return kd(c,lf(function(d){return c===d},b))}var ok=function ok(a){switch(arguments.length){case 0:return ok.J();case 1:return ok.f(arguments[0]);case 2:return ok.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new R(c.slice(2),0,null);return ok.I(arguments[0],arguments[1],c)}};ok.J=function(){return Wg};ok.f=function(a){return a};ok.j=function(a,b){return W(a)<W(b)?Ua(qd,b,a):Ua(qd,a,b)};
ok.I=function(a,b,c){a=nk(W,qd.I(c,b,ld([a])));return Ua(mf,S(a),Mc(a))};ok.N=function(a){var b=S(a),c=T(a);a=S(c);c=T(c);return this.I(b,a,c)};ok.K=2;var pk=function pk(a){switch(arguments.length){case 1:return pk.f(arguments[0]);case 2:return pk.j(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new R(c.slice(2),0,null);return pk.I(arguments[0],arguments[1],c)}};pk.f=function(a){return a};
pk.j=function(a,b){return W(a)<W(b)?Ua(function(c,d){return Vd(b,d)?Dd.j(c,d):c},a,a):Ua(Dd,a,b)};pk.I=function(a,b,c){return Ua(pk,a,qd.j(c,b))};pk.N=function(a){var b=S(a),c=T(a);a=S(c);c=T(c);return this.I(b,a,c)};pk.K=2;var qk;function rk(a,b){b.captured=null;a:{var c=qk;qk=b;try{var d=a.J?a.J():a.call(null);break a}finally{qk=c}d=void 0}a=b.captured;b.ib=!1;a:{c=b.ob;var e=null==a?0:a.length;if(e===(null==c?0:c.length))for(var f=0;;){var h=f===e;if(h){c=h;break a}if(a[f]===c[f])f+=1;else{c=!1;break a}}else c=!1}c||b._update_watching(a);return d}function sk(a){var b=qk;if(null!=b){var c=b.captured;null==c?b.captured=[a]:c.push(a)}}function tk(a,b,c){a.ta=vd.C(a.ta,b,c);return a.mc=null}
function uk(a,b){a.ta=xd.j(a.ta,b);return a.mc=null}function vk(a,b,c){var d=a.mc;d=null==d?a.mc=ee(function(l,m,n){l.push(m);l.push(n);return l},[],a.ta):d;for(var e=d.length,f=0;;)if(f<e){var h=d[f],k=d[f+1];k.P?k.P(h,a,b,c):k.call(null,h,a,b,c);f=2+f}else break}function wk(a,b,c,d){Yb(b,["#\x3c",C.f(d)," "].join(""));a:{d=qk;qk=null;try{var e=Eb(a);break a}finally{qk=d}e=void 0}ih(e,b,c);return Yb(b,"\x3e")}var xk=null;
function yk(){for(;;){var a=xk;if(null==a)return null;xk=null;for(var b=a.length,c=0;;)if(c<b)a[c]._queued_run(),c+=1;else break}}hk=yk;function Ak(a,b,c,d){this.state=a;this.meta=b;this.validator=c;this.ta=d;this.F=2154201088;this.O=114690}g=Ak.prototype;g.da=function(a,b,c){return wk(this,b,c,"Atom:")};g.ga=function(){return this.meta};g.ia=function(){return ea(this)};g.ea=function(a,b){return this===b};g.Ha=function(a,b){a=this.state;this.state=b;null!=this.ta&&vk(this,a,b);return b};
g.ac=function(a,b){return this.Ha(null,b.f?b.f(this.state):b.call(null,this.state))};g.bc=function(a,b,c){return this.Ha(null,b.j?b.j(this.state,c):b.call(null,this.state,c))};g.cc=function(a,b,c,d){return this.Ha(null,b.C?b.C(this.state,c,d):b.call(null,this.state,c,d))};g.dc=function(a,b,c,d,e){return this.Ha(null,Re(b,this.state,c,d,e))};g.fc=function(a,b){vk(this,a,b)};g.Pb=function(a,b,c){return tk(this,b,c)};g.Qb=function(a,b){return uk(this,b)};
g.ka=function(a,b){return new Ak(this.state,b,this.validator,this.ta)};g.hb=function(){sk(this);return this.state};var Bk=function Bk(a){switch(arguments.length){case 1:return Bk.f(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new R(c.slice(1),0,null);return Bk.I(arguments[0],c)}};Bk.f=function(a){return new Ak(a,null,null,null)};Bk.I=function(a,b){var c=null!=b&&(b.F&64||u===b.Ca)?Oe(Jg,b):b;b=J.j(c,Ja);c=J.j(c,$i);return new Ak(a,b,c,null)};
Bk.N=function(a){var b=S(a);a=T(a);return this.I(b,a)};Bk.K=1;function Ck(a){if(null!=a&&null!=a.kc)a.kc(a);else{var b=Ck[r(null==a?null:a)];if(null!=b)b.f?b.f(a):b.call(null,a);else if(b=Ck._,null!=b)b.f?b.f(a):b.call(null,a);else throw z("IDisposable.dispose!",a);}}function dc(a,b,c,d){return a._handle_change(b,c,d)}function Dk(a){this.wb=a;this.state=null;this.ib=!0;this.Bc=!1;this.Xb=this.Na=this.ta=this.ob=null;this.F=2153807872;this.O=114690}g=Dk.prototype;
g._peek_at=function(){var a=qk;qk=null;try{return this.hb(null)}finally{qk=a}};g._handle_change=function(a,b,c){return b===c||this.ib?null:null==this.Na?(this.ib=!0,null==xk&&(xk=[],!1===lk.Ub&&lk.schedule()),xk.push(this)):!0===this.Na?this._run(!1):this.Na.f?this.Na.f(this):this.Na.call(null,this)};
g._update_watching=function(a){var b=Xg(a),c=Xg(this.ob);this.ob=a;a=Q(pk.j(b,c));for(var d=null,e=0,f=0;;)if(f<e){var h=d.ba(null,f);cc(h,this);f+=1}else if(a=Q(a))d=a,Qd(d)?(a=mc(d),f=nc(d),d=a,e=W(a),a=f):(a=S(d),cc(a,this),a=T(d),d=null,e=0),f=0;else break;b=Q(pk.j(c,b));c=null;for(e=d=0;;)if(e<d)a=c.ba(null,e),ec(a,this),e+=1;else if(b=Q(b))c=b,Qd(c)?(b=mc(c),d=nc(c),c=b,a=W(b),b=d,d=a):(a=S(c),ec(a,this),b=T(c),c=null,d=0),e=0;else return null};
g._queued_run=function(){return this.ib&&null!=this.ob?this._run(!0):null};g._try_capture=function(a){try{return this.Xb=null,rk(a,this)}catch(b){return this.Xb=this.state=a=b,this.ib=!1}};g._run=function(a){var b=this.state;a=w(a)?this._try_capture(this.wb):rk(this.wb,this);this.Bc||(this.state=a,null==this.ta||Oc.j(b,a)||vk(this,b,a));return a};
g._set_opts=function(a){var b=null!=a&&(a.F&64||u===a.Ca)?Oe(Jg,a):a;a=J.j(b,Eh);var c=J.j(b,Ni),d=J.j(b,Gh);b=J.j(b,Wh);null!=a&&(this.Na=a);null!=c&&(this.$c=c);null!=d&&(this.Cc=d);return null!=b?this.Bc=b:null};g.da=function(a,b,c){return wk(this,b,c,["Reaction ",C.f(Fc(this)),":"].join(""))};g.ia=function(){return ea(this)};g.ea=function(a,b){return this===b};
g.kc=function(){var a=this.state,b=this.ob;this.Na=this.state=this.ob=null;this.ib=!0;b=Q(Xg(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.ba(null,e);ec(f,this);e+=1}else if(b=Q(b))c=b,Qd(c)?(b=mc(c),e=nc(c),c=b,d=W(b),b=e):(b=S(c),ec(b,this),b=T(c),c=null,d=0),e=0;else break;null!=this.Cc&&this.Cc(a);a=this.qd;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.f?d.f(this):d.call(null,this),c+=1;else return null};g.Ha=function(a,b){a=this.state;this.state=b;this.$c(a,b);vk(this,a,b);return b};
g.ac=function(a,b){var c=this;return c.Ha(null,function(){var d=c._peek_at();return b.f?b.f(d):b.call(null,d)}())};g.bc=function(a,b,c){var d=this;return d.Ha(null,function(){var e=d._peek_at();return b.j?b.j(e,c):b.call(null,e,c)}())};g.cc=function(a,b,c,d){var e=this;return e.Ha(null,function(){var f=e._peek_at();return b.C?b.C(f,c,d):b.call(null,f,c,d)}())};g.dc=function(a,b,c,d,e){return this.Ha(null,Re(b,this._peek_at(),c,d,e))};g.fc=function(a,b){vk(this,a,b)};
g.Pb=function(a,b,c){return tk(this,b,c)};g.Qb=function(a,b){a=Ed(this.ta);uk(this,b);return!a&&Ed(this.ta)&&null==this.Na?this.kc(null):null};g.hb=function(){var a=this.Xb;if(null!=a)throw a;(a=null==qk)&&yk();a&&null==this.Na?this.ib&&(a=this.state,this.state=this.wb.J?this.wb.J():this.wb.call(null),null==this.ta||Oc.j(a,this.state)||vk(this,a,this.state)):(sk(this),this.ib&&this._run(!1));return this.state};
function Gk(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=1<b.length?new R(b.slice(1),0,null):null;b=arguments[0];var e=null!=c&&(c.F&64||u===c.Ca)?Oe(Jg,c):c;c=J.j(e,Eh);d=J.j(e,Ni);e=J.j(e,Gh);b=new Dk(b);b._set_opts(new v(null,3,[Eh,c,Ni,d,Gh,e],null));return b}var Hk=Gk(null);function Ik(a,b){var c=Jk,d=Hk,e=rk(a,d);null!=d.ob&&(Hk=Gk(null),d._set_opts(c),d.wb=a,d.Na=function(){return mk.f?mk.f(b):mk.call(null,b)},b.cljsRatom=d);return e};var Kk;function Lk(a,b){var c=b.argv;if(null==c){c=Ue;a=a.constructor;a:for(var d=oa(b),e=d.length,f=We,h=0;;)if(h<e){var k=d[h];f=vd.C(f,ve.f(k),qa(b,k));h+=1}else break a;b=new Z(null,2,5,c,[a,f],null)}else b=c;return b}function Mk(a){var b;if(b=yd(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.lc);return b}var Nk=null;
function Ok(a){for(;;){var b=a.lc,c=!0===a.Tc?b.call(a,a):function(){var d=Lk(a,a.props);switch(W(d)){case 1:return b.call(a);case 2:return b.call(a,ed(d,1));case 3:return b.call(a,ed(d,1),ed(d,2));case 4:return b.call(a,ed(d,1),ed(d,2),ed(d,3));case 5:return b.call(a,ed(d,1),ed(d,2),ed(d,3),ed(d,4));default:return b.apply(a,Ta(d).slice(1))}}();if(Pd(c))return Nk.f?Nk.f(c):Nk.call(null,c);if(Ud(c))c=Mk(c)?function(d,e,f,h){return function(){function k(m){var n=null;if(0<arguments.length){n=0;for(var p=
Array(arguments.length-0);n<p.length;)p[n]=arguments[n+0],++n;n=new R(p,0,null)}return l.call(this,n)}function l(m){m=Pe(Pf,h,m);return Nk.f?Nk.f(m):Nk.call(null,m)}k.K=0;k.N=function(m){m=Q(m);return l(m)};k.I=l;return k}()}(a,b,null,c):c,a.lc=c;else return c}}var Jk=new v(null,1,[Wh,!0],null),Pk=new v(null,1,[Dh,function(){var a=this,b=qa(a,"cljsRatom");a.cljsIsDirty=!1;return null==b?Ik(function(){a:{var c=Kk;Kk=a;try{var d=Ok(a);break a}finally{Kk=c}d=void 0}return d},a):b._run(!1)}],null);
function Qk(a,b){switch(a instanceof N?a.Da:null){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getDerivedStateFromProps":return function(c,d){return b.call(null,function(){var e=c.argv;null==e?e=c:(e=ud(e,1,null),e=Nd(e)?e:null);return e}(),d)};case "getInitialState":return function(c){var d=c.Vc;d=null!=d?d:c.Vc=Bk.f(null);return cf(d,b.call(c,c))};case "getSnapshotBeforeUpdate":return function(c,d){return b.call(this,this,Lk(this,c),d)};case "componentWillReceiveProps":return function(c){return b.call(this,
this,Lk(this,c))};case "UNSAFE_componentWillReceiveProps":return function(c){return b.call(this,this,Lk(this,c))};case "shouldComponentUpdate":return function(c){if(w(!1))return!1;var d=this.props.argv,e=c.argv,f=null==d||null==e;if(null==b){if(f)return f;try{return!Oc.j(d,e)}catch(h){return!1}}else return f?b.call(this,this,Lk(this,this.props),Lk(this,c)):b.call(this,this,d,e)};case "componentWillUpdate":return function(c,d){return b.call(this,this,Lk(this,c),d)};case "UNSAFE_componentWillUpdate":return function(c,
d){return b.call(this,this,Lk(this,c),d)};case "componentDidUpdate":return function(c,d,e){return b.call(this,this,Lk(this,c),d,e)};case "componentWillMount":return function(){return b.call(this,this)};case "UNSAFE_componentWillMount":return function(){return b.call(this,this)};case "componentDidMount":return function(){return b.call(this,this)};case "componentWillUnmount":return function(){var c=qa(this,"cljsRatom");null!=c&&Ck(c);this.cljsIsDirty=!1;return null==b?null:b.call(this,this)};case "componentDidCatch":return function(c,
d){return b.call(this,this,c,d)};default:return null}}function Rk(a,b){a=Qk(a,b);return w(a)?a:b}var Sk=new v(null,2,[dj,null,fi,null],null),Tk=function(a){var b=new bf(We);return function(c){var d=J.j(Eb(b),c);if(null!=d)return d;d=a.f?a.f(c):a.call(null,c);df.P(b,vd,c,d);return d}}(function(a){if("string"===typeof a)return a;a=we(a);a=nj(a,/(unsafe|UNSAFE)[-_]/,"UNSAFE_");a=pj(a,/-/);var b=Q(a);a=S(b);b=T(b);return Pe(C,a,ff.j(Yj,b))});
function Uk(a){return ee(function(b,c,d){return vd.C(b,ve.f(Tk(c)),d)},We,a)}function Vk(a){var b=function(){var f=Ji.f(a);return w(f)?f:Dh.f(a)}(),c=null==Ji.f(a),d=function(){var f=Ai.f(a);if(w(f))return f;f=ak(b);return w(f)?f:C.f(th())}(),e=ee(function(f,h,k){return vd.C(f,h,Rk(h,k))},We,a);return vd.I(e,Ai,d,ld([Hi,c,Ji,b,Dh,Dh.f(Pk)]))}function Wk(a){return ee(function(b,c,d){c=we(c);b[c]=d;return b},{},a)}var Pg=new Z(null,5,5,Ue,[Lh,cj,ii,ji,Di],null);
function Xk(a){function b(k,l,m){Vj.Component.call(this,k,l,m);w(h)&&(h.j?h.j(this,k):h.call(null,this,k));w(f)&&(this.state=f.f?f.f(this):f.call(null,this));this.xc=dk+=1;return this}a=Vk(Mg.I(ld([Sk,Uk(a)])));var c=Wk(Se(xd,a,Ai,Sh,Kh,ld([Dh,Ji,Pg]))),d=Wk(Og(a)),e=Ai.f(a),f=Sh.f(a),h=Kh.f(a);ua(b.prototype,Vj.Component.prototype,c);w(Dh.f(a))&&(b.prototype.render=Dh.f(a));w(Ji.f(a))&&(b.prototype.lc=Ji.f(a));w(Hi.f(a))&&(b.prototype.Tc=Hi.f(a));ua(b,Vj.Component,d);w(e)&&(b.displayName=e,b.kb=
e,b.Rb=function(k){return Yb(k,e)});b.Eb=!0;return b.prototype.constructor=b};var Yk=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/,Zk={"class":"className","for":"htmlFor",charset:"charSet"};function $k(a,b){return a.hasOwnProperty(b)?qa(a,b):null}function al(a,b,c){if(bk(b)){var d=$k(Zk,we(b));null==d?(d=Zj(b),b=we(b),b=Zk[b]=d):b=d}c=bl.f?bl.f(c):bl.call(null,c);a[b]=c;return a}
function bl(a){return"object"!==r(a)?a:bk(a)?we(a):Nd(a)?ee(al,{},a):Fd(a)?xh(a):Ud(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new R(f,0,null)}return c.call(this,e)}function c(d){return Oe(a,d)}b.K=0;b.N=function(d){d=Q(d);return c(d)};b.I=c;return b}():xh(a)}var cl={};function dl(a,b,c){if(bk(b)){var d=$k(cl,we(b));null==d?(d=Zj(b),b=we(b),b=cl[b]=d):b=d}c=bl(c);a[b]=c;return a}
function el(a){return"object"!==r(a)?a:bk(a)?we(a):Nd(a)?ee(dl,{},a):Fd(a)?xh(a):Ud(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new R(f,0,null)}return c.call(this,e)}function c(d){return Oe(a,d)}b.K=0;b.N=function(d){d=Q(d);return c(d)};b.I=c;return b}():xh(a)}var fl=null,gl=new Sg(null,new v(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null);
function hl(a,b,c,d){var e=We;e=null!=e&&(e.F&64||u===e.Ca)?Oe(Jg,e):e;e=J.j(e,Vi);if(a===document.activeElement&&Vd(gl,a.type)&&"string"===typeof b&&"string"===typeof c){var f=a.value;if(!Oc.j(f,c))return lk.add_after_render(function(){return il.f?il.f(d):il.call(null,d)});c=W(f)-a.selectionStart;c=W(b)-c;d.Sb=b;a.value=b;yd(e)&&(e.f?e.f(b):e.call(null,b));a.selectionStart=c;return a.selectionEnd=c}d.Sb=b;a.value=b;return yd(e)?e.f?e.f(b):e.call(null,b):null}
function il(a){if(w(a.ic)){a.wc=!1;var b=a.Uc,c=a.Sb,d=fl.f?fl.f(a):fl.call(null,a);return Oc.j(b,c)?null:hl(d,b,c,a)}return null}function jl(a,b,c){a.Sb=c.target.value;w(a.wc)||(a.wc=!0,lk.add_after_render(function(){return il(a)}));return b.f?b.f(c):b.call(null,c)}
function kl(a){var b=Kk;if(w(null!=a?function(){var e=a.hasOwnProperty("onChange");return w(e)?a.hasOwnProperty("value"):e}():!1)){var c=a.value;c=null==c?"":c;var d=a.onChange;w(b.ic)||(b.ic=!0,b.Sb=c);b.Uc=c;delete a.value;a.defaultValue=c;a.onChange=function(e){return jl(b,d,e)}}}var ll=null,nl=new v(null,4,[mi,"ReagentInput",Si,il,pi,function(a){return a.ic=null},$h,function(a,b,c,d){kl(c);return ml.P?ml.P(a,b,c,d):ml.call(null,a,b,c,d)}],null);
function ol(a,b,c,d){this.tag=a;this.id=b;this.className=c;this.Wc=d}function pl(a){if(Nd(a))try{var b=J.j(a,Wi)}catch(c){b=null}else b=null;return b}function ql(a){var b=pl(Cd(a));return null==b?pl(ud(a,1,null)):b}var rl={};
function sl(a,b,c){var d=a.tag,e=ud(b,c,null),f=null==e||Nd(e);e=f?e:null;var h=Gi.f(e);e=w(h)?vd.C(e,Gi,ck.f(h)):e;var k=a.id;h=a.className;k=null!=k&&null==ej.f(e)?vd.C(e,ej,k):e;e=w(h)?vd.C(k,Gi,ck.j(h,Gi.f(e))):k;a=w(a.Wc)?el(e):bl(e);a=w(a)?a:{};c+=f?1:0;a:switch(d){case "input":case "textarea":f=!0;break a;default:f=!1}if(f)return f=Ue,null==ll&&(ll=Xk(nl)),b=Bd(new Z(null,5,5,f,[ll,b,d,a,c],null),Cd(b)),tl.f?tl.f(b):tl.call(null,b);f=pl(Cd(b));null!=f&&(a.key=f);return ml.P?ml.P(b,d,a,c):ml.call(null,
b,d,a,c)}
function ul(a){for(;;){var b=ud(a,0,null);if(se(Xh,b)){b=ud(a,1,null);var c=null==b||Nd(b);b=bl(c?b:null);b=w(b)?b:{};c=1+(c?1:0);var d=ql(a);null!=d&&(b.key=d);return ml.P?ml.P(a,Vj.Fragment,b,c):ml.call(null,a,Vj.Fragment,b,c)}if(bk(b)||"string"===typeof b)switch(b=we(b),c=b.indexOf("\x3e"),c){case -1:c=$k(rl,b);if(null==c){var e=T(ah(Yk,we(b)));c=ud(e,0,null);d=ud(e,1,null);e=ud(e,2,null);e=null==e?null:nj(e,/\./," ");var f=c.indexOf("-");f=!Oc.j(-1,f);c=new ol(c,d,e,f);b=rl[b]=c}else b=c;return sl(b,
a,1);case 0:return b=ud(a,1,null),sl(new ol(b,null,null,null),a,2);default:a=Bd(new Z(null,2,5,Ue,[b.substring(0,c),vd.C(Bd(a,null),0,b.substring(c+1))],null),Cd(a))}else return c=b.yc,null==c?Mk(b)?b=b.yc=b:(c=Cd(b),c=vd.C(c,$h,b),c=Xk(c),b=b.yc=c):b=c,c={},c.argv=a,a=ql(a),null!=a&&(c.key=a),Vj.createElement(b,c)}}
function tl(a){return"object"!==r(a)?a:Pd(a)?ul(a):(null==a?0:null!=a?a.F&64||u===a.Ca||(a.F?0:y(ib,a)):y(ib,a))?vl.f?vl.f(a):vl.call(null,a):bk(a)?we(a):(null!=a?a.F&2147483648||u===a.ma||(a.F?0:y(Zb,a)):y(Zb,a))?nh(ld([a])):a}Nk=tl;function vl(a){return Ta(ff.j(tl,a))}function ml(a,b,c,d){switch(W(a)-d){case 0:return Vj.createElement(b,c);case 1:return Vj.createElement(b,c,tl(ud(a,d,null)));default:return Vj.createElement.apply(null,ee(function(e,f,h){f>=d&&e.push(tl(h));return e},[b,c],a))}};var wl=jj(68,{});function xl(a){return wl.findDOMNode(a)}fl=xl;function Hl(a){a=null!=a&&(a.F&64||u===a.Ca)?Oe(Jg,a):a;var b=J.j(a,zk);return b instanceof N||"string"===typeof b?vd.C(xd.j(a,zk),Fk,function(){var c=ve.f(b);c=c instanceof N?c.Da:null;switch(c){case "debug":return El.Debug;case "info":return El.Info;case "warn":return El.Warn;default:throw Error(["No matching clause: ",C.f(c)].join(""));}}()):a}
function yl(a,b,c){return w(b)?(b=xh(b),c=Hl(Mg.I(ld([new v(null,2,[Fh,li,Ei,"vega-lite"],null),c]))),c=Mg.I(ld([new v(null,1,[Fh,li],null),c])),kj(a,b,xh(c)).catch(function(d){return console.log(d)})):null}var zl=function zl(a){switch(arguments.length){case 1:return zl.f(arguments[0]);case 2:return zl.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",C.f(arguments.length)].join(""));}};zl.f=function(a){return zl.j(a,We)};
zl.j=function(a,b){var c=Mg.I(ld([new v(null,1,[Ei,"vega"],null),b]));return Xk(new v(null,4,[mi,"vega",Ti,function(d){return yl(xl(d),a,c)},yi,function(d,e){ud(e,0,null);var f=ud(e,1,null);e=ud(e,2,null);return yl(xl(d),f,e)},$h,function(){return new Z(null,1,5,Ue,[Th],null)}],null))};zl.K=2;var Al=function Al(a){switch(arguments.length){case 1:return Al.f(arguments[0]);case 2:return Al.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",C.f(arguments.length)].join(""));}};
Al.f=function(a){return Al.j(a,We)};Al.j=function(a,b){return zl.j(a,Mg.I(ld([b,new v(null,1,[Ei,"vega-lite"],null)])))};Al.K=2;var Bl=Bk.f(new v(null,2,[Nh,zl,Ph,Al],null)),Cl=new v(null,4,[oi,50,Ii,We,zi,new v(null,1,[aj,10],null),Qh,new v(null,2,[aj,10,Ki,Oi],null)],null),Dl=function Dl(a){switch(arguments.length){case 1:return Dl.f(arguments[0]);case 2:return Dl.j(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",C.f(arguments.length)].join(""));}};
Dl.f=function(a){return Dl.j(a,We)};
Dl.j=function(a,b){var c=null!=b&&(b.F&64||u===b.Ca)?Oe(Jg,b):b,d=J.j(c,Mi),e=J.j(c,Fi),f=J.j(c,Uh),h=Bk.f(new v(null,3,[Mi,w(d)?d:0,Fi,e,Uh,w(f)?f:Pi],null)),k=de(ok,ff.j($e.j(Xg,bg),gf.j(10,a)));return function(l,m){var n=Eb(h),p=null!=n&&(n.F&64||u===n.Ca)?Oe(Jg,n):n,t=J.j(p,Mi),x=J.j(p,Fi),F=J.j(p,Uh),G=Ng(function(q,B){return Nd(q)&&Nd(B)?Mg.I(ld([q,B])):B},ld([Cl,m])),P=null!=G&&(G.F&64||u===G.Ca)?Oe(Jg,G):G,X=J.j(P,oi),fa=J.j(P,Ii),ra=J.j(P,zi),xa=J.j(P,Qh),Ia=function(){var q=w(x)?ae(x,l):
l;q=Oc.j(Ih,F)?le(q):q;q=w(X)?hf(X*t,q):q;return w(X)?gf.j(X,q):q}(),sa=ie(W(l),X);return new Z(null,3,5,Ue,[ki,W(l)>X?new Z(null,5,5,Ue,[gi,new v(null,1,[ri,new v(null,1,[ni,10],null)],null),new Z(null,4,5,Ue,[vi,new v(null,1,[ri,new v(null,1,[aj,20],null)],null),"Current page: ",t+1],null),0<t?new Z(null,3,5,Ue,[di,new v(null,2,[Oh,function(){function q(D){var A=null;if(0<arguments.length){A=0;for(var E=Array(arguments.length-0);A<E.length;)E[A]=arguments[A+0],++A;A=new R(E,0,null)}return B.call(this,
A)}function B(){return df.P(h,nf,Mi,he)}q.K=0;q.N=function(D){D=Q(D);return B(D)};q.I=B;return q}(),ri,new v(null,2,[aj,10,Ki,Oi],null)],null),"prev"],null):null,t<sa?new Z(null,3,5,Ue,[di,new v(null,2,[Oh,function(){function q(D){var A=null;if(0<arguments.length){A=0;for(var E=Array(arguments.length-0);A<E.length;)E[A]=arguments[A+0],++A;A=new R(E,0,null)}return B.call(this,A)}function B(){return df.P(h,nf,Mi,Wc)}q.K=0;q.N=function(D){D=Q(D);return B(D)};q.I=B;return q}(),ri,new v(null,2,[aj,10,
Ki,Oi],null)],null),"next"],null):null],null):null,new Z(null,3,5,Ue,[Bh,new Z(null,3,5,Ue,[ci,new v(null,1,[ri,fa],null),function(){return function D(B){return new xe(null,function(){for(;;){var A=Q(B);if(A){var E=A;if(Qd(E)){var H=mc(E),I=W(H),M=Be(I);return function(){for(var K=0;;)if(K<I){var V=gb(H,K);Ee(M,Bd(new Z(null,4,5,Ue,[bi,new v(null,2,[ri,xa,Oh,function(Y,ba,ka,ma,pa,va,za,Ha,$a,vb,Ib,qf,ne,Hd,ac,Qb,uc,pb,qb,bc,Ug){return function(){function Id(Jd){var vc=null;if(0<arguments.length){vc=
0;for(var oe=Array(arguments.length-0);vc<oe.length;)oe[vc]=arguments[vc+0],++vc;vc=new R(oe,0,null)}return pe.call(this,vc)}function pe(){return df.C(Ug,Mg,new v(null,2,[Fi,ba,Uh,Oc.j(ba,Ib)&&Oc.j(qf,Pi)?Ih:Pi],null))}Id.K=0;Id.N=function(Jd){Jd=Q(Jd);return pe(Jd)};Id.I=pe;return Id}()}(K,V,H,I,M,E,A,n,p,t,x,F,G,P,X,fa,ra,xa,Ia,sa,h,k,b,c,d,e,f)],null),we(V),Oc.j(x,V)?function(){var Y=F instanceof N?F.Da:null;switch(Y){case "ascending":return"⌃";case "descending":return"⌄";default:throw Error(["No matching clause: ",
C.f(Y)].join(""));}}():null],null),new v(null,1,[Wi,V],null)));K+=1}else return!0}()?De(M.ra(),D(nc(E))):De(M.ra(),null)}var O=S(E);return kd(Bd(new Z(null,4,5,Ue,[bi,new v(null,2,[ri,xa,Oh,function(K,V,Y,ba,ka,ma,pa,va,za,Ha,$a,vb,Ib,qf,ne,Hd,ac){return function(){function Qb(pb){var qb=null;if(0<arguments.length){qb=0;for(var bc=Array(arguments.length-0);qb<bc.length;)bc[qb]=arguments[qb+0],++qb;qb=new R(bc,0,null)}return uc.call(this,qb)}function uc(){return df.C(ac,Mg,new v(null,2,[Fi,K,Uh,Oc.j(K,
pa)&&Oc.j(va,Pi)?Ih:Pi],null))}Qb.K=0;Qb.N=function(pb){pb=Q(pb);return uc(pb)};Qb.I=uc;return Qb}()}(O,E,A,n,p,t,x,F,G,P,X,fa,ra,xa,Ia,sa,h,k,b,c,d,e,f)],null),we(O),Oc.j(x,O)?function(){var K=F instanceof N?F.Da:null;switch(K){case "ascending":return"⌃";case "descending":return"⌄";default:throw Error(["No matching clause: ",C.f(K)].join(""));}}():null],null),new v(null,1,[Wi,O],null)),D(Mc(E)))}return null}},null)}(k)}()],null),function(){return function D(B){return new xe(null,function(){for(;;){var A=
Q(B);if(A){var E=A;if(Qd(E)){var H=mc(E),I=W(H),M=Be(I);return function(){for(var K=0;;)if(K<I){var V=gb(H,K);Ee(M,Bd(new Z(null,3,5,Ue,[ci,new v(null,1,[ri,fa],null),function(){return function(Y,ba,ka,ma,pa,va,za,Ha,$a,vb,Ib,qf,ne,Hd,ac,Qb,uc,pb,qb,bc,Ug,Id,pe,Jd,vc,oe,Fl){return function zj(Gl){return new xe(null,function(Il,Aj,Jl,Kl,Ll,Ml,Nl,Ol,Pl,Ql,Rl,Sl,Tl,Ul,Vl,Wl,Bj){return function(){for(;;){var Kd=Q(Gl);if(Kd){if(Qd(Kd)){var rf=mc(Kd),Cj=W(rf),Ld=Be(Cj);a:for(var Vg=0;;)if(Vg<Cj){var sf=
gb(rf,Vg);sf=Bd(new Z(null,3,5,Ue,[hi,new v(null,1,[ri,Bj],null),J.j(Aj,sf)],null),new v(null,1,[Wi,sf],null));Ld.add(sf);Vg+=1}else{rf=!0;break a}return rf?De(Ld.ra(),zj(nc(Kd))):De(Ld.ra(),null)}Ld=S(Kd);return kd(Bd(new Z(null,3,5,Ue,[hi,new v(null,1,[ri,Bj],null),J.j(Aj,Ld)],null),new v(null,1,[Wi,Ld],null)),zj(Mc(Kd)))}return null}}}(Y,ba,ka,ma,pa,va,za,Ha,$a,vb,Ib,qf,ne,Hd,ac,Qb,uc,pb,qb,bc,Ug,Id,pe,Jd,vc,oe,Fl),null)}}(K,V,H,I,M,E,A,n,p,t,x,F,G,P,X,fa,ra,xa,Ia,sa,h,k,b,c,d,e,f)(k)}()],null),
new v(null,1,[Wi,Fc(V)],null)));K+=1}else return!0}()?De(M.ra(),D(nc(E))):De(M.ra(),null)}var O=S(E);return kd(Bd(new Z(null,3,5,Ue,[ci,new v(null,1,[ri,fa],null),function(){return function(K,V,Y,ba,ka,ma,pa,va,za,Ha,$a,vb,Ib){return function Hd(ne){return new xe(null,function(){for(;;){var ac=Q(ne);if(ac){if(Qd(ac)){var Qb=mc(ac),uc=W(Qb),pb=Be(uc);a:for(var qb=0;;)if(qb<uc){var bc=gb(Qb,qb);bc=Bd(new Z(null,3,5,Ue,[hi,new v(null,1,[ri,Ib],null),J.j(K,bc)],null),new v(null,1,[Wi,bc],null));pb.add(bc);
qb+=1}else{Qb=!0;break a}return Qb?De(pb.ra(),Hd(nc(ac))):De(pb.ra(),null)}pb=S(ac);return kd(Bd(new Z(null,3,5,Ue,[hi,new v(null,1,[ri,Ib],null),J.j(K,pb)],null),new v(null,1,[Wi,pb],null)),Hd(Mc(ac)))}return null}},null)}}(O,E,A,n,p,t,x,F,G,P,X,fa,ra,xa,Ia,sa,h,k,b,c,d,e,f)(k)}()],null),new v(null,1,[Wi,Fc(O)],null)),D(Mc(E)))}return null}},null)}(Ia)}()],null)],null)}};Dl.K=2;var Xl=ld([Nh,zl,Ph,Al,Yh,Dl]),Ek=null!=Xl&&(Xl.F&64||u===Xl.Ca)?Oe(Jg,Xl):Xl;df.C(Bl,Mg,Ek);
}).call(this);