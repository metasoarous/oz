var shadow$provide = {};
(function(){
shadow$provide[0]=function($c,Vb,Pc,Cb){var k=Object.getOwnPropertySymbols,q=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;Pc.exports=function(){try{if(!Object.assign)return!1;var Ma=new String("abc");Ma[5]="de";if("5"===Object.getOwnPropertyNames(Ma)[0])return!1;var Fb={};for(Ma=0;10>Ma;Ma++)Fb["_"+String.fromCharCode(Ma)]=Ma;if("0123456789"!==Object.getOwnPropertyNames(Fb).map(function(db){return Fb[db]}).join(""))return!1;var Ja={};"abcdefghijklmnopqrst".split("").forEach(function(db){Ja[db]=
db});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},Ja)).join("")?!1:!0}catch(db){return!1}}()?Object.assign:function(Ma,Fb){if(null===Ma||void 0===Ma)throw new TypeError("Object.assign cannot be called with null or undefined");var Ja=Object(Ma);for(var db,Bb=1;Bb<arguments.length;Bb++){var jb=Object(arguments[Bb]);for(var Ea in jb)q.call(jb,Ea)&&(Ja[Ea]=jb[Ea]);if(k){db=k(jb);for(var ab=0;ab<db.length;ab++)R.call(jb,db[ab])&&(Ja[db[ab]]=jb[db[ab]])}}return Ja}};
shadow$provide[1]=function($c,Vb,Pc,Cb){function k(P){for(var N="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+P,Y=1;Y<arguments.length;Y++)N+="\x26args[]\x3d"+encodeURIComponent(arguments[Y]);return"Minified React error #"+P+"; visit "+N+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function q(P,N,Y){this.props=P;this.context=N;this.refs=Va;this.updater=Y||Ha}function R(){}function Ma(P,N,Y){this.props=P;this.context=
N;this.refs=Va;this.updater=Y||Ha}function Fb(P,N,Y){var ua,Ga={},G=null,ca=null;if(null!=N)for(ua in void 0!==N.ref&&(ca=N.ref),void 0!==N.key&&(G=""+N.key),N)E.call(N,ua)&&!w.hasOwnProperty(ua)&&(Ga[ua]=N[ua]);var ba=arguments.length-2;if(1===ba)Ga.children=Y;else if(1<ba){for(var V=Array(ba),H=0;H<ba;H++)V[H]=arguments[H+2];Ga.children=V}if(P&&P.defaultProps)for(ua in ba=P.defaultProps,ba)void 0===Ga[ua]&&(Ga[ua]=ba[ua]);return{$$typeof:Ta,type:P,key:G,ref:ca,props:Ga,_owner:Fa.current}}function Ja(P,
N){return{$$typeof:Ta,type:P.type,key:N,ref:P.ref,props:P.props,_owner:P._owner}}function db(P){return"object"===typeof P&&null!==P&&P.$$typeof===Ta}function Bb(P){var N={"\x3d":"\x3d0",":":"\x3d2"};return"$"+(""+P).replace(/[=:]/g,function(Y){return N[Y]})}function jb(P,N,Y,ua){if(Z.length){var Ga=Z.pop();Ga.result=P;Ga.keyPrefix=N;Ga.func=Y;Ga.context=ua;Ga.count=0;return Ga}return{result:P,keyPrefix:N,func:Y,context:ua,count:0}}function Ea(P){P.result=null;P.keyPrefix=null;P.func=null;P.context=
null;P.count=0;10>Z.length&&Z.push(P)}function ab(P,N,Y,ua){var Ga=typeof P;if("undefined"===Ga||"boolean"===Ga)P=null;var G=!1;if(null===P)G=!0;else switch(Ga){case "string":case "number":G=!0;break;case "object":switch(P.$$typeof){case Ta:case ta:G=!0}}if(G)return Y(ua,P,""===N?"."+Ca(P,0):N),1;G=0;N=""===N?".":N+":";if(Array.isArray(P))for(var ca=0;ca<P.length;ca++){Ga=P[ca];var ba=N+Ca(Ga,ca);G+=ab(Ga,ba,Y,ua)}else if(null===P||"object"!==typeof P?ba=null:(ba=Oa&&P[Oa]||P["@@iterator"],ba="function"===
typeof ba?ba:null),"function"===typeof ba)for(P=ba.call(P),ca=0;!(Ga=P.next()).done;)Ga=Ga.value,ba=N+Ca(Ga,ca++),G+=ab(Ga,ba,Y,ua);else if("object"===Ga)throw Y=""+P,Error(k(31,"[object Object]"===Y?"object with keys {"+Object.keys(P).join(", ")+"}":Y,""));return G}function bb(P,N,Y){return null==P?0:ab(P,"",N,Y)}function Ca(P,N){return"object"===typeof P&&null!==P&&null!=P.key?Bb(P.key):N.toString(36)}function ma(P,N){P.func.call(P.context,N,P.count++)}function oa(P,N,Y){var ua=P.result,Ga=P.keyPrefix;
P=P.func.call(P.context,N,P.count++);Array.isArray(P)?Ia(P,ua,Y,function(G){return G}):null!=P&&(db(P)&&(P=Ja(P,Ga+(!P.key||N&&N.key===P.key?"":(""+P.key).replace(F,"$\x26/")+"/")+Y)),ua.push(P))}function Ia(P,N,Y,ua,Ga){var G="";null!=Y&&(G=(""+Y).replace(F,"$\x26/")+"/");N=jb(N,G,ua,Ga);bb(P,oa,N);Ea(N)}function Ua(){var P=D.current;if(null===P)throw Error(k(321));return P}var na=Vb(0),qa="function"===typeof Symbol&&Symbol.for,Ta=qa?Symbol.for("react.element"):60103,ta=qa?Symbol.for("react.portal"):
60106;$c=qa?Symbol.for("react.fragment"):60107;Vb=qa?Symbol.for("react.strict_mode"):60108;Pc=qa?Symbol.for("react.profiler"):60114;var Qa=qa?Symbol.for("react.provider"):60109,va=qa?Symbol.for("react.context"):60110,S=qa?Symbol.for("react.forward_ref"):60112,la=qa?Symbol.for("react.suspense"):60113,wa=qa?Symbol.for("react.memo"):60115,Da=qa?Symbol.for("react.lazy"):60116,Oa="function"===typeof Symbol&&Symbol.iterator,Ha={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},
enqueueSetState:function(){}},Va={};q.prototype.isReactComponent={};q.prototype.setState=function(P,N){if("object"!==typeof P&&"function"!==typeof P&&null!=P)throw Error(k(85));this.updater.enqueueSetState(this,P,N,"setState")};q.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};R.prototype=q.prototype;qa=Ma.prototype=new R;qa.constructor=Ma;na(qa,q.prototype);qa.isPureReactComponent=!0;var Fa={current:null},E=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,
__self:!0,__source:!0},F=/\/+/g,Z=[],D={current:null};qa={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:Fa,IsSomeRendererActing:{current:!1},assign:na};Cb.Children={map:function(P,N,Y){if(null==P)return P;var ua=[];Ia(P,ua,null,N,Y);return ua},forEach:function(P,N,Y){if(null==P)return P;N=jb(null,null,N,Y);bb(P,ma,N);Ea(N)},count:function(P){return bb(P,function(){return null},null)},toArray:function(P){var N=[];Ia(P,N,null,function(Y){return Y});return N},only:function(P){if(!db(P))throw Error(k(143));
return P}};Cb.Component=q;Cb.Fragment=$c;Cb.Profiler=Pc;Cb.PureComponent=Ma;Cb.StrictMode=Vb;Cb.Suspense=la;Cb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qa;Cb.cloneElement=function(P,N,Y){if(null===P||void 0===P)throw Error(k(267,P));var ua=na({},P.props),Ga=P.key,G=P.ref,ca=P._owner;if(null!=N){void 0!==N.ref&&(G=N.ref,ca=Fa.current);void 0!==N.key&&(Ga=""+N.key);if(P.type&&P.type.defaultProps)var ba=P.type.defaultProps;for(V in N)E.call(N,V)&&!w.hasOwnProperty(V)&&(ua[V]=void 0===N[V]&&
void 0!==ba?ba[V]:N[V])}var V=arguments.length-2;if(1===V)ua.children=Y;else if(1<V){ba=Array(V);for(var H=0;H<V;H++)ba[H]=arguments[H+2];ua.children=ba}return{$$typeof:Ta,type:P.type,key:Ga,ref:G,props:ua,_owner:ca}};Cb.createContext=function(P,N){void 0===N&&(N=null);P={$$typeof:va,_calculateChangedBits:N,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null};P.Provider={$$typeof:Qa,_context:P};return P.Consumer=P};Cb.createElement=Fb;Cb.createFactory=function(P){var N=Fb.bind(null,
P);N.type=P;return N};Cb.createRef=function(){return{current:null}};Cb.forwardRef=function(P){return{$$typeof:S,render:P}};Cb.isValidElement=db;Cb.lazy=function(P){return{$$typeof:Da,_ctor:P,_status:-1,_result:null}};Cb.memo=function(P,N){return{$$typeof:wa,type:P,compare:void 0===N?null:N}};Cb.useCallback=function(P,N){return Ua().useCallback(P,N)};Cb.useContext=function(P,N){return Ua().useContext(P,N)};Cb.useDebugValue=function(){};Cb.useEffect=function(P,N){return Ua().useEffect(P,N)};Cb.useImperativeHandle=
function(P,N,Y){return Ua().useImperativeHandle(P,N,Y)};Cb.useLayoutEffect=function(P,N){return Ua().useLayoutEffect(P,N)};Cb.useMemo=function(P,N){return Ua().useMemo(P,N)};Cb.useReducer=function(P,N,Y){return Ua().useReducer(P,N,Y)};Cb.useRef=function(P){return Ua().useRef(P)};Cb.useState=function(P){return Ua().useState(P)};Cb.version="16.13.1"};
shadow$provide[5]=function($c,Vb,Pc,Cb){Pc.exports=Vb(1)};
shadow$provide[6]=function($c,Vb,Pc,Cb){function k(D,P){var N=D.length;D.push(P);a:for(;;){var Y=N-1>>>1,ua=D[Y];if(void 0!==ua&&0<Ma(ua,P))D[Y]=P,D[N]=ua,N=Y;else break a}}function q(D){D=D[0];return void 0===D?null:D}function R(D){var P=D[0];if(void 0!==P){var N=D.pop();if(N!==P){D[0]=N;var Y=0,ua=D.length;a:for(;Y<ua;){var Ga=2*(Y+1)-1,G=D[Ga],ca=Ga+1,ba=D[ca];if(void 0!==G&&0>Ma(G,N))void 0!==ba&&0>Ma(ba,G)?(D[Y]=ba,D[ca]=N,Y=ca):(D[Y]=G,D[Ga]=N,Y=Ga);else if(void 0!==ba&&0>Ma(ba,N))D[Y]=ba,D[ca]=
N,Y=ca;else break a}}return P}return null}function Ma(D,P){var N=D.sortIndex-P.sortIndex;return 0!==N?N:D.id-P.id}function Fb(D){for(var P=q(Ha);null!==P;){if(null===P.callback)R(Ha);else if(P.startTime<=D)R(Ha),P.sortIndex=P.expirationTime,k(Oa,P);else break;P=q(Ha)}}function Ja(D){Z=!1;Fb(D);if(!F)if(null!==q(Oa))F=!0,Ca(db);else{var P=q(Ha);null!==P&&ma(Ja,P.startTime-D)}}function db(D,P){F=!1;Z&&(Z=!1,oa());w=!0;var N=E;try{Fb(P);for(Fa=q(Oa);null!==Fa&&(!(Fa.expirationTime>P)||D&&!Ia());){var Y=
Fa.callback;if(null!==Y){Fa.callback=null;E=Fa.priorityLevel;var ua=Y(Fa.expirationTime<=P);P=Cb.unstable_now();"function"===typeof ua?Fa.callback=ua:Fa===q(Oa)&&R(Oa);Fb(P)}else R(Oa);Fa=q(Oa)}if(null!==Fa)var Ga=!0;else{var G=q(Ha);null!==G&&ma(Ja,G.startTime-P);Ga=!1}return Ga}finally{Fa=null,E=N,w=!1}}function Bb(D){switch(D){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1E4;default:return 5E3}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var jb=
null,Ea=null,ab=function(){if(null!==jb)try{var D=Cb.unstable_now();jb(!0,D);jb=null}catch(P){throw setTimeout(ab,0),P;}},bb=Date.now();Cb.unstable_now=function(){return Date.now()-bb};var Ca=function(D){null!==jb?setTimeout(Ca,0,D):(jb=D,setTimeout(ab,0))};var ma=function(D,P){Ea=setTimeout(D,P)};var oa=function(){clearTimeout(Ea)};var Ia=function(){return!1};$c=Cb.unstable_forceFrameRate=function(){}}else{var Ua=window.performance,na=window.Date,qa=window.setTimeout,Ta=window.clearTimeout;"undefined"!==
typeof console&&($c=window.cancelAnimationFrame,"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof $c&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));if("object"===typeof Ua&&"function"===typeof Ua.now)Cb.unstable_now=function(){return Ua.now()};
else{var ta=na.now();Cb.unstable_now=function(){return na.now()-ta}}var Qa=!1,va=null,S=-1,la=5,wa=0;Ia=function(){return Cb.unstable_now()>=wa};$c=function(){};Cb.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):la=0<D?Math.floor(1E3/D):5};Vb=new MessageChannel;var Da=Vb.port2;Vb.port1.onmessage=function(){if(null!==va){var D=Cb.unstable_now();wa=D+la;try{va(!0,D)?Da.postMessage(null):
(Qa=!1,va=null)}catch(P){throw Da.postMessage(null),P;}}else Qa=!1};Ca=function(D){va=D;Qa||(Qa=!0,Da.postMessage(null))};ma=function(D,P){S=qa(function(){D(Cb.unstable_now())},P)};oa=function(){Ta(S);S=-1}}var Oa=[],Ha=[],Va=1,Fa=null,E=3,w=!1,F=!1,Z=!1;Cb.unstable_IdlePriority=5;Cb.unstable_ImmediatePriority=1;Cb.unstable_LowPriority=4;Cb.unstable_NormalPriority=3;Cb.unstable_Profiling=null;Cb.unstable_UserBlockingPriority=2;Cb.unstable_cancelCallback=function(D){D.callback=null};Cb.unstable_continueExecution=
function(){F||w||(F=!0,Ca(db))};Cb.unstable_getCurrentPriorityLevel=function(){return E};Cb.unstable_getFirstCallbackNode=function(){return q(Oa)};Cb.unstable_next=function(D){switch(E){case 1:case 2:case 3:var P=3;break;default:P=E}var N=E;E=P;try{return D()}finally{E=N}};Cb.unstable_pauseExecution=function(){};Cb.unstable_requestPaint=$c;Cb.unstable_runWithPriority=function(D,P){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var N=E;E=D;try{return P()}finally{E=N}};Cb.unstable_scheduleCallback=
function(D,P,N){var Y=Cb.unstable_now();if("object"===typeof N&&null!==N){var ua=N.delay;ua="number"===typeof ua&&0<ua?Y+ua:Y;N="number"===typeof N.timeout?N.timeout:Bb(D)}else N=Bb(D),ua=Y;N=ua+N;D={id:Va++,callback:P,priorityLevel:D,startTime:ua,expirationTime:N,sortIndex:-1};ua>Y?(D.sortIndex=ua,k(Ha,D),null===q(Oa)&&D===q(Ha)&&(Z?oa():Z=!0,ma(Ja,ua-Y))):(D.sortIndex=N,k(Oa,D),F||w||(F=!0,Ca(db)));return D};Cb.unstable_shouldYield=function(){var D=Cb.unstable_now();Fb(D);var P=q(Oa);return P!==
Fa&&null!==Fa&&null!==P&&null!==P.callback&&P.startTime<=D&&P.expirationTime<Fa.expirationTime||Ia()};Cb.unstable_wrapCallback=function(D){var P=E;return function(){var N=E;E=P;try{return D.apply(this,arguments)}finally{E=N}}}};
shadow$provide[8]=function($c,Vb,Pc,Cb){Pc.exports=Vb(6)};
shadow$provide[9]=function($c,Vb,Pc,Cb){function k(c){for(var e="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+c,r=1;r<arguments.length;r++)e+="\x26args[]\x3d"+encodeURIComponent(arguments[r]);return"Minified React error #"+c+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function q(c,e,r,K,fa,eb,pb,Qb,Hc){var Bc=Array.prototype.slice.call(arguments,3);try{e.apply(r,Bc)}catch(sd){this.onError(sd)}}function R(c,
e,r,K,fa,eb,pb,Qb,Hc){zh=!1;Ah=null;q.apply(ok,arguments)}function Ma(c,e,r,K,fa,eb,pb,Qb,Hc){R.apply(this,arguments);if(zh){if(zh){var Bc=Ah;zh=!1;Ah=null}else throw Error(k(198));Bh||(Bh=!0,uj=Bc)}}function Fb(c,e,r){var K=c.type||"unknown-event";c.currentTarget=eh(r);Ma(K,e,void 0,c);c.currentTarget=null}function Ja(){if(Ki)for(var c in Ch){var e=Ch[c],r=Ki.indexOf(c);if(!(-1<r))throw Error(k(96,c));if(!Li[r]){if(!e.extractEvents)throw Error(k(97,c));Li[r]=e;r=e.eventTypes;for(var K in r){var fa=
void 0,eb=r[K],pb=e,Qb=K;if(vj.hasOwnProperty(Qb))throw Error(k(99,Qb));vj[Qb]=eb;var Hc=eb.phasedRegistrationNames;if(Hc){for(fa in Hc)Hc.hasOwnProperty(fa)&&db(Hc[fa],pb,Qb);fa=!0}else eb.registrationName?(db(eb.registrationName,pb,Qb),fa=!0):fa=!1;if(!fa)throw Error(k(98,K,c));}}}}function db(c,e,r){if(fh[c])throw Error(k(100,c));fh[c]=e;wj[c]=e.eventTypes[r].dependencies}function Bb(c){var e=!1,r;for(r in c)if(c.hasOwnProperty(r)){var K=c[r];if(!Ch.hasOwnProperty(r)||Ch[r]!==K){if(Ch[r])throw Error(k(102,
r));Ch[r]=K;e=!0}}e&&Ja()}function jb(c){if(c=di(c)){if("function"!==typeof xj)throw Error(k(280));var e=c.stateNode;e&&(e=Mi(e),xj(c.stateNode,c.type,e))}}function Ea(c){gh?hh?hh.push(c):hh=[c]:gh=c}function ab(){if(gh){var c=gh,e=hh;hh=gh=null;jb(c);if(e)for(c=0;c<e.length;c++)jb(e[c])}}function bb(c,e){return c(e)}function Ca(c,e,r,K,fa){return c(e,r,K,fa)}function ma(){}function oa(){if(null!==gh||null!==hh)ma(),ab()}function Ia(c,e,r){if(ei)return c(e,r);ei=!0;try{return Qg(c,e,r)}finally{ei=
!1,oa()}}function Ua(c){if(pk.call(wg,c))return!0;if(pk.call(fi,c))return!1;if(qg.test(c))return wg[c]=!0;fi[c]=!0;return!1}function na(c,e,r,K){if(null!==r&&0===r.type)return!1;switch(typeof e){case "function":case "symbol":return!0;case "boolean":if(K)return!1;if(null!==r)return!r.acceptsBooleans;c=c.toLowerCase().slice(0,5);return"data-"!==c&&"aria-"!==c;default:return!1}}function qa(c,e,r,K){if(null===e||"undefined"===typeof e||na(c,e,r,K))return!0;if(K)return!1;if(null!==r)switch(r.type){case 3:return!e;
case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ta(c,e,r,K,fa,eb){this.acceptsBooleans=2===e||3===e||4===e;this.attributeName=K;this.attributeNamespace=fa;this.mustUseProperty=r;this.propertyName=c;this.type=e;this.sanitizeURL=eb}function ta(c){return c[1].toUpperCase()}function Qa(c,e,r,K){var fa=Ef.hasOwnProperty(e)?Ef[e]:null;(null!==fa?0===fa.type:K?0:2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1]))||(qa(e,r,fa,K)&&(r=null),K||null===fa?
Ua(e)&&(null===r?c.removeAttribute(e):c.setAttribute(e,""+r)):fa.mustUseProperty?c[fa.propertyName]=null===r?3===fa.type?!1:"":r:(e=fa.attributeName,K=fa.attributeNamespace,null===r?c.removeAttribute(e):(fa=fa.type,r=3===fa||4===fa&&!0===r?"":""+r,K?c.setAttributeNS(K,e,r):c.setAttribute(e,r))))}function va(c){if(null===c||"object"!==typeof c)return null;c=Ve&&c[Ve]||c["@@iterator"];return"function"===typeof c?c:null}function S(c){if(-1===c._status){c._status=0;var e=c._ctor;e=e();c._result=e;e.then(function(r){0===
c._status&&(r=r.default,c._status=1,c._result=r)},function(r){0===c._status&&(c._status=2,c._result=r)})}}function la(c){if(null==c)return null;if("function"===typeof c)return c.displayName||c.name||null;if("string"===typeof c)return c;switch(c){case Rg:return"Fragment";case Sg:return"Portal";case gi:return"Profiler";case Ni:return"StrictMode";case hi:return"Suspense";case ii:return"SuspenseList"}if("object"===typeof c)switch(c.$$typeof){case yj:return"Context.Consumer";case qk:return"Context.Provider";
case Oi:var e=c.render;e=e.displayName||e.name||"";return c.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case ih:return la(c.type);case zj:return la(c.render);case Aj:if(c=1===c._status?c._result:null)return la(c)}return null}function wa(c){var e="";do{a:switch(c.tag){case 3:case 4:case 6:case 7:case 10:case 9:var r="";break a;default:var K=c._debugOwner,fa=c._debugSource,eb=la(c.type);r=null;K&&(r=la(K.type));K=eb;eb="";fa?eb=" (at "+fa.fileName.replace(ji,"")+":"+fa.lineNumber+")":r&&
(eb=" (created by "+r+")");r="\n    in "+(K||"Unknown")+eb}e+=r;c=c.return}while(c);return e}function Da(c){switch(typeof c){case "boolean":case "number":case "object":case "string":case "undefined":return c;default:return""}}function Oa(c){var e=c.type;return(c=c.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===e||"radio"===e)}function Ha(c){var e=Oa(c)?"checked":"value",r=Object.getOwnPropertyDescriptor(c.constructor.prototype,e),K=""+c[e];if(!c.hasOwnProperty(e)&&"undefined"!==typeof r&&"function"===
typeof r.get&&"function"===typeof r.set){var fa=r.get,eb=r.set;Object.defineProperty(c,e,{configurable:!0,get:function(){return fa.call(this)},set:function(pb){K=""+pb;eb.call(this,pb)}});Object.defineProperty(c,e,{enumerable:r.enumerable});return{getValue:function(){return K},setValue:function(pb){K=""+pb},stopTracking:function(){c._valueTracker=null;delete c[e]}}}}function Va(c){c._valueTracker||(c._valueTracker=Ha(c))}function Fa(c){if(!c)return!1;var e=c._valueTracker;if(!e)return!0;var r=e.getValue(),
K="";c&&(K=Oa(c)?c.checked?"true":"false":c.value);c=K;return c!==r?(e.setValue(c),!0):!1}function E(c,e){var r=e.checked;return Kf({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:c._wrapperState.initialChecked})}function w(c,e){var r=null==e.defaultValue?"":e.defaultValue,K=null!=e.checked?e.checked:e.defaultChecked;r=Da(null!=e.value?e.value:r);c._wrapperState={initialChecked:K,initialValue:r,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}
function F(c,e){e=e.checked;null!=e&&Qa(c,"checked",e,!1)}function Z(c,e){F(c,e);var r=Da(e.value),K=e.type;if(null!=r)if("number"===K){if(0===r&&""===c.value||c.value!=r)c.value=""+r}else c.value!==""+r&&(c.value=""+r);else if("submit"===K||"reset"===K){c.removeAttribute("value");return}e.hasOwnProperty("value")?P(c,e.type,r):e.hasOwnProperty("defaultValue")&&P(c,e.type,Da(e.defaultValue));null==e.checked&&null!=e.defaultChecked&&(c.defaultChecked=!!e.defaultChecked)}function D(c,e,r){if(e.hasOwnProperty("value")||
e.hasOwnProperty("defaultValue")){var K=e.type;if(!("submit"!==K&&"reset"!==K||void 0!==e.value&&null!==e.value))return;e=""+c._wrapperState.initialValue;r||e===c.value||(c.value=e);c.defaultValue=e}r=c.name;""!==r&&(c.name="");c.defaultChecked=!!c._wrapperState.initialChecked;""!==r&&(c.name=r)}function P(c,e,r){if("number"!==e||c.ownerDocument.activeElement!==c)null==r?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+r&&(c.defaultValue=""+r)}function N(c){var e="";Pi.Children.forEach(c,
function(r){null!=r&&(e+=r)});return e}function Y(c,e){c=Kf({children:void 0},e);if(e=N(e.children))c.children=e;return c}function ua(c,e,r,K){c=c.options;if(e){e={};for(var fa=0;fa<r.length;fa++)e["$"+r[fa]]=!0;for(r=0;r<c.length;r++)fa=e.hasOwnProperty("$"+c[r].value),c[r].selected!==fa&&(c[r].selected=fa),fa&&K&&(c[r].defaultSelected=!0)}else{r=""+Da(r);e=null;for(fa=0;fa<c.length;fa++){if(c[fa].value===r){c[fa].selected=!0;K&&(c[fa].defaultSelected=!0);return}null!==e||c[fa].disabled||(e=c[fa])}null!==
e&&(e.selected=!0)}}function Ga(c,e){if(null!=e.dangerouslySetInnerHTML)throw Error(k(91));return Kf({},e,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function G(c,e){var r=e.value;if(null==r){r=e.children;e=e.defaultValue;if(null!=r){if(null!=e)throw Error(k(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(k(93));r=r[0]}e=r}null==e&&(e="");r=e}c._wrapperState={initialValue:Da(r)}}function ca(c,e){var r=Da(e.value),K=Da(e.defaultValue);null!=r&&(r=""+r,r!==c.value&&
(c.value=r),null==e.defaultValue&&c.defaultValue!==r&&(c.defaultValue=r));null!=K&&(c.defaultValue=""+K)}function ba(c){var e=c.textContent;e===c._wrapperState.initialValue&&""!==e&&null!==e&&(c.value=e)}function V(c){switch(c){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function H(c,e){return null==c||"http://www.w3.org/1999/xhtml"===c?V(e):"http://www.w3.org/2000/svg"===c&&"foreignObject"===e?
"http://www.w3.org/1999/xhtml":c}function p(c,e){if(e){var r=c.firstChild;if(r&&r===c.lastChild&&3===r.nodeType){r.nodeValue=e;return}}c.textContent=e}function h(c,e){var r={};r[c.toLowerCase()]=e.toLowerCase();r["Webkit"+c]="webkit"+e;r["Moz"+c]="moz"+e;return r}function m(c){if(Qi[c])return Qi[c];if(!df[c])return c;var e=df[c],r;for(r in e)if(e.hasOwnProperty(r)&&r in rk)return Qi[c]=e[r];return c}function n(c){var e=sk.get(c);void 0===e&&(e=new Map,sk.set(c,e));return e}function u(c){var e=c,r=
c;if(c.alternate)for(;e.return;)e=e.return;else{c=e;do e=c,0!==(e.effectTag&1026)&&(r=e.return),c=e.return;while(c)}return 3===e.tag?r:null}function x(c){if(13===c.tag){var e=c.memoizedState;null===e&&(c=c.alternate,null!==c&&(e=c.memoizedState));if(null!==e)return e.dehydrated}return null}function L(c){if(u(c)!==c)throw Error(k(188));}function ia(c){var e=c.alternate;if(!e){e=u(c);if(null===e)throw Error(k(188));return e!==c?null:c}for(var r=c,K=e;;){var fa=r.return;if(null===fa)break;var eb=fa.alternate;
if(null===eb){K=fa.return;if(null!==K){r=K;continue}break}if(fa.child===eb.child){for(eb=fa.child;eb;){if(eb===r)return L(fa),c;if(eb===K)return L(fa),e;eb=eb.sibling}throw Error(k(188));}if(r.return!==K.return)r=fa,K=eb;else{for(var pb=!1,Qb=fa.child;Qb;){if(Qb===r){pb=!0;r=fa;K=eb;break}if(Qb===K){pb=!0;K=fa;r=eb;break}Qb=Qb.sibling}if(!pb){for(Qb=eb.child;Qb;){if(Qb===r){pb=!0;r=eb;K=fa;break}if(Qb===K){pb=!0;K=eb;r=fa;break}Qb=Qb.sibling}if(!pb)throw Error(k(189));}}if(r.alternate!==K)throw Error(k(190));
}if(3!==r.tag)throw Error(k(188));return r.stateNode.current===r?c:e}function xa(c){c=ia(c);if(!c)return null;for(var e=c;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===c)break;for(;!e.sibling;){if(!e.return||e.return===c)return null;e=e.return}e.sibling.return=e.return;e=e.sibling}}return null}function Wa(c,e){if(null==e)throw Error(k(30));if(null==c)return e;if(Array.isArray(c)){if(Array.isArray(e))return c.push.apply(c,e),c;c.push(e);return c}return Array.isArray(e)?
[c].concat(e):[c,e]}function $a(c,e,r){Array.isArray(c)?c.forEach(e,r):c&&e.call(r,c)}function fb(c){if(c){var e=c._dispatchListeners,r=c._dispatchInstances;if(Array.isArray(e))for(var K=0;K<e.length&&!c.isPropagationStopped();K++)Fb(c,e[K],r[K]);else e&&Fb(c,e,r);c._dispatchListeners=null;c._dispatchInstances=null;c.isPersistent()||c.constructor.release(c)}}function Ba(c){null!==c&&(jh=Wa(jh,c));c=jh;jh=null;if(c){$a(c,fb);if(jh)throw Error(k(95));if(Bh)throw c=uj,Bh=!1,uj=null,c;}}function T(c){c=
c.target||c.srcElement||window;c.correspondingUseElement&&(c=c.correspondingUseElement);return 3===c.nodeType?c.parentNode:c}function da(c){if(!xg)return!1;c="on"+c;var e=c in document;e||(e=document.createElement("div"),e.setAttribute(c,"return;"),e="function"===typeof e[c]);return e}function Xa(c){c.topLevelType=null;c.nativeEvent=null;c.targetInst=null;c.ancestors.length=0;10>ki.length&&ki.push(c)}function zb(c,e,r,K){if(ki.length){var fa=ki.pop();fa.topLevelType=c;fa.eventSystemFlags=K;fa.nativeEvent=
e;fa.targetInst=r;return fa}return{topLevelType:c,eventSystemFlags:K,nativeEvent:e,targetInst:r,ancestors:[]}}function xb(c){var e=c.targetInst,r=e;do{if(!r){c.ancestors.push(r);break}var K=r;if(3===K.tag)K=K.stateNode.containerInfo;else{for(;K.return;)K=K.return;K=3!==K.tag?null:K.stateNode.containerInfo}if(!K)break;e=r.tag;5!==e&&6!==e||c.ancestors.push(r);r=Ra(K)}while(r);for(r=0;r<c.ancestors.length;r++){e=c.ancestors[r];var fa=T(c.nativeEvent);K=c.topLevelType;var eb=c.nativeEvent,pb=c.eventSystemFlags;
0===r&&(pb|=64);for(var Qb=null,Hc=0;Hc<Li.length;Hc++){var Bc=Li[Hc];Bc&&(Bc=Bc.extractEvents(K,e,eb,fa,pb))&&(Qb=Wa(Qb,Bc))}Ba(Qb)}}function Pb(c,e,r){if(!r.has(c)){switch(c){case "scroll":Nc(e,"scroll",!0);break;case "focus":case "blur":Nc(e,"focus",!0);Nc(e,"blur",!0);r.set("blur",null);r.set("focus",null);break;case "cancel":case "close":da(c)&&Nc(e,c,!0);break;case "invalid":case "submit":case "reset":break;default:-1===kh.indexOf(c)&&Eb(c,e)}r.set(c,null)}}function bc(c,e){var r=n(e);lh.forEach(function(K){Pb(K,
e,r)});tk.forEach(function(K){Pb(K,e,r)})}function Uc(c,e,r,K,fa){return{blockedOn:c,topLevelType:e,eventSystemFlags:r|32,nativeEvent:fa,container:K}}function yc(c,e){switch(c){case "focus":case "blur":Ig=null;break;case "dragenter":case "dragleave":Jg=null;break;case "mouseover":case "mouseout":Tg=null;break;case "pointerover":case "pointerout":Ug.delete(e.pointerId);break;case "gotpointercapture":case "lostpointercapture":li.delete(e.pointerId)}}function Vc(c,e,r,K,fa,eb){if(null===c||c.nativeEvent!==
eb)return c=Uc(e,r,K,fa,eb),null!==e&&(e=rb(e),null!==e&&uk(e)),c;c.eventSystemFlags|=K;return c}function ya(c,e,r,K,fa){switch(e){case "focus":return Ig=Vc(Ig,c,e,r,K,fa),!0;case "dragenter":return Jg=Vc(Jg,c,e,r,K,fa),!0;case "mouseover":return Tg=Vc(Tg,c,e,r,K,fa),!0;case "pointerover":var eb=fa.pointerId;Ug.set(eb,Vc(Ug.get(eb)||null,c,e,r,K,fa));return!0;case "gotpointercapture":return eb=fa.pointerId,li.set(eb,Vc(li.get(eb)||null,c,e,r,K,fa)),!0}return!1}function Nb(c){var e=Ra(c.target);if(null!==
e){var r=u(e);if(null!==r)if(e=r.tag,13===e){if(e=x(r),null!==e){c.blockedOn=e;Lf.unstable_runWithPriority(c.priority,function(){nl(r)});return}}else if(3===e&&r.stateNode.hydrate){c.blockedOn=3===r.tag?r.stateNode.containerInfo:null;return}}c.blockedOn=null}function Sb(c){if(null!==c.blockedOn)return!1;var e=xd(c.topLevelType,c.eventSystemFlags,c.container,c.nativeEvent);if(null!==e){var r=rb(e);null!==r&&uk(r);c.blockedOn=e;return!1}return!0}function Zb(c,e,r){Sb(c)&&r.delete(e)}function uc(){for(Ri=
!1;0<yg.length;){var c=yg[0];if(null!==c.blockedOn){c=rb(c.blockedOn);null!==c&&Bj(c);break}var e=xd(c.topLevelType,c.eventSystemFlags,c.container,c.nativeEvent);null!==e?c.blockedOn=e:yg.shift()}null!==Ig&&Sb(Ig)&&(Ig=null);null!==Jg&&Sb(Jg)&&(Jg=null);null!==Tg&&Sb(Tg)&&(Tg=null);Ug.forEach(Zb);li.forEach(Zb)}function cc(c,e){c.blockedOn===e&&(c.blockedOn=null,Ri||(Ri=!0,Lf.unstable_scheduleCallback(Lf.unstable_NormalPriority,uc)))}function gb(c){function e(fa){return cc(fa,c)}if(0<yg.length){cc(yg[0],
c);for(var r=1;r<yg.length;r++){var K=yg[r];K.blockedOn===c&&(K.blockedOn=null)}}null!==Ig&&cc(Ig,c);null!==Jg&&cc(Jg,c);null!==Tg&&cc(Tg,c);Ug.forEach(e);li.forEach(e);for(r=0;r<mh.length;r++)K=mh[r],K.blockedOn===c&&(K.blockedOn=null);for(;0<mh.length&&(r=mh[0],null===r.blockedOn);)Nb(r),null===r.blockedOn&&mh.shift()}function Kb(c,e){for(var r=0;r<c.length;r+=2){var K=c[r],fa=c[r+1],eb="on"+(fa[0].toUpperCase()+fa.slice(1));eb={phasedRegistrationNames:{bubbled:eb,captured:eb+"Capture"},dependencies:[K],
eventPriority:e};Cj.set(K,e);Dj.set(K,eb);vk[fa]=eb}}function Eb(c,e){Nc(e,c,!1)}function Nc(c,e,r){var K=Cj.get(e);switch(void 0===K?2:K){case 0:K=dd.bind(null,e,1,c);break;case 1:K=Ic.bind(null,e,1,c);break;default:K=Tc.bind(null,e,1,c)}r?c.addEventListener(e,K,!0):c.addEventListener(e,K,!1)}function dd(c,e,r,K){Vf||ma();var fa=Tc,eb=Vf;Vf=!0;try{Ca(fa,c,e,r,K)}finally{(Vf=eb)||oa()}}function Ic(c,e,r,K){wk(Ej,Tc.bind(null,c,e,r,K))}function Tc(c,e,r,K){if(mi)if(0<yg.length&&-1<lh.indexOf(c))c=
Uc(null,c,e,r,K),yg.push(c);else{var fa=xd(c,e,r,K);if(null===fa)yc(c,K);else if(-1<lh.indexOf(c))c=Uc(fa,c,e,r,K),yg.push(c);else if(!ya(fa,c,e,r,K)){yc(c,K);c=zb(c,K,null,e);try{Ia(xb,c)}finally{Xa(c)}}}}function xd(c,e,r,K){r=T(K);r=Ra(r);if(null!==r){var fa=u(r);if(null===fa)r=null;else{var eb=fa.tag;if(13===eb){r=x(fa);if(null!==r)return r;r=null}else if(3===eb){if(fa.stateNode.hydrate)return 3===fa.tag?fa.stateNode.containerInfo:null;r=null}else fa!==r&&(r=null)}}c=zb(c,K,r,e);try{Ia(xb,c)}finally{Xa(c)}return null}
function tb(c,e,r){return null==e||"boolean"===typeof e||""===e?"":r||"number"!==typeof e||0===e||Dh.hasOwnProperty(c)&&Dh[c]?(""+e).trim():e+"px"}function Jb(c,e){c=c.style;for(var r in e)if(e.hasOwnProperty(r)){var K=0===r.indexOf("--"),fa=tb(r,e[r],K);"float"===r&&(r="cssFloat");K?c.setProperty(r,fa):c[r]=fa}}function Gc(c,e){if(e){if(Si[c]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(k(137,c,""));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(k(60));if(!("object"===
typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML))throw Error(k(61));}if(null!=e.style&&"object"!==typeof e.style)throw Error(k(62,""));}}function ke(c,e){if(-1===c.indexOf("-"))return"string"===typeof e.is;switch(c){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;default:return!0}}function ge(c,e){c=9===c.nodeType||11===c.nodeType?c:c.ownerDocument;
var r=n(c);e=wj[e];for(var K=0;K<e.length;K++)Pb(e[K],c,r)}function Ke(){}function Ye(c){c=c||("undefined"!==typeof document?document:void 0);if("undefined"===typeof c)return null;try{return c.activeElement||c.body}catch(e){return c.body}}function J(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function ja(c,e){var r=J(c);c=0;for(var K;r;){if(3===r.nodeType){K=c+r.textContent.length;if(c<=e&&K>=e)return{node:r,offset:e-c};c=K}a:{for(;r;){if(r.nextSibling){r=r.nextSibling;break a}r=r.parentNode}r=
void 0}r=J(r)}}function Na(c,e){return c&&e?c===e?!0:c&&3===c.nodeType?!1:e&&3===e.nodeType?Na(c,e.parentNode):"contains"in c?c.contains(e):c.compareDocumentPosition?!!(c.compareDocumentPosition(e)&16):!1:!1}function mb(){for(var c=window,e=Ye();e instanceof c.HTMLIFrameElement;){try{var r="string"===typeof e.contentWindow.location.href}catch(K){r=!1}if(r)c=e.contentWindow;else break;e=Ye(c.document)}return e}function Gb(c){var e=c&&c.nodeName&&c.nodeName.toLowerCase();return e&&("input"===e&&("text"===
c.type||"search"===c.type||"tel"===c.type||"url"===c.type||"password"===c.type)||"textarea"===e||"true"===c.contentEditable)}function lb(c,e){switch(c){case "button":case "input":case "select":case "textarea":return!!e.autoFocus}return!1}function Xb(c,e){return"textarea"===c||"option"===c||"noscript"===c||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}function Rb(c){for(;null!=
c;c=c.nextSibling){var e=c.nodeType;if(1===e||3===e)break}return c}function ra(c){c=c.previousSibling;for(var e=0;c;){if(8===c.nodeType){var r=c.data;if(r===nh||r===Ti||r===Fj){if(0===e)return c;e--}else r===ni&&e++}c=c.previousSibling}return null}function Ra(c){var e=c[zg];if(e)return e;for(var r=c.parentNode;r;){if(e=r[Eh]||r[zg]){r=e.alternate;if(null!==e.child||null!==r&&null!==r.child)for(c=ra(c);null!==c;){if(r=c[zg])return r;c=ra(c)}return e}c=r;r=c.parentNode}return null}function rb(c){c=
c[zg]||c[Eh];return!c||5!==c.tag&&6!==c.tag&&13!==c.tag&&3!==c.tag?null:c}function Mb(c){if(5===c.tag||6===c.tag)return c.stateNode;throw Error(k(33));}function dc(c){return c[oh]||null}function hc(c){do c=c.return;while(c&&5!==c.tag);return c?c:null}function sc(c,e){var r=c.stateNode;if(!r)return null;var K=Mi(r);if(!K)return null;r=K[e];a:switch(e){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(K=
!K.disabled)||(c=c.type,K=!("button"===c||"input"===c||"select"===c||"textarea"===c));c=!K;break a;default:c=!1}if(c)return null;if(r&&"function"!==typeof r)throw Error(k(231,e,typeof r));return r}function sb(c,e,r){if(e=sc(c,r.dispatchConfig.phasedRegistrationNames[e]))r._dispatchListeners=Wa(r._dispatchListeners,e),r._dispatchInstances=Wa(r._dispatchInstances,c)}function gc(c){if(c&&c.dispatchConfig.phasedRegistrationNames){for(var e=c._targetInst,r=[];e;)r.push(e),e=hc(e);for(e=r.length;0<e--;)sb(r[e],
"captured",c);for(e=0;e<r.length;e++)sb(r[e],"bubbled",c)}}function ic(c,e,r){c&&r&&r.dispatchConfig.registrationName&&(e=sc(c,r.dispatchConfig.registrationName))&&(r._dispatchListeners=Wa(r._dispatchListeners,e),r._dispatchInstances=Wa(r._dispatchInstances,c))}function Yb(c){c&&c.dispatchConfig.registrationName&&ic(c._targetInst,null,c)}function lc(c){$a(c,gc)}function Ec(){if(Fh)return Fh;var c,e=Ui,r=e.length,K,fa="value"in Kg?Kg.value:Kg.textContent,eb=fa.length;for(c=0;c<r&&e[c]===fa[c];c++);
var pb=r-c;for(K=1;K<=pb&&e[r-K]===fa[eb-K];K++);return Fh=fa.slice(c,1<K?1-K:void 0)}function Cc(){return!0}function id(){return!1}function jd(c,e,r,K){this.dispatchConfig=c;this._targetInst=e;this.nativeEvent=r;c=this.constructor.Interface;for(var fa in c)c.hasOwnProperty(fa)&&((e=c[fa])?this[fa]=e(r):"target"===fa?this.target=K:this[fa]=r[fa]);this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Cc:id;this.isPropagationStopped=id;return this}function qd(c,e,
r,K){if(this.eventPool.length){var fa=this.eventPool.pop();this.call(fa,c,e,r,K);return fa}return new this(c,e,r,K)}function ud(c){if(!(c instanceof this))throw Error(k(279));c.destructor();10>this.eventPool.length&&this.eventPool.push(c)}function be(c){c.eventPool=[];c.getPooled=qd;c.release=ud}function Yd(c,e){switch(c){case "keyup":return-1!==xk.indexOf(e.keyCode);case "keydown":return 229!==e.keyCode;case "keypress":case "mousedown":case "blur":return!0;default:return!1}}function de(c){c=c.detail;
return"object"===typeof c&&"data"in c?c.data:null}function ve(c,e){switch(c){case "compositionend":return de(e);case "keypress":if(32!==e.which)return null;Gj=!0;return Hj;case "textInput":return c=e.data,c===Hj&&Gj?null:c;default:return null}}function Ae(c,e){if(ph)return"compositionend"===c||!Vi&&Yd(c,e)?(c=Ec(),Fh=Ui=Kg=null,ph=!1,c):null;switch(c){case "paste":return null;case "keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;
case "compositionend":return Ij&&"ko"!==e.locale?null:e.data;default:return null}}function We(c){var e=c&&c.nodeName&&c.nodeName.toLowerCase();return"input"===e?!!ol[c.type]:"textarea"===e?!0:!1}function zd(c,e,r){c=jd.getPooled(yk.change,c,e,r);c.type="change";Ea(r);lc(c);return c}function Ld(c){Ba(c)}function ef(c){var e=Mb(c);if(Fa(e))return c}function me(c,e){if("change"===c)return e}function W(){Gh&&(Gh.detachEvent("onpropertychange",ha),qh=Gh=null)}function ha(c){if("value"===c.propertyName&&
ef(qh))if(c=zd(qh,c,T(c)),Vf)Ba(c);else{Vf=!0;try{bb(Ld,c)}finally{Vf=!1,oa()}}}function za(c,e,r){"focus"===c?(W(),Gh=e,qh=r,Gh.attachEvent("onpropertychange",ha)):"blur"===c&&W()}function ob(c){if("selectionchange"===c||"keyup"===c||"keydown"===c)return ef(qh)}function Za(c,e){if("click"===c)return ef(e)}function vb(c,e){if("input"===c||"change"===c)return ef(e)}function Tb(c){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(c):(c=pl[c])?!!e[c]:!1}function oc(){return Tb}function Yc(c,
e){return c===e&&(0!==c||1/c===1/e)||c!==c&&e!==e}function pc(c,e){if(Mf(c,e))return!0;if("object"!==typeof c||null===c||"object"!==typeof e||null===e)return!1;var r=Object.keys(c),K=Object.keys(e);if(r.length!==K.length)return!1;for(K=0;K<r.length;K++)if(!zk.call(e,r[K])||!Mf(c[r[K]],e[r[K]]))return!1;return!0}function Fc(c,e){var r=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;if(oi||null==Hh||Hh!==Ye(r))return null;r=Hh;"selectionStart"in r&&Gb(r)?r={start:r.selectionStart,end:r.selectionEnd}:
(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset});return ng&&pc(ng,r)?null:(ng=r,c=jd.getPooled(Jj.select,pi,c,e),c.type="select",c.target=Hh,lc(c),c)}function fd(c){var e=c.keyCode;"charCode"in c?(c=c.charCode,0===c&&13===e&&(c=13)):c=e;10===c&&(c=13);return 32<=c||13===c?c:0}function Dd(c){0>Ih||(c.current=Kj[Ih],Kj[Ih]=null,Ih--)}function $b(c,e){Ih++;Kj[Ih]=c.current;
c.current=e}function Md(c,e){var r=c.type.contextTypes;if(!r)return Lg;var K=c.stateNode;if(K&&K.__reactInternalMemoizedUnmaskedChildContext===e)return K.__reactInternalMemoizedMaskedChildContext;var fa={},eb;for(eb in r)fa[eb]=e[eb];K&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=e,c.__reactInternalMemoizedMaskedChildContext=fa);return fa}function Jd(c){c=c.childContextTypes;return null!==c&&void 0!==c}function Hb(){Dd(Wf);Dd(Qf)}function ne(c,e,r){if(Qf.current!==Lg)throw Error(k(168));
$b(Qf,e);$b(Wf,r)}function le(c,e,r){var K=c.stateNode;c=e.childContextTypes;if("function"!==typeof K.getChildContext)return r;K=K.getChildContext();for(var fa in K)if(!(fa in c))throw Error(k(108,la(e)||"Unknown",fa));return Kf({},r,{},K)}function xe(c){c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Lg;Vg=Qf.current;$b(Qf,c);$b(Wf,Wf.current);return!0}function jf(c,e,r){var K=c.stateNode;if(!K)throw Error(k(169));r?(c=le(c,e,Vg),K.__reactInternalMemoizedMergedChildContext=c,Dd(Wf),
Dd(Qf),$b(Qf,c)):Dd(Wf);$b(Wf,r)}function Je(){switch(ql()){case mf:return 99;case og:return 98;case Wi:return 97;case rh:return 96;case Lj:return 95;default:throw Error(k(332));}}function Ze(c){switch(c){case 99:return mf;case 98:return og;case 97:return Wi;case 96:return rh;case 95:return Lj;default:throw Error(k(332));}}function Ge(c,e){c=Ze(c);return Ak(c,e)}function Nd(c,e,r){c=Ze(c);return Xi(c,e,r)}function ec(c){null===Ag?(Ag=[c],Jh=Xi(mf,fc)):Ag.push(c);return Bk}function Hd(){if(null!==
Jh){var c=Jh;Jh=null;Ck(c)}fc()}function fc(){if(!Kh&&null!==Ag){Kh=!0;var c=0;try{var e=Ag;Ge(99,function(){for(;c<e.length;c++){var r=e[c];do r=r(!0);while(null!==r)}});Ag=null}catch(r){throw null!==Ag&&(Ag=Ag.slice(c+1)),Xi(mf,Hd),r;}finally{Kh=!1}}}function Wc(c,e,r){r/=10;return 1073741821-(((1073741821-c+e/10)/r|0)+1)*r}function re(c,e){if(c&&c.defaultProps){e=Kf({},e);c=c.defaultProps;for(var r in c)void 0===e[r]&&(e[r]=c[r])}return e}function Rd(c){var e=qi.current;Dd(qi);c.type._context._currentValue=
e}function Zd(c,e){for(;null!==c;){var r=c.alternate;if(c.childExpirationTime<e)c.childExpirationTime=e,null!==r&&r.childExpirationTime<e&&(r.childExpirationTime=e);else if(null!==r&&r.childExpirationTime<e)r.childExpirationTime=e;else break;c=c.return}}function Oc(c,e){Lh=c;Mh=rg=null;c=c.dependencies;null!==c&&null!==c.firstContext&&(c.expirationTime>=e&&(ag=!0),c.firstContext=null)}function Vd(c,e){if(Mh!==c&&!1!==e&&0!==e){if("number"!==typeof e||1073741823===e)Mh=c,e=1073741823;e={context:c,
observedBits:e,next:null};if(null===rg){if(null===Lh)throw Error(k(308));rg=e;Lh.dependencies={expirationTime:0,firstContext:e,responders:null}}else rg=rg.next=e}return c._currentValue}function Od(c){c.updateQueue={baseState:c.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function Kd(c,e){c=c.updateQueue;e.updateQueue===c&&(e.updateQueue={baseState:c.baseState,baseQueue:c.baseQueue,shared:c.shared,effects:c.effects})}function Pe(c,e){c={expirationTime:c,suspenseConfig:e,tag:0,payload:null,
callback:null,next:null};return c.next=c}function td(c,e){c=c.updateQueue;if(null!==c){c=c.shared;var r=c.pending;null===r?e.next=e:(e.next=r.next,r.next=e);c.pending=e}}function vd(c,e){var r=c.alternate;null!==r&&Kd(r,c);c=c.updateQueue;r=c.baseQueue;null===r?(c.baseQueue=e.next=e,e.next=e):(e.next=r.next,r.next=e)}function ie(c,e,r,K){var fa=c.updateQueue;Wg=!1;var eb=fa.baseQueue,pb=fa.shared.pending;if(null!==pb){if(null!==eb){var Qb=eb.next;eb.next=pb.next;pb.next=Qb}eb=pb;fa.shared.pending=
null;Qb=c.alternate;null!==Qb&&(Qb=Qb.updateQueue,null!==Qb&&(Qb.baseQueue=pb))}if(null!==eb){Qb=eb.next;var Hc=fa.baseState,Bc=0,sd=null,Ed=null,Me=null;if(null!==Qb){var $e=Qb;do{pb=$e.expirationTime;if(pb<K){var nf={expirationTime:$e.expirationTime,suspenseConfig:$e.suspenseConfig,tag:$e.tag,payload:$e.payload,callback:$e.callback,next:null};null===Me?(Ed=Me=nf,sd=Hc):Me=Me.next=nf;pb>Bc&&(Bc=pb)}else{null!==Me&&(Me=Me.next={expirationTime:1073741823,suspenseConfig:$e.suspenseConfig,tag:$e.tag,
payload:$e.payload,callback:$e.callback,next:null});wf(pb,$e.suspenseConfig);a:{var Hf=c,wc=$e;pb=e;nf=r;switch(wc.tag){case 1:Hf=wc.payload;if("function"===typeof Hf){Hc=Hf.call(nf,Hc,pb);break a}Hc=Hf;break a;case 3:Hf.effectTag=Hf.effectTag&-4097|64;case 0:Hf=wc.payload;pb="function"===typeof Hf?Hf.call(nf,Hc,pb):Hf;if(null===pb||void 0===pb)break a;Hc=Kf({},Hc,pb);break a;case 2:Wg=!0}}null!==$e.callback&&(c.effectTag|=32,pb=fa.effects,null===pb?fa.effects=[$e]:pb.push($e))}$e=$e.next;if(null===
$e||$e===Qb)if(pb=fa.shared.pending,null===pb)break;else $e=eb.next=pb.next,pb.next=Qb,fa.baseQueue=eb=pb,fa.shared.pending=null}while(1)}null===Me?sd=Hc:Me.next=Ed;fa.baseState=sd;fa.baseQueue=Me;kf(Bc);c.expirationTime=Bc;c.memoizedState=Hc}}function ye(c,e,r){c=e.effects;e.effects=null;if(null!==c)for(e=0;e<c.length;e++){var K=c[e],fa=K.callback;if(null!==fa){K.callback=null;K=fa;fa=r;if("function"!==typeof K)throw Error(k(191,K));K.call(fa)}}}function af(c,e,r,K){e=c.memoizedState;r=r(K,e);r=
null===r||void 0===r?e:Kf({},e,r);c.memoizedState=r;0===c.expirationTime&&(c.updateQueue.baseState=r)}function tf(c,e,r,K,fa,eb,pb){c=c.stateNode;return"function"===typeof c.shouldComponentUpdate?c.shouldComponentUpdate(K,eb,pb):e.prototype&&e.prototype.isPureReactComponent?!pc(r,K)||!pc(fa,eb):!0}function Ff(c,e,r){var K=!1,fa=Lg,eb=e.contextType;"object"===typeof eb&&null!==eb?eb=Vd(eb):(fa=Jd(e)?Vg:Qf.current,K=e.contextTypes,eb=(K=null!==K&&void 0!==K)?Md(c,fa):Lg);e=new e(r,eb);c.memoizedState=
null!==e.state&&void 0!==e.state?e.state:null;e.updater=Yi;c.stateNode=e;e._reactInternalFiber=c;K&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=fa,c.__reactInternalMemoizedMaskedChildContext=eb);return e}function ed(c,e,r,K){c=e.state;"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(r,K);"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(r,K);e.state!==c&&Yi.enqueueReplaceState(e,e.state,null)}function ze(c,e,r,K){var fa=
c.stateNode;fa.props=r;fa.state=c.memoizedState;fa.refs=Dk;Od(c);var eb=e.contextType;"object"===typeof eb&&null!==eb?fa.context=Vd(eb):(eb=Jd(e)?Vg:Qf.current,fa.context=Md(c,eb));ie(c,r,fa,K);fa.state=c.memoizedState;eb=e.getDerivedStateFromProps;"function"===typeof eb&&(af(c,e,eb,r),fa.state=c.memoizedState);"function"===typeof e.getDerivedStateFromProps||"function"===typeof fa.getSnapshotBeforeUpdate||"function"!==typeof fa.UNSAFE_componentWillMount&&"function"!==typeof fa.componentWillMount||
(e=fa.state,"function"===typeof fa.componentWillMount&&fa.componentWillMount(),"function"===typeof fa.UNSAFE_componentWillMount&&fa.UNSAFE_componentWillMount(),e!==fa.state&&Yi.enqueueReplaceState(fa,fa.state,null),ie(c,r,fa,K),fa.state=c.memoizedState);"function"===typeof fa.componentDidMount&&(c.effectTag|=4)}function Se(c,e,r){c=r.ref;if(null!==c&&"function"!==typeof c&&"object"!==typeof c){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(k(309));var K=r.stateNode}if(!K)throw Error(k(147,c));
var fa=""+c;if(null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===fa)return e.ref;e=function(eb){var pb=K.refs;pb===Dk&&(pb=K.refs={});null===eb?delete pb[fa]:pb[fa]=eb};e._stringRef=fa;return e}if("string"!==typeof c)throw Error(k(284));if(!r._owner)throw Error(k(290,c));}return c}function Te(c,e){if("textarea"!==c.type)throw Error(k(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,""));}function of(c){function e(wc,
mc){if(c){var Qc=wc.lastEffect;null!==Qc?(Qc.nextEffect=mc,wc.lastEffect=mc):wc.firstEffect=wc.lastEffect=mc;mc.nextEffect=null;mc.effectTag=8}}function r(wc,mc){if(!c)return null;for(;null!==mc;)e(wc,mc),mc=mc.sibling;return null}function K(wc,mc){for(wc=new Map;null!==mc;)null!==mc.key?wc.set(mc.key,mc):wc.set(mc.index,mc),mc=mc.sibling;return wc}function fa(wc,mc){wc=Xg(wc,mc);wc.index=0;wc.sibling=null;return wc}function eb(wc,mc,Qc){wc.index=Qc;if(!c)return mc;Qc=wc.alternate;if(null!==Qc)return Qc=
Qc.index,Qc<mc?(wc.effectTag=2,mc):Qc;wc.effectTag=2;return mc}function pb(wc){c&&null===wc.alternate&&(wc.effectTag=2);return wc}function Qb(wc,mc,Qc,md){if(null===mc||6!==mc.tag)return mc=Mj(Qc,wc.mode,md),mc.return=wc,mc;mc=fa(mc,Qc);mc.return=wc;return mc}function Hc(wc,mc,Qc,md){if(null!==mc&&mc.elementType===Qc.type)return md=fa(mc,Qc.props),md.ref=Se(wc,mc,Qc),md.return=wc,md;md=Zi(Qc.type,Qc.key,Qc.props,null,wc.mode,md);md.ref=Se(wc,mc,Qc);md.return=wc;return md}function Bc(wc,mc,Qc,md){if(null===
mc||4!==mc.tag||mc.stateNode.containerInfo!==Qc.containerInfo||mc.stateNode.implementation!==Qc.implementation)return mc=Bf(Qc,wc.mode,md),mc.return=wc,mc;mc=fa(mc,Qc.children||[]);mc.return=wc;return mc}function sd(wc,mc,Qc,md,Ad){if(null===mc||7!==mc.tag)return mc=Yg(Qc,wc.mode,md,Ad),mc.return=wc,mc;mc=fa(mc,Qc);mc.return=wc;return mc}function Ed(wc,mc,Qc){if("string"===typeof mc||"number"===typeof mc)return mc=Mj(""+mc,wc.mode,Qc),mc.return=wc,mc;if("object"===typeof mc&&null!==mc){switch(mc.$$typeof){case ri:return Qc=
Zi(mc.type,mc.key,mc.props,null,wc.mode,Qc),Qc.ref=Se(wc,null,mc),Qc.return=wc,Qc;case Sg:return mc=Bf(mc,wc.mode,Qc),mc.return=wc,mc}if($i(mc)||va(mc))return mc=Yg(mc,wc.mode,Qc,null),mc.return=wc,mc;Te(wc,mc)}return null}function Me(wc,mc,Qc,md){var Ad=null!==mc?mc.key:null;if("string"===typeof Qc||"number"===typeof Qc)return null!==Ad?null:Qb(wc,mc,""+Qc,md);if("object"===typeof Qc&&null!==Qc){switch(Qc.$$typeof){case ri:return Qc.key===Ad?Qc.type===Rg?sd(wc,mc,Qc.props.children,md,Ad):Hc(wc,mc,
Qc,md):null;case Sg:return Qc.key===Ad?Bc(wc,mc,Qc,md):null}if($i(Qc)||va(Qc))return null!==Ad?null:sd(wc,mc,Qc,md,null);Te(wc,Qc)}return null}function $e(wc,mc,Qc,md,Ad){if("string"===typeof md||"number"===typeof md)return wc=wc.get(Qc)||null,Qb(mc,wc,""+md,Ad);if("object"===typeof md&&null!==md){switch(md.$$typeof){case ri:return wc=wc.get(null===md.key?Qc:md.key)||null,md.type===Rg?sd(mc,wc,md.props.children,Ad,md.key):Hc(mc,wc,md,Ad);case Sg:return wc=wc.get(null===md.key?Qc:md.key)||null,Bc(mc,
wc,md,Ad)}if($i(md)||va(md))return wc=wc.get(Qc)||null,sd(mc,wc,md,Ad,null);Te(mc,md)}return null}function nf(wc,mc,Qc,md){for(var Ad=null,Sd=null,je=mc,Qe=mc=0,sf=null;null!==je&&Qe<Qc.length;Qe++){je.index>Qe?(sf=je,je=null):sf=je.sibling;var Fe=Me(wc,je,Qc[Qe],md);if(null===Fe){null===je&&(je=sf);break}c&&je&&null===Fe.alternate&&e(wc,je);mc=eb(Fe,mc,Qe);null===Sd?Ad=Fe:Sd.sibling=Fe;Sd=Fe;je=sf}if(Qe===Qc.length)return r(wc,je),Ad;if(null===je){for(;Qe<Qc.length;Qe++)je=Ed(wc,Qc[Qe],md),null!==
je&&(mc=eb(je,mc,Qe),null===Sd?Ad=je:Sd.sibling=je,Sd=je);return Ad}for(je=K(wc,je);Qe<Qc.length;Qe++)sf=$e(je,wc,Qe,Qc[Qe],md),null!==sf&&(c&&null!==sf.alternate&&je.delete(null===sf.key?Qe:sf.key),mc=eb(sf,mc,Qe),null===Sd?Ad=sf:Sd.sibling=sf,Sd=sf);c&&je.forEach(function(Bg){return e(wc,Bg)});return Ad}function Hf(wc,mc,Qc,md){var Ad=va(Qc);if("function"!==typeof Ad)throw Error(k(150));Qc=Ad.call(Qc);if(null==Qc)throw Error(k(151));for(var Sd=Ad=null,je=mc,Qe=mc=0,sf=null,Fe=Qc.next();null!==je&&
!Fe.done;Qe++,Fe=Qc.next()){je.index>Qe?(sf=je,je=null):sf=je.sibling;var Bg=Me(wc,je,Fe.value,md);if(null===Bg){null===je&&(je=sf);break}c&&je&&null===Bg.alternate&&e(wc,je);mc=eb(Bg,mc,Qe);null===Sd?Ad=Bg:Sd.sibling=Bg;Sd=Bg;je=sf}if(Fe.done)return r(wc,je),Ad;if(null===je){for(;!Fe.done;Qe++,Fe=Qc.next())Fe=Ed(wc,Fe.value,md),null!==Fe&&(mc=eb(Fe,mc,Qe),null===Sd?Ad=Fe:Sd.sibling=Fe,Sd=Fe);return Ad}for(je=K(wc,je);!Fe.done;Qe++,Fe=Qc.next())Fe=$e(je,wc,Qe,Fe.value,md),null!==Fe&&(c&&null!==Fe.alternate&&
je.delete(null===Fe.key?Qe:Fe.key),mc=eb(Fe,mc,Qe),null===Sd?Ad=Fe:Sd.sibling=Fe,Sd=Fe);c&&je.forEach(function(Nj){return e(wc,Nj)});return Ad}return function(wc,mc,Qc,md){var Ad="object"===typeof Qc&&null!==Qc&&Qc.type===Rg&&null===Qc.key;Ad&&(Qc=Qc.props.children);var Sd="object"===typeof Qc&&null!==Qc;if(Sd)switch(Qc.$$typeof){case ri:a:{Sd=Qc.key;for(Ad=mc;null!==Ad;){if(Ad.key===Sd){switch(Ad.tag){case 7:if(Qc.type===Rg){r(wc,Ad.sibling);mc=fa(Ad,Qc.props.children);mc.return=wc;wc=mc;break a}break;
default:if(Ad.elementType===Qc.type){r(wc,Ad.sibling);mc=fa(Ad,Qc.props);mc.ref=Se(wc,Ad,Qc);mc.return=wc;wc=mc;break a}}r(wc,Ad);break}else e(wc,Ad);Ad=Ad.sibling}Qc.type===Rg?(mc=Yg(Qc.props.children,wc.mode,md,Qc.key),mc.return=wc,wc=mc):(md=Zi(Qc.type,Qc.key,Qc.props,null,wc.mode,md),md.ref=Se(wc,mc,Qc),md.return=wc,wc=md)}return pb(wc);case Sg:a:{for(Ad=Qc.key;null!==mc;){if(mc.key===Ad)if(4===mc.tag&&mc.stateNode.containerInfo===Qc.containerInfo&&mc.stateNode.implementation===Qc.implementation){r(wc,
mc.sibling);mc=fa(mc,Qc.children||[]);mc.return=wc;wc=mc;break a}else{r(wc,mc);break}else e(wc,mc);mc=mc.sibling}mc=Bf(Qc,wc.mode,md);mc.return=wc;wc=mc}return pb(wc)}if("string"===typeof Qc||"number"===typeof Qc)return Qc=""+Qc,null!==mc&&6===mc.tag?(r(wc,mc.sibling),mc=fa(mc,Qc),mc.return=wc,wc=mc):(r(wc,mc),mc=Mj(Qc,wc.mode,md),mc.return=wc,wc=mc),pb(wc);if($i(Qc))return nf(wc,mc,Qc,md);if(va(Qc))return Hf(wc,mc,Qc,md);Sd&&Te(wc,Qc);if("undefined"===typeof Qc&&!Ad)switch(wc.tag){case 1:case 0:throw wc=
wc.type,Error(k(152,wc.displayName||wc.name||"Component"));}return r(wc,mc)}}function pf(c){if(c===si)throw Error(k(174));return c}function bf(c,e){$b(ti,e);$b(ui,c);$b(Cg,si);c=e.nodeType;switch(c){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:H(null,"");break;default:c=8===c?e.parentNode:e,e=c.namespaceURI||null,c=c.tagName,e=H(e,c)}Dd(Cg);$b(Cg,e)}function De(){Dd(Cg);Dd(ui);Dd(ti)}function z(c){pf(ti.current);var e=pf(Cg.current),r=H(e,c.type);e!==r&&($b(ui,c),$b(Cg,r))}function O(c){ui.current===
c&&(Dd(Cg),Dd(ui))}function Ka(c){for(var e=c;null!==e;){if(13===e.tag){var r=e.memoizedState;if(null!==r&&(r=r.dehydrated,null===r||r.data===Fj||r.data===Ti))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(e.effectTag&64))return e}else if(null!==e.child){e.child.return=e;e=e.child;continue}if(e===c)break;for(;null===e.sibling;){if(null===e.return||e.return===c)return null;e=e.return}e.sibling.return=e.return;e=e.sibling}return null}function ub(c,e){return{responder:c,props:e}}
function wb(){throw Error(k(321));}function Lb(c,e){if(null===e)return!1;for(var r=0;r<e.length&&r<c.length;r++)if(!Mf(c[r],e[r]))return!1;return!0}function Wb(c,e,r,K,fa,eb){Dg=eb;zf=e;e.memoizedState=null;e.updateQueue=null;e.expirationTime=0;aj.current=null===c||null===c.memoizedState?Nh:vi;c=r(K,fa);if(e.expirationTime===Dg){eb=0;do{e.expirationTime=0;if(!(25>eb))throw Error(k(301));eb+=1;Rf=Sf=null;e.updateQueue=null;aj.current=Oh;c=r(K,fa)}while(e.expirationTime===Dg)}aj.current=Wd;e=null!==
Sf&&null!==Sf.next;Dg=0;Rf=Sf=zf=null;bj=!1;if(e)throw Error(k(300));return c}function Jc(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===Rf?zf.memoizedState=Rf=c:Rf=Rf.next=c;return Rf}function Ac(){if(null===Sf){var c=zf.alternate;c=null!==c?c.memoizedState:null}else c=Sf.next;var e=null===Rf?zf.memoizedState:Rf.next;if(null!==e)Rf=e,Sf=c;else{if(null===c)throw Error(k(310));Sf=c;c={memoizedState:Sf.memoizedState,baseState:Sf.baseState,baseQueue:Sf.baseQueue,
queue:Sf.queue,next:null};null===Rf?zf.memoizedState=Rf=c:Rf=Rf.next=c}return Rf}function Xc(c,e){return"function"===typeof e?e(c):e}function od(c){var e=Ac(),r=e.queue;if(null===r)throw Error(k(311));r.lastRenderedReducer=c;var K=Sf,fa=K.baseQueue,eb=r.pending;if(null!==eb){if(null!==fa){var pb=fa.next;fa.next=eb.next;eb.next=pb}K.baseQueue=fa=eb;r.pending=null}if(null!==fa){fa=fa.next;K=K.baseState;var Qb=pb=eb=null,Hc=fa;do{var Bc=Hc.expirationTime;if(Bc<Dg){var sd={expirationTime:Hc.expirationTime,
suspenseConfig:Hc.suspenseConfig,action:Hc.action,eagerReducer:Hc.eagerReducer,eagerState:Hc.eagerState,next:null};null===Qb?(pb=Qb=sd,eb=K):Qb=Qb.next=sd;Bc>zf.expirationTime&&(zf.expirationTime=Bc,kf(Bc))}else null!==Qb&&(Qb=Qb.next={expirationTime:1073741823,suspenseConfig:Hc.suspenseConfig,action:Hc.action,eagerReducer:Hc.eagerReducer,eagerState:Hc.eagerState,next:null}),wf(Bc,Hc.suspenseConfig),K=Hc.eagerReducer===c?Hc.eagerState:c(K,Hc.action);Hc=Hc.next}while(null!==Hc&&Hc!==fa);null===Qb?
eb=K:Qb.next=pb;Mf(K,e.memoizedState)||(ag=!0);e.memoizedState=K;e.baseState=eb;e.baseQueue=Qb;r.lastRenderedState=K}return[e.memoizedState,r.dispatch]}function Bd(c){var e=Ac(),r=e.queue;if(null===r)throw Error(k(311));r.lastRenderedReducer=c;var K=r.dispatch,fa=r.pending,eb=e.memoizedState;if(null!==fa){r.pending=null;var pb=fa=fa.next;do eb=c(eb,pb.action),pb=pb.next;while(pb!==fa);Mf(eb,e.memoizedState)||(ag=!0);e.memoizedState=eb;null===e.baseQueue&&(e.baseState=eb);r.lastRenderedState=eb}return[eb,
K]}function $d(c){var e=Jc();"function"===typeof c&&(c=c());e.memoizedState=e.baseState=c;c=e.queue={pending:null,dispatch:null,lastRenderedReducer:Xc,lastRenderedState:c};c=c.dispatch=B.bind(null,zf,c);return[e.memoizedState,c]}function pd(c,e,r,K){c={tag:c,create:e,destroy:r,deps:K,next:null};e=zf.updateQueue;null===e?(e={lastEffect:null},zf.updateQueue=e,e.lastEffect=c.next=c):(r=e.lastEffect,null===r?e.lastEffect=c.next=c:(K=r.next,r.next=c,c.next=K,e.lastEffect=c));return c}function Le(){return Ac().memoizedState}
function Cd(c,e,r,K){var fa=Jc();zf.effectTag|=c;fa.memoizedState=pd(1|e,r,void 0,void 0===K?null:K)}function se(c,e,r,K){var fa=Ac();K=void 0===K?null:K;var eb=void 0;if(null!==Sf){var pb=Sf.memoizedState;eb=pb.destroy;if(null!==K&&Lb(K,pb.deps)){pd(e,r,eb,K);return}}zf.effectTag|=c;fa.memoizedState=pd(1|e,r,eb,K)}function ee(c,e){return Cd(516,4,c,e)}function pe(c,e){return se(516,4,c,e)}function xf(c,e){return se(4,2,c,e)}function ae(c,e){if("function"===typeof e)return c=c(),e(c),function(){e(null)};
if(null!==e&&void 0!==e)return c=c(),e.current=c,function(){e.current=null}}function gf(c,e,r){r=null!==r&&void 0!==r?r.concat([c]):null;return se(4,2,ae.bind(null,e,c),r)}function lf(){}function bg(c,e){Jc().memoizedState=[c,void 0===e?null:e];return c}function Af(c,e){var r=Ac();e=void 0===e?null:e;var K=r.memoizedState;if(null!==K&&null!==e&&Lb(e,K[1]))return K[0];r.memoizedState=[c,e];return c}function Xf(c,e){var r=Ac();e=void 0===e?null:e;var K=r.memoizedState;if(null!==K&&null!==e&&Lb(e,K[1]))return K[0];
c=c();r.memoizedState=[c,e];return c}function A(c,e,r){var K=Je();Ge(98>K?98:K,function(){c(!0)});Ge(97<K?97:K,function(){var fa=cg.suspense;cg.suspense=void 0===e?null:e;try{c(!1),r()}finally{cg.suspense=fa}})}function B(c,e,r){var K=Rc(),fa=wi.suspense;K=gd(K,c,fa);fa={expirationTime:K,suspenseConfig:fa,action:r,eagerReducer:null,eagerState:null,next:null};var eb=e.pending;null===eb?fa.next=fa:(fa.next=eb.next,eb.next=fa);e.pending=fa;eb=c.alternate;if(c===zf||null!==eb&&eb===zf)bj=!0,fa.expirationTime=
Dg,zf.expirationTime=Dg;else{if(0===c.expirationTime&&(null===eb||0===eb.expirationTime)&&(eb=e.lastRenderedReducer,null!==eb))try{var pb=e.lastRenderedState,Qb=eb(pb,r);fa.eagerReducer=eb;fa.eagerState=Qb;if(Mf(Qb,pb))return}catch(Hc){}finally{}hd(c,K)}}function I(c,e){var r=hg(5,null,null,0);r.elementType="DELETED";r.type="DELETED";r.stateNode=e;r.return=c;r.effectTag=8;null!==c.lastEffect?(c.lastEffect.nextEffect=r,c.lastEffect=r):c.firstEffect=c.lastEffect=r}function Q(c,e){switch(c.tag){case 5:var r=
c.type;e=1!==e.nodeType||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e;return null!==e?(c.stateNode=e,!0):!1;case 6:return e=""===c.pendingProps||3!==e.nodeType?null:e,null!==e?(c.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function ea(c){if(Zc){var e=Re;if(e){var r=e;if(!Q(c,e)){e=Rb(r.nextSibling);if(!e||!Q(c,e)){c.effectTag=c.effectTag&-1025|2;Zc=!1;oe=c;return}I(oe,r)}oe=c;Re=Rb(e.firstChild)}else c.effectTag=c.effectTag&-1025|2,Zc=!1,oe=c}}function ka(c){for(c=c.return;null!==c&&
5!==c.tag&&3!==c.tag&&13!==c.tag;)c=c.return;oe=c}function Aa(c){if(c!==oe)return!1;if(!Zc)return ka(c),Zc=!0,!1;var e=c.type;if(5!==c.tag||"head"!==e&&"body"!==e&&!Xb(e,c.memoizedProps))for(e=Re;e;)I(c,e),e=Rb(e.nextSibling);ka(c);if(13===c.tag){c=c.memoizedState;c=null!==c?c.dehydrated:null;if(!c)throw Error(k(317));a:{c=c.nextSibling;for(e=0;c;){if(8===c.nodeType){var r=c.data;if(r===ni){if(0===e){Re=Rb(c.nextSibling);break a}e--}else r!==nh&&r!==Ti&&r!==Fj||e++}c=c.nextSibling}Re=null}}else Re=
oe?Rb(c.stateNode.nextSibling):null;return!0}function Ya(c,e,r,K){e.child=null===c?Oj(e,null,r,K):Zg(e,c.child,r,K)}function Sa(c,e,r,K,fa){r=r.render;var eb=e.ref;Oc(e,fa);K=Wb(c,e,r,K,eb,fa);if(null!==c&&!ag)return e.updateQueue=c.updateQueue,e.effectTag&=-517,c.expirationTime<=fa&&(c.expirationTime=0),Ob(c,e,fa);e.effectTag|=1;Ya(c,e,K,fa);return e.child}function hb(c,e,r,K,fa,eb){if(null===c){var pb=r.type;if("function"===typeof pb&&!cj(pb)&&void 0===pb.defaultProps&&null===r.compare&&void 0===
r.defaultProps)return e.tag=15,e.type=pb,nb(c,e,pb,K,fa,eb);c=Zi(r.type,null,K,null,e.mode,eb);c.ref=e.ref;c.return=e;return e.child=c}pb=c.child;if(fa<eb&&(fa=pb.memoizedProps,r=r.compare,r=null!==r?r:pc,r(fa,K)&&c.ref===e.ref))return Ob(c,e,eb);e.effectTag|=1;c=Xg(pb,K);c.ref=e.ref;c.return=e;return e.child=c}function nb(c,e,r,K,fa,eb){return null!==c&&pc(c.memoizedProps,K)&&c.ref===e.ref&&(ag=!1,fa<eb)?(e.expirationTime=c.expirationTime,Ob(c,e,eb)):Ub(c,e,r,K,eb)}function Db(c,e){var r=e.ref;if(null===
c&&null!==r||null!==c&&c.ref!==r)e.effectTag|=128}function Ub(c,e,r,K,fa){var eb=Jd(r)?Vg:Qf.current;eb=Md(e,eb);Oc(e,fa);r=Wb(c,e,r,K,eb,fa);if(null!==c&&!ag)return e.updateQueue=c.updateQueue,e.effectTag&=-517,c.expirationTime<=fa&&(c.expirationTime=0),Ob(c,e,fa);e.effectTag|=1;Ya(c,e,r,fa);return e.child}function l(c,e,r,K,fa){if(Jd(r)){var eb=!0;xe(e)}else eb=!1;Oc(e,fa);if(null===e.stateNode)null!==c&&(c.alternate=null,e.alternate=null,e.effectTag|=2),Ff(e,r,K),ze(e,r,K,fa),K=!0;else if(null===
c){var pb=e.stateNode,Qb=e.memoizedProps;pb.props=Qb;var Hc=pb.context,Bc=r.contextType;"object"===typeof Bc&&null!==Bc?Bc=Vd(Bc):(Bc=Jd(r)?Vg:Qf.current,Bc=Md(e,Bc));var sd=r.getDerivedStateFromProps,Ed="function"===typeof sd||"function"===typeof pb.getSnapshotBeforeUpdate;Ed||"function"!==typeof pb.UNSAFE_componentWillReceiveProps&&"function"!==typeof pb.componentWillReceiveProps||(Qb!==K||Hc!==Bc)&&ed(e,pb,K,Bc);Wg=!1;var Me=e.memoizedState;pb.state=Me;ie(e,K,pb,fa);Hc=e.memoizedState;Qb!==K||
Me!==Hc||Wf.current||Wg?("function"===typeof sd&&(af(e,r,sd,K),Hc=e.memoizedState),(Qb=Wg||tf(e,r,Qb,K,Me,Hc,Bc))?(Ed||"function"!==typeof pb.UNSAFE_componentWillMount&&"function"!==typeof pb.componentWillMount||("function"===typeof pb.componentWillMount&&pb.componentWillMount(),"function"===typeof pb.UNSAFE_componentWillMount&&pb.UNSAFE_componentWillMount()),"function"===typeof pb.componentDidMount&&(e.effectTag|=4)):("function"===typeof pb.componentDidMount&&(e.effectTag|=4),e.memoizedProps=K,e.memoizedState=
Hc),pb.props=K,pb.state=Hc,pb.context=Bc,K=Qb):("function"===typeof pb.componentDidMount&&(e.effectTag|=4),K=!1)}else pb=e.stateNode,Kd(c,e),Qb=e.memoizedProps,pb.props=e.type===e.elementType?Qb:re(e.type,Qb),Hc=pb.context,Bc=r.contextType,"object"===typeof Bc&&null!==Bc?Bc=Vd(Bc):(Bc=Jd(r)?Vg:Qf.current,Bc=Md(e,Bc)),sd=r.getDerivedStateFromProps,(Ed="function"===typeof sd||"function"===typeof pb.getSnapshotBeforeUpdate)||"function"!==typeof pb.UNSAFE_componentWillReceiveProps&&"function"!==typeof pb.componentWillReceiveProps||
(Qb!==K||Hc!==Bc)&&ed(e,pb,K,Bc),Wg=!1,Hc=e.memoizedState,pb.state=Hc,ie(e,K,pb,fa),Me=e.memoizedState,Qb!==K||Hc!==Me||Wf.current||Wg?("function"===typeof sd&&(af(e,r,sd,K),Me=e.memoizedState),(sd=Wg||tf(e,r,Qb,K,Hc,Me,Bc))?(Ed||"function"!==typeof pb.UNSAFE_componentWillUpdate&&"function"!==typeof pb.componentWillUpdate||("function"===typeof pb.componentWillUpdate&&pb.componentWillUpdate(K,Me,Bc),"function"===typeof pb.UNSAFE_componentWillUpdate&&pb.UNSAFE_componentWillUpdate(K,Me,Bc)),"function"===
typeof pb.componentDidUpdate&&(e.effectTag|=4),"function"===typeof pb.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof pb.componentDidUpdate||Qb===c.memoizedProps&&Hc===c.memoizedState||(e.effectTag|=4),"function"!==typeof pb.getSnapshotBeforeUpdate||Qb===c.memoizedProps&&Hc===c.memoizedState||(e.effectTag|=256),e.memoizedProps=K,e.memoizedState=Me),pb.props=K,pb.state=Me,pb.context=Bc,K=sd):("function"!==typeof pb.componentDidUpdate||Qb===c.memoizedProps&&Hc===c.memoizedState||(e.effectTag|=
4),"function"!==typeof pb.getSnapshotBeforeUpdate||Qb===c.memoizedProps&&Hc===c.memoizedState||(e.effectTag|=256),K=!1);return v(c,e,r,K,eb,fa)}function v(c,e,r,K,fa,eb){Db(c,e);var pb=0!==(e.effectTag&64);if(!K&&!pb)return fa&&jf(e,r,!1),Ob(c,e,eb);K=e.stateNode;Mg.current=e;var Qb=pb&&"function"!==typeof r.getDerivedStateFromError?null:K.render();e.effectTag|=1;null!==c&&pb?(e.child=Zg(e,c.child,null,eb),e.child=Zg(e,null,Qb,eb)):Ya(c,e,Qb,eb);e.memoizedState=K.state;fa&&jf(e,r,!0);return e.child}
function M(c){var e=c.stateNode;e.pendingContext?ne(c,e.pendingContext,e.pendingContext!==e.context):e.context&&ne(c,e.context,!1);bf(c,e.containerInfo)}function U(c,e,r){var K=e.mode,fa=e.pendingProps,eb=yf.current,pb=!1,Qb;(Qb=0!==(e.effectTag&64))||(Qb=0!==(eb&2)&&(null===c||null!==c.memoizedState));Qb?(pb=!0,e.effectTag&=-65):null!==c&&null===c.memoizedState||void 0===fa.fallback||!0===fa.unstable_avoidThisFallback||(eb|=1);$b(yf,eb&1);if(null===c){void 0!==fa.fallback&&ea(e);if(pb){pb=fa.fallback;
fa=Yg(null,K,0,null);fa.return=e;if(0===(e.mode&2))for(c=null!==e.memoizedState?e.child.child:e.child,fa.child=c;null!==c;)c.return=fa,c=c.sibling;r=Yg(pb,K,r,null);r.return=e;fa.sibling=r;e.memoizedState=dj;e.child=fa;return r}K=fa.children;e.memoizedState=null;return e.child=Oj(e,null,K,r)}if(null!==c.memoizedState){c=c.child;K=c.sibling;if(pb){fa=fa.fallback;r=Xg(c,c.pendingProps);r.return=e;if(0===(e.mode&2)&&(pb=null!==e.memoizedState?e.child.child:e.child,pb!==c.child))for(r.child=pb;null!==
pb;)pb.return=r,pb=pb.sibling;K=Xg(K,fa);K.return=e;r.sibling=K;r.childExpirationTime=0;e.memoizedState=dj;e.child=r;return K}r=Zg(e,c.child,fa.children,r);e.memoizedState=null;return e.child=r}c=c.child;if(pb){pb=fa.fallback;fa=Yg(null,K,0,null);fa.return=e;fa.child=c;null!==c&&(c.return=fa);if(0===(e.mode&2))for(c=null!==e.memoizedState?e.child.child:e.child,fa.child=c;null!==c;)c.return=fa,c=c.sibling;r=Yg(pb,K,r,null);r.return=e;fa.sibling=r;r.effectTag|=2;fa.childExpirationTime=0;e.memoizedState=
dj;e.child=fa;return r}e.memoizedState=null;return e.child=Zg(e,c,fa.children,r)}function La(c,e){c.expirationTime<e&&(c.expirationTime=e);var r=c.alternate;null!==r&&r.expirationTime<e&&(r.expirationTime=e);Zd(c.return,e)}function qb(c,e,r,K,fa,eb){var pb=c.memoizedState;null===pb?c.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:K,tail:r,tailExpiration:0,tailMode:fa,lastEffect:eb}:(pb.isBackwards=e,pb.rendering=null,pb.renderingStartTime=0,pb.last=K,pb.tail=r,pb.tailExpiration=
0,pb.tailMode=fa,pb.lastEffect=eb)}function yb(c,e,r){var K=e.pendingProps,fa=K.revealOrder,eb=K.tail;Ya(c,e,K.children,r);K=yf.current;if(0!==(K&2))K=K&1|2,e.effectTag|=64;else{if(null!==c&&0!==(c.effectTag&64))a:for(c=e.child;null!==c;){if(13===c.tag)null!==c.memoizedState&&La(c,r);else if(19===c.tag)La(c,r);else if(null!==c.child){c.child.return=c;c=c.child;continue}if(c===e)break a;for(;null===c.sibling;){if(null===c.return||c.return===e)break a;c=c.return}c.sibling.return=c.return;c=c.sibling}K&=
1}$b(yf,K);if(0===(e.mode&2))e.memoizedState=null;else switch(fa){case "forwards":r=e.child;for(fa=null;null!==r;)c=r.alternate,null!==c&&null===Ka(c)&&(fa=r),r=r.sibling;r=fa;null===r?(fa=e.child,e.child=null):(fa=r.sibling,r.sibling=null);qb(e,!1,fa,r,eb,e.lastEffect);break;case "backwards":r=null;fa=e.child;for(e.child=null;null!==fa;){c=fa.alternate;if(null!==c&&null===Ka(c)){e.child=fa;break}c=fa.sibling;fa.sibling=r;r=fa;fa=c}qb(e,!0,r,null,eb,e.lastEffect);break;case "together":qb(e,!1,null,
null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Ob(c,e,r){null!==c&&(e.dependencies=c.dependencies);var K=e.expirationTime;0!==K&&kf(K);if(e.childExpirationTime<r)return null;if(null!==c&&e.child!==c.child)throw Error(k(153));if(null!==e.child){c=e.child;r=Xg(c,c.pendingProps);e.child=r;for(r.return=e;null!==c.sibling;)c=c.sibling,r=r.sibling=Xg(c,c.pendingProps),r.return=e;r.sibling=null}return e.child}function ac(c,e){switch(c.tailMode){case "hidden":e=c.tail;
for(var r=null;null!==e;)null!==e.alternate&&(r=e),e=e.sibling;null===r?c.tail=null:r.sibling=null;break;case "collapsed":r=c.tail;for(var K=null;null!==r;)null!==r.alternate&&(K=r),r=r.sibling;null===K?e||null===c.tail?c.tail=null:c.tail.sibling=null:K.sibling=null}}function zc(c,e,r){var K=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Jd(e.type)&&Hb(),null;case 3:return De(),Dd(Wf),Dd(Qf),r=e.stateNode,r.pendingContext&&
(r.context=r.pendingContext,r.pendingContext=null),null!==c&&null!==c.child||!Aa(e)||(e.effectTag|=4),Pj(e),null;case 5:O(e);r=pf(ti.current);var fa=e.type;if(null!==c&&null!=e.stateNode)rl(c,e,fa,K,r),c.ref!==e.ref&&(e.effectTag|=128);else{if(!K){if(null===e.stateNode)throw Error(k(166));return null}c=pf(Cg.current);if(Aa(e)){K=e.stateNode;fa=e.type;var eb=e.memoizedProps;K[zg]=e;K[oh]=eb;switch(fa){case "iframe":case "object":case "embed":Eb("load",K);break;case "video":case "audio":for(c=0;c<kh.length;c++)Eb(kh[c],
K);break;case "source":Eb("error",K);break;case "img":case "image":case "link":Eb("error",K);Eb("load",K);break;case "form":Eb("reset",K);Eb("submit",K);break;case "details":Eb("toggle",K);break;case "input":w(K,eb);Eb("invalid",K);ge(r,"onChange");break;case "select":K._wrapperState={wasMultiple:!!eb.multiple};Eb("invalid",K);ge(r,"onChange");break;case "textarea":G(K,eb),Eb("invalid",K),ge(r,"onChange")}Gc(fa,eb);c=null;for(var pb in eb)if(eb.hasOwnProperty(pb)){var Qb=eb[pb];"children"===pb?"string"===
typeof Qb?K.textContent!==Qb&&(c=["children",Qb]):"number"===typeof Qb&&K.textContent!==""+Qb&&(c=["children",""+Qb]):fh.hasOwnProperty(pb)&&null!=Qb&&ge(r,pb)}switch(fa){case "input":Va(K);D(K,eb,!0);break;case "textarea":Va(K);ba(K);break;case "select":case "option":break;default:"function"===typeof eb.onClick&&(K.onclick=Ke)}r=c;e.updateQueue=r;null!==r&&(e.effectTag|=4)}else{pb=9===r.nodeType?r:r.ownerDocument;"http://www.w3.org/1999/xhtml"===c&&(c=V(fa));"http://www.w3.org/1999/xhtml"===c?"script"===
fa?(c=pb.createElement("div"),c.innerHTML="\x3cscript\x3e\x3c/script\x3e",c=c.removeChild(c.firstChild)):"string"===typeof K.is?c=pb.createElement(fa,{is:K.is}):(c=pb.createElement(fa),"select"===fa&&(pb=c,K.multiple?pb.multiple=!0:K.size&&(pb.size=K.size))):c=pb.createElementNS(c,fa);c[zg]=e;c[oh]=K;Ek(c,e,!1,!1);e.stateNode=c;pb=ke(fa,K);switch(fa){case "iframe":case "object":case "embed":Eb("load",c);Qb=K;break;case "video":case "audio":for(Qb=0;Qb<kh.length;Qb++)Eb(kh[Qb],c);Qb=K;break;case "source":Eb("error",
c);Qb=K;break;case "img":case "image":case "link":Eb("error",c);Eb("load",c);Qb=K;break;case "form":Eb("reset",c);Eb("submit",c);Qb=K;break;case "details":Eb("toggle",c);Qb=K;break;case "input":w(c,K);Qb=E(c,K);Eb("invalid",c);ge(r,"onChange");break;case "option":Qb=Y(c,K);break;case "select":c._wrapperState={wasMultiple:!!K.multiple};Qb=Kf({},K,{value:void 0});Eb("invalid",c);ge(r,"onChange");break;case "textarea":G(c,K);Qb=Ga(c,K);Eb("invalid",c);ge(r,"onChange");break;default:Qb=K}Gc(fa,Qb);var Hc=
Qb;for(eb in Hc)if(Hc.hasOwnProperty(eb)){var Bc=Hc[eb];"style"===eb?Jb(c,Bc):"dangerouslySetInnerHTML"===eb?(Bc=Bc?Bc.__html:void 0,null!=Bc&&Nf(c,Bc)):"children"===eb?"string"===typeof Bc?("textarea"!==fa||""!==Bc)&&p(c,Bc):"number"===typeof Bc&&p(c,""+Bc):"suppressContentEditableWarning"!==eb&&"suppressHydrationWarning"!==eb&&"autoFocus"!==eb&&(fh.hasOwnProperty(eb)?null!=Bc&&ge(r,eb):null!=Bc&&Qa(c,eb,Bc,pb))}switch(fa){case "input":Va(c);D(c,K,!1);break;case "textarea":Va(c);ba(c);break;case "option":null!=
K.value&&c.setAttribute("value",""+Da(K.value));break;case "select":c.multiple=!!K.multiple;r=K.value;null!=r?ua(c,!!K.multiple,r,!1):null!=K.defaultValue&&ua(c,!!K.multiple,K.defaultValue,!0);break;default:"function"===typeof Qb.onClick&&(c.onclick=Ke)}lb(fa,K)&&(e.effectTag|=4)}null!==e.ref&&(e.effectTag|=128)}return null;case 6:if(c&&null!=e.stateNode)Fk(c,e,c.memoizedProps,K);else{if("string"!==typeof K&&null===e.stateNode)throw Error(k(166));r=pf(ti.current);pf(Cg.current);Aa(e)?(r=e.stateNode,
K=e.memoizedProps,r[zg]=e,r.nodeValue!==K&&(e.effectTag|=4)):(r=(9===r.nodeType?r:r.ownerDocument).createTextNode(K),r[zg]=e,e.stateNode=r)}return null;case 13:Dd(yf);K=e.memoizedState;if(0!==(e.effectTag&64))return e.expirationTime=r,e;r=null!==K;K=!1;null===c?void 0!==e.memoizedProps.fallback&&Aa(e):(fa=c.memoizedState,K=null!==fa,r||null===fa||(fa=c.child.sibling,null!==fa&&(eb=e.firstEffect,null!==eb?(e.firstEffect=fa,fa.nextEffect=eb):(e.firstEffect=e.lastEffect=fa,fa.nextEffect=null),fa.effectTag=
8)));if(r&&!K&&0!==(e.mode&2))if(null===c&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(yf.current&1))If===sh&&(If=Yf);else{if(If===sh||If===Yf)If=th;0!==Tf&&null!==ig&&(sg(ig,dg),Of(ig,Tf))}if(r||K)e.effectTag|=4;return null;case 4:return De(),Pj(e),null;case 10:return Rd(e),null;case 17:return Jd(e.type)&&Hb(),null;case 19:Dd(yf);K=e.memoizedState;if(null===K)return null;fa=0!==(e.effectTag&64);eb=K.rendering;if(null===eb)if(fa)ac(K,!1);else{if(If!==sh||null!==c&&0!==(c.effectTag&64))for(eb=
e.child;null!==eb;){c=Ka(eb);if(null!==c){e.effectTag|=64;ac(K,!1);fa=c.updateQueue;null!==fa&&(e.updateQueue=fa,e.effectTag|=4);null===K.lastEffect&&(e.firstEffect=null);e.lastEffect=K.lastEffect;for(K=e.child;null!==K;)fa=K,eb=r,fa.effectTag&=2,fa.nextEffect=null,fa.firstEffect=null,fa.lastEffect=null,c=fa.alternate,null===c?(fa.childExpirationTime=0,fa.expirationTime=eb,fa.child=null,fa.memoizedProps=null,fa.memoizedState=null,fa.updateQueue=null,fa.dependencies=null):(fa.childExpirationTime=c.childExpirationTime,
fa.expirationTime=c.expirationTime,fa.child=c.child,fa.memoizedProps=c.memoizedProps,fa.memoizedState=c.memoizedState,fa.updateQueue=c.updateQueue,eb=c.dependencies,fa.dependencies=null===eb?null:{expirationTime:eb.expirationTime,firstContext:eb.firstContext,responders:eb.responders}),K=K.sibling;$b(yf,yf.current&1|2);return e.child}eb=eb.sibling}}else{if(!fa)if(c=Ka(eb),null!==c){if(e.effectTag|=64,fa=!0,r=c.updateQueue,null!==r&&(e.updateQueue=r,e.effectTag|=4),ac(K,!0),null===K.tail&&"hidden"===
K.tailMode&&!eb.alternate)return e=e.lastEffect=K.lastEffect,null!==e&&(e.nextEffect=null),null}else 2*eg()-K.renderingStartTime>K.tailExpiration&&1<r&&(e.effectTag|=64,fa=!0,ac(K,!1),e.expirationTime=e.childExpirationTime=r-1);K.isBackwards?(eb.sibling=e.child,e.child=eb):(r=K.last,null!==r?r.sibling=eb:e.child=eb,K.last=eb)}return null!==K.tail?(0===K.tailExpiration&&(K.tailExpiration=eg()+500),r=K.tail,K.rendering=r,K.tail=r.sibling,K.lastEffect=e.lastEffect,K.renderingStartTime=eg(),r.sibling=
null,e=yf.current,$b(yf,fa?e&1|2:e&1),r):null}throw Error(k(156,e.tag));}function vc(c){switch(c.tag){case 1:Jd(c.type)&&Hb();var e=c.effectTag;return e&4096?(c.effectTag=e&-4097|64,c):null;case 3:De();Dd(Wf);Dd(Qf);e=c.effectTag;if(0!==(e&64))throw Error(k(285));c.effectTag=e&-4097|64;return c;case 5:return O(c),null;case 13:return Dd(yf),e=c.effectTag,e&4096?(c.effectTag=e&-4097|64,c):null;case 19:return Dd(yf),null;case 4:return De(),null;case 10:return Rd(c),null;default:return null}}function ld(c,
e){return{value:c,source:e,stack:wa(e)}}function yd(c,e){var r=e.source,K=e.stack;null===K&&null!==r&&(K=wa(r));null!==r&&la(r.type);e=e.value;null!==c&&1===c.tag&&la(c.type);try{console.error(e)}catch(fa){setTimeout(function(){throw fa;})}}function Kc(c,e){try{e.props=c.memoizedProps,e.state=c.memoizedState,e.componentWillUnmount()}catch(r){$g(c,r)}}function Fd(c){var e=c.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(r){$g(c,r)}else e.current=null}function Td(c,e){switch(e.tag){case 0:case 11:case 15:case 22:return;
case 1:if(e.effectTag&256&&null!==c){var r=c.memoizedProps,K=c.memoizedState;c=e.stateNode;e=c.getSnapshotBeforeUpdate(e.elementType===e.type?r:re(e.type,r),K);c.__reactInternalSnapshotBeforeUpdate=e}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(k(163));}function te(c,e){e=e.updateQueue;e=null!==e?e.lastEffect:null;if(null!==e){var r=e=e.next;do{if((r.tag&c)===c){var K=r.destroy;r.destroy=void 0;void 0!==K&&K()}r=r.next}while(r!==e)}}function X(c,e){e=e.updateQueue;e=null!==e?e.lastEffect:
null;if(null!==e){var r=e=e.next;do{if((r.tag&c)===c){var K=r.create;r.destroy=K()}r=r.next}while(r!==e)}}function sa(c,e,r){switch(r.tag){case 0:case 11:case 15:case 22:X(3,r);return;case 1:c=r.stateNode;if(r.effectTag&4)if(null===e)c.componentDidMount();else{var K=r.elementType===r.type?e.memoizedProps:re(r.type,e.memoizedProps);c.componentDidUpdate(K,e.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}e=r.updateQueue;null!==e&&ye(r,e,c);return;case 3:e=r.updateQueue;if(null!==e){c=null;if(null!==
r.child)switch(r.child.tag){case 5:c=r.child.stateNode;break;case 1:c=r.child.stateNode}ye(r,e,c)}return;case 5:c=r.stateNode;null===e&&r.effectTag&4&&lb(r.type,r.memoizedProps)&&c.focus();return;case 6:return;case 4:return;case 12:return;case 13:null===r.memoizedState&&(r=r.alternate,null!==r&&(r=r.memoizedState,null!==r&&(r=r.dehydrated,null!==r&&gb(r))));return;case 19:case 17:case 20:case 21:return}throw Error(k(163));}function Pa(c,e,r){"function"===typeof ej&&ej(e);switch(e.tag){case 0:case 11:case 14:case 15:case 22:c=
e.updateQueue;if(null!==c&&(c=c.lastEffect,null!==c)){var K=c.next;Ge(97<r?97:r,function(){var fa=K;do{var eb=fa.destroy;if(void 0!==eb){var pb=e;try{eb()}catch(Qb){$g(pb,Qb)}}fa=fa.next}while(fa!==K)})}break;case 1:Fd(e);r=e.stateNode;"function"===typeof r.componentWillUnmount&&Kc(e,r);break;case 5:Fd(e);break;case 4:rc(c,e,r)}}function kb(c){var e=c.alternate;c.return=null;c.child=null;c.memoizedState=null;c.updateQueue=null;c.dependencies=null;c.alternate=null;c.firstEffect=null;c.lastEffect=null;
c.pendingProps=null;c.memoizedProps=null;c.stateNode=null;null!==e&&kb(e)}function Ab(c){return 5===c.tag||3===c.tag||4===c.tag}function jc(c){a:{for(var e=c.return;null!==e;){if(Ab(e)){var r=e;break a}e=e.return}throw Error(k(160));}e=r.stateNode;switch(r.tag){case 5:var K=!1;break;case 3:e=e.containerInfo;K=!0;break;case 4:e=e.containerInfo;K=!0;break;default:throw Error(k(161));}r.effectTag&16&&(p(e,""),r.effectTag&=-17);r=c;a:b:for(;;){for(;null===r.sibling;){if(null===r.return||Ab(r.return)){r=
null;break a}r=r.return}r.sibling.return=r.return;for(r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(r.effectTag&2)continue b;if(null===r.child||4===r.tag)continue b;else r.child.return=r,r=r.child}if(!(r.effectTag&2)){r=r.stateNode;break a}}K?nc(c,r,e):kc(c,r,e)}function nc(c,e,r){var K=c.tag,fa=5===K||6===K;if(fa)c=fa?c.stateNode:c.stateNode.instance,e?8===r.nodeType?r.parentNode.insertBefore(c,e):r.insertBefore(c,e):(8===r.nodeType?(e=r.parentNode,e.insertBefore(c,r)):(e=r,e.appendChild(c)),
r=r._reactRootContainer,null!==r&&void 0!==r||null!==e.onclick||(e.onclick=Ke));else if(4!==K&&(c=c.child,null!==c))for(nc(c,e,r),c=c.sibling;null!==c;)nc(c,e,r),c=c.sibling}function kc(c,e,r){var K=c.tag,fa=5===K||6===K;if(fa)c=fa?c.stateNode:c.stateNode.instance,e?r.insertBefore(c,e):r.appendChild(c);else if(4!==K&&(c=c.child,null!==c))for(kc(c,e,r),c=c.sibling;null!==c;)kc(c,e,r),c=c.sibling}function rc(c,e,r){for(var K=e,fa=!1,eb,pb;;){if(!fa){fa=K.return;a:for(;;){if(null===fa)throw Error(k(160));
eb=fa.stateNode;switch(fa.tag){case 5:pb=!1;break a;case 3:eb=eb.containerInfo;pb=!0;break a;case 4:eb=eb.containerInfo;pb=!0;break a}fa=fa.return}fa=!0}if(5===K.tag||6===K.tag){var Qb=c,Hc=K,Bc=r,sd=Hc;a:for(;;)if(Pa(Qb,sd,Bc),null!==sd.child&&4!==sd.tag)sd.child.return=sd,sd=sd.child;else{if(sd===Hc)break a;for(;null===sd.sibling;){if(null===sd.return||sd.return===Hc)break a;sd=sd.return}sd.sibling.return=sd.return;sd=sd.sibling}pb?(Qb=eb,Hc=K.stateNode,8===Qb.nodeType?Qb.parentNode.removeChild(Hc):
Qb.removeChild(Hc)):eb.removeChild(K.stateNode)}else if(4===K.tag){if(null!==K.child){eb=K.stateNode.containerInfo;pb=!0;K.child.return=K;K=K.child;continue}}else if(Pa(c,K,r),null!==K.child){K.child.return=K;K=K.child;continue}if(K===e)break;for(;null===K.sibling;){if(null===K.return||K.return===e)return;K=K.return;4===K.tag&&(fa=!1)}K.sibling.return=K.return;K=K.sibling}}function tc(c,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:te(3,e);return;case 1:return;case 5:var r=e.stateNode;if(null!=
r){var K=e.memoizedProps,fa=null!==c?c.memoizedProps:K;c=e.type;var eb=e.updateQueue;e.updateQueue=null;if(null!==eb){r[oh]=K;"input"===c&&"radio"===K.type&&null!=K.name&&F(r,K);ke(c,fa);e=ke(c,K);for(fa=0;fa<eb.length;fa+=2){var pb=eb[fa],Qb=eb[fa+1];"style"===pb?Jb(r,Qb):"dangerouslySetInnerHTML"===pb?Nf(r,Qb):"children"===pb?p(r,Qb):Qa(r,pb,Qb,e)}switch(c){case "input":Z(r,K);break;case "textarea":ca(r,K);break;case "select":e=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!K.multiple,
c=K.value,null!=c?ua(r,!!K.multiple,c,!1):e!==!!K.multiple&&(null!=K.defaultValue?ua(r,!!K.multiple,K.defaultValue,!0):ua(r,!!K.multiple,K.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(k(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:e=e.stateNode;e.hydrate&&(e.hydrate=!1,gb(e.containerInfo));return;case 12:return;case 13:r=e;null===e.memoizedState?K=!1:(K=!0,r=e.child,Qj=eg());if(null!==r)a:for(c=r;;){if(5===c.tag)eb=c.stateNode,K?(eb=eb.style,"function"===typeof eb.setProperty?
eb.setProperty("display","none","important"):eb.display="none"):(eb=c.stateNode,fa=c.memoizedProps.style,fa=void 0!==fa&&null!==fa&&fa.hasOwnProperty("display")?fa.display:null,eb.style.display=tb("display",fa));else if(6===c.tag)c.stateNode.nodeValue=K?"":c.memoizedProps;else if(13===c.tag&&null!==c.memoizedState&&null===c.memoizedState.dehydrated){eb=c.child.sibling;eb.return=c;c=eb;continue}else if(null!==c.child){c.child.return=c;c=c.child;continue}if(c===r)break;for(;null===c.sibling;){if(null===
c.return||c.return===r)break a;c=c.return}c.sibling.return=c.return;c=c.sibling}ad(e);return;case 19:ad(e);return;case 17:return}throw Error(k(163));}function ad(c){var e=c.updateQueue;if(null!==e){c.updateQueue=null;var r=c.stateNode;null===r&&(r=c.stateNode=new Gk);e.forEach(function(K){var fa=sl.bind(null,c,K);r.has(K)||(r.add(K),K.then(fa,fa))})}}function Mc(c,e,r){r=Pe(r,null);r.tag=3;r.payload={element:null};var K=e.value;r.callback=function(){fj||(fj=!0,tg=K);yd(c,e)};return r}function Lc(c,
e,r){r=Pe(r,null);r.tag=3;var K=c.type.getDerivedStateFromError;if("function"===typeof K){var fa=e.value;r.payload=function(){yd(c,e);return K(fa)}}var eb=c.stateNode;null!==eb&&"function"===typeof eb.componentDidCatch&&(r.callback=function(){"function"!==typeof K&&(null===ug?ug=new Set([this]):ug.add(this),yd(c,e));var pb=e.stack;this.componentDidCatch(e.value,{componentStack:null!==pb?pb:""})});return r}function Rc(){return(qe&(jg|pg))!==Jf?1073741821-(eg()/10|0):0!==gj?gj:gj=1073741821-(eg()/10|
0)}function gd(c,e,r){e=e.mode;if(0===(e&2))return 1073741823;var K=Je();if(0===(e&4))return 99===K?1073741823:1073741822;if((qe&jg)!==Jf)return dg;if(null!==r)c=Wc(c,r.timeoutMs|0||5E3,250);else switch(K){case 99:c=1073741823;break;case 98:c=Wc(c,150,100);break;case 97:case 96:c=Wc(c,5E3,250);break;case 95:c=2;break;default:throw Error(k(326));}null!==ig&&c===dg&&--c;return c}function hd(c,e){if(50<ah)throw ah=0,hj=null,Error(k(185));c=fe(c,e);if(null!==c){var r=Je();1073741823===e?(qe&Rj)!==Jf&&
(qe&(jg|pg))===Jf?bd(c):(Id(c),qe===Jf&&Hd()):Id(c);(qe&4)===Jf||98!==r&&99!==r||(null===bh?bh=new Map([[c,e]]):(r=bh.get(c),(void 0===r||r>e)&&bh.set(c,e)))}}function fe(c,e){c.expirationTime<e&&(c.expirationTime=e);var r=c.alternate;null!==r&&r.expirationTime<e&&(r.expirationTime=e);var K=c.return,fa=null;if(null===K&&3===c.tag)fa=c.stateNode;else for(;null!==K;){r=K.alternate;K.childExpirationTime<e&&(K.childExpirationTime=e);null!==r&&r.childExpirationTime<e&&(r.childExpirationTime=e);if(null===
K.return&&3===K.tag){fa=K.stateNode;break}K=K.return}null!==fa&&(ig===fa&&(kf(e),If===th&&sg(fa,dg)),Of(fa,e));return fa}function Ud(c){var e=c.lastExpiredTime;if(0!==e)return e;e=c.firstPendingTime;if(!Hk(c,e))return e;var r=c.lastPingedTime;c=c.nextKnownPendingLevel;c=r>c?r:c;return 2>=c&&e!==c?0:c}function Id(c){if(0!==c.lastExpiredTime)c.callbackExpirationTime=1073741823,c.callbackPriority=99,c.callbackNode=ec(bd.bind(null,c));else{var e=Ud(c),r=c.callbackNode;if(0===e)null!==r&&(c.callbackNode=
null,c.callbackExpirationTime=0,c.callbackPriority=90);else{var K=Rc();1073741823===e?K=99:1===e||2===e?K=95:(K=10*(1073741821-e)-10*(1073741821-K),K=0>=K?99:250>=K?98:5250>=K?97:95);if(null!==r){var fa=c.callbackPriority;if(c.callbackExpirationTime===e&&fa>=K)return;r!==Bk&&Ck(r)}c.callbackExpirationTime=e;c.callbackPriority=K;e=1073741823===e?ec(bd.bind(null,c)):Nd(K,rd.bind(null,c),{timeout:10*(1073741821-e)-eg()});c.callbackNode=e}}}function rd(c,e){gj=0;if(e)return e=Rc(),xi(c,e),Id(c),null;
var r=Ud(c);if(0!==r){e=c.callbackNode;if((qe&(jg|pg))!==Jf)throw Error(k(327));Ph();c===ig&&r===dg||Ne(c,r);if(null!==ue){var K=qe;qe|=jg;var fa=Be();do try{for(;null!==ue&&!tl();)ue=ff(ue);break}catch(Qb){we(c,Qb)}while(1);Mh=rg=Lh=null;qe=K;ij.current=fa;if(If===yi)throw e=Uf,Ne(c,r),sg(c,r),Id(c),e;if(null===ue)switch(fa=c.finishedWork=c.current.alternate,c.finishedExpirationTime=r,K=If,ig=null,K){case sh:case yi:throw Error(k(345));case Sj:xi(c,2<r?2:r);break;case Yf:sg(c,r);K=c.lastSuspendedTime;
r===K&&(c.nextKnownPendingLevel=wd(fa));if(1073741823===vg&&(fa=Qj+Eg-eg(),10<fa)){if(Qh){var eb=c.lastPingedTime;if(0===eb||eb>=r){c.lastPingedTime=r;Ne(c,r);break}}eb=Ud(c);if(0!==eb&&eb!==r)break;if(0!==K&&K!==r){c.lastPingedTime=K;break}c.timeoutHandle=Tj(Ue.bind(null,c),fa);break}Ue(c);break;case th:sg(c,r);K=c.lastSuspendedTime;r===K&&(c.nextKnownPendingLevel=wd(fa));if(Qh&&(fa=c.lastPingedTime,0===fa||fa>=r)){c.lastPingedTime=r;Ne(c,r);break}fa=Ud(c);if(0!==fa&&fa!==r)break;if(0!==K&&K!==r){c.lastPingedTime=
K;break}1073741823!==zi?K=10*(1073741821-zi)-eg():1073741823===vg?K=0:(K=10*(1073741821-vg)-5E3,fa=eg(),r=10*(1073741821-r)-fa,K=fa-K,0>K&&(K=0),K=(120>K?120:480>K?480:1080>K?1080:1920>K?1920:3E3>K?3E3:4320>K?4320:1960*ul(K/1960))-K,r<K&&(K=r));if(10<K){c.timeoutHandle=Tj(Ue.bind(null,c),K);break}Ue(c);break;case Uj:if(1073741823!==vg&&null!==Cf){eb=vg;var pb=Cf;K=pb.busyMinDurationMs|0;0>=K?K=0:(fa=pb.busyDelayMs|0,eb=eg()-(10*(1073741821-eb)-(pb.timeoutMs|0||5E3)),K=eb<=fa?0:fa+K-eb);if(10<K){sg(c,
r);c.timeoutHandle=Tj(Ue.bind(null,c),K);break}}Ue(c);break;default:throw Error(k(329));}Id(c);if(c.callbackNode===e)return rd.bind(null,c)}}return null}function bd(c){var e=c.lastExpiredTime;e=0!==e?e:1073741823;if((qe&(jg|pg))!==Jf)throw Error(k(327));Ph();c===ig&&e===dg||Ne(c,e);if(null!==ue){var r=qe;qe|=jg;var K=Be();do try{for(;null!==ue;)ue=ff(ue);break}catch(fa){we(c,fa)}while(1);Mh=rg=Lh=null;qe=r;ij.current=K;if(If===yi)throw r=Uf,Ne(c,e),sg(c,e),Id(c),r;if(null!==ue)throw Error(k(261));
c.finishedWork=c.current.alternate;c.finishedExpirationTime=e;ig=null;Ue(c);Id(c)}return null}function Pd(){if(null!==bh){var c=bh;bh=null;c.forEach(function(e,r){xi(r,e);Id(r)});Hd()}}function He(c,e){var r=qe;qe|=1;try{return c(e)}finally{qe=r,qe===Jf&&Hd()}}function Oe(c,e){var r=qe;qe&=-2;qe|=Rj;try{return c(e)}finally{qe=r,qe===Jf&&Hd()}}function Ne(c,e){c.finishedWork=null;c.finishedExpirationTime=0;var r=c.timeoutHandle;-1!==r&&(c.timeoutHandle=-1,Vj(r));if(null!==ue)for(r=ue.return;null!==
r;){var K=r;switch(K.tag){case 1:K=K.type.childContextTypes;null!==K&&void 0!==K&&Hb();break;case 3:De();Dd(Wf);Dd(Qf);break;case 5:O(K);break;case 4:De();break;case 13:Dd(yf);break;case 19:Dd(yf);break;case 10:Rd(K)}r=r.return}ig=c;ue=Xg(c.current,null);dg=e;If=sh;Uf=null;zi=vg=1073741823;Cf=null;Tf=0;Qh=!1}function we(c,e){do{try{Mh=rg=Lh=null;aj.current=Wd;if(bj)for(var r=zf.memoizedState;null!==r;){var K=r.queue;null!==K&&(K.pending=null);r=r.next}Dg=0;Rf=Sf=zf=null;bj=!1;if(null===ue||null===
ue.return)return If=yi,Uf=e,ue=null;a:{var fa=c,eb=ue.return,pb=ue,Qb=e;e=dg;pb.effectTag|=2048;pb.firstEffect=pb.lastEffect=null;if(null!==Qb&&"object"===typeof Qb&&"function"===typeof Qb.then){var Hc=Qb;if(0===(pb.mode&2)){var Bc=pb.alternate;Bc?(pb.updateQueue=Bc.updateQueue,pb.memoizedState=Bc.memoizedState,pb.expirationTime=Bc.expirationTime):(pb.updateQueue=null,pb.memoizedState=null)}var sd=0!==(yf.current&1),Ed=eb;do{var Me;if(Me=13===Ed.tag){var $e=Ed.memoizedState;if(null!==$e)Me=null!==
$e.dehydrated?!0:!1;else{var nf=Ed.memoizedProps;Me=void 0===nf.fallback?!1:!0!==nf.unstable_avoidThisFallback?!0:sd?!1:!0}}if(Me){var Hf=Ed.updateQueue;if(null===Hf){var wc=new Set;wc.add(Hc);Ed.updateQueue=wc}else Hf.add(Hc);if(0===(Ed.mode&2)){Ed.effectTag|=64;pb.effectTag&=-2981;if(1===pb.tag)if(null===pb.alternate)pb.tag=17;else{var mc=Pe(1073741823,null);mc.tag=2;td(pb,mc)}pb.expirationTime=1073741823;break a}Qb=void 0;pb=e;var Qc=fa.pingCache;null===Qc?(Qc=fa.pingCache=new Ik,Qb=new Set,Qc.set(Hc,
Qb)):(Qb=Qc.get(Hc),void 0===Qb&&(Qb=new Set,Qc.set(Hc,Qb)));if(!Qb.has(pb)){Qb.add(pb);var md=Wj.bind(null,fa,Hc,pb);Hc.then(md,md)}Ed.effectTag|=4096;Ed.expirationTime=e;break a}Ed=Ed.return}while(null!==Ed);Qb=Error((la(pb.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a \x3cSuspense fallback\x3d...\x3e component higher in the tree to provide a loading indicator or placeholder to display."+wa(pb))}If!==Uj&&(If=Sj);Qb=ld(Qb,pb);Ed=eb;do{switch(Ed.tag){case 3:Hc=
Qb;Ed.effectTag|=4096;Ed.expirationTime=e;var Ad=Mc(Ed,Hc,e);vd(Ed,Ad);break a;case 1:Hc=Qb;var Sd=Ed.type,je=Ed.stateNode;if(0===(Ed.effectTag&64)&&("function"===typeof Sd.getDerivedStateFromError||null!==je&&"function"===typeof je.componentDidCatch&&(null===ug||!ug.has(je)))){Ed.effectTag|=4096;Ed.expirationTime=e;var Qe=Lc(Ed,Hc,e);vd(Ed,Qe);break a}}Ed=Ed.return}while(null!==Ed)}ue=Ng(ue)}catch(sf){e=sf;continue}break}while(1)}function Be(){var c=ij.current;ij.current=Wd;return null===c?Wd:c}
function wf(c,e){c<vg&&2<c&&(vg=c);null!==e&&c<zi&&2<c&&(zi=c,Cf=e)}function kf(c){c>Tf&&(Tf=c)}function ff(c){var e=Jk(c.alternate,c,dg);c.memoizedProps=c.pendingProps;null===e&&(e=Ng(c));Kk.current=null;return e}function Ng(c){ue=c;do{var e=ue.alternate;c=ue.return;if(0===(ue.effectTag&2048)){e=zc(e,ue,dg);if(1===dg||1!==ue.childExpirationTime){for(var r=0,K=ue.child;null!==K;){var fa=K.expirationTime,eb=K.childExpirationTime;fa>r&&(r=fa);eb>r&&(r=eb);K=K.sibling}ue.childExpirationTime=r}if(null!==
e)return e;null!==c&&0===(c.effectTag&2048)&&(null===c.firstEffect&&(c.firstEffect=ue.firstEffect),null!==ue.lastEffect&&(null!==c.lastEffect&&(c.lastEffect.nextEffect=ue.firstEffect),c.lastEffect=ue.lastEffect),1<ue.effectTag&&(null!==c.lastEffect?c.lastEffect.nextEffect=ue:c.firstEffect=ue,c.lastEffect=ue))}else{e=vc(ue);if(null!==e)return e.effectTag&=2047,e;null!==c&&(c.firstEffect=c.lastEffect=null,c.effectTag|=2048)}e=ue.sibling;if(null!==e)return e;ue=c}while(null!==ue);If===sh&&(If=Uj);return null}
function wd(c){var e=c.expirationTime;c=c.childExpirationTime;return e>c?e:c}function Ue(c){var e=Je();Ge(99,Fg.bind(null,c,e));return null}function Fg(c,e){do Ph();while(null!==Rh);if((qe&(jg|pg))!==Jf)throw Error(k(327));var r=c.finishedWork,K=c.finishedExpirationTime;if(null===r)return null;c.finishedWork=null;c.finishedExpirationTime=0;if(r===c.current)throw Error(k(177));c.callbackNode=null;c.callbackExpirationTime=0;c.callbackPriority=90;c.nextKnownPendingLevel=0;var fa=wd(r);c.firstPendingTime=
fa;K<=c.lastSuspendedTime?c.firstSuspendedTime=c.lastSuspendedTime=c.nextKnownPendingLevel=0:K<=c.firstSuspendedTime&&(c.firstSuspendedTime=K-1);K<=c.lastPingedTime&&(c.lastPingedTime=0);K<=c.lastExpiredTime&&(c.lastExpiredTime=0);c===ig&&(ue=ig=null,dg=0);1<r.effectTag?null!==r.lastEffect?(r.lastEffect.nextEffect=r,fa=r.firstEffect):fa=r:fa=r.firstEffect;if(null!==fa){var eb=qe;qe|=pg;Kk.current=null;jj=mi;var pb=mb();if(Gb(pb)){if("selectionStart"in pb)var Qb={start:pb.selectionStart,end:pb.selectionEnd};
else a:{Qb=(Qb=pb.ownerDocument)&&Qb.defaultView||window;var Hc=Qb.getSelection&&Qb.getSelection();if(Hc&&0!==Hc.rangeCount){Qb=Hc.anchorNode;var Bc=Hc.anchorOffset,sd=Hc.focusNode;Hc=Hc.focusOffset;try{Qb.nodeType,sd.nodeType}catch(Fe){Qb=null;break a}var Ed=0,Me=-1,$e=-1,nf=0,Hf=0,wc=pb,mc=null;b:for(;;){for(var Qc;;){wc!==Qb||0!==Bc&&3!==wc.nodeType||(Me=Ed+Bc);wc!==sd||0!==Hc&&3!==wc.nodeType||($e=Ed+Hc);3===wc.nodeType&&(Ed+=wc.nodeValue.length);if(null===(Qc=wc.firstChild))break;mc=wc;wc=Qc}for(;;){if(wc===
pb)break b;mc===Qb&&++nf===Bc&&(Me=Ed);mc===sd&&++Hf===Hc&&($e=Ed);if(null!==(Qc=wc.nextSibling))break;wc=mc;mc=wc.parentNode}wc=Qc}Qb=-1===Me||-1===$e?null:{start:Me,end:$e}}else Qb=null}Qb=Qb||{start:0,end:0}}else Qb=null;Xj={activeElementDetached:null,focusedElem:pb,selectionRange:Qb};mi=!1;Xd=fa;do try{kg()}catch(Fe){if(null===Xd)throw Error(k(330));$g(Xd,Fe);Xd=Xd.nextEffect}while(null!==Xd);Xd=fa;do try{for(pb=c,Qb=e;null!==Xd;){var md=Xd.effectTag;md&16&&p(Xd.stateNode,"");if(md&128){var Ad=
Xd.alternate;if(null!==Ad){var Sd=Ad.ref;null!==Sd&&("function"===typeof Sd?Sd(null):Sd.current=null)}}switch(md&1038){case 2:jc(Xd);Xd.effectTag&=-3;break;case 6:jc(Xd);Xd.effectTag&=-3;tc(Xd.alternate,Xd);break;case 1024:Xd.effectTag&=-1025;break;case 1028:Xd.effectTag&=-1025;tc(Xd.alternate,Xd);break;case 4:tc(Xd.alternate,Xd);break;case 8:Bc=Xd,rc(pb,Bc,Qb),kb(Bc)}Xd=Xd.nextEffect}}catch(Fe){if(null===Xd)throw Error(k(330));$g(Xd,Fe);Xd=Xd.nextEffect}while(null!==Xd);Sd=Xj;Ad=mb();md=Sd.focusedElem;
Qb=Sd.selectionRange;if(Ad!==md&&md&&md.ownerDocument&&Na(md.ownerDocument.documentElement,md)){null!==Qb&&Gb(md)&&(Ad=Qb.start,Sd=Qb.end,void 0===Sd&&(Sd=Ad),"selectionStart"in md?(md.selectionStart=Ad,md.selectionEnd=Math.min(Sd,md.value.length)):(Sd=(Ad=md.ownerDocument||document)&&Ad.defaultView||window,Sd.getSelection&&(Sd=Sd.getSelection(),Bc=md.textContent.length,pb=Math.min(Qb.start,Bc),Qb=void 0===Qb.end?pb:Math.min(Qb.end,Bc),!Sd.extend&&pb>Qb&&(Bc=Qb,Qb=pb,pb=Bc),Bc=ja(md,pb),sd=ja(md,
Qb),Bc&&sd&&(1!==Sd.rangeCount||Sd.anchorNode!==Bc.node||Sd.anchorOffset!==Bc.offset||Sd.focusNode!==sd.node||Sd.focusOffset!==sd.offset)&&(Ad=Ad.createRange(),Ad.setStart(Bc.node,Bc.offset),Sd.removeAllRanges(),pb>Qb?(Sd.addRange(Ad),Sd.extend(sd.node,sd.offset)):(Ad.setEnd(sd.node,sd.offset),Sd.addRange(Ad))))));Ad=[];for(Sd=md;Sd=Sd.parentNode;)1===Sd.nodeType&&Ad.push({element:Sd,left:Sd.scrollLeft,top:Sd.scrollTop});"function"===typeof md.focus&&md.focus();for(md=0;md<Ad.length;md++)Sd=Ad[md],
Sd.element.scrollLeft=Sd.left,Sd.element.scrollTop=Sd.top}mi=!!jj;Xj=jj=null;c.current=r;Xd=fa;do try{for(md=c;null!==Xd;){var je=Xd.effectTag;je&36&&sa(md,Xd.alternate,Xd);if(je&128){Ad=void 0;var Qe=Xd.ref;if(null!==Qe){var sf=Xd.stateNode;switch(Xd.tag){case 5:Ad=sf;break;default:Ad=sf}"function"===typeof Qe?Qe(Ad):Qe.current=Ad}}Xd=Xd.nextEffect}}catch(Fe){if(null===Xd)throw Error(k(330));$g(Xd,Fe);Xd=Xd.nextEffect}while(null!==Xd);Xd=null;Lk();qe=eb}else c.current=r;if(Ai)Ai=!1,Rh=c,Bi=e;else for(Xd=
fa;null!==Xd;)e=Xd.nextEffect,Xd.nextEffect=null,Xd=e;e=c.firstPendingTime;0===e&&(ug=null);1073741823===e?c===hj?ah++:(ah=0,hj=c):ah=0;"function"===typeof Yj&&Yj(r.stateNode,K);Id(c);if(fj)throw fj=!1,c=tg,tg=null,c;if((qe&Rj)!==Jf)return null;Hd();return null}function kg(){for(;null!==Xd;){var c=Xd.effectTag;0!==(c&256)&&Td(Xd.alternate,Xd);0===(c&512)||Ai||(Ai=!0,Nd(97,function(){Ph();return null}));Xd=Xd.nextEffect}}function Ph(){if(90!==Bi){var c=97<Bi?97:Bi;Bi=90;return Ge(c,Sh)}}function Sh(){if(null===
Rh)return!1;var c=Rh;Rh=null;if((qe&(jg|pg))!==Jf)throw Error(k(331));var e=qe;qe|=pg;for(c=c.current.firstEffect;null!==c;){try{var r=c;if(0!==(r.effectTag&512))switch(r.tag){case 0:case 11:case 15:case 22:te(5,r),X(5,r)}}catch(K){if(null===c)throw Error(k(330));$g(c,K)}r=c.nextEffect;c.nextEffect=null;c=r}qe=e;Hd();return!0}function Th(c,e,r){e=ld(r,e);e=Mc(c,e,1073741823);td(c,e);c=fe(c,1073741823);null!==c&&Id(c)}function $g(c,e){if(3===c.tag)Th(c,c,e);else for(var r=c.return;null!==r;){if(3===
r.tag){Th(r,c,e);break}else if(1===r.tag){var K=r.stateNode;if("function"===typeof r.type.getDerivedStateFromError||"function"===typeof K.componentDidCatch&&(null===ug||!ug.has(K))){c=ld(e,c);c=Lc(r,c,1073741823);td(r,c);r=fe(r,1073741823);null!==r&&Id(r);break}}r=r.return}}function Wj(c,e,r){var K=c.pingCache;null!==K&&K.delete(e);ig===c&&dg===r?If===th||If===Yf&&1073741823===vg&&eg()-Qj<Eg?Ne(c,dg):Qh=!0:Hk(c,r)&&(e=c.lastPingedTime,0!==e&&e<r||(c.lastPingedTime=r,Id(c)))}function sl(c,e){var r=
c.stateNode;null!==r&&r.delete(e);e=0;0===e&&(e=Rc(),e=gd(e,c,null));c=fe(c,e);null!==c&&Id(c)}function Uh(c){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var r=e.inject(c);Yj=function(K){try{e.onCommitFiberRoot(r,K,void 0,64===(K.current.effectTag&64))}catch(fa){}};ej=function(K){try{e.onCommitFiberUnmount(r,K)}catch(fa){}}}catch(K){}return!0}function Zj(c,e,r,K){this.tag=c;this.key=r;this.sibling=
this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=e;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=K;this.effectTag=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childExpirationTime=this.expirationTime=0;this.alternate=null}function hg(c,e,r,K){return new Zj(c,e,r,K)}function cj(c){c=c.prototype;return!(!c||!c.isReactComponent)}function Mk(c){if("function"===typeof c)return cj(c)?
1:0;if(void 0!==c&&null!==c){c=c.$$typeof;if(c===Oi)return 11;if(c===ih)return 14}return 2}function Xg(c,e){var r=c.alternate;null===r?(r=hg(c.tag,e,c.key,c.mode),r.elementType=c.elementType,r.type=c.type,r.stateNode=c.stateNode,r.alternate=c,c.alternate=r):(r.pendingProps=e,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null);r.childExpirationTime=c.childExpirationTime;r.expirationTime=c.expirationTime;r.child=c.child;r.memoizedProps=c.memoizedProps;r.memoizedState=c.memoizedState;
r.updateQueue=c.updateQueue;e=c.dependencies;r.dependencies=null===e?null:{expirationTime:e.expirationTime,firstContext:e.firstContext,responders:e.responders};r.sibling=c.sibling;r.index=c.index;r.ref=c.ref;return r}function Zi(c,e,r,K,fa,eb){var pb=2;K=c;if("function"===typeof c)cj(c)&&(pb=1);else if("string"===typeof c)pb=5;else a:switch(c){case Rg:return Yg(r.children,fa,eb,e);case fg:pb=8;fa|=7;break;case Ni:pb=8;fa|=1;break;case gi:return c=hg(12,r,e,fa|8),c.elementType=gi,c.type=gi,c.expirationTime=
eb,c;case hi:return c=hg(13,r,e,fa),c.type=hi,c.elementType=hi,c.expirationTime=eb,c;case ii:return c=hg(19,r,e,fa),c.elementType=ii,c.expirationTime=eb,c;default:if("object"===typeof c&&null!==c)switch(c.$$typeof){case qk:pb=10;break a;case yj:pb=9;break a;case Oi:pb=11;break a;case ih:pb=14;break a;case Aj:pb=16;K=null;break a;case zj:pb=22;break a}throw Error(k(130,null==c?c:typeof c,""));}e=hg(pb,r,e,fa);e.elementType=c;e.type=K;e.expirationTime=eb;return e}function Yg(c,e,r,K){c=hg(7,c,K,e);
c.expirationTime=r;return c}function Mj(c,e,r){c=hg(6,c,null,e);c.expirationTime=r;return c}function Bf(c,e,r){e=hg(4,null!==c.children?c.children:[],c.key,e);e.expirationTime=r;e.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation};return e}function Nk(c,e,r){this.tag=e;this.current=null;this.containerInfo=c;this.pingCache=this.pendingChildren=null;this.finishedExpirationTime=0;this.finishedWork=null;this.timeoutHandle=-1;this.pendingContext=this.context=
null;this.hydrate=r;this.callbackNode=null;this.callbackPriority=90;this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Hk(c,e){var r=c.firstSuspendedTime;c=c.lastSuspendedTime;return 0!==r&&r>=e&&c<=e}function sg(c,e){var r=c.firstSuspendedTime,K=c.lastSuspendedTime;r<e&&(c.firstSuspendedTime=e);if(K>e||0===r)c.lastSuspendedTime=e;e<=c.lastPingedTime&&(c.lastPingedTime=0);e<=c.lastExpiredTime&&(c.lastExpiredTime=
0)}function Of(c,e){e>c.firstPendingTime&&(c.firstPendingTime=e);var r=c.firstSuspendedTime;0!==r&&(e>=r?c.firstSuspendedTime=c.lastSuspendedTime=c.nextKnownPendingLevel=0:e>=c.lastSuspendedTime&&(c.lastSuspendedTime=e+1),e>c.nextKnownPendingLevel&&(c.nextKnownPendingLevel=e))}function xi(c,e){var r=c.lastExpiredTime;if(0===r||r>e)c.lastExpiredTime=e}function Ci(c,e,r,K){var fa=e.current,eb=Rc(),pb=wi.suspense;eb=gd(eb,fa,pb);a:if(r){r=r._reactInternalFiber;b:{if(u(r)!==r||1!==r.tag)throw Error(k(170));
var Qb=r;do{switch(Qb.tag){case 3:Qb=Qb.stateNode.context;break b;case 1:if(Jd(Qb.type)){Qb=Qb.stateNode.__reactInternalMemoizedMergedChildContext;break b}}Qb=Qb.return}while(null!==Qb);throw Error(k(171));}if(1===r.tag){var Hc=r.type;if(Jd(Hc)){r=le(r,Hc,Qb);break a}}r=Qb}else r=Lg;null===e.context?e.context=r:e.pendingContext=r;e=Pe(eb,pb);e.payload={element:c};K=void 0===K?null:K;null!==K&&(e.callback=K);td(fa,e);hd(fa,eb);return eb}function Vh(c){c=c.current;if(!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;
default:return c.child.stateNode}}function ak(c,e){c=c.memoizedState;null!==c&&null!==c.dehydrated&&c.retryTime<e&&(c.retryTime=e)}function Wh(c,e){ak(c,e);(c=c.alternate)&&ak(c,e)}function Gg(c,e,r){r=null!=r&&!0===r.hydrate;var K=new Nk(c,e,r),fa=hg(3,null,null,2===e?7:1===e?3:0);K.current=fa;fa.stateNode=K;Od(fa);c[Eh]=K.current;r&&0!==e&&bc(c,9===c.nodeType?c:c.ownerDocument);this._internalRoot=K}function Og(c){return!(!c||1!==c.nodeType&&9!==c.nodeType&&11!==c.nodeType&&(8!==c.nodeType||" react-mount-point-unstable "!==
c.nodeValue))}function Ok(c,e){e||(e=c?9===c.nodeType?c.documentElement:c.firstChild:null,e=!(!e||1!==e.nodeType||!e.hasAttribute("data-reactroot")));if(!e)for(var r;r=c.lastChild;)c.removeChild(r);return new Gg(c,0,e?{hydrate:!0}:void 0)}function Zf(c,e,r,K,fa){var eb=r._reactRootContainer;if(eb){var pb=eb._internalRoot;if("function"===typeof fa){var Qb=fa;fa=function(){var Bc=Vh(pb);Qb.call(Bc)}}Ci(e,pb,c,fa)}else{eb=r._reactRootContainer=Ok(r,K);pb=eb._internalRoot;if("function"===typeof fa){var Hc=
fa;fa=function(){var Bc=Vh(pb);Hc.call(Bc)}}Oe(function(){Ci(e,pb,c,fa)})}return Vh(pb)}function Pk(c,e,r){var K=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Sg,key:null==K?null:""+K,children:c,containerInfo:e,implementation:r}}function Qk(c,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Og(e))throw Error(k(200));return Pk(c,e,null,r)}var Pi=Vb(5),Kf=Vb(0),Lf=Vb(8);if(!Pi)throw Error(k(227));var zh=!1,Ah=null,Bh=!1,uj=null,ok={onError:function(c){zh=
!0;Ah=c}},Mi=null,di=null,eh=null,Ki=null,Ch={},Li=[],vj={},fh={},wj={},xg=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),xj=null,gh=null,hh=null,Qg=bb,Vf=!1,ei=!1,qg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
pk=Object.prototype.hasOwnProperty,fi={},wg={},Ef={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){Ef[c]=new Ta(c,0,!1,c,null,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var e=c[0];Ef[e]=new Ta(e,1,!1,c[1],null,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(c){Ef[c]=
new Ta(c,2,!1,c.toLowerCase(),null,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){Ef[c]=new Ta(c,2,!1,c,null,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){Ef[c]=new Ta(c,3,!1,c.toLowerCase(),null,!1)});["checked","multiple","muted","selected"].forEach(function(c){Ef[c]=
new Ta(c,3,!0,c,null,!1)});["capture","download"].forEach(function(c){Ef[c]=new Ta(c,4,!1,c,null,!1)});["cols","rows","size","span"].forEach(function(c){Ef[c]=new Ta(c,6,!1,c,null,!1)});["rowSpan","start"].forEach(function(c){Ef[c]=new Ta(c,5,!1,c.toLowerCase(),null,!1)});var uh=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var e=
c.replace(uh,ta);Ef[e]=new Ta(e,1,!1,c,null,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var e=c.replace(uh,ta);Ef[e]=new Ta(e,1,!1,c,"http://www.w3.org/1999/xlink",!1)});["xml:base","xml:lang","xml:space"].forEach(function(c){var e=c.replace(uh,ta);Ef[e]=new Ta(e,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1)});["tabIndex","crossOrigin"].forEach(function(c){Ef[c]=new Ta(c,1,!1,c.toLowerCase(),null,!1)});Ef.xlinkHref=new Ta("xlinkHref",
1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0);["src","href","action","formAction"].forEach(function(c){Ef[c]=new Ta(c,1,!1,c.toLowerCase(),null,!0)});var $f=Pi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;$f.hasOwnProperty("ReactCurrentDispatcher")||($f.ReactCurrentDispatcher={current:null});$f.hasOwnProperty("ReactCurrentBatchConfig")||($f.ReactCurrentBatchConfig={suspense:null});var ji=/^(.*)[\\\/]/,Pf="function"===typeof Symbol&&Symbol.for,ri=Pf?Symbol.for("react.element"):60103,Sg=
Pf?Symbol.for("react.portal"):60106,Rg=Pf?Symbol.for("react.fragment"):60107,Ni=Pf?Symbol.for("react.strict_mode"):60108,gi=Pf?Symbol.for("react.profiler"):60114,qk=Pf?Symbol.for("react.provider"):60109,yj=Pf?Symbol.for("react.context"):60110,fg=Pf?Symbol.for("react.concurrent_mode"):60111,Oi=Pf?Symbol.for("react.forward_ref"):60112,hi=Pf?Symbol.for("react.suspense"):60113,ii=Pf?Symbol.for("react.suspense_list"):60120,ih=Pf?Symbol.for("react.memo"):60115,Aj=Pf?Symbol.for("react.lazy"):60116,zj=Pf?
Symbol.for("react.block"):60121,Ve="function"===typeof Symbol&&Symbol.iterator,vh,Nf=function(c){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,r,K,fa){MSApp.execUnsafeLocalFunction(function(){return c(e,r,K,fa)})}:c}(function(c,e){if("http://www.w3.org/2000/svg"!==c.namespaceURI||"innerHTML"in c)c.innerHTML=e;else{vh=vh||document.createElement("div");vh.innerHTML="\x3csvg\x3e"+e.valueOf().toString()+"\x3c/svg\x3e";for(e=vh.firstChild;c.firstChild;)c.removeChild(c.firstChild);
for(;e.firstChild;)c.appendChild(e.firstChild)}}),df={animationend:h("Animation","AnimationEnd"),animationiteration:h("Animation","AnimationIteration"),animationstart:h("Animation","AnimationStart"),transitionend:h("Transition","TransitionEnd")},Qi={},rk={};xg&&(rk=document.createElement("div").style,"AnimationEvent"in window||(delete df.animationend.animation,delete df.animationiteration.animation,delete df.animationstart.animation),"TransitionEvent"in window||delete df.transitionend.transition);
var bk=m("animationend"),Di=m("animationiteration"),ck=m("animationstart"),ch=m("transitionend"),kh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sk=new ("function"===typeof WeakMap?WeakMap:Map),jh=null,ki=[],Ri=!1,yg=[],Ig=null,Jg=null,Tg=null,Ug=new Map,li=new Map,mh=[],lh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),
tk="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" "),vk={},Dj=new Map,Cj=new Map,vl=["abort","abort",bk,"animationEnd",Di,"animationIteration",ck,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata",
"loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",ch,"transitionEnd","waiting","waiting"];Kb("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),
0);Kb("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Kb(vl,2);for(var kj="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),dk=0;dk<kj.length;dk++)Cj.set(kj[dk],0);var Ej=Lf.unstable_UserBlockingPriority,wk=Lf.unstable_runWithPriority,
mi=!0,Dh={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,
floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xh=["Webkit","ms","Moz","O"];Object.keys(Dh).forEach(function(c){Xh.forEach(function(e){e=e+c.charAt(0).toUpperCase()+c.substring(1);Dh[e]=Dh[c]})});var Si=Kf({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),nh="$",ni="/$",Fj="$?",Ti="$!",jj=null,Xj=null,Tj="function"===typeof setTimeout?
setTimeout:void 0,Vj="function"===typeof clearTimeout?clearTimeout:void 0,lj=Math.random().toString(36).slice(2),zg="__reactInternalInstance$"+lj,oh="__reactEventHandlers$"+lj,Eh="__reactContainere$"+lj,Kg=null,Ui=null,Fh=null;Kf(jd.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():"unknown"!==typeof c.returnValue&&(c.returnValue=!1),this.isDefaultPrevented=Cc)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?
c.stopPropagation():"unknown"!==typeof c.cancelBubble&&(c.cancelBubble=!0),this.isPropagationStopped=Cc)},persist:function(){this.isPersistent=Cc},isPersistent:id,destructor:function(){var c=this.constructor.Interface,e;for(e in c)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null;this.isPropagationStopped=this.isDefaultPrevented=id;this._dispatchInstances=this._dispatchListeners=null}});jd.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,
bubbles:null,cancelable:null,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};jd.extend=function(c){function e(){}function r(){return K.apply(this,arguments)}var K=this;e.prototype=K.prototype;var fa=new e;Kf(fa,r.prototype);r.prototype=fa;r.prototype.constructor=r;r.Interface=Kf({},K.Interface,c);r.extend=K.extend;be(r);return r};be(jd);var Rk=jd.extend({data:null}),ek=jd.extend({data:null}),xk=[9,13,27,32],Vi=xg&&"CompositionEvent"in window,Yh=null;xg&&
"documentMode"in document&&(Yh=document.documentMode);var Sk=xg&&"TextEvent"in window&&!Yh,Ij=xg&&(!Vi||Yh&&8<Yh&&11>=Yh),Hj=String.fromCharCode(32),Pg={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",
captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Gj=!1,ph=!1,wl={eventTypes:Pg,extractEvents:function(c,e,r,K){var fa;if(Vi)a:{switch(c){case "compositionstart":var eb=Pg.compositionStart;break a;case "compositionend":eb=Pg.compositionEnd;
break a;case "compositionupdate":eb=Pg.compositionUpdate;break a}eb=void 0}else ph?Yd(c,r)&&(eb=Pg.compositionEnd):"keydown"===c&&229===r.keyCode&&(eb=Pg.compositionStart);eb?(Ij&&"ko"!==r.locale&&(ph||eb!==Pg.compositionStart?eb===Pg.compositionEnd&&ph&&(fa=Ec()):(Kg=K,Ui="value"in Kg?Kg.value:Kg.textContent,ph=!0)),eb=Rk.getPooled(eb,e,r,K),fa?eb.data=fa:(fa=de(r),null!==fa&&(eb.data=fa)),lc(eb),fa=eb):fa=null;(c=Sk?ve(c,r):Ae(c,r))?(e=ek.getPooled(Pg.beforeInput,e,r,K),e.data=c,lc(e)):e=null;return null===
fa?e:null===e?fa:[fa,e]}},ol={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},yk={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},Gh=null,qh=null,mj=!1;xg&&(mj=da("input")&&(!document.documentMode||9<document.documentMode));var Tk={eventTypes:yk,_isInputEventSupported:mj,extractEvents:function(c,
e,r,K){var fa=e?Mb(e):window,eb=fa.nodeName&&fa.nodeName.toLowerCase();if("select"===eb||"input"===eb&&"file"===fa.type)var pb=me;else if(We(fa))if(mj)pb=vb;else{pb=ob;var Qb=za}else(eb=fa.nodeName)&&"input"===eb.toLowerCase()&&("checkbox"===fa.type||"radio"===fa.type)&&(pb=Za);if(pb&&(pb=pb(c,e)))return zd(pb,r,K);Qb&&Qb(c,fa,e);"blur"===c&&(c=fa._wrapperState)&&c.controlled&&"number"===fa.type&&P(fa,"number",fa.value)}},Ei=jd.extend({view:null,detail:null}),pl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",
Shift:"shiftKey"},Uk=0,nj=0,Vk=!1,Wk=!1,Fi=Ei.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:oc,button:null,buttons:null,relatedTarget:function(c){return c.relatedTarget||(c.fromElement===c.srcElement?c.toElement:c.fromElement)},movementX:function(c){if("movementX"in c)return c.movementX;var e=Uk;Uk=c.screenX;return Vk?"mousemove"===c.type?c.screenX-e:0:(Vk=!0,0)},movementY:function(c){if("movementY"in
c)return c.movementY;var e=nj;nj=c.screenY;return Wk?"mousemove"===c.type?c.screenY-e:0:(Wk=!0,0)}}),oj=Fi.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Zh={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout",
"pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},fk={eventTypes:Zh,extractEvents:function(c,e,r,K,fa){var eb="mouseover"===c||"pointerover"===c,pb="mouseout"===c||"pointerout"===c;if(eb&&0===(fa&32)&&(r.relatedTarget||r.fromElement)||!pb&&!eb)return null;eb=K.window===K?K:(eb=K.ownerDocument)?eb.defaultView||eb.parentWindow:window;if(pb){if(pb=e,e=(e=r.relatedTarget||r.toElement)?Ra(e):null,null!==e){var Qb=u(e);if(e!==Qb||5!==e.tag&&6!==
e.tag)e=null}}else pb=null;if(pb===e)return null;if("mouseout"===c||"mouseover"===c)var Hc=Fi,Bc=Zh.mouseLeave,sd=Zh.mouseEnter,Ed="mouse";else if("pointerout"===c||"pointerover"===c)Hc=oj,Bc=Zh.pointerLeave,sd=Zh.pointerEnter,Ed="pointer";c=null==pb?eb:Mb(pb);eb=null==e?eb:Mb(e);Bc=Hc.getPooled(Bc,pb,r,K);Bc.type=Ed+"leave";Bc.target=c;Bc.relatedTarget=eb;r=Hc.getPooled(sd,e,r,K);r.type=Ed+"enter";r.target=eb;r.relatedTarget=c;K=pb;Ed=e;if(K&&Ed)a:{Hc=K;sd=Ed;pb=0;for(c=Hc;c;c=hc(c))pb++;c=0;for(e=
sd;e;e=hc(e))c++;for(;0<pb-c;)Hc=hc(Hc),pb--;for(;0<c-pb;)sd=hc(sd),c--;for(;pb--;){if(Hc===sd||Hc===sd.alternate)break a;Hc=hc(Hc);sd=hc(sd)}Hc=null}else Hc=null;sd=Hc;for(Hc=[];K&&K!==sd;){pb=K.alternate;if(null!==pb&&pb===sd)break;Hc.push(K);K=hc(K)}for(K=[];Ed&&Ed!==sd;){pb=Ed.alternate;if(null!==pb&&pb===sd)break;K.push(Ed);Ed=hc(Ed)}for(Ed=0;Ed<Hc.length;Ed++)ic(Hc[Ed],"bubbled",Bc);for(Ed=K.length;0<Ed--;)ic(K[Ed],"captured",r);return 0===(fa&64)?[Bc]:[Bc,r]}},Mf="function"===typeof Object.is?
Object.is:Yc,zk=Object.prototype.hasOwnProperty,Xk=xg&&"documentMode"in document&&11>=document.documentMode,Jj={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Hh=null,pi=null,ng=null,oi=!1,xl={eventTypes:Jj,extractEvents:function(c,e,r,K,fa,eb){fa=eb||(K.window===K?K.document:9===K.nodeType?K:K.ownerDocument);if(!(eb=!fa)){a:{fa=n(fa);eb=wj.onSelect;for(var pb=
0;pb<eb.length;pb++)if(!fa.has(eb[pb])){fa=!1;break a}fa=!0}eb=!fa}if(eb)return null;fa=e?Mb(e):window;switch(c){case "focus":if(We(fa)||"true"===fa.contentEditable)Hh=fa,pi=e,ng=null;break;case "blur":ng=pi=Hh=null;break;case "mousedown":oi=!0;break;case "contextmenu":case "mouseup":case "dragend":return oi=!1,Fc(r,K);case "selectionchange":if(Xk)break;case "keydown":case "keyup":return Fc(r,K)}return null}},Yk=jd.extend({animationName:null,elapsedTime:null,pseudoElement:null}),gk=jd.extend({clipboardData:function(c){return"clipboardData"in
c?c.clipboardData:window.clipboardData}}),yl=Ei.extend({relatedTarget:null}),hk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",
45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zk=Ei.extend({key:function(c){if(c.key){var e=hk[c.key]||c.key;if("Unidentified"!==e)return e}return"keypress"===c.type?(c=fd(c),13===c?"Enter":String.fromCharCode(c)):"keydown"===c.type||"keyup"===c.type?pj[c.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,
getModifierState:oc,charCode:function(c){return"keypress"===c.type?fd(c):0},keyCode:function(c){return"keydown"===c.type||"keyup"===c.type?c.keyCode:0},which:function(c){return"keypress"===c.type?fd(c):"keydown"===c.type||"keyup"===c.type?c.keyCode:0}}),$k=Fi.extend({dataTransfer:null}),al=Ei.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:oc}),bl=jd.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),zl=
Fi.extend({deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:null,deltaMode:null}),Al={eventTypes:vk,extractEvents:function(c,e,r,K){var fa=Dj.get(c);if(!fa)return null;switch(c){case "keypress":if(0===fd(r))return null;case "keydown":case "keyup":c=Zk;break;case "blur":case "focus":c=yl;break;case "click":if(2===r.button)return null;case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":c=
Fi;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":c=$k;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":c=al;break;case bk:case Di:case ck:c=Yk;break;case ch:c=bl;break;case "scroll":c=Ei;break;case "wheel":c=zl;break;case "copy":case "cut":case "paste":c=gk;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":c=
oj;break;default:c=jd}e=c.getPooled(fa,e,r,K);lc(e);return e}};if(Ki)throw Error(k(101));Ki=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));Ja();var Bl=rb;Mi=dc;di=Bl;eh=Mb;Bb({SimpleEventPlugin:Al,EnterLeaveEventPlugin:fk,ChangeEventPlugin:Tk,SelectEventPlugin:xl,BeforeInputEventPlugin:wl});var Kj=[],Ih=-1,Lg={},Qf={current:Lg},Wf={current:!1},Vg=Lg,Ak=Lf.unstable_runWithPriority,Xi=Lf.unstable_scheduleCallback,
Ck=Lf.unstable_cancelCallback,cl=Lf.unstable_requestPaint,qj=Lf.unstable_now,ql=Lf.unstable_getCurrentPriorityLevel,mf=Lf.unstable_ImmediatePriority,og=Lf.unstable_UserBlockingPriority,Wi=Lf.unstable_NormalPriority,rh=Lf.unstable_LowPriority,Lj=Lf.unstable_IdlePriority,Bk={},tl=Lf.unstable_shouldYield,Lk=void 0!==cl?cl:function(){},Ag=null,Jh=null,Kh=!1,dl=qj(),eg=1E4>dl?qj:function(){return qj()-dl},qi={current:null},Lh=null,rg=null,Mh=null,Wg=!1,wi=$f.ReactCurrentBatchConfig,Dk=(new Pi.Component).refs,
Yi={isMounted:function(c){return(c=c._reactInternalFiber)?u(c)===c:!1},enqueueSetState:function(c,e,r){c=c._reactInternalFiber;var K=Rc(),fa=wi.suspense;K=gd(K,c,fa);fa=Pe(K,fa);fa.payload=e;void 0!==r&&null!==r&&(fa.callback=r);td(c,fa);hd(c,K)},enqueueReplaceState:function(c,e,r){c=c._reactInternalFiber;var K=Rc(),fa=wi.suspense;K=gd(K,c,fa);fa=Pe(K,fa);fa.tag=1;fa.payload=e;void 0!==r&&null!==r&&(fa.callback=r);td(c,fa);hd(c,K)},enqueueForceUpdate:function(c,e){c=c._reactInternalFiber;var r=Rc(),
K=wi.suspense;r=gd(r,c,K);K=Pe(r,K);K.tag=2;void 0!==e&&null!==e&&(K.callback=e);td(c,K);hd(c,r)}},$i=Array.isArray,Zg=of(!0),Oj=of(!1),si={},Cg={current:si},ui={current:si},ti={current:si},yf={current:0},aj=$f.ReactCurrentDispatcher,cg=$f.ReactCurrentBatchConfig,Dg=0,zf=null,Sf=null,Rf=null,bj=!1,Wd={readContext:Vd,useCallback:wb,useContext:wb,useEffect:wb,useImperativeHandle:wb,useLayoutEffect:wb,useMemo:wb,useReducer:wb,useRef:wb,useState:wb,useDebugValue:wb,useResponder:wb,useDeferredValue:wb,
useTransition:wb},Nh={readContext:Vd,useCallback:bg,useContext:Vd,useEffect:ee,useImperativeHandle:function(c,e,r){r=null!==r&&void 0!==r?r.concat([c]):null;return Cd(4,2,ae.bind(null,e,c),r)},useLayoutEffect:function(c,e){return Cd(4,2,c,e)},useMemo:function(c,e){var r=Jc();e=void 0===e?null:e;c=c();r.memoizedState=[c,e];return c},useReducer:function(c,e,r){var K=Jc();e=void 0!==r?r(e):e;K.memoizedState=K.baseState=e;c=K.queue={pending:null,dispatch:null,lastRenderedReducer:c,lastRenderedState:e};
c=c.dispatch=B.bind(null,zf,c);return[K.memoizedState,c]},useRef:function(c){var e=Jc();c={current:c};return e.memoizedState=c},useState:$d,useDebugValue:lf,useResponder:ub,useDeferredValue:function(c,e){var r=$d(c),K=r[0],fa=r[1];ee(function(){var eb=cg.suspense;cg.suspense=void 0===e?null:e;try{fa(c)}finally{cg.suspense=eb}},[c,e]);return K},useTransition:function(c){var e=$d(!1),r=e[0];e=e[1];return[bg(A.bind(null,e,c),[e,c]),r]}},vi={readContext:Vd,useCallback:Af,useContext:Vd,useEffect:pe,useImperativeHandle:gf,
useLayoutEffect:xf,useMemo:Xf,useReducer:od,useRef:Le,useState:function(){return od(Xc)},useDebugValue:lf,useResponder:ub,useDeferredValue:function(c,e){var r=od(Xc),K=r[0],fa=r[1];pe(function(){var eb=cg.suspense;cg.suspense=void 0===e?null:e;try{fa(c)}finally{cg.suspense=eb}},[c,e]);return K},useTransition:function(c){var e=od(Xc),r=e[0];e=e[1];return[Af(A.bind(null,e,c),[e,c]),r]}},Oh={readContext:Vd,useCallback:Af,useContext:Vd,useEffect:pe,useImperativeHandle:gf,useLayoutEffect:xf,useMemo:Xf,
useReducer:Bd,useRef:Le,useState:function(){return Bd(Xc)},useDebugValue:lf,useResponder:ub,useDeferredValue:function(c,e){var r=Bd(Xc),K=r[0],fa=r[1];pe(function(){var eb=cg.suspense;cg.suspense=void 0===e?null:e;try{fa(c)}finally{cg.suspense=eb}},[c,e]);return K},useTransition:function(c){var e=Bd(Xc),r=e[0];e=e[1];return[Af(A.bind(null,e,c),[e,c]),r]}},oe=null,Re=null,Zc=!1,Mg=$f.ReactCurrentOwner,ag=!1,dj={dehydrated:null,retryTime:0};var Ek=function(c,e){for(var r=e.child;null!==r;){if(5===r.tag||
6===r.tag)c.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r;r=r.child;continue}if(r===e)break;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return;r=r.sibling}};var Pj=function(){};var rl=function(c,e,r,K,fa){var eb=c.memoizedProps;if(eb!==K){var pb=e.stateNode;pf(Cg.current);c=null;switch(r){case "input":eb=E(pb,eb);K=E(pb,K);c=[];break;case "option":eb=Y(pb,eb);K=Y(pb,K);c=[];break;case "select":eb=Kf({},eb,{value:void 0});
K=Kf({},K,{value:void 0});c=[];break;case "textarea":eb=Ga(pb,eb);K=Ga(pb,K);c=[];break;default:"function"!==typeof eb.onClick&&"function"===typeof K.onClick&&(pb.onclick=Ke)}Gc(r,K);var Qb,Hc;r=null;for(Qb in eb)if(!K.hasOwnProperty(Qb)&&eb.hasOwnProperty(Qb)&&null!=eb[Qb])if("style"===Qb)for(Hc in pb=eb[Qb],pb)pb.hasOwnProperty(Hc)&&(r||(r={}),r[Hc]="");else"dangerouslySetInnerHTML"!==Qb&&"children"!==Qb&&"suppressContentEditableWarning"!==Qb&&"suppressHydrationWarning"!==Qb&&"autoFocus"!==Qb&&
(fh.hasOwnProperty(Qb)?c||(c=[]):(c=c||[]).push(Qb,null));for(Qb in K){var Bc=K[Qb];pb=null!=eb?eb[Qb]:void 0;if(K.hasOwnProperty(Qb)&&Bc!==pb&&(null!=Bc||null!=pb))if("style"===Qb)if(pb){for(Hc in pb)!pb.hasOwnProperty(Hc)||Bc&&Bc.hasOwnProperty(Hc)||(r||(r={}),r[Hc]="");for(Hc in Bc)Bc.hasOwnProperty(Hc)&&pb[Hc]!==Bc[Hc]&&(r||(r={}),r[Hc]=Bc[Hc])}else r||(c||(c=[]),c.push(Qb,r)),r=Bc;else"dangerouslySetInnerHTML"===Qb?(Bc=Bc?Bc.__html:void 0,pb=pb?pb.__html:void 0,null!=Bc&&pb!==Bc&&(c=c||[]).push(Qb,
Bc)):"children"===Qb?pb===Bc||"string"!==typeof Bc&&"number"!==typeof Bc||(c=c||[]).push(Qb,""+Bc):"suppressContentEditableWarning"!==Qb&&"suppressHydrationWarning"!==Qb&&(fh.hasOwnProperty(Qb)?(null!=Bc&&ge(fa,Qb),c||pb===Bc||(c=[])):(c=c||[]).push(Qb,Bc))}r&&(c=c||[]).push("style",r);if(e.updateQueue=c)e.effectTag|=4}};var Fk=function(c,e,r,K){r!==K&&(e.effectTag|=4)};var Gk="function"===typeof WeakSet?WeakSet:Set,Ik="function"===typeof WeakMap?WeakMap:Map,ul=Math.ceil,ij=$f.ReactCurrentDispatcher,
Kk=$f.ReactCurrentOwner,Jf=0,Rj=8,jg=16,pg=32,sh=0,yi=1,Sj=2,Yf=3,th=4,Uj=5,qe=Jf,ig=null,ue=null,dg=0,If=sh,Uf=null,vg=1073741823,zi=1073741823,Cf=null,Tf=0,Qh=!1,Qj=0,Eg=500,Xd=null,fj=!1,tg=null,ug=null,Ai=!1,Rh=null,Bi=90,bh=null,ah=0,hj=null,gj=0;var Jk=function(c,e,r){var K=e.expirationTime;if(null!==c){var fa=e.pendingProps;if(c.memoizedProps!==fa||Wf.current)ag=!0;else{if(K<r){ag=!1;switch(e.tag){case 3:M(e);Re=oe=null;Zc=!1;break;case 5:z(e);if(e.mode&4&&1!==r&&fa.hidden)return e.expirationTime=
e.childExpirationTime=1,null;break;case 1:Jd(e.type)&&xe(e);break;case 4:bf(e,e.stateNode.containerInfo);break;case 10:K=e.memoizedProps.value;fa=e.type._context;$b(qi,fa._currentValue);fa._currentValue=K;break;case 13:if(null!==e.memoizedState){K=e.child.childExpirationTime;if(0!==K&&K>=r)return U(c,e,r);$b(yf,yf.current&1);e=Ob(c,e,r);return null!==e?e.sibling:null}$b(yf,yf.current&1);break;case 19:K=e.childExpirationTime>=r;if(0!==(c.effectTag&64)){if(K)return yb(c,e,r);e.effectTag|=64}fa=e.memoizedState;
null!==fa&&(fa.rendering=null,fa.tail=null);$b(yf,yf.current);if(!K)return null}return Ob(c,e,r)}ag=!1}}else ag=!1;e.expirationTime=0;switch(e.tag){case 2:K=e.type;null!==c&&(c.alternate=null,e.alternate=null,e.effectTag|=2);c=e.pendingProps;fa=Md(e,Qf.current);Oc(e,r);fa=Wb(null,e,K,c,fa,r);e.effectTag|=1;if("object"===typeof fa&&null!==fa&&"function"===typeof fa.render&&void 0===fa.$$typeof){e.tag=1;e.memoizedState=null;e.updateQueue=null;if(Jd(K)){var eb=!0;xe(e)}else eb=!1;e.memoizedState=null!==
fa.state&&void 0!==fa.state?fa.state:null;Od(e);var pb=K.getDerivedStateFromProps;"function"===typeof pb&&af(e,K,pb,c);fa.updater=Yi;e.stateNode=fa;fa._reactInternalFiber=e;ze(e,K,c,r);e=v(null,e,K,!0,eb,r)}else e.tag=0,Ya(null,e,fa,r),e=e.child;return e;case 16:a:{fa=e.elementType;null!==c&&(c.alternate=null,e.alternate=null,e.effectTag|=2);c=e.pendingProps;S(fa);if(1!==fa._status)throw fa._result;fa=fa._result;e.type=fa;eb=e.tag=Mk(fa);c=re(fa,c);switch(eb){case 0:e=Ub(null,e,fa,c,r);break a;case 1:e=
l(null,e,fa,c,r);break a;case 11:e=Sa(null,e,fa,c,r);break a;case 14:e=hb(null,e,fa,re(fa.type,c),K,r);break a}throw Error(k(306,fa,""));}return e;case 0:return K=e.type,fa=e.pendingProps,fa=e.elementType===K?fa:re(K,fa),Ub(c,e,K,fa,r);case 1:return K=e.type,fa=e.pendingProps,fa=e.elementType===K?fa:re(K,fa),l(c,e,K,fa,r);case 3:M(e);K=e.updateQueue;if(null===c||null===K)throw Error(k(282));K=e.pendingProps;fa=e.memoizedState;fa=null!==fa?fa.element:null;Kd(c,e);ie(e,K,null,r);K=e.memoizedState.element;
if(K===fa)Re=oe=null,Zc=!1,e=Ob(c,e,r);else{if(fa=e.stateNode.hydrate)Re=Rb(e.stateNode.containerInfo.firstChild),oe=e,fa=Zc=!0;if(fa)for(r=Oj(e,null,K,r),e.child=r;r;)r.effectTag=r.effectTag&-3|1024,r=r.sibling;else Ya(c,e,K,r),Re=oe=null,Zc=!1;e=e.child}return e;case 5:return z(e),null===c&&ea(e),K=e.type,fa=e.pendingProps,eb=null!==c?c.memoizedProps:null,pb=fa.children,Xb(K,fa)?pb=null:null!==eb&&Xb(K,eb)&&(e.effectTag|=16),Db(c,e),e.mode&4&&1!==r&&fa.hidden?(e.expirationTime=e.childExpirationTime=
1,e=null):(Ya(c,e,pb,r),e=e.child),e;case 6:return null===c&&ea(e),null;case 13:return U(c,e,r);case 4:return bf(e,e.stateNode.containerInfo),K=e.pendingProps,null===c?e.child=Zg(e,null,K,r):Ya(c,e,K,r),e.child;case 11:return K=e.type,fa=e.pendingProps,fa=e.elementType===K?fa:re(K,fa),Sa(c,e,K,fa,r);case 7:return Ya(c,e,e.pendingProps,r),e.child;case 8:return Ya(c,e,e.pendingProps.children,r),e.child;case 12:return Ya(c,e,e.pendingProps.children,r),e.child;case 10:a:{K=e.type._context;fa=e.pendingProps;
pb=e.memoizedProps;eb=fa.value;var Qb=e.type._context;$b(qi,Qb._currentValue);Qb._currentValue=eb;if(null!==pb)if(Qb=pb.value,eb=Mf(Qb,eb)?0:("function"===typeof K._calculateChangedBits?K._calculateChangedBits(Qb,eb):1073741823)|0,0===eb){if(pb.children===fa.children&&!Wf.current){e=Ob(c,e,r);break a}}else for(Qb=e.child,null!==Qb&&(Qb.return=e);null!==Qb;){var Hc=Qb.dependencies;if(null!==Hc){pb=Qb.child;for(var Bc=Hc.firstContext;null!==Bc;){if(Bc.context===K&&0!==(Bc.observedBits&eb)){1===Qb.tag&&
(Bc=Pe(r,null),Bc.tag=2,td(Qb,Bc));Qb.expirationTime<r&&(Qb.expirationTime=r);Bc=Qb.alternate;null!==Bc&&Bc.expirationTime<r&&(Bc.expirationTime=r);Zd(Qb.return,r);Hc.expirationTime<r&&(Hc.expirationTime=r);break}Bc=Bc.next}}else pb=10===Qb.tag?Qb.type===e.type?null:Qb.child:Qb.child;if(null!==pb)pb.return=Qb;else for(pb=Qb;null!==pb;){if(pb===e){pb=null;break}Qb=pb.sibling;if(null!==Qb){Qb.return=pb.return;pb=Qb;break}pb=pb.return}Qb=pb}Ya(c,e,fa.children,r);e=e.child}return e;case 9:return fa=e.type,
eb=e.pendingProps,K=eb.children,Oc(e,r),fa=Vd(fa,eb.unstable_observedBits),K=K(fa),e.effectTag|=1,Ya(c,e,K,r),e.child;case 14:return fa=e.type,eb=re(fa,e.pendingProps),eb=re(fa.type,eb),hb(c,e,fa,eb,K,r);case 15:return nb(c,e,e.type,e.pendingProps,K,r);case 17:return K=e.type,fa=e.pendingProps,fa=e.elementType===K?fa:re(K,fa),null!==c&&(c.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,Jd(K)?(c=!0,xe(e)):c=!1,Oc(e,r),Ff(e,K,fa),ze(e,K,fa,r),v(null,e,K,!0,c,r);case 19:return yb(c,e,r)}throw Error(k(156,
e.tag));};var Yj=null,ej=null;Gg.prototype.render=function(c){Ci(c,this._internalRoot,null,null)};Gg.prototype.unmount=function(){var c=this._internalRoot,e=c.containerInfo;Ci(null,c,null,function(){e[Eh]=null})};var Bj=function(c){if(13===c.tag){var e=Wc(Rc(),150,100);hd(c,e);Wh(c,e)}};var uk=function(c){13===c.tag&&(hd(c,3),Wh(c,3))};var nl=function(c){if(13===c.tag){var e=Rc();e=gd(e,c,null);hd(c,e);Wh(c,e)}};xj=function(c,e,r){switch(e){case "input":Z(c,r);e=r.name;if("radio"===r.type&&null!=
e){for(r=c;r.parentNode;)r=r.parentNode;r=r.querySelectorAll("input[name\x3d"+JSON.stringify(""+e)+'][type\x3d"radio"]');for(e=0;e<r.length;e++){var K=r[e];if(K!==c&&K.form===c.form){var fa=dc(K);if(!fa)throw Error(k(90));Fa(K);Z(K,fa)}}}break;case "textarea":ca(c,r);break;case "select":e=r.value,null!=e&&ua(c,!!r.multiple,e,!1)}};bb=He;Ca=function(c,e,r,K,fa){var eb=qe;qe|=4;try{return Ge(98,c.bind(null,e,r,K,fa))}finally{qe=eb,qe===Jf&&Hd()}};ma=function(){(qe&(1|jg|pg))===Jf&&(Pd(),Ph())};Qg=function(c,
e){var r=qe;qe|=2;try{return c(e)}finally{qe=r,qe===Jf&&Hd()}};var Cl={Events:[rb,Mb,dc,Bb,vj,lc,function(c){$a(c,Yb)},Ea,ab,Tc,Ba,Ph,{current:!1}]};(function(c){var e=c.findFiberByHostInstance;return Uh(Kf({},c,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$f.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){r=xa(r);return null===r?null:r.stateNode},findFiberByHostInstance:function(r){return e?e(r):null},findHostInstancesForRefresh:null,
scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))})({findFiberByHostInstance:Ra,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"});Cb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cl;Cb.createPortal=Qk;Cb.findDOMNode=function(c){if(null==c)return null;if(1===c.nodeType)return c;var e=c._reactInternalFiber;if(void 0===e){if("function"===typeof c.render)throw Error(k(188));throw Error(k(268,Object.keys(c)));}c=xa(e);return c=null===c?null:c.stateNode};
Cb.flushSync=function(c,e){if((qe&(jg|pg))!==Jf)throw Error(k(187));var r=qe;qe|=1;try{return Ge(99,c.bind(null,e))}finally{qe=r,Hd()}};Cb.hydrate=function(c,e,r){if(!Og(e))throw Error(k(200));return Zf(null,c,e,!0,r)};Cb.render=function(c,e,r){if(!Og(e))throw Error(k(200));return Zf(null,c,e,!1,r)};Cb.unmountComponentAtNode=function(c){if(!Og(c))throw Error(k(40));return c._reactRootContainer?(Oe(function(){Zf(null,null,c,!1,function(){c._reactRootContainer=null;c[Eh]=null})}),!0):!1};Cb.unstable_batchedUpdates=
He;Cb.unstable_createPortal=function(c,e){return Qk(c,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)};Cb.unstable_renderSubtreeIntoContainer=function(c,e,r,K){if(!Og(r))throw Error(k(200));if(null==c||void 0===c._reactInternalFiber)throw Error(k(38));return Zf(c,e,r,!1,K)};Cb.version="16.13.1"};
shadow$provide[14]=function($c,Vb,Pc,Cb){function k(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(k)}catch(q){console.error(q)}}k();Pc.exports=Vb(9)};
shadow$provide[15]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb):"function"===typeof define&&define.amd?define(["exports"],q):(k="undefined"!==typeof globalThis?globalThis:k||self,q(k.vega={}))})(this,function(k){function q(H,p,h){H.fields=p||[];H.fname=h;return H}function R(H){return null==H?null:H.fields}function Ma(H){return 1===H.length?la(H[0]):wa(H)}function Fb(H){throw Error(H);}function Ja(H){function p(){h.push(x+H.substring(L,ia));x="";L=ia+1}const h=
[],m=H.length;let n=null,u=0,x="",L,ia,xa;H+="";for(L=ia=0;ia<m;++ia)(xa=H[ia],"\\"===xa)?(x+=H.substring(L,ia),x+=H.substring(++ia,++ia),L=ia):xa===n?(p(),n=null,u=-1):n||(L===u&&'"'===xa?(L=ia+1,n=xa):L===u&&"'"===xa?(L=ia+1,n=xa):"."!==xa||u?"["===xa?(ia>L&&p(),u=L=ia+1):"]"===xa&&(u||Fb("Access path missing open bracket: "+H),0<u&&p(),u=0,L=ia+1):ia>L?p():L=ia+1);u&&Fb("Access path missing closing bracket: "+H);n&&Fb("Access path missing closing quote: "+H);ia>L&&(ia++,p());return h}function db(H,
p,h){const m=Ja(H);H=1===m.length?m[0]:H;return q((h&&h.get||Ma)(m),[H],p||H)}function Bb(H,p,h){p=[p].concat([].slice.call(h));console[H].apply(console,p)}function jb(H){return H===Object(H)}function Ea(H,p,h,m){if("__proto__"!==p){var n;if(jb(h)&&!w(h))for(n in H=jb(H[p])?H[p]:H[p]={},h)m&&(!0===m||m[n])?Ea(H,n,h[n]):"__proto__"!==n&&(H[n]=h[n]);else H[p]=h}}function ab(H,p){function h(u){m[u.name]||(m[u.name]=1,n.push(u))}if(null==H)return p;const m={},n=[];p.forEach(h);H.forEach(h);return n}function bb(H){return H[H.length-
1]}function Ca(H){return null==H||""===H?null:+H}function ma(H,p,h,m){const n=h(H[0]);H=h(bb(H));p*=H-n;return[m(n-p),m(H-p)]}function oa(H,p,h,m,n){const u=m(H[0]);H=m(bb(H));p=null!=p?m(p):(u+H)/2;return[n(p+(u-p)*h),n(p+(H-p)*h)]}function Ia(H){return null!=H?w(H)?H:[H]:[]}function Ua(H){return"function"===typeof H}function na(H){for(let p,h,m=1,n=arguments.length;m<n;++m)for(h in p=arguments[m],p)H[h]=p[h];return H}function qa(H,p){return ca.call(H,p)}function Ta(H){return"[object Date]"===Object.prototype.toString.call(H)}
function ta(H){return"number"===typeof H}function Qa(H){return"string"===typeof H}function va(H,p){let h="";for(;0<=--p;)h+=H;return h}function S(H){return w(H)?"["+H.map(S)+"]":jb(H)||Qa(H)?JSON.stringify(H).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):H}const la=H=>function(p){return p[H]},wa=H=>{const p=H.length;return function(h){for(let m=0;m<p;++m)h=h[H[m]];return h}},Da=db("id"),Oa=q(H=>H,[],"identity"),Ha=q(()=>0,[],"zero"),Va=q(()=>1,[],"one"),Fa=q(()=>!0,[],"true"),E=q(()=>!1,
[],"false");var w=Array.isArray;const F=H=>p=>H*Math.exp(p),Z=H=>p=>Math.log(H*p),D=H=>p=>Math.sign(p)*Math.log1p(Math.abs(p/H)),P=H=>p=>Math.sign(p)*Math.expm1(Math.abs(p))*H,N=H=>p=>0>p?-Math.pow(-p,H):Math.pow(p,H),Y=(H,p)=>(H<p||null==H)&&null!=p?-1:(H>p||null==p)&&null!=H?1:(p=p instanceof Date?+p:p,H=H instanceof Date?+H:H)!==H&&p===p?-1:p!==p&&H===H?1:0,ua=(H,p)=>1===H.length?Ga(H[0],p[0]):G(H,p,H.length),Ga=(H,p)=>function(h,m){return Y(H(h),H(m))*p},G=(H,p,h)=>{p.push(0);return function(m,
n){var u=0;let x=-1;for(;0===u&&++x<h;)u=H[x],u=Y(u(m),u(n));return u*p[x]}},ca=Object.prototype.hasOwnProperty,ba={},V=H=>ta(H)?H:Ta(H)?H:Date.parse(H);k.Debug=4;k.Error=1;k.Info=3;k.None=0;k.Warn=2;k.accessor=q;k.accessorFields=R;k.accessorName=function(H){return null==H?null:H.fname};k.array=Ia;k.ascending=Y;k.clampRange=function(H,p,h){let m=H[0];H=H[1];let n;H<m&&(n=H,H=m,m=n);n=H-m;return n>=h-p?[p,h]:[m=Math.min(Math.max(m,p),h-n),m+n]};k.compare=function(H,p,h){h=h||{};p=Ia(p)||[];const m=
[],n=[],u={},x=h.comparator||ua;Ia(H).forEach((L,ia)=>{null!=L&&(m.push("descending"===p[ia]?-1:1),n.push(L=Ua(L)?L:db(L,null,h)),(R(L)||[]).forEach(xa=>u[xa]=1))});return 0===n.length?null:q(x(n,m),Object.keys(u))};k.constant=function(H){return Ua(H)?H:()=>H};k.debounce=function(H,p){let h;return m=>{h&&clearTimeout(h);h=setTimeout(()=>(p(m),h=null),H)}};k.error=Fb;k.extend=na;k.extent=function(H,p){let h=0,m,n,u,x;if(H&&(m=H.length))if(null==p){for(n=H[h];h<m&&(null==n||n!==n);n=H[++h]);for(u=x=
n;h<m;++h)n=H[h],null!=n&&(n<u&&(u=n),n>x&&(x=n))}else{for(n=p(H[h]);h<m&&(null==n||n!==n);n=p(H[++h]));for(u=x=n;h<m;++h)n=p(H[h]),null!=n&&(n<u&&(u=n),n>x&&(x=n))}return[u,x]};k.extentIndex=function(H,p){const h=H.length;let m=-1,n,u,x,L,ia;if(null==p){for(;++m<h;)if(u=H[m],null!=u&&u>=u){n=x=u;break}if(m===h)return[-1,-1];for(L=ia=m;++m<h;)u=H[m],null!=u&&(n>u&&(n=u,L=m),x<u&&(x=u,ia=m))}else{for(;++m<h;)if(u=p(H[m],m,H),null!=u&&u>=u){n=x=u;break}if(m===h)return[-1,-1];for(L=ia=m;++m<h;)u=p(H[m],
m,H),null!=u&&(n>u&&(n=u,L=m),x<u&&(x=u,ia=m))}return[L,ia]};k.falsy=E;k.fastmap=function(H){function p(u){return qa(h,u)&&h[u]!==ba}let h={},m;const n={size:0,empty:0,object:h,has:p,get(u){return p(u)?h[u]:void 0},set(u,x){p(u)||(++n.size,h[u]===ba&&--n.empty);h[u]=x;return this},delete(u){p(u)&&(--n.size,++n.empty,h[u]=ba);return this},clear(){n.size=n.empty=0;n.object=h={}},test(u){return arguments.length?(m=u,n):m},clean(){const u={};let x=0;for(const L in h){const ia=h[L];ia===ba||m&&m(ia)||
(u[L]=ia,++x)}n.size=x;n.empty=0;n.object=h=u}};H&&Object.keys(H).forEach(u=>{n.set(u,H[u])});return n};k.field=db;k.flush=function(H,p,h,m,n,u){if(!h&&0!==h)return u;h=+h;let x=H[0],L=bb(H);L<x&&(H=x,x=L,L=H);H=Math.abs(p-x);p=Math.abs(L-p);return H<p&&H<=h?m:p<=h?n:u};k.hasOwnProperty=qa;k.id=Da;k.identity=Oa;k.inherits=function(H,p,h){p=H.prototype=Object.create(p.prototype);p.constructor=H;return na(p,h)};k.inrange=function(H,p,h,m){let n=p[0];p=p[p.length-1];let u;n>p&&(u=n,n=p,p=u);return(void 0===
h||h?n<=H:n<H)&&(void 0===m||m?H<=p:H<p)};k.isArray=w;k.isBoolean=function(H){return"boolean"===typeof H};k.isDate=Ta;k.isFunction=Ua;k.isIterable=function(H){return H&&Ua(H[Symbol.iterator])};k.isNumber=ta;k.isObject=jb;k.isRegExp=function(H){return"[object RegExp]"===Object.prototype.toString.call(H)};k.isString=Qa;k.key=function(H,p,h){H&&(H=p?Ia(H).map(u=>u.replace(/\\(.)/g,"$1")):Ia(H));const m=H&&H.length,n=h&&h.get||Ma;h=u=>n(p?[u]:Ja(u));if(m)if(1===m){const u=h(H[0]);h=function(x){return""+
u(x)}}else{const u=H.map(h);h=function(x){let L=""+u[0](x),ia=0;for(;++ia<m;)L+="|"+u[ia](x);return L}}else h=function(){return""};return q(h,H,"key")};k.lerp=function(H,p){const h=H[0];H=bb(H);return(p=+p)?1===p?H:h+p*(H-h):h};k.logger=function(H,p){let h=H||0;return{level(m){return arguments.length?(h=+m,this):h},error(){1<=h&&Bb(p||"error","ERROR",arguments);return this},warn(){2<=h&&Bb(p||"warn","WARN",arguments);return this},info(){3<=h&&Bb(p||"log","INFO",arguments);return this},debug(){4<=
h&&Bb(p||"log","DEBUG",arguments);return this}}};k.lruCache=function(H){H=+H||1E4;let p,h,m;const n=()=>{p={};h={};m=0},u=(x,L)=>{++m>H&&(h=p,p={},m=1);return p[x]=L};n();return{clear:n,has:x=>qa(p,x)||qa(h,x),get:x=>qa(p,x)?p[x]:qa(h,x)?u(x,h[x]):void 0,set:(x,L)=>qa(p,x)?p[x]=L:u(x,L)}};k.merge=function(H,p,h,m){const n=p.length,u=h.length;if(!u)return p;if(!n)return h;m=m||new p.constructor(n+u);let x=0,L=0,ia=0;for(;x<n&&L<u;++ia)m[ia]=0<H(p[x],h[L])?h[L++]:p[x++];for(;x<n;++x,++ia)m[ia]=p[x];
for(;L<u;++L,++ia)m[ia]=h[L];return m};k.mergeConfig=function(...H){return H.reduce((p,h)=>{for(const m in h)"signals"===m?p.signals=ab(p.signals,h.signals):Ea(p,m,h[m],"legend"===m?{layout:1}:"style"===m?!0:null);return p},{})};k.one=Va;k.pad=function(H,p,h,m){h=h||" ";H+="";p-=H.length;return 0>=p?H:"left"===m?va(h,p)+H:"center"===m?va(h,~~(p/2))+H+va(h,Math.ceil(p/2)):H+va(h,p)};k.panLinear=function(H,p){return ma(H,p,Ca,Oa)};k.panLog=function(H,p){var h=Math.sign(H[0]);return ma(H,p,Z(h),F(h))};
k.panPow=function(H,p,h){return ma(H,p,N(h),N(1/h))};k.panSymlog=function(H,p,h){return ma(H,p,D(h),P(h))};k.peek=bb;k.quarter=function(H){return 1+~~((new Date(H)).getMonth()/3)};k.repeat=va;k.span=function(H){return H&&bb(H)-H[0]||0};k.splitAccessPath=Ja;k.stringValue=S;k.toBoolean=function(H){return null==H||""===H?null:H&&"false"!==H&&"0"!==H?!!H:!1};k.toDate=function(H,p){p=p||V;return null==H||""===H?null:p(H)};k.toNumber=Ca;k.toSet=function(H){const p={},h=H.length;for(let m=0;m<h;++m)p[H[m]]=
!0;return p};k.toString=function(H){return null==H||""===H?null:H+""};k.truncate=function(H,p,h,m){m=null!=m?m:"";H+="";const n=H.length,u=Math.max(0,p-m.length);return n<=p?H:"left"===h?m+H.slice(n-u):"center"===h?H.slice(0,Math.ceil(u/2))+m+H.slice(n-~~(u/2)):H.slice(0,u)+m};k.truthy=Fa;k.utcquarter=function(H){return 1+~~((new Date(H)).getUTCMonth()/3)};k.visitArray=function(H,p,h){if(H)if(p){const m=H.length;for(let n=0;n<m;++n){const u=p(H[n]);u&&h(u,n,H)}}else H.forEach(h)};k.writeConfig=Ea;
k.zero=Ha;k.zoomLinear=function(H,p,h){return oa(H,p,h,Ca,Oa)};k.zoomLog=function(H,p,h){const m=Math.sign(H[0]);return oa(H,p,h,Z(m),F(m))};k.zoomPow=function(H,p,h,m){return oa(H,p,h,N(m),N(1/m))};k.zoomSymlog=function(H,p,h,m){return oa(H,p,h,D(m),P(m))};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[16]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb):"function"===typeof define&&define.amd?define(["exports"],q):(k="undefined"!==typeof globalThis?globalThis:k||self,q(k.d3=k.d3||{}))})(this,function(k){function q(h,m){return h<m?-1:h>m?1:h>=m?0:NaN}function R(h){function m(x,L,ia,xa){null==ia&&(ia=0);null==xa&&(xa=x.length);for(;ia<xa;){const Wa=ia+xa>>>1;0>u(x[Wa],L)?ia=Wa+1:xa=Wa}return ia}let n=h,u=h;1===h.length&&(n=(x,L)=>h(x)-L,u=Ma(h));
return{left:m,center:function(x,L,ia,xa){null==ia&&(ia=0);null==xa&&(xa=x.length);xa=m(x,L,ia,xa-1);return xa>ia&&n(x[xa-1],L)>-n(x[xa],L)?xa-1:xa},right:function(x,L,ia,xa){null==ia&&(ia=0);null==xa&&(xa=x.length);for(;ia<xa;){const Wa=ia+xa>>>1;0<u(x[Wa],L)?xa=Wa:ia=Wa+1}return ia}}}function Ma(h){return(m,n)=>q(h(m),n)}function Fb(h){return null===h?NaN:+h}function*Ja(h,m){if(void 0===m)for(var n of h)null!=n&&(n=+n)>=n&&(yield n);else{n=-1;for(let u of h)null!=(u=m(u,++n,h))&&(u=+u)>=u&&(yield u)}}
function db(h,m){let n=0;if(void 0===m)for(var u of h)null!=u&&(u=+u)>=u&&++n;else{u=-1;for(let x of h)null!=(x=m(x,++u,h))&&(x=+x)>=x&&++n}return n}function Bb(h){return h.length|0}function jb(h){return!(0<h)}function Ea(h){return"object"!==typeof h||"length"in h?h:Array.from(h)}function ab(h){return m=>h(...m)}function bb(h,m){let n=0,u,x=0,L=0;if(void 0===m)for(var ia of h)null!=ia&&(ia=+ia)>=ia&&(u=ia-x,x+=u/++n,L+=u*(ia-x));else{ia=-1;for(let xa of h)null!=(xa=m(xa,++ia,h))&&(xa=+xa)>=xa&&(u=
xa-x,x+=u/++n,L+=u*(xa-x))}if(1<n)return L/(n-1)}function Ca(h,m){return(h=bb(h,m))?Math.sqrt(h):h}function ma(h,m){let n,u;if(void 0===m)for(var x of h)null!=x&&(void 0===n?x>=x&&(n=u=x):(n>x&&(n=x),u<x&&(u=x)));else{x=-1;for(let L of h)null!=(L=m(L,++x,h))&&(void 0===n?L>=L&&(n=u=L):(n>L&&(n=L),u<L&&(u=L)))}return[n,u]}function oa(h){return h}function Ia(h){if(1!==h.length)throw Error("duplicate key");return h[0]}function Ua(h,m,n,u){return function xa(L,ia){if(ia>=u.length)return n(L);const Wa=
new Map,$a=u[ia++];let fb=-1;for(const Ba of L){const T=$a(Ba,++fb,L),da=Wa.get(T);da?da.push(Ba):Wa.set(T,[Ba])}for(const [Ba,T]of Wa)Wa.set(Ba,xa(T,ia));return m(Wa)}(h,0)}function na(h){return function(){return h}}function qa(h,m,n){var u,x=-1,L;m=+m;h=+h;n=+n;if(h===m&&0<n)return[h];if(u=m<h){var ia=h;h=m;m=ia}if(0===(L=Ta(h,m,n))||!isFinite(L))return[];if(0<L)for(h=Math.ceil(h/L),m=Math.floor(m/L),m=Array(ia=Math.ceil(m-h+1));++x<ia;)m[x]=(h+x)*L;else for(L=-L,h=Math.ceil(h*L),m=Math.floor(m*
L),m=Array(ia=Math.ceil(m-h+1));++x<ia;)m[x]=(h+x)/L;u&&m.reverse();return m}function Ta(h,m,n){m=(m-h)/Math.max(0,n);h=Math.floor(Math.log(m)/Math.LN10);m/=Math.pow(10,h);return 0<=h?(m>=ba?10:m>=V?5:m>=H?2:1)*Math.pow(10,h):-Math.pow(10,-h)/(m>=ba?10:m>=V?5:m>=H?2:1)}function ta(h,m,n){let u;for(;;){const x=Ta(h,m,n);if(x===u||0===x||!isFinite(x))return[h,m];0<x?(h=Math.floor(h/x)*x,m=Math.ceil(m/x)*x):0>x&&(h=Math.ceil(h*x)/x,m=Math.floor(m*x)/x);u=x}}function Qa(h){return Math.ceil(Math.log(db(h))/
Math.LN2)+1}function va(){function h(x){Array.isArray(x)||(x=Array.from(x));var L,ia=x.length,xa=Array(ia);for(L=0;L<ia;++L)xa[L]=m(x[L],L,x);L=n(xa);var Wa=L[0],$a=L[1],fb=u(xa,Wa,$a);Array.isArray(fb)||(fb=+fb,n===ma&&([Wa,$a]=ta(Wa,$a,fb)),fb=qa(Wa,$a,fb),fb[fb.length-1]===$a&&fb.pop());for(var Ba=fb.length;fb[0]<=Wa;)fb.shift(),--Ba;for(;fb[Ba-1]>$a;)fb.pop(),--Ba;var T=Array(Ba+1);for(L=0;L<=Ba;++L){var da=T[L]=[];da.x0=0<L?fb[L-1]:Wa;da.x1=L<Ba?fb[L]:$a}for(L=0;L<ia;++L)da=xa[L],Wa<=da&&da<=
$a&&T[ua(fb,da,0,Ba)].push(x[L]);return T}var m=oa,n=ma,u=Qa;h.value=function(x){return arguments.length?(m="function"===typeof x?x:na(x),h):m};h.domain=function(x){return arguments.length?(n="function"===typeof x?x:na([x[0],x[1]]),h):n};h.thresholds=function(x){return arguments.length?(u="function"===typeof x?x:Array.isArray(x)?na(ca.call(x)):na(x),h):u};return h}function S(h,m){let n;if(void 0===m)for(var u of h)null!=u&&(n<u||void 0===n&&u>=u)&&(n=u);else{u=-1;for(let x of h)null!=(x=m(x,++u,h))&&
(n<x||void 0===n&&x>=x)&&(n=x)}return n}function la(h,m){let n;if(void 0===m)for(var u of h)null!=u&&(n>u||void 0===n&&u>=u)&&(n=u);else{u=-1;for(let x of h)null!=(x=m(x,++u,h))&&(n>x||void 0===n&&x>=x)&&(n=x)}return n}function wa(h,m,n=0,u=h.length-1,x=q){for(;u>n;){if(600<u-n){var L=u-n+1,ia=m-n+1,xa=Math.log(L),Wa=.5*Math.exp(2*xa/3);xa=.5*Math.sqrt(xa*Wa*(L-Wa)/L)*(0>ia-L/2?-1:1);wa(h,m,Math.max(n,Math.floor(m-ia*Wa/L+xa)),Math.min(u,Math.floor(m+(L-ia)*Wa/L+xa)),x)}L=h[m];ia=n;Wa=u;Da(h,n,m);
for(0<x(h[u],L)&&Da(h,n,u);ia<Wa;){Da(h,ia,Wa);++ia;for(--Wa;0>x(h[ia],L);)++ia;for(;0<x(h[Wa],L);)--Wa}0===x(h[n],L)?Da(h,n,Wa):(++Wa,Da(h,Wa,u));Wa<=m&&(n=Wa+1);m<=Wa&&(u=Wa-1)}return h}function Da(h,m,n){const u=h[m];h[m]=h[n];h[n]=u}function Oa(h,m,n){h=Float64Array.from(Ja(h,n));if(n=h.length){if(0>=(m=+m)||2>n)return la(h);if(1<=m)return S(h);m*=n-1;n=Math.floor(m);var u=S(wa(h,n).subarray(0,n+1));h=la(h.subarray(n+1));return u+(h-u)*(m-n)}}function Ha(h,m){let n,u=-1,x=-1;if(void 0===m)for(const L of h)++x,
null!=L&&(n<L||void 0===n&&L>=L)&&(n=L,u=x);else for(let L of h)null!=(L=m(L,++x,h))&&(n<L||void 0===n&&L>=L)&&(n=L,u=x);return u}function*Va(h){for(const m of h)yield*m}function Fa(h,m){let n,u=-1,x=-1;if(void 0===m)for(const L of h)++x,null!=L&&(n>L||void 0===n&&L>=L)&&(n=L,u=x);else for(let L of h)null!=(L=m(L,++x,h))&&(n>L||void 0===n&&L>=L)&&(n=L,u=x);return u}function E(h,m){return[h,m]}function w(h,m=q){if(1===m.length)return Fa(h,m);let n,u=-1,x=-1;for(const L of h)if(++x,0>u?0===m(L,L):0>
m(L,n))n=L,u=x;return u}function F(h){return function(m,n=0,u=m.length){for(u-=n=+n;u;){const x=h()*u--|0,L=m[u+n];m[u+n]=m[x+n];m[x+n]=L}return m}}function Z(h){if(!(L=h.length))return[];for(var m=-1,n=la(h,D),u=Array(n);++m<n;)for(var x=-1,L,ia=u[m]=Array(L);++x<L;)ia[x]=h[x][m];return u}function D(h){return h.length}function P(h){return h instanceof Set?h:new Set(h)}function N(h,m){h=h[Symbol.iterator]();const n=new Set;for(const u of m){if(n.has(u))continue;let x;for(;{value:m,done:x}=h.next();){if(x)return!1;
n.add(m);if(Object.is(u,m))break}}return!0}var Y=R(q);const ua=Y.right;Y=Y.left;const Ga=R(Fb).center;class G{constructor(){this._partials=new Float64Array(32);this._n=0}add(h){const m=this._partials;let n=0;for(let u=0;u<this._n&&32>u;u++){const x=m[u],L=h+x;(h=Math.abs(h)<Math.abs(x)?h-(L-x):x-(L-h))&&(m[n++]=h);h=L}m[n]=h;this._n=n+1;return this}valueOf(){const h=this._partials;let m=this._n;let n,u=0;if(0<m){for(u=h[--m];0<m;){var x=u;n=h[--m];u=x+n;if(x=n-(u-x))break}0<m&&(0>x&&0>h[m-1]||0<x&&
0<h[m-1])&&(n=2*x,x=u+n,n==x-u&&(u=x))}return u}}var ca=Array.prototype.slice,ba=Math.sqrt(50),V=Math.sqrt(10),H=Math.sqrt(2),p=F(Math.random);k.Adder=G;k.ascending=q;k.bin=va;k.bisect=ua;k.bisectCenter=Ga;k.bisectLeft=Y;k.bisectRight=ua;k.bisector=R;k.count=db;k.cross=function(...h){const m="function"===typeof h[h.length-1]&&ab(h.pop());h=h.map(Ea);const n=h.map(Bb),u=h.length-1,x=Array(u+1).fill(0),L=[];if(0>u||n.some(jb))return L;for(;;){L.push(x.map((xa,Wa)=>h[Wa][xa]));let ia=u;for(;++x[ia]===
n[ia];){if(0===ia)return m?L.map(m):L;x[ia--]=0}}};k.cumsum=function(h,m){var n=0,u=0;return Float64Array.from(h,void 0===m?x=>n+=+x||0:x=>n+=+m(x,u++,h)||0)};k.descending=function(h,m){return m<h?-1:m>h?1:m>=h?0:NaN};k.deviation=Ca;k.difference=function(h,...m){h=new Set(h);for(const n of m)for(const u of n)h.delete(u);return h};k.disjoint=function(h,m){m=m[Symbol.iterator]();const n=new Set;for(const u of h){if(n.has(u))return!1;let x;for(;({value:h,done:x}=m.next())&&!x;){if(Object.is(u,h))return!1;
n.add(h)}}return!0};k.every=function(h,m){if("function"!==typeof m)throw new TypeError("test is not a function");let n=-1;for(const u of h)if(!m(u,++n,h))return!1;return!0};k.extent=ma;k.filter=function(h,m){if("function"!==typeof m)throw new TypeError("test is not a function");const n=[];let u=-1;for(const x of h)m(x,++u,h)&&n.push(x);return n};k.fsum=function(h,m){const n=new G;if(void 0===m)for(var u of h)(u=+u)&&n.add(u);else{u=-1;for(let x of h)(x=+m(x,++u,h))&&n.add(x)}return+n};k.greatest=
function(h,m=q){let n,u=!1;if(1===m.length){let x;for(const L of h)if(h=m(L),u?0<q(h,x):0===q(h,h))n=L,x=h,u=!0}else for(const x of h)if(u?0<m(x,n):0===m(x,x))n=x,u=!0;return n};k.greatestIndex=function(h,m=q){if(1===m.length)return Ha(h,m);let n,u=-1,x=-1;for(const L of h)if(++x,0>u?0===m(L,L):0<m(L,n))n=L,u=x;return u};k.group=function(h,...m){return Ua(h,oa,oa,m)};k.groups=function(h,...m){return Ua(h,Array.from,oa,m)};k.histogram=va;k.index=function(h,...m){return Ua(h,oa,Ia,m)};k.indexes=function(h,
...m){return Ua(h,Array.from,Ia,m)};k.intersection=function(h,...m){h=new Set(h);m=m.map(P);a:for(const n of h)for(const u of m)if(!u.has(n)){h.delete(n);continue a}return h};k.least=function(h,m=q){let n,u=!1;if(1===m.length){let x;for(const L of h)if(h=m(L),u?0>q(h,x):0===q(h,h))n=L,x=h,u=!0}else for(const x of h)if(u?0>m(x,n):0===m(x,x))n=x,u=!0;return n};k.leastIndex=w;k.map=function(h,m){if("function"!==typeof h[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!==typeof m)throw new TypeError("mapper is not a function");
return Array.from(h,(n,u)=>m(n,u,h))};k.max=S;k.maxIndex=Ha;k.mean=function(h,m){let n=0,u=0;if(void 0===m)for(var x of h)null!=x&&(x=+x)>=x&&(++n,u+=x);else{x=-1;for(let L of h)null!=(L=m(L,++x,h))&&(L=+L)>=L&&(++n,u+=L)}if(n)return u/n};k.median=function(h,m){return Oa(h,.5,m)};k.merge=function(h){return Array.from(Va(h))};k.min=la;k.minIndex=Fa;k.nice=ta;k.pairs=function(h,m=E){const n=[];let u,x=!1;for(const L of h)x&&n.push(m(u,L)),u=L,x=!0;return n};k.permute=function(h,m){return Array.from(m,
n=>h[n])};k.quantile=Oa;k.quantileSorted=function(h,m,n=Fb){if(u=h.length){if(0>=(m=+m)||2>u)return+n(h[0],0,h);if(1<=m)return+n(h[u-1],u-1,h);var u;m*=u-1;u=Math.floor(m);var x=+n(h[u],u,h);h=+n(h[u+1],u+1,h);return x+(h-x)*(m-u)}};k.quickselect=wa;k.range=function(h,m,n){h=+h;m=+m;n=2>(x=arguments.length)?(m=h,h=0,1):3>x?1:+n;for(var u=-1,x=Math.max(0,Math.ceil((m-h)/n))|0,L=Array(x);++u<x;)L[u]=h+u*n;return L};k.reduce=function(h,m,n){if("function"!==typeof m)throw new TypeError("reducer is not a function");
const u=h[Symbol.iterator]();let x,L,ia=-1;if(3>arguments.length){({done:x,value:n}=u.next());if(x)return;++ia}for(;{done:x,value:L}=u.next(),!x;)n=m(n,L,++ia,h);return n};k.reverse=function(h){if("function"!==typeof h[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(h).reverse()};k.rollup=function(h,m,...n){return Ua(h,oa,m,n)};k.rollups=function(h,m,...n){return Ua(h,Array.from,m,n)};k.scan=function(h,m){h=w(h,m);return 0>h?void 0:h};k.shuffle=p;k.shuffler=F;k.some=
function(h,m){if("function"!==typeof m)throw new TypeError("test is not a function");let n=-1;for(const u of h)if(m(u,++n,h))return!0;return!1};k.sort=function(h,m=q){if("function"!==typeof h[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(h).sort(m)};k.subset=function(h,m){return N(m,h)};k.sum=function(h,m){let n=0;if(void 0===m)for(var u of h){if(u=+u)n+=u}else{u=-1;for(let x of h)if(x=+m(x,++u,h))n+=x}return n};k.superset=N;k.thresholdFreedmanDiaconis=function(h,
m,n){return Math.ceil((n-m)/(2*(Oa(h,.75)-Oa(h,.25))*Math.pow(db(h),-1/3)))};k.thresholdScott=function(h,m,n){return Math.ceil((n-m)/(3.5*Ca(h)*Math.pow(db(h),-1/3)))};k.thresholdSturges=Qa;k.tickIncrement=Ta;k.tickStep=function(h,m,n){var u=Math.abs(m-h)/Math.max(0,n);n=Math.pow(10,Math.floor(Math.log(u)/Math.LN10));u/=n;u>=ba?n*=10:u>=V?n*=5:u>=H&&(n*=2);return m<h?-n:n};k.ticks=qa;k.transpose=Z;k.union=function(...h){const m=new Set;for(const n of h)for(const u of n)m.add(u);return m};k.variance=
bb;k.zip=function(){return Z(arguments)};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[17]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb):"function"===typeof define&&define.amd?define(["exports"],q):(k="undefined"!==typeof globalThis?globalThis:k||self,q(k.d3=k.d3||{}))})(this,function(k){function q(na,qa){if(0>(qa=(na=qa?na.toExponential(qa-1):na.toExponential()).indexOf("e")))return null;var Ta=na.slice(0,qa);return[1<Ta.length?Ta[0]+Ta.slice(2):Ta,+na.slice(qa+1)]}function R(na){return na=q(Math.abs(na)),na?na[1]:NaN}function Ma(na,
qa){return function(Ta,ta){for(var Qa=Ta.length,va=[],S=0,la=na[0],wa=0;0<Qa&&0<la;){wa+la+1>ta&&(la=Math.max(1,ta-wa));va.push(Ta.substring(Qa-=la,Qa+la));if((wa+=la+1)>ta)break;la=na[S=(S+1)%na.length]}return va.reverse().join(qa)}}function Fb(na){return function(qa){return qa.replace(/[0-9]/g,function(Ta){return na[+Ta]})}}function Ja(na){if(!(qa=bb.exec(na)))throw Error("invalid format: "+na);var qa;return new db({fill:qa[1],align:qa[2],sign:qa[3],symbol:qa[4],zero:qa[5],width:qa[6],comma:qa[7],
precision:qa[8]&&qa[8].slice(1),trim:qa[9],type:qa[10]})}function db(na){this.fill=void 0===na.fill?" ":na.fill+"";this.align=void 0===na.align?"\x3e":na.align+"";this.sign=void 0===na.sign?"-":na.sign+"";this.symbol=void 0===na.symbol?"":na.symbol+"";this.zero=!!na.zero;this.width=void 0===na.width?void 0:+na.width;this.comma=!!na.comma;this.precision=void 0===na.precision?void 0:+na.precision;this.trim=!!na.trim;this.type=void 0===na.type?"":na.type+""}function Bb(na,qa){qa=q(na,qa);if(!qa)return na+
"";na=qa[0];qa=qa[1];return 0>qa?"0."+Array(-qa).join("0")+na:na.length>qa+1?na.slice(0,qa+1)+"."+na.slice(qa+1):na+Array(qa-na.length+2).join("0")}function jb(na){return na}function Ea(na){function qa(Oa){function Ha(ba){var V=ua,H=Ga,p,h;if("c"===Y)H=G(ba)+H,ba="";else{ba=+ba;var m=0>ba||0>1/ba;ba=isNaN(ba)?Da:G(Math.abs(ba),P);if(N){var n=ba.length,u=1,x=-1;a:for(;u<n;++u)switch(ba[u]){case ".":x=p=u;break;case "0":0===x&&(x=u);p=u;break;default:if(!+ba[u])break a;0<x&&(x=0)}ba=0<x?ba.slice(0,
x)+ba.slice(p+1):ba}m&&0===+ba&&"+"!==E&&(m=!1);V=(m?"("===E?E:wa:"-"===E||"("===E?"":E)+V;H=("s"===Y?Ia[8+Ca/3]:"")+H+(m&&"("===E?")":"");if(ca)for(m=-1,p=ba.length;++m<p;)if(h=ba.charCodeAt(m),48>h||57<h){H=(46===h?va+ba.slice(m+1):ba.slice(m))+H;ba=ba.slice(0,m);break}}D&&!F&&(ba=Ta(ba,Infinity));h=V.length+ba.length+H.length;m=h<Z?Array(Z-h+1).join(Va):"";D&&F&&(ba=Ta(m+ba,m.length?Z-H.length:Infinity),m="");switch(Fa){case "\x3c":ba=V+ba+H+m;break;case "\x3d":ba=V+m+ba+H;break;case "^":ba=m.slice(0,
h=m.length>>1)+V+ba+H+m.slice(h);break;default:ba=m+V+ba+H}return S(ba)}Oa=Ja(Oa);var Va=Oa.fill,Fa=Oa.align,E=Oa.sign,w=Oa.symbol,F=Oa.zero,Z=Oa.width,D=Oa.comma,P=Oa.precision,N=Oa.trim,Y=Oa.type;"n"===Y?(D=!0,Y="g"):ma[Y]||(void 0===P&&(P=12),N=!0,Y="g");if(F||"0"===Va&&"\x3d"===Fa)F=!0,Va="0",Fa="\x3d";var ua="$"===w?ta:"#"===w&&/[boxX]/.test(Y)?"0"+Y.toLowerCase():"",Ga="$"===w?Qa:/[%p]/.test(Y)?la:"",G=ma[Y],ca=/[defgprs%]/.test(Y);P=void 0===P?6:/[gprs]/.test(Y)?Math.max(1,Math.min(21,P)):
Math.max(0,Math.min(20,P));Ha.toString=function(){return Oa+""};return Ha}var Ta=void 0===na.grouping||void 0===na.thousands?jb:Ma(oa.call(na.grouping,Number),na.thousands+""),ta=void 0===na.currency?"":na.currency[0]+"",Qa=void 0===na.currency?"":na.currency[1]+"",va=void 0===na.decimal?".":na.decimal+"",S=void 0===na.numerals?jb:Fb(oa.call(na.numerals,String)),la=void 0===na.percent?"%":na.percent+"",wa=void 0===na.minus?"":na.minus+"",Da=void 0===na.nan?"NaN":na.nan+"";return{format:qa,formatPrefix:function(Oa,
Ha){var Va=qa((Oa=Ja(Oa),Oa.type="f",Oa));Oa=3*Math.max(-8,Math.min(8,Math.floor(R(Ha)/3)));var Fa=Math.pow(10,-Oa),E=Ia[8+Oa/3];return function(w){return Va(Fa*w)+E}}}}function ab(na){Ua=Ea(na);k.format=Ua.format;k.formatPrefix=Ua.formatPrefix;return Ua}var bb=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Ja.prototype=db.prototype;db.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|
0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var Ca,ma={"%":(na,qa)=>(100*na).toFixed(qa),b:na=>Math.round(na).toString(2),c:na=>na+"",d:function(na){return 1E21<=Math.abs(na=Math.round(na))?na.toLocaleString("en").replace(/,/g,""):na.toString(10)},e:(na,qa)=>na.toExponential(qa),f:(na,qa)=>na.toFixed(qa),g:(na,qa)=>na.toPrecision(qa),o:na=>Math.round(na).toString(8),p:(na,qa)=>Bb(100*na,qa),r:Bb,s:function(na,qa){var Ta=q(na,
qa);if(!Ta)return na+"";var ta=Ta[0];Ta=Ta[1];Ta=Ta-(Ca=3*Math.max(-8,Math.min(8,Math.floor(Ta/3))))+1;var Qa=ta.length;return Ta===Qa?ta:Ta>Qa?ta+Array(Ta-Qa+1).join("0"):0<Ta?ta.slice(0,Ta)+"."+ta.slice(Ta):"0."+Array(1-Ta).join("0")+q(na,Math.max(0,qa+Ta-1))[0]},X:na=>Math.round(na).toString(16).toUpperCase(),x:na=>Math.round(na).toString(16)},oa=Array.prototype.map,Ia="y z a f p n  m  k M G T P E Z Y".split(" "),Ua;ab({thousands:",",grouping:[3],currency:["$",""]});k.FormatSpecifier=db;k.formatDefaultLocale=
ab;k.formatLocale=Ea;k.formatSpecifier=Ja;k.precisionFixed=function(na){return Math.max(0,-R(Math.abs(na)))};k.precisionPrefix=function(na,qa){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(R(qa)/3)))-R(Math.abs(na)))};k.precisionRound=function(na,qa){na=Math.abs(na);qa=Math.abs(qa)-na;return Math.max(0,R(qa)-R(na))+1};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[18]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb):"function"===typeof define&&define.amd?define(["exports"],q):(k=k||self,q(k.d3=k.d3||{}))})(this,function(k){function q(Ba,T,da,Xa){function zb(xb){return Ba(xb=0===arguments.length?new Date:new Date(+xb)),xb}zb.floor=function(xb){return Ba(xb=new Date(+xb)),xb};zb.ceil=function(xb){return Ba(xb=new Date(xb-1)),T(xb,1),Ba(xb),xb};zb.round=function(xb){var Pb=zb(xb),bc=zb.ceil(xb);return xb-
Pb<bc-xb?Pb:bc};zb.offset=function(xb,Pb){return T(xb=new Date(+xb),null==Pb?1:Math.floor(Pb)),xb};zb.range=function(xb,Pb,bc){var Uc=[],yc;xb=zb.ceil(xb);bc=null==bc?1:Math.floor(bc);if(!(xb<Pb&&0<bc))return Uc;do Uc.push(yc=new Date(+xb)),T(xb,bc),Ba(xb);while(yc<xb&&xb<Pb);return Uc};zb.filter=function(xb){return q(function(Pb){if(Pb>=Pb)for(;Ba(Pb),!xb(Pb);)Pb.setTime(Pb-1)},function(Pb,bc){if(Pb>=Pb)if(0>bc)for(;0>=++bc;)for(;T(Pb,-1),!xb(Pb););else for(;0<=--bc;)for(;T(Pb,1),!xb(Pb););})};da&&
(zb.count=function(xb,Pb){Fb.setTime(+xb);Ja.setTime(+Pb);Ba(Fb);Ba(Ja);return Math.floor(da(Fb,Ja))},zb.every=function(xb){xb=Math.floor(xb);return isFinite(xb)&&0<xb?1<xb?zb.filter(Xa?function(Pb){return 0===Xa(Pb)%xb}:function(Pb){return 0===zb.count(0,Pb)%xb}):zb:null});return zb}function R(Ba){return q(function(T){T.setDate(T.getDate()-(T.getDay()+7-Ba)%7);T.setHours(0,0,0,0)},function(T,da){T.setDate(T.getDate()+7*da)},function(T,da){return(da-T-6E4*(da.getTimezoneOffset()-T.getTimezoneOffset()))/
6048E5})}function Ma(Ba){return q(function(T){T.setUTCDate(T.getUTCDate()-(T.getUTCDay()+7-Ba)%7);T.setUTCHours(0,0,0,0)},function(T,da){T.setUTCDate(T.getUTCDate()+7*da)},function(T,da){return(da-T)/6048E5})}var Fb=new Date,Ja=new Date,db=q(function(){},function(Ba,T){Ba.setTime(+Ba+T)},function(Ba,T){return T-Ba});db.every=function(Ba){Ba=Math.floor(Ba);return isFinite(Ba)&&0<Ba?1<Ba?q(function(T){T.setTime(Math.floor(T/Ba)*Ba)},function(T,da){T.setTime(+T+da*Ba)},function(T,da){return(da-T)/Ba}):
db:null};var Bb=db.range,jb=q(function(Ba){Ba.setTime(Ba-Ba.getMilliseconds())},function(Ba,T){Ba.setTime(+Ba+1E3*T)},function(Ba,T){return(T-Ba)/1E3},function(Ba){return Ba.getUTCSeconds()}),Ea=jb.range,ab=q(function(Ba){Ba.setTime(Ba-Ba.getMilliseconds()-1E3*Ba.getSeconds())},function(Ba,T){Ba.setTime(+Ba+6E4*T)},function(Ba,T){return(T-Ba)/6E4},function(Ba){return Ba.getMinutes()}),bb=ab.range,Ca=q(function(Ba){Ba.setTime(Ba-Ba.getMilliseconds()-1E3*Ba.getSeconds()-6E4*Ba.getMinutes())},function(Ba,
T){Ba.setTime(+Ba+36E5*T)},function(Ba,T){return(T-Ba)/36E5},function(Ba){return Ba.getHours()}),ma=Ca.range,oa=q(Ba=>Ba.setHours(0,0,0,0),(Ba,T)=>Ba.setDate(Ba.getDate()+T),(Ba,T)=>(T-Ba-6E4*(T.getTimezoneOffset()-Ba.getTimezoneOffset()))/864E5,Ba=>Ba.getDate()-1),Ia=oa.range,Ua=R(0),na=R(1),qa=R(2),Ta=R(3),ta=R(4),Qa=R(5),va=R(6),S=Ua.range,la=na.range,wa=qa.range,Da=Ta.range,Oa=ta.range,Ha=Qa.range,Va=va.range,Fa=q(function(Ba){Ba.setDate(1);Ba.setHours(0,0,0,0)},function(Ba,T){Ba.setMonth(Ba.getMonth()+
T)},function(Ba,T){return T.getMonth()-Ba.getMonth()+12*(T.getFullYear()-Ba.getFullYear())},function(Ba){return Ba.getMonth()}),E=Fa.range,w=q(function(Ba){Ba.setMonth(0,1);Ba.setHours(0,0,0,0)},function(Ba,T){Ba.setFullYear(Ba.getFullYear()+T)},function(Ba,T){return T.getFullYear()-Ba.getFullYear()},function(Ba){return Ba.getFullYear()});w.every=function(Ba){return isFinite(Ba=Math.floor(Ba))&&0<Ba?q(function(T){T.setFullYear(Math.floor(T.getFullYear()/Ba)*Ba);T.setMonth(0,1);T.setHours(0,0,0,0)},
function(T,da){T.setFullYear(T.getFullYear()+da*Ba)}):null};var F=w.range,Z=q(function(Ba){Ba.setUTCSeconds(0,0)},function(Ba,T){Ba.setTime(+Ba+6E4*T)},function(Ba,T){return(T-Ba)/6E4},function(Ba){return Ba.getUTCMinutes()}),D=Z.range,P=q(function(Ba){Ba.setUTCMinutes(0,0,0)},function(Ba,T){Ba.setTime(+Ba+36E5*T)},function(Ba,T){return(T-Ba)/36E5},function(Ba){return Ba.getUTCHours()}),N=P.range,Y=q(function(Ba){Ba.setUTCHours(0,0,0,0)},function(Ba,T){Ba.setUTCDate(Ba.getUTCDate()+T)},function(Ba,
T){return(T-Ba)/864E5},function(Ba){return Ba.getUTCDate()-1}),ua=Y.range,Ga=Ma(0),G=Ma(1),ca=Ma(2),ba=Ma(3),V=Ma(4),H=Ma(5),p=Ma(6),h=Ga.range,m=G.range,n=ca.range,u=ba.range,x=V.range,L=H.range,ia=p.range,xa=q(function(Ba){Ba.setUTCDate(1);Ba.setUTCHours(0,0,0,0)},function(Ba,T){Ba.setUTCMonth(Ba.getUTCMonth()+T)},function(Ba,T){return T.getUTCMonth()-Ba.getUTCMonth()+12*(T.getUTCFullYear()-Ba.getUTCFullYear())},function(Ba){return Ba.getUTCMonth()}),Wa=xa.range,$a=q(function(Ba){Ba.setUTCMonth(0,
1);Ba.setUTCHours(0,0,0,0)},function(Ba,T){Ba.setUTCFullYear(Ba.getUTCFullYear()+T)},function(Ba,T){return T.getUTCFullYear()-Ba.getUTCFullYear()},function(Ba){return Ba.getUTCFullYear()});$a.every=function(Ba){return isFinite(Ba=Math.floor(Ba))&&0<Ba?q(function(T){T.setUTCFullYear(Math.floor(T.getUTCFullYear()/Ba)*Ba);T.setUTCMonth(0,1);T.setUTCHours(0,0,0,0)},function(T,da){T.setUTCFullYear(T.getUTCFullYear()+da*Ba)}):null};var fb=$a.range;k.timeDay=oa;k.timeDays=Ia;k.timeFriday=Qa;k.timeFridays=
Ha;k.timeHour=Ca;k.timeHours=ma;k.timeInterval=q;k.timeMillisecond=db;k.timeMilliseconds=Bb;k.timeMinute=ab;k.timeMinutes=bb;k.timeMonday=na;k.timeMondays=la;k.timeMonth=Fa;k.timeMonths=E;k.timeSaturday=va;k.timeSaturdays=Va;k.timeSecond=jb;k.timeSeconds=Ea;k.timeSunday=Ua;k.timeSundays=S;k.timeThursday=ta;k.timeThursdays=Oa;k.timeTuesday=qa;k.timeTuesdays=wa;k.timeWednesday=Ta;k.timeWednesdays=Da;k.timeWeek=Ua;k.timeWeeks=S;k.timeYear=w;k.timeYears=F;k.utcDay=Y;k.utcDays=ua;k.utcFriday=H;k.utcFridays=
L;k.utcHour=P;k.utcHours=N;k.utcMillisecond=db;k.utcMilliseconds=Bb;k.utcMinute=Z;k.utcMinutes=D;k.utcMonday=G;k.utcMondays=m;k.utcMonth=xa;k.utcMonths=Wa;k.utcSaturday=p;k.utcSaturdays=ia;k.utcSecond=jb;k.utcSeconds=Ea;k.utcSunday=Ga;k.utcSundays=h;k.utcThursday=V;k.utcThursdays=x;k.utcTuesday=ca;k.utcTuesdays=n;k.utcWednesday=ba;k.utcWednesdays=u;k.utcWeek=Ga;k.utcWeeks=h;k.utcYear=$a;k.utcYears=fb;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[19]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb,Vb(15),Vb(18),Vb(16)):"function"===typeof define&&define.amd?define(["exports","vega-util","d3-time","d3-array"],q):(k="undefined"!==typeof globalThis?globalThis:k||self,q(k.vega={},k.vega,k.d3,k.d3))})(this,function(k,q,R,Ma){function Fb(N){const Y=q.array(N).slice(),ua={};Y.length||q.error("Missing time unit.");Y.forEach(Ga=>{q.hasOwnProperty(na,Ga)?ua[Ga]=1:q.error(`Invalid time unit: ${Ga}.`)});
1<(ua.week||ua.day?1:0)+(ua.quarter||ua.month||ua.date?1:0)+(ua.dayofyear?1:0)&&q.error(`Incompatible time units: ${N}`);Y.sort((Ga,G)=>na[Ga]-na[G]);return Y}function Ja(N){Ta.setFullYear(N);Ta.setMonth(0);Ta.setDate(1);Ta.setHours(0,0,0,0);return Ta}function db(N){return R.timeDay.count(Ja(N.getFullYear())-1,N)}function Bb(N){return R.timeWeek.count(Ja(N.getFullYear())-1,N)}function jb(N,Y,ua,Ga,G,ca,ba){return 0<=N&&100>N?(Y=new Date(-1,Y,ua,Ga,G,ca,ba),Y.setFullYear(N),Y):new Date(N,Y,ua,Ga,G,
ca,ba)}function Ea(N){const Y=Date.UTC(N.getUTCFullYear(),0,1);return R.utcDay.count(Y-1,N)}function ab(N){const Y=Date.UTC(N.getUTCFullYear(),0,1);return R.utcWeek.count(Y-1,N)}function bb(N){Ta.setTime(Date.UTC(N,0,1));return Ta.getUTCDay()}function Ca(N,Y,ua,Ga,G,ca,ba){return 0<=N&&100>N?(N=new Date(Date.UTC(-1,Y,ua,Ga,G,ca,ba)),N.setUTCFullYear(ua.y),N):new Date(Date.UTC(N,Y,ua,Ga,G,ca,ba))}function ma(N,Y,ua,Ga,G){const ca=Y||1,ba=q.peek(N);Y=(L,ia,xa)=>{xa=xa||L;return oa(ua[xa],Ga[xa],L===
ba&&ca,ia)};const V=new Date;N=q.toSet(N);const H=N.year?Y("year"):q.constant(2012),p=N.month?Y("month"):N.quarter?Y("quarter"):q.zero,h=N.week&&N.day?Y("day",1,"weekday"):N.week?Y("week",1):N.day?Y("day",1):N.date?Y("date",1):N.dayofyear?Y("dayofyear",1):q.one,m=N.hours?Y("hours"):q.zero,n=N.minutes?Y("minutes"):q.zero,u=N.seconds?Y("seconds"):q.zero,x=N.milliseconds?Y("milliseconds"):q.zero;return function(L){V.setTime(+L);L=H(V);return G(L,p(V),h(V,L),m(V),n(V),u(V),x(V))}}function oa(N,Y,ua,Ga){const G=
1>=ua?N:Ga?(ca,ba)=>Ga+ua*Math.floor((N(ca,ba)-Ga)/ua):(ca,ba)=>ua*Math.floor(N(ca,ba)/ua);return Y?(ca,ba)=>Y(G(ca,ba),ba):G}function Ia(N,Y,ua){return Y+7*N-(ua+6)%7}const Ua="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),na=Ua.reduce((N,Y,ua)=>(N[Y]=1+ua,N),{}),qa={["year"]:"%Y ",["quarter"]:"Q%q ",["month"]:"%b ",["date"]:"%d ",["week"]:"W%U ",["day"]:"%a ",["dayofyear"]:"%j ",["hours"]:"%H:00",["minutes"]:"00:%M",["seconds"]:":%S",["milliseconds"]:".%L",
["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"},Ta=new Date,ta={["year"]:N=>N.getFullYear(),["quarter"]:N=>Math.floor(N.getMonth()/3),["month"]:N=>N.getMonth(),["date"]:N=>N.getDate(),["hours"]:N=>N.getHours(),["minutes"]:N=>N.getMinutes(),["seconds"]:N=>N.getSeconds(),["milliseconds"]:N=>N.getMilliseconds(),["dayofyear"]:N=>db(N),["week"]:N=>Bb(N),["weekday"]:(N,Y)=>Ia(Bb(N),N.getDay(),Ja(Y).getDay()),["day"]:(N,Y)=>Ia(1,N.getDay(),Ja(Y).getDay())},Qa={["quarter"]:N=>
3*N,["week"]:(N,Y)=>Ia(N,0,Ja(Y).getDay())},va={["year"]:N=>N.getUTCFullYear(),["quarter"]:N=>Math.floor(N.getUTCMonth()/3),["month"]:N=>N.getUTCMonth(),["date"]:N=>N.getUTCDate(),["hours"]:N=>N.getUTCHours(),["minutes"]:N=>N.getUTCMinutes(),["seconds"]:N=>N.getUTCSeconds(),["milliseconds"]:N=>N.getUTCMilliseconds(),["dayofyear"]:N=>Ea(N),["week"]:N=>ab(N),["day"]:(N,Y)=>Ia(1,N.getUTCDay(),bb(Y)),["weekday"]:(N,Y)=>Ia(ab(N),N.getUTCDay(),bb(Y))},S={["quarter"]:N=>3*N,["week"]:(N,Y)=>Ia(N,0,bb(Y))},
la={["year"]:R.timeYear,["quarter"]:R.timeMonth.every(3),["month"]:R.timeMonth,["week"]:R.timeWeek,["date"]:R.timeDay,["day"]:R.timeDay,["dayofyear"]:R.timeDay,["hours"]:R.timeHour,["minutes"]:R.timeMinute,["seconds"]:R.timeSecond,["milliseconds"]:R.timeMillisecond},wa={["year"]:R.utcYear,["quarter"]:R.utcMonth.every(3),["month"]:R.utcMonth,["week"]:R.utcWeek,["date"]:R.utcDay,["day"]:R.utcDay,["dayofyear"]:R.utcDay,["hours"]:R.utcHour,["minutes"]:R.utcMinute,["seconds"]:R.utcSecond,["milliseconds"]:R.utcMillisecond},
Da=6048E5,Oa=2592E6,Ha=31536E6,Va="year month date hours minutes seconds milliseconds".split(" "),Fa=Va.slice(0,-1),E=Fa.slice(0,-1),w=E.slice(0,-1),F=w.slice(0,-1),Z=["year","month"],D=["year"],P=[[Fa,1,1E3],[Fa,5,5E3],[Fa,15,15E3],[Fa,30,3E4],[E,1,6E4],[E,5,3E5],[E,15,9E5],[E,30,18E5],[w,1,36E5],[w,3,108E5],[w,6,216E5],[w,12,432E5],[F,1,864E5],[["year","week"],1,Da],[Z,1,Oa],[Z,3,3*Oa],[D,1,Ha]];k.DATE="date";k.DAY="day";k.DAYOFYEAR="dayofyear";k.HOURS="hours";k.MILLISECONDS="milliseconds";k.MINUTES=
"minutes";k.MONTH="month";k.QUARTER="quarter";k.SECONDS="seconds";k.TIME_UNITS=Ua;k.WEEK="week";k.YEAR="year";k.dayofyear=function(N){return db(new Date(N))};k.timeBin=function(N){var Y=N.extent;N=N.maxbins||40;var ua=Math.abs(q.span(Y))/N;let Ga=Ma.bisector(G=>G[2]).right(P,ua);Ga===P.length?(ua=D,Y=Ma.tickStep(Y[0]/Ha,Y[1]/Ha,N)):Ga?(Ga=P[ua/P[Ga-1][2]<P[Ga][2]/ua?Ga-1:Ga],ua=Ga[0],Y=Ga[1]):(ua=Va,Y=Math.max(Ma.tickStep(Y[0],Y[1],N),1));return{units:ua,step:Y}};k.timeFloor=function(N,Y){return ma(N,
Y||1,ta,Qa,jb)};k.timeInterval=function(N){return la[N]};k.timeOffset=function(N,Y,ua){return(N=la[N])?N.offset(Y,ua):void 0};k.timeSequence=function(N,Y,ua,Ga){return(N=la[N])?N.range(Y,ua,Ga):void 0};k.timeUnitSpecifier=function(N,Y){Y=q.extend({},qa,Y);N=Fb(N);const ua=N.length;let Ga="",G,ca,ba;for(G=0;G<ua;)for(ca=N.length;ca>G;--ca)if(ba=N.slice(G,ca).join("-"),null!=Y[ba]){Ga+=Y[ba];G=ca;break}return Ga.trim()};k.timeUnits=Fb;k.utcFloor=function(N,Y){return ma(N,Y||1,va,S,Ca)};k.utcInterval=
function(N){return wa[N]};k.utcOffset=function(N,Y,ua){return(N=wa[N])?N.offset(Y,ua):void 0};k.utcSequence=function(N,Y,ua,Ga){return(N=wa[N])?N.range(Y,ua,Ga):void 0};k.utcdayofyear=function(N){return Ea(new Date(N))};k.utcweek=function(N){return ab(new Date(N))};k.week=function(N){return Bb(new Date(N))};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[20]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb,Vb(18)):"function"===typeof define&&define.amd?define(["exports","d3-time"],q):(k=k||self,q(k.d3=k.d3||{},k.d3))})(this,function(k,q){function R(tb){if(0<=tb.y&&100>tb.y){var Jb=new Date(-1,tb.m,tb.d,tb.H,tb.M,tb.S,tb.L);Jb.setFullYear(tb.y);return Jb}return new Date(tb.y,tb.m,tb.d,tb.H,tb.M,tb.S,tb.L)}function Ma(tb){if(0<=tb.y&&100>tb.y){var Jb=new Date(Date.UTC(-1,tb.m,tb.d,tb.H,tb.M,tb.S,
tb.L));Jb.setUTCFullYear(tb.y);return Jb}return new Date(Date.UTC(tb.y,tb.m,tb.d,tb.H,tb.M,tb.S,tb.L))}function Fb(tb,Jb,Gc){return{y:tb,m:Jb,d:Gc,H:0,M:0,S:0,L:0}}function Ja(tb){function Jb(Yb,lc){return function(Ec){var Cc=[],id=-1,jd=0,qd=Yb.length,ud,be;for(Ec instanceof Date||(Ec=new Date(+Ec));++id<qd;)if(37===Yb.charCodeAt(id)){Cc.push(Yb.slice(jd,id));null!=(jd=Kb[ud=Yb.charAt(++id)])?ud=Yb.charAt(++id):jd="e"===ud?" ":"0";if(be=lc[ud])ud=be(Ec,jd);Cc.push(ud);jd=id+1}Cc.push(Yb.slice(jd,
id));return Cc.join("")}}function Gc(Yb,lc){return function(Ec){var Cc=Fb(1900,void 0,1);if(ke(Cc,Yb,Ec+="",0)!=Ec.length)return null;if("Q"in Cc)return new Date(Cc.Q);if("s"in Cc)return new Date(1E3*Cc.s+("L"in Cc?Cc.L:0));!lc||"Z"in Cc||(Cc.Z=0);"p"in Cc&&(Cc.H=Cc.H%12+12*Cc.p);void 0===Cc.m&&(Cc.m="q"in Cc?Cc.q:0);if("V"in Cc){if(1>Cc.V||53<Cc.V)return null;"w"in Cc||(Cc.w=1);if("Z"in Cc){Ec=Ma(Fb(Cc.y,0,1));var id=Ec.getUTCDay();Ec=4<id||0===id?q.utcMonday.ceil(Ec):q.utcMonday(Ec);Ec=q.utcDay.offset(Ec,
7*(Cc.V-1));Cc.y=Ec.getUTCFullYear();Cc.m=Ec.getUTCMonth();Cc.d=Ec.getUTCDate()+(Cc.w+6)%7}else Ec=R(Fb(Cc.y,0,1)),id=Ec.getDay(),Ec=4<id||0===id?q.timeMonday.ceil(Ec):q.timeMonday(Ec),Ec=q.timeDay.offset(Ec,7*(Cc.V-1)),Cc.y=Ec.getFullYear(),Cc.m=Ec.getMonth(),Cc.d=Ec.getDate()+(Cc.w+6)%7}else if("W"in Cc||"U"in Cc)"w"in Cc||(Cc.w="u"in Cc?Cc.u%7:"W"in Cc?1:0),id="Z"in Cc?Ma(Fb(Cc.y,0,1)).getUTCDay():R(Fb(Cc.y,0,1)).getDay(),Cc.m=0,Cc.d="W"in Cc?(Cc.w+6)%7+7*Cc.W-(id+5)%7:Cc.w+7*Cc.U-(id+6)%7;return"Z"in
Cc?(Cc.H+=Cc.Z/100|0,Cc.M+=Cc.Z%100,Ma(Cc)):R(Cc)}}function ke(Yb,lc,Ec,Cc){for(var id=0,jd=lc.length,qd=Ec.length,ud;id<jd;){if(Cc>=qd)return-1;ud=lc.charCodeAt(id++);if(37===ud){if(ud=lc.charAt(id++),ud=ic[ud in Kb?lc.charAt(id++):ud],!ud||0>(Cc=ud(Yb,Ec,Cc)))return-1}else if(ud!=Ec.charCodeAt(Cc++))return-1}return Cc}var ge=tb.dateTime,Ke=tb.date,Ye=tb.time,J=tb.periods,ja=tb.days,Na=tb.shortDays,mb=tb.months,Gb=tb.shortMonths,lb=jb(J),Xb=Ea(J),Rb=jb(ja),ra=Ea(ja),Ra=jb(Na),rb=Ea(Na),Mb=jb(mb),
dc=Ea(mb),hc=jb(Gb),sc=Ea(Gb),sb={a:function(Yb){return Na[Yb.getDay()]},A:function(Yb){return ja[Yb.getDay()]},b:function(Yb){return Gb[Yb.getMonth()]},B:function(Yb){return mb[Yb.getMonth()]},c:null,d:Fa,e:Fa,f:D,g:p,G:m,H:E,I:w,j:F,L:Z,m:P,M:N,p:function(Yb){return J[+(12<=Yb.getHours())]},q:function(Yb){return 1+~~(Yb.getMonth()/3)},Q:Sb,s:Zb,S:Y,u:ua,U:Ga,V:ca,w:ba,W:V,x:null,X:null,y:H,Y:h,Z:n,"%":Nb},gc={a:function(Yb){return Na[Yb.getUTCDay()]},A:function(Yb){return ja[Yb.getUTCDay()]},b:function(Yb){return Gb[Yb.getUTCMonth()]},
B:function(Yb){return mb[Yb.getUTCMonth()]},c:null,d:u,e:u,f:Wa,g:Uc,G:Vc,H:x,I:L,j:ia,L:xa,m:$a,M:fb,p:function(Yb){return J[+(12<=Yb.getUTCHours())]},q:function(Yb){return 1+~~(Yb.getUTCMonth()/3)},Q:Sb,s:Zb,S:Ba,u:T,U:da,V:zb,w:xb,W:Pb,x:null,X:null,y:bc,Y:yc,Z:ya,"%":Nb},ic={a:function(Yb,lc,Ec){return(lc=Ra.exec(lc.slice(Ec)))?(Yb.w=rb.get(lc[0].toLowerCase()),Ec+lc[0].length):-1},A:function(Yb,lc,Ec){return(lc=Rb.exec(lc.slice(Ec)))?(Yb.w=ra.get(lc[0].toLowerCase()),Ec+lc[0].length):-1},b:function(Yb,
lc,Ec){return(lc=hc.exec(lc.slice(Ec)))?(Yb.m=sc.get(lc[0].toLowerCase()),Ec+lc[0].length):-1},B:function(Yb,lc,Ec){return(lc=Mb.exec(lc.slice(Ec)))?(Yb.m=dc.get(lc[0].toLowerCase()),Ec+lc[0].length):-1},c:function(Yb,lc,Ec){return ke(Yb,ge,lc,Ec)},d:ta,e:ta,f:Da,g:Ua,G:Ia,H:va,I:va,j:Qa,L:wa,m:Ta,M:S,p:function(Yb,lc,Ec){return(lc=lb.exec(lc.slice(Ec)))?(Yb.p=Xb.get(lc[0].toLowerCase()),Ec+lc[0].length):-1},q:qa,Q:Ha,s:Va,S:la,u:bb,U:Ca,V:ma,w:ab,W:oa,x:function(Yb,lc,Ec){return ke(Yb,Ke,lc,Ec)},
X:function(Yb,lc,Ec){return ke(Yb,Ye,lc,Ec)},y:Ua,Y:Ia,Z:na,"%":Oa};sb.x=Jb(Ke,sb);sb.X=Jb(Ye,sb);sb.c=Jb(ge,sb);gc.x=Jb(Ke,gc);gc.X=Jb(Ye,gc);gc.c=Jb(ge,gc);return{format:function(Yb){var lc=Jb(Yb+="",sb);lc.toString=function(){return Yb};return lc},parse:function(Yb){var lc=Gc(Yb+="",!1);lc.toString=function(){return Yb};return lc},utcFormat:function(Yb){var lc=Jb(Yb+="",gc);lc.toString=function(){return Yb};return lc},utcParse:function(Yb){var lc=Gc(Yb+="",!0);lc.toString=function(){return Yb};
return lc}}}function db(tb,Jb,Gc){var ke=0>tb?"-":"";tb=(ke?-tb:tb)+"";var ge=tb.length;return ke+(ge<Gc?Array(Gc-ge+1).join(Jb)+tb:tb)}function Bb(tb){return tb.replace(dd,"\\$\x26")}function jb(tb){return new RegExp("^(?:"+tb.map(Bb).join("|")+")","i")}function Ea(tb){return new Map(tb.map((Jb,Gc)=>[Jb.toLowerCase(),Gc]))}function ab(tb,Jb,Gc){return(Jb=Eb.exec(Jb.slice(Gc,Gc+1)))?(tb.w=+Jb[0],Gc+Jb[0].length):-1}function bb(tb,Jb,Gc){return(Jb=Eb.exec(Jb.slice(Gc,Gc+1)))?(tb.u=+Jb[0],Gc+Jb[0].length):
-1}function Ca(tb,Jb,Gc){return(Jb=Eb.exec(Jb.slice(Gc,Gc+2)))?(tb.U=+Jb[0],Gc+Jb[0].length):-1}function ma(tb,Jb,Gc){return(Jb=Eb.exec(Jb.slice(Gc,Gc+2)))?(tb.V=+Jb[0],Gc+Jb[0].length):-1}function oa(tb,Jb,Gc){return(Jb=Eb.exec(Jb.slice(Gc,Gc+2)))?(tb.W=+Jb[0],Gc+Jb[0].length):-1}function Ia(tb,Jb,Gc){return(Jb=Eb.exec(Jb.slice(Gc,Gc+4)))?(tb.y=+Jb[0],Gc+Jb[0].length):-1}function Ua(tb,Jb,Gc){return(Jb=Eb.exec(Jb.slice(Gc,Gc+2)))?(tb.y=+Jb[0]+(68<+Jb[0]?1900:2E3),Gc+Jb[0].length):-1}function na(tb,
Jb,Gc){return(Jb=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Jb.slice(Gc,Gc+6)))?(tb.Z=Jb[1]?0:-(Jb[2]+(Jb[3]||"00")),Gc+Jb[0].length):-1}function qa(tb,Jb,Gc){return(Jb=Eb.exec(Jb.slice(Gc,Gc+1)))?(tb.q=3*Jb[0]-3,Gc+Jb[0].length):-1}function Ta(tb,Jb,Gc){return(Jb=Eb.exec(Jb.slice(Gc,Gc+2)))?(tb.m=Jb[0]-1,Gc+Jb[0].length):-1}function ta(tb,Jb,Gc){return(Jb=Eb.exec(Jb.slice(Gc,Gc+2)))?(tb.d=+Jb[0],Gc+Jb[0].length):-1}function Qa(tb,Jb,Gc){return(Jb=Eb.exec(Jb.slice(Gc,Gc+3)))?(tb.m=0,tb.d=+Jb[0],Gc+Jb[0].length):
-1}function va(tb,Jb,Gc){return(Jb=Eb.exec(Jb.slice(Gc,Gc+2)))?(tb.H=+Jb[0],Gc+Jb[0].length):-1}function S(tb,Jb,Gc){return(Jb=Eb.exec(Jb.slice(Gc,Gc+2)))?(tb.M=+Jb[0],Gc+Jb[0].length):-1}function la(tb,Jb,Gc){return(Jb=Eb.exec(Jb.slice(Gc,Gc+2)))?(tb.S=+Jb[0],Gc+Jb[0].length):-1}function wa(tb,Jb,Gc){return(Jb=Eb.exec(Jb.slice(Gc,Gc+3)))?(tb.L=+Jb[0],Gc+Jb[0].length):-1}function Da(tb,Jb,Gc){return(Jb=Eb.exec(Jb.slice(Gc,Gc+6)))?(tb.L=Math.floor(Jb[0]/1E3),Gc+Jb[0].length):-1}function Oa(tb,Jb,Gc){return(tb=
Nc.exec(Jb.slice(Gc,Gc+1)))?Gc+tb[0].length:-1}function Ha(tb,Jb,Gc){return(Jb=Eb.exec(Jb.slice(Gc)))?(tb.Q=+Jb[0],Gc+Jb[0].length):-1}function Va(tb,Jb,Gc){return(Jb=Eb.exec(Jb.slice(Gc)))?(tb.s=+Jb[0],Gc+Jb[0].length):-1}function Fa(tb,Jb){return db(tb.getDate(),Jb,2)}function E(tb,Jb){return db(tb.getHours(),Jb,2)}function w(tb,Jb){return db(tb.getHours()%12||12,Jb,2)}function F(tb,Jb){return db(1+q.timeDay.count(q.timeYear(tb),tb),Jb,3)}function Z(tb,Jb){return db(tb.getMilliseconds(),Jb,3)}function D(tb,
Jb){return Z(tb,Jb)+"000"}function P(tb,Jb){return db(tb.getMonth()+1,Jb,2)}function N(tb,Jb){return db(tb.getMinutes(),Jb,2)}function Y(tb,Jb){return db(tb.getSeconds(),Jb,2)}function ua(tb){tb=tb.getDay();return 0===tb?7:tb}function Ga(tb,Jb){return db(q.timeSunday.count(q.timeYear(tb)-1,tb),Jb,2)}function G(tb){var Jb=tb.getDay();return 4<=Jb||0===Jb?q.timeThursday(tb):q.timeThursday.ceil(tb)}function ca(tb,Jb){tb=G(tb);return db(q.timeThursday.count(q.timeYear(tb),tb)+(4===q.timeYear(tb).getDay()),
Jb,2)}function ba(tb){return tb.getDay()}function V(tb,Jb){return db(q.timeMonday.count(q.timeYear(tb)-1,tb),Jb,2)}function H(tb,Jb){return db(tb.getFullYear()%100,Jb,2)}function p(tb,Jb){tb=G(tb);return db(tb.getFullYear()%100,Jb,2)}function h(tb,Jb){return db(tb.getFullYear()%1E4,Jb,4)}function m(tb,Jb){var Gc=tb.getDay();tb=4<=Gc||0===Gc?q.timeThursday(tb):q.timeThursday.ceil(tb);return db(tb.getFullYear()%1E4,Jb,4)}function n(tb){tb=tb.getTimezoneOffset();return(0<tb?"-":(tb*=-1,"+"))+db(tb/60|
0,"0",2)+db(tb%60,"0",2)}function u(tb,Jb){return db(tb.getUTCDate(),Jb,2)}function x(tb,Jb){return db(tb.getUTCHours(),Jb,2)}function L(tb,Jb){return db(tb.getUTCHours()%12||12,Jb,2)}function ia(tb,Jb){return db(1+q.utcDay.count(q.utcYear(tb),tb),Jb,3)}function xa(tb,Jb){return db(tb.getUTCMilliseconds(),Jb,3)}function Wa(tb,Jb){return xa(tb,Jb)+"000"}function $a(tb,Jb){return db(tb.getUTCMonth()+1,Jb,2)}function fb(tb,Jb){return db(tb.getUTCMinutes(),Jb,2)}function Ba(tb,Jb){return db(tb.getUTCSeconds(),
Jb,2)}function T(tb){tb=tb.getUTCDay();return 0===tb?7:tb}function da(tb,Jb){return db(q.utcSunday.count(q.utcYear(tb)-1,tb),Jb,2)}function Xa(tb){var Jb=tb.getUTCDay();return 4<=Jb||0===Jb?q.utcThursday(tb):q.utcThursday.ceil(tb)}function zb(tb,Jb){tb=Xa(tb);return db(q.utcThursday.count(q.utcYear(tb),tb)+(4===q.utcYear(tb).getUTCDay()),Jb,2)}function xb(tb){return tb.getUTCDay()}function Pb(tb,Jb){return db(q.utcMonday.count(q.utcYear(tb)-1,tb),Jb,2)}function bc(tb,Jb){return db(tb.getUTCFullYear()%
100,Jb,2)}function Uc(tb,Jb){tb=Xa(tb);return db(tb.getUTCFullYear()%100,Jb,2)}function yc(tb,Jb){return db(tb.getUTCFullYear()%1E4,Jb,4)}function Vc(tb,Jb){var Gc=tb.getUTCDay();tb=4<=Gc||0===Gc?q.utcThursday(tb):q.utcThursday.ceil(tb);return db(tb.getUTCFullYear()%1E4,Jb,4)}function ya(){return"+0000"}function Nb(){return"%"}function Sb(tb){return+tb}function Zb(tb){return Math.floor(+tb/1E3)}function uc(tb){Ic=Ja(tb);k.timeFormat=Ic.format;k.timeParse=Ic.parse;k.utcFormat=Ic.utcFormat;k.utcParse=
Ic.utcParse;return Ic}function cc(tb){return tb.toISOString()}function gb(tb){tb=new Date(tb);return isNaN(tb)?null:tb}var Kb={"-":"",_:" ",0:"0"},Eb=/^\s*\d+/,Nc=/^%/,dd=/[\\^$*+?|[\]().{}]/g,Ic;uc({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),
shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var Tc=Date.prototype.toISOString?cc:k.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),xd=+new Date("2000-01-01T00:00:00.000Z")?gb:k.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");k.isoFormat=Tc;k.isoParse=xd;k.timeFormatDefaultLocale=uc;k.timeFormatLocale=Ja;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[21]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb,Vb(16),Vb(17),Vb(19),Vb(15),Vb(20)):"function"===typeof define&&define.amd?define("exports d3-array d3-format vega-time vega-util d3-time-format".split(" "),q):(k="undefined"!==typeof globalThis?globalThis:k||self,q(k.vega={},k.d3,k.d3,k.vega,k.vega,k.d3))})(this,function(k,q,R,Ma,Fb,Ja){function db(ta){const Qa={};return va=>Qa[va]||(Qa[va]=ta(va))}function Bb(ta,Qa){return va=>{va=ta(va);const S=
va.indexOf(Qa);if(0>S)return va;a:{var la=va.lastIndexOf("e");if(!(0<la)){for(la=va.length;--la>S;){var wa=va.charCodeAt(la);if(48<=wa&&57>=wa){la+=1;break a}}la=void 0}}for(wa=la<va.length?va.slice(la):"";--la>S;)if("0"!==va[la]){++la;break}return va.slice(0,la)+wa}}function jb(ta){const Qa=db(ta.format),va=ta.formatPrefix;return{format:Qa,formatPrefix:va,formatFloat(S){S=R.formatSpecifier(S||",");if(null==S.precision){S.precision=12;switch(S.type){case "%":S.precision-=2;break;case "e":--S.precision}return Bb(Qa(S),
Qa(".1f")(1)[1])}return Qa(S)},formatSpan(S,la,wa,Da){Da=R.formatSpecifier(null==Da?",f":Da);wa=q.tickStep(S,la,wa);S=Math.max(Math.abs(S),Math.abs(la));if(null==Da.precision)switch(Da.type){case "s":return isNaN(la=R.precisionPrefix(wa,S))||(Da.precision=la),va(Da,S);case "":case "e":case "g":case "p":case "r":isNaN(la=R.precisionRound(wa,S))||(Da.precision=la-("e"===Da.type));break;case "f":case "%":isNaN(la=R.precisionFixed(wa))||(Da.precision=la-2*("%"===Da.type))}return Qa(Da)}}}function Ea(){return qa=
jb({format:R.format,formatPrefix:R.formatPrefix})}function ab(ta){return jb(R.formatLocale(ta))}function bb(ta){return arguments.length?qa=ab(ta):qa}function Ca(ta,Qa,va){va=va||{};Fb.isObject(va)||Fb.error(`Invalid time multi-format specifier: ${va}`);const S=Qa(Ma.SECONDS),la=Qa(Ma.MINUTES),wa=Qa(Ma.HOURS),Da=Qa(Ma.DATE),Oa=Qa(Ma.WEEK),Ha=Qa(Ma.MONTH),Va=Qa(Ma.QUARTER),Fa=Qa(Ma.YEAR),E=ta(va[Ma.MILLISECONDS]||".%L"),w=ta(va[Ma.SECONDS]||":%S"),F=ta(va[Ma.MINUTES]||"%I:%M"),Z=ta(va[Ma.HOURS]||"%I %p"),
D=ta(va[Ma.DATE]||va[Ma.DAY]||"%a %d"),P=ta(va[Ma.WEEK]||"%b %d"),N=ta(va[Ma.MONTH]||"%B"),Y=ta(va[Ma.QUARTER]||"%B"),ua=ta(va[Ma.YEAR]||"%Y");return Ga=>(S(Ga)<Ga?E:la(Ga)<Ga?w:wa(Ga)<Ga?F:Da(Ga)<Ga?Z:Ha(Ga)<Ga?Oa(Ga)<Ga?D:P:Fa(Ga)<Ga?Va(Ga)<Ga?N:Y:ua)(Ga)}function ma(ta){const Qa=db(ta.format),va=db(ta.utcFormat);return{timeFormat:S=>Fb.isString(S)?Qa(S):Ca(Qa,Ma.timeInterval,S),utcFormat:S=>Fb.isString(S)?va(S):Ca(va,Ma.utcInterval,S),timeParse:db(ta.parse),utcParse:db(ta.utcParse)}}function oa(){return Ta=
ma({format:Ja.timeFormat,parse:Ja.timeParse,utcFormat:Ja.utcFormat,utcParse:Ja.utcParse})}function Ia(ta){return ma(Ja.timeFormatLocale(ta))}function Ua(ta){return arguments.length?Ta=Ia(ta):Ta}function na(ta,Qa){var va=arguments.length;va&&2!==va&&Fb.error("defaultLocale expects either zero or two arguments.");if(va){va=bb(ta);var S=Ua(Qa);va=Fb.extend({},va,S)}else va=bb(),S=Ua(),va=Fb.extend({},va,S);return va}let qa;Ea();let Ta;oa();k.defaultLocale=na;k.locale=function(ta,Qa){ta=ta?ab(ta):bb();
Qa=Qa?Ia(Qa):Ua();return Fb.extend({},ta,Qa)};k.numberFormatDefaultLocale=bb;k.numberFormatLocale=ab;k.resetDefaultLocale=function(){Ea();oa();return na()};k.resetNumberFormatDefaultLocale=Ea;k.resetTimeFormatDefaultLocale=oa;k.timeFormatDefaultLocale=Ua;k.timeFormatLocale=Ia;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[22]=function($c,Vb,Pc,Cb){function k(Ja){var db=Ja.length;if(0<db%4)throw Error("Invalid string. Length must be a multiple of 4");Ja=Ja.indexOf("\x3d");-1===Ja&&(Ja=db);return[Ja,Ja===db?0:4-Ja%4]}function q(Ja,db,Bb){for(var jb=[],Ea=db;Ea<Bb;Ea+=3)db=(Ja[Ea]<<16&16711680)+(Ja[Ea+1]<<8&65280)+(Ja[Ea+2]&255),jb.push(R[db>>18&63]+R[db>>12&63]+R[db>>6&63]+R[db&63]);return jb.join("")}Cb.byteLength=function(Ja){Ja=k(Ja);var db=Ja[1];return 3*(Ja[0]+db)/4-db};Cb.toByteArray=function(Ja){var db=
k(Ja);var Bb=db[0];db=db[1];var jb=new Fb(3*(Bb+db)/4-db),Ea=0,ab=0<db?Bb-4:Bb,bb;for(bb=0;bb<ab;bb+=4)Bb=Ma[Ja.charCodeAt(bb)]<<18|Ma[Ja.charCodeAt(bb+1)]<<12|Ma[Ja.charCodeAt(bb+2)]<<6|Ma[Ja.charCodeAt(bb+3)],jb[Ea++]=Bb>>16&255,jb[Ea++]=Bb>>8&255,jb[Ea++]=Bb&255;2===db&&(Bb=Ma[Ja.charCodeAt(bb)]<<2|Ma[Ja.charCodeAt(bb+1)]>>4,jb[Ea++]=Bb&255);1===db&&(Bb=Ma[Ja.charCodeAt(bb)]<<10|Ma[Ja.charCodeAt(bb+1)]<<4|Ma[Ja.charCodeAt(bb+2)]>>2,jb[Ea++]=Bb>>8&255,jb[Ea++]=Bb&255);return jb};Cb.fromByteArray=
function(Ja){for(var db=Ja.length,Bb=db%3,jb=[],Ea=0,ab=db-Bb;Ea<ab;Ea+=16383)jb.push(q(Ja,Ea,Ea+16383>ab?ab:Ea+16383));1===Bb?(Ja=Ja[db-1],jb.push(R[Ja>>2]+R[Ja<<4&63]+"\x3d\x3d")):2===Bb&&(Ja=(Ja[db-2]<<8)+Ja[db-1],jb.push(R[Ja>>10]+R[Ja>>4&63]+R[Ja<<2&63]+"\x3d"));return jb.join("")};var R=[],Ma=[],Fb="undefined"!==typeof Uint8Array?Uint8Array:Array;for($c=0;64>$c;++$c)R[$c]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[$c],Ma["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt($c)]=
$c;Ma[45]=62;Ma[95]=63};
shadow$provide[23]=function($c,Vb,Pc,Cb){Cb.read=function(k,q,R,Ma,Fb){var Ja=8*Fb-Ma-1;var db=(1<<Ja)-1,Bb=db>>1,jb=-7;Fb=R?Fb-1:0;var Ea=R?-1:1,ab=k[q+Fb];Fb+=Ea;R=ab&(1<<-jb)-1;ab>>=-jb;for(jb+=Ja;0<jb;R=256*R+k[q+Fb],Fb+=Ea,jb-=8);Ja=R&(1<<-jb)-1;R>>=-jb;for(jb+=Ma;0<jb;Ja=256*Ja+k[q+Fb],Fb+=Ea,jb-=8);if(0===R)R=1-Bb;else{if(R===db)return Ja?NaN:Infinity*(ab?-1:1);Ja+=Math.pow(2,Ma);R-=Bb}return(ab?-1:1)*Ja*Math.pow(2,R-Ma)};Cb.write=function(k,q,R,Ma,Fb,Ja){var db,Bb=8*Ja-Fb-1,jb=(1<<Bb)-1,Ea=
jb>>1,ab=23===Fb?Math.pow(2,-24)-Math.pow(2,-77):0;Ja=Ma?0:Ja-1;var bb=Ma?1:-1,Ca=0>q||0===q&&0>1/q?1:0;q=Math.abs(q);isNaN(q)||Infinity===q?(q=isNaN(q)?1:0,Ma=jb):(Ma=Math.floor(Math.log(q)/Math.LN2),1>q*(db=Math.pow(2,-Ma))&&(Ma--,db*=2),q=1<=Ma+Ea?q+ab/db:q+ab*Math.pow(2,1-Ea),2<=q*db&&(Ma++,db/=2),Ma+Ea>=jb?(q=0,Ma=jb):1<=Ma+Ea?(q=(q*db-1)*Math.pow(2,Fb),Ma+=Ea):(q=q*Math.pow(2,Ea-1)*Math.pow(2,Fb),Ma=0));for(;8<=Fb;k[R+Ja]=q&255,Ja+=bb,q/=256,Fb-=8);Ma=Ma<<Fb|q;for(Bb+=Fb;0<Bb;k[R+Ja]=Ma&255,
Ja+=bb,Ma/=256,Bb-=8);k[R+Ja-bb]|=128*Ca}};
shadow$provide[24]=function($c,Vb,Pc,Cb){var k={}.toString;Pc.exports=Array.isArray||function(q){return"[object Array]"==k.call(q)}};
shadow$provide[25]=function($c,Vb,Pc,Cb){function k(){try{var E=new Uint8Array(1);E.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return 42===E.foo()&&"function"===typeof E.subarray&&0===E.subarray(1,1).byteLength}catch(w){return!1}}function q(E,w){if((R.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<w)throw new RangeError("Invalid typed array length");R.TYPED_ARRAY_SUPPORT?(E=new Uint8Array(w),E.__proto__=R.prototype):(null===E&&(E=new R(w)),E.length=w);return E}function R(E,w,
F){if(!(R.TYPED_ARRAY_SUPPORT||this instanceof R))return new R(E,w,F);if("number"===typeof E){if("string"===typeof w)throw Error("If encoding is specified then the first argument must be a string");return Ja(this,E)}return Ma(this,E,w,F)}function Ma(E,w,F,Z){if("number"===typeof w)throw new TypeError('"value" argument must not be a number');if("undefined"!==typeof ArrayBuffer&&w instanceof ArrayBuffer){w.byteLength;if(0>F||w.byteLength<F)throw new RangeError("'offset' is out of bounds");if(w.byteLength<
F+(Z||0))throw new RangeError("'length' is out of bounds");w=void 0===F&&void 0===Z?new Uint8Array(w):void 0===Z?new Uint8Array(w,F):new Uint8Array(w,F,Z);R.TYPED_ARRAY_SUPPORT?(E=w,E.__proto__=R.prototype):E=db(E,w);return E}if("string"===typeof w){Z=E;E=F;if("string"!==typeof E||""===E)E="utf8";if(!R.isEncoding(E))throw new TypeError('"encoding" must be a valid string encoding');F=Ea(w,E)|0;Z=q(Z,F);w=Z.write(w,E);w!==F&&(Z=Z.slice(0,w));return Z}return Bb(E,w)}function Fb(E){if("number"!==typeof E)throw new TypeError('"size" argument must be a number');
if(0>E)throw new RangeError('"size" argument must not be negative');}function Ja(E,w){Fb(w);E=q(E,0>w?0:jb(w)|0);if(!R.TYPED_ARRAY_SUPPORT)for(var F=0;F<w;++F)E[F]=0;return E}function db(E,w){var F=0>w.length?0:jb(w.length)|0;E=q(E,F);for(var Z=0;Z<F;Z+=1)E[Z]=w[Z]&255;return E}function Bb(E,w){if(R.isBuffer(w)){var F=jb(w.length)|0;E=q(E,F);if(0===E.length)return E;w.copy(E,0,0,F);return E}if(w){if("undefined"!==typeof ArrayBuffer&&w.buffer instanceof ArrayBuffer||"length"in w)return(F="number"!==
typeof w.length)||(F=w.length,F=F!==F),F?q(E,0):db(E,w);if("Buffer"===w.type&&Ha(w.data))return db(E,w.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}function jb(E){if(E>=(R.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(R.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return E|0}function Ea(E,w){if(R.isBuffer(E))return E.length;if("undefined"!==
typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(E)||E instanceof ArrayBuffer))return E.byteLength;"string"!==typeof E&&(E=""+E);var F=E.length;if(0===F)return 0;for(var Z=!1;;)switch(w){case "ascii":case "latin1":case "binary":return F;case "utf8":case "utf-8":case void 0:return S(E).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*F;case "hex":return F>>>1;case "base64":return Da.toByteArray(va(E)).length;default:if(Z)return S(E).length;w=(""+
w).toLowerCase();Z=!0}}function ab(E,w,F){var Z=!1;if(void 0===w||0>w)w=0;if(w>this.length)return"";if(void 0===F||F>this.length)F=this.length;if(0>=F)return"";F>>>=0;w>>>=0;if(F<=w)return"";for(E||(E="utf8");;)switch(E){case "hex":E=w;w=F;F=this.length;if(!E||0>E)E=0;if(!w||0>w||w>F)w=F;Z="";for(F=E;F<w;++F)E=Z,Z=this[F],Z=16>Z?"0"+Z.toString(16):Z.toString(16),Z=E+Z;return Z;case "utf8":case "utf-8":return oa(this,w,F);case "ascii":E="";for(F=Math.min(this.length,F);w<F;++w)E+=String.fromCharCode(this[w]&
127);return E;case "latin1":case "binary":E="";for(F=Math.min(this.length,F);w<F;++w)E+=String.fromCharCode(this[w]);return E;case "base64":return w=0===w&&F===this.length?Da.fromByteArray(this):Da.fromByteArray(this.slice(w,F)),w;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":w=this.slice(w,F);F="";for(E=0;E<w.length;E+=2)F+=String.fromCharCode(w[E]+256*w[E+1]);return F;default:if(Z)throw new TypeError("Unknown encoding: "+E);E=(E+"").toLowerCase();Z=!0}}function bb(E,w,F){var Z=E[w];E[w]=
E[F];E[F]=Z}function Ca(E,w,F,Z,D){if(0===E.length)return-1;"string"===typeof F?(Z=F,F=0):2147483647<F?F=2147483647:-2147483648>F&&(F=-2147483648);F=+F;isNaN(F)&&(F=D?0:E.length-1);0>F&&(F=E.length+F);if(F>=E.length){if(D)return-1;F=E.length-1}else if(0>F)if(D)F=0;else return-1;"string"===typeof w&&(w=R.from(w,Z));if(R.isBuffer(w))return 0===w.length?-1:ma(E,w,F,Z,D);if("number"===typeof w)return w&=255,R.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?D?Uint8Array.prototype.indexOf.call(E,
w,F):Uint8Array.prototype.lastIndexOf.call(E,w,F):ma(E,[w],F,Z,D);throw new TypeError("val must be string, number or Buffer");}function ma(E,w,F,Z,D){function P(Ga,G){return 1===N?Ga[G]:Ga.readUInt16BE(G*N)}var N=1,Y=E.length,ua=w.length;if(void 0!==Z&&(Z=String(Z).toLowerCase(),"ucs2"===Z||"ucs-2"===Z||"utf16le"===Z||"utf-16le"===Z)){if(2>E.length||2>w.length)return-1;N=2;Y/=2;ua/=2;F/=2}if(D)for(Z=-1;F<Y;F++)if(P(E,F)===P(w,-1===Z?0:F-Z)){if(-1===Z&&(Z=F),F-Z+1===ua)return Z*N}else-1!==Z&&(F-=F-
Z),Z=-1;else for(F+ua>Y&&(F=Y-ua);0<=F;F--){Y=!0;for(Z=0;Z<ua;Z++)if(P(E,F+Z)!==P(w,Z)){Y=!1;break}if(Y)return F}return-1}function oa(E,w,F){F=Math.min(E.length,F);for(var Z=[];w<F;){var D=E[w],P=null,N=239<D?4:223<D?3:191<D?2:1;if(w+N<=F)switch(N){case 1:128>D&&(P=D);break;case 2:var Y=E[w+1];128===(Y&192)&&(D=(D&31)<<6|Y&63,127<D&&(P=D));break;case 3:Y=E[w+1];var ua=E[w+2];128===(Y&192)&&128===(ua&192)&&(D=(D&15)<<12|(Y&63)<<6|ua&63,2047<D&&(55296>D||57343<D)&&(P=D));break;case 4:Y=E[w+1];ua=E[w+
2];var Ga=E[w+3];128===(Y&192)&&128===(ua&192)&&128===(Ga&192)&&(D=(D&15)<<18|(Y&63)<<12|(ua&63)<<6|Ga&63,65535<D&&1114112>D&&(P=D))}null===P?(P=65533,N=1):65535<P&&(P-=65536,Z.push(P>>>10&1023|55296),P=56320|P&1023);Z.push(P);w+=N}E=Z.length;if(E<=Va)Z=String.fromCharCode.apply(String,Z);else{F="";for(w=0;w<E;)F+=String.fromCharCode.apply(String,Z.slice(w,w+=Va));Z=F}return Z}function Ia(E,w,F){if(0!==E%1||0>E)throw new RangeError("offset is not uint");if(E+w>F)throw new RangeError("Trying to access beyond buffer length");
}function Ua(E,w,F,Z,D,P){if(!R.isBuffer(E))throw new TypeError('"buffer" argument must be a Buffer instance');if(w>D||w<P)throw new RangeError('"value" argument is out of bounds');if(F+Z>E.length)throw new RangeError("Index out of range");}function na(E,w,F,Z){0>w&&(w=65535+w+1);for(var D=0,P=Math.min(E.length-F,2);D<P;++D)E[F+D]=(w&255<<8*(Z?D:1-D))>>>8*(Z?D:1-D)}function qa(E,w,F,Z){0>w&&(w=4294967295+w+1);for(var D=0,P=Math.min(E.length-F,4);D<P;++D)E[F+D]=w>>>8*(Z?D:3-D)&255}function Ta(E,w,
F,Z,D,P){if(F+Z>E.length)throw new RangeError("Index out of range");if(0>F)throw new RangeError("Index out of range");}function ta(E,w,F,Z,D){D||Ta(E,w,F,4,3.4028234663852886E38,-3.4028234663852886E38);Oa.write(E,w,F,Z,23,4);return F+4}function Qa(E,w,F,Z,D){D||Ta(E,w,F,8,1.7976931348623157E308,-1.7976931348623157E308);Oa.write(E,w,F,Z,52,8);return F+8}function va(E){E=E.trim?E.trim():E.replace(/^\s+|\s+$/g,"");E=E.replace(Fa,"");if(2>E.length)return"";for(;0!==E.length%4;)E+="\x3d";return E}function S(E,
w){w=w||Infinity;for(var F,Z=E.length,D=null,P=[],N=0;N<Z;++N){F=E.charCodeAt(N);if(55295<F&&57344>F){if(!D){if(56319<F){-1<(w-=3)&&P.push(239,191,189);continue}else if(N+1===Z){-1<(w-=3)&&P.push(239,191,189);continue}D=F;continue}if(56320>F){-1<(w-=3)&&P.push(239,191,189);D=F;continue}F=(D-55296<<10|F-56320)+65536}else D&&-1<(w-=3)&&P.push(239,191,189);D=null;if(128>F){if(0>--w)break;P.push(F)}else if(2048>F){if(0>(w-=2))break;P.push(F>>6|192,F&63|128)}else if(65536>F){if(0>(w-=3))break;P.push(F>>
12|224,F>>6&63|128,F&63|128)}else if(1114112>F){if(0>(w-=4))break;P.push(F>>18|240,F>>12&63|128,F>>6&63|128,F&63|128)}else throw Error("Invalid code point");}return P}function la(E){for(var w=[],F=0;F<E.length;++F)w.push(E.charCodeAt(F)&255);return w}function wa(E,w,F,Z){for(var D=0;D<Z&&!(D+F>=w.length||D>=E.length);++D)w[D+F]=E[D];return D}var Da=Vb(22),Oa=Vb(23),Ha=Vb(24);Cb.Buffer=R;Cb.SlowBuffer=function(E){+E!=E&&(E=0);return R.alloc(+E)};Cb.INSPECT_MAX_BYTES=50;R.TYPED_ARRAY_SUPPORT=void 0!==
$c.TYPED_ARRAY_SUPPORT?$c.TYPED_ARRAY_SUPPORT:k();Cb.kMaxLength=R.TYPED_ARRAY_SUPPORT?2147483647:1073741823;R.poolSize=8192;R._augment=function(E){E.__proto__=R.prototype;return E};R.from=function(E,w,F){return Ma(null,E,w,F)};R.TYPED_ARRAY_SUPPORT&&(R.prototype.__proto__=Uint8Array.prototype,R.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&R[Symbol.species]===R&&Object.defineProperty(R,Symbol.species,{value:null,configurable:!0}));R.alloc=function(E,w,F){Fb(E);E=0>=E?q(null,E):
void 0!==w?"string"===typeof F?q(null,E).fill(w,F):q(null,E).fill(w):q(null,E);return E};R.allocUnsafe=function(E){return Ja(null,E)};R.allocUnsafeSlow=function(E){return Ja(null,E)};R.isBuffer=function(E){return!(null==E||!E._isBuffer)};R.compare=function(E,w){if(!R.isBuffer(E)||!R.isBuffer(w))throw new TypeError("Arguments must be Buffers");if(E===w)return 0;for(var F=E.length,Z=w.length,D=0,P=Math.min(F,Z);D<P;++D)if(E[D]!==w[D]){F=E[D];Z=w[D];break}return F<Z?-1:Z<F?1:0};R.isEncoding=function(E){switch(String(E).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;
default:return!1}};R.concat=function(E,w){if(!Ha(E))throw new TypeError('"list" argument must be an Array of Buffers');if(0===E.length)return R.alloc(0);var F;if(void 0===w)for(F=w=0;F<E.length;++F)w+=E[F].length;w=R.allocUnsafe(w);var Z=0;for(F=0;F<E.length;++F){var D=E[F];if(!R.isBuffer(D))throw new TypeError('"list" argument must be an Array of Buffers');D.copy(w,Z);Z+=D.length}return w};R.byteLength=Ea;R.prototype._isBuffer=!0;R.prototype.swap16=function(){var E=this.length;if(0!==E%2)throw new RangeError("Buffer size must be a multiple of 16-bits");
for(var w=0;w<E;w+=2)bb(this,w,w+1);return this};R.prototype.swap32=function(){var E=this.length;if(0!==E%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var w=0;w<E;w+=4)bb(this,w,w+3),bb(this,w+1,w+2);return this};R.prototype.swap64=function(){var E=this.length;if(0!==E%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var w=0;w<E;w+=8)bb(this,w,w+7),bb(this,w+1,w+6),bb(this,w+2,w+5),bb(this,w+3,w+4);return this};R.prototype.toString=function(){var E=
this.length|0;return 0===E?"":0===arguments.length?oa(this,0,E):ab.apply(this,arguments)};R.prototype.equals=function(E){if(!R.isBuffer(E))throw new TypeError("Argument must be a Buffer");return this===E?!0:0===R.compare(this,E)};R.prototype.inspect=function(){var E="",w=Cb.INSPECT_MAX_BYTES;0<this.length&&(E=this.toString("hex",0,w).match(/.{2}/g).join(" "),this.length>w&&(E+=" ... "));return"\x3cBuffer "+E+"\x3e"};R.prototype.compare=function(E,w,F,Z,D){if(!R.isBuffer(E))throw new TypeError("Argument must be a Buffer");
void 0===w&&(w=0);void 0===F&&(F=E?E.length:0);void 0===Z&&(Z=0);void 0===D&&(D=this.length);if(0>w||F>E.length||0>Z||D>this.length)throw new RangeError("out of range index");if(Z>=D&&w>=F)return 0;if(Z>=D)return-1;if(w>=F)return 1;w>>>=0;F>>>=0;Z>>>=0;D>>>=0;if(this===E)return 0;var P=D-Z,N=F-w,Y=Math.min(P,N);Z=this.slice(Z,D);E=E.slice(w,F);for(w=0;w<Y;++w)if(Z[w]!==E[w]){P=Z[w];N=E[w];break}return P<N?-1:N<P?1:0};R.prototype.includes=function(E,w,F){return-1!==this.indexOf(E,w,F)};R.prototype.indexOf=
function(E,w,F){return Ca(this,E,w,F,!0)};R.prototype.lastIndexOf=function(E,w,F){return Ca(this,E,w,F,!1)};R.prototype.write=function(E,w,F,Z){if(void 0===w)Z="utf8",F=this.length,w=0;else if(void 0===F&&"string"===typeof w)Z=w,F=this.length,w=0;else if(isFinite(w))w|=0,isFinite(F)?(F|=0,void 0===Z&&(Z="utf8")):(Z=F,F=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var D=this.length-w;if(void 0===F||F>D)F=D;if(0<E.length&&(0>F||0>w)||w>this.length)throw new RangeError("Attempt to write outside buffer bounds");
Z||(Z="utf8");for(D=!1;;)switch(Z){case "hex":a:{w=Number(w)||0;Z=this.length-w;F?(F=Number(F),F>Z&&(F=Z)):F=Z;Z=E.length;if(0!==Z%2)throw new TypeError("Invalid hex string");F>Z/2&&(F=Z/2);for(Z=0;Z<F;++Z){D=parseInt(E.substr(2*Z,2),16);if(isNaN(D)){E=Z;break a}this[w+Z]=D}E=Z}return E;case "utf8":case "utf-8":return wa(S(E,this.length-w),this,w,F);case "ascii":return wa(la(E),this,w,F);case "latin1":case "binary":return wa(la(E),this,w,F);case "base64":return wa(Da.toByteArray(va(E)),this,w,F);
case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":Z=E;D=this.length-w;for(var P=[],N=0;N<Z.length&&!(0>(D-=2));++N){var Y=Z.charCodeAt(N);E=Y>>8;Y%=256;P.push(Y);P.push(E)}return wa(P,this,w,F);default:if(D)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase();D=!0}};R.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Va=4096;R.prototype.slice=function(E,w){var F=this.length;E=~~E;w=void 0===w?F:~~w;0>E?(E+=F,0>E&&(E=0)):E>
F&&(E=F);0>w?(w+=F,0>w&&(w=0)):w>F&&(w=F);w<E&&(w=E);if(R.TYPED_ARRAY_SUPPORT)w=this.subarray(E,w),w.__proto__=R.prototype;else{F=w-E;w=new R(F,void 0);for(var Z=0;Z<F;++Z)w[Z]=this[Z+E]}return w};R.prototype.readUIntLE=function(E,w,F){E|=0;w|=0;F||Ia(E,w,this.length);F=this[E];for(var Z=1,D=0;++D<w&&(Z*=256);)F+=this[E+D]*Z;return F};R.prototype.readUIntBE=function(E,w,F){E|=0;w|=0;F||Ia(E,w,this.length);F=this[E+--w];for(var Z=1;0<w&&(Z*=256);)F+=this[E+--w]*Z;return F};R.prototype.readUInt8=function(E,
w){w||Ia(E,1,this.length);return this[E]};R.prototype.readUInt16LE=function(E,w){w||Ia(E,2,this.length);return this[E]|this[E+1]<<8};R.prototype.readUInt16BE=function(E,w){w||Ia(E,2,this.length);return this[E]<<8|this[E+1]};R.prototype.readUInt32LE=function(E,w){w||Ia(E,4,this.length);return(this[E]|this[E+1]<<8|this[E+2]<<16)+16777216*this[E+3]};R.prototype.readUInt32BE=function(E,w){w||Ia(E,4,this.length);return 16777216*this[E]+(this[E+1]<<16|this[E+2]<<8|this[E+3])};R.prototype.readIntLE=function(E,
w,F){E|=0;w|=0;F||Ia(E,w,this.length);F=this[E];for(var Z=1,D=0;++D<w&&(Z*=256);)F+=this[E+D]*Z;F>=128*Z&&(F-=Math.pow(2,8*w));return F};R.prototype.readIntBE=function(E,w,F){E|=0;w|=0;F||Ia(E,w,this.length);F=w;for(var Z=1,D=this[E+--F];0<F&&(Z*=256);)D+=this[E+--F]*Z;D>=128*Z&&(D-=Math.pow(2,8*w));return D};R.prototype.readInt8=function(E,w){w||Ia(E,1,this.length);return this[E]&128?-1*(255-this[E]+1):this[E]};R.prototype.readInt16LE=function(E,w){w||Ia(E,2,this.length);E=this[E]|this[E+1]<<8;return E&
32768?E|4294901760:E};R.prototype.readInt16BE=function(E,w){w||Ia(E,2,this.length);E=this[E+1]|this[E]<<8;return E&32768?E|4294901760:E};R.prototype.readInt32LE=function(E,w){w||Ia(E,4,this.length);return this[E]|this[E+1]<<8|this[E+2]<<16|this[E+3]<<24};R.prototype.readInt32BE=function(E,w){w||Ia(E,4,this.length);return this[E]<<24|this[E+1]<<16|this[E+2]<<8|this[E+3]};R.prototype.readFloatLE=function(E,w){w||Ia(E,4,this.length);return Oa.read(this,E,!0,23,4)};R.prototype.readFloatBE=function(E,
w){w||Ia(E,4,this.length);return Oa.read(this,E,!1,23,4)};R.prototype.readDoubleLE=function(E,w){w||Ia(E,8,this.length);return Oa.read(this,E,!0,52,8)};R.prototype.readDoubleBE=function(E,w){w||Ia(E,8,this.length);return Oa.read(this,E,!1,52,8)};R.prototype.writeUIntLE=function(E,w,F,Z){E=+E;w|=0;F|=0;Z||Ua(this,E,w,F,Math.pow(2,8*F)-1,0);Z=1;var D=0;for(this[w]=E&255;++D<F&&(Z*=256);)this[w+D]=E/Z&255;return w+F};R.prototype.writeUIntBE=function(E,w,F,Z){E=+E;w|=0;F|=0;Z||Ua(this,E,w,F,Math.pow(2,
8*F)-1,0);Z=F-1;var D=1;for(this[w+Z]=E&255;0<=--Z&&(D*=256);)this[w+Z]=E/D&255;return w+F};R.prototype.writeUInt8=function(E,w,F){E=+E;w|=0;F||Ua(this,E,w,1,255,0);R.TYPED_ARRAY_SUPPORT||(E=Math.floor(E));this[w]=E&255;return w+1};R.prototype.writeUInt16LE=function(E,w,F){E=+E;w|=0;F||Ua(this,E,w,2,65535,0);R.TYPED_ARRAY_SUPPORT?(this[w]=E&255,this[w+1]=E>>>8):na(this,E,w,!0);return w+2};R.prototype.writeUInt16BE=function(E,w,F){E=+E;w|=0;F||Ua(this,E,w,2,65535,0);R.TYPED_ARRAY_SUPPORT?(this[w]=
E>>>8,this[w+1]=E&255):na(this,E,w,!1);return w+2};R.prototype.writeUInt32LE=function(E,w,F){E=+E;w|=0;F||Ua(this,E,w,4,4294967295,0);R.TYPED_ARRAY_SUPPORT?(this[w+3]=E>>>24,this[w+2]=E>>>16,this[w+1]=E>>>8,this[w]=E&255):qa(this,E,w,!0);return w+4};R.prototype.writeUInt32BE=function(E,w,F){E=+E;w|=0;F||Ua(this,E,w,4,4294967295,0);R.TYPED_ARRAY_SUPPORT?(this[w]=E>>>24,this[w+1]=E>>>16,this[w+2]=E>>>8,this[w+3]=E&255):qa(this,E,w,!1);return w+4};R.prototype.writeIntLE=function(E,w,F,Z){E=+E;w|=0;Z||
(Z=Math.pow(2,8*F-1),Ua(this,E,w,F,Z-1,-Z));Z=0;var D=1,P=0;for(this[w]=E&255;++Z<F&&(D*=256);)0>E&&0===P&&0!==this[w+Z-1]&&(P=1),this[w+Z]=(E/D>>0)-P&255;return w+F};R.prototype.writeIntBE=function(E,w,F,Z){E=+E;w|=0;Z||(Z=Math.pow(2,8*F-1),Ua(this,E,w,F,Z-1,-Z));Z=F-1;var D=1,P=0;for(this[w+Z]=E&255;0<=--Z&&(D*=256);)0>E&&0===P&&0!==this[w+Z+1]&&(P=1),this[w+Z]=(E/D>>0)-P&255;return w+F};R.prototype.writeInt8=function(E,w,F){E=+E;w|=0;F||Ua(this,E,w,1,127,-128);R.TYPED_ARRAY_SUPPORT||(E=Math.floor(E));
0>E&&(E=255+E+1);this[w]=E&255;return w+1};R.prototype.writeInt16LE=function(E,w,F){E=+E;w|=0;F||Ua(this,E,w,2,32767,-32768);R.TYPED_ARRAY_SUPPORT?(this[w]=E&255,this[w+1]=E>>>8):na(this,E,w,!0);return w+2};R.prototype.writeInt16BE=function(E,w,F){E=+E;w|=0;F||Ua(this,E,w,2,32767,-32768);R.TYPED_ARRAY_SUPPORT?(this[w]=E>>>8,this[w+1]=E&255):na(this,E,w,!1);return w+2};R.prototype.writeInt32LE=function(E,w,F){E=+E;w|=0;F||Ua(this,E,w,4,2147483647,-2147483648);R.TYPED_ARRAY_SUPPORT?(this[w]=E&255,this[w+
1]=E>>>8,this[w+2]=E>>>16,this[w+3]=E>>>24):qa(this,E,w,!0);return w+4};R.prototype.writeInt32BE=function(E,w,F){E=+E;w|=0;F||Ua(this,E,w,4,2147483647,-2147483648);0>E&&(E=4294967295+E+1);R.TYPED_ARRAY_SUPPORT?(this[w]=E>>>24,this[w+1]=E>>>16,this[w+2]=E>>>8,this[w+3]=E&255):qa(this,E,w,!1);return w+4};R.prototype.writeFloatLE=function(E,w,F){return ta(this,E,w,!0,F)};R.prototype.writeFloatBE=function(E,w,F){return ta(this,E,w,!1,F)};R.prototype.writeDoubleLE=function(E,w,F){return Qa(this,E,w,!0,
F)};R.prototype.writeDoubleBE=function(E,w,F){return Qa(this,E,w,!1,F)};R.prototype.copy=function(E,w,F,Z){F||(F=0);Z||0===Z||(Z=this.length);w>=E.length&&(w=E.length);w||(w=0);0<Z&&Z<F&&(Z=F);if(Z===F||0===E.length||0===this.length)return 0;if(0>w)throw new RangeError("targetStart out of bounds");if(0>F||F>=this.length)throw new RangeError("sourceStart out of bounds");if(0>Z)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length);E.length-w<Z-F&&(Z=E.length-w+F);var D=Z-F;
if(this===E&&F<w&&w<Z)for(Z=D-1;0<=Z;--Z)E[Z+w]=this[Z+F];else if(1E3>D||!R.TYPED_ARRAY_SUPPORT)for(Z=0;Z<D;++Z)E[Z+w]=this[Z+F];else Uint8Array.prototype.set.call(E,this.subarray(F,F+D),w);return D};R.prototype.fill=function(E,w,F,Z){if("string"===typeof E){"string"===typeof w?(Z=w,w=0,F=this.length):"string"===typeof F&&(Z=F,F=this.length);if(1===E.length){var D=E.charCodeAt(0);256>D&&(E=D)}if(void 0!==Z&&"string"!==typeof Z)throw new TypeError("encoding must be a string");if("string"===typeof Z&&
!R.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);}else"number"===typeof E&&(E&=255);if(0>w||this.length<w||this.length<F)throw new RangeError("Out of range index");if(F<=w)return this;w>>>=0;F=void 0===F?this.length:F>>>0;E||(E=0);if("number"===typeof E)for(Z=w;Z<F;++Z)this[Z]=E;else for(E=R.isBuffer(E)?E:S((new R(E,Z)).toString()),D=E.length,Z=0;Z<F-w;++Z)this[Z+w]=E[Z%D];return this};var Fa=/[^+\/0-9A-Za-z-_]/g};
shadow$provide[26]=function($c,Vb,Pc,Cb){var k=Vb(25).Buffer;!function(q,R){"object"==typeof Cb&&"undefined"!=typeof Pc?R(Cb,Vb(15),Vb(21)):"function"==typeof define&&define.amd?define(["exports","vega-util","vega-format"],R):R((q="undefined"!=typeof globalThis?globalThis:q||self).vega={},q.vega,q.vega)}(this,function(q,R,Ma){async function Fb(G,ca){G=await this.sanitize(G,ca);const ba=G.href;return G.localFile?this.file(ba):this.http(ba,ca)}async function Ja(G,ca){ca=R.extend({},this.options,ca);
const ba=this.fileAccess,V={href:null};let H,p,h;var m=Fa.test(G.replace(E,""));null!=G&&"string"==typeof G&&m||R.error("Sanitize failure, invalid URI: "+R.stringValue(G));m=Va.test(G);return(h=ca.baseURL)&&!m&&(G.startsWith("/")||"/"===h[h.length-1]||(G="/"+G),G=h+G),p=(H=G.startsWith("file://"))||"file"===ca.mode||"http"!==ca.mode&&!m&&ba,H?G=G.slice(7):G.startsWith("//")&&("file"===ca.defaultProtocol?(G=G.slice(2),p=!0):G=(ca.defaultProtocol||"http")+":"+G),Object.defineProperty(V,"localFile",
{value:!!p}),V.href=G,ca.target&&(V.target=ca.target+""),ca.rel&&(V.rel=ca.rel+""),"image"===ca.context&&ca.crossOrigin&&(V.crossOrigin=ca.crossOrigin+""),V}function db(G){return G?ca=>new Promise((ba,V)=>{G.readFile(ca,(H,p)=>{H?V(H):ba(p)})}):Bb}async function Bb(){R.error("No file system access.")}function jb(G){return G?async function(ca,ba){const V=R.extend({},this.options.http,ba);ba=ba&&ba.response;ca=await G(ca,V);return ca.ok?R.isFunction(ca[ba])?ca[ba]():ca.text():R.error(ca.status+""+ca.statusText)}:
Ea}async function Ea(){R.error("No HTTP fetch method available.")}function ab(G,ca){if(!G||!G.length)return"unknown";const ba=G.length,V=Z.length,H=Z.map((h,m)=>m+1);for(let h,m,n=0,u=0;n<ba;++n)for(m=ca?G[n][ca]:G[n],h=0;h<V;++h)if(H[h]&&null!=(p=m)&&p==p&&!Z[h](m)&&(H[h]=0,++u,u===Z.length))return"string";var p;return D[H.reduce((h,m)=>0===h?m:h,0)-1]}function bb(G,ca){return ca.reduce((ba,V)=>(ba[V]=ab(G,V),ba),{})}function Ca(G){return new Function("d","return {"+G.map(function(ca,ba){return JSON.stringify(ca)+
": d["+ba+'] || ""'}).join(",")+"}")}function ma(G){var ca=Object.create(null),ba=[];return G.forEach(function(V){for(var H in V)H in ca||ba.push(ca[H]=H)}),ba}function oa(G,ca){G+="";var ba=G.length;return ba<ca?Array(ca-ba+1).join(0)+G:G}function Ia(G){function ca(m,n){function u(){if($a)return N;if(fb)return fb=!1,P;var T,da,Xa=xa;if(34===m.charCodeAt(Xa)){for(;xa++<ia&&34!==m.charCodeAt(xa)||34===m.charCodeAt(++xa););return(T=xa)>=ia?$a=!0:10===(da=m.charCodeAt(xa++))?fb=!0:13===da&&(fb=!0,10===
m.charCodeAt(xa)&&++xa),m.slice(Xa+1,T-1).replace(/""/g,'"')}for(;xa<ia;){if(10===(da=m.charCodeAt(T=xa++)))fb=!0;else if(13===da)fb=!0,10===m.charCodeAt(xa)&&++xa;else if(da!==h)continue;return m.slice(Xa,T)}return $a=!0,m.slice(Xa,ia)}var x,L=[],ia=m.length,xa=0,Wa=0,$a=0>=ia,fb=!1;10===m.charCodeAt(ia-1)&&--ia;for(13===m.charCodeAt(ia-1)&&--ia;(x=u())!==N;){for(var Ba=[];x!==P&&x!==N;)Ba.push(x),x=u();n&&null==(Ba=n(Ba,Wa++))||L.push(Ba)}return L}function ba(m,n){return m.map(function(u){return n.map(function(x){return H(u[x])}).join(G)})}
function V(m){return m.map(H).join(G)}function H(m){if(null==m)var n="";else{if(m instanceof Date){var u=m.getUTCHours();var x=m.getUTCMinutes(),L=m.getUTCSeconds(),ia=m.getUTCMilliseconds();u=isNaN(m)?"Invalid Date":(0>(n=m.getUTCFullYear())?"-"+oa(-n,6):9999<n?"+"+oa(n,6):oa(n,4))+"-"+oa(m.getUTCMonth()+1,2)+"-"+oa(m.getUTCDate(),2)+(ia?"T"+oa(u,2)+":"+oa(x,2)+":"+oa(L,2)+"."+oa(ia,3)+"Z":L?"T"+oa(u,2)+":"+oa(x,2)+":"+oa(L,2)+"Z":x||u?"T"+oa(u,2)+":"+oa(x,2)+"Z":"")}else u=p.test(m+="")?'"'+m.replace(/"/g,
'""')+'"':m;n=u}return n}var p=new RegExp('["'+G+"\n\r]"),h=G.charCodeAt(0);return{parse:function(m,n){var u,x;m=ca(m,function(L,ia){if(u)return u(L,ia-1);x=L;u=n?function(xa,Wa){var $a=Ca(xa);return function(fb,Ba){return Wa($a(fb),Ba,xa)}}(L,n):Ca(L)});return m.columns=x||[],m},parseRows:ca,format:function(m,n){return null==n&&(n=ma(m)),[n.map(H).join(G)].concat(ba(m,n)).join("\n")},formatBody:function(m,n){return null==n&&(n=ma(m)),ba(m,n).join("\n")},formatRows:function(m){return m.map(V).join("\n")},
formatRow:V,formatValue:H}}function Ua(G){const ca=function(ba,V){const H={delimiter:G};return na(ba,V?R.extend(V,H):H)};return ca.responseType="text",ca}function na(G,ca){return ca.header&&(G=ca.header.map(R.stringValue).join(ca.delimiter)+"\n"+G),Ia(ca.delimiter).parse(G+"")}function qa(G,ca){const ba=ca&&ca.property?R.field(ca.property):R.identity;!R.isObject(G)||(V=G,"function"==typeof k&&R.isFunction(k.isBuffer)&&k.isBuffer(V))?ca=ba(JSON.parse(G)):(G=ba(G),!R.isArray(G)&&R.isIterable(G)&&(G=
[...G]),ca=ca&&ca.copy?JSON.parse(JSON.stringify(G)):G);return ca;var V}function Ta(G){return G}function ta(G,ca){return"string"==typeof ca&&(ca=G.objects[ca]),"GeometryCollection"===ca.type?{type:"FeatureCollection",features:ca.geometries.map(function(ba){return Qa(G,ba)})}:Qa(G,ca)}function Qa(G,ca){var ba=ca.id,V=ca.bbox,H=null==ca.properties?{}:ca.properties;G=va(G,ca);return null==ba&&null==V?{type:"Feature",properties:H,geometry:G}:null==V?{type:"Feature",id:ba,properties:H,geometry:G}:{type:"Feature",
id:ba,bbox:V,properties:H,geometry:G}}function va(G,ca){function ba(n){return h(n)}function V(n){for(var u=[],x=0,L=n.length;x<L;++x){var ia,xa=n[x],Wa=u;Wa.length&&Wa.pop();var $a=m[0>xa?~xa:xa],fb=0;for(ia=$a.length;fb<ia;++fb)Wa.push(h($a[fb],fb));if(0>xa)for(xa=Wa.length,$a=xa-ia;$a<--xa;)ia=Wa[$a],Wa[$a++]=Wa[xa],Wa[xa]=ia}return 2>u.length&&u.push(u[0]),u}function H(n){for(n=V(n);4>n.length;)n.push(n[0]);return n}function p(n){return n.map(H)}var h=function(n){if(null==n)return Ta;var u,x,L=
n.scale[0],ia=n.scale[1],xa=n.translate[0],Wa=n.translate[1];return function($a,fb){fb||(u=x=0);fb=2;var Ba=$a.length,T=Array(Ba);T[0]=(u+=$a[0])*L+xa;for(T[1]=(x+=$a[1])*ia+Wa;fb<Ba;)T[fb]=$a[fb],++fb;return T}}(G.transform),m=G.arcs;return function x(u){var L=u.type;switch(L){case "GeometryCollection":return{type:L,geometries:u.geometries.map(x)};case "Point":u=h(u.coordinates);break;case "MultiPoint":u=u.coordinates.map(ba);break;case "LineString":u=V(u.arcs);break;case "MultiLineString":u=u.arcs.map(V);
break;case "Polygon":u=p(u.arcs);break;case "MultiPolygon":u=u.arcs.map(p);break;default:return null}return{type:L,coordinates:u}}(ca)}function S(G,ca){function ba(n,u){for(var x in n){var L=n[x];delete u[L.start];delete L.start;delete L.end;L.forEach(function(ia){V[0>ia?~ia:ia]=1});h.push(L)}}var V={},H={},p={},h=[],m=-1;return ca.forEach(function(n,u){var x,L=G.arcs[0>n?~n:n];3>L.length&&!L[1][0]&&!L[1][1]&&(x=ca[++m],ca[m]=n,ca[u]=x)}),ca.forEach(function(n){var u=function(ia){var xa,Wa=G.arcs[0>
ia?~ia:ia],$a=Wa[0];G.transform?(xa=[0,0],Wa.forEach(function(fb){xa[0]+=fb[0];xa[1]+=fb[1]})):xa=Wa[Wa.length-1];return 0>ia?[xa,$a]:[$a,xa]}(n);var x=u[0],L=u[1];(u=p[x])?(delete p[u.end],u.push(n),u.end=L,n=H[L])?(delete H[n.start],x=n===u?u:u.concat(n),H[x.start=u.start]=p[x.end=n.end]=x):H[u.start]=p[u.end]=u:(u=H[L])?(delete H[u.start],u.unshift(n),u.start=x,n=p[x])?(delete p[n.end],x=n===u?u:n.concat(u),H[x.start=n.start]=p[x.end=u.end]=x):H[u.start]=p[u.end]=u:H[(u=[n]).start=x]=p[u.end=L]=
u}),ba(p,H),ba(H,p),ca.forEach(function(n){V[0>n?~n:n]||h.push([n])}),h}function la(G){return va(G,wa.apply(this,arguments))}function wa(G,ca,ba){var V;if(1<arguments.length)var H=Da(G,ca,ba);else{var p=0;for(H=Array(V=G.arcs.length);p<V;++p)H[p]=p}return{type:"MultiLineString",arcs:S(G,H)}}function Da(G,ca,ba){function V(u){var x=0>u?~u:u;(n[x]||(n[x]=[])).push({i:u,g:h})}function H(u){u.forEach(V)}function p(u){u.forEach(H)}var h,m=[],n=[];return function L(x){switch(h=x,x.type){case "GeometryCollection":x.geometries.forEach(L);
break;case "LineString":H(x.arcs);break;case "MultiLineString":case "Polygon":p(x.arcs);break;case "MultiPolygon":x.arcs.forEach(p),!0}}(ca),n.forEach(null==ba?function(x){m.push(x[0].i)}:function(x){ba(x[0].g,x[x.length-1].g)&&m.push(x[0].i)}),m}function Oa(G,ca){let ba,V,H,p;return G=qa(G,ca),ca&&ca.feature?(ba=ta,H=ca.feature):ca&&ca.mesh?(ba=la,H=ca.mesh,p=Y[ca.filter]):R.error("Missing TopoJSON feature or mesh parameter."),V=(V=G.objects[H])?ba(G,V,p):R.error("Invalid TopoJSON object: "+H),V&&
V.features||[V]}function Ha(G,ca){return 1<arguments.length?(ua[G]=ca,this):R.hasOwnProperty(ua,G)?ua[G]:null}const Va=/^([A-Za-z]+:)?\/\//,Fa=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,E=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,w=G=>!(Number.isNaN(+G)||G instanceof Date),F={boolean:R.toBoolean,integer:R.toNumber,number:R.toNumber,date:R.toDate,string:R.toString,unknown:R.identity},Z=[G=>"true"===G||"false"===G||!0===G||!1===
G,G=>w(G)&&Number.isInteger(+G),w,G=>!Number.isNaN(Date.parse(G))],D=["boolean","integer","number","date"];var P={},N={};na.responseType="text";qa.responseType="json";const Y={interior:(G,ca)=>G!==ca,exterior:(G,ca)=>G===ca};Oa.responseType="json";const ua={dsv:na,csv:Ua(","),tsv:Ua("\t"),json:qa,topojson:Oa},Ga=function(G,ca){return ba=>({options:ba||{},sanitize:Ja,load:Fb,fileAccess:!!ca,file:db(ca),http:jb(G)})}("undefined"!=typeof fetch&&fetch,null);q.format=ua;q.formats=Ha;q.inferType=ab;q.inferTypes=
bb;q.loader=Ga;q.read=function(G,ca,ba,V){const H=Ha((ca=ca||{}).type||"json");return H||R.error("Unknown data format type: "+ca.type),G=H(G,ca),ca.parse&&function(p,h,m,n){if(p.length){var u=Ma.timeFormatDefaultLocale();m=m||u.timeParse;n=n||u.utcParse;var x,L,ia=p.columns||Object.keys(p[0]);"auto"===h&&(h=bb(p,ia));ia=Object.keys(h);var xa=ia.map(Ba=>{var T=h[Ba];if(T&&(T.startsWith("date:")||T.startsWith("utc:")))return Ba=T.split(/:(.+)?/,2),T=Ba[1],("'"===T[0]&&"'"===T[T.length-1]||'"'===T[0]&&
'"'===T[T.length-1])&&(T=T.slice(1,-1)),("utc"===Ba[0]?n:m)(T);if(!F[T])throw Error("Illegal format pattern: "+Ba+":"+T);return F[T]});var Wa=0;var $a=p.length;for(L=ia.length;Wa<$a;++Wa)for(u=p[Wa],x=0;x<L;++x){var fb=ia[x];u[fb]=xa[x](u[fb])}}}(G,ca.parse,ba,V),R.hasOwnProperty(G,"columns")&&delete G.columns,G};q.responseType=function(G){return(G=Ha(G))&&G.responseType||"text"};q.typeParsers=F;Object.defineProperty(q,"__esModule",{value:!0})})};
shadow$provide[27]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb,Vb(15),Vb(26),Vb(21)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],q):(k="undefined"!==typeof globalThis?globalThis:k||self,q(k.vega={},k.vega,k.vega,k.vega))})(this,function(k,q,R,Ma){function Fb(G){const ca=G||q.identity,ba=[],V={};ba.add=H=>{const p=ca(H);V[p]||(V[p]=1,ba.push(H));return ba};ba.remove=H=>{const p=ca(H);V[p]&&(V[p]=0,H=ba.indexOf(H),
0<=H&&ba.splice(H,1));return ba};return ba}async function Ja(G,ca){try{await ca(G)}catch(ba){G.error(ba)}}function db(G){G=G===Object(G)?G:{data:G};if(!G[w]){var ca=F++;G[w]=ca}return G}function Bb(G,ca){for(const ba in G)ca[ba]=G[ba];return ca}function jb(G){return G&&G.constructor===Ea}function Ea(){const G=[],ca=[],ba=[],V=[],H=[];let p=null,h=!1;return{constructor:Ea,insert(m){m=q.array(m);const n=m.length;for(let u=0;u<n;++u)G.push(m[u]);return this},remove(m){const n=q.isFunction(m)?V:ca;m=
q.array(m);const u=m.length;for(let x=0;x<u;++x)n.push(m[x]);return this},modify(m,n,u){n={field:n,value:q.constant(u)};q.isFunction(m)?(n.filter=m,H.push(n)):(n.tuple=m,ba.push(n));return this},encode(m,n){q.isFunction(m)?H.push({filter:m,field:n}):ba.push({tuple:m,field:n});return this},clean(m){p=m;return this},reflow(){h=!0;return this},pulse(m,n){function u(T,da,Xa){Xa?T[da]=Xa(T):m.encode=da;h||(L[T[w]]=T)}const x={},L={};let ia,xa,Wa,$a,fb,Ba;ia=0;for(xa=n.length;ia<xa;++ia)x[n[ia][w]]=1;ia=
0;for(xa=ca.length;ia<xa;++ia)fb=ca[ia],x[fb[w]]=-1;ia=0;for(xa=V.length;ia<xa;++ia)$a=V[ia],n.forEach(T=>{$a(T)&&(x[T[w]]=-1)});ia=0;for(xa=G.length;ia<xa;++ia)fb=G[ia],Ba=fb[w],x[Ba]?x[Ba]=1:m.add.push(db(G[ia]));ia=0;for(xa=n.length;ia<xa;++ia)fb=n[ia],0>x[fb[w]]&&m.rem.push(fb);ia=0;for(xa=ba.length;ia<xa;++ia)Wa=ba[ia],fb=Wa.tuple,$a=Wa.field,Ba=x[fb[w]],0<Ba&&(u(fb,$a,Wa.value),m.modifies($a));ia=0;for(xa=H.length;ia<xa;++ia)Wa=H[ia],$a=Wa.filter,n.forEach(T=>{$a(T)&&0<x[T[w]]&&u(T,Wa.field,
Wa.value)}),m.modifies(Wa.field);if(h)m.mod=ca.length||V.length?n.filter(T=>0<x[T[w]]):n.slice();else for(Ba in L)m.mod.push(L[Ba]);(p||null==p&&(ca.length||V.length))&&m.clean(!0);return m}}}function ab(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function bb(G,ca,ba,V){this.id=++Z;this.value=G;this.qrank=this.rank=this.stamp=-1;this.flags=0;ca&&(this._update=ca);ba&&this.parameters(ba,V)}function Ca(G){return function(ca){const ba=this.flags;if(0===arguments.length)return!!(ba&
G);this.flags=ca?ba|G:ba&~G;return this}}function ma(G,ca,ba){this.id=++P;this.value=null;ba&&(this.receive=ba);G&&(this._filter=G);ca&&(this._apply=ca)}function oa(G,ca,ba){return new ma(G,ca,ba)}function Ia(G){let ca;const ba=new Promise(V=>ca=V);ba.requests=0;ba.done=()=>{0===--ba.requests&&(G._pending=null,ca(G))};return G._pending=ba}function Ua(G,ca,ba,V,H,p){const h=q.extend({},p,N);let m;q.isFunction(ba)||(ba=q.constant(ba));void 0===V?H=n=>G.touch(ba(n)):q.isFunction(V)?(m=new bb(null,V,
H,!1),H=n=>{m.evaluate(n);n=ba(n);const u=m.value;jb(u)?G.pulse(n,u,p):G.update(n,u,h)}):H=n=>G.update(ba(n),V,h);ca.apply(H)}function na(G,ca,ba,V,H,p){void 0===V?ca.targets().add(ba):(p=p||{},V=new bb(null,qa(ba,V),H,!1),V.modified(p.force),V.rank=ca.rank,ca.targets().add(V),ba&&(V.skip(!0),V.value=ba.value,V.targets().add(ba),G.connect(ba,[V])))}function qa(G,ca){ca=q.isFunction(ca)?ca:q.constant(ca);return G?function(ba,V){ba=ca(ba,V);G.skip()||(G.skip(ba!==this.value).value=ba);return ba}:ca}
function Ta(G,ca,ba){this.dataflow=G;this.stamp=null==ca?-1:ca;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=ba||null}function ta(G,ca){const ba=[];q.visitArray(G,ca,V=>ba.push(V));return ba}function Qa(G,ca){const ba={};G.visit(ca,V=>{ba[V[w]]=1});return V=>ba[V[w]]?null:V}function va(G,ca){return G?(ba,V)=>G(ba,V)&&ca(ba,V):ca}function S(G,ca,ba,V){const H=ba.length;let p=0;this.dataflow=G;this.stamp=ca;this.fields=null;this.encode=V||null;this.pulses=ba;for(G=0;G<H;++G)if(V=
ba[G],V.stamp===ca){if(V.fields){const h=this.fields||(this.fields={});for(const m in V.fields)h[m]=1}V.changed(this.ADD)&&(p|=this.ADD);V.changed(this.REM)&&(p|=this.REM);V.changed(this.MOD)&&(p|=this.MOD)}this.changes=p}function la(G){G.error("Dataflow already running. Use runAsync() to chain invocations.");return G}function wa(G,ca){if(ca&&ca.stamp===G.stamp)return ca;G=G.fork();ca&&ca!==Y&&(G.source=ca.source);return G}function Da(G){let ca=[];return{clear:()=>ca=[],size:()=>ca.length,peek:()=>
ca[0],push:ba=>{ca.push(ba);return Oa(ca,0,ca.length-1,G)},pop:()=>{var ba=ca.pop();let V;if(ca.length){V=ca[0];ca[0]=ba;{ba=ca;var H=0;const p=H,h=ba.length,m=ba[H];let n=(H<<1)+1,u;for(;n<h;)u=n+1,u<h&&0<=G(ba[n],ba[u])&&(n=u),ba[H]=ba[n],H=n,n=(H<<1)+1;ba[H]=m;Oa(ba,p,H,G)}}else V=ba;return V}}}function Oa(G,ca,ba,V){let H,p;const h=G[ba];for(;ba>ca;)if(p=ba-1>>1,H=G[p],0>V(h,H))G[ba]=H,ba=p;else break;return G[ba]=h}function Ha(){this.logger(q.logger());this.logLevel(q.Error);this._rank=this._clock=
0;this._locale=Ma.defaultLocale();try{this._loader=R.loader()}catch(G){}this._touched=Fb(q.id);this._input={};this._pulse=null;this._heap=Da((G,ca)=>G.qrank-ca.qrank);this._postrun=[]}function Va(G){return function(){return this._log[G].apply(this,arguments)}}function Fa(G,ca){bb.call(this,G,null,ca)}function E(G){G=G&&G.toLowerCase();return q.hasOwnProperty(Ga,G)?Ga[G]:null}const w=Symbol("vega_id");let F=1;ab.prototype={set(G,ca,ba,V){const H=this[G],p=this["_:mod:_"];if(null!=ca&&0<=ca){if(H[ca]!==
ba||V)H[ca]=ba,p[ca+":"+G]=-1,p[G]=-1}else if(H!==ba||V)this[G]=ba,p[G]=q.isArray(ba)?1+ba.length:-1;return this},modified(G,ca){const ba=this["_:mod:_"];if(!arguments.length){for(var V in ba)if(ba[V])return!0;return!1}if(q.isArray(G)){for(V=0;V<G.length;++V)if(ba[G[V]])return!0;return!1}return null!=ca&&0<=ca?ca+1<ba[G]||!!ba[ca+":"+G]:!!ba[G]},clear(){this["_:mod:_"]={};return this}};let Z=0;const D=new ab;bb.prototype={targets(){return this._targets||(this._targets=Fb(q.id))},set(G){return this.value!==
G?(this.value=G,1):0},skip:Ca(1),modified:Ca(2),parameters(G,ca,ba){ca=!1!==ca;const V=this._argval=this._argval||new ab,H=this._argops=this._argops||[],p=[];let h,m,n,u;const x=(L,ia,xa)=>{xa instanceof bb?(xa!==this&&(ca&&xa.targets().add(this),p.push(xa)),H.push({op:xa,name:L,index:ia})):V.set(L,ia,xa)};for(h in G)if(m=G[h],"pulse"===h)q.array(m).forEach(L=>{L instanceof bb?L!==this&&(L.targets().add(this),p.push(L)):q.error("Pulse parameters must be operator instances.")}),this.source=m;else if(q.isArray(m))for(V.set(h,
-1,Array(n=m.length)),u=0;u<n;++u)x(h,u,m[u]);else x(h,-1,m);this.marshall().clear();ba&&(H.initonly=!0);return p},marshall(G){const ca=this._argval||D,ba=this._argops;let V,H,p,h;if(ba){const m=ba.length;for(H=0;H<m;++H)V=ba[H],p=V.op,h=p.modified()&&p.stamp===G,ca.set(V.name,V.index,p.value,h);if(ba.initonly){for(H=0;H<m;++H)V=ba[H],V.op.targets().remove(this);this._update=this._argops=null}}return ca},detach(){const G=this._argops;let ca,ba;if(G)for(ca=0,ba=G.length;ca<ba;++ca){var V=G[ca];V=V.op;
V._targets&&V._targets.remove(this)}},evaluate(G){var ca=this._update;if(ca){const ba=this.marshall(G.stamp);ca=ca.call(this,ba,G);ba.clear();if(ca!==this.value)this.value=ca;else if(!this.modified())return G.StopPropagation}},run(G){if(G.stamp<this.stamp)return G.StopPropagation;let ca;this.skip()?(this.skip(!1),ca=0):ca=this.evaluate(G);return this.pulse=ca||G}};let P=0;ma.prototype={_filter:q.truthy,_apply:q.identity,targets(){return this._targets||(this._targets=Fb(q.id))},consume(G){if(!arguments.length)return!!this._consume;
this._consume=!!G;return this},receive(G){if(this._filter(G)){const ca=this.value=this._apply(G),ba=this._targets,V=ba?ba.length:0;for(let H=0;H<V;++H)ba[H].receive(ca);this._consume&&(G.preventDefault(),G.stopPropagation())}},filter(G){G=oa(G);this.targets().add(G);return G},apply(G){G=oa(null,G);this.targets().add(G);return G},merge(){const G=oa();this.targets().add(G);for(let ca=0,ba=arguments.length;ca<ba;++ca)arguments[ca].targets().add(G);return G},throttle(G){let ca=-1;return this.filter(()=>
{const ba=Date.now();return ba-ca>G?(ca=ba,1):0})},debounce(G){const ca=oa();this.targets().add(oa(null,null,q.debounce(G,ba=>{const V=ba.dataflow;ca.receive(ba);V&&V.run&&V.run()})));return ca},between(G,ca){let ba=!1;G.targets().add(oa(null,null,()=>ba=!0));ca.targets().add(oa(null,null,()=>ba=!1));return this.filter(()=>ba)},detach(){}};const N={skip:!0},Y={};Ta.prototype={StopPropagation:Y,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(G){return(new Ta(this.dataflow)).init(this,
G)},clone(){const G=this.fork(7);G.add=G.add.slice();G.rem=G.rem.slice();G.mod=G.mod.slice();G.source&&(G.source=G.source.slice());return G.materialize(23)},addAll(){let G=this;G.source&&G.add!==G.rem&&(G.rem.length||G.source.length!==G.add.length)&&(G=(new Ta(this.dataflow)).init(this),G.add=G.source,G.rem=[]);return G},init(G,ca){this.stamp=G.stamp;this.encode=G.encode;!G.fields||ca&64||(this.fields=G.fields);ca&1?(this.addF=G.addF,this.add=G.add):(this.addF=null,this.add=[]);ca&2?(this.remF=G.remF,
this.rem=G.rem):(this.remF=null,this.rem=[]);ca&4?(this.modF=G.modF,this.mod=G.mod):(this.modF=null,this.mod=[]);ca&32?this.source=this.srcF=null:(this.srcF=G.srcF,this.source=G.source,G.cleans&&(this.cleans=G.cleans));return this},runAfter(G){this.dataflow.runAfter(G)},changed(G){G=G||7;return G&1&&this.add.length||G&2&&this.rem.length||G&4&&this.mod.length},reflow(G){if(G)return this.fork(7).reflow();G=this.add.length;const ca=this.source&&this.source.length;ca&&ca!==G&&(this.mod=this.source,G&&
this.filter(4,Qa(this,1)));return this},clean(G){return arguments.length?(this.cleans=!!G,this):this.cleans},modifies(G){const ca=this.fields||(this.fields={});q.isArray(G)?G.forEach(ba=>ca[ba]=!0):ca[G]=!0;return this},modified(G,ca){const ba=this.fields;return(ca||this.mod.length)&&ba?arguments.length?q.isArray(G)?G.some(V=>ba[V]):ba[G]:!!ba:!1},filter(G,ca){G&1&&(this.addF=va(this.addF,ca));G&2&&(this.remF=va(this.remF,ca));G&4&&(this.modF=va(this.modF,ca));G&16&&(this.srcF=va(this.srcF,ca));return this},
materialize(G){G=G||7;G&1&&this.addF&&(this.add=ta(this.add,this.addF),this.addF=null);G&2&&this.remF&&(this.rem=ta(this.rem,this.remF),this.remF=null);G&4&&this.modF&&(this.mod=ta(this.mod,this.modF),this.modF=null);G&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit(G,ca){if(G&16)return q.visitArray(this.source,this.srcF,ca),this;G&1&&q.visitArray(this.add,this.addF,ca);G&2&&q.visitArray(this.rem,this.remF,ca);G&4&&q.visitArray(this.mod,this.modF,ca);const ba=
this.source;G&8&&ba&&(G=this.add.length+this.mod.length,G!==ba.length&&(G?q.visitArray(ba,Qa(this,5),ca):q.visitArray(ba,this.srcF,ca)));return this}};q.inherits(S,Ta,{fork(G){const ca=(new Ta(this.dataflow)).init(this,G&this.NO_FIELDS);void 0!==G&&(G&ca.ADD&&this.visit(ca.ADD,ba=>ca.add.push(ba)),G&ca.REM&&this.visit(ca.REM,ba=>ca.rem.push(ba)),G&ca.MOD&&this.visit(ca.MOD,ba=>ca.mod.push(ba)));return ca},changed(G){return this.changes&G},modified(G){const ca=this.fields;return ca&&this.changes&this.MOD?
q.isArray(G)?G.some(ba=>ca[ba]):ca[G]:0},filter(){q.error("MultiPulse does not support filtering.")},materialize(){q.error("MultiPulse does not support materialization.")},visit(G,ca){const ba=this.pulses,V=ba.length;let H=0;if(G&this.SOURCE)for(;H<V;++H)ba[H].visit(G,ca);else for(;H<V;++H)ba[H].stamp===this.stamp&&ba[H].visit(G,ca);return this}});const ua={skip:!1,force:!1};Ha.prototype={stamp(){return this._clock},loader(G){return arguments.length?(this._loader=G,this):this._loader},locale(G){return arguments.length?
(this._locale=G,this):this._locale},logger(G){return arguments.length?(this._log=G,this):this._log},error:Va("error"),warn:Va("warn"),info:Va("info"),debug:Va("debug"),logLevel:Va("level"),cleanThreshold:1E4,add:function(G,ca,ba,V){let H=1;G instanceof bb||(G&&G.prototype instanceof bb?G=new G:q.isFunction(G)?G=new bb(null,G):(H=0,G=new bb(G,ca)));this.rank(G);H&&(V=ba,ba=ca);ba&&this.connect(G,G.parameters(ba,V));this.touch(G);return G},connect:function(G,ca){const ba=G.rank,V=ca.length;for(let H=
0;H<V;++H)if(ba<ca[H].rank){this.rerank(G);break}},rank:function(G){G.rank=++this._rank},rerank:function(G){const ca=[G];let ba,V,H;for(;ca.length;)if(this.rank(ba=ca.pop()),V=ba._targets)for(H=V.length;0<=--H;)ca.push(ba=V[H]),ba===G&&q.error("Cycle detected in dataflow graph.")},pulse:function(G,ca,ba){this.touch(G,ba||ua);ba=new Ta(this,this._clock+(this._pulse?0:1));const V=G.pulse&&G.pulse.source||[];ba.target=G;this._input[G.id]=ca.pulse(ba,V);return this},touch:function(G,ca){ca=ca||ua;this._pulse?
this._enqueue(G):this._touched.add(G);ca.skip&&G.skip(!0);return this},update:function(G,ca,ba){ba=ba||ua;(G.set(ca)||ba.force)&&this.touch(G,ba);return this},changeset:Ea,ingest:function(G,ca,ba){ca=this.parse(ca,ba);return this.pulse(G,this.changeset().insert(ca))},parse:function(G,ca){const ba=this.locale();return R.read(G,ca,ba.timeParse,ba.utcParse)},preload:async function(G,ca,ba){const V=this._pending||Ia(this);V.requests+=1;ca=await this.request(ca,ba);this.pulse(G,this.changeset().remove(q.truthy).insert(ca.data||
[]));V.done();return ca},request:async function(G,ca){let ba=0,V;try{V=await this.loader().load(G,{context:"dataflow",response:R.responseType(ca&&ca.type)});try{V=this.parse(V,ca)}catch(H){ba=-2,this.warn("Data ingestion failed",G,H)}}catch(H){ba=-1,this.warn("Loading failed",G,H)}return{data:V,status:ba}},events:function(G,ca,ba,V){const H=this,p=oa(ba,V);ba=function(h){h.dataflow=H;try{p.receive(h)}catch(m){H.error(m)}finally{H.run()}};G="string"===typeof G&&"undefined"!==typeof document?document.querySelectorAll(G):
q.array(G);V=G.length;for(let h=0;h<V;++h)G[h].addEventListener(ca,ba);return p},on:function(G,ca,ba,V,H){(G instanceof bb?na:Ua)(this,G,ca,ba,V,H);return this},evaluate:async function(G,ca,ba){const V=this,H=[];if(V._pulse)return la(V);V._pending&&await V._pending;ca&&await Ja(V,ca);if(!V._touched.length)return V.debug("Dataflow invoked, but nothing to do."),V;ca=++V._clock;V._pulse=new Ta(V,ca,G);V._touched.forEach(u=>V._enqueue(u,!0));V._touched=Fb(q.id);let p=0;let h,m;try{for(;0<V._heap.size();){var n=
V._heap.pop();n.rank!==n.qrank?V._enqueue(n,!0):(h=n.run(V._getPulse(n,G)),h.then?h=await h:h.async&&(H.push(h.async),h=Y),h!==Y&&n._targets&&n._targets.forEach(u=>V._enqueue(u)),++p)}}catch(u){V._heap.clear(),m=u}V._input={};V._pulse=null;V.debug(`Pulse ${ca}: ${p} operators`);m&&(V._postrun=[],V.error(m));if(V._postrun.length)for(G=V._postrun.sort((u,x)=>x.priority-u.priority),V._postrun=[],n=0;n<G.length;++n)await Ja(V,G[n].callback);ba&&await Ja(V,ba);H.length&&Promise.all(H).then(u=>V.runAsync(null,
()=>{u.forEach(x=>{try{x(V)}catch(L){V.error(L)}})}));return V},run:function(G,ca,ba){return this._pulse?la(this):(this.evaluate(G,ca,ba),this)},runAsync:async function(G,ca,ba){for(;this._running;)await this._running;const V=()=>this._running=null;(this._running=this.evaluate(G,ca,ba)).then(V,V);return this._running},runAfter:function(G,ca,ba){if(this._pulse||ca)this._postrun.push({priority:ba||0,callback:G});else try{G(this)}catch(V){this.error(V)}},_enqueue:function(G,ca){const ba=G.stamp<this._clock;
ba&&(G.stamp=this._clock);if(ba||ca)G.qrank=G.rank,this._heap.push(G)},_getPulse:function(G,ca){const ba=G.source,V=this._clock;return ba&&q.isArray(ba)?new S(this,V,ba.map(H=>H.pulse),ca):this._input[G.id]||wa(this._pulse,ba&&ba.pulse)}};q.inherits(Fa,bb,{run(G){if(G.stamp<this.stamp)return G.StopPropagation;let ca;this.skip()?this.skip(!1):ca=this.evaluate(G);ca=ca||G;ca.then?ca=ca.then(ba=>this.pulse=ba):ca!==G.StopPropagation&&(this.pulse=ca);return ca},evaluate(G){const ca=this.marshall(G.stamp);
G=this.transform(ca,G);ca.clear();return G},transform(){}});const Ga={};k.Dataflow=Ha;k.EventStream=ma;k.MultiPulse=S;k.Operator=bb;k.Parameters=ab;k.Pulse=Ta;k.Transform=Fa;k.UniqueList=Fb;k.asyncCallback=Ja;k.changeset=Ea;k.definition=function(G){return(G=E(G))&&G.Definition||null};k.derive=function(G){return Bb(G,db({}))};k.ingest=db;k.isChangeSet=jb;k.isTuple=function(G){return!(!G||!G[w])};k.rederive=Bb;k.replace=function(G,ca){ca[w]=G[w];return ca};k.stableCompare=function(G,ca){return G?ca?
(ba,V)=>G(ba,V)||ca(ba)[w]-ca(V)[w]:(ba,V)=>G(ba,V)||ba[w]-V[w]:null};k.transform=E;k.transforms=Ga;k.tupleid=function(G){return G[w]};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[28]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb,Vb(16)):"function"===typeof define&&define.amd?define(["exports","d3-array"],q):(k="undefined"!==typeof globalThis?globalThis:k||self,q(k.vega={},k.d3))})(this,function(k,q){function*R(w,F){if(null==F)for(var Z of w)null!=Z&&""!==Z&&(Z=+Z)>=Z&&(yield Z);else{Z=-1;for(let D of w)D=F(D,++Z,w),null!=D&&""!==D&&(D=+D)>=D&&(yield D)}}function Ma(w,F,Z){const D=Float64Array.from(R(w,Z));D.sort(q.ascending);
return F.map(P=>q.quantileSorted(D,P))}function Fb(w,F){return Ma(w,[.25,.5,.75],F)}function Ja(w,F){const Z=w.length,D=q.deviation(w,F);w=Fb(w,F);return 1.06*(Math.min(D,(w[2]-w[0])/1.34)||D||Math.abs(w[0])||1)*Math.pow(Z,-.2)}function db(w,F){const Z=w.length;let D=0,P=1,N,Y;for(;w[D]===w[P];)++P;for(;P<Z;){for(N=P+1;w[P]===w[N];)++N;if(w[P]-w[P-1]<F){for(Y=P+(D+N-P-P>>1);Y<P;)w[Y++]=w[P];for(;Y>P;)w[Y--]=w[D]}D=P;P=N}return w}function Bb(w,F){w=w||0;F=null==F?1:F;let Z,D;if(Fa===Fa)Z=Fa,Fa=NaN;
else{do{Z=2*k.random()-1;D=2*k.random()-1;var P=Z*Z+D*D}while(0===P||1<P);P=Math.sqrt(-2*Math.log(P)/P);Z*=P;Fa=D*P}return w+Z*F}function jb(w,F,Z){Z=null==Z?1:Z;w=(w-(F||0))/Z;return Math.exp(-.5*w*w)/(Z*Ha)}function Ea(w,F,Z){w=(w-(F||0))/(null==Z?1:Z);F=Math.abs(w);37<F?Z=0:(Z=Math.exp(-F*F/2),7.07106781186547>F?(Z*=(((((.0352624965998911*F+.700383064443688)*F+6.37396220353165)*F+33.912866078383)*F+112.079291497871)*F+221.213596169931)*F+220.206867912376,Z/=((((((.0883883476483184*F+1.75566716318264)*
F+16.064177579207)*F+86.7807322029461)*F+296.564248779674)*F+637.333633378831)*F+793.826512519948)*F+440.413735824752):Z=Z/(F+1/(F+2/(F+3/(F+4/(F+.65)))))/2.506628274631);return 0<w?1-Z:Z}function ab(w,F,Z){if(0>w||1<w)return NaN;w=2*w-1;var D=-Math.log((1-w)*(1+w));6.25>D?(D-=3.125,D=1.6536545626831027+(.24015818242558962+(-.006033670871430149+(-7.40702534166267E-4+(1.8673420803405714E-4+(-1.3882523362786469E-5+(-1.3654692000834679E-6+(4.2347877827932404E-7+(-2.9070369957882005E-8+(-4.112633980346984E-9+
(1.0512122733215323E-9+(-5.415412054294628E-11+(-1.2975133253453532E-11+(2.6335093153082323E-12+(-8.151934197605472E-14+(-4.054566272975207E-14+(6.637638134358324E-15+(2.0972767875968562E-17+(-1.333171662854621E-16+(1.1157877678025181E-17+(1.28584807152564E-18+(-1.6850591381820166E-19+-3.64441206401782E-21*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D):16>D?(D=Math.sqrt(D)-3.25,D=3.0838856104922208+(1.0052589676941592+(.005370914553590064+(-.003751208507569241+(.002491442096107851+
(-.0016882755560235047+(9.532893797373805E-4+(-3.550375203628475E-4+(2.4031110387097894E-5+(6.828485145957318E-5+(-4.7318229009055734E-5+(1.2475304481671779E-5+(2.9234449089955446E-6+(-4.013867526981546E-6+(1.5027403968909828E-6+(1.8239629214389228E-8+(-2.7517406297064545E-7+(9.075656193888539E-8+2.2137376921775787E-9*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D):Number.isFinite(D)?(D=Math.sqrt(D)-5,D=4.849906401408584+(1.0103004648645344+(-1.3871931833623122E-4+(-2.1503011930044477E-4+(7.599527703001776E-5+
(-1.968177810553167E-5+(4.526062597223154E-6+(-9.9298272942317E-7+(2.2900482228026655E-7+(-6.771199775845234E-8+(2.914795345090108E-8+(-1.496002662714924E-8+(7.61570120807834E-9+(-3.789465440126737E-9+(1.5076572693500548E-9+(-2.555641816996525E-10+-2.7109920616438573E-11*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D)*D):D=Infinity;w*=D;return(F||0)+(null==Z?1:Z)*Va*w}function bb(w,F){let Z,D;const P={mean(N){return arguments.length?(Z=N||0,P):Z},stdev(N){return arguments.length?(D=null==N?1:N,P):D},
sample:()=>Bb(Z,D),pdf:N=>jb(N,Z,D),cdf:N=>Ea(N,Z,D),icdf:N=>ab(N,Z,D)};return P.mean(w).stdev(F)}function Ca(w,F){F=null==F?1:F;return Math.exp((w||0)+Bb()*F)}function ma(w,F,Z){if(0>=w)return 0;Z=null==Z?1:Z;F=(Math.log(w)-(F||0))/Z;return Math.exp(-.5*F*F)/(Z*Ha*w)}function oa(w,F,Z){return Ea(Math.log(w),F,Z)}function Ia(w,F,Z){return Math.exp(ab(w,F,Z))}function Ua(w,F){null==F&&(F=null==w?1:w,w=0);return w+(F-w)*k.random()}function na(w,F,Z){null==Z&&(Z=null==F?1:F,F=0);return w>=F&&w<=Z?1/
(Z-F):0}function qa(w,F,Z){null==Z&&(Z=null==F?1:F,F=0);return w<F?0:w>Z?1:(w-F)/(Z-F)}function Ta(w,F,Z){null==Z&&(Z=null==F?1:F,F=0);return 0<=w&&1>=w?F+w*(Z-F):NaN}function ta(w,F,Z,D){D-=w*w;Z=1E-24>Math.abs(D)?0:(Z-w*F)/D;return[F-Z*w,Z]}function Qa(w,F,Z,D){w=w.filter(ba=>{let V=F(ba);ba=Z(ba);return null!=V&&(V=+V)>=V&&null!=ba&&(ba=+ba)>=ba});D&&w.sort((ba,V)=>F(ba)-F(V));D=w.length;const P=new Float64Array(D),N=new Float64Array(D);let Y=0,ua=0,Ga=0,G,ca;for(ca of w)P[Y]=w=+F(ca),N[Y]=G=+Z(ca),
++Y,ua+=(w-ua)/Y,Ga+=(G-Ga)/Y;for(Y=0;Y<D;++Y)P[Y]-=ua,N[Y]-=Ga;return[P,N,ua,Ga]}function va(w,F,Z,D){let P=-1,N;for(const Y of w)w=F(Y),N=Z(Y),null!=w&&(w=+w)>=w&&null!=N&&(N=+N)>=N&&D(w,N,++P)}function S(w,F,Z,D,P){let N=0,Y=0;va(w,F,Z,(ua,Ga)=>{ua=Ga-P(ua);Ga-=D;N+=ua*ua;Y+=Ga*Ga});return 1-N/Y}function la(w,F,Z){let D=0,P=0,N=0,Y=0,ua=0;va(w,F,Z,(ca,ba)=>{++ua;D+=(ca-D)/ua;P+=(ba-P)/ua;N+=(ca*ba-N)/ua;Y+=(ca*ca-Y)/ua});const Ga=ta(D,P,N,Y),G=ca=>Ga[0]+Ga[1]*ca;return{coef:Ga,predict:G,rSquared:S(w,
F,Z,P,G)}}function wa(w,F,Z){const [D,P,N,Y]=Qa(w,F,Z);var ua=D.length,Ga=0;let G=0;var ca=0;let ba=0,V=0,H,p,h,m;for(H=0;H<ua;)p=D[H],h=P[H++],m=p*p,Ga+=(m-Ga)/H,G+=(m*p-G)/H,ca+=(m*m-ca)/H,ba+=(p*h-ba)/H,V+=(m*h-V)/H;ua=ca-Ga*Ga;ca=Ga*ua-G*G;const n=(V*Ga-ba*G)/ca,u=(ba*ua-V*G)/ca,x=-n*Ga;Ga=L=>{L-=N;return n*L*L+u*L+x+Y};return{coef:[x-u*N+n*N*N+Y,u-2*n*N,n],predict:Ga,rSquared:S(w,F,Z,Y,Ga)}}function Da(w,F,Z,D){const P=Array(w);let N,Y,ua;for(N=0;N<w;++N)P[N]=0;for(N=w-1;0<=N;--N)for(Y=F[N],
ua=1,P[N]+=Y,w=1;w<=N;++w)ua*=(N+1-w)/w,P[N-w]+=Y*Math.pow(Z,w)*ua;P[0]+=D;return P}function Oa(w){const F=w.length-1,Z=[];let D,P,N,Y,ua;for(D=0;D<F;++D){Y=D;for(P=D+1;P<F;++P)Math.abs(w[D][P])>Math.abs(w[D][Y])&&(Y=P);for(N=D;N<F+1;++N)ua=w[N][D],w[N][D]=w[N][Y],w[N][Y]=ua;for(P=D+1;P<F;++P)for(N=F;N>=D;N--)w[N][P]-=w[N][D]*w[D][P]/w[D][D]}for(P=F-1;0<=P;--P){ua=0;for(N=P+1;N<F;++N)ua+=w[N][P]*Z[N];Z[P]=(w[F][P]-ua)/w[P][P]}return Z}k.random=Math.random;const Ha=Math.sqrt(2*Math.PI),Va=Math.SQRT2;
let Fa=NaN;const E=.1*Math.PI/180;k.bandwidthNRD=Ja;k.bin=function(w){var F=w.maxbins||20;const Z=w.base||10,D=Math.log(Z),P=w.divide||[5,2];let N=w.extent[0],Y=w.extent[1];let ua,Ga,G,ca;const ba=w.span||Y-N||Math.abs(N)||1;if(w.step)var V=w.step;else if(w.steps){Ga=ba/F;G=0;for(ca=w.steps.length;G<ca&&w.steps[G]<Ga;++G);V=w.steps[Math.max(0,G-1)]}else{V=Math.ceil(Math.log(F)/D);ua=w.minstep||0;for(V=Math.max(ua,Math.pow(Z,Math.round(Math.log(ba)/D)-V));Math.ceil(ba/V)>F;)V*=Z;G=0;for(ca=P.length;G<
ca;++G)Ga=V/P[G],Ga>=ua&&ba/Ga<=F&&(V=Ga)}Ga=Math.log(V);F=Math.pow(Z,-(0<=Ga?0:~~(-Ga/D)+1)-1);if(w.nice||void 0===w.nice)Ga=Math.floor(N/V+F)*V,N=N<Ga?Ga-V:Ga,Y=Math.ceil(Y/V)*V;return{start:N,stop:Y===N?N+V:Y,step:V}};k.bootstrapCI=function(w,F,Z,D){if(!w.length)return[void 0,void 0];w=Float64Array.from(R(w,D));D=w.length;let P,N,Y,ua;Y=0;for(ua=Array(F);Y<F;++Y){for(N=P=0;N<D;++N)P+=w[~~(k.random()*D)];ua[Y]=P/D}ua.sort(q.ascending);return[q.quantile(ua,Z/2),q.quantile(ua,1-Z/2)]};k.cumulativeLogNormal=
oa;k.cumulativeNormal=Ea;k.cumulativeUniform=qa;k.densityLogNormal=ma;k.densityNormal=jb;k.densityUniform=na;k.dotbin=function(w,F,Z,D){D=D||(V=>V);const P=w.length,N=new Float64Array(P);let Y=0,ua=1,Ga=D(w[0]),G=Ga,ca=Ga+F,ba;for(;ua<P;++ua){ba=D(w[ua]);if(ba>=ca){for(G=(Ga+G)/2;Y<ua;++Y)N[Y]=G;ca=ba+F;Ga=ba}G=ba}for(G=(Ga+G)/2;Y<ua;++Y)N[Y]=G;return Z?db(N,F+F/4):N};k.quantileLogNormal=Ia;k.quantileNormal=ab;k.quantileUniform=Ta;k.quantiles=Ma;k.quartiles=Fb;k.randomInteger=function(w,F){null==
F&&(F=w,w=0);let Z,D,P;const N={min(Y){return arguments.length?(Z=Y||0,P=D-Z,N):Z},max(Y){return arguments.length?(D=Y||0,P=D-Z,N):D},sample(){return Z+Math.floor(P*k.random())},pdf(Y){return Y===Math.floor(Y)&&Y>=Z&&Y<D?1/P:0},cdf(Y){Y=Math.floor(Y);return Y<Z?0:Y>=D?1:(Y-Z+1)/P},icdf(Y){return 0<=Y&&1>=Y?Z-1+Math.floor(Y*P):NaN}};return N.min(w).max(F)};k.randomKDE=function(w,F){const Z=bb();let D=0;const P={data(N){return arguments.length?(D=(w=N)?N.length:0,P.bandwidth(F)):w},bandwidth(N){if(!arguments.length)return F;
F=N;!F&&w&&(F=Ja(w));return P},sample(){return w[~~(k.random()*D)]+F*Z.sample()},pdf(N){let Y=0,ua=0;for(;ua<D;++ua)Y+=Z.pdf((N-w[ua])/F);return Y/F/D},cdf(N){let Y=0,ua=0;for(;ua<D;++ua)Y+=Z.cdf((N-w[ua])/F);return Y/D},icdf(){throw Error("KDE icdf not supported.");}};return P.data(w)};k.randomLCG=function(w){return function(){w=(1103515245*w+12345)%2147483647;return w/2147483647}};k.randomLogNormal=function(w,F){let Z,D;const P={mean(N){return arguments.length?(Z=N||0,P):Z},stdev(N){return arguments.length?
(D=null==N?1:N,P):D},sample:()=>Ca(Z,D),pdf:N=>ma(N,Z,D),cdf:N=>oa(N,Z,D),icdf:N=>Ia(N,Z,D)};return P.mean(w).stdev(F)};k.randomMixture=function(w,F){let Z=0,D;const P={weights(N){if(arguments.length){{var Y=F=N||[];const ua=[];let Ga=0,G;for(G=0;G<Z;++G)Ga+=ua[G]=null==Y[G]?1:+Y[G];for(G=0;G<Z;++G)ua[G]/=Ga;D=ua}return P}return F},distributions(N){return arguments.length?(N?(Z=N.length,w=N):(Z=0,w=[]),P.weights(F)):w},sample(){const N=k.random();let Y=w[Z-1],ua=D[0],Ga=0;for(;Ga<Z-1;ua+=D[++Ga])if(N<
ua){Y=w[Ga];break}return Y.sample()},pdf(N){let Y=0,ua=0;for(;ua<Z;++ua)Y+=D[ua]*w[ua].pdf(N);return Y},cdf(N){let Y=0,ua=0;for(;ua<Z;++ua)Y+=D[ua]*w[ua].cdf(N);return Y},icdf(){throw Error("Mixture icdf not supported.");}};return P.distributions(w).weights(F)};k.randomNormal=bb;k.randomUniform=function(w,F){let Z,D;const P={min(N){return arguments.length?(Z=N||0,P):Z},max(N){return arguments.length?(D=null==N?1:N,P):D},sample:()=>Ua(Z,D),pdf:N=>na(N,Z,D),cdf:N=>qa(N,Z,D),icdf:N=>Ta(N,Z,D)};null==
F&&(F=null==w?1:w,w=0);return P.min(w).max(F)};k.regressionExp=function(w,F,Z){const [D,,P,N]=Qa(w,F,Z);let Y=0,ua=0,Ga=0,G=0,ca=0,ba,V,H;va(w,F,Z,(n,u)=>{ba=D[ca++];V=Math.log(u);H=ba*u;Y+=(u*V-Y)/ca;ua+=(H-ua)/ca;Ga+=(H*V-Ga)/ca;G+=(ba*H-G)/ca});const [p,h]=ta(ua/N,Y/N,Ga/N,G/N),m=n=>Math.exp(p+h*(n-P));return{coef:[Math.exp(p-h*P),h],predict:m,rSquared:S(w,F,Z,N,m)}};k.regressionLinear=la;k.regressionLoess=function(w,F,Z,D){const [P,N,Y,ua]=Qa(w,F,Z,!0);w=P.length;F=Math.max(2,~~(D*w));D=new Float64Array(w);
Z=new Float64Array(w);var Ga=(new Float64Array(w)).fill(1);for(var G=-1;2>=++G;){var ca=[0,F-1];for(let x=0;x<w;++x){var ba=P[x],V=ca[0],H=ca[1],p=0,h=0,m=0,n=0;let L=0;const ia=1/Math.abs(P[ba-P[V]>P[H]-ba?V:H]-ba||1);for(;V<=H;++V){const $a=P[V],fb=N[V];var u=Math.abs(ba-$a)*ia;const Ba=(u=1-u*u*u)*u*u*Ga[V];u=$a*Ba;p+=Ba;h+=u;m+=fb*Ba;n+=fb*u;L+=$a*u}const [xa,Wa]=ta(h/p,m/p,n/p,L/p);D[x]=xa+Wa*ba;Z[x]=Math.abs(N[x]-D[x]);ba=P;H=x+1;p=ca;h=ba[H];m=p[0];n=p[1]+1;if(!(n>=ba.length))for(;H>m&&ba[n]-
h<=h-ba[m];)p[0]=++m,p[1]=n,++n}if(2===G)break;ca=q.median(Z);if(1E-12>Math.abs(ca))break;for(let x=0,L,ia;x<w;++x)L=Z[x]/(6*ca),Ga[x]=1<=L?1E-12:(ia=1-L*L)*ia}w=P.length;F=[];Ga=Z=0;for(G=[];Z<w;++Z)ca=P[Z]+Y,G[0]===ca?G[1]+=(D[Z]-G[1])/++Ga:(Ga=0,G[1]+=ua,G=[ca,D[Z]],F.push(G));G[1]+=ua;return D=F};k.regressionLog=function(w,F,Z){let D=0,P=0,N=0,Y=0,ua=0;va(w,F,Z,(ca,ba)=>{++ua;ca=Math.log(ca);D+=(ca-D)/ua;P+=(ba-P)/ua;N+=(ca*ba-N)/ua;Y+=(ca*ca-Y)/ua});const Ga=ta(D,P,N,Y),G=ca=>Ga[0]+Ga[1]*Math.log(ca);
return{coef:Ga,predict:G,rSquared:S(w,F,Z,P,G)}};k.regressionPoly=function(w,F,Z,D){if(1===D)return la(w,F,Z);if(2===D)return wa(w,F,Z);const [P,N,Y,ua]=Qa(w,F,Z);var Ga=P.length;const G=[],ca=[],ba=D+1;let V,H,p,h;for(V=0;V<ba;++V){for(p=H=0;H<Ga;++H)p+=Math.pow(P[H],V)*N[H];G.push(p);h=new Float64Array(ba);for(D=0;D<ba;++D){for(p=H=0;H<Ga;++H)p+=Math.pow(P[H],V+D);h[D]=p}ca.push(h)}ca.push(G);const m=Oa(ca);Ga=n=>{n-=Y;let u=ua+m[0]+m[1]*n+m[2]*n*n;for(V=3;V<ba;++V)u+=m[V]*Math.pow(n,V);return u};
return{coef:Da(ba,m,-Y,ua),predict:Ga,rSquared:S(w,F,Z,ua,Ga)}};k.regressionPow=function(w,F,Z){let D=0,P=0,N=0,Y=0,ua=0,Ga=0;va(w,F,Z,(ba,V)=>{ba=Math.log(ba);const H=Math.log(V);++Ga;D+=(ba-D)/Ga;P+=(H-P)/Ga;N+=(ba*H-N)/Ga;Y+=(ba*ba-Y)/Ga;ua+=(V-ua)/Ga});const G=ta(D,P,N,Y),ca=ba=>G[0]*Math.pow(ba,G[1]);G[0]=Math.exp(G[0]);return{coef:G,predict:ca,rSquared:S(w,F,Z,ua,ca)}};k.regressionQuad=wa;k.sampleCurve=function(w,F,Z,D){Z=Z||25;D=Math.max(Z,D||200);var P=ca=>[ca,w(ca)],N=F[0];const Y=F[1],ua=
Y-N;var Ga=ua/D;F=[[N,w(N)]];const G=[];if(Z===D){for(Ga=1;Ga<D;++Ga)F.push(P(N+Ga/Z*ua));F.push([Y,w(Y)]);return F}G.push([Y,w(Y)]);for(D=Z;0<--D;)G.push(P(N+D/Z*ua));Z=F[0];for(P=G[G.length-1];P;)N=(Z[0]+P[0])/2,N=[N,w(N)],N[0]-Z[0]>=Ga&&Math.abs(Math.atan2(P[1]-Z[1],P[0]-Z[0])-Math.atan2(N[1]-Z[1],N[0]-Z[0]))>E?G.push(N):(Z=P,F.push(P),G.pop()),P=G[G.length-1];return F};k.sampleLogNormal=Ca;k.sampleNormal=Bb;k.sampleUniform=Ua;k.setRandom=function(w){k.random=w};Object.defineProperty(k,"__esModule",
{value:!0})})};
shadow$provide[29]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb,Vb(15),Vb(27),Vb(28),Vb(16),Vb(19)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-statistics d3-array vega-time".split(" "),q):(k="undefined"!==typeof globalThis?globalThis:k||self,q(k.vega={},k.vega,k.vega,k.vega,k.d3,k.vega))})(this,function(k,q,R,Ma,Fb,Ja){function db(J){return ja=>{const Na=J.length;let mb=1,Gb=String(J[0](ja));for(;mb<Na;++mb)Gb+="|"+
J[mb](ja);return Gb}}function Bb(J){return J&&J.length?1===J.length?J[0]:db(J):function(){return""}}function jb(J,ja){return Na=>q.extend({name:J,out:Na||J},Tc,ja)}function Ea(J,ja){return J.idx-ja.idx}function ab(J){const ja={};J.forEach(mb=>ja[mb.name]=mb);const Na=mb=>{mb.req&&mb.req.forEach(Gb=>{ja[Gb]||Na(ja[Gb]=xd[Gb]())})};J.forEach(Na);return Object.values(ja).sort(Ea)}function bb(){this.missing=this.valid=0;this._ops.forEach(J=>J.init(this))}function Ca(J,ja){null==J||""===J?++this.missing:
J===J&&(++this.valid,this._ops.forEach(Na=>Na.add(this,J,ja)))}function ma(J,ja){null==J||""===J?--this.missing:J===J&&(--this.valid,this._ops.forEach(Na=>Na.rem(this,J,ja)))}function oa(J){this._out.forEach(ja=>J[ja.out]=ja.value(this));return J}function Ia(J,ja){function Na(lb){this._ops=mb;this._out=Gb;this.cell=lb;this.init()}ja=ja||q.identity;const mb=ab(J),Gb=J.slice().sort(Ea);Na.prototype.init=bb;Na.prototype.add=Ca;Na.prototype.rem=ma;Na.prototype.set=oa;Na.prototype.get=ja;Na.fields=J.map(lb=>
lb.out);return Na}function Ua(J){this._key=J?q.field(J):R.tupleid;this.reset()}function na(J){R.Transform.call(this,null,J);this._adds=[];this._mods=[];this._mlen=this._alen=0;this._drop=!0;this._cross=!1;this._dims=[];this._dnames=[];this._measures=[];this._countOnly=!1;this._outputs=this._inputs=this._prev=this._counts=null}function qa(J){R.Transform.call(this,null,J)}function Ta(J,ja,Na){let mb=ja||[],Gb=Na||[],lb={},Xb=0;return{add:Rb=>Gb.push(Rb),remove:Rb=>lb[J(Rb)]=++Xb,size:()=>mb.length,
data:(Rb,ra)=>{Xb&&(mb=mb.filter(Ra=>!lb[J(Ra)]),lb={},Xb=0);ra&&Rb&&mb.sort(Rb);Gb.length&&(mb=Rb?q.merge(Rb,mb,Gb.sort(Rb)):mb.concat(Gb),Gb=[]);return mb}}}function ta(J){R.Transform.call(this,[],J)}function Qa(J){R.Operator.call(this,null,va,J)}function va(J){return this.value&&!J.modified()?this.value:q.compare(J.fields,J.orders)}function S(J){R.Transform.call(this,null,J)}function la(J){R.Transform.call(this,null,J)}function wa(J,ja){var Na=J["function"];q.hasOwnProperty(Jb,Na)||q.error("Unknown distribution function: "+
Na);Na=Jb[Na]();for(const mb in J)if("field"===mb)Na.data((J.from||ja()).map(J[mb]));else if("distributions"===mb)Na[mb](J[mb].map(Gb=>wa(Gb,ja)));else if("function"===typeof Na[mb])Na[mb](J[mb]);return Na}function Da(J){R.Transform.call(this,null,J)}function Oa(J){return()=>J.materialize(J.SOURCE).source}function Ha(J,ja){return J?J.map((Na,mb)=>ja[mb]||q.accessorName(Na)):null}function Va(J,ja,Na){const mb=[],Gb=Mb=>Mb(ra);let lb,Xb,Rb,ra,Ra,rb;if(null==ja)mb.push(J.map(Na));else for(lb={},Xb=0,
Rb=J.length;Xb<Rb;++Xb)ra=J[Xb],Ra=ja.map(Gb),rb=lb[Ra],rb||(lb[Ra]=rb=[],rb.dims=Ra,mb.push(rb)),rb.push(Na(ra));return mb}function Fa(J){R.Transform.call(this,null,J)}function E(J){R.Operator.call(this,null,w,J);this.modified(!0)}function w(J){const ja=J.expr;return this.value&&!J.modified("expr")?this.value:q.accessor(Na=>ja(Na,J),q.accessorFields(ja),q.accessorName(ja))}function F(J){R.Transform.call(this,[void 0,void 0],J)}function Z(J,ja){R.Operator.call(this,J);this.parent=ja;this.count=0}
function D(J){R.Transform.call(this,{},J);this._keys=q.fastmap();const ja=this._targets=[];ja.active=0;ja.forEach=Na=>{for(let mb=0,Gb=ja.active;mb<Gb;++mb)Na(ja[mb],mb,ja)}}function P(J){R.Operator.call(this,null,N,J)}function N(J){return this.value&&!J.modified()?this.value:q.isArray(J.name)?q.array(J.name).map(ja=>q.field(ja)):q.field(J.name,J.as)}function Y(J){R.Transform.call(this,q.fastmap(),J)}function ua(J){R.Transform.call(this,[],J)}function Ga(J){R.Transform.call(this,[],J)}function G(J){R.Transform.call(this,
null,J)}function ca(J){R.Transform.call(this,[],J)}function ba(J){R.Transform.call(this,[],J)}function V(J){var ja=J.method||Gc.value;if(null==Gc[ja])q.error("Unrecognized imputation method: "+ja);else{if(ja===Gc.value){var Na=void 0!==J.value?J.value:0;return()=>Na}return Gc[ja]}}function H(J){const ja=J.field;return Na=>Na?ja(Na):NaN}function p(J,ja,Na,mb){var Gb=sb=>sb(Mb),lb=[];mb=mb?mb.slice():[];var Xb={},Rb={},ra,Ra;mb.forEach((sb,gc)=>Xb[sb]=gc+1);var rb=0;for(Ra=J.length;rb<Ra;++rb){var Mb=
J[rb];var dc=Na(Mb);var hc=Xb[dc]||(Xb[dc]=mb.push(dc));var sc=(dc=ja?ja.map(Gb):ke)+"";(ra=Rb[sc])||(ra=Rb[sc]=[],lb.push(ra),ra.values=dc);ra[hc-1]=Mb}lb.domain=mb;return lb}function h(J){na.call(this,J)}function m(J){R.Transform.call(this,null,J)}function n(J){R.Operator.call(this,null,u,J)}function u(J){return this.value&&!J.modified()?this.value:q.key(J.fields,J.flat)}function x(J){R.Transform.call(this,[],J);this._pending=null}function L(J){return J.modified("async")&&!(J.modified("values")||
J.modified("url")||J.modified("format"))}function ia(J,ja,Na){Na.forEach(R.ingest);ja=ja.fork(ja.NO_FIELDS&ja.NO_SOURCE);ja.rem=J.value;J.value=ja.source=ja.add=Na;J._pending=null;ja.rem.length&&ja.clean(!0);return ja}function xa(J){R.Transform.call(this,{},J)}function Wa(J){R.Operator.call(this,null,$a,J)}function $a(J){if(this.value&&!J.modified())return this.value;J=J.extents;const ja=J.length;let Na=Infinity,mb=-Infinity,Gb,lb;for(Gb=0;Gb<ja;++Gb)lb=J[Gb],lb[0]<Na&&(Na=lb[0]),lb[1]>mb&&(mb=lb[1]);
return[Na,mb]}function fb(J){R.Operator.call(this,null,Ba,J)}function Ba(J){return this.value&&!J.modified()?this.value:J.values.reduce((ja,Na)=>ja.concat(Na),[])}function T(J){R.Transform.call(this,null,J)}function da(J){na.call(this,J)}function Xa(J,ja){const Na=J.field,mb=J.value,Gb=("count"===J.op?"__count__":J.op)||"sum",lb=q.accessorFields(Na).concat(q.accessorFields(mb)),Xb=xb(Na,J.limit||0,ja);ja.changed()&&J.set("__pivot__",null,null,!0);return{key:J.key,groupby:J.groupby,ops:Xb.map(()=>
Gb),fields:Xb.map(Rb=>zb(Rb,Na,mb,lb)),as:Xb.map(Rb=>Rb+""),modified:J.modified.bind(J)}}function zb(J,ja,Na,mb){return q.accessor(Gb=>ja(Gb)===J?Na(Gb):NaN,mb,J+"")}function xb(J,ja,Na){const mb={},Gb=[];Na.visit(Na.SOURCE,lb=>{lb=J(lb);mb[lb]||(mb[lb]=1,Gb.push(lb))});Gb.sort(q.ascending);return ja?Gb.slice(0,ja):Gb}function Pb(J){D.call(this,J)}function bc(J){R.Transform.call(this,null,J)}function Uc(J){R.Transform.call(this,null,J)}function yc(J){R.Transform.call(this,null,J)}function Vc(J){R.Transform.call(this,
null,J)}function ya(J){R.Transform.call(this,[],J);this.count=0}function Nb(J){R.Transform.call(this,null,J)}function Sb(J){R.Transform.call(this,null,J);this.modified(!0)}function Zb(J){R.Transform.call(this,null,J)}function uc(J){R.Transform.call(this,q.fastmap(),J)}function cc(J){R.Transform.call(this,null,J)}function gb(J,ja,Na,mb){const Gb=Ke[J](ja,Na);return{init:Gb.init||q.zero,update:function(lb,Xb){Xb[mb]=Gb.next(lb)}}}function Kb(J){function ja(hc){q.array(q.accessorFields(hc)).forEach(sc=>
ra[sc]=1)}const Na=q.array(J.ops),mb=q.array(J.fields),Gb=q.array(J.params),lb=q.array(J.as),Xb=this.outputs=[],Rb=this.windows=[],ra={},Ra={},rb=[],Mb=[];let dc=!0;ja(J.sort);Na.forEach((hc,sc)=>{const sb=mb[sc],gc=q.accessorName(sb),ic=lb[sc]||hc+(gc?"_"+gc:"");ja(sb);Xb.push(ic);q.hasOwnProperty(Ke,hc)?Rb.push(gb(hc,mb[sc],Gb[sc],ic)):(null==sb&&"count"!==hc&&q.error("Null aggregate field specified."),"count"===hc?rb.push(ic):(dc=!1,sc=Ra[gc],sc||(sc=Ra[gc]=[],sc.field=sb,Mb.push(sc)),sc.push(xd[hc](ic))))});
if(rb.length||Mb.length)this.cell=Eb(Mb,rb,dc);this.inputs=Object.keys(ra)}function Eb(J,ja,Na){J=J.map(ra=>Ia(ra,ra.field));const mb={num:0,agg:null,store:!1,count:ja};if(!Na)for(var Gb=J.length,lb=mb.agg=Array(Gb),Xb=0;Xb<Gb;++Xb)lb[Xb]=new J[Xb](mb);if(mb.store)var Rb=mb.data=new Ua;mb.add=function(ra){mb.num+=1;if(!Na){Rb&&Rb.add(ra);for(let Ra=0;Ra<Gb;++Ra)lb[Ra].add(lb[Ra].get(ra),ra)}};mb.rem=function(ra){--mb.num;if(!Na){Rb&&Rb.rem(ra);for(let Ra=0;Ra<Gb;++Ra)lb[Ra].rem(lb[Ra].get(ra),ra)}};
mb.set=function(ra){let Ra,rb;Rb&&Rb.values();Ra=0;for(rb=ja.length;Ra<rb;++Ra)ra[ja[Ra]]=mb.num;if(!Na)for(Ra=0,rb=lb.length;Ra<rb;++Ra)lb[Ra].set(ra)};mb.init=function(){mb.num=0;Rb&&Rb.reset();for(let ra=0;ra<Gb;++ra)lb[ra].init()};return mb}function Nc(J){R.Transform.call(this,{},J);this._mlen=0;this._mods=[]}function dd(J,ja,Na,mb){var Gb=mb.sort;const lb=Gb&&!mb.ignorePeers;mb=mb.frame||[null,0];J=J.data(Na);Na=J.length;const Xb=lb?Fb.bisector(Gb):null;Gb={i0:0,i1:0,p0:0,p1:0,index:0,data:J,
compare:Gb||q.constant(-1)};ja.init();for(let Mb=0;Mb<Na;++Mb){var Rb=Gb,ra=mb,Ra=Mb,rb=Na;Rb.p0=Rb.i0;Rb.p1=Rb.i1;Rb.i0=null==ra[0]?0:Math.max(0,Ra-Math.abs(ra[0]));Rb.i1=null==ra[1]?rb:Math.min(rb,Ra+Math.abs(ra[1])+1);Rb.index=Ra;if(lb){{Rb=Gb;ra=Xb;Ra=Rb.i0;rb=Rb.i1-1;const dc=Rb.compare,hc=Rb.data,sc=hc.length-1;0<Ra&&!dc(hc[Ra],hc[Ra-1])&&(Rb.i0=ra.left(hc,hc[Ra]));rb<sc&&!dc(hc[rb],hc[rb+1])&&(Rb.i1=ra.right(hc,hc[rb]))}}ja.update(Gb,J[Mb])}}var Ic=()=>{};const Tc={init:Ic,add:Ic,rem:Ic,idx:0},
xd={values:{init:J=>J.cell.store=!0,value:J=>J.cell.data.values(),idx:-1},count:{value:J=>J.cell.num},__count__:{value:J=>J.missing+J.valid},missing:{value:J=>J.missing},valid:{value:J=>J.valid},sum:{init:J=>J.sum=0,value:J=>J.sum,add:(J,ja)=>J.sum+=+ja,rem:(J,ja)=>J.sum-=ja},product:{init:J=>J.product=1,value:J=>J.valid?J.product:void 0,add:(J,ja)=>J.product*=ja,rem:(J,ja)=>J.product/=ja},mean:{init:J=>J.mean=0,value:J=>J.valid?J.mean:void 0,add:(J,ja)=>(J.mean_d=ja-J.mean,J.mean+=J.mean_d/J.valid),
rem:(J,ja)=>(J.mean_d=ja-J.mean,J.mean-=J.valid?J.mean_d/J.valid:J.mean)},average:{value:J=>J.valid?J.mean:void 0,req:["mean"],idx:1},variance:{init:J=>J.dev=0,value:J=>1<J.valid?J.dev/(J.valid-1):void 0,add:(J,ja)=>J.dev+=J.mean_d*(ja-J.mean),rem:(J,ja)=>J.dev-=J.mean_d*(ja-J.mean),req:["mean"],idx:1},variancep:{value:J=>1<J.valid?J.dev/J.valid:void 0,req:["variance"],idx:2},stdev:{value:J=>1<J.valid?Math.sqrt(J.dev/(J.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:J=>1<J.valid?Math.sqrt(J.dev/
J.valid):void 0,req:["variance"],idx:2},stderr:{value:J=>1<J.valid?Math.sqrt(J.dev/(J.valid*(J.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:J=>J.cell.data.distinct(J.get),req:["values"],idx:3},ci0:{value:J=>J.cell.data.ci0(J.get),req:["values"],idx:3},ci1:{value:J=>J.cell.data.ci1(J.get),req:["values"],idx:3},median:{value:J=>J.cell.data.q2(J.get),req:["values"],idx:3},q1:{value:J=>J.cell.data.q1(J.get),req:["values"],idx:3},q3:{value:J=>J.cell.data.q3(J.get),req:["values"],idx:3},min:{init:J=>
J.min=void 0,value:J=>J.min=Number.isNaN(J.min)?J.cell.data.min(J.get):J.min,add:(J,ja)=>{if(ja<J.min||void 0===J.min)J.min=ja},rem:(J,ja)=>{ja<=J.min&&(J.min=NaN)},req:["values"],idx:4},max:{init:J=>J.max=void 0,value:J=>J.max=Number.isNaN(J.max)?J.cell.data.max(J.get):J.max,add:(J,ja)=>{if(ja>J.max||void 0===J.max)J.max=ja},rem:(J,ja)=>{ja>=J.max&&(J.max=NaN)},req:["values"],idx:4},argmin:{init:J=>J.argmin=void 0,value:J=>J.argmin||J.cell.data.argmin(J.get),add:(J,ja,Na)=>{ja<J.min&&(J.argmin=Na)},
rem:(J,ja)=>{ja<=J.min&&(J.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:J=>J.argmax=void 0,value:J=>J.argmax||J.cell.data.argmax(J.get),add:(J,ja,Na)=>{ja>J.max&&(J.argmax=Na)},rem:(J,ja)=>{ja>=J.max&&(J.argmax=void 0)},req:["max","values"],idx:3}};Ic=Object.keys(xd);Ic.forEach(J=>{xd[J]=jb(J,xd[J])});var tb=Ua.prototype;tb.reset=function(){this._add=[];this._rem=[];this._q=this._get=this._ext=null};tb.add=function(J){this._add.push(J)};tb.rem=function(J){this._rem.push(J)};tb.values=
function(){this._get=null;if(0===this._rem.length)return this._add;const J=this._add;var ja=this._rem;const Na=this._key,mb=J.length,Gb=ja.length,lb=Array(mb-Gb),Xb={};let Rb,ra;for(Rb=0;Rb<Gb;++Rb)Xb[Na(ja[Rb])]=1;for(ja=Rb=0;Rb<mb;++Rb)Xb[Na(ra=J[Rb])]?Xb[Na(ra)]=0:lb[ja++]=ra;this._rem=[];return this._add=lb};tb.distinct=function(J){const ja=this.values(),Na={};let mb=ja.length,Gb=0,lb;for(;0<=--mb;)lb=J(ja[mb])+"",q.hasOwnProperty(Na,lb)||(Na[lb]=1,++Gb);return Gb};tb.extent=function(J){if(this._get!==
J||!this._ext){const ja=this.values(),Na=q.extentIndex(ja,J);this._ext=[ja[Na[0]],ja[Na[1]]];this._get=J}return this._ext};tb.argmin=function(J){return this.extent(J)[0]||{}};tb.argmax=function(J){return this.extent(J)[1]||{}};tb.min=function(J){const ja=this.extent(J)[0];return null!=ja?J(ja):void 0};tb.max=function(J){const ja=this.extent(J)[1];return null!=ja?J(ja):void 0};tb.quartile=function(J){this._get===J&&this._q||(this._q=Ma.quartiles(this.values(),J),this._get=J);return this._q};tb.q1=
function(J){return this.quartile(J)[0]};tb.q2=function(J){return this.quartile(J)[1]};tb.q3=function(J){return this.quartile(J)[2]};tb.ci=function(J){this._get===J&&this._ci||(this._ci=Ma.bootstrapCI(this.values(),1E3,.05,J),this._get=J);return this._ci};tb.ci0=function(J){return this.ci(J)[0]};tb.ci1=function(J){return this.ci(J)[1]};na.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Ic},{name:"fields",
type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"drop",type:"boolean","default":!0},{name:"cross",type:"boolean","default":!1},{name:"key",type:"field"}]};q.inherits(na,R.Transform,{transform(J,ja){const Na=this,mb=ja.fork(ja.NO_SOURCE|ja.NO_FIELDS),Gb=J.modified();Na.stamp=mb.stamp;Na.value&&(Gb||ja.modified(Na._inputs,!0))?(Na._prev=Na.value,Na.value=Gb?Na.init(J):{},ja.visit(ja.SOURCE,lb=>Na.add(lb))):(Na.value=Na.value||Na.init(J),ja.visit(ja.REM,lb=>Na.rem(lb)),
ja.visit(ja.ADD,lb=>Na.add(lb)));mb.modifies(Na._outputs);Na._drop=!1!==J.drop;J.cross&&1<Na._dims.length&&(Na._drop=!1,Na.cross());ja.clean()&&Na._drop&&mb.clean(!0).runAfter(()=>this.clean());return Na.changes(mb)},cross(){function J(Rb){let ra,Ra,rb,Mb;for(ra in Rb)for(rb=Rb[ra].tuple,Ra=0;Ra<Xb;++Ra)lb[Ra][Mb=rb[Gb[Ra]]]=Mb}function ja(Rb,ra,Ra){const rb=Gb[Ra],Mb=lb[Ra++];for(const dc in Mb){const hc=Rb?Rb+"|"+dc:dc;ra[rb]=Mb[dc];Ra<Xb?ja(hc,ra,Ra):mb[hc]||Na.cell(hc,ra)}}const Na=this,mb=Na.value,
Gb=Na._dnames,lb=Gb.map(()=>({})),Xb=Gb.length;J(Na._prev);J(mb);ja("",{},0)},init(J){function ja(sb){sb=q.array(q.accessorFields(sb));const gc=sb.length;let ic=0,Yb;for(;ic<gc;++ic)Gb[Yb=sb[ic]]||(Gb[Yb]=1,Na.push(Yb))}const Na=this._inputs=[],mb=this._outputs=[],Gb={};this._dims=q.array(J.groupby);this._dnames=this._dims.map(sb=>{const gc=q.accessorName(sb);ja(sb);mb.push(gc);return gc});this.cellkey=J.key?J.key:Bb(this._dims);this._countOnly=!0;this._counts=[];this._measures=[];const lb=J.fields||
[null],Xb=J.ops||["count"];J=J.as||[];const Rb=lb.length,ra={};let Ra,rb,Mb,dc,hc,sc;Rb!==Xb.length&&q.error("Unmatched number of fields and aggregate ops.");for(sc=0;sc<Rb;++sc)Ra=lb[sc],rb=Xb[sc],null==Ra&&"count"!==rb&&q.error("Null aggregate field specified."),dc=q.accessorName(Ra),hc=J[sc]||rb+(dc?"_"+dc:""),mb.push(hc),"count"===rb?this._counts.push(hc):(Mb=ra[dc],Mb||(ja(Ra),Mb=ra[dc]=[],Mb.field=Ra,this._measures.push(Mb)),"count"!==rb&&(this._countOnly=!1),Mb.push(xd[rb](hc)));this._measures=
this._measures.map(sb=>Ia(sb,sb.field));return{}},cellkey:Bb(),cell(J,ja){let Na=this.value[J];Na?0===Na.num&&this._drop&&Na.stamp<this.stamp?(Na.stamp=this.stamp,this._adds[this._alen++]=Na):Na.stamp<this.stamp&&(Na.stamp=this.stamp,this._mods[this._mlen++]=Na):(Na=this.value[J]=this.newcell(J,ja),this._adds[this._alen++]=Na);return Na},newcell(J,ja){J={key:J,num:0,agg:null,tuple:this.newtuple(ja,this._prev&&this._prev[J]),stamp:this.stamp,store:!1};if(!this._countOnly){ja=this._measures;const Na=
ja.length;J.agg=Array(Na);for(let mb=0;mb<Na;++mb)J.agg[mb]=new ja[mb](J)}J.store&&(J.data=new Ua);return J},newtuple(J,ja){const Na=this._dnames,mb=this._dims,Gb=mb.length,lb={};for(let Xb=0;Xb<Gb;++Xb)lb[Na[Xb]]=mb[Xb](J);return ja?R.replace(ja.tuple,lb):R.ingest(lb)},clean(){const J=this.value;for(const ja in J)0===J[ja].num&&delete J[ja]},add(J){var ja=this.cellkey(J);ja=this.cell(ja,J);ja.num+=1;if(!this._countOnly){ja.store&&ja.data.add(J);ja=ja.agg;for(let Na=0,mb=ja.length;Na<mb;++Na)ja[Na].add(ja[Na].get(J),
J)}},rem(J){var ja=this.cellkey(J);ja=this.cell(ja,J);--ja.num;if(!this._countOnly){ja.store&&ja.data.rem(J);ja=ja.agg;for(let Na=0,mb=ja.length;Na<mb;++Na)ja[Na].rem(ja[Na].get(J),J)}},celltuple(J){const ja=J.tuple,Na=this._counts;J.store&&J.data.values();for(let mb=0,Gb=Na.length;mb<Gb;++mb)ja[Na[mb]]=J.num;if(!this._countOnly){J=J.agg;for(let mb=0,Gb=J.length;mb<Gb;++mb)J[mb].set(ja)}return ja},changes(J){const ja=this._adds,Na=this._mods;var mb=this._prev;const Gb=this._drop,lb=J.add,Xb=J.rem,
Rb=J.mod;let ra;var Ra;if(mb)for(Ra in mb)ra=mb[Ra],Gb&&!ra.num||Xb.push(ra.tuple);mb=0;for(Ra=this._alen;mb<Ra;++mb)lb.push(this.celltuple(ja[mb])),ja[mb]=null;mb=0;for(Ra=this._mlen;mb<Ra;++mb)ra=Na[mb],(0===ra.num&&Gb?Xb:Rb).push(this.celltuple(ra)),Na[mb]=null;this._alen=this._mlen=0;this._prev=null;return J}});qa.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"anchor",type:"number"},{name:"maxbins",
type:"number","default":20},{name:"base",type:"number","default":10},{name:"divide",type:"number",array:!0,"default":[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number","default":0},{name:"nice",type:"boolean","default":!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,"default":["bin0","bin1"]}]};q.inherits(qa,R.Transform,{transform(J,
ja){const Na=!1!==J.interval,mb=this._bins(J),Gb=mb.start,lb=mb.step,Xb=J.as||["bin0","bin1"],Rb=Xb[0],ra=Xb[1];J.modified()?(ja=ja.reflow(!0),J=ja.SOURCE):J=ja.modified(q.accessorFields(J.field))?ja.ADD_MOD:ja.ADD;ja.visit(J,Na?Ra=>{const rb=mb(Ra);Ra[Rb]=rb;Ra[ra]=null==rb?null:Gb+lb*(1+(rb-Gb)/lb)}:Ra=>Ra[Rb]=mb(Ra));return ja.modifies(Na?Xb:Rb)},_bins(J){if(this.value&&!J.modified())return this.value;const ja=J.field,Na=Ma.bin(J),mb=Na.step;let Gb=Na.start,lb=Gb+Math.ceil((Na.stop-Gb)/mb)*mb;
var Xb;null!=(Xb=J.anchor)&&(Xb-=Gb+mb*Math.floor((Xb-Gb)/mb),Gb+=Xb,lb+=Xb);Xb=function(Rb){Rb=q.toNumber(ja(Rb));return null==Rb?null:Rb<Gb?-Infinity:Rb>lb?Infinity:(Rb=Math.max(Gb,Math.min(Rb,lb-mb)),Gb+mb*Math.floor(1E-14+(Rb-Gb)/mb))};Xb.start=Gb;Xb.stop=Na.stop;Xb.step=mb;return this.value=q.accessor(Xb,q.accessorFields(ja),J.name||"bin_"+q.accessorName(ja))}});ta.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};q.inherits(ta,R.Transform,{transform(J,ja){const Na=
ja.fork(ja.ALL),mb=Ta(R.tupleid,this.value,Na.materialize(Na.ADD).add),Gb=J.sort;J=ja.changed()||Gb&&(J.modified("sort")||ja.modified(Gb.fields));Na.visit(Na.REM,mb.remove);this.modified(J);this.value=Na.source=mb.data(R.stableCompare(Gb),J);ja.source&&ja.source.root&&(this.value.root=ja.source.root);return Na}});q.inherits(Qa,R.Operator);S.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower",
"mixed"],"default":"mixed"},{name:"pattern",type:"string","default":'[\\w"]+'},{name:"stopwords",type:"string","default":""},{name:"as",type:"string",array:!0,length:2,"default":["text","count"]}]};q.inherits(S,R.Transform,{transform(J,ja){var Na=rb=>Mb=>{Mb=Rb(Mb);var dc=lb;switch(J.case){case "upper":Mb=Mb.toUpperCase();break;case "lower":Mb=Mb.toLowerCase()}Mb=Mb.match(dc)||[];var hc;dc=0;for(var sc=Mb.length;dc<sc;++dc)Xb.test(hc=Mb[dc])||rb(hc)};const mb=this._parameterCheck(J,ja),Gb=this._counts,
lb=this._match,Xb=this._stop,Rb=J.field,ra=J.as||["text","count"],Ra=Na(rb=>Gb[rb]=1+(Gb[rb]||0));Na=Na(rb=>--Gb[rb]);mb?ja.visit(ja.SOURCE,Ra):(ja.visit(ja.ADD,Ra),ja.visit(ja.REM,Na));return this._finish(ja,ra)},_parameterCheck(J,ja){let Na=!1;if(J.modified("stopwords")||!this._stop)this._stop=new RegExp("^"+(J.stopwords||"")+"$","i"),Na=!0;if(J.modified("pattern")||!this._match)this._match=new RegExp(J.pattern||"[\\w']+","g"),Na=!0;if(J.modified("field")||ja.modified(J.field.fields))Na=!0;Na&&
(this._counts={});return Na},_finish(J,ja){const Na=this._counts,mb=this._tuples||(this._tuples={}),Gb=ja[0],lb=ja[1];J=J.fork(J.NO_SOURCE|J.NO_FIELDS);let Xb,Rb,ra;for(Xb in Na)Rb=mb[Xb],ra=Na[Xb]||0,!Rb&&ra?(mb[Xb]=Rb=R.ingest({}),Rb[Gb]=Xb,Rb[lb]=ra,J.add.push(Rb)):0===ra?(Rb&&J.rem.push(Rb),Na[Xb]=null,mb[Xb]=null):Rb[lb]!==ra&&(Rb[lb]=ra,J.mod.push(Rb));return J.modifies(ja)}});la.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,
length:2,"default":["a","b"]}]};q.inherits(la,R.Transform,{transform(J,ja){const Na=ja.fork(ja.NO_SOURCE),mb=J.as||["a","b"],Gb=mb[0],lb=mb[1];var Xb=!this.value||ja.changed(ja.ADD_REM)||J.modified("as")||J.modified("filter"),Rb=this.value;if(Xb){Rb&&(Na.rem=Rb);ja=Rb=ja.materialize(ja.SOURCE).source;J=J.filter||q.truthy;Xb=[];Rb={};for(var ra=ja.length,Ra=0,rb,Mb;Ra<ra;++Ra)for(Rb[Gb]=Mb=ja[Ra],rb=0;rb<ra;++rb)Rb[lb]=ja[rb],J(Rb)&&(Xb.push(R.ingest(Rb)),Rb={},Rb[Gb]=Mb);Na.add=this.value=Xb}else Na.mod=
Rb;Na.source=this.value;return Na.modifies(mb)}});const Jb={kde:Ma.randomKDE,mixture:Ma.randomMixture,normal:Ma.randomNormal,lognormal:Ma.randomLogNormal,uniform:Ma.randomUniform};tb=[{key:{"function":"normal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"lognormal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"uniform"},params:[{name:"min",type:"number","default":0},{name:"max",
type:"number","default":1}]},{key:{"function":"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number","default":0}]}];Da.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"method",type:"string","default":"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",
params:tb.concat({key:{"function":"mixture"},params:[{name:"distributions",type:"param",array:!0,params:tb},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,"default":["value","density"]}]};q.inherits(Da,R.Transform,{transform(J,ja){const Na=ja.fork(ja.NO_SOURCE|ja.NO_FIELDS);if(!this.value||ja.changed()||J.modified()){const mb=wa(J.distribution,Oa(ja));ja=J.steps||J.minsteps||25;const Gb=J.steps||J.maxsteps||200;let lb=J.method||"pdf";"pdf"!==lb&&"cdf"!==lb&&q.error("Invalid density method: "+
lb);J.extent||mb.data||q.error("Missing density extent parameter.");lb=mb[lb];const Xb=J.as||["value","density"];J=J.extent||q.extent(mb.data());J=Ma.sampleCurve(lb,J,ja,Gb).map(Rb=>{const ra={};ra[Xb[0]]=Rb[0];ra[Xb[1]]=Rb[1];return R.ingest(ra)});this.value&&(Na.rem=this.value);this.value=Na.add=Na.source=J}return Na}});Fa.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",
type:"boolean","default":!1},{name:"as",type:"string","default":"bin"}]};q.inherits(Fa,R.Transform,{transform(J,ja){if(this.value&&!J.modified()&&!ja.changed())return ja;var Na=ja.materialize(ja.SOURCE).source;const mb=Va(ja.source,J.groupby,q.identity),Gb=J.smooth||!1,lb=J.field;Na=J.step||q.span(q.extent(Na,lb))/30;const Xb=R.stableCompare((dc,hc)=>lb(dc)-lb(hc));J=J.as||"bin";const Rb=mb.length;let ra=Infinity,Ra=-Infinity,rb=0,Mb;for(;rb<Rb;++rb){const dc=mb[rb].sort(Xb);Mb=-1;for(const hc of Ma.dotbin(dc,
Na,Gb,lb))hc<ra&&(ra=hc),hc>Ra&&(Ra=hc),dc[++Mb][J]=hc}this.value={start:ra,stop:Ra,step:Na};return ja.reflow(!0).modifies(J)}});q.inherits(E,R.Operator);F.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};q.inherits(F,R.Transform,{transform(J,ja){var Na=this.value;const mb=J.field;J=ja.changed()||ja.modified(mb.fields)||J.modified("field");let Gb=Na[0],lb=Na[1];if(J||null==Gb)Gb=Infinity,lb=-Infinity;ja.visit(J?ja.SOURCE:ja.ADD,Xb=>{Xb=q.toNumber(mb(Xb));null!=
Xb&&(Xb<Gb&&(Gb=Xb),Xb>lb&&(lb=Xb))});Number.isFinite(Gb)&&Number.isFinite(lb)||((Na=q.accessorName(mb))&&(Na=` for field "${Na}"`),ja.dataflow.warn(`Infinite extent${Na}: [${Gb}, ${lb}]`),Gb=lb=void 0);this.value=[Gb,lb]}});q.inherits(Z,R.Operator,{connect(J){this.detachSubflow=J.detachSubflow;this.targets().add(J);return J.source=this},add(J){this.count+=1;this.value.add.push(J)},rem(J){--this.count;this.value.rem.push(J)},mod(J){this.value.mod.push(J)},init(J){this.value.init(J,J.NO_SOURCE)},evaluate(){return this.value}});
q.inherits(D,R.Transform,{activate(J){this._targets[this._targets.active++]=J},subflow(J,ja,Na,mb){const Gb=this.value;let lb=q.hasOwnProperty(Gb,J)&&Gb[J],Xb;lb?lb.value.stamp<Na.stamp&&(lb.init(Na),this.activate(lb)):(Xb=mb||(Xb=this._group[J])&&Xb.tuple,mb=Na.dataflow,lb=new Z(Na.fork(Na.NO_SOURCE),this),mb.add(lb).connect(ja(mb,J,Xb)),Gb[J]=lb,this.activate(lb));return lb},clean(){const J=this.value;for(const ja in J)if(0===J[ja].count){const Na=J[ja].detachSubflow;Na&&Na();delete J[ja]}},initTargets(){const J=
this._targets,ja=J.length;for(let Na=0;Na<ja&&null!=J[Na];++Na)J[Na]=null;J.active=0},transform(J,ja){const Na=ja.dataflow,mb=J.key,Gb=J.subflow,lb=this._keys,Xb=J.modified("key"),Rb=ra=>this.subflow(ra,Gb,ja);this._group=J.group||{};this.initTargets();ja.visit(ja.REM,ra=>{const Ra=R.tupleid(ra),rb=lb.get(Ra);void 0!==rb&&(lb.delete(Ra),Rb(rb).rem(ra))});ja.visit(ja.ADD,ra=>{const Ra=mb(ra);lb.set(R.tupleid(ra),Ra);Rb(Ra).add(ra)});Xb||ja.modified(mb.fields)?ja.visit(ja.MOD,ra=>{const Ra=R.tupleid(ra),
rb=lb.get(Ra),Mb=mb(ra);rb===Mb?Rb(Mb).mod(ra):(lb.set(Ra,Mb),Rb(rb).rem(ra),Rb(Mb).add(ra))}):ja.changed(ja.MOD)&&ja.visit(ja.MOD,ra=>{Rb(lb.get(R.tupleid(ra))).mod(ra)});Xb&&ja.visit(ja.REFLOW,ra=>{const Ra=R.tupleid(ra),rb=lb.get(Ra),Mb=mb(ra);rb!==Mb&&(lb.set(Ra,Mb),Rb(rb).rem(ra),Rb(Mb).add(ra))});ja.clean()?Na.runAfter(()=>{this.clean();lb.clean()}):lb.empty>Na.cleanThreshold&&Na.runAfter(lb.clean);return ja}});q.inherits(P,R.Operator);Y.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",
type:"expr",required:!0}]};q.inherits(Y,R.Transform,{transform(J,ja){function Na(Mb){const dc=R.tupleid(Mb),hc=Ra(Mb,J),sc=Gb.get(dc);hc&&sc?(Gb.delete(dc),Xb.push(Mb)):hc||sc?rb&&hc&&!sc&&ra.push(Mb):(Gb.set(dc,1),Rb.push(Mb))}const mb=ja.dataflow,Gb=this.value,lb=ja.fork(),Xb=lb.add,Rb=lb.rem,ra=lb.mod,Ra=J.expr;let rb=!0;ja.visit(ja.REM,Mb=>{const dc=R.tupleid(Mb);Gb.has(dc)?Gb.delete(dc):Rb.push(Mb)});ja.visit(ja.ADD,Mb=>{Ra(Mb,J)?Xb.push(Mb):Gb.set(R.tupleid(Mb),1)});ja.visit(ja.MOD,Na);J.modified()&&
(rb=!1,ja.visit(ja.REFLOW,Na));Gb.empty>mb.cleanThreshold&&mb.runAfter(Gb.clean);return lb}});ua.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};q.inherits(ua,R.Transform,{transform(J,ja){const Na=ja.fork(ja.NO_SOURCE),mb=J.fields,Gb=Ha(mb,J.as||[]),lb=J.index||null,Xb=Gb.length;Na.rem=this.value;ja.visit(ja.SOURCE,Rb=>{const ra=mb.map(sc=>sc(Rb)),Ra=ra.reduce((sc,sb)=>Math.max(sc,
sb.length),0);let rb=0,Mb,dc,hc;for(;rb<Ra;++rb){dc=R.derive(Rb);for(Mb=0;Mb<Xb;++Mb)dc[Gb[Mb]]=null==(hc=ra[Mb][rb])?null:hc;lb&&(dc[lb]=rb);Na.add.push(dc)}});this.value=Na.source=Na.add;lb&&Na.modifies(lb);return Na.modifies(Gb)}});Ga.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,"default":["key","value"]}]};q.inherits(Ga,R.Transform,{transform(J,ja){const Na=ja.fork(ja.NO_SOURCE),mb=J.fields,
Gb=mb.map(q.accessorName);J=J.as||["key","value"];const lb=J[0],Xb=J[1],Rb=mb.length;Na.rem=this.value;ja.visit(ja.SOURCE,ra=>{for(let Ra=0,rb;Ra<Rb;++Ra)rb=R.derive(ra),rb[lb]=Gb[Ra],rb[Xb]=mb[Ra](ra),Na.add.push(rb)});this.value=Na.source=Na.add;return Na.modifies(J)}});G.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};q.inherits(G,R.Transform,{transform(J,ja){const Na=J.expr,
mb=J.as,Gb=J.modified(),lb=J.initonly?ja.ADD:Gb?ja.SOURCE:ja.modified(Na.fields)||ja.modified(mb)?ja.ADD_MOD:ja.ADD;Gb&&(ja=ja.materialize().reflow(!0));J.initonly||ja.modifies(mb);return ja.visit(lb,Xb=>Xb[mb]=Na(Xb,J))}});q.inherits(ca,R.Transform,{transform(J,ja){ja=ja.fork(ja.ALL);const Na=J.generator;let mb=this.value,Gb=J.size-mb.length,lb,Xb;if(0<Gb){for(lb=[];0<=--Gb;)lb.push(Xb=R.ingest(Na(J))),mb.push(Xb);ja.add=ja.add.length?ja.materialize(ja.ADD).add.concat(lb):lb}else J=mb.slice(0,-Gb),
ja.rem=ja.rem.length?ja.materialize(ja.REM).rem.concat(J):J,mb=mb.slice(-Gb);ja.source=this.value=mb;return ja}});const Gc={value:"value",median:Fb.median,mean:Fb.mean,min:Fb.min,max:Fb.max},ke=[];ba.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum","default":"value",values:["value","mean","median","max","min"]},{name:"value",
"default":0}]};q.inherits(ba,R.Transform,{transform(J,ja){var Na=ja.fork(ja.ALL),mb=V(J),Gb=H(J),lb=q.accessorName(J.field),Xb=q.accessorName(J.key),Rb=(J.groupby||[]).map(q.accessorName);J=p(ja.source,J.groupby,J.key,J.keyvals);ja=[];var ra=this.value,Ra=J.domain.length,rb,Mb,dc;var hc=0;for(Mb=J.length;hc<Mb;++hc){var sc=J[hc];var sb=sc.values;var gc=NaN;for(rb=0;rb<Ra;++rb)if(null==sc[rb]){var ic=J.domain[rb];var Yb={_impute:!0};var lc=0;for(dc=sb.length;lc<dc;++lc)Yb[Rb[lc]]=sb[lc];Yb[Xb]=ic;
Yb[lb]=Number.isNaN(gc)?gc=mb(sc,Gb):gc;ja.push(R.ingest(Yb))}}ja.length&&(Na.add=Na.materialize(Na.ADD).add.concat(ja));ra.length&&(Na.rem=Na.materialize(Na.REM).rem.concat(ra));this.value=ja;return Na}});h.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"ops",type:"enum",array:!0,values:Ic},{name:"as",type:"string","null":!0,array:!0},{name:"key",type:"field"}]};q.inherits(h,na,{transform(J,
ja){const Na=this,mb=J.modified();let Gb;Na.value&&(mb||ja.modified(Na._inputs,!0))?(Gb=Na.value=mb?Na.init(J):{},ja.visit(ja.SOURCE,lb=>Na.add(lb))):(Gb=Na.value=Na.value||this.init(J),ja.visit(ja.REM,lb=>Na.rem(lb)),ja.visit(ja.ADD,lb=>Na.add(lb)));Na.changes();ja.visit(ja.SOURCE,lb=>{q.extend(lb,Gb[Na.cellkey(lb)].tuple)});return ja.reflow(mb).modifies(this._outputs)},changes(){const J=this._adds,ja=this._mods;let Na,mb;Na=0;for(mb=this._alen;Na<mb;++Na)this.celltuple(J[Na]),J[Na]=null;Na=0;for(mb=
this._mlen;Na<mb;++Na)this.celltuple(ja[Na]),ja[Na]=null;this._alen=this._mlen=0}});m.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean","default":!1},{name:"counts",type:"boolean","default":!1},{name:"bandwidth",type:"number","default":0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"steps",
type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"as",type:"string",array:!0,"default":["value","density"]}]};q.inherits(m,R.Transform,{transform(J,ja){const Na=ja.fork(ja.NO_SOURCE|ja.NO_FIELDS);if(!this.value||ja.changed()||J.modified()){ja=ja.materialize(ja.SOURCE).source;const mb=Va(ja,J.groupby,J.field),Gb=(J.groupby||[]).map(q.accessorName),lb=J.bandwidth,Xb=J.cumulative?"cdf":"pdf",Rb=J.as||["value","density"],ra=[];let Ra=J.extent,
rb=J.steps||J.minsteps||25,Mb=J.steps||J.maxsteps||200;"pdf"!==Xb&&"cdf"!==Xb&&q.error("Invalid density method: "+Xb);"shared"===J.resolve&&(Ra||(Ra=q.extent(ja,J.field)),rb=Mb=J.steps||Mb);mb.forEach(dc=>{const hc=Ma.randomKDE(dc,lb)[Xb],sc=J.counts?dc.length:1,sb=Ra||q.extent(dc);Ma.sampleCurve(hc,sb,rb,Mb).forEach(gc=>{const ic={};for(let Yb=0;Yb<Gb.length;++Yb)ic[Gb[Yb]]=dc.dims[Yb];ic[Rb[0]]=gc[0];ic[Rb[1]]=gc[1]*sc;ra.push(R.ingest(ic))})});this.value&&(Na.rem=this.value);this.value=Na.add=
Na.source=ra}return Na}});q.inherits(n,R.Operator);q.inherits(x,R.Transform,{transform(J,ja){const Na=ja.dataflow;return this._pending?ia(this,ja,this._pending):L(J)?ja.StopPropagation:J.values?ia(this,ja,Na.parse(J.values,J.format)):J.async?{async:Na.request(J.url,J.format).then(mb=>{this._pending=q.array(mb.data);return Gb=>Gb.touch(this)})}:Na.request(J.url,J.format).then(mb=>ia(this,ja,q.array(mb.data)))}});xa.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",
params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default","default":null}]};q.inherits(xa,R.Transform,{transform(J,ja){const Na=J.fields,mb=J.index,Gb=J.values,lb=null==J.default?null:J.default;var Xb=J.modified();const Rb=Na.length;let ra=Xb?ja.SOURCE:ja.ADD,Ra=ja,rb=J.as,Mb;Gb?(Mb=Gb.length,1<Rb&&!rb&&q.error('Multi-field lookup requires explicit "as" parameter.'),
rb&&rb.length!==Rb*Mb&&q.error('The "as" parameter has too few output field names.'),rb=rb||Gb.map(q.accessorName),J=function(dc){for(var hc=0,sc=0,sb,gc;hc<Rb;++hc)if(gc=mb.get(Na[hc](dc)),null==gc)for(sb=0;sb<Mb;++sb,++sc)dc[rb[sc]]=lb;else for(sb=0;sb<Mb;++sb,++sc)dc[rb[sc]]=Gb[sb](gc)}):(rb||q.error("Missing output field names."),J=function(dc){for(var hc=0,sc;hc<Rb;++hc)sc=mb.get(Na[hc](dc)),dc[rb[hc]]=null==sc?lb:sc});Xb?Ra=ja.reflow(!0):(Xb=Na.some(dc=>ja.modified(dc.fields)),ra|=Xb?ja.MOD:
0);ja.visit(ra,J);return Ra.modifies(rb)}});q.inherits(Wa,R.Operator);q.inherits(fb,R.Operator);q.inherits(T,R.Transform,{transform(J,ja){this.modified(J.modified());this.value=J;return ja.fork(ja.NO_SOURCE|ja.NO_FIELDS)}});da.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:Ic,"default":"sum"},{name:"limit",type:"number","default":0},
{name:"key",type:"field"}]};q.inherits(da,na,{_transform:na.prototype.transform,transform(J,ja){return this._transform(Xa(J,ja),ja)}});q.inherits(Pb,D,{transform(J,ja){const Na=J.subflow,mb=J.field,Gb=lb=>this.subflow(R.tupleid(lb),Na,ja,lb);(J.modified("field")||mb&&ja.modified(q.accessorFields(mb)))&&q.error("PreFacet does not support field modification.");this.initTargets();mb?(ja.visit(ja.MOD,lb=>{const Xb=Gb(lb);mb(lb).forEach(Rb=>Xb.mod(Rb))}),ja.visit(ja.ADD,lb=>{const Xb=Gb(lb);mb(lb).forEach(Rb=>
Xb.add(R.ingest(Rb)))}),ja.visit(ja.REM,lb=>{const Xb=Gb(lb);mb(lb).forEach(Rb=>Xb.rem(Rb))})):(ja.visit(ja.MOD,lb=>Gb(lb).mod(lb)),ja.visit(ja.ADD,lb=>Gb(lb).add(lb)),ja.visit(ja.REM,lb=>Gb(lb).rem(lb)));ja.clean()&&ja.runAfter(()=>this.clean());return ja}});bc.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string","null":!0,array:!0}]};q.inherits(bc,R.Transform,{transform(J,ja){const Na=ja.fork(ja.NO_SOURCE),mb=J.fields,
Gb=Ha(J.fields,J.as||[]),lb=mb?(Rb,ra)=>{for(let Ra=0,rb=mb.length;Ra<rb;++Ra)ra[Gb[Ra]]=mb[Ra](Rb);return ra}:R.rederive;let Xb;this.value?Xb=this.value:(ja=ja.addAll(),Xb=this.value={});ja.visit(ja.REM,Rb=>{Rb=R.tupleid(Rb);Na.rem.push(Xb[Rb]);Xb[Rb]=null});ja.visit(ja.ADD,Rb=>{const ra=lb(Rb,R.ingest({}));Xb[R.tupleid(Rb)]=ra;Na.add.push(ra)});ja.visit(ja.MOD,Rb=>{Na.mod.push(lb(Rb,Xb[R.tupleid(Rb)]))});return Na}});q.inherits(Uc,R.Transform,{transform(J,ja){this.value=J.value;return J.modified("value")?
ja.fork(ja.NO_SOURCE|ja.NO_FIELDS):ja.StopPropagation}});yc.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number","default":.01},{name:"as",type:"string",array:!0,"default":["prob","value"]}]};q.inherits(yc,R.Transform,{transform(J,ja){const Na=ja.fork(ja.NO_SOURCE|ja.NO_FIELDS),mb=J.as||["prob","value"];if(this.value&&!J.modified()&&!ja.changed())return Na.source=
this.value,Na;ja=ja.materialize(ja.SOURCE).source;ja=Va(ja,J.groupby,J.field);const Gb=(J.groupby||[]).map(q.accessorName),lb=[],Xb=J.step||.01,Rb=J.probs||Fb.range(Xb/2,1-1E-14,Xb),ra=Rb.length;ja.forEach(Ra=>{const rb=Ma.quantiles(Ra,Rb);for(let Mb=0;Mb<ra;++Mb){const dc={};for(let hc=0;hc<Gb.length;++hc)dc[Gb[hc]]=Ra.dims[hc];dc[mb[0]]=Rb[Mb];dc[mb[1]]=rb[Mb];lb.push(R.ingest(dc))}});this.value&&(Na.rem=this.value);this.value=Na.add=Na.source=lb;return Na}});q.inherits(Vc,R.Transform,{transform(J,
ja){let Na,mb;this.value?mb=this.value:(Na=ja=ja.addAll(),mb=this.value={});J.derive&&(Na=ja.fork(ja.NO_SOURCE),ja.visit(ja.REM,Gb=>{Gb=R.tupleid(Gb);Na.rem.push(mb[Gb]);mb[Gb]=null}),ja.visit(ja.ADD,Gb=>{const lb=R.derive(Gb);mb[R.tupleid(Gb)]=lb;Na.add.push(lb)}),ja.visit(ja.MOD,Gb=>{const lb=mb[R.tupleid(Gb)];for(const Xb in Gb)lb[Xb]=Gb[Xb],Na.modifies(Xb);Na.mod.push(lb)}));return Na}});ya.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number","default":1E3}]};q.inherits(ya,
R.Transform,{transform(J,ja){function Na(rb){let Mb,dc;Rb.length<lb?Rb.push(rb):(dc=~~((ra+1)*Ma.random()),dc<Rb.length&&dc>=Ra&&(Mb=Rb[dc],Xb[R.tupleid(Mb)]&&mb.rem.push(Mb),Rb[dc]=rb));++ra}const mb=ja.fork(ja.NO_SOURCE);var Gb=J.modified("size");const lb=J.size,Xb=this.value.reduce((rb,Mb)=>(rb[R.tupleid(Mb)]=1,rb),{});let Rb=this.value,ra=this.count,Ra=0;ja.rem.length&&(ja.visit(ja.REM,rb=>{const Mb=R.tupleid(rb);Xb[Mb]&&(Xb[Mb]=-1,mb.rem.push(rb));--ra}),Rb=Rb.filter(rb=>-1!==Xb[R.tupleid(rb)]));
(ja.rem.length||Gb)&&Rb.length<lb&&ja.source&&(Ra=ra=Rb.length,ja.visit(ja.SOURCE,rb=>{Xb[R.tupleid(rb)]||Na(rb)}),Ra=-1);if(Gb&&Rb.length>lb){J=Rb.length-lb;for(Gb=0;Gb<J;++Gb)Xb[R.tupleid(Rb[Gb])]=-1,mb.rem.push(Rb[Gb]);Rb=Rb.slice(J)}ja.mod.length&&ja.visit(ja.MOD,rb=>{Xb[R.tupleid(rb)]&&mb.mod.push(rb)});ja.add.length&&ja.visit(ja.ADD,Na);if(ja.add.length||0>Ra)mb.add=Rb.filter(rb=>!Xb[R.tupleid(rb)]);this.count=ra;this.value=mb.source=Rb;return mb}});Nb.Definition={type:"Sequence",metadata:{generates:!0,
changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number","default":1},{name:"as",type:"string","default":"data"}]};q.inherits(Nb,R.Transform,{transform(J,ja){if(!this.value||J.modified()){var Na=ja.materialize().fork(ja.MOD),mb=J.as||"data";Na.rem=this.value?ja.rem.concat(this.value):ja.rem;this.value=Fb.range(J.start,J.stop,J.step||1).map(Gb=>{const lb={};lb[mb]=Gb;return R.ingest(lb)});Na.add=ja.add.concat(this.value);return Na}}});
q.inherits(Sb,R.Transform,{transform(J,ja){this.value=ja.source;return ja.changed()?ja.fork(ja.NO_SOURCE|ja.NO_FIELDS):ja.StopPropagation}});const ge=["unit0","unit1"];Zb.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"units",type:"enum",values:Ja.TIME_UNITS,array:!0},{name:"step",type:"number","default":1},{name:"maxbins",type:"number","default":40},{name:"extent",type:"date",array:!0},{name:"timezone",
type:"enum","default":"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,"default":ge}]};q.inherits(Zb,R.Transform,{transform(J,ja){const Na=J.field,mb=!1!==J.interval;var Gb="utc"===J.timezone;const lb=this._floor(J,ja),Xb=(Gb?Ja.utcInterval:Ja.timeInterval)(lb.unit).offset;Gb=J.as||ge;const Rb=Gb[0],ra=Gb[1],Ra=lb.step;let rb=lb.start||Infinity,Mb=lb.stop||-Infinity,dc=ja.ADD;if(J.modified()||ja.modified(q.accessorFields(Na)))ja=ja.reflow(!0),dc=ja.SOURCE,rb=Infinity,Mb=
-Infinity;ja.visit(dc,hc=>{var sc=Na(hc);let sb;null==sc?(hc[Rb]=null,mb&&(hc[ra]=null)):(hc[Rb]=sc=sb=lb(sc),mb&&(hc[ra]=sb=Xb(sc,Ra)),sc<rb&&(rb=sc),sb>Mb&&(Mb=sb))});lb.start=rb;lb.stop=Mb;return ja.modifies(mb?Gb:Rb)},_floor(J,ja){var Na="utc"===J.timezone;const {units:mb,step:Gb}=J.units?{units:J.units,step:J.step||1}:Ja.timeBin({extent:J.extent||q.extent(ja.materialize(ja.SOURCE).source,J.field),maxbins:J.maxbins});J=Ja.timeUnits(mb);ja=this.value||{};Na=(Na?Ja.utcFloor:Ja.timeFloor)(J,Gb);
Na.unit=q.peek(J);Na.units=J;Na.step=Gb;Na.start=ja.start;Na.stop=ja.stop;return this.value=Na}});q.inherits(uc,R.Transform,{transform(J,ja){const Na=ja.dataflow,mb=J.field,Gb=this.value,lb=Rb=>Gb.set(mb(Rb),Rb);let Xb=!0;J.modified("field")||ja.modified(mb.fields)?(Gb.clear(),ja.visit(ja.SOURCE,lb)):ja.changed()?(ja.visit(ja.REM,Rb=>Gb.delete(mb(Rb))),ja.visit(ja.ADD,lb)):Xb=!1;this.modified(Xb);Gb.empty>Na.cleanThreshold&&Na.runAfter(Gb.clean);return ja.fork()}});q.inherits(cc,R.Transform,{transform(J,
ja){if(!this.value||J.modified("field")||J.modified("sort")||ja.changed()||J.sort&&ja.modified(J.sort.fields))this.value=(J.sort?ja.source.slice().sort(R.stableCompare(J.sort)):ja.source).map(J.field)}});const Ke={row_number:function(){return{next:J=>J.index+1}},rank:function(){let J;return{init:()=>J=1,next:ja=>{const Na=ja.index,mb=ja.data;return Na&&ja.compare(mb[Na-1],mb[Na])?J=Na+1:J}}},dense_rank:function(){let J;return{init:()=>J=1,next:ja=>{const Na=ja.index,mb=ja.data;return Na&&ja.compare(mb[Na-
1],mb[Na])?++J:J}}},percent_rank:function(){const J=Ke.rank(),ja=J.next;return{init:J.init,next:Na=>(ja(Na)-1)/(Na.data.length-1)}},cume_dist:function(){let J;return{init:()=>J=0,next:ja=>{const Na=ja.data,mb=ja.compare;ja=ja.index;if(J<ja){for(;ja+1<Na.length&&!mb(Na[ja],Na[ja+1]);)++ja;J=ja}return(1+J)/Na.length}}},ntile:function(J,ja){ja=+ja;0<ja||q.error("ntile num must be greater than zero.");J=Ke.cume_dist();const Na=J.next;return{init:J.init,next:mb=>Math.ceil(ja*Na(mb))}},lag:function(J,ja){ja=
+ja||1;return{next:Na=>{const mb=Na.index-ja;return 0<=mb?J(Na.data[mb]):null}}},lead:function(J,ja){ja=+ja||1;return{next:Na=>{const mb=Na.index+ja;Na=Na.data;return mb<Na.length?J(Na[mb]):null}}},first_value:function(J){return{next:ja=>J(ja.data[ja.i0])}},last_value:function(J){return{next:ja=>J(ja.data[ja.i1-1])}},nth_value:function(J,ja){ja=+ja;0<ja||q.error("nth_value nth must be greater than zero.");return{next:Na=>{const mb=Na.i0+(ja-1);return mb<Na.i1?J(Na.data[mb]):null}}},prev_value:function(J){let ja;
return{init:()=>ja=null,next:Na=>{Na=J(Na.data[Na.index]);return null!=Na?ja=Na:ja}}},next_value:function(J){let ja,Na;return{init:()=>(ja=null,Na=-1),next:mb=>{var Gb=mb.data;if(mb.index<=Na)Gb=ja;else{a:{mb=mb.index;for(let lb=Gb.length;mb<lb;++mb)if(null!=J(Gb[mb]))break a;mb=-1}Gb=0>(Na=mb)?(Na=Gb.length,ja=null):ja=J(Gb[Na])}return Gb}}}};tb=Object.keys(Ke);const Ye=Kb.prototype;Ye.init=function(){this.windows.forEach(J=>J.init());this.cell&&this.cell.init()};Ye.update=function(J,ja){const Na=
this.cell,mb=this.windows,Gb=J.data,lb=mb&&mb.length;let Xb;if(Na){for(Xb=J.p0;Xb<J.i0;++Xb)Na.rem(Gb[Xb]);for(Xb=J.p1;Xb<J.i1;++Xb)Na.add(Gb[Xb]);Na.set(ja)}for(Xb=0;Xb<lb;++Xb)mb[Xb].update(J,ja)};Nc.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:tb.concat(Ic)},{name:"params",type:"number","null":!0,array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string",
"null":!0,array:!0},{name:"frame",type:"number","null":!0,array:!0,length:2,"default":[null,0]},{name:"ignorePeers",type:"boolean","default":!1}]};q.inherits(Nc,R.Transform,{transform(J,ja){this.stamp=ja.stamp;const Na=J.modified(),mb=R.stableCompare(J.sort),Gb=Bb(J.groupby),lb=Rb=>this.group(Gb(Rb));let Xb=this.state;if(!Xb||Na)Xb=this.state=new Kb(J);Na||ja.modified(Xb.inputs)?(this.value={},ja.visit(ja.SOURCE,Rb=>lb(Rb).add(Rb))):(ja.visit(ja.REM,Rb=>lb(Rb).remove(Rb)),ja.visit(ja.ADD,Rb=>lb(Rb).add(Rb)));
for(let Rb=0,ra=this._mlen;Rb<ra;++Rb)dd(this._mods[Rb],Xb,mb,J);this._mlen=0;this._mods=[];return ja.reflow(Na).modifies(Xb.outputs)},group(J){let ja=this.value[J];ja||(ja=this.value[J]=Ta(R.tupleid),ja.stamp=-1);ja.stamp<this.stamp&&(ja.stamp=this.stamp,this._mods[this._mlen++]=ja);return ja}});k.aggregate=na;k.bin=qa;k.collect=ta;k.compare=Qa;k.countpattern=S;k.cross=la;k.density=Da;k.dotbin=Fa;k.expression=E;k.extent=F;k.facet=D;k.field=P;k.filter=Y;k.flatten=ua;k.fold=Ga;k.formula=G;k.generate=
ca;k.impute=ba;k.joinaggregate=h;k.kde=m;k.key=n;k.load=x;k.lookup=xa;k.multiextent=Wa;k.multivalues=fb;k.params=T;k.pivot=da;k.prefacet=Pb;k.project=bc;k.proxy=Uc;k.quantile=yc;k.relay=Vc;k.sample=ya;k.sequence=Nb;k.sieve=Sb;k.subflow=Z;k.timeunit=Zb;k.tupleindex=uc;k.values=cc;k.window=Nc;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[30]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb):"function"===typeof define&&define.amd?define(["exports"],q):(k=k||self,q(k.d3=k.d3||{}))})(this,function(k){function q(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function R(){return new q}const Ma=Math.PI,Fb=2*Ma,Ja=Fb-1E-6;q.prototype=R.prototype={constructor:q,moveTo:function(db,Bb){this._+="M"+(this._x0=this._x1=+db)+","+(this._y0=this._y1=+Bb)},closePath:function(){null!==this._x1&&
(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(db,Bb){this._+="L"+(this._x1=+db)+","+(this._y1=+Bb)},quadraticCurveTo:function(db,Bb,jb,Ea){this._+="Q"+ +db+","+ +Bb+","+(this._x1=+jb)+","+(this._y1=+Ea)},bezierCurveTo:function(db,Bb,jb,Ea,ab,bb){this._+="C"+ +db+","+ +Bb+","+ +jb+","+ +Ea+","+(this._x1=+ab)+","+(this._y1=+bb)},arcTo:function(db,Bb,jb,Ea,ab){db=+db;Bb=+Bb;jb=+jb;Ea=+Ea;ab=+ab;var bb=this._x1,Ca=this._y1,ma=jb-db,oa=Ea-Bb,Ia=bb-db,Ua=Ca-Bb,na=Ia*Ia+Ua*Ua;if(0>ab)throw Error("negative radius: "+
ab);if(null===this._x1)this._+="M"+(this._x1=db)+","+(this._y1=Bb);else if(1E-6<na)if(1E-6<Math.abs(Ua*ma-oa*Ia)&&ab){jb-=bb;Ea-=Ca;var qa=ma*ma+oa*oa;Ca=Math.sqrt(qa);bb=Math.sqrt(na);na=ab*Math.tan((Ma-Math.acos((qa+na-(jb*jb+Ea*Ea))/(2*Ca*bb)))/2);bb=na/bb;na/=Ca;1E-6<Math.abs(bb-1)&&(this._+="L"+(db+bb*Ia)+","+(Bb+bb*Ua));this._+="A"+ab+","+ab+",0,0,"+ +(Ua*jb>Ia*Ea)+","+(this._x1=db+na*ma)+","+(this._y1=Bb+na*oa)}else this._+="L"+(this._x1=db)+","+(this._y1=Bb)},arc:function(db,Bb,jb,Ea,ab,bb){db=
+db;Bb=+Bb;jb=+jb;bb=!!bb;var Ca=jb*Math.cos(Ea),ma=jb*Math.sin(Ea),oa=db+Ca,Ia=Bb+ma,Ua=1^bb;Ea=bb?Ea-ab:ab-Ea;if(0>jb)throw Error("negative radius: "+jb);if(null===this._x1)this._+="M"+oa+","+Ia;else if(1E-6<Math.abs(this._x1-oa)||1E-6<Math.abs(this._y1-Ia))this._+="L"+oa+","+Ia;jb&&(0>Ea&&(Ea=Ea%Fb+Fb),Ea>Ja?this._+="A"+jb+","+jb+",0,1,"+Ua+","+(db-Ca)+","+(Bb-ma)+"A"+jb+","+jb+",0,1,"+Ua+","+(this._x1=oa)+","+(this._y1=Ia):1E-6<Ea&&(this._+="A"+jb+","+jb+",0,"+ +(Ea>=Ma)+","+Ua+","+(this._x1=
db+jb*Math.cos(ab))+","+(this._y1=Bb+jb*Math.sin(ab))))},rect:function(db,Bb,jb,Ea){this._+="M"+(this._x0=this._x1=+db)+","+(this._y0=this._y1=+Bb)+"h"+ +jb+"v"+ +Ea+"h"+-jb+"Z"},toString:function(){return this._}};k.path=R;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[31]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb,Vb(30)):"function"===typeof define&&define.amd?define(["exports","d3-path"],q):(k=k||self,q(k.d3=k.d3||{},k.d3))})(this,function(k,q){function R(ra){return function(){return ra}}function Ma(ra){return 1<=ra?Sb:-1>=ra?-Sb:Math.asin(ra)}function Fb(ra){return ra.innerRadius}function Ja(ra){return ra.outerRadius}function db(ra){return ra.startAngle}function Bb(ra){return ra.endAngle}function jb(ra){return ra&&
ra.padAngle}function Ea(ra,Ra,rb,Mb,dc,hc,sc){var sb=ra-rb,gc=Ra-Mb;sc=(sc?hc:-hc)/ya(sb*sb+gc*gc);gc*=sc;sb*=-sc;var ic=ra+gc,Yb=Ra+sb,lc=rb+gc,Ec=Mb+sb;rb=(ic+lc)/2;Mb=(Yb+Ec)/2;Ra=lc-ic;ra=Ec-Yb;sc=Ra*Ra+ra*ra;hc=dc-hc;Ec=ic*Ec-lc*Yb;var Cc=(0>ra?-1:1)*ya(Uc(0,hc*hc*sc-Ec*Ec));ic=(Ec*ra-Ra*Cc)/sc;Yb=(-Ec*Ra-ra*Cc)/sc;lc=(Ec*ra+Ra*Cc)/sc;Ra=(-Ec*Ra+ra*Cc)/sc;ra=ic-rb;sc=Yb-Mb;rb=lc-rb;Mb=Ra-Mb;ra*ra+sc*sc>rb*rb+Mb*Mb&&(ic=lc,Yb=Ra);return{cx:ic,cy:Yb,x01:-gc,y01:-sb,x11:ic*(dc/hc-1),y11:Yb*(dc/
hc-1)}}function ab(ra){return"object"===typeof ra&&"length"in ra?ra:Array.from(ra)}function bb(ra){this._context=ra}function Ca(ra){return new bb(ra)}function ma(ra){return ra[0]}function oa(ra){return ra[1]}function Ia(ra,Ra){function rb(sb){var gc,ic=(sb=ab(sb)).length,Yb,lc=!1,Ec;null==dc&&(sc=hc(Ec=q.path()));for(gc=0;gc<=ic;++gc)!(gc<ic&&Mb(Yb=sb[gc],gc,sb))===lc&&((lc=!lc)?sc.lineStart():sc.lineEnd()),lc&&sc.point(+ra(Yb,gc,sb),+Ra(Yb,gc,sb));if(Ec)return sc=null,Ec+""||null}var Mb=R(!0),dc=
null,hc=Ca,sc=null;ra="function"===typeof ra?ra:void 0===ra?ma:R(ra);Ra="function"===typeof Ra?Ra:void 0===Ra?oa:R(Ra);rb.x=function(sb){return arguments.length?(ra="function"===typeof sb?sb:R(+sb),rb):ra};rb.y=function(sb){return arguments.length?(Ra="function"===typeof sb?sb:R(+sb),rb):Ra};rb.defined=function(sb){return arguments.length?(Mb="function"===typeof sb?sb:R(!!sb),rb):Mb};rb.curve=function(sb){return arguments.length?(hc=sb,null!=dc&&(sc=hc(dc)),rb):hc};rb.context=function(sb){return arguments.length?
(null==sb?dc=sc=null:sc=hc(dc=sb),rb):dc};return rb}function Ua(ra,Ra,rb){function Mb(Yb){var lc,Ec,Cc=(Yb=ab(Yb)).length,id,jd=!1,qd,ud=Array(Cc),be=Array(Cc);null==sb&&(ic=gc(qd=q.path()));for(lc=0;lc<=Cc;++lc){if(!(lc<Cc&&sc(id=Yb[lc],lc,Yb))===jd)if(jd=!jd){var Yd=lc;ic.areaStart();ic.lineStart()}else{ic.lineEnd();ic.lineStart();for(Ec=lc-1;Ec>=Yd;--Ec)ic.point(ud[Ec],be[Ec]);ic.lineEnd();ic.areaEnd()}jd&&(ud[lc]=+ra(id,lc,Yb),be[lc]=+Ra(id,lc,Yb),ic.point(hc?+hc(id,lc,Yb):ud[lc],rb?+rb(id,lc,
Yb):be[lc]))}if(qd)return ic=null,qd+""||null}function dc(){return Ia().defined(sc).curve(gc).context(sb)}var hc=null,sc=R(!0),sb=null,gc=Ca,ic=null;ra="function"===typeof ra?ra:void 0===ra?ma:R(+ra);Ra="function"===typeof Ra?Ra:void 0===Ra?R(0):R(+Ra);rb="function"===typeof rb?rb:void 0===rb?oa:R(+rb);Mb.x=function(Yb){return arguments.length?(ra="function"===typeof Yb?Yb:R(+Yb),hc=null,Mb):ra};Mb.x0=function(Yb){return arguments.length?(ra="function"===typeof Yb?Yb:R(+Yb),Mb):ra};Mb.x1=function(Yb){return arguments.length?
(hc=null==Yb?null:"function"===typeof Yb?Yb:R(+Yb),Mb):hc};Mb.y=function(Yb){return arguments.length?(Ra="function"===typeof Yb?Yb:R(+Yb),rb=null,Mb):Ra};Mb.y0=function(Yb){return arguments.length?(Ra="function"===typeof Yb?Yb:R(+Yb),Mb):Ra};Mb.y1=function(Yb){return arguments.length?(rb=null==Yb?null:"function"===typeof Yb?Yb:R(+Yb),Mb):rb};Mb.lineX0=Mb.lineY0=function(){return dc().x(ra).y(Ra)};Mb.lineY1=function(){return dc().x(ra).y(rb)};Mb.lineX1=function(){return dc().x(hc).y(Ra)};Mb.defined=
function(Yb){return arguments.length?(sc="function"===typeof Yb?Yb:R(!!Yb),Mb):sc};Mb.curve=function(Yb){return arguments.length?(gc=Yb,null!=sb&&(ic=gc(sb)),Mb):gc};Mb.context=function(Yb){return arguments.length?(null==Yb?sb=ic=null:ic=gc(sb=Yb),Mb):sb};return Mb}function na(ra,Ra){return Ra<ra?-1:Ra>ra?1:Ra>=ra?0:NaN}function qa(ra){return ra}function Ta(ra){this._curve=ra}function ta(ra){function Ra(rb){return new Ta(ra(rb))}Ra._curve=ra;return Ra}function Qa(ra){var Ra=ra.curve;ra.angle=ra.x;
delete ra.x;ra.radius=ra.y;delete ra.y;ra.curve=function(rb){return arguments.length?Ra(ta(rb)):Ra()._curve};return ra}function va(){return Qa(Ia().curve(cc))}function S(){var ra=Ua().curve(cc),Ra=ra.curve,rb=ra.lineX0,Mb=ra.lineX1,dc=ra.lineY0,hc=ra.lineY1;ra.angle=ra.x;delete ra.x;ra.startAngle=ra.x0;delete ra.x0;ra.endAngle=ra.x1;delete ra.x1;ra.radius=ra.y;delete ra.y;ra.innerRadius=ra.y0;delete ra.y0;ra.outerRadius=ra.y1;delete ra.y1;ra.lineStartAngle=function(){return Qa(rb())};delete ra.lineX0;
ra.lineEndAngle=function(){return Qa(Mb())};delete ra.lineX1;ra.lineInnerRadius=function(){return Qa(dc())};delete ra.lineY0;ra.lineOuterRadius=function(){return Qa(hc())};delete ra.lineY1;ra.curve=function(sc){return arguments.length?Ra(ta(sc)):Ra()._curve};return ra}function la(ra,Ra){return[(Ra=+Ra)*Math.cos(ra-=Math.PI/2),Ra*Math.sin(ra)]}function wa(ra){return ra.source}function Da(ra){return ra.target}function Oa(ra){function Ra(){var sb,gc=uc.call(arguments),ic=rb.apply(this,gc),Yb=Mb.apply(this,
gc);sc||(sc=sb=q.path());ra(sc,+dc.apply(this,(gc[0]=ic,gc)),+hc.apply(this,gc),+dc.apply(this,(gc[0]=Yb,gc)),+hc.apply(this,gc));if(sb)return sc=null,sb+""||null}var rb=wa,Mb=Da,dc=ma,hc=oa,sc=null;Ra.source=function(sb){return arguments.length?(rb=sb,Ra):rb};Ra.target=function(sb){return arguments.length?(Mb=sb,Ra):Mb};Ra.x=function(sb){return arguments.length?(dc="function"===typeof sb?sb:R(+sb),Ra):dc};Ra.y=function(sb){return arguments.length?(hc="function"===typeof sb?sb:R(+sb),Ra):hc};Ra.context=
function(sb){return arguments.length?(sc=null==sb?null:sb,Ra):sc};return Ra}function Ha(ra,Ra,rb,Mb,dc){ra.moveTo(Ra,rb);ra.bezierCurveTo(Ra=(Ra+Mb)/2,rb,Ra,dc,Mb,dc)}function Va(ra,Ra,rb,Mb,dc){ra.moveTo(Ra,rb);ra.bezierCurveTo(Ra,rb=(rb+dc)/2,Mb,rb,Mb,dc)}function Fa(ra,Ra,rb,Mb,dc){var hc=la(Ra,rb);Ra=la(Ra,rb=(rb+dc)/2);rb=la(Mb,rb);Mb=la(Mb,dc);ra.moveTo(hc[0],hc[1]);ra.bezierCurveTo(Ra[0],Ra[1],rb[0],rb[1],Mb[0],Mb[1])}function E(){}function w(ra,Ra,rb){ra._context.bezierCurveTo((2*ra._x0+ra._x1)/
3,(2*ra._y0+ra._y1)/3,(ra._x0+2*ra._x1)/3,(ra._y0+2*ra._y1)/3,(ra._x0+4*ra._x1+Ra)/6,(ra._y0+4*ra._y1+rb)/6)}function F(ra){this._context=ra}function Z(ra){this._context=ra}function D(ra){this._context=ra}function P(ra,Ra){this._basis=new F(ra);this._beta=Ra}function N(ra,Ra,rb){ra._context.bezierCurveTo(ra._x1+ra._k*(ra._x2-ra._x0),ra._y1+ra._k*(ra._y2-ra._y0),ra._x2+ra._k*(ra._x1-Ra),ra._y2+ra._k*(ra._y1-rb),ra._x2,ra._y2)}function Y(ra,Ra){this._context=ra;this._k=(1-Ra)/6}function ua(ra,Ra){this._context=
ra;this._k=(1-Ra)/6}function Ga(ra,Ra){this._context=ra;this._k=(1-Ra)/6}function G(ra,Ra,rb){var Mb=ra._x1,dc=ra._y1,hc=ra._x2,sc=ra._y2;if(1E-12<ra._l01_a){var sb=2*ra._l01_2a+3*ra._l01_a*ra._l12_a+ra._l12_2a,gc=3*ra._l01_a*(ra._l01_a+ra._l12_a);Mb=(Mb*sb-ra._x0*ra._l12_2a+ra._x2*ra._l01_2a)/gc;dc=(dc*sb-ra._y0*ra._l12_2a+ra._y2*ra._l01_2a)/gc}1E-12<ra._l23_a&&(sb=2*ra._l23_2a+3*ra._l23_a*ra._l12_a+ra._l12_2a,gc=3*ra._l23_a*(ra._l23_a+ra._l12_a),hc=(hc*sb+ra._x1*ra._l23_2a-Ra*ra._l12_2a)/gc,sc=
(sc*sb+ra._y1*ra._l23_2a-rb*ra._l12_2a)/gc);ra._context.bezierCurveTo(Mb,dc,hc,sc,ra._x2,ra._y2)}function ca(ra,Ra){this._context=ra;this._alpha=Ra}function ba(ra,Ra){this._context=ra;this._alpha=Ra}function V(ra,Ra){this._context=ra;this._alpha=Ra}function H(ra){this._context=ra}function p(ra,Ra,rb){var Mb=ra._x1-ra._x0;Ra-=ra._x1;var dc=(ra._y1-ra._y0)/(Mb||0>Ra&&-0);ra=(rb-ra._y1)/(Ra||0>Mb&&-0);return((0>dc?-1:1)+(0>ra?-1:1))*Math.min(Math.abs(dc),Math.abs(ra),.5*Math.abs((dc*Ra+ra*Mb)/(Mb+Ra)))||
0}function h(ra,Ra){var rb=ra._x1-ra._x0;return rb?(3*(ra._y1-ra._y0)/rb-Ra)/2:Ra}function m(ra,Ra,rb){var Mb=ra._x0,dc=ra._x1,hc=ra._y1,sc=(dc-Mb)/3;ra._context.bezierCurveTo(Mb+sc,ra._y0+sc*Ra,dc-sc,hc-sc*rb,dc,hc)}function n(ra){this._context=ra}function u(ra){this._context=new x(ra)}function x(ra){this._context=ra}function L(ra){this._context=ra}function ia(ra){var Ra,rb=ra.length-1,Mb=Array(rb),dc=Array(rb),hc=Array(rb);Mb[0]=0;dc[0]=2;hc[0]=ra[0]+2*ra[1];for(Ra=1;Ra<rb-1;++Ra)Mb[Ra]=1,dc[Ra]=
4,hc[Ra]=4*ra[Ra]+2*ra[Ra+1];Mb[rb-1]=2;dc[rb-1]=7;hc[rb-1]=8*ra[rb-1]+ra[rb];for(Ra=1;Ra<rb;++Ra){var sc=Mb[Ra]/dc[Ra-1];dc[Ra]-=sc;hc[Ra]-=sc*hc[Ra-1]}Mb[rb-1]=hc[rb-1]/dc[rb-1];for(Ra=rb-2;0<=Ra;--Ra)Mb[Ra]=(hc[Ra]-Mb[Ra+1])/dc[Ra];dc[rb-1]=(ra[rb]+Mb[rb-1])/2;for(Ra=0;Ra<rb-1;++Ra)dc[Ra]=2*ra[Ra+1]-Mb[Ra+1];return[Mb,dc]}function xa(ra,Ra){this._context=ra;this._t=Ra}function Wa(ra,Ra){if(1<(sc=ra.length))for(var rb=1,Mb,dc,hc=ra[Ra[0]],sc,sb=hc.length;rb<sc;++rb)for(dc=hc,hc=ra[Ra[rb]],Mb=0;Mb<
sb;++Mb)hc[Mb][1]+=hc[Mb][0]=isNaN(dc[Mb][1])?dc[Mb][0]:dc[Mb][1]}function $a(ra){ra=ra.length;for(var Ra=Array(ra);0<=--ra;)Ra[ra]=ra;return Ra}function fb(ra,Ra){return ra[Ra]}function Ba(ra){const Ra=[];Ra.key=ra;return Ra}function T(ra){var Ra=ra.map(da);return $a(ra).sort(function(rb,Mb){return Ra[rb]-Ra[Mb]})}function da(ra){for(var Ra=-1,rb=0,Mb=ra.length,dc,hc=-Infinity;++Ra<Mb;)(dc=+ra[Ra][1])>hc&&(hc=dc,rb=Ra);return rb}function Xa(ra){var Ra=ra.map(zb);return $a(ra).sort(function(rb,Mb){return Ra[rb]-
Ra[Mb]})}function zb(ra){for(var Ra=0,rb=-1,Mb=ra.length,dc;++rb<Mb;)if(dc=+ra[rb][1])Ra+=dc;return Ra}var xb=Math.abs,Pb=Math.atan2,bc=Math.cos,Uc=Math.max,yc=Math.min,Vc=Math.sin,ya=Math.sqrt,Nb=Math.PI,Sb=Nb/2,Zb=2*Nb,uc=Array.prototype.slice;bb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(ra,
Ra){ra=+ra;Ra=+Ra;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(ra,Ra):this._context.moveTo(ra,Ra);break;case 1:this._point=2;default:this._context.lineTo(ra,Ra)}}};var cc=ta(Ca);Ta.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(ra,Ra){this._curve.point(Ra*Math.sin(ra),Ra*-Math.cos(ra))}};var gb={draw:function(ra,Ra){Ra=
Math.sqrt(Ra/Nb);ra.moveTo(Ra,0);ra.arc(0,0,Ra,0,Zb)}},Kb={draw:function(ra,Ra){Ra=Math.sqrt(Ra/5)/2;ra.moveTo(-3*Ra,-Ra);ra.lineTo(-Ra,-Ra);ra.lineTo(-Ra,-3*Ra);ra.lineTo(Ra,-3*Ra);ra.lineTo(Ra,-Ra);ra.lineTo(3*Ra,-Ra);ra.lineTo(3*Ra,Ra);ra.lineTo(Ra,Ra);ra.lineTo(Ra,3*Ra);ra.lineTo(-Ra,3*Ra);ra.lineTo(-Ra,Ra);ra.lineTo(-3*Ra,Ra);ra.closePath()}},Eb=Math.sqrt(1/3),Nc=2*Eb,dd={draw:function(ra,Ra){Ra=Math.sqrt(Ra/Nc);var rb=Ra*Eb;ra.moveTo(0,-Ra);ra.lineTo(rb,0);ra.lineTo(0,Ra);ra.lineTo(-rb,0);ra.closePath()}},
Ic=Math.sin(Nb/10)/Math.sin(7*Nb/10),Tc=Math.sin(Zb/10)*Ic,xd=-Math.cos(Zb/10)*Ic;Ic={draw:function(ra,Ra){Ra=Math.sqrt(.8908130915292852*Ra);var rb=Tc*Ra,Mb=xd*Ra;ra.moveTo(0,-Ra);ra.lineTo(rb,Mb);for(var dc=1;5>dc;++dc){var hc=Zb*dc/5,sc=Math.cos(hc);hc=Math.sin(hc);ra.lineTo(hc*Ra,-sc*Ra);ra.lineTo(sc*rb-hc*Mb,hc*rb+sc*Mb)}ra.closePath()}};var tb={draw:function(ra,Ra){Ra=Math.sqrt(Ra);var rb=-Ra/2;ra.rect(rb,rb,Ra,Ra)}},Jb=Math.sqrt(3),Gc={draw:function(ra,Ra){Ra=-Math.sqrt(Ra/(3*Jb));ra.moveTo(0,
2*Ra);ra.lineTo(-Jb*Ra,-Ra);ra.lineTo(Jb*Ra,-Ra);ra.closePath()}},ke=Math.sqrt(3)/2,ge=1/Math.sqrt(12),Ke=3*(ge/2+1),Ye={draw:function(ra,Ra){var rb=Math.sqrt(Ra/Ke);Ra=rb/2;var Mb=rb*ge;rb=rb*ge+rb;var dc=-Ra;ra.moveTo(Ra,Mb);ra.lineTo(Ra,rb);ra.lineTo(dc,rb);ra.lineTo(-.5*Ra-ke*Mb,ke*Ra+-.5*Mb);ra.lineTo(-.5*Ra-ke*rb,ke*Ra+-.5*rb);ra.lineTo(-.5*dc-ke*rb,ke*dc+-.5*rb);ra.lineTo(-.5*Ra+ke*Mb,-.5*Mb-ke*Ra);ra.lineTo(-.5*Ra+ke*rb,-.5*rb-ke*Ra);ra.lineTo(-.5*dc+ke*rb,-.5*rb-ke*dc);ra.closePath()}},J=
[gb,Kb,dd,tb,Ic,Gc,Ye];F.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:w(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(ra,Ra){ra=+ra;Ra=+Ra;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(ra,
Ra):this._context.moveTo(ra,Ra);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:w(this,ra,Ra)}this._x0=this._x1;this._x1=ra;this._y0=this._y1;this._y1=Ra}};Z.prototype={areaStart:E,areaEnd:E,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();
break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(ra,Ra){ra=+ra;Ra=+Ra;switch(this._point){case 0:this._point=1;this._x2=ra;this._y2=Ra;break;case 1:this._point=2;this._x3=ra;this._y3=Ra;break;case 2:this._point=3;this._x4=ra;this._y4=Ra;this._context.moveTo((this._x0+
4*this._x1+ra)/6,(this._y0+4*this._y1+Ra)/6);break;default:w(this,ra,Ra)}this._x0=this._x1;this._x1=ra;this._y0=this._y1;this._y1=Ra}};D.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(ra,Ra){ra=+ra;Ra=+Ra;switch(this._point){case 0:this._point=1;break;case 1:this._point=
2;break;case 2:this._point=3;var rb=(this._x0+4*this._x1+ra)/6,Mb=(this._y0+4*this._y1+Ra)/6;this._line?this._context.lineTo(rb,Mb):this._context.moveTo(rb,Mb);break;case 3:this._point=4;default:w(this,ra,Ra)}this._x0=this._x1;this._x1=ra;this._y0=this._y1;this._y1=Ra}};P.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var ra=this._x,Ra=this._y,rb=ra.length-1;if(0<rb)for(var Mb=ra[0],dc=Ra[0],hc=ra[rb]-Mb,sc=Ra[rb]-dc,sb=-1,gc;++sb<=rb;)gc=sb/rb,this._basis.point(this._beta*
ra[sb]+(1-this._beta)*(Mb+gc*hc),this._beta*Ra[sb]+(1-this._beta)*(dc+gc*sc));this._x=this._y=null;this._basis.lineEnd()},point:function(ra,Ra){this._x.push(+ra);this._y.push(+Ra)}};var ja=function rb(Ra){function Mb(dc){return 1===Ra?new F(dc):new P(dc,Ra)}Mb.beta=function(dc){return rb(+dc)};return Mb}(.85);Y.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,
this._y2);break;case 3:N(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Ra,rb){Ra=+Ra;rb=+rb;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Ra,rb):this._context.moveTo(Ra,rb);break;case 1:this._point=2;this._x1=Ra;this._y1=rb;break;case 2:this._point=3;default:N(this,Ra,rb)}this._x0=this._x1;this._x1=this._x2;this._x2=Ra;this._y0=this._y1;this._y1=this._y2;this._y2=rb}};var Na=function Mb(rb){function dc(hc){return new Y(hc,
rb)}dc.tension=function(hc){return Mb(+hc)};return dc}(0);ua.prototype={areaStart:E,areaEnd:E,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),
this.point(this._x5,this._y5)}},point:function(rb,Mb){rb=+rb;Mb=+Mb;switch(this._point){case 0:this._point=1;this._x3=rb;this._y3=Mb;break;case 1:this._point=2;this._context.moveTo(this._x4=rb,this._y4=Mb);break;case 2:this._point=3;this._x5=rb;this._y5=Mb;break;default:N(this,rb,Mb)}this._x0=this._x1;this._x1=this._x2;this._x2=rb;this._y0=this._y1;this._y1=this._y2;this._y2=Mb}};var mb=function dc(Mb){function hc(sc){return new ua(sc,Mb)}hc.tension=function(sc){return dc(+sc)};return hc}(0);Ga.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Mb,dc){Mb=+Mb;dc=+dc;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);
break;case 3:this._point=4;default:N(this,Mb,dc)}this._x0=this._x1;this._x1=this._x2;this._x2=Mb;this._y0=this._y1;this._y1=this._y2;this._y2=dc}};var Gb=function hc(dc){function sc(sb){return new Ga(sb,dc)}sc.tension=function(sb){return hc(+sb)};return sc}(0);ca.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=
0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(dc,hc){dc=+dc;hc=+hc;if(this._point){var sc=this._x2-dc,sb=this._y2-hc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(sc*sc+sb*sb,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(dc,hc):this._context.moveTo(dc,hc);break;case 1:this._point=
2;break;case 2:this._point=3;default:G(this,dc,hc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=dc;this._y0=this._y1;this._y1=this._y2;this._y2=hc}};var lb=function sc(hc){function sb(gc){return hc?new ca(gc,hc):new Y(gc,0)}sb.alpha=function(gc){return sc(+gc)};return sb}(.5);ba.prototype={areaStart:E,areaEnd:E,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=
this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(hc,sc){hc=+hc;sc=+sc;if(this._point){var sb=this._x2-hc,gc=this._y2-
sc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(sb*sb+gc*gc,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=hc;this._y3=sc;break;case 1:this._point=2;this._context.moveTo(this._x4=hc,this._y4=sc);break;case 2:this._point=3;this._x5=hc;this._y5=sc;break;default:G(this,hc,sc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=hc;this._y0=this._y1;this._y1=this._y2;this._y2=sc}};var Xb=function sb(sc){function gc(ic){return sc?
new ba(ic,sc):new ua(ic,0)}gc.alpha=function(ic){return sb(+ic)};return gc}(.5);V.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(sc,sb){sc=+sc;sb=+sb;if(this._point){var gc=
this._x2-sc,ic=this._y2-sb;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(gc*gc+ic*ic,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:G(this,sc,sb)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=sc;this._y0=this._y1;this._y1=
this._y2;this._y2=sb}};var Rb=function gc(sb){function ic(Yb){return sb?new V(Yb,sb):new Ga(Yb,0)}ic.alpha=function(Yb){return gc(+Yb)};return ic}(.5);H.prototype={areaStart:E,areaEnd:E,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(sb,gc){sb=+sb;gc=+gc;this._point?this._context.lineTo(sb,gc):(this._point=1,this._context.moveTo(sb,gc))}};n.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=
this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:m(this,this._t0,h(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(sb,gc){var ic=NaN;sb=+sb;gc=+gc;if(sb!==this._x1||gc!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(sb,gc):this._context.moveTo(sb,gc);break;case 1:this._point=2;
break;case 2:this._point=3;m(this,h(this,ic=p(this,sb,gc)),ic);break;default:m(this,this._t0,ic=p(this,sb,gc))}this._x0=this._x1;this._x1=sb;this._y0=this._y1;this._y1=gc;this._t0=ic}}};(u.prototype=Object.create(n.prototype)).point=function(sb,gc){n.prototype.point.call(this,gc,sb)};x.prototype={moveTo:function(sb,gc){this._context.moveTo(gc,sb)},closePath:function(){this._context.closePath()},lineTo:function(sb,gc){this._context.lineTo(gc,sb)},bezierCurveTo:function(sb,gc,ic,Yb,lc,Ec){this._context.bezierCurveTo(gc,
sb,Yb,ic,Ec,lc)}};L.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var sb=this._x,gc=this._y,ic=sb.length;if(ic)if(this._line?this._context.lineTo(sb[0],gc[0]):this._context.moveTo(sb[0],gc[0]),2===ic)this._context.lineTo(sb[1],gc[1]);else for(var Yb=ia(sb),lc=ia(gc),Ec=0,Cc=1;Cc<ic;++Ec,++Cc)this._context.bezierCurveTo(Yb[0][Ec],lc[0][Ec],Yb[1][Ec],lc[1][Ec],sb[Cc],gc[Cc]);(this._line||0!==this._line&&
1===ic)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(sb,gc){this._x.push(+sb);this._y.push(+gc)}};xa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},
point:function(sb,gc){sb=+sb;gc=+gc;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(sb,gc):this._context.moveTo(sb,gc);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,gc),this._context.lineTo(sb,gc);else{var ic=this._x*(1-this._t)+sb*this._t;this._context.lineTo(ic,this._y);this._context.lineTo(ic,gc)}}this._x=sb;this._y=gc}};k.arc=function(){function sb(){var qd,ud=+gc.apply(this,arguments),be=+ic.apply(this,arguments),Yd=Ec.apply(this,arguments)-
Sb,de=Cc.apply(this,arguments)-Sb,ve=xb(de-Yd),Ae=de>Yd;jd||(jd=qd=q.path());if(be<ud){var We=be;be=ud;ud=We}if(1E-12<be)if(ve>Zb-1E-12)jd.moveTo(be*bc(Yd),be*Vc(Yd)),jd.arc(0,0,be,Yd,de,!Ae),1E-12<ud&&(jd.moveTo(ud*bc(de),ud*Vc(de)),jd.arc(0,0,ud,de,Yd,Ae));else{var zd=Yd,Ld=de;We=Yd;var ef=de,me=ve,W=ve,ha=id.apply(this,arguments)/2,za=1E-12<ha&&(lc?+lc.apply(this,arguments):ya(ud*ud+be*be)),ob=yc(xb(be-ud)/2,+Yb.apply(this,arguments)),Za=ob,vb=ob;if(1E-12<za){var Tb=Ma(za/ud*Vc(ha));ha=Ma(za/be*
Vc(ha));1E-12<(me-=2*Tb)?(Tb*=Ae?1:-1,We+=Tb,ef-=Tb):(me=0,We=ef=(Yd+de)/2);1E-12<(W-=2*ha)?(ha*=Ae?1:-1,zd+=ha,Ld-=ha):(W=0,zd=Ld=(Yd+de)/2)}Yd=be*bc(zd);de=be*Vc(zd);Tb=ud*bc(ef);ha=ud*Vc(ef);if(1E-12<ob){var oc=be*bc(Ld),Yc=be*Vc(Ld),pc=ud*bc(We),Fc=ud*Vc(We);if(ve=ve<Nb){var fd=pc-Yd;ve=Fc-de;za=Tb-oc;var Dd=ha-Yc,$b=Dd*fd-za*ve;1E-12>$b*$b?fd=void 0:($b=(za*(de-Yc)-Dd*(Yd-oc))/$b,fd=[Yd+$b*fd,de+$b*ve]);ve=fd}ve&&(Za=Yd-fd[0],vb=de-fd[1],ve=oc-fd[0],za=Yc-fd[1],Za=(Za*ve+vb*za)/(ya(Za*Za+vb*
vb)*ya(ve*ve+za*za)),vb=1/Vc((1<Za?0:-1>Za?Nb:Math.acos(Za))/2),fd=ya(fd[0]*fd[0]+fd[1]*fd[1]),Za=yc(ob,(ud-fd)/(vb-1)),vb=yc(ob,(be-fd)/(vb+1)))}1E-12<W?1E-12<vb?(zd=Ea(pc,Fc,Yd,de,be,vb,Ae),Ld=Ea(oc,Yc,Tb,ha,be,vb,Ae),jd.moveTo(zd.cx+zd.x01,zd.cy+zd.y01),vb<ob?jd.arc(zd.cx,zd.cy,vb,Pb(zd.y01,zd.x01),Pb(Ld.y01,Ld.x01),!Ae):(jd.arc(zd.cx,zd.cy,vb,Pb(zd.y01,zd.x01),Pb(zd.y11,zd.x11),!Ae),jd.arc(0,0,be,Pb(zd.cy+zd.y11,zd.cx+zd.x11),Pb(Ld.cy+Ld.y11,Ld.cx+Ld.x11),!Ae),jd.arc(Ld.cx,Ld.cy,vb,Pb(Ld.y11,
Ld.x11),Pb(Ld.y01,Ld.x01),!Ae))):(jd.moveTo(Yd,de),jd.arc(0,0,be,zd,Ld,!Ae)):jd.moveTo(Yd,de);1E-12<ud&&1E-12<me?1E-12<Za?(zd=Ea(Tb,ha,oc,Yc,ud,-Za,Ae),Ld=Ea(Yd,de,pc,Fc,ud,-Za,Ae),jd.lineTo(zd.cx+zd.x01,zd.cy+zd.y01),Za<ob?jd.arc(zd.cx,zd.cy,Za,Pb(zd.y01,zd.x01),Pb(Ld.y01,Ld.x01),!Ae):(jd.arc(zd.cx,zd.cy,Za,Pb(zd.y01,zd.x01),Pb(zd.y11,zd.x11),!Ae),jd.arc(0,0,ud,Pb(zd.cy+zd.y11,zd.cx+zd.x11),Pb(Ld.cy+Ld.y11,Ld.cx+Ld.x11),Ae),jd.arc(Ld.cx,Ld.cy,Za,Pb(Ld.y11,Ld.x11),Pb(Ld.y01,Ld.x01),!Ae))):jd.arc(0,
0,ud,ef,We,Ae):jd.lineTo(Tb,ha)}else jd.moveTo(0,0);jd.closePath();if(qd)return jd=null,qd+""||null}var gc=Fb,ic=Ja,Yb=R(0),lc=null,Ec=db,Cc=Bb,id=jb,jd=null;sb.centroid=function(){var qd=(+gc.apply(this,arguments)+ +ic.apply(this,arguments))/2,ud=(+Ec.apply(this,arguments)+ +Cc.apply(this,arguments))/2-Nb/2;return[bc(ud)*qd,Vc(ud)*qd]};sb.innerRadius=function(qd){return arguments.length?(gc="function"===typeof qd?qd:R(+qd),sb):gc};sb.outerRadius=function(qd){return arguments.length?(ic="function"===
typeof qd?qd:R(+qd),sb):ic};sb.cornerRadius=function(qd){return arguments.length?(Yb="function"===typeof qd?qd:R(+qd),sb):Yb};sb.padRadius=function(qd){return arguments.length?(lc=null==qd?null:"function"===typeof qd?qd:R(+qd),sb):lc};sb.startAngle=function(qd){return arguments.length?(Ec="function"===typeof qd?qd:R(+qd),sb):Ec};sb.endAngle=function(qd){return arguments.length?(Cc="function"===typeof qd?qd:R(+qd),sb):Cc};sb.padAngle=function(qd){return arguments.length?(id="function"===typeof qd?
qd:R(+qd),sb):id};sb.context=function(qd){return arguments.length?(jd=null==qd?null:qd,sb):jd};return sb};k.area=Ua;k.areaRadial=S;k.curveBasis=function(sb){return new F(sb)};k.curveBasisClosed=function(sb){return new Z(sb)};k.curveBasisOpen=function(sb){return new D(sb)};k.curveBundle=ja;k.curveCardinal=Na;k.curveCardinalClosed=mb;k.curveCardinalOpen=Gb;k.curveCatmullRom=lb;k.curveCatmullRomClosed=Xb;k.curveCatmullRomOpen=Rb;k.curveLinear=Ca;k.curveLinearClosed=function(sb){return new H(sb)};k.curveMonotoneX=
function(sb){return new n(sb)};k.curveMonotoneY=function(sb){return new u(sb)};k.curveNatural=function(sb){return new L(sb)};k.curveStep=function(sb){return new xa(sb,.5)};k.curveStepAfter=function(sb){return new xa(sb,1)};k.curveStepBefore=function(sb){return new xa(sb,0)};k.line=Ia;k.lineRadial=va;k.linkHorizontal=function(){return Oa(Ha)};k.linkRadial=function(){var sb=Oa(Fa);sb.angle=sb.x;delete sb.x;sb.radius=sb.y;delete sb.y;return sb};k.linkVertical=function(){return Oa(Va)};k.pie=function(){function sb(id){var jd,
qd=(id=ab(id)).length;var ud=0;var be=Array(qd),Yd=Array(qd),de=+lc.apply(this,arguments);var ve=Math.min(Zb,Math.max(-Zb,Ec.apply(this,arguments)-de));var Ae=Math.min(Math.abs(ve)/qd,Cc.apply(this,arguments)),We=Ae*(0>ve?-1:1),zd;for(jd=0;jd<qd;++jd)0<(zd=Yd[be[jd]=jd]=+gc(id[jd],jd,id))&&(ud+=zd);null!=ic?be.sort(function(ef,me){return ic(Yd[ef],Yd[me])}):null!=Yb&&be.sort(function(ef,me){return Yb(id[ef],id[me])});jd=0;for(ve=ud?(ve-qd*We)/ud:0;jd<qd;++jd,de=Ld){ud=be[jd];zd=Yd[ud];var Ld=de+(0<
zd?zd*ve:0)+We;Yd[ud]={data:id[ud],index:jd,value:zd,startAngle:de,endAngle:Ld,padAngle:Ae}}return Yd}var gc=qa,ic=na,Yb=null,lc=R(0),Ec=R(Zb),Cc=R(0);sb.value=function(id){return arguments.length?(gc="function"===typeof id?id:R(+id),sb):gc};sb.sortValues=function(id){return arguments.length?(ic=id,Yb=null,sb):ic};sb.sort=function(id){return arguments.length?(Yb=id,ic=null,sb):Yb};sb.startAngle=function(id){return arguments.length?(lc="function"===typeof id?id:R(+id),sb):lc};sb.endAngle=function(id){return arguments.length?
(Ec="function"===typeof id?id:R(+id),sb):Ec};sb.padAngle=function(id){return arguments.length?(Cc="function"===typeof id?id:R(+id),sb):Cc};return sb};k.pointRadial=la;k.radialArea=S;k.radialLine=va;k.stack=function(){function sb(Ec){var Cc=Array.from(gc.apply(this,arguments),Ba),id=Cc.length,jd=-1;for(const ud of Ec){var qd=0;for(++jd;qd<id;++qd)(Cc[qd][jd]=[0,+lc(ud,Cc[qd].key,jd,Ec)]).data=ud}qd=0;for(jd=ab(ic(Cc));qd<id;++qd)Cc[jd[qd]].index=qd;Yb(Cc,jd);return Cc}var gc=R([]),ic=$a,Yb=Wa,lc=fb;
sb.keys=function(Ec){return arguments.length?(gc="function"===typeof Ec?Ec:R(Array.from(Ec)),sb):gc};sb.value=function(Ec){return arguments.length?(lc="function"===typeof Ec?Ec:R(+Ec),sb):lc};sb.order=function(Ec){return arguments.length?(ic=null==Ec?$a:"function"===typeof Ec?Ec:R(Array.from(Ec)),sb):ic};sb.offset=function(Ec){return arguments.length?(Yb=null==Ec?Wa:Ec,sb):Yb};return sb};k.stackOffsetDiverging=function(sb,gc){if(0<(jd=sb.length))for(var ic,Yb=0,lc,Ec,Cc,id,jd,qd=sb[gc[0]].length;Yb<
qd;++Yb)for(ic=Cc=id=0;ic<jd;++ic)0<(Ec=(lc=sb[gc[ic]][Yb])[1]-lc[0])?(lc[0]=Cc,lc[1]=Cc+=Ec):0>Ec?(lc[1]=id,lc[0]=id+=Ec):(lc[0]=0,lc[1]=Ec)};k.stackOffsetExpand=function(sb,gc){if(0<(Yb=sb.length)){for(var ic,Yb,lc=0,Ec=sb[0].length,Cc;lc<Ec;++lc){for(Cc=ic=0;ic<Yb;++ic)Cc+=sb[ic][lc][1]||0;if(Cc)for(ic=0;ic<Yb;++ic)sb[ic][lc][1]/=Cc}Wa(sb,gc)}};k.stackOffsetNone=Wa;k.stackOffsetSilhouette=function(sb,gc){if(0<(lc=sb.length)){for(var ic=0,Yb=sb[gc[0]],lc,Ec=Yb.length;ic<Ec;++ic){for(var Cc=0,id=
0;Cc<lc;++Cc)id+=sb[Cc][ic][1]||0;Yb[ic][1]+=Yb[ic][0]=-id/2}Wa(sb,gc)}};k.stackOffsetWiggle=function(sb,gc){if(0<(Cc=sb.length)&&0<(Ec=(lc=sb[gc[0]]).length)){for(var ic=0,Yb=1,lc,Ec,Cc;Yb<Ec;++Yb){for(var id=0,jd=0,qd=0;id<Cc;++id){var ud=sb[gc[id]],be=ud[Yb][1]||0;ud=(be-(ud[Yb-1][1]||0))/2;for(var Yd=0;Yd<id;++Yd){var de=sb[gc[Yd]];ud+=(de[Yb][1]||0)-(de[Yb-1][1]||0)}jd+=be;qd+=ud*be}lc[Yb-1][1]+=lc[Yb-1][0]=ic;jd&&(ic-=qd/jd)}lc[Yb-1][1]+=lc[Yb-1][0]=ic;Wa(sb,gc)}};k.stackOrderAppearance=T;k.stackOrderAscending=
Xa;k.stackOrderDescending=function(sb){return Xa(sb).reverse()};k.stackOrderInsideOut=function(sb){var gc=sb.length,ic=sb.map(zb),Yb=T(sb),lc=0,Ec=0,Cc=[],id=[];for(sb=0;sb<gc;++sb){var jd=Yb[sb];lc<Ec?(lc+=ic[jd],Cc.push(jd)):(Ec+=ic[jd],id.push(jd))}return id.reverse().concat(Cc)};k.stackOrderNone=$a;k.stackOrderReverse=function(sb){return $a(sb).reverse()};k.symbol=function(sb,gc){function ic(){var lc;Yb||(Yb=lc=q.path());sb.apply(this,arguments).draw(Yb,+gc.apply(this,arguments));if(lc)return Yb=
null,lc+""||null}var Yb=null;sb="function"===typeof sb?sb:R(sb||gb);gc="function"===typeof gc?gc:R(void 0===gc?64:+gc);ic.type=function(lc){return arguments.length?(sb="function"===typeof lc?lc:R(lc),ic):sb};ic.size=function(lc){return arguments.length?(gc="function"===typeof lc?lc:R(+lc),ic):gc};ic.context=function(lc){return arguments.length?(Yb=null==lc?null:lc,ic):Yb};return ic};k.symbolCircle=gb;k.symbolCross=Kb;k.symbolDiamond=dd;k.symbolSquare=tb;k.symbolStar=Ic;k.symbolTriangle=Gc;k.symbolWye=
Ye;k.symbols=J;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[32]=function($c,Vb,Pc,Cb){!function(k,q){"object"==typeof Cb&&"undefined"!=typeof Pc?q(Cb):"function"==typeof define&&define.amd?define(["exports"],q):q((k="undefined"!=typeof globalThis?globalThis:k||self).vega={})}(this,function(k){function q(R,Ma){if("undefined"!=typeof document&&document.createElement){const Fb=document.createElement("canvas");if(Fb&&Fb.getContext)return Fb.width=R,Fb.height=Ma,Fb}return null}k.canvas=q;k.domCanvas=q;k.image=()=>"undefined"!=typeof Image?Image:
null;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[33]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb):"function"===typeof define&&define.amd?define(["exports"],q):(k=k||self,q(k.d3=k.d3||{}))})(this,function(k){function q(n,u,x){n.prototype=u.prototype=x;x.constructor=n}function R(n,u){n=Object.create(n.prototype);for(var x in u)n[x]=u[x];return n}function Ma(){}function Fb(){return this.rgb().formatHex()}function Ja(){return this.rgb().formatRgb()}function db(n){var u,x;n=(n+"").trim().toLowerCase();
return(u=Z.exec(n))?(x=u[1].length,u=parseInt(u[1],16),6===x?Bb(u):3===x?new bb(u>>8&15|u>>4&240,u>>4&15|u&240,(u&15)<<4|u&15,1):8===x?jb(u>>24&255,u>>16&255,u>>8&255,(u&255)/255):4===x?jb(u>>12&15|u>>8&240,u>>8&15|u>>4&240,u>>4&15|u&240,((u&15)<<4|u&15)/255):null):(u=D.exec(n))?new bb(u[1],u[2],u[3],1):(u=P.exec(n))?new bb(255*u[1]/100,255*u[2]/100,255*u[3]/100,1):(u=N.exec(n))?jb(u[1],u[2],u[3],u[4]):(u=Y.exec(n))?jb(255*u[1]/100,255*u[2]/100,255*u[3]/100,u[4]):(u=ua.exec(n))?Ia(u[1],u[2]/100,u[3]/
100,1):(u=Ga.exec(n))?Ia(u[1],u[2]/100,u[3]/100,u[4]):G.hasOwnProperty(n)?Bb(G[n]):"transparent"===n?new bb(NaN,NaN,NaN,0):null}function Bb(n){return new bb(n>>16&255,n>>8&255,n&255,1)}function jb(n,u,x,L){0>=L&&(n=u=x=NaN);return new bb(n,u,x,L)}function Ea(n){n instanceof Ma||(n=db(n));if(!n)return new bb;n=n.rgb();return new bb(n.r,n.g,n.b,n.opacity)}function ab(n,u,x,L){return 1===arguments.length?Ea(n):new bb(n,u,x,null==L?1:L)}function bb(n,u,x,L){this.r=+n;this.g=+u;this.b=+x;this.opacity=
+L}function Ca(){return"#"+oa(this.r)+oa(this.g)+oa(this.b)}function ma(){var n=this.opacity;n=isNaN(n)?1:Math.max(0,Math.min(1,n));return(1===n?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===n?")":", "+n+")")}function oa(n){n=Math.max(0,Math.min(255,Math.round(n)||0));return(16>n?"0":"")+n.toString(16)}function Ia(n,u,x,L){0>=L?n=u=x=NaN:0>=x||1<=x?n=u=NaN:0>=u&&(n=NaN);
return new qa(n,u,x,L)}function Ua(n){if(n instanceof qa)return new qa(n.h,n.s,n.l,n.opacity);n instanceof Ma||(n=db(n));if(!n)return new qa;if(n instanceof qa)return n;n=n.rgb();var u=n.r/255,x=n.g/255,L=n.b/255,ia=Math.min(u,x,L),xa=Math.max(u,x,L),Wa=NaN,$a=xa-ia,fb=(xa+ia)/2;$a?(Wa=u===xa?(x-L)/$a+6*(x<L):x===xa?(L-u)/$a+2:(u-x)/$a+4,$a/=.5>fb?xa+ia:2-xa-ia,Wa*=60):$a=0<fb&&1>fb?0:Wa;return new qa(Wa,$a,fb,n.opacity)}function na(n,u,x,L){return 1===arguments.length?Ua(n):new qa(n,u,x,null==L?
1:L)}function qa(n,u,x,L){this.h=+n;this.s=+u;this.l=+x;this.opacity=+L}function Ta(n,u,x){return 255*(60>n?u+(x-u)*n/60:180>n?x:240>n?u+(x-u)*(240-n)/60:u)}function ta(n){if(n instanceof va)return new va(n.l,n.a,n.b,n.opacity);if(n instanceof Va)return Fa(n);n instanceof bb||(n=Ea(n));var u=Da(n.r),x=Da(n.g),L=Da(n.b),ia=S(.2225045*u+.7168786*x+.0606169*L);if(u===x&&x===L)var xa=u=ia;else xa=S((.4360747*u+.3850649*x+.1430804*L)/.96422),u=S((.0139322*u+.0971045*x+.7141733*L)/.82521);return new va(116*
ia-16,500*(xa-ia),200*(ia-u),n.opacity)}function Qa(n,u,x,L){return 1===arguments.length?ta(n):new va(n,u,x,null==L?1:L)}function va(n,u,x,L){this.l=+n;this.a=+u;this.b=+x;this.opacity=+L}function S(n){return n>h?Math.pow(n,1/3):n/p+V}function la(n){return n>H?n*n*n:p*(n-V)}function wa(n){return 255*(.0031308>=n?12.92*n:1.055*Math.pow(n,1/2.4)-.055)}function Da(n){return.04045>=(n/=255)?n/12.92:Math.pow((n+.055)/1.055,2.4)}function Oa(n){if(n instanceof Va)return new Va(n.h,n.c,n.l,n.opacity);n instanceof
va||(n=ta(n));if(0===n.a&&0===n.b)return new Va(NaN,0<n.l&&100>n.l?0:NaN,n.l,n.opacity);var u=Math.atan2(n.b,n.a)*ba;return new Va(0>u?u+360:u,Math.sqrt(n.a*n.a+n.b*n.b),n.l,n.opacity)}function Ha(n,u,x,L){return 1===arguments.length?Oa(n):new Va(n,u,x,null==L?1:L)}function Va(n,u,x,L){this.h=+n;this.c=+u;this.l=+x;this.opacity=+L}function Fa(n){if(isNaN(n.h))return new va(n.l,0,0,n.opacity);var u=n.h*ca;return new va(n.l,Math.cos(u)*n.c,Math.sin(u)*n.c,n.opacity)}function E(n,u,x,L){if(1===arguments.length){var ia=
n;if(ia instanceof w)ia=new w(ia.h,ia.s,ia.l,ia.opacity);else{ia instanceof bb||(ia=Ea(ia));var xa=ia.g/255,Wa=ia.b/255,$a=(m*Wa+ia.r/255*-1.7884503806-3.5172982438*xa)/(m+-1.7884503806-3.5172982438);Wa-=$a;var fb=(1.97294*(xa-$a)- -.29227*Wa)/-.90649;Wa=(xa=Math.sqrt(fb*fb+Wa*Wa)/(1.97294*$a*(1-$a)))?Math.atan2(fb,Wa)*ba-120:NaN;ia=new w(0>Wa?Wa+360:Wa,xa,$a,ia.opacity)}}else ia=new w(n,u,x,null==L?1:L);return ia}function w(n,u,x,L){this.h=+n;this.s=+u;this.l=+x;this.opacity=+L}var F=1/.7,Z=/^#([0-9a-f]{3,8})$/,
D=/^rgb\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*\)$/,P=/^rgb\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,N=/^rgba\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,Y=/^rgba\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,ua=/^hsl\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,
Ga=/^hsla\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,G={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,
crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,
floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,
lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,
moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,
sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};q(Ma,db,{copy:function(n){return Object.assign(new this.constructor,this,n)},displayable:function(){return this.rgb().displayable()},hex:Fb,formatHex:Fb,formatHsl:function(){return Ua(this).formatHsl()},
formatRgb:Ja,toString:Ja});q(bb,ab,R(Ma,{brighter:function(n){n=null==n?F:Math.pow(F,n);return new bb(this.r*n,this.g*n,this.b*n,this.opacity)},darker:function(n){n=null==n?.7:Math.pow(.7,n);return new bb(this.r*n,this.g*n,this.b*n,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Ca,formatHex:Ca,formatRgb:ma,toString:ma}));q(qa,na,R(Ma,{brighter:function(n){n=
null==n?F:Math.pow(F,n);return new qa(this.h,this.s,this.l*n,this.opacity)},darker:function(n){n=null==n?.7:Math.pow(.7,n);return new qa(this.h,this.s,this.l*n,this.opacity)},rgb:function(){var n=this.h%360+360*(0>this.h),u=isNaN(n)||isNaN(this.s)?0:this.s,x=this.l;u=x+(.5>x?x:1-x)*u;x=2*x-u;return new bb(Ta(240<=n?n-240:n+120,x,u),Ta(n,x,u),Ta(120>n?n+240:n-120,x,u),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},
formatHsl:function(){var n=this.opacity;n=isNaN(n)?1:Math.max(0,Math.min(1,n));return(1===n?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===n?")":", "+n+")")}}));const ca=Math.PI/180,ba=180/Math.PI,V=4/29,H=6/29,p=3*H*H,h=H*H*H;q(va,Qa,R(Ma,{brighter:function(n){return new va(this.l+18*(null==n?1:n),this.a,this.b,this.opacity)},darker:function(n){return new va(this.l-18*(null==n?1:n),this.a,this.b,this.opacity)},rgb:function(){var n=(this.l+16)/116,u=isNaN(this.a)?
n:n+this.a/500,x=isNaN(this.b)?n:n-this.b/200;u=.96422*la(u);n=1*la(n);x=.82521*la(x);return new bb(wa(3.1338561*u-1.6168667*n-.4906146*x),wa(-.9787684*u+1.9161415*n+.033454*x),wa(.0719453*u-.2289914*n+1.4052427*x),this.opacity)}}));q(Va,Ha,R(Ma,{brighter:function(n){return new Va(this.h,this.c,this.l+18*(null==n?1:n),this.opacity)},darker:function(n){return new Va(this.h,this.c,this.l-18*(null==n?1:n),this.opacity)},rgb:function(){return Fa(this).rgb()}}));var m=1.78277*-.29227-.1347134789;q(w,E,
R(Ma,{brighter:function(n){n=null==n?F:Math.pow(F,n);return new w(this.h,this.s,this.l*n,this.opacity)},darker:function(n){n=null==n?.7:Math.pow(.7,n);return new w(this.h,this.s,this.l*n,this.opacity)},rgb:function(){var n=isNaN(this.h)?0:(this.h+120)*ca,u=+this.l,x=isNaN(this.s)?0:this.s*u*(1-u),L=Math.cos(n);n=Math.sin(n);return new bb(255*(u+x*(-.14861*L+1.78277*n)),255*(u+x*(-.29227*L+-.90649*n)),255*(u+1.97294*x*L),this.opacity)}}));k.color=db;k.cubehelix=E;k.gray=function(n,u){return new va(n,
0,0,null==u?1:u)};k.hcl=Ha;k.hsl=na;k.lab=Qa;k.lch=function(n,u,x,L){return 1===arguments.length?Oa(n):new Va(x,u,n,null==L?1:L)};k.rgb=ab;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[34]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb,Vb(33)):"function"===typeof define&&define.amd?define(["exports","d3-color"],q):(k=k||self,q(k.d3=k.d3||{},k.d3))})(this,function(k,q){function R(H,p,h,m,n){var u=H*H,x=u*H;return((1-3*H+3*u-x)*p+(4-6*u+3*x)*h+(1+3*H+3*u-3*x)*m+x*n)/6}function Ma(H){var p=H.length-1;return function(h){var m=0>=h?h=0:1<=h?(h=1,p-1):Math.floor(h*p),n=H[m],u=H[m+1];return R((h-m/p)*p,0<m?H[m-1]:2*n-u,n,u,m<p-1?
H[m+2]:2*u-n)}}function Fb(H){var p=H.length;return function(h){var m=Math.floor((0>(h%=1)?++h:h)*p);return R((h-m/p)*p,H[(m+p-1)%p],H[m%p],H[(m+1)%p],H[(m+2)%p])}}function Ja(H,p){return function(h){return H+h*p}}function db(H,p,h){return H=Math.pow(H,h),p=Math.pow(p,h)-H,h=1/h,function(m){return Math.pow(H+m*p,h)}}function Bb(H,p){var h=p-H;return h?Ja(H,180<h||-180>h?h-360*Math.round(h/360):h):Oa(isNaN(H)?p:H)}function jb(H){return 1===(H=+H)?Ea:function(p,h){return h-p?db(p,h,H):Oa(isNaN(p)?h:
p)}}function Ea(H,p){var h=p-H;return h?Ja(H,h):Oa(isNaN(H)?p:H)}function ab(H){return function(p){var h=p.length,m=Array(h),n=Array(h),u=Array(h),x;for(x=0;x<h;++x){var L=q.rgb(p[x]);m[x]=L.r||0;n[x]=L.g||0;u[x]=L.b||0}m=H(m);n=H(n);u=H(u);L.opacity=1;return function(ia){L.r=m(ia);L.g=n(ia);L.b=u(ia);return L+""}}}function bb(H,p){p||(p=[]);var h=H?Math.min(p.length,H.length):0,m=p.slice(),n;return function(u){for(n=0;n<h;++n)m[n]=H[n]*(1-u)+p[n]*u;return m}}function Ca(H){return ArrayBuffer.isView(H)&&
!(H instanceof DataView)}function ma(H,p){var h=p?p.length:0,m=H?Math.min(h,H.length):0,n=Array(m),u=Array(h),x;for(x=0;x<m;++x)n[x]=ta(H[x],p[x]);for(;x<h;++x)u[x]=p[x];return function(L){for(x=0;x<m;++x)u[x]=n[x](L);return u}}function oa(H,p){var h=new Date;return H=+H,p=+p,function(m){return h.setTime(H*(1-m)+p*m),h}}function Ia(H,p){return H=+H,p=+p,function(h){return H*(1-h)+p*h}}function Ua(H,p){var h={},m={},n;if(null===H||"object"!==typeof H)H={};if(null===p||"object"!==typeof p)p={};for(n in p)n in
H?h[n]=ta(H[n],p[n]):m[n]=p[n];return function(u){for(n in h)m[n]=h[n](u);return m}}function na(H){return function(){return H}}function qa(H){return function(p){return H(p)+""}}function Ta(H,p){var h=E.lastIndex=w.lastIndex=0,m,n,u,x=-1,L=[],ia=[];H+="";for(p+="";(m=E.exec(H))&&(n=w.exec(p));)(u=n.index)>h&&(u=p.slice(h,u),L[x]?L[x]+=u:L[++x]=u),(m=m[0])===(n=n[0])?L[x]?L[x]+=n:L[++x]=n:(L[++x]=null,ia.push({i:x,x:Ia(m,n)})),h=w.lastIndex;h<p.length&&(u=p.slice(h),L[x]?L[x]+=u:L[++x]=u);return 2>
L.length?ia[0]?qa(ia[0].x):na(p):(p=ia.length,function(xa){for(var Wa=0,$a;Wa<p;++Wa)L[($a=ia[Wa]).i]=$a.x(xa);return L.join("")})}function ta(H,p){var h=typeof p,m;return null==p||"boolean"===h?Oa(p):("number"===h?Ia:"string"===h?(m=q.color(p))?(p=m,Ha):Ta:p instanceof q.color?Ha:p instanceof Date?oa:Ca(p)?bb:Array.isArray(p)?ma:"function"!==typeof p.valueOf&&"function"!==typeof p.toString||isNaN(p)?Ua:Ia)(H,p)}function Qa(H,p,h,m,n,u){var x,L,ia;if(x=Math.sqrt(H*H+p*p))H/=x,p/=x;if(ia=H*h+p*m)h-=
H*ia,m-=p*ia;if(L=Math.sqrt(h*h+m*m))h/=L,m/=L,ia/=L;H*m<p*h&&(H=-H,p=-p,ia=-ia,x=-x);return{translateX:n,translateY:u,rotate:Math.atan2(p,H)*F,skewX:Math.atan(ia)*F,scaleX:x,scaleY:L}}function va(H,p,h,m){function n(xa){return xa.length?xa.pop()+" ":""}function u(xa,Wa,$a,fb,Ba,T){xa!==$a||Wa!==fb?(Ba=Ba.push("translate(",null,p,null,h),T.push({i:Ba-4,x:Ia(xa,$a)},{i:Ba-2,x:Ia(Wa,fb)})):($a||fb)&&Ba.push("translate("+$a+p+fb+h)}function x(xa,Wa,$a,fb){xa!==Wa?(180<xa-Wa?Wa+=360:180<Wa-xa&&(xa+=360),
fb.push({i:$a.push(n($a)+"rotate(",null,m)-2,x:Ia(xa,Wa)})):Wa&&$a.push(n($a)+"rotate("+Wa+m)}function L(xa,Wa,$a,fb){xa!==Wa?fb.push({i:$a.push(n($a)+"skewX(",null,m)-2,x:Ia(xa,Wa)}):Wa&&$a.push(n($a)+"skewX("+Wa+m)}function ia(xa,Wa,$a,fb,Ba,T){xa!==$a||Wa!==fb?(Ba=Ba.push(n(Ba)+"scale(",null,",",null,")"),T.push({i:Ba-4,x:Ia(xa,$a)},{i:Ba-2,x:Ia(Wa,fb)})):1===$a&&1===fb||Ba.push(n(Ba)+"scale("+$a+","+fb+")")}return function(xa,Wa){var $a=[],fb=[];xa=H(xa);Wa=H(Wa);u(xa.translateX,xa.translateY,
Wa.translateX,Wa.translateY,$a,fb);x(xa.rotate,Wa.rotate,$a,fb);L(xa.skewX,Wa.skewX,$a,fb);ia(xa.scaleX,xa.scaleY,Wa.scaleX,Wa.scaleY,$a,fb);xa=Wa=null;return function(Ba){for(var T=-1,da=fb.length,Xa;++T<da;)$a[(Xa=fb[T]).i]=Xa.x(Ba);return $a.join("")}}}function S(H){return((H=Math.exp(H))+1/H)/2}function la(H){return function(p,h){var m=H((p=q.hsl(p)).h,(h=q.hsl(h)).h),n=Ea(p.s,h.s),u=Ea(p.l,h.l),x=Ea(p.opacity,h.opacity);return function(L){p.h=m(L);p.s=n(L);p.l=u(L);p.opacity=x(L);return p+""}}}
function wa(H){return function(p,h){var m=H((p=q.hcl(p)).h,(h=q.hcl(h)).h),n=Ea(p.c,h.c),u=Ea(p.l,h.l),x=Ea(p.opacity,h.opacity);return function(L){p.h=m(L);p.c=n(L);p.l=u(L);p.opacity=x(L);return p+""}}}function Da(H){return function m(h){function n(u,x){var L=H((u=q.cubehelix(u)).h,(x=q.cubehelix(x)).h),ia=Ea(u.s,x.s),xa=Ea(u.l,x.l),Wa=Ea(u.opacity,x.opacity);return function($a){u.h=L($a);u.s=ia($a);u.l=xa(Math.pow($a,h));u.opacity=Wa($a);return u+""}}h=+h;n.gamma=m;return n}(1)}var Oa=H=>()=>H,
Ha=function h(p){function m(u,x){var L=n((u=q.rgb(u)).r,(x=q.rgb(x)).r),ia=n(u.g,x.g),xa=n(u.b,x.b),Wa=Ea(u.opacity,x.opacity);return function($a){u.r=L($a);u.g=ia($a);u.b=xa($a);u.opacity=Wa($a);return u+""}}var n=jb(p);m.gamma=h;return m}(1),Va=ab(Ma),Fa=ab(Fb),E=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,w=new RegExp(E.source,"g"),F=180/Math.PI,Z={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},D,P=va(function(p){p=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(p+
"");return p.isIdentity?Z:Qa(p.a,p.b,p.c,p.d,p.e,p.f)},"px, ","px)","deg)"),N=va(function(p){if(null==p)return Z;D||(D=document.createElementNS("http://www.w3.org/2000/svg","g"));D.setAttribute("transform",p);if(!(p=D.transform.baseVal.consolidate()))return Z;p=p.matrix;return Qa(p.a,p.b,p.c,p.d,p.e,p.f)},", ",")",")"),Y=function u(h,m,n){function x(L,ia){var xa=L[0],Wa=L[1],$a=L[2];L=ia[2];var fb=ia[0]-xa,Ba=ia[1]-Wa,T=fb*fb+Ba*Ba;if(1E-12>T){var da=Math.log(L/$a)/h;L=function(xb){return[xa+xb*fb,
Wa+xb*Ba,$a*Math.exp(h*xb*da)]}}else{var Xa=Math.sqrt(T);ia=(L*L-$a*$a+n*T)/(2*$a*m*Xa);L=(L*L-$a*$a-n*T)/(2*L*m*Xa);var zb=Math.log(Math.sqrt(ia*ia+1)-ia);da=(Math.log(Math.sqrt(L*L+1)-L)-zb)/h;L=function(xb){xb*=da;var Pb=S(zb),bc=h*xb+zb;var Uc=((bc=Math.exp(2*bc))-1)/(bc+1);var yc=zb;bc=((yc=Math.exp(yc))-1/yc)/2;Uc=$a/(m*Xa)*(Pb*Uc-bc);return[xa+Uc*fb,Wa+Uc*Ba,$a*Pb/S(h*xb+zb)]}}L.duration=1E3*da*h/Math.SQRT2;return L}x.rho=function(L){L=Math.max(.001,+L);var ia=L*L;return u(L,ia,ia*ia)};return x}(Math.SQRT2,
2,4),ua=la(Bb),Ga=la(Ea),G=wa(Bb),ca=wa(Ea),ba=Da(Bb),V=Da(Ea);k.interpolate=ta;k.interpolateArray=function(h,m){return(Ca(m)?bb:ma)(h,m)};k.interpolateBasis=Ma;k.interpolateBasisClosed=Fb;k.interpolateCubehelix=ba;k.interpolateCubehelixLong=V;k.interpolateDate=oa;k.interpolateDiscrete=function(h){var m=h.length;return function(n){return h[Math.max(0,Math.min(m-1,Math.floor(n*m)))]}};k.interpolateHcl=G;k.interpolateHclLong=ca;k.interpolateHsl=ua;k.interpolateHslLong=Ga;k.interpolateHue=function(h,
m){var n=Bb(+h,+m);return function(u){u=n(u);return u-360*Math.floor(u/360)}};k.interpolateLab=function(h,m){var n=Ea((h=q.lab(h)).l,(m=q.lab(m)).l),u=Ea(h.a,m.a),x=Ea(h.b,m.b),L=Ea(h.opacity,m.opacity);return function(ia){h.l=n(ia);h.a=u(ia);h.b=x(ia);h.opacity=L(ia);return h+""}};k.interpolateNumber=Ia;k.interpolateNumberArray=bb;k.interpolateObject=Ua;k.interpolateRgb=Ha;k.interpolateRgbBasis=Va;k.interpolateRgbBasisClosed=Fa;k.interpolateRound=function(h,m){return h=+h,m=+m,function(n){return Math.round(h*
(1-n)+m*n)}};k.interpolateString=Ta;k.interpolateTransformCss=P;k.interpolateTransformSvg=N;k.interpolateZoom=Y;k.piecewise=function(h,m){void 0===m&&(m=h,h=ta);for(var n=0,u=m.length-1,x=m[0],L=Array(0>u?0:u);n<u;)L[n]=h(x,x=m[++n]);return function(ia){var xa=Math.max(0,Math.min(u-1,Math.floor(ia*=u)));return L[xa](ia-xa)}};k.quantize=function(h,m){for(var n=Array(m),u=0;u<m;++u)n[u]=h(u/(m-1));return n};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[35]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb,Vb(16),Vb(34),Vb(17),Vb(18),Vb(20)):"function"===typeof define&&define.amd?define("exports d3-array d3-interpolate d3-format d3-time d3-time-format".split(" "),q):(k=k||self,q(k.d3=k.d3||{},k.d3,k.d3,k.d3,k.d3,k.d3))})(this,function(k,q,R,Ma,Fb,Ja){function db(ya,Nb){switch(arguments.length){case 0:break;case 1:this.range(ya);break;default:this.range(Nb).domain(ya)}return this}function Bb(ya,
Nb){switch(arguments.length){case 0:break;case 1:"function"===typeof ya?this.interpolator(ya):this.range(ya);break;default:this.domain(ya),"function"===typeof Nb?this.interpolator(Nb):this.range(Nb)}return this}function jb(){function ya(cc){var gb=cc+"",Kb=Nb.get(gb);if(!Kb){if(uc!==Pb)return uc;Nb.set(gb,Kb=Sb.push(cc))}return Zb[(Kb-1)%Zb.length]}var Nb=new Map,Sb=[],Zb=[],uc=Pb;ya.domain=function(cc){if(!arguments.length)return Sb.slice();Sb=[];Nb=new Map;for(const gb of cc){const Kb=gb+"";Nb.has(Kb)||
Nb.set(Kb,Sb.push(gb))}return ya};ya.range=function(cc){return arguments.length?(Zb=Array.from(cc),ya):Zb.slice()};ya.unknown=function(cc){return arguments.length?(uc=cc,ya):uc};ya.copy=function(){return jb(Sb,Zb).unknown(uc)};db.apply(ya,arguments);return ya}function Ea(){function ya(){var Tc=Sb().length,xd=cc<uc,tb=xd?cc:uc,Jb=xd?uc:cc;gb=(Jb-tb)/Math.max(1,Tc-Nc+2*dd);Eb&&(gb=Math.floor(gb));tb+=(Jb-tb-gb*(Tc-Nc))*Ic;Kb=gb*(1-Nc);Eb&&(tb=Math.round(tb),Kb=Math.round(Kb));Tc=q.range(Tc).map(function(Gc){return tb+
gb*Gc});return Zb(xd?Tc.reverse():Tc)}var Nb=jb().unknown(void 0),Sb=Nb.domain,Zb=Nb.range,uc=0,cc=1,gb,Kb,Eb=!1,Nc=0,dd=0,Ic=.5;delete Nb.unknown;Nb.domain=function(Tc){return arguments.length?(Sb(Tc),ya()):Sb()};Nb.range=function(Tc){return arguments.length?([uc,cc]=Tc,uc=+uc,cc=+cc,ya()):[uc,cc]};Nb.rangeRound=function(Tc){return[uc,cc]=Tc,uc=+uc,cc=+cc,Eb=!0,ya()};Nb.bandwidth=function(){return Kb};Nb.step=function(){return gb};Nb.round=function(Tc){return arguments.length?(Eb=!!Tc,ya()):Eb};
Nb.padding=function(Tc){return arguments.length?(Nc=Math.min(1,dd=+Tc),ya()):Nc};Nb.paddingInner=function(Tc){return arguments.length?(Nc=Math.min(1,Tc),ya()):Nc};Nb.paddingOuter=function(Tc){return arguments.length?(dd=+Tc,ya()):dd};Nb.align=function(Tc){return arguments.length?(Ic=Math.max(0,Math.min(1,Tc)),ya()):Ic};Nb.copy=function(){return Ea(Sb(),[uc,cc]).round(Eb).paddingInner(Nc).paddingOuter(dd).align(Ic)};return db.apply(ya(),arguments)}function ab(ya){var Nb=ya.copy;ya.padding=ya.paddingOuter;
delete ya.paddingInner;delete ya.paddingOuter;ya.copy=function(){return ab(Nb())};return ya}function bb(ya){return function(){return ya}}function Ca(ya){return+ya}function ma(ya){return ya}function oa(ya,Nb){return(Nb-=ya=+ya)?function(Sb){return(Sb-ya)/Nb}:bb(isNaN(Nb)?NaN:.5)}function Ia(ya,Nb){if(ya>Nb){var Sb=ya;ya=Nb;Nb=Sb}return function(Zb){return Math.max(ya,Math.min(Nb,Zb))}}function Ua(ya,Nb,Sb){var Zb=ya[0];ya=ya[1];var uc=Nb[0];Nb=Nb[1];ya<Zb?(Zb=oa(ya,Zb),uc=Sb(Nb,uc)):(Zb=oa(Zb,ya),
uc=Sb(uc,Nb));return function(cc){return uc(Zb(cc))}}function na(ya,Nb,Sb){var Zb=Math.min(ya.length,Nb.length)-1,uc=Array(Zb),cc=Array(Zb),gb=-1;ya[Zb]<ya[0]&&(ya=ya.slice().reverse(),Nb=Nb.slice().reverse());for(;++gb<Zb;)uc[gb]=oa(ya[gb],ya[gb+1]),cc[gb]=Sb(Nb[gb],Nb[gb+1]);return function(Kb){var Eb=q.bisect(ya,Kb,1,Zb)-1;return cc[Eb](uc[Eb](Kb))}}function qa(ya,Nb){return Nb.domain(ya.domain()).range(ya.range()).interpolate(ya.interpolate()).clamp(ya.clamp()).unknown(ya.unknown())}function Ta(){function ya(){var Tc=
Math.min(Sb.length,Zb.length);Eb!==ma&&(Eb=Ia(Sb[0],Sb[Tc-1]));Nc=2<Tc?na:Ua;dd=Ic=null;return Nb}function Nb(Tc){return isNaN(Tc=+Tc)?Kb:(dd||(dd=Nc(Sb.map(cc),Zb,uc)))(cc(Eb(Tc)))}var Sb=bc,Zb=bc,uc=R.interpolate,cc,gb,Kb,Eb=ma,Nc,dd,Ic;Nb.invert=function(Tc){return Eb(gb((Ic||(Ic=Nc(Zb,Sb.map(cc),R.interpolateNumber)))(Tc)))};Nb.domain=function(Tc){return arguments.length?(Sb=Array.from(Tc,Ca),ya()):Sb.slice()};Nb.range=function(Tc){return arguments.length?(Zb=Array.from(Tc),ya()):Zb.slice()};
Nb.rangeRound=function(Tc){return Zb=Array.from(Tc),uc=R.interpolateRound,ya()};Nb.clamp=function(Tc){return arguments.length?(Eb=Tc?!0:ma,ya()):Eb!==ma};Nb.interpolate=function(Tc){return arguments.length?(uc=Tc,ya()):uc};Nb.unknown=function(Tc){return arguments.length?(Kb=Tc,Nb):Kb};return function(Tc,xd){cc=Tc;gb=xd;return ya()}}function ta(ya,Nb,Sb,Zb){Sb=q.tickStep(ya,Nb,Sb);var uc;Zb=Ma.formatSpecifier(null==Zb?",f":Zb);switch(Zb.type){case "s":return ya=Math.max(Math.abs(ya),Math.abs(Nb)),
null!=Zb.precision||isNaN(uc=Ma.precisionPrefix(Sb,ya))||(Zb.precision=uc),Ma.formatPrefix(Zb,ya);case "":case "e":case "g":case "p":case "r":null!=Zb.precision||isNaN(uc=Ma.precisionRound(Sb,Math.max(Math.abs(ya),Math.abs(Nb))))||(Zb.precision=uc-("e"===Zb.type));break;case "f":case "%":null!=Zb.precision||isNaN(uc=Ma.precisionFixed(Sb))||(Zb.precision=uc-2*("%"===Zb.type))}return Ma.format(Zb)}function Qa(ya){var Nb=ya.domain;ya.ticks=function(Sb){var Zb=Nb();return q.ticks(Zb[0],Zb[Zb.length-1],
null==Sb?10:Sb)};ya.tickFormat=function(Sb,Zb){var uc=Nb();return ta(uc[0],uc[uc.length-1],null==Sb?10:Sb,Zb)};ya.nice=function(Sb){null==Sb&&(Sb=10);var Zb=Nb(),uc=0,cc=Zb.length-1,gb=Zb[uc],Kb=Zb[cc],Eb=10;if(Kb<gb){var Nc=gb;gb=Kb;Kb=Nc;Nc=uc;uc=cc;cc=Nc}for(;0<Eb--;){Nc=q.tickIncrement(gb,Kb,Sb);if(Nc===dd)return Zb[uc]=gb,Zb[cc]=Kb,Nb(Zb);if(0<Nc)gb=Math.floor(gb/Nc)*Nc,Kb=Math.ceil(Kb/Nc)*Nc;else if(0>Nc)gb=Math.ceil(gb*Nc)/Nc,Kb=Math.floor(Kb*Nc)/Nc;else break;var dd=Nc}return ya};return ya}
function va(){var ya=Ta()(ma,ma);ya.copy=function(){return qa(ya,va())};db.apply(ya,arguments);return Qa(ya)}function S(ya){function Nb(Zb){return isNaN(Zb=+Zb)?Sb:Zb}var Sb;Nb.invert=Nb;Nb.domain=Nb.range=function(Zb){return arguments.length?(ya=Array.from(Zb,Ca),Nb):ya.slice()};Nb.unknown=function(Zb){return arguments.length?(Sb=Zb,Nb):Sb};Nb.copy=function(){return S(ya).unknown(Sb)};ya=arguments.length?Array.from(ya,Ca):[0,1];return Qa(Nb)}function la(ya,Nb){ya=ya.slice();var Sb=0,Zb=ya.length-
1,uc=ya[Sb],cc=ya[Zb];if(cc<uc){var gb=Sb;Sb=Zb;Zb=gb;gb=uc;uc=cc;cc=gb}ya[Sb]=Nb.floor(uc);ya[Zb]=Nb.ceil(cc);return ya}function wa(ya){return Math.log(ya)}function Da(ya){return Math.exp(ya)}function Oa(ya){return-Math.log(-ya)}function Ha(ya){return-Math.exp(-ya)}function Va(ya){return isFinite(ya)?+("1e"+ya):0>ya?0:ya}function Fa(ya){return 10===ya?Va:ya===Math.E?Math.exp:function(Nb){return Math.pow(ya,Nb)}}function E(ya){return ya===Math.E?Math.log:10===ya&&Math.log10||2===ya&&Math.log2||(ya=
Math.log(ya),function(Nb){return Math.log(Nb)/ya})}function w(ya){return function(Nb){return-ya(-Nb)}}function F(ya){function Nb(){cc=E(uc);gb=Fa(uc);0>Zb()[0]?(cc=w(cc),gb=w(gb),ya(Oa,Ha)):ya(wa,Da);return Sb}var Sb=ya(wa,Da),Zb=Sb.domain,uc=10,cc,gb;Sb.base=function(Kb){return arguments.length?(uc=+Kb,Nb()):uc};Sb.domain=function(Kb){return arguments.length?(Zb(Kb),Nb()):Zb()};Sb.ticks=function(Kb){var Eb=Zb(),Nc=Eb[0];Eb=Eb[Eb.length-1];var dd;if(dd=Eb<Nc)Ic=Nc,Nc=Eb,Eb=Ic;var Ic=cc(Nc),Tc=cc(Eb),
xd=null==Kb?10:+Kb,tb=[];if(!(uc%1)&&Tc-Ic<xd){Ic=Math.floor(Ic);Tc=Math.ceil(Tc);if(0<Nc)for(;Ic<=Tc;++Ic){var Jb=1;for(Kb=gb(Ic);Jb<uc;++Jb){var Gc=Kb*Jb;if(!(Gc<Nc)){if(Gc>Eb)break;tb.push(Gc)}}}else for(;Ic<=Tc;++Ic)for(Jb=uc-1,Kb=gb(Ic);1<=Jb;--Jb)if(Gc=Kb*Jb,!(Gc<Nc)){if(Gc>Eb)break;tb.push(Gc)}2*tb.length<xd&&(tb=q.ticks(Nc,Eb,xd))}else tb=q.ticks(Ic,Tc,Math.min(Tc-Ic,xd)).map(gb);return dd?tb.reverse():tb};Sb.tickFormat=function(Kb,Eb){null==Eb&&(Eb=10===uc?".0e":",");"function"!==typeof Eb&&
(Eb=Ma.format(Eb));if(Infinity===Kb)return Eb;null==Kb&&(Kb=10);var Nc=Math.max(1,uc*Kb/Sb.ticks().length);return function(dd){var Ic=dd/gb(Math.round(cc(dd)));Ic*uc<uc-.5&&(Ic*=uc);return Ic<=Nc?Eb(dd):""}};Sb.nice=function(){return Zb(la(Zb(),{floor:function(Kb){return gb(Math.floor(cc(Kb)))},ceil:function(Kb){return gb(Math.ceil(cc(Kb)))}}))};return Sb}function Z(){var ya=F(Ta()).domain([1,10]);ya.copy=function(){return qa(ya,Z()).base(ya.base())};db.apply(ya,arguments);return ya}function D(ya){return function(Nb){return Math.sign(Nb)*
Math.log1p(Math.abs(Nb/ya))}}function P(ya){return function(Nb){return Math.sign(Nb)*Math.expm1(Math.abs(Nb))*ya}}function N(ya){var Nb=1,Sb=ya(D(Nb),P(Nb));Sb.constant=function(Zb){return arguments.length?ya(D(Nb=+Zb),P(Nb)):Nb};return Qa(Sb)}function Y(){var ya=N(Ta());ya.copy=function(){return qa(ya,Y()).constant(ya.constant())};return db.apply(ya,arguments)}function ua(ya){return function(Nb){return 0>Nb?-Math.pow(-Nb,ya):Math.pow(Nb,ya)}}function Ga(ya){return 0>ya?-Math.sqrt(-ya):Math.sqrt(ya)}
function G(ya){return 0>ya?-ya*ya:ya*ya}function ca(ya){var Nb=ya(ma,ma),Sb=1;Nb.exponent=function(Zb){return arguments.length?(Sb=+Zb,1===Sb?ya(ma,ma):.5===Sb?ya(Ga,G):ya(ua(Sb),ua(1/Sb))):Sb};return Qa(Nb)}function ba(){var ya=ca(Ta());ya.copy=function(){return qa(ya,ba()).exponent(ya.exponent())};db.apply(ya,arguments);return ya}function V(ya){return Math.sign(ya)*ya*ya}function H(){function ya(cc){cc=Nb(cc);cc=Math.sign(cc)*Math.sqrt(Math.abs(cc));return isNaN(cc)?uc:Zb?Math.round(cc):cc}var Nb=
Ta()(ma,ma),Sb=[0,1],Zb=!1,uc;ya.invert=function(cc){return Nb.invert(V(cc))};ya.domain=function(cc){return arguments.length?(Nb.domain(cc),ya):Nb.domain()};ya.range=function(cc){return arguments.length?(Nb.range((Sb=Array.from(cc,Ca)).map(V)),ya):Sb.slice()};ya.rangeRound=function(cc){return ya.range(cc).round(!0)};ya.round=function(cc){return arguments.length?(Zb=!!cc,ya):Zb};ya.clamp=function(cc){return arguments.length?(Nb.clamp(cc),ya):Nb.clamp()};ya.unknown=function(cc){return arguments.length?
(uc=cc,ya):uc};ya.copy=function(){return H(Nb.domain(),Sb).round(Zb).clamp(Nb.clamp()).unknown(uc)};db.apply(ya,arguments);return Qa(ya)}function p(){function ya(){var gb=0,Kb=Math.max(1,Zb.length);for(uc=Array(Kb-1);++gb<Kb;)uc[gb-1]=q.quantileSorted(Sb,gb/Kb);return Nb}function Nb(gb){return isNaN(gb=+gb)?cc:Zb[q.bisect(uc,gb)]}var Sb=[],Zb=[],uc=[],cc;Nb.invertExtent=function(gb){gb=Zb.indexOf(gb);return 0>gb?[NaN,NaN]:[0<gb?uc[gb-1]:Sb[0],gb<uc.length?uc[gb]:Sb[Sb.length-1]]};Nb.domain=function(gb){if(!arguments.length)return Sb.slice();
Sb=[];for(let Kb of gb)null==Kb||isNaN(Kb=+Kb)||Sb.push(Kb);Sb.sort(q.ascending);return ya()};Nb.range=function(gb){return arguments.length?(Zb=Array.from(gb),ya()):Zb.slice()};Nb.unknown=function(gb){return arguments.length?(cc=gb,Nb):cc};Nb.quantiles=function(){return uc.slice()};Nb.copy=function(){return p().domain(Sb).range(Zb).unknown(cc)};return db.apply(Nb,arguments)}function h(){function ya(Eb){return Eb<=Eb?gb[q.bisect(cc,Eb,0,uc)]:Kb}function Nb(){var Eb=-1;for(cc=Array(uc);++Eb<uc;)cc[Eb]=
((Eb+1)*Zb-(Eb-uc)*Sb)/(uc+1);return ya}var Sb=0,Zb=1,uc=1,cc=[.5],gb=[0,1],Kb;ya.domain=function(Eb){return arguments.length?([Sb,Zb]=Eb,Sb=+Sb,Zb=+Zb,Nb()):[Sb,Zb]};ya.range=function(Eb){return arguments.length?(uc=(gb=Array.from(Eb)).length-1,Nb()):gb.slice()};ya.invertExtent=function(Eb){Eb=gb.indexOf(Eb);return 0>Eb?[NaN,NaN]:1>Eb?[Sb,cc[0]]:Eb>=uc?[cc[uc-1],Zb]:[cc[Eb-1],cc[Eb]]};ya.unknown=function(Eb){return arguments.length?(Kb=Eb,ya):ya};ya.thresholds=function(){return cc.slice()};ya.copy=
function(){return h().domain([Sb,Zb]).range(gb).unknown(Kb)};return db.apply(Qa(ya),arguments)}function m(){function ya(cc){return cc<=cc?Sb[q.bisect(Nb,cc,0,uc)]:Zb}var Nb=[.5],Sb=[0,1],Zb,uc=1;ya.domain=function(cc){return arguments.length?(Nb=Array.from(cc),uc=Math.min(Nb.length,Sb.length-1),ya):Nb.slice()};ya.range=function(cc){return arguments.length?(Sb=Array.from(cc),uc=Math.min(Nb.length,Sb.length-1),ya):Sb.slice()};ya.invertExtent=function(cc){cc=Sb.indexOf(cc);return[Nb[cc-1],Nb[cc]]};ya.unknown=
function(cc){return arguments.length?(Zb=cc,ya):Zb};ya.copy=function(){return m().domain(Nb).range(Sb).unknown(Zb)};return db.apply(ya,arguments)}function n(ya){return new Date(ya)}function u(ya){return ya instanceof Date?+ya:+new Date(+ya)}function x(ya,Nb,Sb,Zb,uc,cc,gb,Kb,Eb){function Nc(Na){return(gb(Na)<Na?tb:cc(Na)<Na?Jb:uc(Na)<Na?Gc:Zb(Na)<Na?ke:Nb(Na)<Na?Sb(Na)<Na?ge:Ke:ya(Na)<Na?Ye:J)(Na)}function dd(Na,mb,Gb){null==Na&&(Na=10);if("number"===typeof Na){var lb=Math.abs(Gb-mb)/Na,Xb=q.bisector(function(Rb){return Rb[2]}).right(ja,
lb);Xb===ja.length?(mb=q.tickStep(mb/Vc,Gb/Vc,Na),Na=ya):Xb?(Xb=ja[lb/ja[Xb-1][2]<ja[Xb][2]/lb?Xb-1:Xb],mb=Xb[1],Na=Xb[0]):(mb=Math.max(q.tickStep(mb,Gb,Na),1),Na=Kb);return Na.every(mb)}return Na}var Ic=Ta()(ma,ma),Tc=Ic.invert,xd=Ic.domain,tb=Eb(".%L"),Jb=Eb(":%S"),Gc=Eb("%I:%M"),ke=Eb("%I %p"),ge=Eb("%a %d"),Ke=Eb("%b %d"),Ye=Eb("%B"),J=Eb("%Y"),ja=[[gb,1,1E3],[gb,5,5E3],[gb,15,15E3],[gb,30,3E4],[cc,1,6E4],[cc,5,3E5],[cc,15,9E5],[cc,30,18E5],[uc,1,36E5],[uc,3,108E5],[uc,6,216E5],[uc,12,432E5],
[Zb,1,864E5],[Zb,2,1728E5],[Sb,1,Uc],[Nb,1,yc],[Nb,3,3*yc],[ya,1,Vc]];Ic.invert=function(Na){return new Date(Tc(Na))};Ic.domain=function(Na){return arguments.length?xd(Array.from(Na,u)):xd().map(n)};Ic.ticks=function(Na){var mb=xd(),Gb=mb[0];mb=mb[mb.length-1];var lb=mb<Gb;if(lb){var Xb=Gb;Gb=mb;mb=Xb}Xb=(Xb=dd(Na,Gb,mb))?Xb.range(Gb,mb+1):[];return lb?Xb.reverse():Xb};Ic.tickFormat=function(Na,mb){return null==mb?Nc:Eb(mb)};Ic.nice=function(Na){var mb=xd();return(Na=dd(Na,mb[0],mb[mb.length-1]))?
xd(la(mb,Na)):Ic};Ic.copy=function(){return qa(Ic,x(ya,Nb,Sb,Zb,uc,cc,gb,Kb,Eb))};return Ic}function L(){function ya(Ic){return isNaN(Ic=+Ic)?dd:Eb(0===gb?.5:(Ic=(Kb(Ic)-uc)*gb,Nc?Math.max(0,Math.min(1,Ic)):Ic))}function Nb(Ic){return function(Tc){var xd,tb;return arguments.length?([xd,tb]=Tc,Eb=Ic(xd,tb),ya):[Eb(0),Eb(1)]}}var Sb=0,Zb=1,uc,cc,gb,Kb,Eb=ma,Nc=!1,dd;ya.domain=function(Ic){return arguments.length?([Sb,Zb]=Ic,uc=Kb(Sb=+Sb),cc=Kb(Zb=+Zb),gb=uc===cc?0:1/(cc-uc),ya):[Sb,Zb]};ya.clamp=function(Ic){return arguments.length?
(Nc=!!Ic,ya):Nc};ya.interpolator=function(Ic){return arguments.length?(Eb=Ic,ya):Eb};ya.range=Nb(R.interpolate);ya.rangeRound=Nb(R.interpolateRound);ya.unknown=function(Ic){return arguments.length?(dd=Ic,ya):dd};return function(Ic){Kb=Ic;uc=Ic(Sb);cc=Ic(Zb);gb=uc===cc?0:1/(cc-uc);return ya}}function ia(ya,Nb){return Nb.domain(ya.domain()).interpolator(ya.interpolator()).clamp(ya.clamp()).unknown(ya.unknown())}function xa(){var ya=Qa(L()(ma));ya.copy=function(){return ia(ya,xa())};return Bb.apply(ya,
arguments)}function Wa(){var ya=F(L()).domain([1,10]);ya.copy=function(){return ia(ya,Wa()).base(ya.base())};return Bb.apply(ya,arguments)}function $a(){var ya=N(L());ya.copy=function(){return ia(ya,$a()).constant(ya.constant())};return Bb.apply(ya,arguments)}function fb(){var ya=ca(L());ya.copy=function(){return ia(ya,fb()).exponent(ya.exponent())};return Bb.apply(ya,arguments)}function Ba(){function ya(Zb){if(!isNaN(Zb=+Zb))return Sb((q.bisect(Nb,Zb,1)-1)/(Nb.length-1))}var Nb=[],Sb=ma;ya.domain=
function(Zb){if(!arguments.length)return Nb.slice();Nb=[];for(let uc of Zb)null==uc||isNaN(uc=+uc)||Nb.push(uc);Nb.sort(q.ascending);return ya};ya.interpolator=function(Zb){return arguments.length?(Sb=Zb,ya):Sb};ya.range=function(){return Nb.map((Zb,uc)=>Sb(uc/(Nb.length-1)))};ya.quantiles=function(Zb){return Array.from({length:Zb+1},(uc,cc)=>q.quantile(Nb,cc/Zb))};ya.copy=function(){return Ba(Sb).domain(Nb)};return Bb.apply(ya,arguments)}function T(){function ya(Jb){return isNaN(Jb=+Jb)?tb:(Jb=.5+
((Jb=+Tc(Jb))-Kb)*(cc*Jb<cc*Kb?Nc:dd),Ic(xd?Math.max(0,Math.min(1,Jb)):Jb))}function Nb(Jb){return function(Gc){var ke,ge,Ke;return arguments.length?([ke,ge,Ke]=Gc,Ic=R.piecewise(Jb,[ke,ge,Ke]),ya):[Ic(0),Ic(.5),Ic(1)]}}var Sb=0,Zb=.5,uc=1,cc=1,gb,Kb,Eb,Nc,dd,Ic=ma,Tc,xd=!1,tb;ya.domain=function(Jb){return arguments.length?([Sb,Zb,uc]=Jb,gb=Tc(Sb=+Sb),Kb=Tc(Zb=+Zb),Eb=Tc(uc=+uc),Nc=gb===Kb?0:.5/(Kb-gb),dd=Kb===Eb?0:.5/(Eb-Kb),cc=Kb<gb?-1:1,ya):[Sb,Zb,uc]};ya.clamp=function(Jb){return arguments.length?
(xd=!!Jb,ya):xd};ya.interpolator=function(Jb){return arguments.length?(Ic=Jb,ya):Ic};ya.range=Nb(R.interpolate);ya.rangeRound=Nb(R.interpolateRound);ya.unknown=function(Jb){return arguments.length?(tb=Jb,ya):tb};return function(Jb){Tc=Jb;gb=Jb(Sb);Kb=Jb(Zb);Eb=Jb(uc);Nc=gb===Kb?0:.5/(Kb-gb);dd=Kb===Eb?0:.5/(Eb-Kb);cc=Kb<gb?-1:1;return ya}}function da(){var ya=Qa(T()(ma));ya.copy=function(){return ia(ya,da())};return Bb.apply(ya,arguments)}function Xa(){var ya=F(T()).domain([.1,1,10]);ya.copy=function(){return ia(ya,
Xa()).base(ya.base())};return Bb.apply(ya,arguments)}function zb(){var ya=N(T());ya.copy=function(){return ia(ya,zb()).constant(ya.constant())};return Bb.apply(ya,arguments)}function xb(){var ya=ca(T());ya.copy=function(){return ia(ya,xb()).exponent(ya.exponent())};return Bb.apply(ya,arguments)}const Pb=Symbol("implicit");var bc=[0,1],Uc=6048E5,yc=2592E6,Vc=31536E6;k.scaleBand=Ea;k.scaleDiverging=da;k.scaleDivergingLog=Xa;k.scaleDivergingPow=xb;k.scaleDivergingSqrt=function(){return xb.apply(null,
arguments).exponent(.5)};k.scaleDivergingSymlog=zb;k.scaleIdentity=S;k.scaleImplicit=Pb;k.scaleLinear=va;k.scaleLog=Z;k.scaleOrdinal=jb;k.scalePoint=function(){return ab(Ea.apply(null,arguments).paddingInner(1))};k.scalePow=ba;k.scaleQuantile=p;k.scaleQuantize=h;k.scaleRadial=H;k.scaleSequential=xa;k.scaleSequentialLog=Wa;k.scaleSequentialPow=fb;k.scaleSequentialQuantile=Ba;k.scaleSequentialSqrt=function(){return fb.apply(null,arguments).exponent(.5)};k.scaleSequentialSymlog=$a;k.scaleSqrt=function(){return ba.apply(null,
arguments).exponent(.5)};k.scaleSymlog=Y;k.scaleThreshold=m;k.scaleTime=function(){return db.apply(x(Fb.timeYear,Fb.timeMonth,Fb.timeWeek,Fb.timeDay,Fb.timeHour,Fb.timeMinute,Fb.timeSecond,Fb.timeMillisecond,Ja.timeFormat).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)};k.scaleUtc=function(){return db.apply(x(Fb.utcYear,Fb.utcMonth,Fb.utcWeek,Fb.utcDay,Fb.utcHour,Fb.utcMinute,Fb.utcSecond,Fb.utcMillisecond,Ja.utcFormat).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)};k.tickFormat=
ta;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[36]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb,Vb(15),Vb(16),Vb(35),Vb(34),Vb(19)):"function"===typeof define&&define.amd?define("exports vega-util d3-array d3-scale d3-interpolate vega-time".split(" "),q):(k="undefined"!==typeof globalThis?globalThis:k||self,q(k.vega={},k.vega,k.d3,k.d3,k.d3,k.vega))})(this,function(k,q,R,Ma,Fb,Ja){function db(p,h,m){h=p-h+2*m;return p?0<h?h:1:0}function Bb(p){return function(h){let m=h[0];h=h[1];let n;
h<m&&(n=m,m=h,h=n);return[p.invert(m),p.invert(h)]}}function jb(p){return function(h){const m=p.range();let n=h[0];h=h[1];let u=-1,x;let L;if(h<n){var ia=n;n=h;h=ia}ia=0;for(L=m.length;ia<L;++ia)m[ia]>=n&&m[ia]<=h&&(0>u&&(u=ia),x=ia);if(!(0>u))return n=p.invertExtent(m[u]),h=p.invertExtent(m[x]),[void 0===n[0]?n[1]:n[0],void 0===h[1]?h[0]:h[1]]}}function Ea(){function p(){var fb=m().length;const Ba=u[1]<u[0],T=u[1-Ba],da=db(fb,xa,Wa);let Xa=u[Ba-0];x=(T-Xa)/(da||1);ia&&(x=Math.floor(x));Xa+=(T-Xa-
x*(fb-xa))*$a;L=x*(1-xa);ia&&(Xa=Math.round(Xa),L=Math.round(L));fb=R.range(fb).map(zb=>Xa+x*zb);return n(Ba?fb.reverse():fb)}const h=Ma.scaleOrdinal().unknown(void 0),m=h.domain,n=h.range;let u=[0,1],x,L,ia=!1,xa=0,Wa=0,$a=.5;delete h.unknown;h.domain=function(fb){return arguments.length?(m(fb),p()):m()};h.range=function(fb){return arguments.length?(u=[+fb[0],+fb[1]],p()):u.slice()};h.rangeRound=function(fb){u=[+fb[0],+fb[1]];ia=!0;return p()};h.bandwidth=function(){return L};h.step=function(){return x};
h.round=function(fb){return arguments.length?(ia=!!fb,p()):ia};h.padding=function(fb){return arguments.length?(xa=Wa=Math.max(0,Math.min(1,fb)),p()):xa};h.paddingInner=function(fb){return arguments.length?(xa=Math.max(0,Math.min(1,fb)),p()):xa};h.paddingOuter=function(fb){return arguments.length?(Wa=Math.max(0,Math.min(1,fb)),p()):Wa};h.align=function(fb){return arguments.length?($a=Math.max(0,Math.min(1,fb)),p()):$a};h.invertRange=function(fb){if(null!=fb[0]&&null!=fb[1]){var Ba=u[1]<u[0],T=Ba?n().reverse():
n(),da=T.length-1,Xa=+fb[0],zb=+fb[1];if(Xa===Xa&&zb===zb){if(zb<Xa){var xb=Xa;Xa=zb;zb=xb}if(!(zb<T[0]||Xa>u[1-Ba]))return fb=Math.max(0,R.bisectRight(T,Xa)-1),zb=Xa===zb?fb:R.bisectRight(T,zb)-1,Xa-T[fb]>L+1E-10&&++fb,Ba&&(xb=fb,fb=da-zb,zb=da-xb),fb>zb?void 0:m().slice(fb,zb+1)}}};h.invert=function(fb){return(fb=h.invertRange([fb,fb]))?fb[0]:fb};h.copy=function(){return Ea().domain(m()).range(u).round(ia).paddingInner(xa).paddingOuter(Wa).align($a)};return p()}function ab(p){const h=p.copy;p.padding=
p.paddingOuter;delete p.paddingInner;p.copy=function(){return ab(h())};return p}function bb(){function p(n){return null==n||n!==n?void 0:m[(R.bisect(h,n)-1)%m.length]}let h=[],m=[];p.domain=function(n){return arguments.length?(h=F.call(n,q.toNumber),p):h.slice()};p.range=function(n){return arguments.length?(m=Z.call(n),p):m.slice()};p.tickFormat=function(n,u){return Ma.tickFormat(h[0],q.peek(h),null==n?10:n,u)};p.copy=function(){return bb().domain(p.domain()).range(p.range())};return p}function Ca(p,
h,m){const n=function(){const u=h();u.invertRange||(u.invertRange=u.invert?Bb(u):u.invertExtent?jb(u):void 0);u.type=p;return u};n.metadata=q.toSet(q.array(m));return n}function ma(p,h,m){return 1<arguments.length?(D[p]=Ca(p,h,m),this):oa(p)?D[p]:void 0}function oa(p){return q.hasOwnProperty(D,p)}function Ia(p,h){return(p=D[p])&&p.metadata[h]}function Ua(p){return Ia(p,"discrete")}function na(p){return Ia(p,"discretizing")}function qa(p){return Ia(p,"log")}function Ta(p){return Ia(p,"temporal")}function ta(p,
h,m){return Fb.piecewise(Qa(h||"rgb",m),p)}function Qa(p,h){p=w[va(p)];return null!=h&&p&&p.gamma?p.gamma(h):p}function va(p){return"interpolate"+p.toLowerCase().split("-").map(h=>h[0].toUpperCase()+h.slice(1)).join("")}function S(p){const h=p.length/6|0,m=Array(h);for(let n=0;n<h;)m[n]="#"+p.slice(6*n,6*++n);return m}function la(p,h){for(const m in p)wa(m,h(p[m]))}function wa(p,h){p=p&&p.toLowerCase();return 1<arguments.length?(N[p]=h,this):N[p]}function Da(p,h,m){var n=p.range();let u=n[0],x=q.peek(n);
n=ua;u>x&&(n=x,x=u,u=n,n=Ga);u=Math.floor(u);x=Math.ceil(x);h=h.map(L=>[L,p(L)]).filter(L=>u<=L[1]&&L[1]<=x).sort(n).map(L=>L[0]);if(0<m&&1<h.length){for(n=[h[0],q.peek(h)];h.length>m&&3<=h.length;)h=h.filter((L,ia)=>!(ia%2));3>h.length&&(h=n)}return h}function Oa(p,h){return p.bins?Da(p,p.bins):p.ticks?p.ticks(h):p.domain()}function Ha(p,h,m,n,u,x){const L=h.type;let ia=Y;if("time"===L||"time"===u)ia=p.timeFormat(n);else if("utc"===L||"utc"===u)ia=p.utcFormat(n);else if(qa(L)){const xa=p.formatFloat(n);
if(x||h.bins)ia=xa;else{const Wa=Va(h,m,!1);ia=$a=>Wa($a)?xa($a):""}}else h.tickFormat?(h=h.domain(),ia=p.formatSpan(h[0],h[h.length-1],m,n)):n&&(ia=p.format(n));return ia}function Va(p,h,m){const n=Oa(p,h),u=p.base(),x=Math.log(u),L=Math.max(1,u*h/n.length);p=ia=>{ia/=Math.pow(u,Math.round(Math.log(ia)/x));ia*u<u-.5&&(ia*=u);return ia<=L};return m?n.filter(p):p}function Fa(p,h){p.bins?(p=p.bins,h=p.slice(0,-1),h.max=q.peek(p),p=h):"log"===p.type?p=Va(p,h,!0):G[p.type]?(p=p[G[p.type]](),p=[-Infinity].concat(p),
p.max=Infinity):p=Oa(p,h);return p}function E(p,h,m,n,u,x,L){if(ca[h.type]&&"time"!==x&&"utc"!==x){{m=h[ca[h.type]]();x=m.length;L=1<x?m[1]-m[0]:m[0];let ia;for(ia=1;ia<x;++ia)L=Math.min(L,m[ia]-m[ia-1]);p=p.formatSpan(0,L,30,u)}}else p=Ha(p,h,m,u,x,L);return"symbol"===n&&(G[h.type]||h.bins)?ba(p):"discrete"===n?V(p):H(p)}var w=function(p){if(p&&p.__esModule)return p;var h=Object.create(null);p&&Object.keys(p).forEach(function(m){if("default"!==m){var n=Object.getOwnPropertyDescriptor(p,m);Object.defineProperty(h,
m,n.get?n:{enumerable:!0,get:function(){return p[m]}})}});h["default"]=p;return Object.freeze(h)}(Fb),F=Array.prototype.map;const Z=Array.prototype.slice,D={};ma("identity",Ma.scaleIdentity);ma("linear",Ma.scaleLinear,"continuous");ma("log",Ma.scaleLog,["continuous","log"]);ma("pow",Ma.scalePow,"continuous");ma("sqrt",Ma.scaleSqrt,"continuous");ma("symlog",Ma.scaleSymlog,"continuous");ma("time",Ma.scaleTime,["continuous","temporal"]);ma("utc",Ma.scaleUtc,["continuous","temporal"]);ma("sequential",
Ma.scaleSequential,["continuous","interpolating"]);ma("sequential-linear",Ma.scaleSequential,["continuous","interpolating"]);ma("sequential-log",Ma.scaleSequentialLog,["continuous","interpolating","log"]);ma("sequential-pow",Ma.scaleSequentialPow,["continuous","interpolating"]);ma("sequential-sqrt",Ma.scaleSequentialSqrt,["continuous","interpolating"]);ma("sequential-symlog",Ma.scaleSequentialSymlog,["continuous","interpolating"]);ma("diverging-linear",Ma.scaleDiverging,["continuous","interpolating"]);
ma("diverging-log",Ma.scaleDivergingLog,["continuous","interpolating","log"]);ma("diverging-pow",Ma.scaleDivergingPow,["continuous","interpolating"]);ma("diverging-sqrt",Ma.scaleDivergingSqrt,["continuous","interpolating"]);ma("diverging-symlog",Ma.scaleDivergingSymlog,["continuous","interpolating"]);ma("quantile",Ma.scaleQuantile,["discretizing","quantile"]);ma("quantize",Ma.scaleQuantize,"discretizing");ma("threshold",Ma.scaleThreshold,"discretizing");ma("bin-ordinal",bb,["discrete","discretizing"]);
ma("ordinal",Ma.scaleOrdinal,"discrete");ma("band",Ea,"discrete");ma("point",function(){return ab(Ea().paddingInner(1))},"discrete");const P=["clamp","base","constant","exponent"],N={};la({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",
category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",
pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},S);la({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",
oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",
purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",
blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",
redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",
magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",
cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",
sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},p=>ta(S(p)));const Y=p=>q.isArray(p)?p.map(h=>String(h)):String(p),ua=(p,h)=>p[1]-h[1],Ga=(p,h)=>h[1]-p[1],G={["quantile"]:"quantiles",["quantize"]:"thresholds",["threshold"]:"domain"},ca={["quantile"]:"quantiles",["quantize"]:"domain"},ba=p=>(h,m,n)=>{m=n[m+1];n=n.max;n=null!=n?n:Infinity;m=null!=m?m:n;h=
Number.isFinite(h)?p(h):null;m=Number.isFinite(m)?p(m):null;return h&&m?h+"  "+m:m?"\x3c "+m:" "+h},V=p=>(h,m)=>m?p(h):null,H=p=>h=>p(h);Object.defineProperty(k,"scaleImplicit",{enumerable:!0,get:function(){return Ma.scaleImplicit}});k.Band="band";k.BinOrdinal="bin-ordinal";k.DiscreteLegend="discrete";k.Diverging="diverging";k.GradientLegend="gradient";k.Identity="identity";k.Linear="linear";k.Log="log";k.Ordinal="ordinal";k.Point="point";k.Pow="pow";k.Quantile="quantile";k.Quantize="quantize";
k.Sequential="sequential";k.Sqrt="sqrt";k.SymbolLegend="symbol";k.Symlog="symlog";k.Threshold="threshold";k.Time="time";k.UTC="utc";k.bandSpace=db;k.domainCaption=function(p,h,m){m=m||{};var n=Math.max(3,m.maxlen||7);{var u=m.format;const x=(m=m.formatType)||h.type;q.isString(u)&&Ta(x)&&(u=u.replace(/%a/g,"%A").replace(/%b/g,"%B"));p=u||"time"!==x?u||"utc"!==x?E(p,h,5,null,u,m,!0):p.utcFormat("%A, %d %B %Y, %X UTC"):p.timeFormat("%A, %d %B %Y, %X")}if(na(h.type))return n=Fa(h).slice(1).map(p),h=n.length,
`${h} boundar${1===h?"y":"ies"}: ${n.join(", ")}`;if(Ua(h.type))return u=h.domain(),h=u.length,n=h>n?u.slice(0,n-2).map(p).join(", ")+", ending with "+u.slice(-1).map(p):u.map(p).join(", "),`${h} value${1===h?"":"s"}: ${n}`;n=h.domain();return`values from ${p(n[0])} to ${p(q.peek(n))}`};k.interpolate=Qa;k.interpolateColors=ta;k.interpolateRange=function(p,h){const m=h[0],n=q.peek(h)-m;return function(u){return p(m+u*n)}};k.isContinuous=function(p){return Ia(p,"continuous")};k.isDiscrete=Ua;k.isDiscretizing=
na;k.isInterpolating=function(p){return Ia(p,"interpolating")};k.isLogarithmic=qa;k.isQuantile=function(p){return Ia(p,"quantile")};k.isTemporal=Ta;k.isValidScaleType=oa;k.labelFormat=E;k.labelFraction=function(p){var h=p.domain();const m=h.length-1;let n=+h[0];h=+q.peek(h);let u=h-n;"threshold"===p.type&&(p=m?u/m:.1,n-=p,h+=p,u=h-n);return x=>(x-n)/u};k.labelValues=Fa;k.quantizeInterpolator=function(p,h){const m=Array(h),n=h+1;for(let u=0;u<h;)m[u]=p(++u/n);return m};k.scale=ma;k.scaleCopy=function(p){const h=
p.type;p=p.copy();p.type=h;return p};k.scaleFraction=function(p,h,m){var n=m-h;let u,x;return n&&Number.isFinite(n)?(n=(u=p.type).indexOf("-"),u=0>n?u:u.slice(n+1),x=ma(u)().domain([h,m]).range([0,1]),P.forEach(L=>p[L]?x[L](p[L]()):0),x):q.constant(.5)};k.scheme=wa;k.tickCount=function(p,h,m){let n;q.isNumber(h)&&(p.bins&&(h=Math.max(h,p.bins.length)),null!=m&&(h=Math.min(h,Math.floor(q.span(p.domain())/m||1))));q.isObject(h)&&(n=h.step,h=h.interval);q.isString(h)&&(h="time"===p.type?Ja.timeInterval(h):
"utc"==p.type?Ja.utcInterval(h):q.error("Only time and utc scales accept interval strings."),n&&(h=h.every(n)));return h};k.tickFormat=Ha;k.tickValues=Oa;k.validTicks=Da;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[37]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb,Vb(15),Vb(31),Vb(30),Vb(32),Vb(26),Vb(36)):"function"===typeof define&&define.amd?define("exports vega-util d3-shape d3-path vega-canvas vega-loader vega-scale".split(" "),q):(k="undefined"!==typeof globalThis?globalThis:k||self,q(k.vega={},k.vega,k.d3,k.d3,k.vega,k.vega,k.vega))})(this,function(k,q,R,Ma,Fb,Ja,db){function Bb(l,v,M){const U=l.gradient;let La=l.id,qb="radial"===U?"p_":"";La||
(La=l.id="gradient_"+oc++,"radial"===U?(l.x1=jb(l.x1,.5),l.y1=jb(l.y1,.5),l.r1=jb(l.r1,0),l.x2=jb(l.x2,.5),l.y2=jb(l.y2,.5),l.r2=jb(l.r2,.5),qb="p_"):(l.x1=jb(l.x1,0),l.y1=jb(l.y1,0),l.x2=jb(l.x2,1),l.y2=jb(l.y2,0)));v[La]=l;return"url("+(M||"")+"#"+qb+La+")"}function jb(l,v){return null!=l?l:v}function Ea(l,v,M){l=q.hasOwnProperty(Yc,l)&&Yc[l];var U=null;l&&(U=l.curve||l[v||"vertical"],l.tension&&null!=M&&(U=U[l.tension](M)));return U}function ab(l){const v=[];let M,U,La,qb;var yb;const Ob=l.slice().replace(Fc[0],
"###$1").split(Fc[1]).slice(1);l=0;for(qb=Ob.length;l<qb;++l){var ac=Ob[l];var zc=ac.slice(1).trim().replace(Fc[2],"$1###$2").replace(Fc[3],"$1###$2").split(Fc[4]);U=ac.charAt(0);ac=[U];La=0;for(yb=zc.length;La<yb;++La)(M=+zc[La])===M&&ac.push(M);zc=pc[U.toLowerCase()];if(ac.length-1>zc)for(yb=ac.length,La=1,v.push([U].concat(ac.slice(La,La+=zc))),U="M"===U?"L":"m"===U?"l":U;La<yb;La+=zc)v.push([U].concat(ac.slice(La,La+zc)));else v.push(ac)}return v}function bb(l,v,M,U,La,qb,yb,Ob,ac){const zc=ne.call(arguments);
if(Jd[zc])return Jd[zc];var vc=yb*fd;const ld=Math.sin(vc);vc=Math.cos(vc);M=Math.abs(M);U=Math.abs(U);var yd=vc*(Ob-l)*.5+ld*(ac-v)*.5,Kc=vc*(ac-v)*.5-ld*(Ob-l)*.5;yd=yd*yd/(M*M)+Kc*Kc/(U*U);1<yd&&(yd=Math.sqrt(yd),M*=yd,U*=yd);var Fd=vc/M,Td=ld/M,te=-ld/U,X=vc/U;yd=Fd*Ob+Td*ac;Kc=te*Ob+X*ac;Fd=Fd*l+Td*v;Td=te*l+X*v;te=1/((Fd-yd)*(Fd-yd)+(Td-Kc)*(Td-Kc))-.25;0>te&&(te=0);X=Math.sqrt(te);qb==La&&(X=-X);te=.5*(yd+Fd)-X*(Td-Kc);X=.5*(Kc+Td)+X*(Fd-yd);yd=Math.atan2(Kc-X,yd-te);Kc=Math.atan2(Td-X,Fd-
te)-yd;0>Kc&&1===qb?Kc+=$b:0<Kc&&0===qb&&(Kc-=$b);Fd=Math.ceil(Math.abs(Kc/(Dd+.001)));Td=[];for(let sa=0;sa<Fd;++sa)Td[sa]=[te,X,yd+sa*Kc/Fd,yd+(sa+1)*Kc/Fd,M,U,ld,vc];return Jd[zc]=Td}function Ca(l,v,M,U,La,qb){var yb=null,Ob=0,ac=0,zc=0,vc=0;null==M&&(M=0);null==U&&(U=0);null==La&&(La=1);null==qb&&(qb=La);l.beginPath&&l.beginPath();for(var ld=0,yd=v.length;ld<yd;++ld){var Kc=v[ld];if(1!==La||1!==qb){var Fd=La;var Td=qb;var te=le[0]=Kc[0];if("a"===te||"A"===te)le[1]=Fd*Kc[1],le[2]=Td*Kc[2],le[3]=
Kc[3],le[4]=Kc[4],le[5]=Kc[5],le[6]=Fd*Kc[6],le[7]=Td*Kc[7];else if("h"===te||"H"===te)le[1]=Fd*Kc[1];else if("v"===te||"V"===te)le[1]=Td*Kc[1];else{te=1;for(var X=Kc.length;te<X;++te)le[te]=(1==te%2?Fd:Td)*Kc[te]}Kc=le}switch(Kc[0]){case "l":Ob+=Kc[1];ac+=Kc[2];l.lineTo(Ob+M,ac+U);break;case "L":Ob=Kc[1];ac=Kc[2];l.lineTo(Ob+M,ac+U);break;case "h":Ob+=Kc[1];l.lineTo(Ob+M,ac+U);break;case "H":Ob=Kc[1];l.lineTo(Ob+M,ac+U);break;case "v":ac+=Kc[1];l.lineTo(Ob+M,ac+U);break;case "V":ac=Kc[1];l.lineTo(Ob+
M,ac+U);break;case "m":Ob+=Kc[1];ac+=Kc[2];l.moveTo(Ob+M,ac+U);break;case "M":Ob=Kc[1];ac=Kc[2];l.moveTo(Ob+M,ac+U);break;case "c":Fd=Ob+Kc[5];Td=ac+Kc[6];zc=Ob+Kc[3];vc=ac+Kc[4];l.bezierCurveTo(Ob+Kc[1]+M,ac+Kc[2]+U,zc+M,vc+U,Fd+M,Td+U);Ob=Fd;ac=Td;break;case "C":Ob=Kc[5];ac=Kc[6];zc=Kc[3];vc=Kc[4];l.bezierCurveTo(Kc[1]+M,Kc[2]+U,zc+M,vc+U,Ob+M,ac+U);break;case "s":Fd=Ob+Kc[3];Td=ac+Kc[4];zc=2*Ob-zc;vc=2*ac-vc;l.bezierCurveTo(zc+M,vc+U,Ob+Kc[1]+M,ac+Kc[2]+U,Fd+M,Td+U);zc=Ob+Kc[1];vc=ac+Kc[2];Ob=
Fd;ac=Td;break;case "S":Fd=Kc[3];Td=Kc[4];zc=2*Ob-zc;vc=2*ac-vc;l.bezierCurveTo(zc+M,vc+U,Kc[1]+M,Kc[2]+U,Fd+M,Td+U);Ob=Fd;ac=Td;zc=Kc[1];vc=Kc[2];break;case "q":Fd=Ob+Kc[3];Td=ac+Kc[4];zc=Ob+Kc[1];vc=ac+Kc[2];l.quadraticCurveTo(zc+M,vc+U,Fd+M,Td+U);Ob=Fd;ac=Td;break;case "Q":Fd=Kc[3];Td=Kc[4];l.quadraticCurveTo(Kc[1]+M,Kc[2]+U,Fd+M,Td+U);Ob=Fd;ac=Td;zc=Kc[1];vc=Kc[2];break;case "t":Fd=Ob+Kc[1];Td=ac+Kc[2];null===yb[0].match(/[QqTt]/)?(zc=Ob,vc=ac):"t"===yb[0]?(zc=2*Ob-sa,vc=2*ac-Pa):"q"===yb[0]&&
(zc=2*Ob-zc,vc=2*ac-vc);var sa=zc;var Pa=vc;l.quadraticCurveTo(zc+M,vc+U,Fd+M,Td+U);Ob=Fd;ac=Td;zc=Ob+Kc[1];vc=ac+Kc[2];break;case "T":Fd=Kc[1];Td=Kc[2];zc=2*Ob-zc;vc=2*ac-vc;l.quadraticCurveTo(zc+M,vc+U,Fd+M,Td+U);Ob=Fd;ac=Td;break;case "a":ma(l,Ob+M,ac+U,[Kc[1],Kc[2],Kc[3],Kc[4],Kc[5],Kc[6]+Ob+M,Kc[7]+ac+U]);Ob+=Kc[6];ac+=Kc[7];break;case "A":ma(l,Ob+M,ac+U,[Kc[1],Kc[2],Kc[3],Kc[4],Kc[5],Kc[6]+M,Kc[7]+U]);Ob=Kc[6];ac=Kc[7];break;case "z":case "Z":l.closePath()}yb=Kc}}function ma(l,v,M,U){v=bb(U[5],
U[6],U[0],U[1],U[3],U[4],U[2],v,M);for(M=0;M<v.length;++M){a:{var La=v[M];U=ne.call(La);if(Hb[U]){U=Hb[U];break a}var qb=La[0],yb=La[1],Ob=La[2],ac=La[3],zc=La[4],vc=La[5],ld=La[6],yd=La[7];La=yd*zc;const Fd=-ld*vc;zc*=ld;vc*=yd;var Kc=Math.cos(Ob);const Td=Math.sin(Ob);ld=Math.cos(ac);yd=Math.sin(ac);Ob=.5*(ac-Ob);ac=Math.sin(.5*Ob);ac=8/3*ac*ac/Math.sin(Ob);Ob=qb+Kc-ac*Td;Kc=yb+Td+ac*Kc;qb+=ld;yb+=yd;yd=qb+ac*yd;ld=yb-ac*ld;U=Hb[U]=[La*Ob+Fd*Kc,zc*Ob+vc*Kc,La*yd+Fd*ld,zc*yd+vc*ld,La*qb+Fd*yb,zc*
qb+vc*yb]}l.bezierCurveTo(U[0],U[1],U[2],U[3],U[4],U[5])}}function oa(l){return q.hasOwnProperty(xe,l)?xe[l]:Ia(l)}function Ia(l){if(!q.hasOwnProperty(jf,l)){const v=ab(l);jf[l]={draw:function(M,U){Ca(M,v,0,0,Math.sqrt(U)/2)}}}return jf[l]}function Ua(l){return l.x}function na(l){return l.y}function qa(l){return l.width}function Ta(l){return l.height}function ta(l){return"function"===typeof l?l:()=>+l}function Qa(l,v,M){return Math.max(v,Math.min(l,M))}function va(){function l(vc,ld,yd){var Kc;ld=
null!=ld?ld:+v.call(this,vc);yd=null!=yd?yd:+M.call(this,vc);var Fd=+U.call(this,vc),Td=+La.call(this,vc),te=Math.min(Fd,Td)/2,X=Qa(+qb.call(this,vc),0,te),sa=Qa(+yb.call(this,vc),0,te),Pa=Qa(+Ob.call(this,vc),0,te);vc=Qa(+ac.call(this,vc),0,te);zc||(zc=Kc=Ma.path());0>=X&&0>=sa&&0>=Pa&&0>=vc?zc.rect(ld,yd,Fd,Td):(Fd=ld+Fd,Td=yd+Td,zc.moveTo(ld+X,yd),zc.lineTo(Fd-sa,yd),zc.bezierCurveTo(Fd-.448084975506*sa,yd,Fd,yd+.448084975506*sa,Fd,yd+sa),zc.lineTo(Fd,Td-vc),zc.bezierCurveTo(Fd,Td-.448084975506*
vc,Fd-.448084975506*vc,Td,Fd-vc,Td),zc.lineTo(ld+Pa,Td),zc.bezierCurveTo(ld+.448084975506*Pa,Td,ld,Td-.448084975506*Pa,ld,Td-Pa),zc.lineTo(ld,yd+X),zc.bezierCurveTo(ld,yd+.448084975506*X,ld+.448084975506*X,yd,ld+X,yd),zc.closePath());if(Kc)return zc=null,Kc+""||null}var v=Ua,M=na,U=qa,La=Ta,qb=ta(0),yb=qb,Ob=qb,ac=qb,zc=null;l.x=function(vc){return arguments.length?(v=ta(vc),l):v};l.y=function(vc){return arguments.length?(M=ta(vc),l):M};l.width=function(vc){return arguments.length?(U=ta(vc),l):U};
l.height=function(vc){return arguments.length?(La=ta(vc),l):La};l.cornerRadius=function(vc,ld,yd,Kc){return arguments.length?(qb=ta(vc),yb=null!=ld?ta(ld):qb,ac=null!=yd?ta(yd):qb,Ob=null!=Kc?ta(Kc):yb,l):qb};l.context=function(vc){return arguments.length?(zc=null==vc?null:vc,l):zc};return l}function S(){function l(vc){var ld,yd=vc.length,Kc,Fd=!1,Td;null==qb&&(qb=Td=Ma.path());for(ld=0;ld<=yd;++ld)if(!(ld<yd&&La(Kc=vc[ld],ld,vc))===Fd&&(Fd=!Fd)&&(yb=0),Fd){{var te=+v(Kc,ld,vc),X=+M(Kc,ld,vc);const nc=
+U(Kc,ld,vc)/2;if(yb){var sa=ac-X,Pa=te-Ob;if(sa||Pa){var kb=Math.sqrt(sa*sa+Pa*Pa),Ab=(sa/=kb)*zc;kb=(Pa/=kb)*zc;var jc=Math.atan2(Pa,sa);qb.moveTo(Ob-Ab,ac-kb);qb.lineTo(te-sa*nc,X-Pa*nc);qb.arc(te,X,nc,jc-Math.PI,jc);qb.lineTo(Ob+Ab,ac+kb);qb.arc(Ob,ac,zc,jc,jc+Math.PI)}else qb.arc(te,X,nc,0,$b);qb.closePath()}else yb=1;Ob=te;ac=X;zc=nc}}if(Td)return qb=null,Td+""||null}var v,M,U,La,qb=null,yb,Ob,ac,zc;l.x=function(vc){return arguments.length?(v=vc,l):v};l.y=function(vc){return arguments.length?
(M=vc,l):M};l.size=function(vc){return arguments.length?(U=vc,l):U};l.defined=function(vc){return arguments.length?(La=vc,l):La};l.context=function(vc){return arguments.length?(qb=null==vc?null:vc,l):qb};return l}function la(l,v){return null!=l?l:v}function wa(l){return l.cornerRadius||l.cornerRadiusTopLeft||l.cornerRadiusTopRight||l.cornerRadiusBottomRight||l.cornerRadiusBottomLeft}function Da(l,v,M,U){return Wc.context(l)(v,M,U)}function Oa(l,v,M){var U=v.clip;l=l._defs;v=v.clip_id||(v.clip_id=
"clip"+Zd++);l=l.clipping[v]||(l.clipping[v]={id:v});q.isFunction(U)?l.path=U(null):wa(M)?l.path=Da(null,M,0,0):(l.width=M.width||0,l.height=M.height||0);return"url(#"+v+")"}function Ha(l){this.clear();l&&this.union(l)}function Va(l){this.mark=l;this.bounds=this.bounds||new Ha}function Fa(l){Va.call(this,l);this.items=this.items||[]}function E(l){this._pending=0;this._loader=l||Ja.loader()}function w(l,v,M){if(v.stroke&&0!==v.opacity&&0!==v.strokeOpacity){const U=null!=v.strokeWidth?+v.strokeWidth:
1;l.expand(U+(M?v.strokeJoin&&"miter"!==v.strokeJoin?0:U:0))}return l}function F(l,v){Vd=l;v?(Pe=v*fd,td=ye=Math.cos(Pe),vd=Math.sin(Pe),ie=-vd):(td=ye=1,Pe=vd=ie=0);return Se}function Z(l,v,M,U){M=(l-v)/(l+M-2*v);0<M&&1>M&&U(l+(v-l)*M)}function D(l,v,M,U,La){const qb=U-l+3*v-3*M,yb=l+M-2*v;var Ob=l-v;let ac=0,zc=0;1E-14<Math.abs(qb)?(Ob=yb*yb+Ob*qb,0<=Ob&&(Ob=Math.sqrt(Ob),ac=(-yb+Ob)/qb,zc=(-yb-Ob)/qb)):ac=.5*Ob/yb;0<ac&&1>ac&&La(P(ac,l,v,M,U));0<zc&&1>zc&&La(P(zc,l,v,M,U))}function P(l,v,M,U,La){const qb=
1-l,yb=qb*qb,Ob=l*l;return yb*qb*v+3*yb*l*M+3*qb*Ob*U+Ob*l*La}function N(l){return function(v,M){if(!Te)return!0;l(Te,v);of.clear().union(v.bounds).intersect(M).round();const {x1:U,y1:La,x2:qb,y2:yb}=of;for(v=La;v<=yb;++v)for(M=U;M<=qb;++M)if(Te.isPointInPath(M,v))return!0;return!1}}function Y(l,v){return v.contains(l.x||0,l.y||0)}function ua(l,v){const M=l.x||0,U=l.y||0;return v.intersects(of.set(M,U,M+(l.width||0),U+(l.height||0)))}function Ga(l,v){const M=l.x||0,U=l.y||0;return G(v,M,U,null!=l.x2?
l.x2:M,null!=l.y2?l.y2:U)}function G(l,v,M,U,La){const {x1:qb,y1:yb,x2:Ob,y2:ac}=l;l=U-v;La-=M;U=0;let zc=1,vc,ld,yd,Kc;for(Kc=0;4>Kc;++Kc){0===Kc&&(vc=-l,ld=-(qb-v));1===Kc&&(vc=l,ld=Ob-v);2===Kc&&(vc=-La,ld=-(yb-M));3===Kc&&(vc=La,ld=ac-M);if(1E-10>Math.abs(vc)&&0>ld)return!1;yd=ld/vc;if(0>vc){if(yd>zc)return!1;yd>U&&(U=yd)}else if(0<vc){if(yd<U)return!1;yd<zc&&(zc=yd)}}return!0}function ca(l,v){l.globalCompositeOperation=v.blend||"source-over"}function ba(l,v){return null==l?v:l}function V(l,v){const M=
v.length;for(let U=0;U<M;++U)l.addColorStop(v[U].offset,v[U].color);return l}function H(l,v,M){const U=M.width(),La=M.height();if("radial"===v.gradient)l=l.createRadialGradient(M.x1+ba(v.x1,.5)*U,M.y1+ba(v.y1,.5)*La,Math.max(U,La)*ba(v.r1,0),M.x1+ba(v.x2,.5)*U,M.y1+ba(v.y2,.5)*La,Math.max(U,La)*ba(v.r2,.5));else{const qb=ba(v.x1,0),yb=ba(v.y1,0),Ob=ba(v.x2,1),ac=ba(v.y2,0);if(qb===Ob||yb===ac||U===La)l=l.createLinearGradient(M.x1+qb*U,M.y1+yb*La,M.x1+Ob*U,M.y1+ac*La);else{M=Fb.canvas(Math.ceil(U),
Math.ceil(La));const zc=M.getContext("2d");zc.scale(U,La);zc.fillStyle=V(zc.createLinearGradient(qb,yb,Ob,ac),v.stops);zc.fillRect(0,0,U,La);return l.createPattern(M,"no-repeat")}}return V(l,v.stops)}function p(l,v,M){M*=null==v.fillOpacity?1:v.fillOpacity;return 0<M?(l.globalAlpha=M,v=(M=v.fill)&&M.gradient?H(l,M,v.bounds):M,l.fillStyle=v,!0):!1}function h(l,v,M){var U=null!=(U=v.strokeWidth)?U:1;if(0>=U)return!1;M*=null==v.strokeOpacity?1:v.strokeOpacity;return 0<M?(l.globalAlpha=M,M=(M=v.stroke)&&
M.gradient?H(l,M,v.bounds):M,l.strokeStyle=M,l.lineWidth=U,l.lineCap=v.strokeCap||"butt",l.lineJoin=v.strokeJoin||"miter",l.miterLimit=v.strokeMiterLimit||10,l.setLineDash&&(l.setLineDash(v.strokeDash||pf),l.lineDashOffset=v.strokeDashOffset||0),!0):!1}function m(l,v){return l.zindex-v.zindex||l.index-v.index}function n(l){if(!l.zdirty)return l.zitems;var v=l.items,M=[],U;var La=0;for(U=v.length;La<U;++La){var qb=v[La];qb.index=La;qb.zindex&&M.push(qb)}l.zdirty=!1;return l.zitems=M.sort(m)}function u(l,
v){var M=l.items,U;if(M&&M.length){var La=n(l);if(La&&La.length){l=0;for(U=M.length;l<U;++l)M[l].zindex||v(M[l]);M=La}l=0;for(U=M.length;l<U;++l)v(M[l])}}function x(l,v){var M=l.items,U,La;if(!M||!M.length)return null;const qb=n(l);qb&&qb.length&&(M=qb);for(La=M.length;0<=--La;)if(U=v(M[La]))return U;if(M===qb)for(M=l.items,La=M.length;0<=--La;)if(!M[La].zindex&&(U=v(M[La])))return U;return null}function L(l){return function(v,M,U){u(M,La=>{U&&!U.intersects(La.bounds)||xa(l,v,La,La)})}}function ia(l){return function(v,
M,U){!M.items.length||U&&!U.intersects(M.bounds)||xa(l,v,M.items[0],M.items)}}function xa(l,v,M,U){var La=null==M.opacity?1:M.opacity;0===La||l(v,U)||(ca(v,M),M.fill&&p(v,M,La)&&v.fill(),M.stroke&&h(v,M,La)&&v.stroke())}function Wa(l){l=l||q.truthy;return function(v,M,U,La,qb,yb){U*=v.pixelRatio;La*=v.pixelRatio;return x(M,Ob=>{const ac=Ob.bounds;if((!ac||ac.contains(qb,yb))&&ac&&l(v,Ob,U,La,qb,yb))return Ob})}}function $a(l,v){return function(M,U,La,qb){var yb=Array.isArray(U)?U[0]:U,Ob=null==v?
yb.fill:v,ac=yb.stroke&&M.isPointInStroke;if(ac){var zc=yb.strokeWidth;yb=yb.strokeCap;M.lineWidth=null!=zc?zc:1;M.lineCap=null!=yb?yb:"butt"}return l(M,U)?!1:Ob&&M.isPointInPath(La,qb)||ac&&M.isPointInStroke(La,qb)}}function fb(l,v){return"translate("+l+","+v+")"}function Ba(l,v,M){function U(La,qb){var yb=qb.x||0,Ob=qb.y||0,ac=qb.angle||0;La.translate(yb,Ob);ac&&La.rotate(ac*=fd);La.beginPath();v(La,qb);ac&&La.rotate(-ac);La.translate(-yb,-Ob)}return{type:l,tag:"path",nested:!1,attr:function(La,
qb){var yb=fb(qb.x||0,qb.y||0)+(qb.angle?" rotate("+(qb.angle+")"):"");La("transform",yb);La("d",v(null,qb))},bound:function(La,qb){v(F(La,qb.angle),qb);return w(La,qb).translate(qb.x||0,qb.y||0)},draw:L(U),pick:Wa($a(U)),isect:M||N(U)}}function T(l,v,M){function U(qb,yb){qb.beginPath();v(qb,yb)}const La=$a(U);return{type:l,tag:"path",nested:!0,attr:function(qb,yb){yb=yb.mark.items;yb.length&&qb("d",v(null,yb))},bound:function(qb,yb){yb=yb.items;if(0===yb.length)return qb;v(F(qb),yb);return w(qb,
yb[0])},draw:ia(U),pick:function(qb,yb,Ob,ac,zc,vc){var ld=yb.items;yb=yb.bounds;if(!ld||!ld.length||yb&&!yb.contains(zc,vc))return null;Ob*=qb.pixelRatio;ac*=qb.pixelRatio;return La(qb,ld,Ob,ac)?ld[0]:null},isect:Y,tip:M}}function da(l,v){l.beginPath();wa(v)?Da(l,v,0,0):l.rect(0,0,v.width||0,v.height||0);l.clip()}function Xa(l){const v=ba(l.strokeWidth,1);return null!=l.strokeOffset?l.strokeOffset:l.stroke&&.5<v&&1.5>v?.5-Math.abs(v-1):0}function zb(l,v,M,U){const La=Xa(v);l.beginPath();Da(l,v,(M||
0)+La,(U||0)+La)}function xb(l,v){var M=l.image;if(!M||l.url&&l.url!==M.url)M={complete:!1,width:0,height:0},v.loadImage(l.url).then(U=>{l.image=U;l.image.url=l.url});return M}function Pb(l,v){return null!=l.width?l.width:v&&v.width?!1!==l.aspect&&l.height?l.height*v.width/v.height:v.width:0}function bc(l,v){return null!=l.height?l.height:v&&v.height?!1!==l.aspect&&l.width?l.width*v.height/v.width:v.height:0}function Uc(l,v){return"center"===l?v/2:"right"===l?v:0}function yc(l,v){return"middle"===
l?v/2:"bottom"===l?v:0}function Vc(l,v){var M=v.path;if(null==M)return!0;var U=v.x||0,La=v.y||0,qb=v.scaleX||1,yb=v.scaleY||1,Ob=(v.angle||0)*fd,ac=v.pathCache;ac&&ac.path===M||((v.pathCache=ac=ab(M)).path=M);Ob&&l.rotate&&l.translate?(l.translate(U,La),l.rotate(Ob),Ca(l,ac,0,0,qb,yb),l.rotate(-Ob),l.translate(-U,-La)):Ca(l,ac,U,La,qb,yb)}function ya(l,v){l.beginPath();Da(l,v)}function Nb(l,v,M){if(v.stroke&&h(l,v,M)){M=v.x||0;var U=v.y||0;var La=null!=v.x2?v.x2:M;v=null!=v.y2?v.y2:U;l.beginPath();
l.moveTo(M,U);l.lineTo(La,v);return!0}return!1}function Sb(l){pd.width=l&&Te?uc:Zb}function Zb(l,v){v=Nc(l,v);l=gb(l);return~~(.8*v.length*l)}function uc(l,v){return 0>=gb(l)||!(v=Nc(l,v))?0:cc(v,Tc(l))}function cc(l,v){const M=`(${v}) ${l}`;let U=$d.get(M);void 0===U&&(Te.font=v,U=Te.measureText(l).width,$d.set(M,U));return U}function gb(l){return null!=l.fontSize?+l.fontSize||0:11}function Kb(l){return null!=l.lineHeight?l.lineHeight:gb(l)+2}function Eb(l){l=l.lineBreak&&l.text&&!q.isArray(l.text)?
l.text.split(l.lineBreak):l.text;return q.isArray(l)?1<l.length?l:l[0]:l}function Nc(l,v){v=null==v?"":(v+"").trim();if(0<l.limit&&v.length){var M=+l.limit,U=dd(l);if(!(U(v)<M)){var La=l.ellipsis||"",qb="rtl"===l.dir;l=0;var yb=v.length;M-=U(La);if(qb){for(;l<yb;)qb=l+yb>>>1,U(v.slice(qb))>M?l=qb+1:yb=qb;v=La+v.slice(l)}else{for(;l<yb;)qb=1+(l+yb>>>1),U(v.slice(0,qb))<M?l=qb:yb=qb-1;v=v.slice(0,l)+La}}}return v}function dd(l){if(pd.width===uc){const v=Tc(l);return M=>cc(M,v)}{const v=gb(l);return M=>
~~(.8*M.length*v)}}function Ic(l,v){l=l.font;return(v&&l?String(l).replace(/"/g,"'"):l)||"sans-serif"}function Tc(l,v){return(l.fontStyle?l.fontStyle+" ":"")+(l.fontVariant?l.fontVariant+" ":"")+(l.fontWeight?l.fontWeight+" ":"")+gb(l)+"px "+Ic(l,v)}function xd(l){var v=l.baseline,M=gb(l);return Math.round("top"===v?.79*M:"middle"===v?.3*M:"bottom"===v?-.21*M:"line-top"===v?.29*M+.5*Kb(l):"line-bottom"===v?.29*M-.5*Kb(l):0)}function tb(l){var v=l.x||0,M=l.y||0,U=l.radius||0;U&&(l=(l.theta||0)-Dd,
v+=U*Math.cos(l),M+=U*Math.sin(l));Cd.x1=v;Cd.y1=M;return Cd}function Jb(l,v,M){var U=pd.height(v),La=v.align,qb=tb(v),yb=qb.x1;qb=qb.y1;var Ob=v.dx||0,ac=(v.dy||0)+xd(v)-Math.round(.8*U),zc=Eb(v);q.isArray(zc)?(U+=Kb(v)*(zc.length-1),zc=zc.reduce((vc,ld)=>Math.max(vc,pd.width(v,ld)),0)):zc=pd.width(v,zc);"center"===La?Ob-=zc/2:"right"===La&&(Ob-=zc);l.set(Ob+=yb,ac+=qb,Ob+zc,ac+U);if(v.angle&&!M)l.rotate(v.angle*fd,yb,qb);else if(2===M)return l.rotatedPoints(v.angle*fd,yb,qb);return l}function Gc(l,
v,M){var U=pe[l.mark.marktype];v=v||U.bound;U.nested&&(l=l.mark);return v(l.bounds||(l.bounds=new Ha),l,M)}function ke(l,v,M){var U=pe[l.marktype],La=U.bound,qb=l.items,yb=qb&&qb.length;if(U.nested)return yb?l=qb[0]:(xf.mark=l,l=xf),M=Gc(l,La,M),v=v&&v.union(M)||M;v=v||l.bounds&&l.bounds.clear()||new Ha;if(yb)for(U=0,yb=qb.length;U<yb;++U)v.union(Gc(qb[U],La,M));return l.bounds=v}function ge(l,v){return JSON.stringify(l,ae,v)}function Ke(l){l="string"===typeof l?JSON.parse(l):l;return Ye(l)}function Ye(l){var v=
l.marktype,M=l.items,U;if(M){var La=0;for(U=M.length;La<U;++La){var qb=v?"mark":"group";M[La][qb]=l;M[La].zindex&&(M[La][qb].zdirty=!0);"group"===(v||qb)&&Ye(M[La])}}v&&ke(l);return l}function J(l){arguments.length?this.root=Ke(l):(this.root=ja({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Fa(this.root)])}function ja(l,v){v={bounds:new Ha,clip:!!l.clip,group:v,interactive:!1===l.interactive?!1:!0,items:[],marktype:l.marktype,name:l.name||void 0,role:l.role||void 0,zindex:l.zindex||
0};null!=l.aria&&(v.aria=l.aria);l.description&&(v.description=l.description);return v}function Na(l,v,M){!l&&"undefined"!==typeof document&&document.createElement&&(l=document);return l?M?l.createElementNS(M,v):l.createElement(v):null}function mb(l,v){v=v.toLowerCase();l=l.childNodes;for(var M=0,U=l.length;M<U;++M)if(l[M].tagName.toLowerCase()===v)return l[M]}function Gb(l,v,M,U){v=l.childNodes[v];if(!v||v.tagName.toLowerCase()!==M.toLowerCase()){var La=v||null;v=Na(l.ownerDocument,M,U);l.insertBefore(v,
La)}return v}function lb(l,v){for(var M=l.childNodes,U=M.length;U>v;)l.removeChild(M[--U]);return l}function Xb(l){return"mark-"+l.marktype+(l.role?" role-"+l.role:"")+(l.name?" "+l.name:"")}function Rb(l,v){const M=v.getBoundingClientRect();return[l.clientX-M.left-(v.clientLeft||0),l.clientY-M.top-(v.clientTop||0)]}function ra(l,v){this._active=null;this._handlers={};this._loader=l||Ja.loader();this._tooltip=v||Ra}function Ra(l,v,M,U){l.element().setAttribute("title",U||"")}function rb(l){this._bgcolor=
this._el=null;this._loader=new E(l)}function Mb(l,v){ra.call(this,l,v);this._touch=this._down=null;this._first=!0;this._events={}}function dc(l,v){("touchstart"===v||"touchmove"===v||"touchend"===v?["touchstart","touchmove","touchend"]:[v]).forEach(M=>hc(l,M))}function hc(l,v){const M=l.canvas();M&&!l._events[v]&&(l._events[v]=1,M.addEventListener(v,l[v]?U=>l[v](U):U=>l.fire(v,U)))}function sc(l,v,M){return function(U){const La=this._active,qb=this.pickEvent(U);qb!==La&&(La&&La.exit||this.fire(M,
U),this._active=qb,this.fire(v,U));this.fire(l,U)}}function sb(l){return function(v){this.fire(l,v);this._active=null}}function gc(l){rb.call(this,l);this._options={};this._redraw=!1;this._dirty=new Ha;this._tempb=new Ha}function ic(l,v){ra.call(this,l,v);const M=this;M._hrefHandler=bg(M,(U,La)=>{La&&La.href&&M.handleHref(U,La,La.href)});M._tooltipHandler=bg(M,(U,La)=>{M.handleTooltip(U,La,"mouseout"!==U.type)})}function Yb(l,v){var M=!1===v.aria;l("aria-hidden",M||void 0);if(M||null==v.description)for(const U in B)l(B[U],
void 0);else M=v.mark.marktype,l("aria-label",v.description),l("role",v.ariaRole||("group"===M?"graphics-object":"graphics-symbol")),l("aria-roledescription",v.ariaRoleDescription||`${M} mark`)}function lc(l){return!1===l.aria?{["aria-hidden"]:!0}:Xf[l.role]?null:A[l.role]?Cc(l,A[l.role]):Ec(l)}function Ec(l){const v=l.marktype,M="group"===v||"text"===v||l.items.some(U=>null!=U.description&&!1!==U.aria);return Af(M?"graphics-object":"graphics-symbol",`${v} mark container`,l.description)}function Cc(l,
v){try{const M=l.items[0],U=v.caption||(()=>"");return Af(v.role||"graphics-symbol",v.desc,M.description||U(M))}catch(M){return null}}function id(l){try{return q.array(q.peek(l.items).items[0].text).join(" ")}catch(v){return null}}function jd(l){l=l.map(v=>v+("fill"===v||"stroke"===v?" color":""));return 2>l.length?l[0]:l.slice(0,-1).join(", ")+" and "+q.peek(l)}function qd(){let l="",v="",M="";const U=[],La=(yb,Ob)=>{null!=Ob&&(v+=` ${yb}="${I(Ob).replace(/"/g,"\x26quot;").replace(/\t/g,"\x26#x9;").replace(/\n/g,
"\x26#xA;").replace(/\r/g,"\x26#xD;")}"`);return qb},qb={open(yb,...Ob){v&&(l+=`${v}>${M}`,v=M="");U.push(yb);v="\x3c"+yb;for(const ac of Ob)for(const zc in ac)La(zc,ac[zc]);return qb},close(){const yb=U.pop();l=v?l+(v+(M?`>${M}</${yb}>`:"/\x3e")):l+`</${yb}>`;v=M="";return qb},attr:La,text:yb=>(M+=I(yb),qb),toString:()=>l};return qb}function ud(l,v){l.open(v.tagName);if(v.hasAttributes()){var M=v.attributes,U=M.length;for(var La=0;La<U;++La)l.attr(M[La].name,M[La].value)}if(v.hasChildNodes())for(v=
v.childNodes,M=v.length,U=0;U<M;U++)La=v[U],3===La.nodeType?l.text(La.nodeValue):ud(l,La);return l.close()}function be(l){rb.call(this,l);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}function Yd(l,v){for(;l&&l.dirty!==v;l=l.mark.group)if(l.dirty=v,l.mark&&l.mark.dirty!==v)l.mark.dirty=v;else break}function de(l,v,M){v=v.lastChild.previousSibling;let U,La=0;u(M,qb=>{U=l.mark(v,qb,U);++La});lb(v,1+La)}function ve(l,v,M,U,La){let qb=l._svg;if(!qb){var yb=v.ownerDocument;qb=Na(yb,
U,Aa);l._svg=qb;l.mark&&(qb.__data__=l,qb.__values__={fill:"default"},"g"===U&&(U=Na(yb,"path",Aa),qb.appendChild(U),U.__data__=l,U=Na(yb,"g",Aa),qb.appendChild(U),U.__data__=l,yb=Na(yb,"path",Aa),qb.appendChild(yb),yb.__data__=l,yb.__values__={fill:"default"}))}(qb.ownerSVGElement!==La||qb.parentNode&&1<qb.parentNode.childNodes.length&&qb.previousSibling!=M)&&v.insertBefore(qb,M?M.nextSibling:v.firstChild);return qb}function Ae(l,v,M){if(v!==hb[l]){if(M){var U=Sa;null!=v?U.setAttributeNS(M,l,v):
U.removeAttributeNS(M,l)}else Ld(Sa,l,v);hb[l]=v}}function We(l,v,M){M!==hb[v]&&(null==M?l.style.removeProperty(v):l.style.setProperty(v,M+""),hb[v]=M)}function zd(l,v){for(const M in v)Ld(l,M,v[M])}function Ld(l,v,M){null!=M?l.setAttribute(v,M):l.removeAttribute(v)}function ef(){let l;return"undefined"===typeof window?"":(l=window.location).hash?l.href.slice(0,-l.hash.length):l.href}function me(l){rb.call(this,l);this._text=null;this._defs={gradient:{},clipping:{}}}function W(l,v,M,U,La){if(null==
v)return l;"bgrect"===U&&!1===M.interactive&&(l["pointer-events"]="none");if("bgfore"===U&&(!1===M.interactive&&(l["pointer-events"]="none"),l.display="none",null!==v.fill))return l;"image"===U&&!1===v.smooth&&(l.style="image-rendering: optimizeSpeed; image-rendering: pixelated;");"text"===U&&(l["font-family"]=Ic(v),l["font-size"]=gb(v)+"px",l["font-style"]=v.fontStyle,l["font-variant"]=v.fontVariant,l["font-weight"]=v.fontWeight);for(const qb in ea)M=v[qb],U=ea[qb],("transparent"!==M||"fill"!==U&&
"stroke"!==U)&&null!=M&&(M&&M.gradient&&(M=Bb(M,La.gradient,"")),l[U]=M);return l}function ha(l,v,M,U){if(l.bounds&&v.intersects(l.bounds)&&("group"===l.marktype||!1!==l.interactive&&(!M||M(l)))){const qb=l.items;var La=l.marktype;l=qb.length;let yb=0;if("group"===La)for(;yb<l;++yb)za(qb[yb],v,M,U);else for(M=pe[La].isect;yb<l;++yb)La=qb[yb],ob(La,v,M)&&U.push(La)}return U}function za(l,v,M,U){M&&M(l.mark)&&ob(l,v,pe.group.isect)&&U.push(l);const La=l.items,qb=La&&La.length;if(qb){const yb=l.x||0;
l=l.y||0;v.translate(-yb,-l);for(let Ob=0;Ob<qb;++Ob)ha(La[Ob],v,M,U);v.translate(yb,l)}return U}function ob(l,v,M){const U=l.bounds;return v.encloses(U)||v.intersects(U)&&M(l,v)}function Za(l,v,M){return l===v?!0:"path"===M?vb(l,v):l instanceof Date&&v instanceof Date?+l===+v:q.isNumber(l)&&q.isNumber(v)?1E-9>=Math.abs(l-v):l&&v&&(q.isObject(l)||q.isObject(v))?Tb(l,v):l==v}function vb(l,v){return Za(ab(l),ab(v))}function Tb(l,v){var M=Object.keys(l),U=Object.keys(v),La;if(M.length!==U.length)return!1;
M.sort();U.sort();for(La=M.length-1;0<=La;La--)if(M[La]!=U[La])return!1;for(La=M.length-1;0<=La;La--)if(U=M[La],!Za(l[U],v[U],U))return!1;return typeof l===typeof v}let oc=0;const Yc={basis:{curve:R.curveBasis},"basis-closed":{curve:R.curveBasisClosed},"basis-open":{curve:R.curveBasisOpen},bundle:{curve:R.curveBundle,tension:"beta",value:.85},cardinal:{curve:R.curveCardinal,tension:"tension",value:0},"cardinal-open":{curve:R.curveCardinalOpen,tension:"tension",value:0},"cardinal-closed":{curve:R.curveCardinalClosed,
tension:"tension",value:0},"catmull-rom":{curve:R.curveCatmullRom,tension:"alpha",value:.5},"catmull-rom-closed":{curve:R.curveCatmullRomClosed,tension:"alpha",value:.5},"catmull-rom-open":{curve:R.curveCatmullRomOpen,tension:"alpha",value:.5},linear:{curve:R.curveLinear},"linear-closed":{curve:R.curveLinearClosed},monotone:{horizontal:R.curveMonotoneY,vertical:R.curveMonotoneX},natural:{curve:R.curveNatural},step:{curve:R.curveStep},"step-after":{curve:R.curveStepAfter},"step-before":{curve:R.curveStepBefore}},
pc={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},Fc=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\.\d+)(\.\d)/g,/(\d)([-+])/g,/\s|,|###/],fd=Math.PI/180,Dd=Math.PI/2,$b=2*Math.PI,Md=Math.sqrt(3)/2;var Jd={},Hb={},ne=[].join;const le=["l",0,0,0,0,0,0,0],xe={circle:{draw:function(l,v){v=Math.sqrt(v)/2;l.moveTo(v,0);l.arc(0,0,v,0,$b)}},cross:{draw:function(l,v){v=Math.sqrt(v)/2;var M=v/2.5;l.moveTo(-v,-M);l.lineTo(-v,M);l.lineTo(-M,M);l.lineTo(-M,v);l.lineTo(M,v);l.lineTo(M,M);l.lineTo(v,M);l.lineTo(v,-M);l.lineTo(M,
-M);l.lineTo(M,-v);l.lineTo(-M,-v);l.lineTo(-M,-M);l.closePath()}},diamond:{draw:function(l,v){v=Math.sqrt(v)/2;l.moveTo(-v,0);l.lineTo(0,-v);l.lineTo(v,0);l.lineTo(0,v);l.closePath()}},square:{draw:function(l,v){v=Math.sqrt(v);var M=-v/2;l.rect(M,M,v,v)}},arrow:{draw:function(l,v){v=Math.sqrt(v)/2;var M=v/7,U=v/2.5,La=v/8;l.moveTo(-M,v);l.lineTo(M,v);l.lineTo(M,-La);l.lineTo(U,-La);l.lineTo(0,-v);l.lineTo(-U,-La);l.lineTo(-M,-La);l.closePath()}},wedge:{draw:function(l,v){var M=Math.sqrt(v)/2;v=Md*
M;var U=v-.5773502691896257*M;M/=4;l.moveTo(0,-v-U);l.lineTo(-M,v-U);l.lineTo(M,v-U);l.closePath()}},triangle:{draw:function(l,v){v=Math.sqrt(v)/2;var M=Md*v,U=M-.5773502691896257*v;l.moveTo(0,-M-U);l.lineTo(-v,M-U);l.lineTo(v,M-U);l.closePath()}},"triangle-up":{draw:function(l,v){v=Math.sqrt(v)/2;var M=Md*v;l.moveTo(0,-M);l.lineTo(-v,M);l.lineTo(v,M);l.closePath()}},"triangle-down":{draw:function(l,v){v=Math.sqrt(v)/2;var M=Md*v;l.moveTo(0,M);l.lineTo(-v,-M);l.lineTo(v,-M);l.closePath()}},"triangle-right":{draw:function(l,
v){v=Math.sqrt(v)/2;var M=Md*v;l.moveTo(M,0);l.lineTo(-M,-v);l.lineTo(-M,v);l.closePath()}},"triangle-left":{draw:function(l,v){v=Math.sqrt(v)/2;var M=Md*v;l.moveTo(-M,0);l.lineTo(M,-v);l.lineTo(M,v);l.closePath()}},stroke:{draw:function(l,v){v=Math.sqrt(v)/2;l.moveTo(-v,0);l.lineTo(v,0)}}};var jf={};const Je=l=>l.x||0,Ze=l=>l.y||0,Ge=l=>!1!==l.defined,Nd=R.arc().startAngle(l=>l.startAngle||0).endAngle(l=>l.endAngle||0).padAngle(l=>l.padAngle||0).innerRadius(l=>l.innerRadius||0).outerRadius(l=>l.outerRadius||
0).cornerRadius(l=>l.cornerRadius||0),ec=R.area().x(Je).y1(Ze).y0(l=>(l.y||0)+(l.height||0)).defined(Ge),Hd=R.area().y(Ze).x1(Je).x0(l=>(l.x||0)+(l.width||0)).defined(Ge),fc=R.line().x(Je).y(Ze).defined(Ge),Wc=va().x(Je).y(Ze).width(l=>l.width||0).height(l=>l.height||0).cornerRadius(l=>la(l.cornerRadiusTopLeft,l.cornerRadius)||0,l=>la(l.cornerRadiusTopRight,l.cornerRadius)||0,l=>la(l.cornerRadiusBottomRight,l.cornerRadius)||0,l=>la(l.cornerRadiusBottomLeft,l.cornerRadius)||0),re=R.symbol().type(l=>
oa(l.shape||"circle")).size(l=>la(l.size,64)),Rd=S().x(Je).y(Ze).defined(Ge).size(l=>l.size||1);var Zd=1;Ha.prototype={clone(){return new Ha(this)},clear(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;return this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(l){return this.x1===l.x1&&this.y1===l.y1&&this.x2===l.x2&&this.y2===l.y2},set(l,v,M,U){M<l?
(this.x2=l,this.x1=M):(this.x1=l,this.x2=M);U<v?(this.y2=v,this.y1=U):(this.y1=v,this.y2=U);return this},add(l,v){l<this.x1&&(this.x1=l);v<this.y1&&(this.y1=v);l>this.x2&&(this.x2=l);v>this.y2&&(this.y2=v);return this},expand(l){this.x1-=l;this.y1-=l;this.x2+=l;this.y2+=l;return this},round(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this},scale(l){this.x1*=l;this.y1*=l;this.x2*=l;this.y2*=l;return this},translate(l,v){this.x1+=
l;this.x2+=l;this.y1+=v;this.y2+=v;return this},rotate(l,v,M){l=this.rotatedPoints(l,v,M);return this.clear().add(l[0],l[1]).add(l[2],l[3]).add(l[4],l[5]).add(l[6],l[7])},rotatedPoints(l,v,M){var {x1:U,y1:La,x2:qb,y2:yb}=this,Ob=Math.cos(l);l=Math.sin(l);var ac=v-v*Ob+M*l;v=M-v*l-M*Ob;return[Ob*U-l*La+ac,l*U+Ob*La+v,Ob*U-l*yb+ac,l*U+Ob*yb+v,Ob*qb-l*La+ac,l*qb+Ob*La+v,Ob*qb-l*yb+ac,l*qb+Ob*yb+v]},union(l){l.x1<this.x1&&(this.x1=l.x1);l.y1<this.y1&&(this.y1=l.y1);l.x2>this.x2&&(this.x2=l.x2);l.y2>this.y2&&
(this.y2=l.y2);return this},intersect(l){l.x1>this.x1&&(this.x1=l.x1);l.y1>this.y1&&(this.y1=l.y1);l.x2<this.x2&&(this.x2=l.x2);l.y2<this.y2&&(this.y2=l.y2);return this},encloses(l){return l&&this.x1<=l.x1&&this.x2>=l.x2&&this.y1<=l.y1&&this.y2>=l.y2},alignsWith(l){return l&&(this.x1==l.x1||this.x2==l.x2||this.y1==l.y1||this.y2==l.y2)},intersects(l){return l&&!(this.x2<l.x1||this.x1>l.x2||this.y2<l.y1||this.y1>l.y2)},contains(l,v){return!(l<this.x1||l>this.x2||v<this.y1||v>this.y2)},width(){return this.x2-
this.x1},height(){return this.y2-this.y1}};q.inherits(Fa,Va);E.prototype={pending(){return this._pending},sanitizeURL(l){const v=this;v._pending+=1;return v._loader.sanitize(l,{context:"href"}).then(M=>{--v._pending;return M}).catch(()=>{--v._pending;return null})},loadImage(l){const v=this,M=Fb.image();v._pending+=1;return v._loader.sanitize(l,{context:"image"}).then(U=>{const La=U.href;if(!La||!M)throw{url:La};const qb=new M;U=q.hasOwnProperty(U,"crossOrigin")?U.crossOrigin:"anonymous";null!=U&&
(qb.crossOrigin=U);qb.onload=()=>{--v._pending};qb.onerror=()=>{--v._pending};qb.src=La;return qb}).catch(U=>{--v._pending;return{complete:!1,width:0,height:0,src:U&&U.url||""}})},ready(){const l=this;return new Promise(v=>{function M(U){l.pending()?setTimeout(()=>{M(!0)},10):v(U)}M(!1)})}};const Oc=$b-1E-8;let Vd,Od,Kd,Pe,td,vd,ie,ye;const af=(l,v)=>{l=Od=l;v=Kd=v;return Vd.add(l,v)},tf=l=>Vd.add(l,Vd.y1),Ff=l=>Vd.add(Vd.x1,l),ed=(l,v)=>Vd.add(td*l+ie*v,vd*l+ye*v),ze=(l,v)=>af(td*l+ie*v,vd*l+ye*
v),Se={beginPath(){},closePath(){},moveTo:ze,lineTo:ze,rect(l,v,M,U){Pe?(ed(l+M,v),ed(l+M,v+U),ed(l,v+U),ze(l,v)):(Vd.add(l+M,v+U),af(l,v))},quadraticCurveTo(l,v,M,U){const La=vd*l+ye*v,qb=td*M+ie*U;M=vd*M+ye*U;Z(Od,td*l+ie*v,qb,tf);Z(Kd,La,M,Ff);af(qb,M)},bezierCurveTo(l,v,M,U,La,qb){const yb=vd*l+ye*v,Ob=vd*M+ye*U,ac=td*La+ie*qb;La=vd*La+ye*qb;D(Od,td*l+ie*v,td*M+ie*U,ac,tf);D(Kd,yb,Ob,La,Ff);af(ac,La)},arc(l,v,M,U,La,qb){U+=Pe;La+=Pe;Od=M*Math.cos(La)+l;Kd=M*Math.sin(La)+v;if(Math.abs(La-U)>Oc)Vd.add(l-
M,v-M),Vd.add(l+M,v+M);else{const yb=ac=>Vd.add(M*Math.cos(ac)+l,M*Math.sin(ac)+v);let Ob;yb(U);yb(La);if(La!==U)if(U%=$b,0>U&&(U+=$b),La%=$b,0>La&&(La+=$b),La<U&&(qb=!qb,Ob=U,U=La,La=Ob),qb)for(La-=$b,Ob=U-U%Dd,U=0;4>U&&Ob>La;++U,Ob-=Dd)yb(Ob);else for(Ob=U-U%Dd+Dd,U=0;4>U&&Ob<La;++U,Ob+=Dd)yb(Ob)}}};var Te=(Te=Fb.canvas(1,1))?Te.getContext("2d"):null;const of=new Ha;var pf=[],bf=Ba("arc",function(l,v){return Nd.context(l)(v)}),De=T("area",function(l,v){const M=v[0];return("horizontal"===M.orient?
Hd:ec).curve(Ea(M.interpolate||"linear",M.orient,M.tension)).context(l)(v)},function(l,v){v="horizontal"===l[0].orient?v[1]:v[0];for(var M="horizontal"===l[0].orient?"y":"x",U=l.length,La=Infinity,qb,yb;0<=--U;)!1!==l[U].defined&&(yb=Math.abs(l[U][M]-v),yb<La&&(La=yb,qb=l[U]));return qb});const z=$a(zb),O=$a(zb,!1),Ka=$a(zb,!0);var ub={type:"group",tag:"g",nested:!1,attr:function(l,v){l("transform",fb(v.x||0,v.y||0))},bound:function(l,v){if(!v.clip&&v.items){const M=v.items,U=M.length;for(let La=
0;La<U;++La)l.union(M[La].bounds)}(v.clip||v.width||v.height)&&!v.noBound&&l.add(0,0).add(v.width||0,v.height||0);w(l,v);return l.translate(v.x||0,v.y||0)},draw:function(l,v,M){u(v,U=>{const La=U.x||0,qb=U.y||0,yb=U.strokeForeground,Ob=null==U.opacity?1:U.opacity;(U.stroke||U.fill)&&Ob&&(zb(l,U,La,qb),ca(l,U),U.fill&&p(l,U,Ob)&&l.fill(),U.stroke&&!yb&&h(l,U,Ob)&&l.stroke());l.save();l.translate(La,qb);U.clip&&da(l,U);M&&M.translate(-La,-qb);u(U,ac=>{this.draw(l,ac,M)});M&&M.translate(La,qb);l.restore();
yb&&U.stroke&&Ob&&(zb(l,U,La,qb),ca(l,U),h(l,U,Ob)&&l.stroke())})},pick:function(l,v,M,U,La,qb){if(v.bounds&&!v.bounds.contains(La,qb)||!v.items)return null;const yb=M*l.pixelRatio,Ob=U*l.pixelRatio;return x(v,ac=>{let zc,vc;var ld=ac.bounds;if(!ld||ld.contains(La,qb)){zc=ac.x||0;vc=ac.y||0;ld=zc+(ac.width||0);var yd=vc+(ac.height||0),Kc=ac.clip;if(!Kc||!(La<zc||La>ld||qb<vc||qb>yd)){l.save();l.translate(zc,vc);zc=La-zc;vc=qb-vc;if(Kc&&wa(ac)&&!Ka(l,ac,yb,Ob))return l.restore(),null;yd=ac.strokeForeground;
if((Kc=!1!==v.interactive)&&yd&&ac.stroke&&O(l,ac,yb,Ob))return l.restore(),ac;ld=x(ac,Fd=>(!1!==Fd.interactive||"group"===Fd.marktype)&&Fd.bounds&&Fd.bounds.contains(zc,vc)?this.pick(Fd,M,U,zc,vc):null);!ld&&Kc&&(ac.fill||!yd&&ac.stroke)&&z(l,ac,yb,Ob)&&(ld=ac);l.restore();return ld||null}}})},isect:ua,content:function(l,v,M){v=v.clip?Oa(M,v,v):null;l("clip-path",v)},background:function(l,v){l("class","background");l("aria-hidden",!0);{const M=Xa(v);l("d",Da(null,v,M,M))}},foreground:function(l,
v){l("class","foreground");l("aria-hidden",!0);if(v.strokeForeground){{const M=Xa(v);l("d",Da(null,v,M,M))}}else l("d","")}},wb={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"},Lb={type:"image",tag:"image",nested:!1,attr:function(l,v,M){var U=xb(v,M);M=Pb(v,U);const La=bc(v,U),qb=(v.x||0)-Uc(v.align,M),yb=(v.y||0)-yc(v.baseline,La);U=!U.src&&U.toDataURL?U.toDataURL():U.src||"";l("href",U,wb["xmlns:xlink"],"xlink:href");l("transform",fb(qb,yb));l("width",
M);l("height",La);l("preserveAspectRatio",!1===v.aspect?"none":"xMidYMid")},bound:function(l,v){var M=v.image;const U=Pb(v,M);M=bc(v,M);const La=(v.x||0)-Uc(v.align,U);v=(v.y||0)-yc(v.baseline,M);return l.set(La,v,La+U,v+M)},draw:function(l,v,M){u(v,U=>{if(!M||M.intersects(U.bounds)){var La=xb(U,this),qb=Pb(U,La),yb=bc(U,La),Ob=(U.x||0)-Uc(U.align,qb),ac=(U.y||0)-yc(U.baseline,yb),zc;if(!1!==U.aspect){var vc=La.width/La.height;var ld=U.width/U.height;vc===vc&&ld===ld&&vc!==ld&&(ld<vc?(vc=qb/vc,ac+=
(yb-vc)/2,yb=vc):(vc*=yb,Ob+=(qb-vc)/2,qb=vc))}if(La.complete||La.toDataURL)ca(l,U),l.globalAlpha=null!=(zc=U.opacity)?zc:1,l.imageSmoothingEnabled=!1!==U.smooth,l.drawImage(La,Ob,ac,qb,yb)}})},pick:Wa(),isect:q.truthy,get:xb,xOffset:Uc,yOffset:yc},Wb=T("line",function(l,v){const M=v[0];return fc.curve(Ea(M.interpolate||"linear",M.orient,M.tension)).context(l)(v)},function(l,v){for(var M=Math.pow(l[0].strokeWidth||1,2),U=l.length,La,qb;0<=--U;)if(!1!==l[U].defined&&(La=l[U].x-v[0],qb=l[U].y-v[1],
La=La*La+qb*qb,La<M))return l[U];return null}),Jc={type:"path",tag:"path",nested:!1,attr:function(l,v){var M=v.scaleY||1;1===(v.scaleX||1)&&1===M||l("vector-effect","non-scaling-stroke");M=fb(v.x||0,v.y||0)+(v.angle?" rotate("+(v.angle+")"):"")+(v.scaleX||v.scaleY?" scale("+((v.scaleX||1)+","+(v.scaleY||1)+")"):"");l("transform",M);l("d",v.path)},bound:function(l,v){return Vc(F(l,v.angle),v)?l.set(0,0,0,0):w(l,v,!0)},draw:L(Vc),pick:Wa($a(Vc)),isect:N(Vc)},Ac={type:"rect",tag:"path",nested:!1,attr:function(l,
v){l("d",Da(null,v))},bound:function(l,v){var M,U;return w(l.set(M=v.x||0,U=v.y||0,M+v.width||0,U+v.height||0),v)},draw:L(ya),pick:Wa($a(ya)),isect:ua},Xc={type:"rule",tag:"line",nested:!1,attr:function(l,v){l("transform",fb(v.x||0,v.y||0));l("x2",null!=v.x2?v.x2-(v.x||0):0);l("y2",null!=v.y2?v.y2-(v.y||0):0)},bound:function(l,v){var M,U;return w(l.set(M=v.x||0,U=v.y||0,null!=v.x2?v.x2:M,null!=v.y2?v.y2:U),v)},draw:function(l,v,M){u(v,U=>{if(!M||M.intersects(U.bounds)){var La=null==U.opacity?1:U.opacity;
La&&Nb(l,U,La)&&(ca(l,U),l.stroke())}})},pick:Wa(function(l,v,M,U){return l.isPointInStroke?Nb(l,v,1)&&l.isPointInStroke(M,U):!1}),isect:Ga},od=Ba("shape",function(l,v){return(v.mark.shape||v.shape).context(l)(v)}),Bd=Ba("symbol",function(l,v){return re.context(l)(v)},Y);const $d=q.lruCache();var pd={height:gb,measureWidth:uc,estimateWidth:Zb,width:Zb,canvas:Sb};Sb(!0);const Le={left:"start",center:"middle",right:"end"},Cd=new Ha;var se={type:"text",tag:"text",nested:!1,attr:function(l,v){var M=v.dx||
0,U=(v.dy||0)+xd(v),La=tb(v),qb=La.x1;La=La.y1;var yb=v.angle||0;l("text-anchor",Le[v.align]||"start");if(yb){if(v=fb(qb,La)+" rotate("+(yb+")"),M||U)v+=" "+fb(M,U)}else v=fb(qb+M,La+U);l("transform",v)},bound:Jb,draw:function(l,v,M){u(v,U=>{var La=null==U.opacity?1:U.opacity,qb;if(!(M&&!M.intersects(U.bounds)||0===La||0>=U.fontSize||null==U.text||0===U.text.length)){l.font=Tc(U);l.textAlign=U.align||"left";var yb=tb(U);var Ob=yb.x1;yb=yb.y1;U.angle&&(l.save(),l.translate(Ob,yb),l.rotate(U.angle*
fd),Ob=yb=0);Ob+=U.dx||0;yb+=(U.dy||0)+xd(U);var ac=Eb(U);ca(l,U);if(q.isArray(ac)){var zc=Kb(U);for(qb=0;qb<ac.length;++qb){var vc=Nc(U,ac[qb]);U.fill&&p(l,U,La)&&l.fillText(vc,Ob,yb);U.stroke&&h(l,U,La)&&l.strokeText(vc,Ob,yb);yb+=zc}}else vc=Nc(U,ac),U.fill&&p(l,U,La)&&l.fillText(vc,Ob,yb),U.stroke&&h(l,U,La)&&l.strokeText(vc,Ob,yb);U.angle&&l.restore()}})},pick:Wa(function(l,v,M,U,La,qb){if(0>=v.fontSize)return!1;if(!v.angle)return!0;M=tb(v);l=M.x1;M=M.y1;U=Jb(Cd,v,1);var yb=-v.angle*fd;v=Math.cos(yb);
yb=Math.sin(yb);return U.contains(v*La-yb*qb+(l-v*l+yb*M),yb*La+v*qb+(M-yb*l-v*M))}),isect:function(l,v){l=Jb(Cd,l,2);return G(v,l[0],l[1],l[2],l[3])||G(v,l[0],l[1],l[4],l[5])||G(v,l[4],l[5],l[6],l[7])||G(v,l[2],l[3],l[6],l[7])}},ee=T("trail",function(l,v){return Rd.context(l)(v)},function(l,v){for(var M=l.length,U,La;0<=--M;)if(!1!==l[M].defined&&(U=l[M].x-v[0],La=l[M].y-v[1],La=U*U+La*La,U=l[M].size||1,La<U*U))return l[M];return null}),pe={arc:bf,area:De,group:ub,image:Lb,line:Wb,path:Jc,rect:Ac,
rule:Xc,shape:od,symbol:Bd,text:se,trail:ee},xf={mark:null};const ae="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
J.prototype={toJSON(l){return ge(this.root,l||0)},mark(l,v,M){v=v||this.root.items[0];l=ja(l,v);v.items[M]=l;l.zindex&&(l.group.zdirty=!0);return l}};ra.prototype={initialize(l,v,M){this._el=l;this._obj=M||null;return this.origin(v)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(l){return arguments.length?(this._origin=l||[0,0],this):this._origin.slice()},scene(l){if(!arguments.length)return this._scene;this._scene=l;return this},on(){},off(){},_handlerIndex(l,v,
M){for(let U=l?l.length:0;0<=--U;)if(l[U].type===v&&(!M||l[U].handler===M))return U;return-1},handlers(l){const v=this._handlers,M=[];if(l)M.push(...v[this.eventName(l)]);else for(const U in v)M.push(...v[U]);return M},eventName(l){const v=l.indexOf(".");return 0>v?l:l.slice(0,v)},handleHref(l,v,M){this._loader.sanitize(M,{context:"href"}).then(U=>{const La=new MouseEvent(l.type,l),qb=Na(null,"a");for(const yb in U)qb.setAttribute(yb,U[yb]);qb.dispatchEvent(La)}).catch(()=>{})},handleTooltip(l,v,
M){if(v&&null!=v.tooltip){var U=this.canvas(),La=this._origin,qb=v&&v.mark,yb;if(qb&&(yb=pe[qb.marktype]).tip){U=Rb(l,U);U[0]-=La[0];for(U[1]-=La[1];v=v.mark.group;)U[0]-=v.x||0,U[1]-=v.y||0;v=yb.tip(qb.items,U)}this._tooltip.call(this._obj,this,l,v,M&&v&&v.tooltip||null)}},getItemBoundingClientRect(l){var v=this.canvas();if(v){var M=v.getBoundingClientRect(),U=this._origin,La=l.bounds;v=La.width();var qb=La.height(),yb=La.x1+U[0]+M.left;for(M=La.y1+U[1]+M.top;l.mark&&(l=l.mark.group);)yb+=l.x||0,
M+=l.y||0;return{x:yb,y:M,width:v,height:qb,left:yb,top:M,right:yb+v,bottom:M+qb}}}};rb.prototype={initialize(l,v,M,U,La){this._el=l;return this.resize(v,M,U,La)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(l){if(0===arguments.length)return this._bgcolor;this._bgcolor=l;return this},resize(l,v,M,U){this._width=l;this._height=v;this._origin=M||[0,0];this._scale=U||1;return this},dirty(){},render(l){const v=this;v._call=function(){v._render(l)};v._call();v._call=
null;return v},_render(){},renderAsync(l){const v=this.render(l);return this._ready?this._ready.then(()=>v):Promise.resolve(v)},_load(l,v){var M=this;l=M._loader[l](v);if(!M._ready){const U=M._call;M._ready=M._loader.ready().then(La=>{La&&U();M._ready=null})}return l},sanitizeURL(l){return this._load("sanitizeURL",l)},loadImage(l){return this._load("loadImage",l)}};q.inherits(Mb,ra,{initialize(l,v,M){this._canvas=l&&mb(l,"canvas");["click","mousedown","mousemove","mouseout","dragleave"].forEach(U=>
dc(this,U));return ra.prototype.initialize.call(this,l,v,M)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:"keydown keypress keyup dragenter dragleave dragover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" "),DOMMouseScroll(l){this.fire("mousewheel",l)},mousemove:sc("mousemove","mouseover","mouseout"),dragover:sc("dragover","dragenter","dragleave"),mouseout:sb("mouseout"),dragleave:sb("dragleave"),
mousedown(l){this._down=this._active;this.fire("mousedown",l)},click(l){this._down===this._active&&(this.fire("click",l),this._down=null)},touchstart(l){this._touch=this.pickEvent(l.changedTouches[0]);this._first&&(this._active=this._touch,this._first=!1);this.fire("touchstart",l,!0)},touchmove(l){this.fire("touchmove",l,!0)},touchend(l){this.fire("touchend",l,!0);this._touch=null},fire(l,v,M){M=M?this._touch:this._active;const U=this._handlers[l];v.vegaType=l;"click"===l&&M&&M.href?this.handleHref(v,
M,M.href):("mousemove"===l||"mouseout"===l)&&this.handleTooltip(v,M,"mouseout"!==l);if(U)for(let La=0,qb=U.length;La<qb;++La)U[La].handler.call(this._obj,v,M)},on(l,v){const M=this.eventName(l),U=this._handlers;0>this._handlerIndex(U[M],l,v)&&(dc(this,l),(U[M]||(U[M]=[])).push({type:l,handler:v}));return this},off(l,v){var M=this.eventName(l);M=this._handlers[M];l=this._handlerIndex(M,l,v);0<=l&&M.splice(l,1);return this},pickEvent(l){l=Rb(l,this._canvas);const v=this._origin;return this.pick(this._scene,
l[0],l[1],l[0]-v[0],l[1]-v[1])},pick(l,v,M,U,La){const qb=this.context();return pe[l.marktype].pick.call(this,qb,l,v,M,U,La)}});var gf="undefined"!==typeof window?window.devicePixelRatio||1:1;const lf=rb.prototype;q.inherits(gc,rb,{initialize(l,v,M,U,La,qb){this._options=qb||{};this._canvas=this._options.externalContext?null:Fb.canvas(1,1,this._options.type);l&&this._canvas&&(lb(l,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks"));return lf.initialize.call(this,l,v,M,U,La)},
resize(l,v,M,U){lf.resize.call(this,l,v,M,U);if(this._canvas){{l=this._canvas;v=this._width;M=this._height;U=this._origin;var La=this._scale,qb=this._options.context;const Ob="undefined"!==typeof HTMLElement&&l instanceof HTMLElement&&null!=l.parentNode,ac=l.getContext("2d");La=Ob?gf:La;l.width=v*La;l.height=M*La;for(var yb in qb)ac[yb]=qb[yb];Ob&&1!==La&&(l.style.width=v+"px",l.style.height=M+"px");ac.pixelRatio=La;ac.setTransform(La,0,0,La,La*U[0],La*U[1])}}else(yb=this._options.externalContext)||
q.error("CanvasRenderer is missing a valid canvas or context"),yb.scale(this._scale,this._scale),yb.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(l){const v=this._tempb.clear().union(l.bounds);for(l=l.mark.group;l;)v.translate(l.x||0,l.y||0),l=l.mark.group;this._dirty.union(v)},_render(l){const v=this.context(),M=this._origin,U=this._width,
La=this._height,qb=this._dirty;var yb=(new Ha).set(0,0,U,La).translate(-M[0],-M[1]);v.save();this._redraw||qb.empty()?yb=(this._redraw=!1,yb.expand(1)):(yb=yb.intersect(qb),yb.expand(1).round(),v.pixelRatio%1&&yb.scale(v.pixelRatio).round().scale(1/v.pixelRatio),yb.translate(-(M[0]%1),-(M[1]%1)),v.beginPath(),v.rect(yb.x1,yb.y1,yb.width(),yb.height()),v.clip());this.clear(-M[0],-M[1],U,La);this.draw(v,l,yb);v.restore();qb.clear();return this},draw(l,v,M){const U=pe[v.marktype];if(v.clip){var La=v.clip;
l.save();q.isFunction(La)?(l.beginPath(),La(l),l.clip()):da(l,v.group)}U.draw.call(this,l,v,M);v.clip&&l.restore()},clear(l,v,M,U){const La=this._options,qb=this.context();"pdf"===La.type||La.externalContext||qb.clearRect(l,v,M,U);null!=this._bgcolor&&(qb.fillStyle=this._bgcolor,qb.fillRect(l,v,M,U))}});const bg=(l,v)=>M=>{let U=M.target.__data__;U=Array.isArray(U)?U[0]:U;M.vegaType=M.type;v.call(l._obj,M,U)};q.inherits(ic,ra,{initialize(l,v,M){let U=this._svg;U&&(U.removeEventListener("click",this._hrefHandler),
U.removeEventListener("mousemove",this._tooltipHandler),U.removeEventListener("mouseout",this._tooltipHandler));if(this._svg=U=l&&mb(l,"svg"))U.addEventListener("click",this._hrefHandler),U.addEventListener("mousemove",this._tooltipHandler),U.addEventListener("mouseout",this._tooltipHandler);return ra.prototype.initialize.call(this,l,v,M)},canvas(){return this._svg},on(l,v){const M=this.eventName(l),U=this._handlers;0>this._handlerIndex(U[M],l,v)&&(l={type:l,handler:v,listener:bg(this,v)},(U[M]||
(U[M]=[])).push(l),this._svg&&this._svg.addEventListener(M,l.listener));return this},off(l,v){const M=this.eventName(l),U=this._handlers[M];l=this._handlerIndex(U,l,v);0<=l&&(this._svg&&this._svg.removeEventListener(M,U[l].listener),U.splice(l,1));return this}});const Af=(l,v,M)=>({["role"]:l,["aria-roledescription"]:v,["aria-label"]:M||void 0}),Xf=q.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),
A={axis:{desc:"axis",caption:function(l){var v=l.datum;const M=l.orient,U=v.title?id(l):null;var La=l.context;v=La.scales[v.scale].value;La=La.dataflow.locale();const qb=v.type;return`${"left"===M||"right"===M?"Y":"X"}-axis`+(U?` titled '${U}'`:"")+` for a ${db.isDiscrete(qb)?"discrete":qb} scale`+` with ${db.domainCaption(La,v,l)}`}},legend:{desc:"legend",caption:function(l){var v=l.datum;const M=v.title?id(l):null,U=`${v.type||""} legend`.trim();var La=v.scales;v=Object.keys(La);var qb=l.context;
La=qb.scales[La[v[0]]].value;qb=qb.dataflow.locale();return(U.length?U[0].toUpperCase()+U.slice(1):U)+(M?` titled '${M}'`:"")+` for ${jd(v)}`+` with ${db.domainCaption(qb,La,l)}`}},"title-text":{desc:"title",caption:l=>`Title text '${q.array(l.text).join(" ")}'`},"title-subtitle":{desc:"subtitle",caption:l=>`Subtitle text '${q.array(l.text).join(" ")}'`}},B={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},I=l=>(l+"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,
"\x26gt;"),Q=l=>ud(qd(),l)+"",ea={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},ka={fill:"none","stroke-miterlimit":10},Aa=wb.xmlns,Ya=rb.prototype;q.inherits(be,rb,{initialize(l,v,M,U,La){this._defs={};this._clearDefs();l&&(this._svg=
Gb(l,0,"svg",Aa),zd(this._svg,wb),this._svg.setAttribute("class","marks"),lb(l,1),this._root=Gb(this._svg,0,"g",Aa),zd(this._root,ka),lb(this._svg,1));this.background(this._bgcolor);return Ya.initialize.call(this,l,v,M,U,La)},background(l){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",l);return Ya.background.apply(this,arguments)},resize(l,v,M,U){Ya.resize.call(this,l,v,M,U);this._svg&&(zd(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),
this._root.setAttribute("transform",`translate(${this._origin})`));this._dirty=[];return this},canvas(){return this._svg},svg(){const l=this._svg,v=this._bgcolor;if(!l)return null;let M;v&&(l.removeAttribute("style"),M=Gb(l,0,"rect",Aa),zd(M,{width:this._width,height:this._height,fill:v}));const U=Q(l);v&&(l.removeChild(M),this._svg.style.setProperty("background-color",v));return U},_render(l){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,l),lb(this._root,1));this.defs();
this._dirty=[];++this._dirtyID;return this},dirty(l){l.dirty!==this._dirtyID&&(l.dirty=this._dirtyID,this._dirty.push(l))},isDirty(l){return this._dirtyAll||!l._svg||l.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const l=this._dirty;if(!l.length||!this._dirtyID)return!0;const v=++this._dirtyID;let M;let U,La,qb,yb;qb=0;for(yb=l.length;qb<yb;++qb){M=l[qb];var Ob=M.mark;Ob.marktype!==U&&(U=Ob.marktype,La=pe[U]);Ob.zdirty&&Ob.dirty!==v&&(this._dirtyAll=!1,Yd(M,v),Ob.items.forEach(ac=>{ac.dirty=
v}));Ob.zdirty||(M.exit?(La.nested&&Ob.items.length?(Ob=Ob.items[0],Ob._svg&&this._update(La,Ob._svg,Ob)):M._svg&&(Ob=M._svg.parentNode)&&Ob.removeChild(M._svg),M._svg=null):(M=La.nested?Ob.items[0]:M,M._update!==v&&(M._svg&&M._svg.ownerSVGElement?this._update(La,M._svg,M):(this._dirtyAll=!1,Yd(M,v)),M._update=v)))}return!this._dirtyAll},mark(l,v,M){if(!this.isDirty(v))return v._svg;const U=this._svg,La=pe[v.marktype];var qb=!1===v.interactive?"none":null;const yb="g"===La.tag;let Ob=null,ac=0;const zc=
ve(v,l,M,"g",U);zc.setAttribute("class",Xb(v));l=lc(v);for(const vc in l)Ld(zc,vc,l[vc]);yb||Ld(zc,"pointer-events",qb);Ld(zc,"clip-path",v.clip?Oa(this,v,v.group):null);qb=vc=>{const ld=this.isDirty(vc),yd=ve(vc,zc,Ob,La.tag,U);ld&&(this._update(La,yd,vc),yb&&de(this,yd,vc));Ob=yd;++ac};La.nested?v.items.length&&qb(v.items[0]):u(v,qb);lb(zc,ac);return zc},_update(l,v,M){Sa=v;hb=v.__values__;Yb(Ae,M);l.attr(Ae,M,this);const U=nb[l.type];U&&U.call(this,l,v,M);Sa&&this.style(Sa,M)},style(l,v){if(null!=
v)for(const M in ea){let U="font"===M?Ic(v):v[M];if(U===hb[M])continue;const La=ea[M];null==U?l.removeAttribute(La):(U&&U.gradient&&(U=Bb(U,this._defs.gradient,ef())),l.setAttribute(La,U+""));hb[M]=U}},defs(){const l=this._svg,v=this._defs;let M=v.el;var U=0;for(var La in v.gradient){M||(v.el=M=Gb(l,1,"defs",Aa));{var qb=void 0;let ac,zc;var yb=M,Ob=v.gradient[La];"radial"===Ob.gradient?(qb=Gb(yb,U++,"pattern",Aa),zd(qb,{id:"p_"+Ob.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),
qb=Gb(qb,0,"rect",Aa),zd(qb,{width:1,height:1,fill:`url(${ef()}#${Ob.id})`}),yb=Gb(yb,U++,"radialGradient",Aa),zd(yb,{id:Ob.id,fx:Ob.x1,fy:Ob.y1,fr:Ob.r1,cx:Ob.x2,cy:Ob.y2,r:Ob.r2})):(yb=Gb(yb,U++,"linearGradient",Aa),zd(yb,{id:Ob.id,x1:Ob.x1,x2:Ob.x2,y1:Ob.y1,y2:Ob.y2}));zc=0;for(ac=Ob.stops.length;zc<ac;++zc)qb=Gb(yb,zc,"stop",Aa),qb.setAttribute("offset",Ob.stops[zc].offset),qb.setAttribute("stop-color",Ob.stops[zc].color);lb(yb,zc)}}for(const ac in v.clipping)M||(v.el=M=Gb(l,1,"defs",Aa)),yb=
M,Ob=v.clipping[ac],La=U,yb=Gb(yb,La,"clipPath",Aa),yb.setAttribute("id",Ob.id),Ob.path?(U=Gb(yb,0,"path",Aa),U.setAttribute("d",Ob.path)):(U=Gb(yb,0,"rect",Aa),zd(U,{x:0,y:0,width:Ob.width,height:Ob.height})),lb(yb,1),U=La+1;M&&(0===U?(l.removeChild(M),v.el=null):lb(M,U))},_clearDefs(){const l=this._defs;l.gradient={};l.clipping={}}});let Sa=null,hb=null;const nb={group(l,v,M){const U=Sa=v.childNodes[2];hb=U.__values__;l.foreground(Ae,M,this);hb=v.__values__;Sa=v.childNodes[1];l.content(Ae,M,this);
v=Sa=v.childNodes[0];l.background(Ae,M,this);l=!1===M.mark.interactive?"none":null;l!==hb.events&&(Ld(U,"pointer-events",l),Ld(v,"pointer-events",l),hb.events=l);M.strokeForeground&&M.stroke?(l=M.fill,Ld(U,"display",null),this.style(v,M),Ld(v,"stroke",null),l&&(M.fill=null),hb=U.__values__,this.style(U,M),l&&(M.fill=l),Sa=null):Ld(U,"display","none")},image(l,v,M){!1===M.smooth?(We(v,"image-rendering","optimizeSpeed"),We(v,"image-rendering","pixelated")):We(v,"image-rendering",null)},text(l,v,M){l=
Eb(M);let U,La,qb;q.isArray(l)?(U=l.map(yb=>Nc(M,yb)),l=U.join("\n"),l!==hb.text&&(lb(v,0),La=v.ownerDocument,qb=Kb(M),U.forEach((yb,Ob)=>{const ac=Na(La,"tspan",Aa);ac.__data__=M;ac.textContent=yb;Ob&&(ac.setAttribute("x",0),ac.setAttribute("dy",qb));v.appendChild(ac)}),hb.text=l)):(U=Nc(M,l),U!==hb.text&&(v.textContent=U,hb.text=U));Ld(v,"font-family",Ic(M));Ld(v,"font-size",gb(M)+"px");Ld(v,"font-style",M.fontStyle);Ld(v,"font-variant",M.fontVariant);Ld(v,"font-weight",M.fontWeight)}};q.inherits(me,
rb,{svg(){return this._text},_render(l){const v=qd();v.open("svg",q.extend({},wb,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const M=this._bgcolor;M&&"transparent"!==M&&"none"!==M&&v.open("rect",{width:this._width,height:this._height,fill:M}).close();v.open("g",ka,{transform:"translate("+this._origin+")"});this.mark(v,l);v.close();this.defs(v);this._text=v.close()+"";return this},mark(l,v){const M=pe[v.marktype],U=M.tag,
La=[Yb,M.attr];l.open("g",{"class":Xb(v),"clip-path":v.clip?Oa(this,v,v.group):null},lc(v),{"pointer-events":"g"!==U&&!1===v.interactive?"none":null});const qb=yb=>{const Ob=this.href(yb);Ob&&l.open("a",Ob);l.open(U,this.attr(v,yb,La,"g"!==U?U:null));if("text"===U){var ac=Eb(yb);if(q.isArray(ac)){var zc={x:0,dy:Kb(yb)};for(var vc=0;vc<ac.length;++vc)l.open("tspan",vc?zc:null).text(Nc(yb,ac[vc])).close()}else l.text(Nc(yb,ac))}else"g"===U&&(ac=yb.strokeForeground,zc=yb.fill,vc=yb.stroke,ac&&vc&&(yb.stroke=
null),l.open("path",this.attr(v,yb,M.background,"bgrect")).close(),l.open("g",this.attr(v,yb,M.content)),u(yb,ld=>this.mark(l,ld)),l.close(),ac&&vc?(zc&&(yb.fill=null),yb.stroke=vc,l.open("path",this.attr(v,yb,M.foreground,"bgrect")).close(),zc&&(yb.fill=zc)):l.open("path",this.attr(v,yb,M.foreground,"bgfore")).close());l.close();Ob&&l.close()};M.nested?v.items&&v.items.length&&qb(v.items[0]):u(v,qb);return l.close()},href(l){const v=l.href;if(v){if(l=this._hrefs&&this._hrefs[v])return l;this.sanitizeURL(v).then(M=>
{M["xlink:href"]=M.href;M.href=null;(this._hrefs||(this._hrefs={}))[v]=M})}return null},attr(l,v,M,U){const La={},qb=(yb,Ob,ac,zc)=>{La[zc||yb]=Ob};Array.isArray(M)?M.forEach(yb=>yb(qb,v,this)):M(qb,v,this);U&&W(La,v,l,U,this._defs);return La},defs(l){var v=this._defs.gradient;const M=this._defs.clipping;if(0!==Object.keys(v).length+Object.keys(M).length){l.open("defs");for(const La in v){var U=v[La];const qb=U.stops;"radial"===U.gradient?(l.open("pattern",{id:"p_"+La,viewBox:"0,0,1,1",width:"100%",
height:"100%",preserveAspectRatio:"xMidYMid slice"}),l.open("rect",{width:"1",height:"1",fill:"url(#"+La+")"}).close(),l.close(),l.open("radialGradient",{id:La,fx:U.x1,fy:U.y1,fr:U.r1,cx:U.x2,cy:U.y2,r:U.r2})):l.open("linearGradient",{id:La,x1:U.x1,x2:U.x2,y1:U.y1,y2:U.y2});for(U=0;U<qb.length;++U)l.open("stop",{offset:qb[U].offset,"stop-color":qb[U].color}).close();l.close()}for(const La in M)v=M[La],l.open("clipPath",{id:La}),v.path?l.open("path",{d:v.path}).close():l.open("rect",{x:0,y:0,width:v.width,
height:v.height}).close(),l.close();l.close()}}});const Db={};Db.canvas=Db.png={renderer:gc,headless:gc,handler:Mb};Db.svg={renderer:be,headless:me,handler:ic};Db.none={};const Ub=new Ha;k.Bounds=Ha;k.CanvasHandler=Mb;k.CanvasRenderer=gc;k.Gradient=function(l,v){var M=[],U;return U={gradient:"linear",x1:l?l[0]:0,y1:l?l[1]:0,x2:v?v[0]:1,y2:v?v[1]:0,stops:M,stop:function(La,qb){M.push({offset:La,color:qb});return U}}};k.GroupItem=Fa;k.Handler=ra;k.Item=Va;k.Marks=pe;k.RenderType={Canvas:"canvas",PNG:"png",
SVG:"svg",None:"none"};k.Renderer=rb;k.ResourceLoader=E;k.SVGHandler=ic;k.SVGRenderer=be;k.SVGStringRenderer=me;k.Scenegraph=J;k.boundClip=function(l){const v=l.clip;if(q.isFunction(v))v(F(Ub.clear()));else if(v)Ub.set(0,0,l.group.width,l.group.height);else return;l.bounds.intersect(Ub)};k.boundContext=F;k.boundItem=Gc;k.boundMark=ke;k.boundStroke=w;k.domChild=Gb;k.domClear=lb;k.domCreate=Na;k.domFind=mb;k.font=Tc;k.fontFamily=Ic;k.fontSize=gb;k.intersect=function(l,v,M){const U=[];v=(new Ha).union(v);
const La=l.marktype;return La?ha(l,v,M,U):"group"===La?za(l,v,M,U):q.error("Intersect scene must be mark node or group item.")};k.intersectBoxLine=G;k.intersectPath=N;k.intersectPoint=Y;k.intersectRule=Ga;k.lineHeight=Kb;k.markup=qd;k.multiLineOffset=function(l){const v=Eb(l);return(q.isArray(v)?v.length-1:0)*Kb(l)};k.pathCurves=Ea;k.pathEqual=vb;k.pathParse=ab;k.pathRectangle=va;k.pathRender=Ca;k.pathSymbols=oa;k.pathTrail=S;k.point=Rb;k.renderModule=function(l,v){l=String(l||"").toLowerCase();return 1<
arguments.length?(Db[l]=v,this):Db[l]};k.resetSVGClipId=function(){Zd=1};k.resetSVGDefIds=function(){Zd=1;oc=0};k.sceneEqual=Za;k.sceneFromJSON=Ke;k.scenePickVisit=x;k.sceneToJSON=ge;k.sceneVisit=u;k.sceneZOrder=n;k.serializeXML=Q;k.textMetrics=pd;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[38]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb,Vb(27),Vb(37),Vb(15)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],q):(k="undefined"!==typeof globalThis?globalThis:k||self,q((k.vega=k.vega||{},k.vega.transforms={}),k.vega,k.vega,k.vega))})(this,function(k,q,R,Ma){function Fb(h){q.Transform.call(this,null,h)}function Ja(h,m,n){return m(h.bounds.clear(),h,n)}function db(h){q.Transform.call(this,
0,h)}function Bb(h){return h._signals[":vega_identifier:"]||(h._signals[":vega_identifier:"]=h.add(0))}function jb(h){q.Transform.call(this,null,h)}function Ea(h){const m=h.groups;h=h.parent;return m&&1===m.size?m.get(Object.keys(m.object)[0]):m&&h?m.lookup(h):null}function ab(h){q.Transform.call(this,null,h)}function bb(h){q.Transform.call(this,null,h)}function Ca(h,m,n){return h[m]===n?0:(h[m]=n,1)}function ma(h){h=h.items[0].orient;return"left"===h||"right"===h}function oa(h,m,n,u){m=m.items[0];
var x=m.datum,L=null!=m.translate?m.translate:.5,ia=m.orient,xa=+x.grid;var Wa=[x.ticks?xa++:-1,x.labels?xa++:-1,xa+ +x.domain];xa=m.range;var $a=m.offset,fb=m.position,Ba=m.minExtent,T=m.maxExtent;x=x.title&&m.items[Wa[2]].items[0];var da=m.titlePadding,Xa=m.bounds,zb=x&&R.multiLineOffset(x),xb;V.clear().union(Xa);Xa.clear();-1<(xb=Wa[0])&&Xa.union(m.items[xb].bounds);-1<(xb=Wa[1])&&Xa.union(m.items[xb].bounds);switch(ia){case "top":n=fb||0;u=-$a;Ba=Math.max(Ba,Math.min(T,-Xa.y1));Xa.add(0,-Ba).add(xa,
0);x&&Ia(h,x,Ba,da,zb,0,-1,Xa);break;case "left":n=-$a;u=fb||0;Ba=Math.max(Ba,Math.min(T,-Xa.x1));Xa.add(-Ba,0).add(0,xa);x&&Ia(h,x,Ba,da,zb,1,-1,Xa);break;case "right":n+=$a;u=fb||0;Ba=Math.max(Ba,Math.min(T,Xa.x2));Xa.add(0,0).add(Ba,xa);x&&Ia(h,x,Ba,da,zb,1,1,Xa);break;case "bottom":n=fb||0;u+=$a;Ba=Math.max(Ba,Math.min(T,Xa.y2));Xa.add(0,0).add(xa,Ba);x&&Ia(h,x,Ba,da,0,0,1,Xa);break;default:n=m.x,u=m.y}R.boundStroke(Xa.translate(n,u),m);Ca(m,"x",n+L)|Ca(m,"y",u+L)&&(m.bounds=V,h.dirty(m),m.bounds=
Xa,h.dirty(m));return m.mark.bounds.clear().union(Xa)}function Ia(h,m,n,u,x,L,ia,xa){const Wa=m.bounds;m.auto&&(n=ia*(n+x+u),x=u=0,h.dirty(m),L?u=(m.x||0)-(m.x=n):x=(m.y||0)-(m.y=n),m.mark.bounds.clear().union(Wa.translate(-u,-x)),h.dirty(m));xa.union(Wa)}function Ua(h){return(new R.Bounds).set(0,0,h.width||0,h.height||0)}function na(h){const m=h.bounds.clone();return m.empty()?m.set(0,0,0,0):m.translate(-(h.x||0),-(h.y||0))}function qa(h,m,n){h=Ma.isObject(h)?h[m]:h;return null!=h?h:void 0!==n?n:
0}function Ta(h){return 0>h?Math.ceil(-h):0}function ta(h,m,n){var u=!n.nodirty,x="flush"===n.bounds?Ua:na,L=V.set(0,0,0,0),ia=qa(n.align,"column"),xa=qa(n.align,"row"),Wa=qa(n.padding,"column"),$a=qa(n.padding,"row"),fb=n.columns||m.length,Ba=0>=fb?1:Math.ceil(m.length/fb),T=m.length,da=Array(T),Xa=Array(fb),zb=0,xb=Array(T),Pb=Array(Ba),bc=0,Uc=Array(T),yc=Array(T),Vc=Array(T),ya,Nb,Sb;for(ya=0;ya<fb;++ya)Xa[ya]=0;for(ya=0;ya<Ba;++ya)Pb[ya]=0;for(ya=0;ya<T;++ya){var Zb=m[ya];var uc=Vc[ya]=x(Zb);
Zb.x=Zb.x||0;Uc[ya]=0;Zb.y=Zb.y||0;yc[ya]=0;Zb=ya%fb;var cc=~~(ya/fb);zb=Math.max(zb,Nb=Math.ceil(uc.x2));bc=Math.max(bc,Sb=Math.ceil(uc.y2));Xa[Zb]=Math.max(Xa[Zb],Nb);Pb[cc]=Math.max(Pb[cc],Sb);da[ya]=Wa+Ta(uc.x1);xb[ya]=$a+Ta(uc.y1);u&&h.dirty(m[ya])}for(ya=0;ya<T;++ya)0===ya%fb&&(da[ya]=0),ya<fb&&(xb[ya]=0);if("each"===ia)for(Zb=1;Zb<fb;++Zb){x=0;for(ya=Zb;ya<T;ya+=fb)x<da[ya]&&(x=da[ya]);for(ya=Zb;ya<T;ya+=fb)da[ya]=x+Xa[Zb-1]}else if("all"===ia){for(ya=x=0;ya<T;++ya)ya%fb&&x<da[ya]&&(x=da[ya]);
for(ya=0;ya<T;++ya)ya%fb&&(da[ya]=x+zb)}else for(ia=!1,Zb=1;Zb<fb;++Zb)for(ya=Zb;ya<T;ya+=fb)da[ya]+=Xa[Zb-1];if("each"===xa)for(cc=1;cc<Ba;++cc){x=0;ya=cc*fb;for(Zb=ya+fb;ya<Zb;++ya)x<xb[ya]&&(x=xb[ya]);for(ya=cc*fb;ya<Zb;++ya)xb[ya]=x+Pb[cc-1]}else if("all"===xa){x=0;for(ya=fb;ya<T;++ya)x<xb[ya]&&(x=xb[ya]);for(ya=fb;ya<T;++ya)xb[ya]=x+bc}else for(xa=!1,cc=1;cc<Ba;++cc)for(ya=cc*fb,Zb=ya+fb;ya<Zb;++ya)xb[ya]+=Pb[cc-1];for(ya=cc=0;ya<T;++ya)cc=da[ya]+(ya%fb?cc:0),Uc[ya]+=cc-m[ya].x;for(Zb=0;Zb<fb;++Zb)for(da=
0,ya=Zb;ya<T;ya+=fb)da+=xb[ya],yc[ya]+=da-m[ya].y;if(ia&&qa(n.center,"column")&&1<Ba)for(ya=0;ya<T;++ya)uc="all"===ia?zb:Xa[ya%fb],cc=uc-Vc[ya].x2-m[ya].x-Uc[ya],0<cc&&(Uc[ya]+=cc/2);if(xa&&qa(n.center,"row")&&1!==fb)for(ya=0;ya<T;++ya)uc="all"===xa?bc:Pb[~~(ya/fb)],da=uc-Vc[ya].y2-m[ya].y-yc[ya],0<da&&(yc[ya]+=da/2);for(ya=0;ya<T;++ya)L.union(Vc[ya].translate(Uc[ya],yc[ya]));cc=qa(n.anchor,"x");da=qa(n.anchor,"y");switch(qa(n.anchor,"column")){case "end":cc-=L.width();break;case "middle":cc-=L.width()/
2}switch(qa(n.anchor,"row")){case "end":da-=L.height();break;case "middle":da-=L.height()/2}cc=Math.round(cc);da=Math.round(da);L.clear();for(ya=0;ya<T;++ya)m[ya].mark.bounds.clear();for(ya=0;ya<T;++ya)Zb=m[ya],Zb.x+=Uc[ya]+=cc,Zb.y+=yc[ya]+=da,L.union(Zb.mark.bounds.union(Zb.bounds.translate(Uc[ya],yc[ya]))),u&&h.dirty(Zb);return L}function Qa(h,m){return"x1"===m?h.x||0:"y1"===m?h.y||0:"x2"===m?(h.x||0)+(h.width||0):"y2"===m?(h.y||0)+(h.height||0):void 0}function va(h,m){return h.bounds[m]}function S(h,
m,n,u,x,L,ia,xa,Wa,$a,fb,Ba,T,da){var Xa=n.length,zb=u=0,xb,Pb;if(!Xa)return u;for(xb=fb;xb<Xa;xb+=Ba)n[xb]&&(u=ia(u,Wa(n[xb],$a)));if(!m.length)return u;m.length>x&&(h.warn("Grid headers exceed limit: "+x),m=m.slice(0,x));u+=L;x=0;for(L=m.length;x<L;++x)h.dirty(m[x]),m[x].mark.bounds.clear();xb=fb;x=0;for(L=m.length;x<L;++x,xb+=Ba){Wa=m[x];fb=Wa.mark.bounds;for(Xa=xb;0<=Xa&&null==(Pb=n[Xa]);Xa-=T);if(xa){Xa=null==da?Pb.x:Math.round(Pb.bounds.x1+da*Pb.bounds.width());var bc=u}else Xa=u,bc=null==da?
Pb.y:Math.round(Pb.bounds.y1+da*Pb.bounds.height());fb.union(Wa.bounds.translate(Xa-(Wa.x||0),bc-(Wa.y||0)));Wa.x=Xa;Wa.y=bc;h.dirty(Wa);zb=ia(zb,fb[$a])}return zb}function la(h,m,n,u,x,L){if(m){h.dirty(m);var ia=n;u?ia=Math.round(x.x1+L*x.width()):n=Math.round(x.y1+L*x.height());m.bounds.translate(ia-(m.x||0),n-(m.y||0));m.mark.bounds.clear().union(m.bounds);m.x=ia;m.y=n;h.dirty(m)}}function wa(h,m){const n=h[m]||{};return(u,x)=>null!=n[u]?n[u]:null!=h[u]?h[u]:x}function Da(h,m){let n=-Infinity;
h.forEach(u=>{null!=u.offset&&(n=Math.max(n,u.offset))});return-Infinity<n?n:m}function Oa(h,m,n,u,x,L,ia){const xa=wa(n,m);n=Da(h,xa("offset",0));const Wa=xa("anchor","start"),$a="end"===Wa?1:"middle"===Wa?.5:0;h={align:"each",bounds:xa("bounds","flush"),columns:"vertical"===xa("direction")?1:h.length,padding:xa("margin",8),center:xa("center"),nodirty:!0};switch(m){case "left":h.anchor={x:Math.floor(u.x1)-n,column:"end",y:$a*(ia||u.height()+2*u.y1),row:Wa};break;case "right":h.anchor={x:Math.ceil(u.x2)+
n,y:$a*(ia||u.height()+2*u.y1),row:Wa};break;case "top":h.anchor={y:Math.floor(x.y1)-n,row:"end",x:$a*(L||x.width()+2*x.x1),column:Wa};break;case "bottom":h.anchor={y:Math.ceil(x.y2)+n,x:$a*(L||x.width()+2*x.x1),column:Wa};break;case "top-left":h.anchor={x:n,y:n};break;case "top-right":h.anchor={x:L-n,y:n,column:"end"};break;case "bottom-left":h.anchor={x:n,y:ia-n,row:"end"};break;case "bottom-right":h.anchor={x:L-n,y:ia-n,column:"end",row:"end"}}return h}function Ha(h,m){m=m.items[0];var n=m.datum,
u=m.orient,x=m.bounds,L=m.x,ia=m.y;m._bounds?m._bounds.clear().union(x):m._bounds=x.clone();x.clear();var xa=m.items[0].items[0];var Wa=m.padding,$a=Wa-xa.x,fb=Wa-xa.y;if(m.datum.title){var Ba=m.items[1].items[0],T=Ba.anchor,da=m.titlePadding||0,Xa=Wa-Ba.x,zb=Wa-Ba.y;switch(Ba.orient){case "left":$a+=Math.ceil(Ba.bounds.width())+da;break;case "right":case "bottom":break;default:fb+=Ba.bounds.height()+da}($a||fb)&&E(h,xa,$a,fb);switch(Ba.orient){case "left":zb+=Fa(m,xa,Ba,T,1,1);break;case "right":Xa+=
Fa(m,xa,Ba,"end",0,0)+da;zb+=Fa(m,xa,Ba,T,1,1);break;case "bottom":Xa+=Fa(m,xa,Ba,T,0,0);zb+=Fa(m,xa,Ba,"end",-1,0,1)+da;break;default:Xa+=Fa(m,xa,Ba,T,0,0)}(Xa||zb)&&E(h,Ba,Xa,zb);0>(Xa=Math.round(Ba.bounds.x1-Wa))&&(E(h,xa,-Xa,0),E(h,Ba,-Xa,0))}else($a||fb)&&E(h,xa,$a,fb);x=Va(m,x);h=2*m.padding;xa=2*m.padding;x.empty()||(h=Math.ceil(x.width()+h),xa=Math.ceil(x.height()+xa));"symbol"===n.type&&w(m.items[0].items[0].items[0].items);"none"!==u&&(m.x=L=0,m.y=ia=0);m.width=h;m.height=xa;R.boundStroke(x.set(L,
ia,L+h,ia+xa),m);m.mark.bounds.clear().union(x);return m}function Va(h,m){h.items.forEach(n=>m.union(n.bounds));m.x1=h.padding;m.y1=h.padding;return m}function Fa(h,m,n,u,x,L,ia){const xa=n.datum.vgrad;h=("symbol"===h.datum.type||!L&&xa||ia?m:m.items[0]).bounds[x?"y2":"x2"]-h.padding;m=xa&&L?h:0;L=xa&&L?0:h;n=0>=x?0:R.multiLineOffset(n);return Math.round("start"===u?m:"end"===u?L-n:.5*(h-n))}function E(h,m,n,u){m.x+=n;m.y+=u;m.bounds.translate(n,u);m.mark.bounds.translate(n,u);h.dirty(m)}function w(h){const m=
h.reduce((n,u)=>{n[u.column]=Math.max(u.bounds.x2-u.x,n[u.column]||0);return n},{});h.forEach(n=>{n.width=m[n.column];n.height=n.bounds.y2-n.y})}function F(h,m,n,u,x){var L=m.items[0],ia=L.orient,xa=L.anchor,Wa=L.offset,$a=L.padding,fb=L.items[0].items[0],Ba=L.items[1]&&L.items[1].items[0],T="left"===ia||"right"===ia?u:n,da=0,Xa=n=0;"group"!==L.frame?"left"===ia?(da=x.y2,T=x.y1):"right"===ia?(da=x.y1,T=x.y2):(da=x.x1,T=x.x2):"left"===ia&&(da=u,T=0);u="start"===xa?da:"end"===xa?T:(da+T)/2;if(Ba&&Ba.text){switch(ia){case "top":case "bottom":Xa=
fb.bounds.height()+$a;break;case "left":n=fb.bounds.width()+$a;break;case "right":n=-fb.bounds.width()-$a}V.clear().union(Ba.bounds);V.translate(n-(Ba.x||0),Xa-(Ba.y||0));Ca(Ba,"x",n)|Ca(Ba,"y",Xa)&&(h.dirty(Ba),Ba.bounds.clear().union(V),Ba.mark.bounds.clear().union(V),h.dirty(Ba));V.clear().union(Ba.bounds)}else V.clear();V.union(fb.bounds);switch(ia){case "top":ia=u;x=x.y1-V.height()-Wa;break;case "left":ia=x.x1-V.width()-Wa;x=u;break;case "right":ia=x.x2+V.width()+Wa;x=u;break;case "bottom":ia=
u;x=x.y2+Wa;break;default:ia=L.x,x=L.y}Ca(L,"x",ia)|Ca(L,"y",x)&&(V.translate(ia,x),h.dirty(L),L.bounds.clear().union(V),m.bounds.clear().union(V),h.dirty(L));return L.bounds}function Z(h){q.Transform.call(this,null,h)}function D(h){return h&&"legend-entry"!==h.mark.role}function P(h,m,n){var u=m.items,x=Math.max(0,m.width||0),L=Math.max(0,m.height||0),ia=(new R.Bounds).set(0,0,x,L),xa=ia.clone(),Wa=ia.clone(),$a=[],fb,Ba;var T=0;for(Ba=u.length;T<Ba;++T){var da=u[T];switch(da.role){case "axis":var Xa=
ma(da)?xa:Wa;Xa.union(oa(h,da,x,L));break;case "title":var zb=da;break;case "legend":$a.push(Ha(h,da));break;case "frame":case "scope":case "row-header":case "row-footer":case "row-title":case "column-header":case "column-footer":case "column-title":xa.union(da.bounds);Wa.union(da.bounds);break;default:ia.union(da.bounds)}}if($a.length){const xb={};$a.forEach(Pb=>{fb=Pb.orient||"right";"none"!==fb&&(xb[fb]||(xb[fb]=[])).push(Pb)});for(const Pb in xb)u=xb[Pb],ta(h,u,Oa(u,Pb,n.legends,xa,Wa,x,L));$a.forEach(Pb=>
{const bc=Pb.bounds;bc.equals(Pb._bounds)||(Pb.bounds=Pb._bounds,h.dirty(Pb),Pb.bounds=bc,h.dirty(Pb));if(n.autosize&&"fit"===n.autosize.type)switch(Pb.orient){case "left":case "right":ia.add(bc.x1,0).add(bc.x2,0);break;case "top":case "bottom":ia.add(0,bc.y1).add(0,bc.y2)}else ia.union(bc)})}ia.union(xa).union(Wa);zb&&ia.union(F(h,zb,x,L,ia));m.clip&&ia.set(0,0,m.width||0,m.height||0);N(h,m,ia,n)}function N(h,m,n,u){u=u.autosize||{};const x=u.type;if(!(1>h._autosize)&&x){var L=h._width,ia=h._height,
xa=Math.max(0,m.width||0),Wa=Math.max(0,Math.ceil(-n.x1));m=Math.max(0,m.height||0);var $a=Math.max(0,Math.ceil(-n.y1)),fb=Math.max(0,Math.ceil(n.x2-xa));n=Math.max(0,Math.ceil(n.y2-m));if("padding"===u.contains){const Ba=h.padding();L-=Ba.left+Ba.right;ia-=Ba.top+Ba.bottom}"none"===x?($a=Wa=0,xa=L,m=ia):"fit"===x?(xa=Math.max(0,L-Wa-fb),m=Math.max(0,ia-$a-n)):"fit-x"===x?(xa=Math.max(0,L-Wa-fb),ia=m+$a+n):"fit-y"===x?(L=xa+Wa+fb,m=Math.max(0,ia-$a-n)):"pad"===x&&(L=xa+Wa+fb,ia=m+$a+n);h._resizeView(L,
ia,xa,m,[Wa,$a],u.resize)}}Ma.inherits(Fb,q.Transform,{transform(h,m){const n=m.dataflow,u=h.mark,x=u.marktype,L=R.Marks[x],ia=L.bound;let xa=u.bounds,Wa;if(L.nested)u.items.length&&n.dirty(u.items[0]),xa=Ja(u,ia),u.items.forEach($a=>{$a.bounds.clear().union(xa)});else if("group"===x||h.modified())switch(m.visit(m.MOD,$a=>n.dirty($a)),xa.clear(),u.items.forEach($a=>xa.union(Ja($a,ia))),u.role){case "axis":case "legend":case "title":m.reflow()}else Wa=m.changed(m.REM),m.visit(m.ADD,$a=>{xa.union(Ja($a,
ia))}),m.visit(m.MOD,$a=>{Wa=Wa||xa.alignsWith($a.bounds);n.dirty($a);xa.union(Ja($a,ia))}),Wa&&(xa.clear(),u.items.forEach($a=>xa.union($a.bounds)));R.boundClip(u);return m.modifies("bounds")}});db.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};Ma.inherits(db,q.Transform,{transform(h,m){const n=Bb(m.dataflow),u=h.as;let x=n.value;m.visit(m.ADD,L=>L[u]=L[u]||++x);n.set(this.value=x);return m}});Ma.inherits(jb,q.Transform,{transform(h,m){let n=
this.value;n||(n=m.dataflow.scenegraph().mark(h.markdef,Ea(h),h.index),n.group.context=h.context,h.context.group||(h.context.group=n.group),n.source=this.source,n.clip=h.clip,n.interactive=h.interactive,this.value=n);const u="group"===n.marktype?R.GroupItem:R.Item;m.visit(m.ADD,x=>u.call(x,n));if(h.modified("clip")||h.modified("interactive"))n.clip=h.clip,n.interactive=!!h.interactive,n.zdirty=!0,m.reflow();n.items=m.source;return m}});const Y={parity:h=>h.filter((m,n)=>n%2?m.opacity=0:1),greedy:(h,
m)=>{let n;return h.filter((u,x)=>x&&ua(n.bounds,u.bounds,m)?u.opacity=0:(n=u,1))}},ua=(h,m,n)=>n>Math.max(m.x1-h.x2,h.x1-m.x2,m.y1-h.y2,h.y1-m.y2),Ga=(h,m)=>{for(var n=1,u=h.length,x=h[0].bounds;n<u;++n)if(ua(x,x=h[n].bounds,m))return!0},G=h=>{h=h.bounds;return 1<h.width()&&1<h.height()},ca=(h,m,n)=>{h=h.range();var u=new R.Bounds;"top"===m||"bottom"===m?u.set(h[0],-Infinity,h[1],Infinity):u.set(-Infinity,h[0],Infinity,h[1]);u.expand(n||1);return x=>u.encloses(x.bounds)},ba=h=>{h.forEach(m=>m.opacity=
1);return h};Ma.inherits(ab,q.Transform,{transform(h,m){const n=Y[h.method]||Y.parity,u=h.separation||0;let x=m.materialize(m.SOURCE).source,L,ia;if(x&&x.length){if(!h.method)return h.modified("method")&&(ba(x),m=m.reflow(h.modified()).modifies("opacity")),m;x=x.filter(G);if(x.length){h.sort&&(x=x.slice().sort(h.sort));L=ba(x);m=m.reflow(h.modified()).modifies("opacity");if(3<=L.length&&Ga(L,u)){do L=n(L,u);while(3<=L.length&&Ga(L,u));3>L.length&&!Ma.peek(x).opacity&&(1<L.length&&(Ma.peek(L).opacity=
0),Ma.peek(x).opacity=1)}h.boundScale&&0<=h.boundTolerance&&(ia=ca(h.boundScale,h.boundOrient,+h.boundTolerance),x.forEach(Wa=>{ia(Wa)||(Wa.opacity=0)}));var xa=L[0].mark.bounds.clear();x.forEach(Wa=>{Wa.opacity&&xa.union(Wa.bounds)});return m}}}});Ma.inherits(bb,q.Transform,{transform(h,m){const n=m.dataflow;m.visit(m.ALL,u=>n.dirty(u));m.fields&&m.fields.zindex&&(h=m.source&&m.source[0])&&(h.mark.zdirty=!0)}});const V=new R.Bounds,H=(h,m)=>Math.floor(Math.min(h,m)),p=(h,m)=>Math.ceil(Math.max(h,
m));Ma.inherits(Z,q.Transform,{transform(h,m){const n=m.dataflow;h.mark.items.forEach(u=>{if(h.layout){var x=h.layout;var L=u.items;for(var ia=L.length,xa=0,Wa,$a,fb={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};xa<ia;++xa)if(Wa=L[xa],$a=Wa.items,"group"===Wa.marktype)switch(Wa.role){case "axis":case "legend":case "title":break;case "row-header":fb.rowheaders.push(...$a);break;case "row-footer":fb.rowfooters.push(...$a);break;case "column-header":fb.colheaders.push(...$a);
break;case "column-footer":fb.colfooters.push(...$a);break;case "row-title":fb.rowtitle=$a[0];break;case "column-title":fb.coltitle=$a[0];break;default:fb.marks.push(...$a)}L=fb;$a=L.marks;fb="flush"===x.bounds?Qa:va;ia=x.offset;var Ba=x.columns||$a.length,T=0>=Ba?1:Math.ceil($a.length/Ba),da=T*Ba;xa=ta(n,$a,x);xa.empty()&&xa.set(0,0,0,0);if(L.rowheaders){Wa=qa(x.headerBand,"row",null);var Xa=S(n,L.rowheaders,$a,Ba,T,-qa(ia,"rowHeader"),H,0,fb,"x1",0,Ba,1,Wa)}if(L.colheaders){Wa=qa(x.headerBand,"column",
null);var zb=S(n,L.colheaders,$a,Ba,Ba,-qa(ia,"columnHeader"),H,1,fb,"y1",0,1,Ba,Wa)}if(L.rowfooters){Wa=qa(x.footerBand,"row",null);var xb=S(n,L.rowfooters,$a,Ba,T,qa(ia,"rowFooter"),p,0,fb,"x2",Ba-1,Ba,1,Wa)}if(L.colfooters){Wa=qa(x.footerBand,"column",null);var Pb=S(n,L.colfooters,$a,Ba,Ba,qa(ia,"columnFooter"),p,1,fb,"y2",da-Ba,1,Ba,Wa)}L.rowtitle&&(Wa=qa(x.titleAnchor,"row"),$a=qa(ia,"rowTitle"),$a="end"===Wa?xb+$a:Xa-$a,Wa=qa(x.titleBand,"row",.5),la(n,L.rowtitle,$a,0,xa,Wa));L.coltitle&&(Wa=
qa(x.titleAnchor,"column"),$a=qa(ia,"columnTitle"),$a="end"===Wa?Pb+$a:zb-$a,Wa=qa(x.titleBand,"column",.5),la(n,L.coltitle,$a,1,xa,Wa))}P(n,u,h)});return D(h.mark.group)?m.reflow():m}});k.bound=Fb;k.identifier=db;k.mark=jb;k.overlap=ab;k.render=bb;k.viewlayout=Z;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[39]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb,Vb(27),Vb(36),Vb(15),Vb(16),Vb(34)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-scale vega-util d3-array d3-interpolate".split(" "),q):(k="undefined"!==typeof globalThis?globalThis:k||self,q(k.vega={},k.vega,k.vega,k.vega,k.d3,k.d3))})(this,function(k,q,R,Ma,Fb,Ja){function db(D){q.Transform.call(this,null,D)}function Bb(D){q.Transform.call(this,null,D)}function jb(){return q.ingest({})}
function Ea(D){const P=Ma.fastmap().test(N=>N.exit);P.lookup=N=>P.get(D(N));return P}function ab(D){q.Transform.call(this,null,D)}function bb(D){q.Transform.call(this,[],D)}function Ca(D){q.Transform.call(this,{},D)}function ma(D){q.Transform.call(this,null,D)}function oa(D){return R.isContinuous(D)&&D!==R.Sequential}function Ia(D){q.Transform.call(this,null,D);this.modified(!0)}function Ua(D,P,N){R.isLogarithmic(D)&&Math.abs(P.reduce((Y,ua)=>Y+(0>ua?-1:0<ua?1:0),0))!==P.length&&N.warn("Log scale domain includes zero: "+
Ma.stringValue(P));return P}function na(D,P,N){return Ma.isFunction(D)&&(P||N)?R.interpolateRange(D,qa(P||[0,1],N)):D}function qa(D,P){return P?D.slice().reverse():D}function Ta(D){q.Transform.call(this,null,D)}function ta(D){q.Transform.call(this,null,D)}function Qa(D,P,N,Y,ua){P=(P-D.sum)/2;for(var Ga=D.length,G=0,ca;G<Ga;++G)ca=D[G],ca[Y]=P,ca[ua]=P+=Math.abs(N(ca))}function va(D,P,N,Y,ua){P=1/D.sum;for(var Ga=0,G=D.length,ca=0,ba=0,V;ca<G;++ca)V=D[ca],V[Y]=Ga,V[ua]=Ga=P*(ba+=Math.abs(N(V)))}function S(D,
P,N,Y,ua){for(var Ga=P=0,G=D.length,ca=0,ba,V;ca<G;++ca)V=D[ca],ba=+N(V),0>ba?(V[Y]=Ga,V[ua]=Ga+=ba):(V[Y]=P,V[ua]=P+=ba)}function la(D,P,N,Y){var ua=[],Ga=h=>h(V),G;if(null==P)ua.push(D.slice());else{var ca={};var ba=0;for(G=D.length;ba<G;++ba){var V=D[ba];var H=P.map(Ga);var p=ca[H];p||(ca[H]=p=[],ua.push(p));p.push(V)}}Ga=H=0;for(D=ua.length;H<D;++H){p=ua[H];P=ba=0;for(G=p.length;ba<G;++ba)P+=Math.abs(Y(p[ba]));p.sum=P;P>Ga&&(Ga=P);N&&p.sort(N)}ua.max=Ga;return ua}Ma.inherits(db,q.Transform,{transform(D,
P){if(this.value&&!D.modified())return P.StopPropagation;var N=P.dataflow.locale();P=P.fork(P.NO_SOURCE|P.NO_FIELDS);var Y=this.value,ua=D.scale,Ga=R.tickCount(ua,null==D.count?D.values?D.values.length:10:D.count,D.minstep),G=D.format||R.tickFormat(N,ua,Ga,D.formatSpecifier,D.formatType,!!D.values),ca=D.values?R.validTicks(ua,D.values,Ga):R.tickValues(ua,Ga);Y&&(P.rem=Y);Y=ca.map((ba,V)=>q.ingest({index:V/(ca.length-1||1),value:ba,label:G(ba)}));D.extra&&Y.length&&Y.push(q.ingest({index:-1,extra:{value:Y[0].value},
label:""}));P.source=Y;this.value=P.add=Y;return P}});Ma.inherits(Bb,q.Transform,{transform(D,P){var N=P.dataflow,Y=P.fork(P.NO_SOURCE|P.NO_FIELDS),ua=D.item||jb,Ga=D.key||q.tupleid,G=this.value;Ma.isArray(Y.encode)&&(Y.encode=null);G&&(D.modified("key")||P.modified(Ga))&&Ma.error("DataJoin does not support modified key function or fields.");G||(P=P.addAll(),this.value=G=Ea(Ga));P.visit(P.ADD,ca=>{const ba=Ga(ca);let V=G.get(ba);V?V.exit?(G.empty--,Y.add.push(V)):Y.mod.push(V):(V=ua(ca),G.set(ba,
V),Y.add.push(V));V.datum=ca;V.exit=!1});P.visit(P.MOD,ca=>{var ba=Ga(ca);if(ba=G.get(ba))ba.datum=ca,Y.mod.push(ba)});P.visit(P.REM,ca=>{var ba=Ga(ca);ba=G.get(ba);ca!==ba.datum||ba.exit||(Y.rem.push(ba),ba.exit=!0,++G.empty)});P.changed(P.ADD_MOD)&&Y.modifies("datum");(P.clean()||D.clean&&G.empty>N.cleanThreshold)&&N.runAfter(G.clean);return Y}});Ma.inherits(ab,q.Transform,{transform(D,P){var N=P.fork(P.ADD_REM),Y=D.mod||!1,ua=D.encoders,Ga=P.encode;if(Ma.isArray(Ga))if(N.changed()||Ga.every(p=>
ua[p]))Ga=Ga[0],N.encode=null;else return P.StopPropagation;var G="enter"===Ga,ca=ua.update||Ma.falsy,ba=ua.enter||Ma.falsy,V=ua.exit||Ma.falsy,H=(Ga&&!G?ua[Ga]:ca)||Ma.falsy;P.changed(P.ADD)&&(P.visit(P.ADD,p=>{ba(p,D);ca(p,D)}),N.modifies(ba.output),N.modifies(ca.output),H!==Ma.falsy&&H!==ca&&(P.visit(P.ADD,p=>{H(p,D)}),N.modifies(H.output)));P.changed(P.REM)&&V!==Ma.falsy&&(P.visit(P.REM,p=>{V(p,D)}),N.modifies(V.output));if(G||H!==Ma.falsy)Ga=P.MOD|(D.modified()?P.REFLOW:0),G?(P.visit(Ga,p=>{const h=
ba(p,D)||Y;(H(p,D)||h)&&N.mod.push(p)}),N.mod.length&&N.modifies(ba.output)):P.visit(Ga,p=>{(H(p,D)||Y)&&N.mod.push(p)}),N.mod.length&&N.modifies(H.output);return N.changed()?N:P.StopPropagation}});Ma.inherits(bb,q.Transform,{transform(D,P){if(null!=this.value&&!D.modified())return P.StopPropagation;var N=P.dataflow.locale(),Y=P.fork(P.NO_SOURCE|P.NO_FIELDS),ua=this.value,Ga=D.type||R.SymbolLegend,G=D.scale,ca=+D.limit,ba=R.tickCount(G,null==D.count?5:D.count,D.minstep),V=!!D.values||Ga===R.SymbolLegend,
H=D.format||R.labelFormat(N,G,ba,Ga,D.formatSpecifier,D.formatType,V),p=D.values||R.labelValues(G,ba),h;ua&&(Y.rem=ua);if(Ga===R.SymbolLegend){if(ca&&p.length>ca){P.dataflow.warn("Symbol legend count exceeds limit, filtering items.");ua=p.slice(0,ca-1);var m=!0}else ua=p;if(Ma.isFunction(h=D.size)){D.values||0!==G(ua[0])||(ua=ua.slice(1));var n=ua.reduce((x,L)=>Math.max(x,h(L,D)),0)}else h=Ma.constant(n=h||8);ua=ua.map((x,L)=>q.ingest({index:L,label:H(x,L,ua),value:x,offset:n,size:h(x,D)}));m&&(m=
p[ua.length],ua.push(q.ingest({index:ua.length,label:`\u2026${p.length-ua.length} entries`,value:m,offset:n,size:h(m,D)})))}else if(Ga===R.GradientLegend){P=G.domain();var u=R.scaleFraction(G,P[0],Ma.peek(P));3>p.length&&!D.values&&P[0]!==Ma.peek(P)&&(p=[P[0],Ma.peek(P)]);ua=p.map((x,L)=>q.ingest({index:L,label:H(x,L,p),value:x,perc:u(x)}))}else h=p.length-1,u=R.labelFraction(G),ua=p.map((x,L)=>q.ingest({index:L,label:H(x,L,p),value:x,perc:L?u(x):0,perc2:L===h?1:u(p[L+1])}));Y.source=ua;this.value=
Y.add=ua;return Y}});const wa=D=>D.source.x,Da=D=>D.source.y,Oa=D=>D.target.x,Ha=D=>D.target.y;Ca.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field","default":"source.x"},{name:"sourceY",type:"field","default":"source.y"},{name:"targetX",type:"field","default":"target.x"},{name:"targetY",type:"field","default":"target.y"},{name:"orient",type:"enum","default":"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum","default":"line",values:["line",
"arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string","default":"path"}]};Ma.inherits(Ca,q.Transform,{transform(D,P){var N=D.sourceX||wa,Y=D.sourceY||Da,ua=D.targetX||Oa,Ga=D.targetY||Ha,G=D.as||"path",ca=D.shape||"line",ba=w.get(ca+"-"+(D.orient||"vertical"))||w.get(ca);ba||Ma.error("LinkPath unsupported type: "+D.shape+(D.orient?"-"+D.orient:""));P.visit(P.SOURCE,V=>{V[G]=ba(N(V),Y(V),ua(V),Ga(V))});return P.reflow(D.modified()).modifies(G)}});const Va=
(D,P,N,Y)=>"M"+D+","+P+"L"+N+","+Y,Fa=(D,P,N,Y)=>{var ua=N-D,Ga=Y-P,G=Math.sqrt(ua*ua+Ga*Ga)/2;return"M"+D+","+P+"A"+G+","+G+" "+180*Math.atan2(Ga,ua)/Math.PI+" 0 1 "+N+","+Y},E=(D,P,N,Y)=>{var ua=N-D;const Ga=Y-P,G=.2*(ua+Ga);ua=.2*(Ga-ua);return"M"+D+","+P+"C"+(D+G)+","+(P+ua)+" "+(N+ua)+","+(Y-G)+" "+N+","+Y},w=Ma.fastmap({line:Va,"line-radial":(D,P,N,Y)=>Va(P*Math.cos(D),P*Math.sin(D),Y*Math.cos(N),Y*Math.sin(N)),arc:Fa,"arc-radial":(D,P,N,Y)=>Fa(P*Math.cos(D),P*Math.sin(D),Y*Math.cos(N),Y*Math.sin(N)),
curve:E,"curve-radial":(D,P,N,Y)=>E(P*Math.cos(D),P*Math.sin(D),Y*Math.cos(N),Y*Math.sin(N)),"orthogonal-horizontal":(D,P,N,Y)=>"M"+D+","+P+"V"+Y+"H"+N,"orthogonal-vertical":(D,P,N,Y)=>"M"+D+","+P+"H"+N+"V"+Y,"orthogonal-radial":(D,P,N,Y)=>{const ua=Math.cos(N),Ga=Math.sin(N);return"M"+P*Math.cos(D)+","+P*Math.sin(D)+"A"+P+","+P+" 0 0,"+((Math.abs(N-D)>Math.PI?N<=D:N>D)?1:0)+" "+P*ua+","+P*Ga+"L"+Y*ua+","+Y*Ga},"diagonal-horizontal":(D,P,N,Y)=>{const ua=(D+N)/2;return"M"+D+","+P+"C"+ua+","+P+" "+
ua+","+Y+" "+N+","+Y},"diagonal-vertical":(D,P,N,Y)=>{const ua=(P+Y)/2;return"M"+D+","+P+"C"+D+","+ua+" "+N+","+ua+" "+N+","+Y},"diagonal-radial":(D,P,N,Y)=>{const ua=Math.cos(D);D=Math.sin(D);const Ga=Math.cos(N);N=Math.sin(N);const G=(P+Y)/2;return"M"+P*ua+","+P*D+"C"+G*ua+","+G*D+" "+G*Ga+","+G*N+" "+Y*Ga+","+Y*N}});ma.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number","default":0},{name:"endAngle",type:"number","default":6.283185307179586},
{name:"sort",type:"boolean","default":!1},{name:"as",type:"string",array:!0,length:2,"default":["startAngle","endAngle"]}]};Ma.inherits(ma,q.Transform,{transform(D,P){var N=D.as||["startAngle","endAngle"],Y=N[0],ua=N[1],Ga=D.startAngle||0,G=null!=D.endAngle?D.endAngle:2*Math.PI,ca=P.source,ba=ca.map(D.field||Ma.one),V=ba.length,H=Ga;Ga=(G-Ga)/Fb.sum(ba);G=Fb.range(V);var p;D.sort&&G.sort((n,u)=>ba[n]-ba[u]);for(p=0;p<V;++p){var h=ba[G[p]];var m=ca[G[p]];m[Y]=H;m[ua]=H+=h*Ga}this.value=ba;return P.reflow(D.modified()).modifies(N)}});
const F=Ma.toSet("set modified clear type scheme schemeExtent schemeCount domain domainMin domainMid domainMax domainRaw domainImplicit nice zero bins range rangeStep round reverse interpolate interpolateGamma".split(" "));Ma.inherits(Ia,q.Transform,{transform(D,P){var N=P.dataflow,Y=this.value;var ua=D.type;var Ga="";if(ua===R.Sequential)ua=R.Sequential+"-"+R.Linear;else{var G=D.type;if(G=R.isContinuous(G)&&G!==R.Time&&G!==R.UTC&&(D.scheme||D.range&&D.range.length&&D.range.every(Ma.isString)))Ga=
D.rawDomain?D.rawDomain.length:D.domain?D.domain.length+ +(null!=D.domainMid):0,Ga=2===Ga?R.Sequential+"-":3===Ga?R.Diverging+"-":"";ua=(Ga+ua||R.Linear).toLowerCase()}Y&&ua===Y.type||(this.value=Y=R.scale(ua)());for(ua in D)F[ua]||"padding"===ua&&oa(Y.type)||(Ma.isFunction(Y[ua])?Y[ua](D[ua]):N.warn("Unsupported scale property: "+ua));Ga=ua=Y;(G=D.domainRaw)?(Y.domain(Ua(Y.type,G,N)),G=G.length):G=-1;if(-1<G)N=G;else{var ca=D.domain;G=Y.type;var ba;!(ba=D.zero)&&(ba=void 0===D.zero)&&(ba=Y.type,
ba=!Y.bins&&(ba===R.Linear||ba===R.Pow||ba===R.Sqrt));if(ca){if(oa(G)&&D.padding&&ca[0]!==Ma.peek(ca)){var V=D.range,H=D.padding;var p=D.exponent;var h=D.constant;V=Math.abs(Ma.peek(V)-V[0]);H=V/(V-2*H);p=G===R.Log?Ma.zoomLog(ca,null,H):G===R.Sqrt?Ma.zoomPow(ca,null,H,.5):G===R.Pow?Ma.zoomPow(ca,null,H,p||1):G===R.Symlog?Ma.zoomSymlog(ca,null,H,h||1):Ma.zoomLinear(ca,null,H);ca=ca.slice();ca[0]=p[0];ca[ca.length-1]=p[1]}if(ba||null!=D.domainMin||null!=D.domainMax||null!=D.domainMid)p=(ca=ca.slice()).length-
1||1,ba&&(0<ca[0]&&(ca[0]=0),0>ca[p]&&(ca[p]=0)),null!=D.domainMin&&(ca[0]=D.domainMin),null!=D.domainMax&&(ca[p]=D.domainMax),null!=D.domainMid&&(ba=D.domainMid,h=ba>ca[p]?p+1:ba<ca[0]?0:p,h!==p&&N.warn("Scale domainMid exceeds domain min or max.",ba),ca.splice(h,0,ba));Y.domain(Ua(G,ca,N));G===R.Ordinal&&Y.unknown(D.domainImplicit?R.scaleImplicit:void 0);D.nice&&Y.nice&&Y.nice(!0!==D.nice&&R.tickCount(Y,D.nice)||null);N=ca.length}else N=0}(G=D.bins)&&!Ma.isArray(G)&&(ba=Ga.domain(),Y=ba[0],ba=Ma.peek(ba),
ca=G.step,p=null==G.start?Y:G.start,G=null==G.stop?ba:G.stop,ca||Ma.error("Scale bins parameter missing step property."),p<Y&&(p=ca*Math.ceil(Y/ca)),G>ba&&(G=ca*Math.floor(ba/ca)),G=Fb.range(p,G+ca/2,ca));G?Ga.bins=G:Ga.bins&&delete Ga.bins;Ga.type===R.BinOrdinal&&(G?D.domain||D.domainRaw||(Ga.domain(G),N=G.length):Ga.bins=Ga.domain());Y=N;a:{Ga=ua.type;N=D.round||!1;G=D.range;if(null!=D.rangeStep)Ga!==R.Band&&Ga!==R.Point&&Ma.error("Only band and point scales support rangeStep."),G=[0,D.rangeStep*
R.bandSpace(Y,Ga===R.Point?1:(null!=D.paddingInner?D.paddingInner:D.padding)||0,(null!=D.paddingOuter?D.paddingOuter:D.padding)||0)];else if(D.scheme&&(G=D.schemeExtent,Ma.isArray(D.scheme)?ba=R.interpolateColors(D.scheme,D.interpolate,D.interpolateGamma):(ba=D.scheme.toLowerCase(),(ba=R.scheme(ba))||Ma.error(`Unrecognized scheme name: ${D.scheme}`)),Y=Ga===R.Threshold?Y+1:Ga===R.BinOrdinal?Y-1:Ga===R.Quantile||Ga===R.Quantize?+D.schemeCount||5:Y,G=R.isInterpolating(Ga)?na(ba,G,D.reverse):Ma.isFunction(ba)?
R.quantizeInterpolator(na(ba,G),Y):Ga===R.Ordinal?ba:ba.slice(0,Y),Ma.isFunction(G)))if(ua.interpolator){ua.interpolator(G);break a}else Ma.error(`Scale type ${Ga} does not support interpolating color schemes.`);G&&R.isInterpolating(Ga)?ua.interpolator(R.interpolateColors(qa(G,D.reverse),D.interpolate,D.interpolateGamma)):(G&&D.interpolate&&ua.interpolate?ua.interpolate(R.interpolate(D.interpolate,D.interpolateGamma)):Ma.isFunction(ua.round)?ua.round(N):Ma.isFunction(ua.rangeRound)&&ua.interpolate(N?
Ja.interpolateRound:Ja.interpolate),G&&ua.range(qa(G,D.reverse)))}return P.fork(P.NO_SOURCE|P.NO_FIELDS)}});Ma.inherits(Ta,q.Transform,{transform(D,P){const N=D.modified("sort")||P.changed(P.ADD)||P.modified(D.sort.fields)||P.modified("datum");N&&P.source.sort(q.stableCompare(D.sort));this.modified(N);return P}});const Z=["y0","y1"];ta.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",
type:"enum","default":"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,"default":Z}]};Ma.inherits(ta,q.Transform,{transform(D,P){var N=D.as||Z,Y=N[0],ua=N[1],Ga=q.stableCompare(D.sort),G=D.field||Ma.one,ca="center"===D.offset?Qa:"normalize"===D.offset?va:S,ba;Ga=la(P.source,D.groupby,Ga,G);var V=0;var H=Ga.length;for(ba=Ga.max;V<H;++V)ca(Ga[V],ba,G,Y,ua);return P.reflow(D.modified()).modifies(N)}});k.axisticks=db;k.datajoin=Bb;k.encode=ab;k.legendentries=bb;
k.linkpath=Ca;k.pie=ma;k.scale=Ia;k.sortitems=Ta;k.stack=ta;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[40]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb,Vb(16)):"function"===typeof define&&define.amd?define(["exports","d3-array"],q):(k=k||self,q(k.d3=k.d3||{},k.d3))})(this,function(k,q){function R(X){return 1<X?0:-1>X?ha:Math.acos(X)}function Ma(X){return 1<X?za:-1>X?-za:Math.asin(X)}function Fb(X){return(X=Hb(X/2))*X}function Ja(){}function db(X,sa){if(X&&Je.hasOwnProperty(X.type))Je[X.type](X,sa)}function Bb(X,sa,Pa){var kb=-1;Pa=X.length-
Pa;for(sa.lineStart();++kb<Pa;){var Ab=X[kb];sa.point(Ab[0],Ab[1],Ab[2])}sa.lineEnd()}function jb(X,sa){var Pa=-1,kb=X.length;for(sa.polygonStart();++Pa<kb;)Bb(X[Pa],sa,1);sa.polygonEnd()}function Ea(X,sa){if(X&&jf.hasOwnProperty(X.type))jf[X.type](X,sa);else db(X,sa)}function ab(){re.point=Ca}function bb(){ma(Nd,ec)}function Ca(X,sa){re.point=ma;Nd=X;ec=sa;X*=Tb;sa*=Tb;Hd=X;fc=Fc(sa=sa/2+ob);Wc=Hb(sa)}function ma(X,sa){X*=Tb;sa*=Tb;sa=sa/2+ob;var Pa=X-Hd,kb=0<=Pa?1:-1,Ab=kb*Pa;Pa=Fc(sa);sa=Hb(sa);
var jc=Wc*sa,nc=fc*Pa+jc*Fc(Ab);kb=jc*kb*Hb(Ab);Ze.add(pc(kb,nc));Hd=X;fc=Pa;Wc=sa}function oa(X){return[pc(X[1],X[0]),Ma(X[2])]}function Ia(X){var sa=X[0];X=X[1];var Pa=Fc(X);return[Pa*Fc(sa),Pa*Hb(sa),Hb(X)]}function Ua(X,sa){return X[0]*sa[0]+X[1]*sa[1]+X[2]*sa[2]}function na(X,sa){return[X[1]*sa[2]-X[2]*sa[1],X[2]*sa[0]-X[0]*sa[2],X[0]*sa[1]-X[1]*sa[0]]}function qa(X,sa){X[0]+=sa[0];X[1]+=sa[1];X[2]+=sa[2]}function Ta(X,sa){return[X[0]*sa,X[1]*sa,X[2]*sa]}function ta(X){var sa=le(X[0]*X[0]+X[1]*
X[1]+X[2]*X[2]);X[0]/=sa;X[1]/=sa;X[2]/=sa}function Qa(X,sa){ie.push(ye=[Rd=X,Oc=X]);sa<Zd&&(Zd=sa);sa>Vd&&(Vd=sa)}function va(X,sa){var Pa=Ia([X*Tb,sa*Tb]);if(td){var kb=na(td,Pa);kb=na([kb[1],-kb[0],0],kb);ta(kb);kb=oa(kb);var Ab=X-Od,jc=0<Ab?1:-1,nc=kb[0]*vb*jc;Ab=180<oc(Ab);Ab^(jc*Od<nc&&nc<jc*X)?(kb=kb[1]*vb,kb>Vd&&(Vd=kb)):(nc=(nc+360)%360-180,Ab^(jc*Od<nc&&nc<jc*X))?(kb=-kb[1]*vb,kb<Zd&&(Zd=kb)):(sa<Zd&&(Zd=sa),sa>Vd&&(Vd=sa));Ab?X<Od?Ha(Rd,X)>Ha(Rd,Oc)&&(Oc=X):Ha(X,Oc)>Ha(Rd,Oc)&&(Rd=X):Oc>=
Rd?(X<Rd&&(Rd=X),X>Oc&&(Oc=X)):X>Od?Ha(Rd,X)>Ha(Rd,Oc)&&(Oc=X):Ha(X,Oc)>Ha(Rd,Oc)&&(Rd=X)}else ie.push(ye=[Rd=X,Oc=X]);sa<Zd&&(Zd=sa);sa>Vd&&(Vd=sa);td=Pa;Od=X}function S(){af.point=va}function la(){ye[0]=Rd;ye[1]=Oc;af.point=Qa;td=null}function wa(X,sa){if(td){var Pa=X-Od;vd.add(180<oc(Pa)?Pa+(0<Pa?360:-360):Pa)}else Kd=X,Pe=sa;re.point(X,sa);va(X,sa)}function Da(){re.lineStart()}function Oa(){wa(Kd,Pe);re.lineEnd();1E-6<oc(vd)&&(Rd=-(Oc=180));ye[0]=Rd;ye[1]=Oc;td=null}function Ha(X,sa){return 0>
(sa-=X)?sa+360:sa}function Va(X,sa){return X[0]-sa[0]}function Fa(X,sa){return X[0]<=X[1]?X[0]<=sa&&sa<=X[1]:sa<X[0]||X[1]<sa}function E(X,sa){X*=Tb;sa*=Tb;var Pa=Fc(sa);w(Pa*Fc(X),Pa*Hb(X),Hb(sa))}function w(X,sa,Pa){++tf;ed+=(X-ed)/tf;ze+=(sa-ze)/tf;Se+=(Pa-Se)/tf}function F(){Wb.point=Z}function Z(X,sa){X*=Tb;sa*=Tb;var Pa=Fc(sa);ub=Pa*Fc(X);wb=Pa*Hb(X);Lb=Hb(sa);Wb.point=D;w(ub,wb,Lb)}function D(X,sa){X*=Tb;sa*=Tb;var Pa=Fc(sa),kb=Pa*Fc(X);X=Pa*Hb(X);sa=Hb(sa);var Ab=pc(le((Ab=wb*sa-Lb*X)*Ab+
(Ab=Lb*kb-ub*sa)*Ab+(Ab=ub*X-wb*kb)*Ab),ub*kb+wb*X+Lb*sa);Ff+=Ab;Te+=Ab*(ub+(ub=kb));of+=Ab*(wb+(wb=X));pf+=Ab*(Lb+(Lb=sa));w(ub,wb,Lb)}function P(){Wb.point=E}function N(){Wb.point=ua}function Y(){Ga(O,Ka);Wb.point=E}function ua(X,sa){O=X;Ka=sa;X*=Tb;sa*=Tb;Wb.point=Ga;var Pa=Fc(sa);ub=Pa*Fc(X);wb=Pa*Hb(X);Lb=Hb(sa);w(ub,wb,Lb)}function Ga(X,sa){X*=Tb;sa*=Tb;var Pa=Fc(sa),kb=Pa*Fc(X);X=Pa*Hb(X);sa=Hb(sa);Pa=wb*sa-Lb*X;var Ab=Lb*kb-ub*sa,jc=ub*X-wb*kb,nc=$b(Pa,Ab,jc),kc=Ma(nc);nc=nc&&-kc/nc;bf.add(nc*
Pa);De.add(nc*Ab);z.add(nc*jc);Ff+=kc;Te+=kc*(ub+(ub=kb));of+=kc*(wb+(wb=X));pf+=kc*(Lb+(Lb=sa));w(ub,wb,Lb)}function G(X){return function(){return X}}function ca(X,sa){function Pa(kb,Ab){return kb=X(kb,Ab),sa(kb[0],kb[1])}X.invert&&sa.invert&&(Pa.invert=function(kb,Ab){return kb=sa.invert(kb,Ab),kb&&X.invert(kb[0],kb[1])});return Pa}function ba(X,sa){return[oc(X)>ha?X+Math.round(-X/Za)*Za:X,sa]}function V(X,sa,Pa){return(X%=Za)?sa||Pa?ca(p(X),h(sa,Pa)):p(X):sa||Pa?h(sa,Pa):ba}function H(X){return function(sa,
Pa){return sa+=X,[sa>ha?sa-Za:sa<-ha?sa+Za:sa,Pa]}}function p(X){var sa=H(X);sa.invert=H(-X);return sa}function h(X,sa){function Pa(kc,rc){var tc=Fc(rc),ad=Fc(kc)*tc;kc=Hb(kc)*tc;rc=Hb(rc);tc=rc*kb+ad*Ab;return[pc(kc*jc-tc*nc,ad*kb-rc*Ab),Ma(tc*jc+kc*nc)]}var kb=Fc(X),Ab=Hb(X),jc=Fc(sa),nc=Hb(sa);Pa.invert=function(kc,rc){var tc=Fc(rc),ad=Fc(kc)*tc;kc=Hb(kc)*tc;rc=Hb(rc);tc=rc*jc-kc*nc;return[pc(kc*jc+rc*nc,ad*kb+tc*Ab),Ma(tc*kb-ad*Ab)]};return Pa}function m(X){function sa(Pa){Pa=X(Pa[0]*Tb,Pa[1]*
Tb);return Pa[0]*=vb,Pa[1]*=vb,Pa}X=V(X[0]*Tb,X[1]*Tb,2<X.length?X[2]*Tb:0);sa.invert=function(Pa){Pa=X.invert(Pa[0]*Tb,Pa[1]*Tb);return Pa[0]*=vb,Pa[1]*=vb,Pa};return sa}function n(X,sa,Pa,kb,Ab,jc){if(Pa){var nc=Fc(sa),kc=Hb(sa);Pa*=kb;if(null==Ab)Ab=sa+kb*Za,jc=sa-Pa/2;else if(Ab=u(nc,Ab),jc=u(nc,jc),0<kb?Ab<jc:Ab>jc)Ab+=kb*Za;for(;0<kb?Ab>jc:Ab<jc;Ab-=Pa)sa=oa([nc,-kc*Fc(Ab),-kc*Hb(Ab)]),X.point(sa[0],sa[1])}}function u(X,sa){sa=Ia(sa);sa[0]-=X;ta(sa);X=R(-sa[1]);return((0>-sa[2]?-X:X)+Za-1E-6)%
Za}function x(){var X=[],sa;return{point:function(Pa,kb,Ab){sa.push([Pa,kb,Ab])},lineStart:function(){X.push(sa=[])},lineEnd:Ja,rejoin:function(){1<X.length&&X.push(X.pop().concat(X.shift()))},result:function(){var Pa=X;X=[];sa=null;return Pa}}}function L(X,sa){return 1E-6>oc(X[0]-sa[0])&&1E-6>oc(X[1]-sa[1])}function ia(X,sa,Pa,kb){this.x=X;this.z=sa;this.o=Pa;this.e=kb;this.v=!1;this.n=this.p=null}function xa(X,sa,Pa,kb,Ab){var jc=[],nc=[];X.forEach(function(Mc){if(!(0>=(Lc=Mc.length-1))){var Lc,
Rc=Mc[0],gd=Mc[Lc];if(L(Rc,gd)){if(!Rc[2]&&!gd[2]){Ab.lineStart();for(kc=0;kc<Lc;++kc)Ab.point((Rc=Mc[kc])[0],Rc[1]);Ab.lineEnd();return}gd[0]+=2E-6}jc.push(Lc=new ia(Rc,Mc,null,!0));nc.push(Lc.o=new ia(Rc,null,Lc,!1));jc.push(Lc=new ia(gd,Mc,null,!1));nc.push(Lc.o=new ia(gd,null,Lc,!0))}});if(jc.length){nc.sort(sa);Wa(jc);Wa(nc);var kc=0;for(X=nc.length;kc<X;++kc)nc[kc].e=Pa=!Pa;Pa=jc[0];for(var rc;;){for(var tc=Pa,ad=!0;tc.v;)if((tc=tc.n)===Pa)return;sa=tc.z;Ab.lineStart();do{tc.v=tc.o.v=!0;if(tc.e){if(ad)for(kc=
0,X=sa.length;kc<X;++kc)Ab.point((rc=sa[kc])[0],rc[1]);else kb(tc.x,tc.n.x,1,Ab);tc=tc.n}else{if(ad)for(sa=tc.p.z,kc=sa.length-1;0<=kc;--kc)Ab.point((rc=sa[kc])[0],rc[1]);else kb(tc.x,tc.p.x,-1,Ab);tc=tc.p}tc=tc.o;sa=tc.z;ad=!ad}while(!tc.v);Ab.lineEnd()}}}function Wa(X){if(sa=X.length){for(var sa,Pa=0,kb=X[0],Ab;++Pa<sa;)kb.n=Ab=X[Pa],Ab.p=kb,kb=Ab;kb.n=Ab=X[0];Ab.p=kb}}function $a(X){return oc(X[0])<=ha?X[0]:ne(X[0])*((oc(X[0])+ha)%Za-ha)}function fb(X,sa){var Pa=$a(sa);sa=sa[1];var kb=Hb(sa),Ab=
[Hb(Pa),-Fc(Pa),0],jc=0,nc=0,kc=new q.Adder;1===kb?sa=za+1E-6:-1===kb&&(sa=-za-1E-6);kb=0;for(var rc=X.length;kb<rc;++kb)if(ad=(tc=X[kb]).length){var tc,ad,Mc=tc[ad-1],Lc=$a(Mc),Rc=Mc[1]/2+ob,gd=Hb(Rc),hd=Fc(Rc);for(Rc=0;Rc<ad;++Rc,Lc=Ud,gd=Id,hd=rd,Mc=fe){var fe=tc[Rc],Ud=$a(fe);rd=fe[1]/2+ob;var Id=Hb(rd),rd=Fc(rd),bd=Ud-Lc,Pd=0<=bd?1:-1,He=Pd*bd,Oe=He>ha;gd*=Id;kc.add(pc(gd*Pd*Hb(He),hd*rd+gd*Fc(He)));jc+=Oe?bd+Pd*Za:bd;Oe^Lc>=Pa^Ud>=Pa&&(Mc=na(Ia(Mc),Ia(fe)),ta(Mc),Lc=na(Ab,Mc),ta(Lc),Lc=(Oe^
0<=bd?-1:1)*Ma(Lc[2]),sa>Lc||sa===Lc&&(Mc[0]||Mc[1]))&&(nc+=Oe^0<=bd?1:-1)}}return(-1E-6>jc||1E-6>jc&&-1E-12>kc)^nc&1}function Ba(X,sa,Pa,kb){return function(Ab){function jc(bd,Pd){X(bd,Pd)&&Ab.point(bd,Pd)}function nc(bd,Pd){Lc.point(bd,Pd)}function kc(){rd.point=nc;Lc.lineStart()}function rc(){rd.point=jc;Lc.lineEnd()}function tc(bd,Pd){Id.push([bd,Pd]);gd.point(bd,Pd)}function ad(){gd.lineStart();Id=[]}function Mc(){tc(Id[0][0],Id[0][1]);gd.lineEnd();var bd=gd.clean(),Pd=Rc.result(),He=Pd.length,
Oe;Id.pop();fe.push(Id);Id=null;if(He)if(bd&1){if(He=Pd[0],0<(Pd=He.length-1)){hd||(Ab.polygonStart(),hd=!0);Ab.lineStart();for(bd=0;bd<Pd;++bd)Ab.point((Oe=He[bd])[0],Oe[1]);Ab.lineEnd()}}else 1<He&&bd&2&&Pd.push(Pd.pop().concat(Pd.shift())),Ud.push(Pd.filter(T))}var Lc=sa(Ab),Rc=x(),gd=sa(Rc),hd=!1,fe,Ud,Id,rd={point:jc,lineStart:kc,lineEnd:rc,polygonStart:function(){rd.point=tc;rd.lineStart=ad;rd.lineEnd=Mc;Ud=[];fe=[]},polygonEnd:function(){rd.point=jc;rd.lineStart=kc;rd.lineEnd=rc;Ud=q.merge(Ud);
var bd=fb(fe,kb);Ud.length?(hd||(Ab.polygonStart(),hd=!0),xa(Ud,da,bd,Pa,Ab)):bd&&(hd||(Ab.polygonStart(),hd=!0),Ab.lineStart(),Pa(null,null,1,Ab),Ab.lineEnd());hd&&(Ab.polygonEnd(),hd=!1);Ud=fe=null},sphere:function(){Ab.polygonStart();Ab.lineStart();Pa(null,null,1,Ab);Ab.lineEnd();Ab.polygonEnd()}};return rd}}function T(X){return 1<X.length}function da(X,sa){return(0>(X=X.x)[0]?X[1]-za-1E-6:za-X[1])-(0>(sa=sa.x)[0]?sa[1]-za-1E-6:za-sa[1])}function Xa(X){function sa(rc,tc){return Fc(rc)*Fc(tc)>Ab}
function Pa(rc,tc,ad){var Mc=Ia(rc),Lc=Ia(tc),Rc=[1,0,0];Lc=na(Mc,Lc);var gd=Ua(Lc,Lc);Mc=Lc[0];var hd=gd-Mc*Mc;if(!hd)return!ad&&rc;gd=Ab*gd/hd;hd=-Ab*Mc/hd;Mc=na(Rc,Lc);Rc=Ta(Rc,gd);Lc=Ta(Lc,hd);qa(Rc,Lc);Lc=Ua(Rc,Mc);gd=Ua(Mc,Mc);hd=Lc*Lc-gd*(Ua(Rc,Rc)-1);if(!(0>hd)){var fe=le(hd);hd=Ta(Mc,(-Lc-fe)/gd);qa(hd,Rc);hd=oa(hd);if(!ad)return hd;ad=rc[0];var Ud=tc[0];rc=rc[1];tc=tc[1];if(Ud<ad){var Id=ad;ad=Ud;Ud=Id}var rd=Ud-ad,bd=1E-6>oc(rd-ha);!bd&&tc<rc&&(Id=rc,rc=tc,tc=Id);if(bd||1E-6>rd?bd?0<rc+
tc^hd[1]<(1E-6>oc(hd[0]-ad)?rc:tc):rc<=hd[1]&&hd[1]<=tc:rd>ha^(ad<=hd[0]&&hd[0]<=Ud))return tc=Ta(Mc,(-Lc+fe)/gd),qa(tc,Rc),[hd,oa(tc)]}}function kb(rc,tc){var ad=nc?X:ha-X,Mc=0;rc<-ad?Mc|=1:rc>ad&&(Mc|=2);tc<-ad?Mc|=4:tc>ad&&(Mc|=8);return Mc}var Ab=Fc(X),jc=6*Tb,nc=0<Ab,kc=1E-6<oc(Ab);return Ba(sa,function(rc){var tc,ad,Mc,Lc,Rc;return{lineStart:function(){Lc=Mc=!1;Rc=1},point:function(gd,hd){var fe=[gd,hd],Ud=sa(gd,hd);hd=nc?Ud?0:kb(gd,hd):Ud?kb(gd+(0>gd?ha:-ha),hd):0;!tc&&(Lc=Mc=Ud)&&rc.lineStart();
Ud!==Mc&&(gd=Pa(tc,fe),!gd||L(tc,gd)||L(fe,gd))&&(fe[2]=1);if(Ud!==Mc)Rc=0,Ud?(rc.lineStart(),gd=Pa(fe,tc),rc.point(gd[0],gd[1])):(gd=Pa(tc,fe),rc.point(gd[0],gd[1],2),rc.lineEnd()),tc=gd;else if(kc&&tc&&nc^Ud){var Id;hd&ad||!(Id=Pa(fe,tc,!0))||(Rc=0,nc?(rc.lineStart(),rc.point(Id[0][0],Id[0][1]),rc.point(Id[1][0],Id[1][1]),rc.lineEnd()):(rc.point(Id[1][0],Id[1][1]),rc.lineEnd(),rc.lineStart(),rc.point(Id[0][0],Id[0][1],3)))}!Ud||tc&&L(tc,fe)||rc.point(fe[0],fe[1]);tc=fe;Mc=Ud;ad=hd},lineEnd:function(){Mc&&
rc.lineEnd();tc=null},clean:function(){return Rc|(Lc&&Mc)<<1}}},function(rc,tc,ad,Mc){n(Mc,X,jc,ad,rc,tc)},nc?[0,-X]:[-ha,X-ha])}function zb(X,sa,Pa,kb,Ab,jc){var nc=X[0],kc=X[1],rc=0,tc=1,ad=sa[0]-nc,Mc=sa[1]-kc;Pa-=nc;if(ad||!(0<Pa)){Pa/=ad;if(0>ad){if(Pa<rc)return;Pa<tc&&(tc=Pa)}else if(0<ad){if(Pa>tc)return;Pa>rc&&(rc=Pa)}Pa=Ab-nc;if(ad||!(0>Pa)){Pa/=ad;if(0>ad){if(Pa>tc)return;Pa>rc&&(rc=Pa)}else if(0<ad){if(Pa<rc)return;Pa<tc&&(tc=Pa)}Pa=kb-kc;if(Mc||!(0<Pa)){Pa/=Mc;if(0>Mc){if(Pa<rc)return;
Pa<tc&&(tc=Pa)}else if(0<Mc){if(Pa>tc)return;Pa>rc&&(rc=Pa)}Pa=jc-kc;if(Mc||!(0>Pa)){Pa/=Mc;if(0>Mc){if(Pa>tc)return;Pa>rc&&(rc=Pa)}else if(0<Mc){if(Pa<rc)return;Pa<tc&&(tc=Pa)}0<rc&&(X[0]=nc+rc*ad,X[1]=kc+rc*Mc);1>tc&&(sa[0]=nc+tc*ad,sa[1]=kc+tc*Mc);return!0}}}}}function xb(X,sa,Pa,kb){function Ab(rc,tc,ad,Mc){var Lc=0,Rc=0;if(null==rc||(Lc=jc(rc,ad))!==(Rc=jc(tc,ad))||0>kc(rc,tc)^0<ad){do Mc.point(0===Lc||3===Lc?X:Pa,1<Lc?kb:sa);while((Lc=(Lc+ad+4)%4)!==Rc)}else Mc.point(tc[0],tc[1])}function jc(rc,
tc){return 1E-6>oc(rc[0]-X)?0<tc?0:3:1E-6>oc(rc[0]-Pa)?0<tc?2:1:1E-6>oc(rc[1]-sa)?0<tc?1:0:0<tc?3:2}function nc(rc,tc){return kc(rc.x,tc.x)}function kc(rc,tc){var ad=jc(rc,1),Mc=jc(tc,1);return ad!==Mc?ad-Mc:0===ad?tc[1]-rc[1]:1===ad?rc[0]-tc[0]:2===ad?rc[1]-tc[1]:tc[0]-rc[0]}return function(rc){function tc(we,Be){X<=we&&we<=Pa&&sa<=Be&&Be<=kb&&Mc.point(we,Be)}function ad(we,Be){var wf=X<=we&&we<=Pa&&sa<=Be&&Be<=kb;gd&&hd.push([we,Be]);if(He)fe=we,Ud=Be,Id=wf,He=!1,wf&&(Mc.lineStart(),Mc.point(we,
Be));else if(wf&&Pd)Mc.point(we,Be);else{var kf=[rd=Math.max(-1E9,Math.min(1E9,rd)),bd=Math.max(-1E9,Math.min(1E9,bd))],ff=[we=Math.max(-1E9,Math.min(1E9,we)),Be=Math.max(-1E9,Math.min(1E9,Be))];zb(kf,ff,X,sa,Pa,kb)?(Pd||(Mc.lineStart(),Mc.point(kf[0],kf[1])),Mc.point(ff[0],ff[1]),wf||Mc.lineEnd(),Oe=!1):wf&&(Mc.lineStart(),Mc.point(we,Be),Oe=!1)}rd=we;bd=Be;Pd=wf}var Mc=rc,Lc=x(),Rc,gd,hd,fe,Ud,Id,rd,bd,Pd,He,Oe,Ne={point:tc,lineStart:function(){Ne.point=ad;gd&&gd.push(hd=[]);He=!0;Pd=!1;rd=bd=NaN},
lineEnd:function(){Rc&&(ad(fe,Ud),Id&&Pd&&Lc.rejoin(),Rc.push(Lc.result()));Ne.point=tc;Pd&&Mc.lineEnd()},polygonStart:function(){Mc=Lc;Rc=[];gd=[];Oe=!0},polygonEnd:function(){for(var we,Be=we=0,wf=gd.length;Be<wf;++Be){var kf=gd[Be],ff=1,Ng=kf.length,wd=kf[0],Ue=wd[0];for(wd=wd[1];ff<Ng;++ff){var Fg=Ue;var kg=wd;wd=kf[ff];Ue=wd[0];wd=wd[1];kg<=kb?wd>kb&&(Ue-Fg)*(kb-kg)>(wd-kg)*(X-Fg)&&++we:wd<=kb&&(Ue-Fg)*(kb-kg)<(wd-kg)*(X-Fg)&&--we}}Be=Oe&&we;wf=(Rc=q.merge(Rc)).length;if(Be||wf)rc.polygonStart(),
Be&&(rc.lineStart(),Ab(null,null,1,rc),rc.lineEnd()),wf&&xa(Rc,nc,we,Ab,rc),rc.polygonEnd();Mc=rc;Rc=gd=hd=null}};return Ne}}function Pb(){$d.point=$d.lineEnd=Ja}function bc(X,sa){X*=Tb;sa*=Tb;Xc=X;od=Hb(sa);Bd=Fc(sa);$d.point=Uc}function Uc(X,sa){X*=Tb;sa*=Tb;var Pa=Hb(sa);sa=Fc(sa);var kb=oc(X-Xc),Ab=Fc(kb);kb=Hb(kb);kb*=sa;var jc=Bd*Pa-od*sa*Ab;Ab=od*Pa+Bd*sa*Ab;Ac.add(pc(le(kb*kb+jc*jc),Ab));Xc=X;od=Pa;Bd=sa}function yc(X){Ac=new q.Adder;Ea(X,$d);return+Ac}function Vc(X,sa){pd[0]=X;pd[1]=sa;return yc(Le)}
function ya(X,sa){return X&&se.hasOwnProperty(X.type)?se[X.type](X,sa):!1}function Nb(X,sa){for(var Pa,kb,Ab,jc=0,nc=X.length;jc<nc;jc++){kb=Vc(X[jc],sa);if(0===kb||0<jc&&(Ab=Vc(X[jc],X[jc-1]),0<Ab&&Pa<=Ab&&kb<=Ab&&(Pa+kb-Ab)*(1-Math.pow((Pa-kb)/Ab,2))<1E-12*Ab))return!0;Pa=kb}return!1}function Sb(X,sa){return!!fb(X.map(Zb),uc(sa))}function Zb(X){return X=X.map(uc),X.pop(),X}function uc(X){return[X[0]*Tb,X[1]*Tb]}function cc(X,sa,Pa){var kb=q.range(X,sa-1E-6,Pa).concat(sa);return function(Ab){return kb.map(function(jc){return[Ab,
jc]})}}function gb(X,sa,Pa){var kb=q.range(X,sa-1E-6,Pa).concat(sa);return function(Ab){return kb.map(function(jc){return[jc,Ab]})}}function Kb(){function X(){return{type:"MultiLineString",coordinates:sa()}}function sa(){return q.range(fd(jc/Lc)*Lc,Ab,Lc).map(fe).concat(q.range(fd(tc/Rc)*Rc,rc,Rc).map(Ud)).concat(q.range(fd(kb/ad)*ad,Pa,ad).filter(function(rd){return 1E-6<oc(rd%Lc)}).map(gd)).concat(q.range(fd(kc/Mc)*Mc,nc,Mc).filter(function(rd){return 1E-6<oc(rd%Rc)}).map(hd))}var Pa,kb,Ab,jc,nc,
kc,rc,tc,ad=10,Mc=ad,Lc=90,Rc=360,gd,hd,fe,Ud,Id=2.5;X.lines=function(){return sa().map(function(rd){return{type:"LineString",coordinates:rd}})};X.outline=function(){return{type:"Polygon",coordinates:[fe(jc).concat(Ud(rc).slice(1),fe(Ab).reverse().slice(1),Ud(tc).reverse().slice(1))]}};X.extent=function(rd){return arguments.length?X.extentMajor(rd).extentMinor(rd):X.extentMinor()};X.extentMajor=function(rd){if(!arguments.length)return[[jc,tc],[Ab,rc]];jc=+rd[0][0];Ab=+rd[1][0];tc=+rd[0][1];rc=+rd[1][1];
jc>Ab&&(rd=jc,jc=Ab,Ab=rd);tc>rc&&(rd=tc,tc=rc,rc=rd);return X.precision(Id)};X.extentMinor=function(rd){if(!arguments.length)return[[kb,kc],[Pa,nc]];kb=+rd[0][0];Pa=+rd[1][0];kc=+rd[0][1];nc=+rd[1][1];kb>Pa&&(rd=kb,kb=Pa,Pa=rd);kc>nc&&(rd=kc,kc=nc,nc=rd);return X.precision(Id)};X.step=function(rd){return arguments.length?X.stepMajor(rd).stepMinor(rd):X.stepMinor()};X.stepMajor=function(rd){if(!arguments.length)return[Lc,Rc];Lc=+rd[0];Rc=+rd[1];return X};X.stepMinor=function(rd){if(!arguments.length)return[ad,
Mc];ad=+rd[0];Mc=+rd[1];return X};X.precision=function(rd){if(!arguments.length)return Id;Id=+rd;gd=cc(kc,nc,90);hd=gb(kb,Pa,Id);fe=cc(tc,rc,90);Ud=gb(jc,Ab,Id);return X};return X.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Eb(){Af.point=Nc}function Nc(X,sa){Af.point=dd;ae=lf=X;gf=bg=sa}function dd(X,sa){xf.add(bg*X-lf*sa);lf=X;bg=sa}function Ic(){dd(ae,gf)}function Tc(X,sa){ea+=X;ka+=sa;++Aa}function xd(){La.point=tb}function tb(X,sa){La.point=
Jb;Tc(M=X,U=sa)}function Jb(X,sa){var Pa=X-M,kb=sa-U;Pa=le(Pa*Pa+kb*kb);Ya+=Pa*(M+X)/2;Sa+=Pa*(U+sa)/2;hb+=Pa;Tc(M=X,U=sa)}function Gc(){La.point=Tc}function ke(){La.point=Ke}function ge(){Ye(l,v)}function Ke(X,sa){La.point=Ye;Tc(l=M=X,v=U=sa)}function Ye(X,sa){var Pa=X-M,kb=sa-U;Pa=le(Pa*Pa+kb*kb);Ya+=Pa*(M+X)/2;Sa+=Pa*(U+sa)/2;hb+=Pa;Pa=U*X-M*sa;nb+=Pa*(M+X);Db+=Pa*(U+sa);Ub+=3*Pa;Tc(M=X,U=sa)}function J(X){this._context=X}function ja(X,sa){ld.point=Na;Ob=zc=X;ac=vc=sa}function Na(X,sa){zc-=X;vc-=
sa;qb.add(le(zc*zc+vc*vc));zc=X;vc=sa}function mb(){this._string=[]}function Gb(X){return"m0,"+X+"a"+X+","+X+" 0 1,1 0,"+-2*X+"a"+X+","+X+" 0 1,1 0,"+2*X+"z"}function lb(X){return function(sa){var Pa=new Xb,kb;for(kb in X)Pa[kb]=X[kb];Pa.stream=sa;return Pa}}function Xb(){}function Rb(X,sa,Pa){var kb=X.clipExtent&&X.clipExtent();X.scale(150).translate([0,0]);null!=kb&&X.clipExtent(null);Ea(Pa,X.stream(Q));sa(Q.result());null!=kb&&X.clipExtent(kb);return X}function ra(X,sa,Pa){return Rb(X,function(kb){var Ab=
sa[1][0]-sa[0][0],jc=sa[1][1]-sa[0][1],nc=Math.min(Ab/(kb[1][0]-kb[0][0]),jc/(kb[1][1]-kb[0][1]));Ab=+sa[0][0]+(Ab-nc*(kb[1][0]+kb[0][0]))/2;kb=+sa[0][1]+(jc-nc*(kb[1][1]+kb[0][1]))/2;X.scale(150*nc).translate([Ab,kb])},Pa)}function Ra(X,sa,Pa){return Rb(X,function(kb){var Ab=+sa,jc=Ab/(kb[1][0]-kb[0][0]);Ab=(Ab-jc*(kb[1][0]+kb[0][0]))/2;kb=-jc*kb[0][1];X.scale(150*jc).translate([Ab,kb])},Pa)}function rb(X,sa,Pa){return Rb(X,function(kb){var Ab=+sa,jc=Ab/(kb[1][1]-kb[0][1]),nc=-jc*kb[0][0];kb=(Ab-
jc*(kb[1][1]+kb[0][1]))/2;X.scale(150*jc).translate([nc,kb])},Pa)}function Mb(X){return lb({point:function(sa,Pa){sa=X(sa,Pa);this.stream.point(sa[0],sa[1])}})}function dc(X,sa){function Pa(kb,Ab,jc,nc,kc,rc,tc,ad,Mc,Lc,Rc,gd,hd,fe){var Ud=tc-kb,Id=ad-Ab,rd=Ud*Ud+Id*Id;if(rd>4*sa&&hd--){var bd=nc+Lc,Pd=kc+Rc,He=rc+gd,Oe=le(bd*bd+Pd*Pd+He*He),Ne=Ma(He/=Oe),we=1E-6>oc(oc(He)-1)||1E-6>oc(jc-Mc)?(jc+Mc)/2:pc(Pd,bd),Be=X(we,Ne);Ne=Be[0];Be=Be[1];var wf=Ne-kb,kf=Be-Ab,ff=Id*wf-Ud*kf;if(ff*ff/rd>sa||.3<
oc((Ud*wf+Id*kf)/rd-.5)||nc*Lc+kc*Rc+rc*gd<yd)Pa(kb,Ab,jc,nc,kc,rc,Ne,Be,we,bd/=Oe,Pd/=Oe,He,hd,fe),fe.point(Ne,Be),Pa(Ne,Be,we,bd,Pd,He,tc,ad,Mc,Lc,Rc,gd,hd,fe)}}return function(kb){function Ab(Ne,we){Ne=X(Ne,we);kb.point(Ne[0],Ne[1])}function jc(){Id=NaN;Oe.point=nc;kb.lineStart()}function nc(Ne,we){var Be=Ia([Ne,we]);we=X(Ne,we);Pa(Id,rd,Ud,bd,Pd,He,Id=we[0],rd=we[1],Ud=Ne,bd=Be[0],Pd=Be[1],He=Be[2],16,kb);kb.point(Id,rd)}function kc(){Oe.point=Ab;kb.lineEnd()}function rc(){jc();Oe.point=tc;Oe.lineEnd=
ad}function tc(Ne,we){nc(Mc=Ne,we);Lc=Id;Rc=rd;gd=bd;hd=Pd;fe=He;Oe.point=nc}function ad(){Pa(Id,rd,Ud,bd,Pd,He,Lc,Rc,Mc,gd,hd,fe,16,kb);Oe.lineEnd=kc;kc()}var Mc,Lc,Rc,gd,hd,fe,Ud,Id,rd,bd,Pd,He,Oe={point:Ab,lineStart:jc,lineEnd:kc,polygonStart:function(){kb.polygonStart();Oe.lineStart=rc},polygonEnd:function(){kb.polygonEnd();Oe.lineStart=jc}};return Oe}}function hc(X){return lb({point:function(sa,Pa){sa=X(sa,Pa);return this.stream.point(sa[0],sa[1])}})}function sc(X,sa,Pa,kb,Ab){function jc(nc,
kc){nc*=kb;kc*=Ab;return[sa+X*nc,Pa-X*kc]}jc.invert=function(nc,kc){return[(nc-sa)/X*kb,(Pa-kc)/X*Ab]};return jc}function sb(X,sa,Pa,kb,Ab,jc){function nc(gd,hd){gd*=kb;hd*=Ab;return[rc*gd-tc*hd+sa,Pa-tc*gd-rc*hd]}if(!jc)return sc(X,sa,Pa,kb,Ab);var kc=Fc(jc);jc=Hb(jc);var rc=kc*X,tc=jc*X,ad=kc/X,Mc=jc/X,Lc=(jc*Pa-kc*sa)/X,Rc=(jc*sa+kc*Pa)/X;nc.invert=function(gd,hd){return[kb*(ad*gd-Mc*hd+Lc),Ab*(Rc-Mc*gd-ad*hd)]};return nc}function gc(X){return ic(function(){return X})()}function ic(X){function sa(wd){return kf(wd[0]*
Tb,wd[1]*Tb)}function Pa(wd){return(wd=kf.invert(wd[0],wd[1]))&&[wd[0]*vb,wd[1]*vb]}function kb(){var wd=sb(nc,0,0,fe,Ud,hd).apply(null,jc(tc,ad));wd=sb(nc,kc-wd[0],rc-wd[1],fe,Ud,hd);gd=V(Mc,Lc,Rc);wf=ca(jc,wd);kf=ca(gd,wf);wd=wf;Be=+we?dc(wd,we):Mb(wd);return Ab()}function Ab(){ff=Ng=null;return sa}var jc,nc=150,kc=480,rc=250,tc=0,ad=0,Mc=0,Lc=0,Rc=0,gd,hd=0,fe=1,Ud=1,Id=null,rd=Jc,bd=null,Pd,He,Oe,Ne=ee,we=.5,Be,wf,kf,ff,Ng;sa.stream=function(wd){return ff&&Ng===wd?ff:ff=Kc(hc(gd)(rd(Be(Ne(Ng=
wd)))))};sa.preclip=function(wd){return arguments.length?(rd=wd,Id=void 0,Ab()):rd};sa.postclip=function(wd){return arguments.length?(Ne=wd,bd=Pd=He=Oe=null,Ab()):Ne};sa.clipAngle=function(wd){return arguments.length?(rd=+wd?Xa(Id=wd*Tb):(Id=null,Jc),Ab()):Id*vb};sa.clipExtent=function(wd){return arguments.length?(Ne=null==wd?(bd=Pd=He=Oe=null,ee):xb(bd=+wd[0][0],Pd=+wd[0][1],He=+wd[1][0],Oe=+wd[1][1]),Ab()):null==bd?null:[[bd,Pd],[He,Oe]]};sa.scale=function(wd){return arguments.length?(nc=+wd,kb()):
nc};sa.translate=function(wd){return arguments.length?(kc=+wd[0],rc=+wd[1],kb()):[kc,rc]};sa.center=function(wd){return arguments.length?(tc=wd[0]%360*Tb,ad=wd[1]%360*Tb,kb()):[tc*vb,ad*vb]};sa.rotate=function(wd){return arguments.length?(Mc=wd[0]%360*Tb,Lc=wd[1]%360*Tb,Rc=2<wd.length?wd[2]%360*Tb:0,kb()):[Mc*vb,Lc*vb,Rc*vb]};sa.angle=function(wd){return arguments.length?(hd=wd%360*Tb,kb()):hd*vb};sa.reflectX=function(wd){return arguments.length?(fe=wd?-1:1,kb()):0>fe};sa.reflectY=function(wd){return arguments.length?
(Ud=wd?-1:1,kb()):0>Ud};sa.precision=function(wd){if(arguments.length){var Ue=wf;var Fg=we=wd*wd;Ue=(Be=+Fg?dc(Ue,Fg):Mb(Ue),Ab())}else Ue=le(we);return Ue};sa.fitExtent=function(wd,Ue){return ra(sa,wd,Ue)};sa.fitSize=function(wd,Ue){return ra(sa,[[0,0],wd],Ue)};sa.fitWidth=function(wd,Ue){return Ra(sa,wd,Ue)};sa.fitHeight=function(wd,Ue){return rb(sa,wd,Ue)};return function(){jc=X.apply(this,arguments);sa.invert=jc.invert&&Pa;return kb()}}function Yb(X){var sa=0,Pa=ha/3,kb=ic(X);X=kb(sa,Pa);X.parallels=
function(Ab){return arguments.length?kb(sa=Ab[0]*Tb,Pa=Ab[1]*Tb):[sa*vb,Pa*vb]};return X}function lc(X){function sa(kb,Ab){return[kb*Pa,Hb(Ab)/Pa]}var Pa=Fc(X);sa.invert=function(kb,Ab){return[kb/Pa,Ma(Ab*Pa)]};return sa}function Ec(X,sa){function Pa(kc,rc){rc=le(jc-2*Ab*Hb(rc))/Ab;return[rc*Hb(kc*=Ab),nc-rc*Fc(kc)]}var kb=Hb(X),Ab=(kb+Hb(sa))/2;if(1E-6>oc(Ab))return lc(X);var jc=1+kb*(2*Ab-kb),nc=le(jc)/Ab;Pa.invert=function(kc,rc){rc=nc-rc;var tc=pc(kc,oc(rc))*ne(rc);0>rc*Ab&&(tc-=ha*ne(kc)*ne(rc));
return[tc/Ab,Ma((jc-(kc*kc+rc*rc)*Ab*Ab)/(2*Ab))]};return Pa}function Cc(){return Yb(Ec).scale(155.424).center([0,33.6442])}function id(){return Cc().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function jd(X){var sa=X.length;return{point:function(Pa,kb){for(var Ab=-1;++Ab<sa;)X[Ab].point(Pa,kb)},sphere:function(){for(var Pa=-1;++Pa<sa;)X[Pa].sphere()},lineStart:function(){for(var Pa=-1;++Pa<sa;)X[Pa].lineStart()},lineEnd:function(){for(var Pa=-1;++Pa<
sa;)X[Pa].lineEnd()},polygonStart:function(){for(var Pa=-1;++Pa<sa;)X[Pa].polygonStart()},polygonEnd:function(){for(var Pa=-1;++Pa<sa;)X[Pa].polygonEnd()}}}function qd(X){return function(sa,Pa){var kb=Fc(sa),Ab=Fc(Pa);kb=X(kb*Ab);return Infinity===kb?[2,0]:[kb*Ab*Hb(sa),kb*Hb(Pa)]}}function ud(X){return function(sa,Pa){var kb=le(sa*sa+Pa*Pa),Ab=X(kb),jc=Hb(Ab);Ab=Fc(Ab);return[pc(sa*jc,kb*Ab),Ma(kb&&Pa*jc/kb)]}}function be(X,sa){return[X,Md(xe((za+sa)/2))]}function Yd(X){function sa(){var Mc=ha*Ab(),
Lc=Pa(m(Pa.rotate()).invert([0,0]));return nc(null==kc?[[Lc[0]-Mc,Lc[1]-Mc],[Lc[0]+Mc,Lc[1]+Mc]]:X===be?[[Math.max(Lc[0]-Mc,kc),rc],[Math.min(Lc[0]+Mc,tc),ad]]:[[kc,Math.max(Lc[1]-Mc,rc)],[tc,Math.min(Lc[1]+Mc,ad)]])}var Pa=gc(X),kb=Pa.center,Ab=Pa.scale,jc=Pa.translate,nc=Pa.clipExtent,kc=null,rc,tc,ad;Pa.scale=function(Mc){return arguments.length?(Ab(Mc),sa()):Ab()};Pa.translate=function(Mc){return arguments.length?(jc(Mc),sa()):jc()};Pa.center=function(Mc){return arguments.length?(kb(Mc),sa()):
kb()};Pa.clipExtent=function(Mc){return arguments.length?(null==Mc?kc=rc=tc=ad=null:(kc=+Mc[0][0],rc=+Mc[0][1],tc=+Mc[1][0],ad=+Mc[1][1]),sa()):null==kc?null:[[kc,rc],[tc,ad]]};return sa()}function de(X,sa){function Pa(nc,kc){0<jc?kc<-za+1E-6&&(kc=-za+1E-6):kc>za-1E-6&&(kc=za-1E-6);kc=jc/Jd(xe((za+kc)/2),Ab);return[kc*Hb(Ab*nc),jc-kc*Fc(Ab*nc)]}var kb=Fc(X),Ab=X===sa?Hb(X):Md(kb/Fc(sa))/Md(xe((za+sa)/2)/xe((za+X)/2)),jc=kb*Jd(xe((za+X)/2),Ab)/Ab;if(!Ab)return be;Pa.invert=function(nc,kc){kc=jc-kc;
var rc=ne(Ab)*le(nc*nc+kc*kc),tc=pc(nc,oc(kc))*ne(kc);0>kc*Ab&&(tc-=ha*ne(nc)*ne(kc));return[tc/Ab,2*Yc(Jd(jc/rc,1/Ab))-za]};return Pa}function ve(X,sa){return[X,sa]}function Ae(X,sa){function Pa(nc,kc){kc=jc-kc;nc*=Ab;return[kc*Hb(nc),jc-kc*Fc(nc)]}var kb=Fc(X),Ab=X===sa?Hb(X):(kb-Fc(sa))/(sa-X),jc=kb/Ab+X;if(1E-6>oc(Ab))return ve;Pa.invert=function(nc,kc){kc=jc-kc;var rc=pc(nc,oc(kc))*ne(kc);0>kc*Ab&&(rc-=ha*ne(nc)*ne(kc));return[rc/Ab,jc-ne(Ab)*le(nc*nc+kc*kc)]};return Pa}function We(X,sa){sa=
Ma(te*Hb(sa));var Pa=sa*sa,kb=Pa*Pa*Pa;return[X*Fc(sa)/(te*(1.340264+3*-.081106*Pa+kb*(7*8.93E-4+.034164*Pa))),sa*(1.340264+-.081106*Pa+kb*(8.93E-4+.003796*Pa))]}function zd(X,sa){var Pa=Fc(sa),kb=Fc(X)*Pa;return[Pa*Hb(X)/kb,Hb(sa)/kb]}function Ld(X,sa){var Pa=sa*sa,kb=Pa*Pa;return[X*(.8707-.131979*Pa+kb*(-.013791+kb*(.003971*Pa-.001529*kb))),sa*(1.007226+Pa*(.015085+kb*(-.044475+.028874*Pa-.005916*kb)))]}function ef(X,sa){return[Fc(sa)*Hb(X),Hb(sa)]}function me(X,sa){var Pa=Fc(sa),kb=1+Fc(X)*Pa;
return[Pa*Hb(X)/kb,Hb(sa)/kb]}function W(X,sa){return[Md(xe((za+sa)/2)),-X]}var ha=Math.PI,za=ha/2,ob=ha/4,Za=2*ha,vb=180/ha,Tb=ha/180,oc=Math.abs,Yc=Math.atan,pc=Math.atan2,Fc=Math.cos,fd=Math.ceil,Dd=Math.exp,$b=Math.hypot,Md=Math.log,Jd=Math.pow,Hb=Math.sin,ne=Math.sign||function(X){return 0<X?1:0>X?-1:0},le=Math.sqrt,xe=Math.tan,jf={Feature:function(X,sa){db(X.geometry,sa)},FeatureCollection:function(X,sa){X=X.features;for(var Pa=-1,kb=X.length;++Pa<kb;)db(X[Pa].geometry,sa)}},Je={Sphere:function(X,
sa){sa.sphere()},Point:function(X,sa){X=X.coordinates;sa.point(X[0],X[1],X[2])},MultiPoint:function(X,sa){for(var Pa=X.coordinates,kb=-1,Ab=Pa.length;++kb<Ab;)X=Pa[kb],sa.point(X[0],X[1],X[2])},LineString:function(X,sa){Bb(X.coordinates,sa,0)},MultiLineString:function(X,sa){X=X.coordinates;for(var Pa=-1,kb=X.length;++Pa<kb;)Bb(X[Pa],sa,0)},Polygon:function(X,sa){jb(X.coordinates,sa)},MultiPolygon:function(X,sa){X=X.coordinates;for(var Pa=-1,kb=X.length;++Pa<kb;)jb(X[Pa],sa)},GeometryCollection:function(X,
sa){X=X.geometries;for(var Pa=-1,kb=X.length;++Pa<kb;)db(X[Pa],sa)}},Ze=new q.Adder,Ge=new q.Adder,Nd,ec,Hd,fc,Wc,re={point:Ja,lineStart:Ja,lineEnd:Ja,polygonStart:function(){Ze=new q.Adder;re.lineStart=ab;re.lineEnd=bb},polygonEnd:function(){var X=+Ze;Ge.add(0>X?Za+X:X);this.lineStart=this.lineEnd=this.point=Ja},sphere:function(){Ge.add(Za)}},Rd,Zd,Oc,Vd,Od,Kd,Pe,td,vd,ie,ye,af={point:Qa,lineStart:S,lineEnd:la,polygonStart:function(){af.point=wa;af.lineStart=Da;af.lineEnd=Oa;vd=new q.Adder;re.polygonStart()},
polygonEnd:function(){re.polygonEnd();af.point=Qa;af.lineStart=S;af.lineEnd=la;0>Ze?(Rd=-(Oc=180),Zd=-(Vd=90)):1E-6<vd?Vd=90:-1E-6>vd&&(Zd=-90);ye[0]=Rd;ye[1]=Oc},sphere:function(){Rd=-(Oc=180);Zd=-(Vd=90)}},tf,Ff,ed,ze,Se,Te,of,pf,bf,De,z,O,Ka,ub,wb,Lb,Wb={sphere:Ja,point:E,lineStart:F,lineEnd:P,polygonStart:function(){Wb.lineStart=N;Wb.lineEnd=Y},polygonEnd:function(){Wb.lineStart=F;Wb.lineEnd=P}};ba.invert=ba;var Jc=Ba(function(){return!0},function(X){var sa=NaN,Pa=NaN,kb=NaN,Ab;return{lineStart:function(){X.lineStart();
Ab=1},point:function(jc,nc){var kc=0<jc?ha:-ha,rc=oc(jc-sa);if(1E-6>oc(rc-ha))X.point(sa,Pa=0<(Pa+nc)/2?za:-za),X.point(kb,Pa),X.lineEnd(),X.lineStart(),X.point(kc,Pa),X.point(jc,Pa),Ab=0;else if(kb!==kc&&rc>=ha){1E-6>oc(sa-kb)&&(sa-=1E-6*kb);1E-6>oc(jc-kc)&&(jc-=1E-6*kc);rc=sa;var tc=Pa,ad=jc,Mc,Lc,Rc=Hb(rc-ad);Pa=1E-6<oc(Rc)?Yc((Hb(tc)*(Lc=Fc(nc))*Hb(ad)-Hb(nc)*(Mc=Fc(tc))*Hb(rc))/(Mc*Lc*Rc)):(tc+nc)/2;X.point(kb,Pa);X.lineEnd();X.lineStart();X.point(kc,Pa);Ab=0}X.point(sa=jc,Pa=nc);kb=kc},lineEnd:function(){X.lineEnd();
sa=Pa=NaN},clean:function(){return 2-Ab}}},function(X,sa,Pa,kb){null==X?(Pa*=za,kb.point(-ha,Pa),kb.point(0,Pa),kb.point(ha,Pa),kb.point(ha,0),kb.point(ha,-Pa),kb.point(0,-Pa),kb.point(-ha,-Pa),kb.point(-ha,0),kb.point(-ha,Pa)):1E-6<oc(X[0]-sa[0])?(X=X[0]<sa[0]?ha:-ha,Pa=Pa*X/2,kb.point(-X,Pa),kb.point(0,Pa),kb.point(X,Pa)):kb.point(sa[0],sa[1])},[-ha,-za]),Ac,Xc,od,Bd,$d={sphere:Ja,point:Ja,lineStart:function(){$d.point=bc;$d.lineEnd=Pb},lineEnd:Ja,polygonStart:Ja,polygonEnd:Ja},pd=[null,null],Le=
{type:"LineString",coordinates:pd},Cd={Feature:function(X,sa){return ya(X.geometry,sa)},FeatureCollection:function(X,sa){X=X.features;for(var Pa=-1,kb=X.length;++Pa<kb;)if(ya(X[Pa].geometry,sa))return!0;return!1}},se={Sphere:function(){return!0},Point:function(X,sa){return 0===Vc(X.coordinates,sa)},MultiPoint:function(X,sa){X=X.coordinates;for(var Pa=-1,kb=X.length;++Pa<kb;)if(0===Vc(X[Pa],sa))return!0;return!1},LineString:function(X,sa){return Nb(X.coordinates,sa)},MultiLineString:function(X,sa){X=
X.coordinates;for(var Pa=-1,kb=X.length;++Pa<kb;)if(Nb(X[Pa],sa))return!0;return!1},Polygon:function(X,sa){return Sb(X.coordinates,sa)},MultiPolygon:function(X,sa){X=X.coordinates;for(var Pa=-1,kb=X.length;++Pa<kb;)if(Sb(X[Pa],sa))return!0;return!1},GeometryCollection:function(X,sa){X=X.geometries;for(var Pa=-1,kb=X.length;++Pa<kb;)if(ya(X[Pa],sa))return!0;return!1}},ee=X=>X,pe=new q.Adder,xf=new q.Adder,ae,gf,lf,bg,Af={point:Ja,lineStart:Ja,lineEnd:Ja,polygonStart:function(){Af.lineStart=Eb;Af.lineEnd=
Ic},polygonEnd:function(){Af.lineStart=Af.lineEnd=Af.point=Ja;pe.add(oc(xf));xf=new q.Adder},result:function(){var X=pe/2;pe=new q.Adder;return X}},Xf=Infinity,A=Xf,B=-Xf,I=B,Q={point:function(X,sa){X<Xf&&(Xf=X);X>B&&(B=X);sa<A&&(A=sa);sa>I&&(I=sa)},lineStart:Ja,lineEnd:Ja,polygonStart:Ja,polygonEnd:Ja,result:function(){var X=[[Xf,A],[B,I]];B=I=-(A=Xf=Infinity);return X}},ea=0,ka=0,Aa=0,Ya=0,Sa=0,hb=0,nb=0,Db=0,Ub=0,l,v,M,U,La={point:Tc,lineStart:xd,lineEnd:Gc,polygonStart:function(){La.lineStart=
ke;La.lineEnd=ge},polygonEnd:function(){La.point=Tc;La.lineStart=xd;La.lineEnd=Gc},result:function(){var X=Ub?[nb/Ub,Db/Ub]:hb?[Ya/hb,Sa/hb]:Aa?[ea/Aa,ka/Aa]:[NaN,NaN];ea=ka=Aa=Ya=Sa=hb=nb=Db=Ub=0;return X}};J.prototype={_radius:4.5,pointRadius:function(X){return this._radius=X,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(X,sa){switch(this._point){case 0:this._context.moveTo(X,
sa);this._point=1;break;case 1:this._context.lineTo(X,sa);break;default:this._context.moveTo(X+this._radius,sa),this._context.arc(X,sa,this._radius,0,Za)}},result:Ja};var qb=new q.Adder,yb,Ob,ac,zc,vc,ld={point:Ja,lineStart:function(){ld.point=ja},lineEnd:function(){yb&&Na(Ob,ac);ld.point=Ja},polygonStart:function(){yb=!0},polygonEnd:function(){yb=null},result:function(){var X=+qb;qb=new q.Adder;return X}};mb.prototype={_radius:4.5,_circle:Gb(4.5),pointRadius:function(X){(X=+X)!==this._radius&&(this._radius=
X,this._circle=null);return this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z");this._point=NaN},point:function(X,sa){switch(this._point){case 0:this._string.push("M",X,",",sa);this._point=1;break;case 1:this._string.push("L",X,",",sa);break;default:null==this._circle&&(this._circle=Gb(this._radius)),this._string.push("M",X,",",sa,this._circle)}},result:function(){if(this._string.length){var X=
this._string.join("");this._string=[];return X}return null}};Xb.prototype={constructor:Xb,point:function(X,sa){this.stream.point(X,sa)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var yd=Fc(30*Tb),Kc=lb({point:function(X,sa){this.stream.point(X*Tb,sa*Tb)}}),Fd=qd(function(X){return le(2/(1+X))});Fd.invert=ud(function(X){return 2*
Ma(X/2)});var Td=qd(function(X){return(X=R(X))&&X/Hb(X)});Td.invert=ud(function(X){return X});be.invert=function(X,sa){return[X,2*Yc(Dd(sa))-za]};ve.invert=ve;var te=le(3)/2;We.invert=function(X,sa){for(var Pa=sa,kb=Pa*Pa,Ab=kb*kb*kb,jc=0,nc;12>jc&&!(nc=Pa*(1.340264+-.081106*kb+Ab*(8.93E-4+.003796*kb))-sa,kb=1.340264+3*-.081106*kb+Ab*(7*8.93E-4+.034164*kb),Pa-=nc/=kb,kb=Pa*Pa,Ab=kb*kb*kb,1E-12>oc(nc));++jc);return[te*X*(1.340264+3*-.081106*kb+Ab*(7*8.93E-4+.034164*kb))/Fc(Pa),Ma(Hb(Pa)/te)]};zd.invert=
ud(Yc);Ld.invert=function(X,sa){var Pa=sa,kb=25;do{var Ab=Pa*Pa;var jc=Ab*Ab;Pa-=jc=(Pa*(1.007226+Ab*(.015085+jc*(-.044475+.028874*Ab-.005916*jc)))-sa)/(1.007226+Ab*(.045255+jc*(-.311325+.259866*Ab-.005916*11*jc)))}while(1E-6<oc(jc)&&0<--kb);return[X/(.8707+(Ab=Pa*Pa)*(-.131979+Ab*(-.013791+Ab*Ab*Ab*(.003971-.001529*Ab)))),Pa]};ef.invert=ud(Ma);me.invert=ud(function(X){return 2*Yc(X)});W.invert=function(X,sa){return[-sa,2*Yc(Dd(X))-za]};k.geoAlbers=id;k.geoAlbersUsa=function(){function X(Lc){var Rc=
Lc[0];Lc=Lc[1];return ad=null,(jc.point(Rc,Lc),ad)||(kc.point(Rc,Lc),ad)||(tc.point(Rc,Lc),ad)}function sa(){Pa=kb=null;return X}var Pa,kb,Ab=id(),jc,nc=Cc().rotate([154,0]).center([-2,58.5]).parallels([55,65]),kc,rc=Cc().rotate([157,0]).center([-3,19.9]).parallels([8,18]),tc,ad,Mc={point:function(Lc,Rc){ad=[Lc,Rc]}};X.invert=function(Lc){var Rc=Ab.scale(),gd=Ab.translate(),hd=(Lc[0]-gd[0])/Rc;Rc=(Lc[1]-gd[1])/Rc;return(.12<=Rc&&.234>Rc&&-.425<=hd&&-.214>hd?nc:.166<=Rc&&.234>Rc&&-.214<=hd&&-.115>
hd?rc:Ab).invert(Lc)};X.stream=function(Lc){return Pa&&kb===Lc?Pa:Pa=jd([Ab.stream(kb=Lc),nc.stream(Lc),rc.stream(Lc)])};X.precision=function(Lc){if(!arguments.length)return Ab.precision();Ab.precision(Lc);nc.precision(Lc);rc.precision(Lc);return sa()};X.scale=function(Lc){if(!arguments.length)return Ab.scale();Ab.scale(Lc);nc.scale(.35*Lc);rc.scale(Lc);return X.translate(Ab.translate())};X.translate=function(Lc){if(!arguments.length)return Ab.translate();var Rc=Ab.scale(),gd=+Lc[0],hd=+Lc[1];jc=
Ab.translate(Lc).clipExtent([[gd-.455*Rc,hd-.238*Rc],[gd+.455*Rc,hd+.238*Rc]]).stream(Mc);kc=nc.translate([gd-.307*Rc,hd+.201*Rc]).clipExtent([[gd-.425*Rc+1E-6,hd+.12*Rc+1E-6],[gd-.214*Rc-1E-6,hd+.234*Rc-1E-6]]).stream(Mc);tc=rc.translate([gd-.205*Rc,hd+.212*Rc]).clipExtent([[gd-.214*Rc+1E-6,hd+.166*Rc+1E-6],[gd-.115*Rc-1E-6,hd+.234*Rc-1E-6]]).stream(Mc);return sa()};X.fitExtent=function(Lc,Rc){return ra(X,Lc,Rc)};X.fitSize=function(Lc,Rc){return ra(X,[[0,0],Lc],Rc)};X.fitWidth=function(Lc,Rc){return Ra(X,
Lc,Rc)};X.fitHeight=function(Lc,Rc){return rb(X,Lc,Rc)};return X.scale(1070)};k.geoArea=function(X){Ge=new q.Adder;Ea(X,re);return 2*Ge};k.geoAzimuthalEqualArea=function(){return gc(Fd).scale(124.75).clipAngle(179.999)};k.geoAzimuthalEqualAreaRaw=Fd;k.geoAzimuthalEquidistant=function(){return gc(Td).scale(79.4188).clipAngle(179.999)};k.geoAzimuthalEquidistantRaw=Td;k.geoBounds=function(X){var sa,Pa,kb;Vd=Oc=-(Rd=Zd=Infinity);ie=[];Ea(X,af);if(sa=ie.length){ie.sort(Va);X=1;var Ab=ie[0];for(Pa=[Ab];X<
sa;++X){var jc=ie[X];Fa(Ab,jc[0])||Fa(Ab,jc[1])?(Ha(Ab[0],jc[1])>Ha(Ab[0],Ab[1])&&(Ab[1]=jc[1]),Ha(jc[0],Ab[1])>Ha(Ab[0],Ab[1])&&(Ab[0]=jc[0])):Pa.push(Ab=jc)}var nc=-Infinity;sa=Pa.length-1;X=0;for(Ab=Pa[sa];X<=sa;Ab=jc,++X)jc=Pa[X],(kb=Ha(Ab[1],jc[0]))>nc&&(nc=kb,Rd=jc[0],Oc=Ab[1])}ie=ye=null;return Infinity===Rd||Infinity===Zd?[[NaN,NaN],[NaN,NaN]]:[[Rd,Zd],[Oc,Vd]]};k.geoCentroid=function(X){tf=Ff=ed=ze=Se=Te=of=pf=0;bf=new q.Adder;De=new q.Adder;z=new q.Adder;Ea(X,Wb);X=+bf;var sa=+De,Pa=+z,
kb=$b(X,sa,Pa);return 1E-12>kb&&(X=Te,sa=of,Pa=pf,1E-6>Ff&&(X=ed,sa=ze,Pa=Se),kb=$b(X,sa,Pa),1E-12>kb)?[NaN,NaN]:[pc(sa,X)*vb,Ma(Pa/kb)*vb]};k.geoCircle=function(){function X(){var kc=sa.apply(this,arguments),rc=Pa.apply(this,arguments)*Tb,tc=kb.apply(this,arguments)*Tb;Ab=[];jc=V(-kc[0]*Tb,-kc[1]*Tb,0).invert;n(nc,rc,tc,1);kc={type:"Polygon",coordinates:[Ab]};Ab=jc=null;return kc}var sa=G([0,0]),Pa=G(90),kb=G(6),Ab,jc,nc={point:function(kc,rc){Ab.push(kc=jc(kc,rc));kc[0]*=vb;kc[1]*=vb}};X.center=
function(kc){return arguments.length?(sa="function"===typeof kc?kc:G([+kc[0],+kc[1]]),X):sa};X.radius=function(kc){return arguments.length?(Pa="function"===typeof kc?kc:G(+kc),X):Pa};X.precision=function(kc){return arguments.length?(kb="function"===typeof kc?kc:G(+kc),X):kb};return X};k.geoClipAntimeridian=Jc;k.geoClipCircle=Xa;k.geoClipExtent=function(){var X=0,sa=0,Pa=960,kb=500,Ab,jc,nc;return nc={stream:function(kc){return Ab&&jc===kc?Ab:Ab=xb(X,sa,Pa,kb)(jc=kc)},extent:function(kc){return arguments.length?
(X=+kc[0][0],sa=+kc[0][1],Pa=+kc[1][0],kb=+kc[1][1],Ab=jc=null,nc):[[X,sa],[Pa,kb]]}}};k.geoClipRectangle=xb;k.geoConicConformal=function(){return Yb(de).scale(109.5).parallels([30,30])};k.geoConicConformalRaw=de;k.geoConicEqualArea=Cc;k.geoConicEqualAreaRaw=Ec;k.geoConicEquidistant=function(){return Yb(Ae).scale(131.154).center([0,13.9389])};k.geoConicEquidistantRaw=Ae;k.geoContains=function(X,sa){return(X&&Cd.hasOwnProperty(X.type)?Cd[X.type]:ya)(X,sa)};k.geoDistance=Vc;k.geoEqualEarth=function(){return gc(We).scale(177.158)};
k.geoEqualEarthRaw=We;k.geoEquirectangular=function(){return gc(ve).scale(152.63)};k.geoEquirectangularRaw=ve;k.geoGnomonic=function(){return gc(zd).scale(144.049).clipAngle(60)};k.geoGnomonicRaw=zd;k.geoGraticule=Kb;k.geoGraticule10=function(){return Kb()()};k.geoIdentity=function(){function X(){gd=Pa*jc;hd=Pa*nc;Id=rd=null;return sa}function sa(bd){var Pd=bd[0]*gd;bd=bd[1]*hd;if(kc){var He=bd*rc-Pd*tc;Pd=Pd*rc+bd*tc;bd=He}return[Pd+kb,bd+Ab]}var Pa=1,kb=0,Ab=0,jc=1,nc=1,kc=0,rc,tc,ad=null,Mc,Lc,
Rc,gd=1,hd=1,fe=lb({point:function(bd,Pd){bd=sa([bd,Pd]);this.stream.point(bd[0],bd[1])}}),Ud=ee,Id,rd;sa.invert=function(bd){var Pd=bd[0]-kb;bd=bd[1]-Ab;if(kc){var He=bd*rc+Pd*tc;Pd=Pd*rc-bd*tc;bd=He}return[Pd/gd,bd/hd]};sa.stream=function(bd){return Id&&rd===bd?Id:Id=fe(Ud(rd=bd))};sa.postclip=function(bd){return arguments.length?(Ud=bd,ad=Mc=Lc=Rc=null,X()):Ud};sa.clipExtent=function(bd){return arguments.length?(Ud=null==bd?(ad=Mc=Lc=Rc=null,ee):xb(ad=+bd[0][0],Mc=+bd[0][1],Lc=+bd[1][0],Rc=+bd[1][1]),
X()):null==ad?null:[[ad,Mc],[Lc,Rc]]};sa.scale=function(bd){return arguments.length?(Pa=+bd,X()):Pa};sa.translate=function(bd){return arguments.length?(kb=+bd[0],Ab=+bd[1],X()):[kb,Ab]};sa.angle=function(bd){return arguments.length?(kc=bd%360*Tb,tc=Hb(kc),rc=Fc(kc),X()):kc*vb};sa.reflectX=function(bd){return arguments.length?(jc=bd?-1:1,X()):0>jc};sa.reflectY=function(bd){return arguments.length?(nc=bd?-1:1,X()):0>nc};sa.fitExtent=function(bd,Pd){return ra(sa,bd,Pd)};sa.fitSize=function(bd,Pd){return ra(sa,
[[0,0],bd],Pd)};sa.fitWidth=function(bd,Pd){return Ra(sa,bd,Pd)};sa.fitHeight=function(bd,Pd){return rb(sa,bd,Pd)};return sa};k.geoInterpolate=function(X,sa){var Pa=X[0]*Tb,kb=X[1]*Tb;X=sa[0]*Tb;sa=sa[1]*Tb;var Ab=Fc(kb),jc=Hb(kb),nc=Fc(sa),kc=Hb(sa),rc=Ab*Fc(Pa),tc=Ab*Hb(Pa),ad=nc*Fc(X),Mc=nc*Hb(X),Lc=2*Ma(le(Fb(sa-kb)+Ab*nc*Fb(X-Pa))),Rc=Hb(Lc);X=Lc?function(gd){var hd=Hb(gd*=Lc)/Rc,fe=Hb(Lc-gd)/Rc;gd=fe*rc+hd*ad;var Ud=fe*tc+hd*Mc;hd=fe*jc+hd*kc;return[pc(Ud,gd)*vb,pc(hd,le(gd*gd+Ud*Ud))*vb]}:
function(){return[Pa*vb,kb*vb]};X.distance=Lc;return X};k.geoLength=yc;k.geoMercator=function(){return Yd(be).scale(961/Za)};k.geoMercatorRaw=be;k.geoNaturalEarth1=function(){return gc(Ld).scale(175.295)};k.geoNaturalEarth1Raw=Ld;k.geoOrthographic=function(){return gc(ef).scale(249.5).clipAngle(90.000001)};k.geoOrthographicRaw=ef;k.geoPath=function(X,sa){function Pa(nc){nc&&("function"===typeof kb&&jc.pointRadius(+kb.apply(this,arguments)),Ea(nc,Ab(jc)));return jc.result()}var kb=4.5,Ab,jc;Pa.area=
function(nc){Ea(nc,Ab(Af));return Af.result()};Pa.measure=function(nc){Ea(nc,Ab(ld));return ld.result()};Pa.bounds=function(nc){Ea(nc,Ab(Q));return Q.result()};Pa.centroid=function(nc){Ea(nc,Ab(La));return La.result()};Pa.projection=function(nc){return arguments.length?(Ab=null==nc?(X=null,ee):(X=nc).stream,Pa):X};Pa.context=function(nc){if(!arguments.length)return sa;jc=null==nc?(sa=null,new mb):new J(sa=nc);"function"!==typeof kb&&jc.pointRadius(kb);return Pa};Pa.pointRadius=function(nc){if(!arguments.length)return kb;
kb="function"===typeof nc?nc:(jc.pointRadius(+nc),+nc);return Pa};return Pa.projection(X).context(sa)};k.geoProjection=gc;k.geoProjectionMutator=ic;k.geoRotation=m;k.geoStereographic=function(){return gc(me).scale(250).clipAngle(142)};k.geoStereographicRaw=me;k.geoStream=Ea;k.geoTransform=function(X){return{stream:lb(X)}};k.geoTransverseMercator=function(){var X=Yd(W),sa=X.center,Pa=X.rotate;X.center=function(kb){return arguments.length?sa([-kb[1],kb[0]]):(kb=sa(),[kb[1],-kb[0]])};X.rotate=function(kb){return arguments.length?
Pa([kb[0],kb[1],2<kb.length?kb[2]+90:90]):(kb=Pa(),[kb[0],kb[1],kb[2]-90])};return Pa([0,0,90]).scale(159.155)};k.geoTransverseMercatorRaw=W;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[41]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb,Vb(40),Vb(16)):"function"===typeof define&&define.amd?define(["exports","d3-geo","d3-array"],q):q(k.d3=k.d3||{},k.d3,k.d3)})(this,function(k,q,R){function Ma(A){return 1<A?Wc:-1>A?-Wc:Math.asin(A)}function Fb(A){return 1<A?0:-1>A?fc:Math.acos(A)}function Ja(A){return 0<A?Math.sqrt(A):0}function db(A){return(ne(A)-ne(-A))/2}function Bb(A){return(ne(A)+ne(-A))/2}function jb(A){function B(ea,ka){var Aa=
Hb(ea),Ya=Hb(ka);ka=ec(ka);Aa*=Ya;Aa=-((1-Aa?xe((1+Aa)/2)/(1-Aa):-.5)+Q/(1+Aa));return[Aa*Ya*ec(ea),Aa*ka]}var I=Hd(A/2),Q=2*xe(Hb(A/2))/(I*I);B.invert=function(ea,ka){var Aa=Ja(ea*ea+ka*ka),Ya=-A/2,Sa=50;if(!Aa)return[0,0];do{var hb=Ya/2;var nb=Hb(hb);hb=ec(hb);var Db=hb/nb,Ub=-xe($b(nb));Ya-=nb=(2/Db*Ub-Q*Db-Aa)/(-Ub/(hb*hb)+1-Q/(2*nb*nb))*(0>nb?.7:1)}while(1E-6<$b(nb)&&0<--Sa);Sa=ec(Ya);return[Jd(ea*Sa,Aa*Hb(Ya)),Ma(ka*Sa/Aa)]};return B}function Ea(A,B){var I=Hb(B);var Q=(Q=Fb(I*Hb(A/=2)))?Q/Math.sin(Q):
1;return[2*I*ec(A)*Q,ec(B)*Q]}function ab(A){function B(Ya,Sa){var hb=Hb(Sa),nb=Hb(Ya/=2);return[(1+hb)*ec(Ya),(ea*Sa>-Jd(nb,ka)-.001?0:10*-ea)+Aa+ec(Sa)*Q-(1+hb)*I*nb]}var I=ec(A),Q=Hb(A),ea=0<=A?1:-1,ka=Hd(ea*A),Aa=(1+I-Q)/2;B.invert=function(Ya,Sa){var hb=0,nb=0,Db=50;do{var Ub=Hb(hb),l=ec(hb),v=Hb(nb),M=ec(nb),U=1+v,La=U*l-Ya,qb=Aa+M*Q-U*I*Ub-Sa,yb=U*Ub/2,Ob=-l*M;l=I*U*l/2;v=Q*v+I*Ub*M;Ub=Ob*l-v*yb;Ob=(qb*Ob-La*v)/Ub/2;La=(La*l-qb*yb)/Ub;2<$b(La)&&(La/=2);hb-=Ob;nb-=La}while((1E-6<$b(Ob)||1E-6<
$b(La))&&0<--Db);return ea*nb>-Jd(Hb(hb),ka)-.001?[2*hb,nb]:null};return B}function bb(A,B){B=Hd(B/2);var I=Ja(1-B*B),Q=1+I*Hb(A/=2);A=ec(A)*I/Q;B/=Q;Q=A*A;I=B*B;return[4/3*A*(3+Q-3*I),4/3*B*(3+3*Q-I)]}function Ca(A,B){var I=$b(B);return I<re?[A,xe(Hd(re+B/2))]:[A*Hb(I)*(2*Zd-1/ec(I)),Nd(B)*(2*Zd*(I-re)-xe(Hd(I/2)))]}function ma(A){function B(Q,ea){ea=q.geoAzimuthalEquidistantRaw(Q,ea);if($b(Q)>Wc){Q=Jd(ea[1],ea[0]);var ka=Ja(ea[0]*ea[0]+ea[1]*ea[1]),Aa=I*Ge((Q-Wc)/I)+Wc,Ya=Jd(ec(Q-=Aa),2-Hb(Q));
Q=Aa+Ma(fc/ka*ec(Ya))-Ya;ea[0]=ka*Hb(Q);ea[1]=ka*ec(Q)}return ea}var I=2*fc/A;B.invert=function(Q,ea){var ka=Ja(Q*Q+ea*ea);if(ka>Wc){var Aa=Jd(ea,Q);Q=I*Ge((Aa-Wc)/I)+Wc;ea=Aa>Q?-1:1;Aa=ka*Hb(Q-Aa);Aa=1/Hd(ea*Fb((Aa-fc)/Ja(fc*(fc-2*Aa)+ka*ka)));Aa=Q+2*Md((Aa+ea*Ja(Aa*Aa-3))/3);Q=ka*Hb(Aa);ea=ka*ec(Aa)}return q.geoAzimuthalEquidistantRaw.invert(Q,ea)};return B}function oa(A,B){function I(Q,ea){Q=q.geoAzimuthalEqualAreaRaw(Q/B,ea);Q[0]*=A;return Q}2>arguments.length&&(B=A);if(1===B)return q.geoAzimuthalEqualAreaRaw;
if(Infinity===B)return Ia;I.invert=function(Q,ea){Q=q.geoAzimuthalEqualAreaRaw.invert(Q/A,ea);Q[0]*=B;return Q};return I}function Ia(A,B){return[A*Hb(B)/Hb(B/=2),2*ec(B)]}function Ua(A,B,I){var Q=100;I=void 0===I?0:+I;B=+B;do{var ea=A(I);var ka=A(I+1E-6);ea===ka&&(ka=ea+1E-6);I-=ea=-1E-6*(ea-B)/(ea-ka)}while(0<Q--&&1E-6<$b(ea));return 0>Q?NaN:I}function na(A,B,I){void 0===B&&(B=40);void 0===I&&(I=1E-12);return function(Q,ea,ka,Aa){ka=void 0===ka?0:+ka;Aa=void 0===Aa?0:+Aa;for(var Ya=0;Ya<B;Ya++){var Sa=
A(ka,Aa),hb=Sa[0]-Q,nb=Sa[1]-ea;if($b(hb)<I&&$b(nb)<I)break;var Db=hb*hb+nb*nb;if(Db>Ub)ka-=v/=2,Aa-=U/=2;else{var Ub=Db;Db=(0<ka?-1:1)*I;var l=(0<Aa?-1:1)*I;var v=A(ka+Db,Aa);var M=A(ka,Aa+l);var U=(v[0]-Sa[0])/Db;Db=(v[1]-Sa[1])/Db;v=(M[0]-Sa[0])/l;Sa=(M[1]-Sa[1])/l;l=Sa*U-Db*v;l=(.5>$b(l)?.5:1)/l;v=(nb*v-hb*Sa)*l;U=(hb*Db-nb*U)*l;ka+=v;Aa+=U;if($b(v)<I&&$b(U)<I)break}}return[ka,Aa]}}function qa(){function A(I,Q){if(-1.4>I+Q){var ea=(I-Q+1.6)*(I+Q+1.4)/8;I+=ea;Q-=.8*ea*ec(Q+fc/2)}ea=B(I,Q);I=(1-
Hb(I*Q))/12;0>ea[1]&&(ea[0]*=1+I);0<ea[1]&&(ea[1]*=1+I/1.5*ea[0]*ea[0]);return ea}var B=oa(1.68,2);A.invert=na(A);return A}function Ta(A,B){A*=ec(B);var I=30,Q;do B-=Q=(B+ec(B)-A)/(1+Hb(B));while(1E-6<$b(Q)&&0<--I);return B/2}function ta(A,B,I){function Q(ea,ka){return[A*ea*Hb(ka=Ta(I,ka)),B*ec(ka)]}Q.invert=function(ea,ka){return ka=Ma(ka/B),[ea/(A*Hb(ka)),Ma((2*ka+ec(2*ka))/I)]};return Q}function Qa(A,B){var I=Ta(fc,B);return[2.00276*A/(1/Hb(B)+1.11072/Hb(I)),(B+Zd*ec(I))/2.00276]}function va(A){var B=
0,I=q.geoProjectionMutator(A);A=I(B);A.parallel=function(Q){return arguments.length?I(B=Q*Kd):B*Od};return A}function S(A,B){return[A*Hb(B),B]}function la(A){function B(Q,ea){var ka=I+A-ea;Q=ka?Q*Hb(ea)/ka:ka;return[ka*ec(Q),I-ka*Hb(Q)]}if(!A)return S;var I=1/Hd(A);B.invert=function(Q,ea){var ka=Ja(Q*Q+(ea=I-ea)*ea),Aa=I+A-ka;return[ka/Hb(Aa)*Jd(Q,ea),Aa]};return B}function wa(A){function B(I,Q){I=(Q=Wc-Q)?I*A*ec(Q)/Q:Q;return[Q*ec(I)/A,Wc-Q*Hb(I)]}B.invert=function(I,Q){I*=A;var ea=Wc-Q;Q=Ja(I*I+
ea*ea);I=Jd(I,ea);return[(Q?Q/ec(Q):1)*I/A,Wc-Q]};return B}function Da(A,B,I,Q,ea,ka){var Aa=Hb(ka);if(1<$b(A)||1<$b(ka))A=Fb(I*ea+B*Q*Aa);else{A=ec(A/2);var Ya=ec(ka/2);A=2*Ma(Ja(A*A+B*Q*Ya*Ya))}return 1E-6<$b(A)?[A,Jd(Q*ec(ka),B*ea-I*Q*Aa)]:[0,0]}function Oa(A,B,I){return Fb((A*A+B*B-I*I)/(2*A*B))}function Ha(A,B,I){var Q=[[A[0],A[1],ec(A[1]),Hb(A[1])],[B[0],B[1],ec(B[1]),Hb(B[1])],[I[0],I[1],ec(I[1]),Hb(I[1])]];A=Q[2];for(I=0;3>I;++I,A=B)B=Q[I],A.v=Da(B[1]-A[1],A[3],A[2],B[3],B[2],B[0]-A[0]),A.point=
[0,0];A=Oa(Q[0].v[0],Q[2].v[0],Q[1].v[0]);var ea=Oa(Q[0].v[0],Q[1].v[0],Q[2].v[0]),ka=fc-A;Q[2].point[1]=0;Q[0].point[0]=-(Q[1].point[0]=Q[0].v[0]/2);var Aa=[Q[2].point[0]=Q[0].point[0]+Q[2].v[0]*Hb(A),2*(Q[0].point[1]=Q[1].point[1]=Q[2].v[0]*ec(A))];return function(Ya,Sa){var hb=ec(Sa),nb=Hb(Sa),Db=Array(3),Ub;for(Ub=0;3>Ub;++Ub){var l=Q[Ub];Db[Ub]=Da(Sa-l[1],l[3],l[2],nb,hb,Ya-l[0]);if(!Db[Ub][0])return l.point;var v=Db[Ub];l=Db[Ub][1]-l.v[1];l-=2*fc*le((l+fc)/(2*fc));v[1]=l}Ya=Aa.slice();for(Ub=
0;3>Ub;++Ub)Sa=Oa(Q[Ub].v[0],Db[Ub][0],Db[2==Ub?0:Ub+1][0]),0>Db[Ub][1]&&(Sa=-Sa),Ub?1==Ub?(Sa=ea-Sa,Ya[0]-=Db[Ub][0]*Hb(Sa),Ya[1]-=Db[Ub][0]*ec(Sa)):(Sa=ka-Sa,Ya[0]+=Db[Ub][0]*Hb(Sa),Ya[1]+=Db[Ub][0]*ec(Sa)):(Ya[0]+=Db[Ub][0]*Hb(Sa),Ya[1]-=Db[Ub][0]*ec(Sa));Ya[0]/=3;Ya[1]/=3;return Ya}}function Va(A){return A[0]*=Kd,A[1]*=Kd,A}function Fa(A,B,I){var Q=q.geoCentroid({type:"MultiPoint",coordinates:[A,B,I]});Q=[-Q[0],-Q[1]];var ea=q.geoRotation(Q);A=Ha(Va(ea(A)),Va(ea(B)),Va(ea(I)));A.invert=na(A);
A=q.geoProjection(A).rotate(Q);var ka=A.center;delete A.rotate;A.center=function(Aa){return arguments.length?ka(ea(Aa)):ea.invert(ka())};return A.clipAngle(90)}function E(A,B){B=Ja(1-ec(B));return[2/Oc*A*B,Oc*(1-B)]}function w(A){function B(Q,ea){return[Q,(Q?Q/ec(Q):1)*(ec(ea)*Hb(Q)-I*Hb(ea))]}var I=Hd(A);B.invert=I?function(Q,ea){Q&&(ea*=ec(Q)/Q);var ka=Hb(Q);return[Q,2*Jd(Ja(ka*ka+I*I-ea*ea)-ka,I-ea)]}:function(Q,ea){return[Q,Ma(Q?ea*Hd(Q)/Q:ea)]};return B}function F(A,B){return[ye*A*(2*Hb(2*B/
3)-1)/Oc,ye*Oc*ec(B/3)]}function Z(A){function B(Q,ea){return[Q*I,ec(ea)/I]}var I=Hb(A);B.invert=function(Q,ea){return[Q/I,Ma(ea*I)]};return B}function D(A){function B(Q,ea){return[Q*I,(1+I)*Hd(ea/2)]}var I=Hb(A);B.invert=function(Q,ea){return[Q/I,2*Md(ea/(1+I))]};return B}function P(A,B){var I=Ja(8/(3*fc));return[I*A*(1-$b(B)/fc),I*B]}function N(A,B){var I=Ja(4-3*ec($b(B)));return[2/Ja(6*fc)*A*I,Nd(B)*Ja(2*fc/3)*(2-I)]}function Y(A,B){var I=Ja(fc*(4+fc));return[2/I*A*(1+Ja(1-4*B*B/(fc*fc))),4/I*
B]}function ua(A,B){var I=(2+Wc)*ec(B);B/=2;for(var Q=0,ea=Infinity;10>Q&&1E-6<$b(ea);Q++)ea=Hb(B),B-=ea=(B+ec(B)*(ea+2)-I)/(2*ea*(1+ea));return[2/Ja(fc*(4+fc))*A*(1+Hb(B)),2*Ja(fc/(4+fc))*ec(B)]}function Ga(A,B){return[A*(1+Hb(B))/Ja(2+fc),2*B/Ja(2+fc)]}function G(A,B){for(var I=(1+Wc)*ec(B),Q=0,ea=Infinity;10>Q&&1E-6<$b(ea);Q++)B-=ea=(B+ec(B)-I)/(1+Hb(B));I=Ja(2+fc);return[A*(1+Hb(B))/I,2*B/I]}function ca(A,B){var I=ec(A/=2);A=Hb(A);var Q=Ja(Hb(B)),ea=Hb(B/=2);B=ec(B)/(ea+Zd*A*Q);var ka=Ja(2/(1+
B*B));I=Ja((Zd*ea+(A+I)*Q)/(Zd*ea+(A-I)*Q));return[af*(ka*(I-1/I)-2*xe(I)),af*(ka*B*(I+1/I)-2*Md(B))]}function ba(A,B){B=Hd(B/2);return[A*tf*Ja(1-B*B),(1+tf)*B]}function V(A,B){var I=B/2,Q=Hb(I);return[2*A/Oc*Hb(B)*Q*Q,Oc*Hd(I)]}function H(A){function B(Sa,hb){var nb=Hb(hb),Db=ec(hb);return[nb/(ea+A*nb)*Sa,ea*hb+A*Db]}function I(Sa,hb){Sa=B(Sa,hb);return[Sa[0]*Ya,Sa[1]/Ya]}function Q(Sa){return I(0,Sa)[1]}var ea=1-A,ka=B(fc,0)[0]-B(-fc,0)[0],Aa=B(0,Wc)[1]-B(0,-Wc)[1],Ya=Ja(2*Aa/ka);I.invert=function(Sa,
hb){hb=Ua(Q,hb);return[Sa/Ya*(A+ea/Hb(hb)),hb]};return I}function p(A){return[2*A[0],2*Md(ec(A[1]*Kd))*Od]}function h(A,B){function I(ka,Aa){ka=q.geoAzimuthalEquidistantRaw(ka,Aa);Aa=ka[0];var Ya=ka[1],Sa=Aa*Aa+Ya*Ya;if(Sa>ea){var hb=Ja(Sa);Aa=Jd(Ya,Aa);Sa=Q*Ge(Aa/Q);Ya=Aa-Sa;var nb=A*Hb(Ya),Db=(A*ec(Ya)-Ya*ec(nb))/(Wc-nb),Ub=m(Ya,Db),l=(fc-A)/n(Ub,nb,fc);Aa=hb;var v=50,M;do Aa-=M=(A+n(Ub,nb,Aa)*l-hb)/(Ub(Aa)*l);while(1E-6<$b(M)&&0<--v);Ya*=ec(Aa);Aa<Wc&&(Ya-=Db*(Aa-Wc));hb=ec(Sa);Sa=Hb(Sa);ka[0]=
Aa*Sa-Ya*hb;ka[1]=Aa*hb+Ya*Sa}return ka}var Q=2*fc/B,ea=A*A;I.invert=function(ka,Aa){var Ya=ka*ka+Aa*Aa;if(Ya>ea){var Sa=Ja(Ya);Aa=Jd(Aa,ka);Ya=Q*Ge(Aa/Q);Aa-=Ya;ka=Sa*Hb(Aa);Aa=Sa*ec(Aa);Sa=ka-Wc;for(var hb=ec(ka),nb=Aa/hb,Db=ka<Wc?Infinity:0,Ub=10;;){var l=A*ec(nb),v=A*Hb(nb),M=ec(v),U=Wc-v,La=(l-nb*M)/U,qb=m(nb,La);if(1E-12>$b(Db)||!--Ub)break;nb-=Db=(nb*hb-La*Sa-Aa)/(hb-2*Sa*(U*(v+nb*l*Hb(v)-M)-l*(l-nb*M))/(U*U))}Sa=A+n(qb,v,ka)*(fc-A)/n(qb,v,fc);Aa=Ya+nb;ka=Sa*Hb(Aa);Aa=Sa*ec(Aa)}return q.geoAzimuthalEquidistantRaw.invert(ka,
Aa)};return I}function m(A,B){return function(I){var Q=A*Hb(I);I<Wc&&(Q-=B);return Ja(1+Q*Q)}}function n(A,B,I){var Q=(I-B)/50;I=A(B)+A(I);for(var ea=1;50>ea;++ea)I+=2*A(B+=Q);return.5*I*Q}function u(A,B,I,Q,ea,ka,Aa,Ya){function Sa(hb,nb){if(!nb)return[A*hb/fc,0];var Db=nb*nb,Ub=A+Db*(B+Db*(I+Db*Q)),l=nb*(ea-1+Db*(ka-Ya+Db*Aa));l=(Ub*Ub+l*l)/(2*l);hb=hb*Ma(Ub/l)/fc;return[l*ec(hb),nb*(1+Db*Ya)+l*(1-Hb(hb))]}8>arguments.length&&(Ya=0);Sa.invert=function(hb,nb){var Db=fc*hb/A,Ub=nb,l=50;do{var v=Ub*
Ub,M=A+v*(B+v*(I+v*Q)),U=Ub*(ea-1+v*(ka-Ya+v*Aa)),La=M*M+U*U,qb=2*U;var yb=La/qb;var Ob=yb*yb;var ac=Ma(M/yb)/fc;var zc=Db*ac,vc=M*M,ld=(2*B+v*(4*I+6*v*Q))*Ub,yd=ea+v*(3*ka+5*v*Aa);U=(2*(M*ld+U*(yd-1))*qb-2*La*(yd-1))/(qb*qb);La=Hb(zc);yd=ec(zc);qb=yb*La;zc=yb*yd;Ob=Db/fc*(1/Ja(1-vc/Ob))*(ld*yb-M*U)/Ob;M=zc-hb;v=Ub*(1+v*Ya)+yb-qb-nb;yb=U*yd+qb*Ob;vc=qb*ac;U=1+U-(U*La-zc*Ob);ac*=zc;La=yb*ac-U*vc;if(!La)break;Db-=yb=(v*yb-M*U)/La;Ub-=ac=(M*ac-v*vc)/La}while((1E-6<$b(yb)||1E-6<$b(ac))&&0<--l);return[Db,
Ub]};return Sa}function x(A,B){var I=A*A,Q=B*B;return[A*(1-.162388*Q)*(.87-9.52426E-4*I*I),B*(1+Q/12)]}function L(A){function B(Q,ea){var ka=0<Q?-.5:.5;Q=A(Q+ka*fc,ea);Q[0]-=ka*I;return Q}var I=A(Wc,0)[0]-A(-Wc,0)[0];A.invert&&(B.invert=function(Q,ea){var ka=0<Q?-.5:.5;Q=A.invert(Q+ka*I,ea);ka=Q[0]-ka*fc;ka<-fc?ka+=2*fc:ka>fc&&(ka-=2*fc);Q[0]=ka;return Q});return B}function ia(A,B){var I=Nd(A),Q=Nd(B),ea=Hb(B),ka=Hb(A)*ea;A=ec(A)*ea;B=ec(Q*B);A=$b(Jd(A,B));B=Ma(ka);1E-6<$b(A-Wc)&&(A%=Wc);ka=xa(A>
fc/4?Wc-A:A,B);A>fc/4&&(B=ka[0],ka[0]=-ka[1],ka[1]=-B);return ka[0]*=I,ka[1]*=-Q,ka}function xa(A,B){if(B===Wc)return[0,0];var I=ec(B),Q=I*I,ea=Q*Q,ka=1+ea,Aa=1+3*ea,Ya=1-ea,Sa=Ma(1/Ja(ka)),hb=Ya+Q*ka*Sa,nb=(1-I)/hb,Db=Ja(nb),Ub=nb*ka,l=Ja(Ub),v=Db*Ya;if(0===A)return[0,-(v+Q*l)];var M=Hb(B),U=1/M,La=2*I*M;Sa=(-hb*M-(1-I)*(-3*Q+Sa*Aa)*La)/(hb*hb);I=-U*La;ka=-U*(Q*ka*Sa+nb*Aa*La);Ya=-2*U*(.5*Sa/Db*Ya-2*Q*Db*La);Db=4*A/fc;if(A>.222*fc||B<fc/4&&A>.175*fc){B=(v+Q*Ja(Ub*(1+ea)-v*v))/(1+ea);if(A>fc/4)return[B,
B];ea=B;U=.5*B;B=.5*(U+ea);A=50;do{La=Ja(Ub-B*B);La=B*(Ya+I*La)+ka*Ma(B/l)-Db;if(!La)break;0>La?U=B:ea=B;B=.5*(U+ea)}while(1E-6<$b(ea-U)&&0<--A)}else{B=1E-6;A=25;do La=B*B,ea=Ja(Ub-La),Aa=Ya+I*ea,U=B*Aa+ka*Ma(B/l)-Db,La=Aa+(ka-I*La)/ea,B-=ea=ea?U/La:0;while(1E-6<$b(ea)&&0<--A)}return[B,-v-Q*Ja(Ub-B*B)]}function Wa(A,B){if(1E-6>B){var I=ec(A);var Q=Hb(A);var ea=B*(A-I*Q)/4;return[I-ea*Q,Q+ea*I,1-B*I*I/2,A-ea]}if(.999999<=B){ea=(1-B)/4;Q=Bb(A);I=ne(2*A);I=(I-1)/(I+1);B=1/Q;var ka=Q*db(A);return[I+ea*
(ka-A)/(Q*Q),B-ea*I*B*(ka-A),B+ea*I*B*(ka+A),2*Md(ne(A))-Wc+ea*(ka-A)/Q]}var Aa=[1,0,0,0,0,0,0,0,0],Ya=[Ja(B),0,0,0,0,0,0,0,0],Sa=0;Q=Ja(1-B);for(ka=1;1E-6<$b(Ya[Sa]/Aa[Sa])&&8>Sa;)ea=Aa[Sa++],Ya[Sa]=(ea-Q)/2,Aa[Sa]=(ea+Q)/2,Q=Ja(ea*Q),ka*=2;B=ka*Aa[Sa]*A;do I=Ya[Sa]*ec(Q=B)/Aa[Sa],B=(Ma(I)+B)/2;while(--Sa);return[ec(B),I=Hb(B),I/Hb(B-Q),B]}function $a(A,B){if(!B)return A;if(1===B)return xe(Hd(A/2+re));var I=1,Q=Ja(1-B),ea=Ja(B);for(B=0;1E-6<$b(ea);B++)A%fc?(ea=Md(Q*Hd(A)/I),0>ea&&(ea+=fc),A+=ea+
~~(A/fc)*fc):A+=A,ea=(I+Q)/2,Q=Ja(I*Q),ea=((I=ea)-Q)/2;return A/(Ze(2,B)*I)}function fb(A,B){var I=(Zd-1)/(Zd+1),Q=Ja(1-I*I),ea=$a(Wc,Q*Q),ka=xe(Hd(fc/4+$b(B)/2));ka=ne(-1*ka)/Ja(I);I=ka*Hb(-1*A);var Aa=ka*ec(-1*A);A=I*I;ka=Aa+1;Aa=1-A-Aa*Aa;A=[.5*((0<=I?Wc:-Wc)-Jd(Aa,2*I)),-.25*xe(Aa*Aa+4*A)+.5*xe(ka*ka+A)];I=A[0];A=A[1];Q*=Q;ka=$b(I);Aa=$b(A);Aa=db(Aa);if(ka){var Ya=1/ec(ka);ka=1/(Hd(ka)*Hd(ka));Aa=-(ka+Q*Aa*Aa*Ya*Ya-1+Q);Aa=(-Aa+Ja(Aa*Aa-4*(Q-1)*ka))/2;Q=[$a(Md(1/Ja(Aa)),Q)*Nd(I),$a(Md(Ja((Aa/
ka-1)/Q)),1-Q)*Nd(A)]}else Q=[0,$a(Md(Aa),1-Q)*Nd(A)];return[-Q[1],(0<=B?1:-1)*(.5*ea-Q[0])]}function Ba(A){function B(ka,Aa){var Ya=ea(ka,Aa);ka=Ya[0];Aa=Ya[1];Ya=ec(Aa);Aa=Hb(Aa);var Sa=Hb(ka),hb=Fb(I*Ya+Q*Aa*Sa),nb=ec(hb);hb=1E-6<$b(nb)?hb/nb:1;return[hb*Q*ec(ka),($b(ka)>Wc?hb:-hb)*(I*Aa-Q*Ya*Sa)]}var I=ec(A),Q=Hb(A),ea=T(A);ea.invert=T(-A);B.invert=function(ka,Aa){var Ya=Ja(ka*ka+Aa*Aa),Sa=-ec(Ya),hb=Hb(Ya),nb=Ya*hb,Db=-Aa*Sa,Ub=Ya*I,l=Ja(nb*nb+Db*Db-Ub*Ub);nb=Jd(nb*Ub+Db*l,Db*Ub-nb*l);ka=(Ya>
Wc?-1:1)*Jd(ka*Sa,Ya*Hb(nb)*hb+Aa*ec(nb)*Sa);return ea.invert(ka,nb)};return B}function T(A){var B=ec(A),I=Hb(A);return function(Q,ea){var ka=Hb(ea),Aa=Hb(Q)*ka;Q=ec(Q)*ka;ea=ec(ea);return[Jd(Q,Aa*I-ea*B),Ma(ea*I+Aa*B)]}}function da(A){function B(nb,Db){var Ub=$b(Db);if(Ub>I){var l=Je(A-1,jf(0,le((nb+fc)/Ya)));nb+=fc*(A-1)/A-l*Ya;nb=E(nb,Ub);nb[0]=nb[0]*Vd/Q-Vd*(A-1)/(2*A)+l*Vd/A;nb[1]=ea+4*(nb[1]-ka)*Aa/Vd;0>Db&&(nb[1]=-nb[1])}else nb=of(nb,Db);nb[0]*=Sa;nb[1]/=hb;return nb}var I=Te*Kd,Q=E(fc,I)[0]-
E(-fc,I)[0],ea=of(0,I)[1],ka=E(0,I)[1],Aa=Oc-ka,Ya=Vd/A,Sa=4/Vd,hb=ea+Aa*Aa*4/Vd;B.invert=function(nb,Db){nb/=Sa;Db*=hb;var Ub=$b(Db);if(Ub>ea){var l=Je(A-1,jf(0,le((nb+fc)/Ya)));nb=(nb+fc*(A-1)/A-l*Ya)*Q/Vd;nb=E.invert(nb,.25*(Ub-ea)*Vd/Aa+ka);nb[0]-=fc*(A-1)/A-l*Ya;0>Db&&(nb[1]=-nb[1]);return nb}return of.invert(nb,Db)};return B}function Xa(A,B){return[A,B&1?89.999999:Te]}function zb(A,B){return[A,B&1?-89.999999:-Te]}function xb(A){return[.999999*A[0],A[1]]}function Pb(A){var B=[].concat(R.range(-180,
180+A/2,A).map(Xa),R.range(180,-180-A/2,-A).map(zb));return{type:"Polygon",coordinates:[180===A?B.map(xb):B]}}function bc(A){function B(nb,Db){var Ub=1-ec(Db);if(Ub&&2>Ub){var l=Wc-Db,v=25;do{var M=ec(l);var U=Hb(l);Db=ea+Jd(M,I-U);U=1+hb-2*I*U;l-=M=(l-Sa*ea-I*M+U*Db-.5*Ub*Aa)/(2*I*M*Db)}while(1E-12<$b(M)&&0<--v);Ub=ka*Ja(U);nb=nb*Db/fc}else Ub=ka*(A+Ub),nb=nb*ea/fc;return[Ub*ec(nb),Ya-Ub*Hb(nb)]}var I=1+A,Q=ec(1/I),ea=Ma(Q),ka=2*Ja(fc/(Aa=fc+4*ea*I)),Aa,Ya=.5*ka*(I+Ja(A*(2+A))),Sa=A*A,hb=I*I;B.invert=
function(nb,Db){var Ub=nb*nb+(Db-=Ya)*Db;Db=(1+hb-Ub/(ka*ka))/(2*I);var l=Fb(Db),v=ec(l),M=ea+Jd(v,I-Db);return[Ma(nb/Ja(Ub))*fc/M,Ma(1-2*(l-Sa*ea-I*v+(1+hb-2*I*Db)*M)/Aa)]};return B}function Uc(A,B){return-.7109889596207567<B?(A=vd(A,B),A[1]+=.0528035274542,A):S(A,B)}function yc(A,B){return.7109889596207567<$b(B)?(A=vd(A,B),A[1]-=0<B?.0528035274542:-.0528035274542,A):S(A,B)}function Vc(A,B,I,Q){function ea(Db){return Ja(1+A*Hb(2*Db)+B*Hb(4*Db))}function ka(Db){Db*=I;return(2*Db+(1+A-B/2)*ec(2*Db)+
(A+B)/2*ec(4*Db)+B/2*ec(6*Db))/I}function Aa(Db){return ea(Db)*ec(Db)}var Ya=Ja(4*fc/(2*I+(1+A-B/2)*ec(2*I)+(A+B)/2*ec(4*I)+B/2*ec(6*I))),Sa=Ja(Q*ec(I)*Ja((1+A*Hb(2*I)+B*Hb(4*I))/(1+A+B))),hb=I*ka(1),nb=function(Db,Ub){var l=I*Ua(ka,hb*ec(Ub)/I,Ub/fc);isNaN(l)&&(l=I*Nd(Ub));Ub=Ya*ea(l);return[Ub*Sa*Db/fc*Hb(l),Ub/Sa*ec(l)]};nb.invert=function(Db,Ub){Ub=Ua(Aa,Ub*Sa/Ya);return[Db*fc/(Hb(Ub)*Ya*Sa*ea(Ub)),Ma(I*ka(Ub/I)/hb)]};0===I&&(Ya=Ja(Q/fc),nb=function(Db,Ub){return[Db*Ya,ec(Ub)/Ya]},nb.invert=function(Db,
Ub){return[Db/Ya,Ma(Ub*Ya)]});return nb}function ya(A,B,I,Q,ea,ka,Aa,Ya,Sa,hb,nb){if(nb.nanEncountered)return NaN;var Db=I-B;var Ub=A(B+.25*Db);var l=A(I-.25*Db);if(isNaN(Ub))nb.nanEncountered=!0;else if(isNaN(l))nb.nanEncountered=!0;else{var v=Db*(Q+4*Ub+ea)/12;var M=Db*(ea+4*l+ka)/12;var U=v+M;Aa=(U-Aa)/15;if(hb>Sa)return nb.maxDepthCount++,U+Aa;if(Math.abs(Aa)<Ya)return U+Aa;Db=B+.5*Db;B=ya(A,B,Db,Q,Ub,ea,v,.5*Ya,Sa,hb+1,nb);if(isNaN(B))return nb.nanEncountered=!0,NaN;A=ya(A,Db,I,ea,l,ka,M,.5*
Ya,Sa,hb+1,nb);return isNaN(A)?(nb.nanEncountered=!0,NaN):B+A}}function Nb(A,B,I,Q,ea){void 0===Q&&(Q=1E-8);void 0===ea&&(ea=20);var ka=A(B),Aa=A(.5*(B+I)),Ya=A(I);return ya(A,B,I,ka,Aa,Ya,(ka+4*Aa+Ya)*(I-B)/6,Q,ea,1,{maxDepthCount:0,nanEncountered:!1})}function Sb(A,B,I){function Q(nb){return A+(1-A)*Ze(1-Ze(nb,B),1/B)}function ea(nb){var Db=0,Ub=1E3,l=500;do Ya[l]>nb?Ub=l:Db=l,l=Db+Ub>>1;while(l>Db);(Db=Ya[l+1]-Ya[l])&&(Db=(nb-Ya[l+1])/Db);return(l+1+Db)/1E3}for(var ka=1/Nb(Q,0,1,1E-4),Aa=1.00000001*
ka,Ya=[],Sa=0;1E3>=Sa;Sa++)Ya.push(Nb(Q,0,Sa/1E3,1E-4)*Aa);var hb=2*ea(1)/fc*ka/I;I=function(nb,Db){var Ub=ea($b(ec(Db)));nb*=Q(Ub);Ub/=hb;return[nb,0<=Db?Ub:-Ub]};I.invert=function(nb,Db){var Ub;Db*=hb;1>$b(Db)&&(Ub=Nd(Db)*Ma(Nb(Q,0,$b(Db),1E-4)*ka));return[nb/Q($b(Db)),Ub]};return I}function Zb(A,B){for(var I=-1,Q=A.length,ea=A[0],ka,Aa,Ya,Sa=[];++I<Q;){ka=A[I];Aa=(ka[0]-ea[0])/B;Ya=(ka[1]-ea[1])/B;for(var hb=0;hb<B;++hb)Sa.push([ea[0]+hb*Aa,ea[1]+hb*Ya]);ea=ka}Sa.push(ka);return Sa}function uc(A){var B=
[],I,Q=A[0].length;for(I=0;I<Q;++I){var ea=A[0][I];var ka=ea[0][0];var Aa=ea[0][1];var Ya=ea[1][1];var Sa=ea[2][0];ea=ea[2][1];B.push(Zb([[ka+1E-6,Aa+1E-6],[ka+1E-6,Ya-1E-6],[Sa-1E-6,Ya-1E-6],[Sa-1E-6,ea+1E-6]],30))}for(I=A[1].length-1;0<=I;--I)ea=A[1][I],ka=ea[0][0],Aa=ea[0][1],Ya=ea[1][1],Sa=ea[2][0],ea=ea[2][1],B.push(Zb([[Sa-1E-6,ea-1E-6],[Sa-1E-6,Ya+1E-6],[ka+1E-6,Ya+1E-6],[ka+1E-6,Aa-1E-6]],30));return{type:"Polygon",coordinates:[R.merge(B)]}}function cc(A,B,I){function Q(Sa,hb){for(var nb=
0>hb?-1:1,Db=B[+(0>hb)],Ub=0,l=Db.length-1;Ub<l&&Sa>Db[Ub][2][0];++Ub);Sa=A(Sa-Db[Ub][1][0],hb);Sa[0]+=A(Db[Ub][1][0],nb*hb>nb*Db[Ub][0][1]?Db[Ub][0][1]:hb)[0];return Sa}var ea,ka;I?Q.invert=I(Q):A.invert&&(Q.invert=function(Sa,hb){for(var nb=ka[+(0>hb)],Db=B[+(0>hb)],Ub=0,l=nb.length;Ub<l;++Ub){var v=nb[Ub];if(v[0][0]<=Sa&&Sa<v[1][0]&&v[0][1]<=hb&&hb<v[1][1])return nb=A.invert(Sa-A(Db[Ub][1][0],0)[0],hb),nb[0]+=Db[Ub][1][0],Db=Q(nb[0],nb[1]),Sa=[Sa,hb],1E-6>$b(Db[0]-Sa[0])&&1E-6>$b(Db[1]-Sa[1])?
nb:null}});var Aa=q.geoProjection(Q),Ya=Aa.stream;Aa.stream=function(Sa){var hb=Aa.rotate(),nb=Ya(Sa),Db=(Aa.rotate([0,0]),Ya(Sa));Aa.rotate(hb);nb.sphere=function(){q.geoStream(ea,Db)};return nb};Aa.lobes=function(Sa){if(!arguments.length)return B.map(function(hb){return hb.map(function(nb){return[[nb[0][0]*Od,nb[0][1]*Od],[nb[1][0]*Od,nb[1][1]*Od],[nb[2][0]*Od,nb[2][1]*Od]]})});ea=uc(Sa);B=Sa.map(function(hb){return hb.map(function(nb){return[[nb[0][0]*Kd,nb[0][1]*Kd],[nb[1][0]*Kd,nb[1][1]*Kd],
[nb[2][0]*Kd,nb[2][1]*Kd]]})});ka=B.map(function(hb){return hb.map(function(nb){var Db=A(nb[0][0],nb[0][1])[0],Ub=A(nb[2][0],nb[2][1])[0],l=A(nb[1][0],nb[0][1])[1];nb=A(nb[1][0],nb[1][1])[1];if(l>nb){var v=l;l=nb;nb=v}return[[Db,l],[Ub,nb]]})});return Aa};null!=B&&Aa.lobes(B);return Aa}function gb(A,B){return[3/Vd*A*Ja(fc*fc/3-B*B),B]}function Kb(A){function B(I,Q){if(1E-6>$b($b(Q)-Wc))return[0,0>Q?-2:2];Q=ec(Q);Q=Ze((1+Q)/(1-Q),A/2);var ea=.5*(Q+1/Q)+Hb(I*=A);return[2*ec(I)/ea,(Q-1/Q)/ea]}B.invert=
function(I,Q){var ea=$b(Q);if(1E-6>$b(ea-2))return I?null:[0,Nd(Q)*Wc];if(2<ea)return null;I/=2;Q/=2;ea=I*I;var ka=Q*Q;Q=2*Q/(1+ea+ka);Q=Ze((1+Q)/(1-Q),1/A);return[Jd(2*I,1-ea-ka)/A,Ma((Q-1)/(Q+1))]};return B}function Eb(A,B){return[A*(1+Ja(Hb(B)))/2,B/(Hb(B/2)*Hb(A/6))]}function Nc(A,B){var I=A*A,Q=B*B;return[A*(.975534+Q*(-.119161+-.0143059*I+-.0547009*Q)),B*(1.00384+I*(.0802894+-.02855*Q+1.99025E-4*I)+Q*(.0998909+-.0491032*Q))]}function dd(A,B){return[ec(A)/Hb(B),Hd(B)*Hb(A)]}function Ic(A){function B(ea,
ka){var Aa=ka-A,Ya=1E-6>$b(Aa)?ea*I:1E-6>$b(Ya=re+ka/2)||1E-6>$b($b(Ya)-Wc)?0:ea*Aa/xe(Hd(Ya)/Q);return[Ya,Aa]}var I=Hb(A),Q=Hd(re+A/2);B.invert=function(ea,ka){var Aa,Ya=ka+A;return[1E-6>$b(ka)?ea/I:1E-6>$b(Aa=re+Ya/2)||1E-6>$b($b(Aa)-Wc)?0:ea*xe(Hd(Aa)/Q)/ka,Ya]};return B}function Tc(A,B){return[A,1.25*xe(Hd(re+.4*B))]}function xd(A){function B(Q,ea){var ka=Hb(ea),Aa=2/(1+ka*Hb(Q));Q=Aa*ka*ec(Q);ea=Aa*ec(ea);Aa=I;ka=A[Aa];for(var Ya=ka[0],Sa=ka[1],hb;0<=--Aa;)ka=A[Aa],Ya=ka[0]+Q*(hb=Ya)-ea*Sa,Sa=
ka[1]+Q*Sa+ea*hb;Ya=Q*(hb=Ya)-ea*Sa;return[Ya,Q*Sa+ea*hb]}var I=A.length-1;B.invert=function(Q,ea){var ka=20,Aa=Q,Ya=ea;do{for(var Sa=I,hb=A[Sa],nb=hb[0],Db=hb[1],Ub=0,l=0,v;0<=--Sa;)hb=A[Sa],Ub=nb+Aa*(v=Ub)-Ya*l,l=Db+Aa*l+Ya*v,nb=hb[0]+Aa*(v=nb)-Ya*Db,Db=hb[1]+Aa*Db+Ya*v;Ub=nb+Aa*(v=Ub)-Ya*l;l=Db+Aa*l+Ya*v;nb=Aa*(v=nb)-Ya*Db-Q;Db=Aa*Db+Ya*v-ea;hb=Ub*Ub+l*l;Aa-=Sa=(nb*Ub+Db*l)/hb;Ya-=nb=(Db*Ub-nb*l)/hb}while(1E-12<$b(Sa)+$b(nb)&&0<--ka);if(ka)return Q=Ja(Aa*Aa+Ya*Ya),ea=2*Md(.5*Q),ka=ec(ea),[Jd(Aa*
ka,Q*Hb(ea)),Q?Ma(Ya*ka/Q):0]};return B}function tb(A,B){A=q.geoProjection(xd(A)).rotate(B).clipAngle(90);var I=q.geoRotation(B),Q=A.center;delete A.rotate;A.center=function(ea){return arguments.length?Q(I(ea)):I.invert(Q())};return A}function Jb(A,B){B=Ma(7*ec(B)/(3*Xc));return[Xc*A*(2*Hb(2*B/3)-1)/od,9*ec(B/3)/od]}function Gc(A,B){for(var I=(1+Rd)*ec(B),Q=0,ea;25>Q&&!(B-=ea=(ec(B/2)+ec(B)-I)/(.5*Hb(B/2)+Hb(B)),1E-6>$b(ea));Q++);return[A*(1+2*Hb(B)/Hb(B/2))/(3*Zd),2*Ja(3)*ec(B/2)/Ja(2+Zd)]}function ke(A,
B){var I=Ja(6/(4+fc)),Q=(1+fc/4)*ec(B);B/=2;for(var ea=0,ka;25>ea&&!(B-=ka=(B/2+ec(B)-Q)/(.5+Hb(B)),1E-6>$b(ka));ea++);return[I*(.5+Hb(B))*A/1.5,I*B]}function ge(A,B){var I=B*B,Q=I*I,ea=I*Q;return[A*(.84719-.13063*I+ea*ea*(-.04515+.05494*I-.02326*Q+.00331*ea)),B*(1.01183+Q*Q*(-.02625+.01926*I-.00396*Q))]}function Ke(A,B){return[A*(1+Hb(B))/2,2*(B-Hd(B/2))]}function Ye(A,B){var I=ec(B),Q=Hb(B),ea=Nd(A);if(0===A||$b(B)===Wc)return[0,B];if(0===B)return[A,0];if($b(A)===Wc)return[A*Q,Wc*I];A=fc/(2*A)-
2*A/fc;var ka=2*B/fc,Aa=(1-ka*ka)/(I-ka),Ya=A*A,Sa=Aa*Aa;ka=1+Ya/Sa;var hb=1+Sa/Ya,nb=(A*I/Aa-A/2)/ka,Db=(Sa*I/Ya+Aa/2)/hb;I=Db*Db-(Sa*I*I/Ya+Aa*I-1)/hb;return[Wc*(nb+Ja(nb*nb+Q*Q/ka)*ea),Wc*(Db+Ja(0>I?0:I)*Nd(-B*A)*ea)]}function J(A,B){var I=B*B;return[A,B*(1.0148+I*I*(.23185+I*(-.14499+.02406*I)))]}function ja(A,B){if(1E-6>$b(B))return[A,0];var I=Hd(B);A*=ec(B);return[ec(A)/I,B+(1-Hb(A))/I]}function Na(A,B){var I=Gb(A[1],A[0]),Q=Gb(B[1],B[0]),ea=Jd(I[0]*Q[1]-I[1]*Q[0],I[0]*Q[0]+I[1]*Q[1]);I=Ja(I[0]*
I[0]+I[1]*I[1])/Ja(Q[0]*Q[0]+Q[1]*Q[1]);return mb([1,0,A[0][0],0,1,A[0][1]],mb([I,0,0,0,I,0],mb([Hb(ea),ec(ea),0,-ec(ea),Hb(ea),0],[1,0,-B[0][0],0,1,-B[0][1]])))}function mb(A,B){return[A[0]*B[0]+A[1]*B[3],A[0]*B[1]+A[1]*B[4],A[0]*B[2]+A[1]*B[5]+A[2],A[3]*B[0]+A[4]*B[3],A[3]*B[1]+A[4]*B[4],A[3]*B[2]+A[4]*B[5]+A[5]]}function Gb(A,B){return[A[0]-B[0],A[1]-B[1]]}function lb(A,B){function I(Ya,Sa){Ya.edges=Ra(Ya.face);if(Sa.face){var hb=Ya.shared=ra(Ya.face,Sa.face),nb=Na(hb.map(Sa.project),hb.map(Ya.project));
Ya.transform=Sa.transform?mb(Sa.transform,nb):nb;nb=Sa.edges;for(var Db=0,Ub=nb.length;Db<Ub;++Db)Rb(hb[0],nb[Db][1])&&Rb(hb[1],nb[Db][0])&&(nb[Db]=Ya),Rb(hb[0],nb[Db][0])&&Rb(hb[1],nb[Db][1])&&(nb[Db]=Ya);nb=Ya.edges;Db=0;for(Ub=nb.length;Db<Ub;++Db)Rb(hb[0],nb[Db][0])&&Rb(hb[1],nb[Db][1])&&(nb[Db]=Sa),Rb(hb[0],nb[Db][1])&&Rb(hb[1],nb[Db][0])&&(nb[Db]=Sa)}else Ya.transform=Sa.transform;Ya.children&&Ya.children.forEach(function(l){I(l,Ya)});return Ya}function Q(Ya,Sa){var hb=B(Ya,Sa);Ya=hb.project([Ya*
Od,Sa*Od]);if(hb=hb.transform)return[hb[0]*Ya[0]+hb[1]*Ya[1]+hb[2],-(hb[3]*Ya[0]+hb[4]*Ya[1]+hb[5])];Ya[1]=-Ya[1];return Ya}function ea(Ya,Sa){var hb=Ya.project.invert,nb=Ya.transform,Db=Sa;if(nb){var Ub=1/(nb[0]*nb[4]-nb[1]*nb[3]);nb=[Ub*nb[4],-Ub*nb[1],Ub*(nb[1]*nb[5]-nb[2]*nb[4]),-Ub*nb[3],Ub*nb[0],Ub*(nb[2]*nb[3]-nb[0]*nb[5])];Db=[nb[0]*Db[0]+nb[1]*Db[1]+nb[2],nb[3]*Db[0]+nb[4]*Db[1]+nb[5]]}if(nb=hb)hb=l=hb(Db),hb=B(hb[0]*Kd,hb[1]*Kd),nb=Ya===hb;if(nb)return l;var l;Ya=Ya.children;hb=0;for(Db=
Ya&&Ya.length;hb<Db;++hb)if(l=ea(Ya[hb],Sa))return l}I(A,{transform:null});rb(A)&&(Q.invert=function(Ya,Sa){return(Ya=ea(A,[Ya,-Sa]))&&(Ya[0]*=Kd,Ya[1]*=Kd,Ya)});var ka=q.geoProjection(Q),Aa=ka.stream;ka.stream=function(Ya){var Sa=ka.rotate(),hb=Aa(Ya),nb=(ka.rotate([0,0]),Aa(Ya));ka.rotate(Sa);hb.sphere=function(){nb.polygonStart();nb.lineStart();Xb(nb,A);nb.lineEnd();nb.polygonEnd()};return hb};return ka.angle(-30)}function Xb(A,B,I){var Q,ea=B.edges,ka=ea.length;var Aa={type:"MultiPoint",coordinates:B.face};
var Ya=B.face.filter(function(Db){return 90!==$b(Db[1])}),Sa=q.geoBounds({type:"MultiPoint",coordinates:Ya});Ya=!1;var hb=-1,nb=Sa[1][0]-Sa[0][0];Sa=180===nb||360===nb?[(Sa[0][0]+Sa[1][0])/2,(Sa[0][1]+Sa[1][1])/2]:q.geoCentroid(Aa);if(I)for(;++hb<ka&&ea[hb]!==I;);++hb;for(nb=0;nb<ka;++nb)Aa=ea[(nb+hb)%ka],Array.isArray(Aa)?(Ya||(A.point((Q=q.geoInterpolate(Aa[0],Sa)(1E-6))[0],Q[1]),Ya=!0),A.point((Q=q.geoInterpolate(Aa[1],Sa)(1E-6))[0],Q[1])):(Ya=!1,Aa!==I&&Xb(A,Aa,B))}function Rb(A,B){return A&&
B&&A[0]===B[0]&&A[1]===B[1]}function ra(A,B){for(var I,Q,ea=A.length,ka=null,Aa=0;Aa<ea;++Aa){I=A[Aa];for(var Ya=B.length;0<=--Ya;)if(Q=B[Ya],I[0]===Q[0]&&I[1]===Q[1]){if(ka)return[ka,I];ka=I}}}function Ra(A){for(var B=A.length,I=[],Q=A[B-1],ea=0;ea<B;++ea)I.push([Q,Q=A[ea]]);return I}function rb(A){return A.project.invert||A.children&&A.children.some(rb)}function Mb(A,B){A=E(A,B);return[A[0]*Cd,A[1]]}function dc(A,B){for(var I=0,Q=A.length,ea=0;I<Q;++I)ea+=A[I]*B[I];return ea}function hc(A,B){return[A[1]*
B[2]-A[2]*B[1],A[2]*B[0]-A[0]*B[2],A[0]*B[1]-A[1]*B[0]]}function sc(A){return[Jd(A[1],A[0])*Od,Ma(jf(-1,Je(1,A[2])))*Od]}function sb(A){var B=A[0]*Kd;A=A[1]*Kd;var I=Hb(A);return[I*Hb(B),I*ec(B),ec(A)]}function gc(A,B){return{type:"FeatureCollection",features:A.features.map(function(I){return ic(I,B)})}}function ic(A,B){return{type:"Feature",id:A.id,properties:A.properties,geometry:lc(A.geometry,B)}}function Yb(A,B){return{type:"GeometryCollection",geometries:A.geometries.map(function(I){return lc(I,
B)})}}function lc(A,B){if(!A)return null;if("GeometryCollection"===A.type)return Yb(A,B);switch(A.type){case "Point":var I=xf;break;case "MultiPoint":I=xf;break;case "LineString":I=ae;break;case "MultiLineString":I=ae;break;case "Polygon":I=gf;break;case "MultiPolygon":I=gf;break;case "Sphere":I=gf;break;default:return null}q.geoStream(A,B(I));return I.result()}function Ec(A){function B(Q,ea){var ka=$b(Q)<Wc;ea=A(ka?Q:0<Q?Q-fc:Q+fc,ea);Q=(ea[0]-ea[1])*Rd;ea=(ea[0]+ea[1])*Rd;if(ka)return[Q,ea];ka=
I*Rd;var Aa=0<Q^0<ea?-1:1;return[Aa*Q-Nd(ea)*ka,Aa*ea-Nd(Q)*ka]}var I=A(Wc,0)[0]-A(-Wc,0)[0];A.invert&&(B.invert=function(Q,ea){var ka=(Q+ea)*Rd,Aa=(ea-Q)*Rd,Ya=$b(ka)<.5*I&&$b(Aa)<.5*I;if(!Ya){var Sa=I*Rd,hb=0<ka^0<Aa?-1:1;Q=-hb*Q+(0<Aa?1:-1)*Sa;ea=-hb*ea+(0<ka?1:-1)*Sa;ka=(-Q-ea)*Rd;Aa=(Q-ea)*Rd}ea=A.invert(ka,Aa);Ya||(ea[0]+=0<ka?fc:-fc);return ea});return q.geoProjection(B).rotate([-90,-90,45]).clipAngle(179.999)}function Cc(A){function B(Q,ea){Q=I?Hd(Q*I/2)/I:Q/2;if(!ea)return[2*Q,-A];Q=2*Md(Q*
ec(ea));var ka=1/Hd(ea);return[ec(Q)*ka,ea+(1-Hb(Q))*ka-A]}var I=ec(A);B.invert=function(Q,ea){if(1E-6>$b(ea+=A))return[I?2*Md(I*Q/2)/I:Q,0];var ka=Q*Q+ea*ea,Aa=0,Ya=10;do{var Sa=Hd(Aa);var hb=1/Hb(Aa),nb=ka-2*ea*Aa+Aa*Aa;Aa-=Sa=(Sa*nb+2*(Aa-ea))/(2+nb*hb*hb+2*(Aa-ea)*Sa)}while(1E-6<$b(Sa)&&0<--Ya);Q*=Sa=Hd(Aa);ea=Hd($b(ea)<$b(Aa+1/Sa)?.5*Ma(Q):.5*Fb(Q)+fc/4)/ec(Aa);return[I?2*Md(I*ea)/I:2*ea,Aa]};return B}function id(A,B){var I=Je(18,36*$b(B)/fc),Q=le(I);I-=Q;var ea=(Sa=lf[Q])[0],ka=Sa[1],Aa=(Sa=
lf[++Q])[0],Ya=Sa[1];Q=(Sa=lf[Je(19,++Q)])[0];Sa=Sa[1];var Sa;return[A*(Aa+I*(Q-ea)/2+I*I*(Q-2*Aa+ea)/2),(0<B?Wc:-Wc)*(Ya+I*(Sa-ka)/2+I*I*(Sa-2*Ya+ka)/2)]}function jd(A){function B(I,Q){var ea=Hb(Q),ka=(A-1)/(A-ea*Hb(I));return[ka*ea*ec(I),ka*ec(Q)]}B.invert=function(I,Q){var ea=I*I+Q*Q,ka=Ja(ea);ea=(A-Ja(1-ea*(A+1)/(A-1)))/((A-1)/ka+ka/(A-1));return[Jd(I*ea,ka*Ja(1-ea*ea)),ka?Ma(Q*ea/ka):0]};return B}function qd(A,B){function I(Aa,Ya){Aa=Q(Aa,Ya);Ya=Aa[1];var Sa=Ya*ka/(A-1)+ea;return[Aa[0]*ea/Sa,
Ya/Sa]}var Q=jd(A);if(!B)return Q;var ea=Hb(B),ka=ec(B);I.invert=function(Aa,Ya){var Sa=(A-1)/(A-1-Ya*ka);return Q.invert(Sa*Aa,Sa*Ya*ea)};return I}function ud(A){return 0<A.length}function be(A){return-90===A||90===A?[0,A]:[-180,Math.floor(1E4*A)/1E4]}function Yd(A){var B=A[0],I=A[1],Q=!1;-179.9999>=B?(B=-180,Q=!0):179.9999<=B&&(B=180,Q=!0);-89.9999>=I?(I=-90,Q=!0):89.9999<=I&&(I=90,Q=!0);return Q?[B,I]:A}function de(A){return A.map(Yd)}function ve(A,B,I){for(var Q=0,ea=A.length;Q<ea;++Q){var ka=
A[Q].slice();I.push({index:-1,polygon:B,ring:ka});for(var Aa=0,Ya=ka.length;Aa<Ya;++Aa){var Sa=ka[Aa],hb=Sa[0],nb=Sa[1];if(-179.9999>=hb||179.9999<=hb||-89.9999>=nb||89.9999<=nb){ka[Aa]=Yd(Sa);for(Sa=Aa+1;Sa<Ya;++Sa){var Db=ka[Sa];hb=Db[0];Db=Db[1];if(-179.9999<hb&&179.9999>hb&&-89.9999<Db&&89.9999>Db)break}if(Sa!==Aa+1){Aa?(Aa={index:-1,polygon:B,ring:ka.slice(0,Aa+1)},Aa.ring[Aa.ring.length-1]=be(nb),I[I.length-1]=Aa):I.pop();if(Sa>=Ya)break;I.push({index:-1,polygon:B,ring:ka=ka.slice(Sa-1)});ka[0]=
be(ka[0][1]);Aa=-1;Ya=ka.length}}}}}function Ae(A){var B,I=A.length,Q={},ea={};for(B=0;B<I;++B){var ka=A[B];var Aa=ka.ring[0];var Ya=ka.ring[ka.ring.length-1];Aa[0]===Ya[0]&&Aa[1]===Ya[1]?(ka.polygon.push(ka.ring),A[B]=null):(ka.index=B,Q[Aa]=ea[Ya]=ka)}for(B=0;B<I;++B)if(ka=A[B]){Aa=ka.ring[0];Ya=ka.ring[ka.ring.length-1];var Sa=ea[Aa];var hb=Q[Ya];delete Q[Aa];delete ea[Ya];Aa[0]===Ya[0]&&Aa[1]===Ya[1]?ka.polygon.push(ka.ring):Sa?(delete ea[Aa],delete Q[Sa.ring[0]],Sa.ring.pop(),A[Sa.index]=null,
ka={index:-1,polygon:Sa.polygon,ring:Sa.ring.concat(ka.ring)},Sa===hb?ka.polygon.push(ka.ring):(ka.index=I++,A.push(Q[ka.ring[0]]=ea[ka.ring[ka.ring.length-1]]=ka))):hb?(delete Q[Ya],delete ea[hb.ring[hb.ring.length-1]],ka.ring.pop(),ka={index:I++,polygon:hb.polygon,ring:ka.ring.concat(hb.ring)},A[hb.index]=null,A.push(Q[ka.ring[0]]=ea[ka.ring[ka.ring.length-1]]=ka)):(ka.ring.push(ka.ring[0]),ka.polygon.push(ka.ring))}}function We(A){var B={type:"Feature",geometry:zd(A.geometry)};null!=A.id&&(B.id=
A.id);null!=A.bbox&&(B.bbox=A.bbox);null!=A.properties&&(B.properties=A.properties);return B}function zd(A){if(null==A)return A;switch(A.type){case "GeometryCollection":var B={type:"GeometryCollection",geometries:A.geometries.map(zd)};break;case "Point":B={type:"Point",coordinates:Yd(A.coordinates)};break;case "MultiPoint":case "LineString":B={type:A.type,coordinates:de(A.coordinates)};break;case "MultiLineString":B={type:"MultiLineString",coordinates:A.coordinates.map(de)};break;case "Polygon":var I=
[];ve(A.coordinates,I,B=[]);Ae(B);B={type:"Polygon",coordinates:I};break;case "MultiPolygon":B=[];I=-1;var Q=A.coordinates.length;for(var ea=Array(Q);++I<Q;)ve(A.coordinates[I],ea[I]=[],B);Ae(B);B={type:"MultiPolygon",coordinates:ea.filter(ud)};break;default:return A}null!=A.bbox&&(B.bbox=A.bbox);return B}function Ld(A,B){B=Hd(B/2);var I=ec(re*B);return[A*(.74482-.34588*I*I),1.70711*B]}function ef(A,B,I){var Q=q.geoInterpolate(B,I);I=Q(.5);B=q.geoRotation([-I[0],-I[1]])(B);Q=Q.distance/2;var ea=-Ma(ec(B[1]*
Kd)/ec(Q));I=[-I[0],-I[1],-(0<B[0]?fc-ea:ea)*Od];A=q.geoProjection(A(Q)).rotate(I);var ka=q.geoRotation(I),Aa=A.center;delete A.rotate;A.center=function(Ya){return arguments.length?Aa(ka(Ya)):ka.invert(Aa())};return A.clipAngle(90)}function me(A){function B(Q,ea){Q=q.geoGnomonicRaw(Q,ea);Q[0]*=I;return Q}var I=Hb(A);B.invert=function(Q,ea){return q.geoGnomonicRaw.invert(Q/I,ea)};return B}function W(A,B){return ef(me,A,B)}function ha(A){function B(Ya,Sa){var hb=Fb(Hb(Sa)*Hb(Ya-I));Ya=Fb(Hb(Sa)*Hb(Ya-
Q));hb*=hb;Ya*=Ya;return[(hb-Ya)/(2*A),(0>Sa?-1:1)*Ja(4*ea*Ya-(ea-hb+Ya)*(ea-hb+Ya))/(2*A)]}if(!(A*=2))return q.geoAzimuthalEquidistantRaw;var I=-A/2,Q=-I,ea=A*A,ka=Hd(Q),Aa=.5/ec(Q);B.invert=function(Ya,Sa){var hb=Sa*Sa,nb=Hb(Ja(hb+(Db=Ya+I)*Db));Ya=Hb(Ja(hb+(Db=Ya+Q)*Db));var Db,Ub;return[Jd(Ub=nb-Ya,Db=(nb+Ya)*ka),(0>Sa?-1:1)*Fb(Ja(Db*Db+Ub*Ub)*Aa)]};return B}function za(A,B){return ef(ha,A,B)}function ob(A,B){if(1E-6>$b(B))return[A,0];var I=$b(B/Wc),Q=Ma(I);if(1E-6>$b(A)||1E-6>$b($b(B)-Wc))return[0,
Nd(B)*fc*Hd(Q/2)];var ea=Hb(Q);Q=$b(fc/A-A/fc)/2;var ka=Q*Q;ea/=I+ea-1;I=ea*(2/I-1);var Aa=I*I,Ya=Aa+ka,Sa=ea-Aa,hb=ka+ea;return[Nd(A)*fc*(Q*Sa+Ja(ka*Sa*Sa-Ya*(ea*ea-Aa)))/Ya,Nd(B)*fc*(I*hb-Q*Ja((ka+1)*Ya-hb*hb))/Ya]}function Za(A,B){if(1E-6>$b(B))return[A,0];var I=$b(B/Wc),Q=Ma(I);if(1E-6>$b(A)||1E-6>$b($b(B)-Wc))return[0,Nd(B)*fc*Hd(Q/2)];var ea=Hb(Q);Q=$b(fc/A-A/fc)/2;var ka=Q*Q;I=ea*(Ja(1+ka)-Q*ea)/(1+ka*I*I);return[Nd(A)*fc*I,Nd(B)*fc*Ja(1-I*(2*Q+I))]}function vb(A,B){if(1E-6>$b(B))return[A,
0];var I=B/Wc,Q=Ma(I);if(1E-6>$b(A)||1E-6>$b($b(B)-Wc))return[0,fc*Hd(Q/2)];B=(fc/A-A/fc)/2;I/=1+Hb(Q);return[fc*(Nd(A)*Ja(B*B+1-I*I)-B),fc*I]}function Tb(A,B){if(!B)return[A,0];var I=$b(B);if(!A||I===Wc)return[0,B];var Q=I/Wc;I=Q*Q;var ea=(8*Q-I*(I+2)-5)/(2*I*(Q-1)),ka=ea*ea,Aa=Q*ea,Ya=I+ka+2*Aa;Q+=3*ea;ea=A/Wc;ea+=1/ea;ea=Nd($b(A)-Wc)*Ja(ea*ea-4);var Sa=ea*ea;I=(ea*(Ya+ka-1)+2*Ja(Ya*(I+ka*Sa-1)+(1-I)*(I*(Q*Q+4*ka)+12*Aa*ka+4*ka*ka)))/(4*Ya+Sa);return[Nd(A)*Wc*I,Nd(B)*Wc*Ja(1+ea*$b(I)-I*I)]}function oc(A,
B,I,Q,ea){function ka(Aa,Ya){Ya=I*ec(Q*Ya);var Sa=Ja(1-Ya*Ya),hb=Ja(2/(1+Sa*Hb(Aa*=ea)));return[A*Sa*hb*ec(Aa),B*Ya*hb]}ka.invert=function(Aa,Ya){var Sa=Aa/A,hb=Ya/B;Sa=Ja(Sa*Sa+hb*hb);hb=2*Ma(Sa/2);return[Jd(Aa*Hd(hb),A*Sa)/ea,Sa&&Ma(Ya*ec(hb)/(B*I*Sa))/Q]};return ka}function Yc(A,B,I,Q){var ea=fc/3;A=jf(A,1E-6);B=jf(B,1E-6);A=Je(A,Wc);B=Je(B,fc-1E-6);I=jf(I,0);I=Je(I,99.999999);Q=jf(Q,1E-6);var ka=Q/100;I=Fb((I/100+1)*Hb(ea))/ea;ea=ec(A)/ec(I*Wc);Q=B/fc;B=Ja(ka*ec(A/2)/ec(B/2));A=B/Ja(Q*ea*I);B=
1/(B*Ja(Q*ea*I));return oc(A,B,ea,I,Q)}function pc(){var A=65*Kd,B=60*Kd,I=20,Q=200,ea=q.geoProjectionMutator(Yc),ka=ea(A,B,I,Q);ka.poleline=function(Aa){return arguments.length?ea(A=+Aa*Kd,B,I,Q):A*Od};ka.parallels=function(Aa){return arguments.length?ea(A,B=+Aa*Kd,I,Q):B*Od};ka.inflation=function(Aa){return arguments.length?ea(A,B,I=+Aa,Q):I};ka.ratio=function(Aa){return arguments.length?ea(A,B,I,Q=+Aa):Q};return ka.scale(163.775)}function Fc(A,B){return[A*Ja(1-3*B*B/(fc*fc)),B]}function fd(A,B){var I=
Hb(B),Q=Hb(A)*I,ea=1-Q;B=Hb(A=Jd(ec(A)*I,-ec(B)));A=ec(A);I=Ja(1-Q*Q);return[A*I-B*ea,-B*I-A*ea]}function Dd(A,B){var I=Ea(A,B);return[(I[0]+A/Wc)/2,(I[1]+B)/2]}var $b=Math.abs,Md=Math.atan,Jd=Math.atan2,Hb=Math.cos,ne=Math.exp,le=Math.floor,xe=Math.log,jf=Math.max,Je=Math.min,Ze=Math.pow,Ge=Math.round,Nd=Math.sign||function(A){return 0<A?1:0>A?-1:0},ec=Math.sin,Hd=Math.tan,fc=Math.PI,Wc=fc/2,re=fc/4,Rd=Math.SQRT1_2,Zd=Ja(2),Oc=Ja(fc),Vd=2*fc,Od=180/fc,Kd=fc/180;Ea.invert=function(A,B){if(!(A*A+4*
B*B>fc*fc+1E-6)){var I=A,Q=B,ea=25;do{var ka=ec(I),Aa=ec(I/2),Ya=Hb(I/2),Sa=ec(Q),hb=Hb(Q),nb=ec(2*Q),Db=Sa*Sa,Ub=hb*hb,l=Aa*Aa,v=1-Ub*Ya*Ya,M=v?Fb(hb*Ya)*Ja(U=1/v):U=0,U;v=2*M*hb*Aa-A;var La=M*Sa-B,qb=U*(Ub*l+M*hb*Ya*Db),yb=U*(.5*ka*nb-2*M*Sa*Aa);ka=.25*U*(nb*Aa-M*Sa*Ub*ka);hb=U*(Db*Ya+M*l*hb);Ya=yb*ka-hb*qb;if(!Ya)break;yb=(La*yb-v*hb)/Ya;v=(v*ka-La*qb)/Ya;I-=yb;Q-=v}while((1E-6<$b(yb)||1E-6<$b(v))&&0<--ea);return[I,Q]}};bb.invert=function(A,B){A*=.375;B*=.375;if(!A&&1<$b(B))return null;var I=1+
A*A+B*B,Q=Ja((I-Ja(I*I-4*B*B))/2);I=Ma(Q)/3;Q?(Q=$b(B/Q),Q=xe(Q+Ja(Q*Q-1))/3):(Q=$b(A),Q=xe(Q+Ja(Q*Q+1))/3);var ea=Hb(I),ka=Bb(Q),Aa=ka*ka-ea*ea;return[2*Nd(A)*Jd(db(Q)*ea,.25-Aa),2*Nd(B)*Jd(ka*ec(I),.25+Aa)]};var Pe=Ja(8),td=xe(1+Zd);Ca.invert=function(A,B){if((ea=$b(B))<td)return[A,2*Md(ne(B))-Wc];var I=re,Q=25,ea;do{var ka=Hb(I/2);var Aa=Hd(I/2);I-=ka=(Pe*(I-re)-xe(Aa)-ea)/(Pe-ka*ka/(2*Aa))}while(1E-12<$b(ka)&&0<--Q);return[A/(Hb(I)*(Pe-1/ec(I))),Nd(B)*I]};Ia.invert=function(A,B){B=2*Ma(B/2);return[A*
Hb(B/2)/Hb(B),B]};var vd=ta(Zd/Wc,Zd,fc);Qa.invert=function(A,B){var I=2.00276*B;B=0>B?-re:re;var Q=25;do{var ea=I-Zd*ec(B);B-=ea=(ec(2*B)+2*B-fc*ec(ea))/(2*Hb(2*B)+2+fc*Hb(ea)*Zd*Hb(B))}while(1E-6<$b(ea)&&0<--Q);ea=I-Zd*ec(B);return[A*(1/Hb(ea)+1.11072/Hb(B))/2.00276,ea]};S.invert=function(A,B){return[A/Hb(B),B]};var ie=ta(1,4/fc,fc);E.invert=function(A,B){var I=(I=B/Oc-1)*I;return[0<I?A*Ja(fc/I)/2:0,Ma(1-I)]};var ye=Ja(3);F.invert=function(A,B){B=3*Ma(B/(ye*Oc));return[Oc*A/(ye*(2*Hb(2*B/3)-1)),
B]};P.invert=function(A,B){var I=Ja(8/(3*fc));B/=I;return[A/(I*(1-$b(B)/fc)),B]};N.invert=function(A,B){var I=2-$b(B)/Ja(2*fc/3);return[A*Ja(6*fc)/(2*I),Nd(B)*Ma((4-I*I)/3)]};Y.invert=function(A,B){var I=Ja(fc*(4+fc))/2;return[A*I/(1+Ja(1-B*B*(4+fc)/(4*fc))),B*I/2]};ua.invert=function(A,B){B=B*Ja((4+fc)/fc)/2;var I=Ma(B),Q=Hb(I);return[A/(2/Ja(fc*(4+fc))*(1+Q)),Ma((I+B*(Q+2))/(2+Wc))]};Ga.invert=function(A,B){var I=Ja(2+fc);B=B*I/2;return[I*A/(1+Hb(B)),B]};G.invert=function(A,B){var I=1+Wc,Q=Ja(I/
2);return[2*A*Q/(1+Hb(B*=Q)),Ma((B+ec(B))/I)]};var af=3+2*Zd;ca.invert=function(A,B){if(!(ea=bb.invert(A/1.2,1.065*B)))return null;var I=ea[0];ea=ea[1];var Q=20,ea;A/=af;B/=af;do{var ka=I/2,Aa=ea/2,Ya=ec(ka),Sa=Hb(ka),hb=ec(Aa),nb=Hb(Aa),Db=Hb(ea),Ub=Ja(Db),l=hb/(nb+Zd*Sa*Ub),v=l*l,M=Ja(2/(1+v)),U=(Zd*nb+(Sa+Ya)*Ub)/(Zd*nb+(Sa-Ya)*Ub),La=Ja(U),qb=La-1/La,yb=La+1/La;Aa=M*qb-2*xe(La)-A;ka=M*l*yb-2*Md(l)-B;var Ob=hb&&Rd*Ub*Ya*v/hb,ac=(Zd*Sa*nb+Ub)/(2*(nb+Zd*Sa*Ub)*(nb+Zd*Sa*Ub)*Ub),zc=-.5*l*M*M*M,vc=
zc*Ob;zc*=ac;var ld=(ld=2*nb+Zd*Ub*(Sa-Ya))*ld*La;Sa=(Zd*Sa*nb*Ub+Db)/ld;hb=-(Zd*Ya*hb)/(Ub*ld);Ya=qb*vc-2*Sa/La+M*(Sa+Sa/U);La=qb*zc-2*hb/La+M*(hb+hb/U);Ob=l*yb*vc-2*Ob/(1+v)+M*yb*Ob+M*l*(Sa-Sa/U);v=l*yb*zc-2*ac/(1+v)+M*yb*ac+M*l*(hb-hb/U);l=La*Ob-v*Ya;if(!l)break;v=(ka*La-Aa*v)/l;Aa=(Aa*Ob-ka*Ya)/l;I-=v;ea=jf(-Wc,Je(Wc,ea-Aa))}while((1E-6<$b(v)||1E-6<$b(Aa))&&0<--Q);return 1E-6>$b($b(ea)-Wc)?[0,ea]:Q&&[I,ea]};var tf=Hb(35*Kd);ba.invert=function(A,B){B/=1+tf;return[A&&A/(tf*Ja(1-B*B)),2*Md(B)]};
V.invert=function(A,B){var I=Md(B/Oc);B=Hb(I);I*=2;return[A*Oc/2/(Hb(I)*B*B),I]};var Ff=u(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555),ed=u(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742),ze=u(5/6*fc,-.62636,-.0344,0,1.3493,-.05524,0,.045);x.invert=function(A,B){var I=A,Q=B,ea=50,ka;do{var Aa=Q*Q;Q-=ka=(Q*(1+Aa/12)-B)/(1+Aa/4)}while(1E-6<$b(ka)&&0<--ea);ea=50;A/=1-.162388*Aa;do{var Ya=(Ya=I*I)*Ya;I-=ka=(I*(.87-9.52426E-4*Ya)-A)/(.87-.00476213*Ya)}while(1E-6<$b(ka)&&0<--ea);
return[I,Q]};var Se=u(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);ia.invert=function(A,B){1<$b(A)&&(A=2*Nd(A)-A);1<$b(B)&&(B=2*Nd(B)-B);var I=Nd(A),Q=Nd(B),ea=-I*A,ka=-Q*B;B=1>ka/ea;A=B?ka:ea;var Aa=B?ea:ka,Ya=0,Sa=1;ea=.5;for(var hb=50;;){ka=ea*ea;var nb=Ja(ea),Db=Ma(1/Ja(1+ka)),Ub=1-ka+ea*(1+ka)*Db,l=(1-nb)/Ub,v=Ja(l),M=l*(1+ka),U=v*(1-ka),La=Ja(M-A*A);U=Aa+U+ea*La;if(1E-12>$b(Sa-Ya)||0===--hb||0===U)break;0<U?Ya=ea:Sa=ea;ea=.5*(Ya+Sa)}hb?(Aa=Ma(nb),hb=Hb(Aa),Ya=1/hb,Sa=2*nb*hb,nb=(-Ub*
hb-(1-nb)*(-3*ea+Db*(1+3*ka))*Sa)/(Ub*Ub),ea=[fc/4*(A*(-2*Ya*(.5*nb/v*(1-ka)-2*ea*v*Sa)+-Ya*Sa*La)+-Ya*(ea*(1+ka)*nb+l*(1+3*ka)*Sa)*Ma(A/Ja(M))),Aa]):ea=null;A=ea[0];ea=ea[1];ka=Hb(ea);B&&(A=-Wc-A);return[I*(Jd(ec(A)*ka,-ec(ea))+fc),Q*Ma(Hb(A)*ka)]};fb.invert=function(A,B){var I=(Zd-1)/(Zd+1),Q=Ja(1-I*I);B=.5*$a(Wc,Q*Q)-B;A=-A;Q*=Q;if(B)if(B=Wa(B,Q),A){A=Wa(A,1-Q);var ea=A[1]*A[1]+Q*B[0]*B[0]*A[0]*A[0];B=[[B[0]*A[2]/ea,B[1]*B[2]*A[0]*A[1]/ea],[B[1]*A[1]/ea,-B[0]*B[2]*A[0]*A[2]/ea],[B[2]*A[1]*A[2]/
ea,-Q*B[0]*B[1]*A[0]/ea]]}else B=[[B[0],0],[B[1],0],[B[2],0]];else A=Wa(A,1-Q),B=[[0,A[0]/A[1]],[1/A[1],0],[A[2]/A[1],0]];Q=B[0];B=B[1];A=B[0]*B[0]+B[1]*B[1];Q=[(Q[0]*B[0]+Q[1]*B[1])/A,(Q[1]*B[0]-Q[0]*B[1])/A];return[Jd(Q[1],Q[0])/-1,2*Md(ne(-.5*xe(I*Q[0]*Q[0]+I*Q[1]*Q[1])))-Wc]};var Te=Ma(1-1/3)*Od,of=Z(0);Uc.invert=function(A,B){return-.7109889596207567<B?vd.invert(A,B-.0528035274542):S.invert(A,B)};yc.invert=function(A,B){return.7109889596207567<$b(B)?vd.invert(A,B+(0<B?.0528035274542:-.0528035274542)):
S.invert(A,B)};var pf=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],bf=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],De=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,
0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],z=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]],O=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]],Ka=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];gb.invert=function(A,
B){return[Vd/3*A/Ja(fc*fc/3-B*B),B]};var ub=fc/Zd;Eb.invert=function(A,B){var I=$b(A),Q=$b(B),ea=1E-6,ka=Wc;Q<ub?ka*=Q/ub:ea+=6*Fb(ub/Q);for(var Aa=0;25>Aa;Aa++){var Ya=ec(ka),Sa=Ja(Hb(ka)),hb=ec(ka/2),nb=Hb(ka/2),Db=ec(ea/6),Ub=Hb(ea/6),l=.5*ea*(1+Sa)-I,v=ka/(nb*Ub)-Q;Ya=Sa?-.25*ea*Ya/Sa:0;Sa=.5*(1+Sa);hb=(1+.5*ka*hb/nb)/(nb*Ub);Db=ka/nb*(Db/6)/(Ub*Ub);nb=Ya*Db-hb*Sa;Db=(l*Db-v*Sa)/nb;l=(v*Ya-l*hb)/nb;ka-=Db;ea-=l;if(1E-6>$b(Db)&&1E-6>$b(l))break}return[0>A?-ea:ea,0>B?-ka:ka]};Nc.invert=function(A,
B){var I=Nd(A)*fc,Q=B/2,ea=50;do{var ka=I*I,Aa=Q*Q,Ya=I*Q,Sa=I*(.975534+Aa*(-.119161+-.0143059*ka+-.0547009*Aa))-A,hb=Q*(1.00384+ka*(.0802894+-.02855*Aa+1.99025E-4*ka)+Aa*(.0998909+-.0491032*Aa))-B,nb=.975534-Aa*(.119161+.0429177*ka+.0547009*Aa),Db=-Ya*(.238322+.2188036*Aa+.0286118*ka);Ya*=.1605788+7.961E-4*ka+-.0571*Aa;Aa=1.00384+ka*(.0802894+1.99025E-4*ka)+Aa*(3*(.0998909-.02855*ka)-.245516*Aa);ka=Db*Ya-Aa*nb;Db=(hb*Db-Sa*Aa)/ka;Sa=(Sa*Ya-hb*nb)/ka;I-=Db;Q-=Sa}while((1E-6<$b(Db)||1E-6<$b(Sa))&&
0<--ea);return ea&&[I,Q]};dd.invert=function(A,B){var I=A*A,Q=B*B+1,ea=I+Q;I=A?Rd*Ja((ea-Ja(ea*ea-4*I))/I):1/Ja(Q);return[Ma(A*I),Nd(B)*Fb(I)]};Tc.invert=function(A,B){return[A,2.5*Md(ne(.8*B))-.625*fc]};var wb=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Lb=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],Wb=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],
[7.388E-4,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],Jc=[[.9245,0],[0,0],[.01943,0]],Ac=[[.721316,0],[0,0],[-.00881625,-.00617325]],Xc=Ja(6),od=Ja(7);Jb.invert=function(A,B){B=3*Ma(B*od/9);return[A*od/(Xc*(2*Hb(2*B/3)-1)),Ma(3*ec(B)*Xc/7)]};Gc.invert=function(A,B){B=B*Ja(2+Zd)/(2*Ja(3));var I=2*Ma(B);return[3*Zd*A/(1+2*Hb(I)/Hb(I/2)),Ma((B+ec(I))/(1+Rd))]};ke.invert=function(A,B){var I=Ja(6/(4+fc));B/=I;1E-6>$b($b(B)-Wc)&&(B=0>B?-Wc:Wc);return[1.5*A/(I*(.5+Hb(B))),
Ma((B/2+ec(B))/(1+fc/4))]};ge.invert=function(A,B){var I=B,Q=25;do{var ea=I*I;var ka=ea*ea;I-=ea=(I*(1.01183+ka*ka*(-.02625+.01926*ea-.00396*ka))-B)/(1.01183+ka*ka*(-.23625+.21186*ea+-.05148*ka))}while(1E-12<$b(ea)&&0<--Q);ea=I*I;ka=ea*ea;B=ea*ka;return[A/(.84719-.13063*ea+B*B*(-.04515+.05494*ea-.02326*ka+.00331*B)),I]};Ke.invert=function(A,B){for(var I=B/2,Q=0,ea=Infinity;10>Q&&1E-6<$b(ea);++Q)ea=Hb(B/2),B-=ea=(B-Hd(B/2)-I)/(1-.5/(ea*ea));return[2*A/(1+Hb(B)),B]};var Bd=[[[[-180,0],[-90,90],[0,0]],
[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];Ye.invert=function(A,B){A/=Wc;B/=Wc;var I=A*A,Q=I+B*B,ea=fc*fc;return[A?(Q-1+Ja((1-Q)*(1-Q)+4*I))/(2*A)*Wc:0,Ua(function(ka){return Q*(fc*ec(ka)-2*ka)*fc+4*ka*ka*(B-ec(ka))+2*fc*ka-ea*B},0)]};var $d=5*.23185;J.invert=function(A,B){1.790857183<B?B=1.790857183:-1.790857183>B&&(B=-1.790857183);var I=B;do{var Q=I*I;I-=Q=(I*(1.0148+Q*Q*(.23185+Q*(-.14499+.02406*Q)))-B)/(1.0148+Q*Q*($d+Q*(-1.01493+.21654*Q)))}while(1E-6<$b(Q));
return[A,I]};ja.invert=function(A,B){if(1E-6>$b(B))return[A,0];var I=A*A+B*B,Q=.5*B,ea=10;do{var ka=Hd(Q);var Aa=1/Hb(Q),Ya=I-2*B*Q+Q*Q;Q-=ka=(ka*Ya+2*(Q-B))/(2+Ya*Aa*Aa+2*(Q-B)*ka)}while(1E-6<$b(ka)&&0<--ea);ka=Hd(Q);return[($b(B)<$b(Q+1/ka)?Ma(A*ka):Nd(B)*Nd(A)*(Fb($b(A*ka))+Wc))/ec(Q),Q]};var pd=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Le=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(A){return A.map(function(B){return pd[B]})}),Cd=2/Ja(3);Mb.invert=function(A,
B){return E.invert(A/Cd,B)};var se=()=>{},ee=[],pe=[],xf={point:function(A,B){ee.push([A,B])},result:function(){var A=ee.length?2>ee.length?{type:"Point",coordinates:ee[0]}:{type:"MultiPoint",coordinates:ee}:null;ee=[];return A}},ae={lineStart:se,point:function(A,B){ee.push([A,B])},lineEnd:function(){ee.length&&(pe.push(ee),ee=[])},result:function(){var A=pe.length?2>pe.length?{type:"LineString",coordinates:pe[0]}:{type:"MultiLineString",coordinates:pe}:null;pe=[];return A}},gf={polygonStart:se,lineStart:se,
point:function(A,B){ee.push([A,B])},lineEnd:function(){var A=ee.length;if(A){do ee.push(ee[0].slice());while(4>++A);pe.push(ee);ee=[]}},polygonEnd:se,result:function(){if(!pe.length)return null;var A=[],B=[];pe.forEach(function(I){if(4>(ea=I.length))var Q=!1;else{Q=0;for(var ea,ka=I[ea-1][1]*I[0][0]-I[ea-1][0]*I[0][1];++Q<ea;)ka+=I[Q-1][1]*I[Q][0]-I[Q-1][0]*I[Q][1];Q=0>=ka}Q?A.push([I]):B.push(I)});B.forEach(function(I){var Q=I[0];A.some(function(ea){for(var ka=ea[0],Aa=Q[0],Ya=Q[1],Sa=!1,hb=0,nb=
ka.length,Db=nb-1;hb<nb;Db=hb++){var Ub=ka[hb],l=Ub[0];Ub=Ub[1];var v=ka[Db];Db=v[0];v=v[1];Ub>Ya^v>Ya&&Aa<(Db-l)*(Ya-Ub)/(v-Ub)+l&&(Sa=!Sa)}if(Sa)return ea.push(I),!0})||A.push([I])});pe=[];return A.length?1<A.length?{type:"MultiPolygon",coordinates:A}:{type:"Polygon",coordinates:A[0]}:null}},lf=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],
[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];lf.forEach(function(A){A[1]*=1.0144});id.invert=function(A,B){var I=B/Wc,Q=90*I,ea=Je(18,$b(Q/5)),ka=jf(0,le(ea));do{var Aa=lf[ka][1],Ya=lf[ka+1][1],Sa=lf[Je(19,ka+2)][1],hb=Sa-Aa;Aa=Sa-2*Ya+Aa;Ya=2*($b(I)-Ya)/hb;hb=Aa/hb;hb=Ya*(1-hb*Ya*(1-2*hb*Ya));if(0<=hb||1===ka){Q=(0<=B?5:-5)*(hb+ea);I=50;do ea=Je(18,$b(Q)/5),ka=le(ea),hb=ea-ka,Aa=lf[ka][1],Ya=lf[ka+1][1],Sa=lf[Je(19,ka+2)][1],Q-=(ea=(0<=B?Wc:-Wc)*(Ya+hb*(Sa-Aa)/2+hb*hb*(Sa-2*Ya+Aa)/2)-B)*
Od;while(1E-12<$b(ea)&&0<--I);break}}while(0<=--ka);B=lf[ka][0];ea=lf[ka+1][0];ka=lf[Je(19,ka+2)][0];return[A/(ea+hb*(ka-B)/2+hb*hb*(ka-2*ea+B)/2),Q*Kd]};Ld.invert=function(A,B){B/=1.70711;var I=ec(re*B);return[A/(.74482-.34588*I*I),2*Md(B)]};ob.invert=function(A,B){if(1E-6>$b(B))return[A,0];if(1E-6>$b(A))return[0,Wc*ec(2*Md(B/fc))];var I=(A/=fc)*A,Q=(B/=fc)*B,ea=I+Q,ka=ea*ea,Aa=-$b(B)*(1+ea),Ya=Aa-2*Q+I,Sa=-2*Aa+1+2*Q+ka,hb=Q/Sa+(2*Ya*Ya*Ya/(Sa*Sa*Sa)-9*Aa*Ya/(Sa*Sa))/27,nb=(Aa-Ya*Ya/(3*Sa))/Sa;
Aa=2*Ja(-nb/3);hb=Fb(3*hb/(nb*Aa))/3;return[fc*(ea-1+Ja(1+2*(I-Q)+ka))/(2*A),Nd(B)*fc*(-Aa*Hb(hb+fc/3)-Ya/(3*Sa))]};Za.invert=function(A,B){if(!A)return[0,Wc*ec(2*Md(B/fc))];var I=$b(A/fc),Q=(1-I*I-(B/=fc)*B)/(2*I),ea=Ja(Q*Q+1);return[Nd(A)*fc*(ea-Q),Nd(B)*Wc*ec(2*Jd(Ja((1-2*Q*I)*(Q+ea)-I),Ja(ea+Q+I)))]};vb.invert=function(A,B){if(!B)return[A,0];B/=fc;var I=(fc*fc*(1-B*B)-A*A)/(2*fc*A);return[A?fc*(Nd(A)*Ja(I*I+1)-I):0,Wc*ec(2*Md(B))]};Tb.invert=function(A,B){if(!A||!B)return[A,B];var I=Nd(B);B=$b(B)/
fc;var Q=Nd(A)*A/Wc,ea=(Q*Q-1+4*B*B)/$b(Q),ka=ea*ea,Aa=B*(2-(.5<B?Je(B,$b(A)):0));B=A*A+B*B;var Ya=50;do{var Sa=Aa*Aa;var hb=(8*Aa-Sa*(Sa+2)-5)/(2*Sa*(Aa-1));var nb=(3*Aa-Sa*Aa-10)/(2*Sa*Aa),Db=hb*hb,Ub=Aa*hb,l=Aa+hb,v=l*l,M=Aa+3*hb,U=-2*l*(4*Ub*Db+(1-4*Sa+3*Sa*Sa)*(1+nb)+Db*(-6+14*Sa-ka+(-8+8*Sa-2*ka)*nb)+Ub*(-8+12*Sa+(-10+10*Sa-ka)*nb));Sa=Ja(v*(Sa+Db*ka-1)+(1-Sa)*(Sa*(M*M+4*Db)+Db*(12*Ub+4*Db)));Aa-=hb=(ea*(v+Db-1)+2*Sa-Q*(4*v+ka))/(ea*(2*hb*nb+2*l*(1+nb))+U/Sa-8*l*(ea*(-1+Db+v)+2*Sa)*(1+nb)/(ka+
4*v))}while(1E-6<hb*B*B&&0<--Ya);return[Nd(A)*(Ja(ea*ea+4)+ea)*fc/4,I*Wc*Aa]};var bg=4*fc+3*Ja(3),Af=2*Ja(2*fc*Ja(3)/bg),Xf=ta(Af*Ja(3)/fc,Af,bg/6);Fc.invert=function(A,B){return[A/Ja(1-3*B*B/(fc*fc)),B]};fd.invert=function(A,B){var I=(A*A+B*B)/-2,Q=Ja(-I*(2+I)),ea=B*I+A*Q;A=A*I-B*Q;B=Ja(A*A+ea*ea);return[Jd(Q*ea,B*(1+I)),B?-Ma(Q*A/B):0]};Dd.invert=function(A,B){var I=A,Q=B,ea=25;do{var ka=Hb(Q),Aa=ec(Q),Ya=ec(2*Q),Sa=Aa*Aa,hb=ka*ka,nb=ec(I),Db=Hb(I/2),Ub=ec(I/2),l=Ub*Ub,v=1-hb*Db*Db,M=v?Fb(ka*Db)*
Ja(U=1/v):U=0,U;v=.5*(2*M*ka*Ub+I/Wc)-A;var La=.5*(M*Aa+Q)-B,qb=.5*U*(hb*l+M*ka*Db*Sa)+.5/Wc,yb=U*(nb*Ya/4-M*Aa*Ub);Aa=.125*U*(Ya*Ub-M*Aa*hb*nb);Sa=.5*U*(Sa*Db+M*l*ka)+.5;ka=yb*Aa-Sa*qb;yb=(La*yb-v*Sa)/ka;v=(v*Aa-La*qb)/ka;I-=yb;Q-=v}while((1E-6<$b(yb)||1E-6<$b(v))&&0<--ea);return[I,Q]};k.geoAiry=function(){var A=Wc,B=q.geoProjectionMutator(jb),I=B(A);I.radius=function(Q){return arguments.length?B(A=Q*Kd):A*Od};return I.scale(179.976).clipAngle(147)};k.geoAiryRaw=jb;k.geoAitoff=function(){return q.geoProjection(Ea).scale(152.63)};
k.geoAitoffRaw=Ea;k.geoArmadillo=function(){var A=20*Kd,B=0<=A?1:-1,I=Hd(B*A),Q=q.geoProjectionMutator(ab),ea=Q(A),ka=ea.stream;ea.parallel=function(Aa){if(!arguments.length)return A*Od;I=Hd((B=0<=(A=Aa*Kd)?1:-1)*A);return Q(A)};ea.stream=function(Aa){var Ya=ea.rotate(),Sa=ka(Aa),hb=(ea.rotate([0,0]),ka(Aa)),nb=ea.precision();ea.rotate(Ya);Sa.sphere=function(){hb.polygonStart();hb.lineStart();for(var Db=-180*B;180>B*Db;Db+=90*B)hb.point(Db,90*B);if(A)for(;-180<=B*(Db-=3*B*nb);)hb.point(Db,B*-Jd(Hb(Db*
Kd/2),I)*Od);hb.lineEnd();hb.polygonEnd()};return Sa};return ea.scale(218.695).center([0,28.0974])};k.geoArmadilloRaw=ab;k.geoAugust=function(){return q.geoProjection(bb).scale(66.1603)};k.geoAugustRaw=bb;k.geoBaker=function(){return q.geoProjection(Ca).scale(112.314)};k.geoBakerRaw=Ca;k.geoBerghaus=function(){var A=5,B=q.geoProjectionMutator(ma),I=B(A),Q=I.stream,ea=-Hb(.01*Kd),ka=ec(.01*Kd);I.lobes=function(Aa){return arguments.length?B(A=+Aa):A};I.stream=function(Aa){var Ya=I.rotate(),Sa=Q(Aa),
hb=(I.rotate([0,0]),Q(Aa));I.rotate(Ya);Sa.sphere=function(){hb.polygonStart();hb.lineStart();for(var nb=0,Db=360/A,Ub=2*fc/A,l=90-180/A,v=Wc;nb<A;++nb,l-=Db,v-=Ub)hb.point(Jd(ka*Hb(v),ea)*Od,Ma(ka*ec(v))*Od),-90>l?(hb.point(-90,-180-l-.01),hb.point(-90,-180-l+.01)):(hb.point(90,l+.01),hb.point(90,l-.01));hb.lineEnd();hb.polygonEnd()};return Sa};return I.scale(87.8076).center([0,17.1875]).clipAngle(179.999)};k.geoBerghausRaw=ma;k.geoBertin1953=function(){return q.geoProjection(qa()).rotate([-16.5,
-42]).scale(176.57).center([7.93,.09])};k.geoBertin1953Raw=qa;k.geoBoggs=function(){return q.geoProjection(Qa).scale(160.857)};k.geoBoggsRaw=Qa;k.geoBonne=function(){return va(la).scale(123.082).center([0,26.1441]).parallel(45)};k.geoBonneRaw=la;k.geoBottomley=function(){var A=.5,B=q.geoProjectionMutator(wa),I=B(A);I.fraction=function(Q){return arguments.length?B(A=+Q):A};return I.scale(158.837)};k.geoBottomleyRaw=wa;k.geoBromley=function(){return q.geoProjection(ie).scale(152.63)};k.geoBromleyRaw=
ie;k.geoChamberlin=Fa;k.geoChamberlinRaw=Ha;k.geoChamberlinAfrica=function(){return Fa([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])};k.geoCollignon=function(){return q.geoProjection(E).scale(95.6464).center([0,30])};k.geoCollignonRaw=E;k.geoCraig=function(){return va(w).scale(249.828).clipAngle(90)};k.geoCraigRaw=w;k.geoCraster=function(){return q.geoProjection(F).scale(156.19)};k.geoCrasterRaw=F;k.geoCylindricalEqualArea=function(){return va(Z).parallel(38.58).scale(195.044)};k.geoCylindricalEqualAreaRaw=
Z;k.geoCylindricalStereographic=function(){return va(D).scale(124.75)};k.geoCylindricalStereographicRaw=D;k.geoEckert1=function(){return q.geoProjection(P).scale(165.664)};k.geoEckert1Raw=P;k.geoEckert2=function(){return q.geoProjection(N).scale(165.664)};k.geoEckert2Raw=N;k.geoEckert3=function(){return q.geoProjection(Y).scale(180.739)};k.geoEckert3Raw=Y;k.geoEckert4=function(){return q.geoProjection(ua).scale(180.739)};k.geoEckert4Raw=ua;k.geoEckert5=function(){return q.geoProjection(Ga).scale(173.044)};
k.geoEckert5Raw=Ga;k.geoEckert6=function(){return q.geoProjection(G).scale(173.044)};k.geoEckert6Raw=G;k.geoEisenlohr=function(){return q.geoProjection(ca).scale(62.5271)};k.geoEisenlohrRaw=ca;k.geoFahey=function(){return q.geoProjection(ba).scale(137.152)};k.geoFaheyRaw=ba;k.geoFoucaut=function(){return q.geoProjection(V).scale(135.264)};k.geoFoucautRaw=V;k.geoFoucautSinusoidal=function(){var A=.5,B=q.geoProjectionMutator(H),I=B(A);I.alpha=function(Q){return arguments.length?B(A=+Q):A};return I.scale(168.725)};
k.geoFoucautSinusoidalRaw=H;k.geoGilbert=function(A){function B(ka){return Q([ka[0]/2,Ma(Hd(ka[1]/2*Kd))*Od])}function I(ka){B[ka]=function(){return arguments.length?(Q[ka].apply(Q,arguments),B):Q[ka]()}}null==A&&(A=q.geoOrthographic);var Q=A(),ea=q.geoEquirectangular().scale(Od).precision(0).clipAngle(null).translate([0,0]);Q.invert&&(B.invert=function(ka){return p(Q.invert(ka))});B.stream=function(ka){var Aa=Q.stream(ka);ka=ea.stream({point:function(Ya,Sa){Aa.point(Ya/2,Ma(Hd(-Sa/2*Kd))*Od)},lineStart:function(){Aa.lineStart()},
lineEnd:function(){Aa.lineEnd()},polygonStart:function(){Aa.polygonStart()},polygonEnd:function(){Aa.polygonEnd()}});ka.sphere=Aa.sphere;return ka};B.rotate=function(ka){return arguments.length?(ea.rotate(ka),B):ea.rotate()};B.center=function(ka){return arguments.length?(Q.center([ka[0]/2,Ma(Hd(ka[1]/2*Kd))*Od]),B):p(Q.center())};I("angle");I("clipAngle");I("clipExtent");I("fitExtent");I("fitHeight");I("fitSize");I("fitWidth");I("scale");I("translate");I("precision");return B.scale(249.5)};k.geoGingery=
function(){var A=6,B=30*Kd,I=Hb(B),Q=ec(B),ea=q.geoProjectionMutator(h),ka=ea(B,A),Aa=ka.stream,Ya=-Hb(.01*Kd),Sa=ec(.01*Kd);ka.radius=function(hb){if(!arguments.length)return B*Od;I=Hb(B=hb*Kd);Q=ec(B);return ea(B,A)};ka.lobes=function(hb){return arguments.length?ea(B,A=+hb):A};ka.stream=function(hb){var nb=ka.rotate(),Db=Aa(hb),Ub=(ka.rotate([0,0]),Aa(hb));ka.rotate(nb);Db.sphere=function(){Ub.polygonStart();Ub.lineStart();for(var l=0,v=2*fc/A,M=0;l<A;++l,M-=v)Ub.point(Jd(Sa*Hb(M),Ya)*Od,Ma(Sa*
ec(M))*Od),Ub.point(Jd(Q*Hb(M-v/2),I)*Od,Ma(Q*ec(M-v/2))*Od);Ub.lineEnd();Ub.polygonEnd()};return Db};return ka.rotate([90,-40]).scale(91.7095).clipAngle(179.999)};k.geoGingeryRaw=h;k.geoGinzburg4=function(){return q.geoProjection(Ff).scale(149.995)};k.geoGinzburg4Raw=Ff;k.geoGinzburg5=function(){return q.geoProjection(ed).scale(153.93)};k.geoGinzburg5Raw=ed;k.geoGinzburg6=function(){return q.geoProjection(ze).scale(130.945)};k.geoGinzburg6Raw=ze;k.geoGinzburg8=function(){return q.geoProjection(x).scale(131.747)};
k.geoGinzburg8Raw=x;k.geoGinzburg9=function(){return q.geoProjection(Se).scale(131.087)};k.geoGinzburg9Raw=Se;k.geoGringorten=function(){return q.geoProjection(L(ia)).scale(239.75)};k.geoGringortenRaw=ia;k.geoGuyou=function(){return q.geoProjection(L(fb)).scale(151.496)};k.geoGuyouRaw=fb;k.geoHammer=function(){var A=2,B=q.geoProjectionMutator(oa),I=B(A);I.coefficient=function(Q){return arguments.length?B(A=+Q):A};return I.scale(169.529)};k.geoHammerRaw=oa;k.geoHammerRetroazimuthal=function(){var A=
0,B=q.geoProjectionMutator(Ba),I=B(A),Q=I.rotate,ea=I.stream,ka=q.geoCircle();I.parallel=function(Aa){if(!arguments.length)return A*Od;var Ya=I.rotate();return B(A=Aa*Kd).rotate(Ya)};I.rotate=function(Aa){if(!arguments.length)return Aa=Q.call(I),Aa[1]+=A*Od,Aa;Q.call(I,[Aa[0],Aa[1]-A*Od]);ka.center([-Aa[0],-Aa[1]]);return I};I.stream=function(Aa){Aa=ea(Aa);Aa.sphere=function(){Aa.polygonStart();var Ya=ka.radius(89.99)().coordinates[0],Sa=Ya.length-1,hb=-1,nb;for(Aa.lineStart();++hb<Sa;)Aa.point((nb=
Ya[hb])[0],nb[1]);Aa.lineEnd();Ya=ka.radius(90.01)().coordinates[0];for(Aa.lineStart();0<=--hb;)Aa.point((nb=Ya[hb])[0],nb[1]);Aa.lineEnd();Aa.polygonEnd()};return Aa};return I.scale(79.4187).parallel(45).clipAngle(179.999)};k.geoHammerRetroazimuthalRaw=Ba;k.geoHealpix=function(){var A=4,B=q.geoProjectionMutator(da),I=B(A),Q=I.stream;I.lobes=function(ea){return arguments.length?B(A=+ea):A};I.stream=function(ea){var ka=I.rotate(),Aa=Q(ea),Ya=(I.rotate([0,0]),Q(ea));I.rotate(ka);Aa.sphere=function(){q.geoStream(Pb(180/
A),Ya)};return Aa};return I.scale(239.75)};k.geoHealpixRaw=da;k.geoHill=function(){var A=1,B=q.geoProjectionMutator(bc),I=B(A);I.ratio=function(Q){return arguments.length?B(A=+Q):A};return I.scale(167.774).center([0,18.67])};k.geoHillRaw=bc;k.geoHomolosine=function(){return q.geoProjection(yc).scale(152.63)};k.geoHomolosineRaw=yc;k.geoHufnagel=function(){var A=1,B=0,I=45*Kd,Q=2,ea=q.geoProjectionMutator(Vc),ka=ea(A,B,I,Q);ka.a=function(Aa){return arguments.length?ea(A=+Aa,B,I,Q):A};ka.b=function(Aa){return arguments.length?
ea(A,B=+Aa,I,Q):B};ka.psiMax=function(Aa){return arguments.length?ea(A,B,I=+Aa*Kd,Q):I*Od};ka.ratio=function(Aa){return arguments.length?ea(A,B,I,Q=+Aa):Q};return ka.scale(180.739)};k.geoHufnagelRaw=Vc;k.geoHyperelliptical=function(){var A=0,B=2.5,I=1.183136,Q=q.geoProjectionMutator(Sb),ea=Q(A,B,I);ea.alpha=function(ka){return arguments.length?Q(A=+ka,B,I):A};ea.k=function(ka){return arguments.length?Q(A,B=+ka,I):B};ea.gamma=function(ka){return arguments.length?Q(A,B,I=+ka):I};return ea.scale(152.63)};
k.geoHyperellipticalRaw=Sb;k.geoInterrupt=cc;k.geoInterruptedBoggs=function(){return cc(Qa,pf).scale(160.857)};k.geoInterruptedHomolosine=function(){return cc(yc,bf).scale(152.63)};k.geoInterruptedMollweide=function(){return cc(vd,De).scale(169.529)};k.geoInterruptedMollweideHemispheres=function(){return cc(vd,z).scale(169.529).rotate([20,0])};k.geoInterruptedSinuMollweide=function(){return cc(Uc,O,na).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};k.geoInterruptedSinusoidal=function(){return cc(S,
Ka).scale(152.63).rotate([-20,0])};k.geoKavrayskiy7=function(){return q.geoProjection(gb).scale(158.837)};k.geoKavrayskiy7Raw=gb;k.geoLagrange=function(){var A=.5,B=q.geoProjectionMutator(Kb),I=B(A);I.spacing=function(Q){return arguments.length?B(A=+Q):A};return I.scale(124.75)};k.geoLagrangeRaw=Kb;k.geoLarrivee=function(){return q.geoProjection(Eb).scale(97.2672)};k.geoLarriveeRaw=Eb;k.geoLaskowski=function(){return q.geoProjection(Nc).scale(139.98)};k.geoLaskowskiRaw=Nc;k.geoLittrow=function(){return q.geoProjection(dd).scale(144.049).clipAngle(89.999)};
k.geoLittrowRaw=dd;k.geoLoximuthal=function(){return va(Ic).parallel(40).scale(158.837)};k.geoLoximuthalRaw=Ic;k.geoMiller=function(){return q.geoProjection(Tc).scale(108.318)};k.geoMillerRaw=Tc;k.geoModifiedStereographic=tb;k.geoModifiedStereographicRaw=xd;k.geoModifiedStereographicAlaska=function(){return tb(wb,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)};k.geoModifiedStereographicGs48=function(){return tb(Lb,[95,-38]).scale(1E3).clipAngle(55).center([-96.5563,38.8675])};
k.geoModifiedStereographicGs50=function(){return tb(Wb,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])};k.geoModifiedStereographicMiller=function(){return tb(Jc,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)};k.geoModifiedStereographicLee=function(){return tb(Ac,[165,10]).scale(250).clipAngle(130).center([-165,-10])};k.geoMollweide=function(){return q.geoProjection(vd).scale(169.529)};k.geoMollweideRaw=vd;k.geoMtFlatPolarParabolic=function(){return q.geoProjection(Jb).scale(164.859)};
k.geoMtFlatPolarParabolicRaw=Jb;k.geoMtFlatPolarQuartic=function(){return q.geoProjection(Gc).scale(188.209)};k.geoMtFlatPolarQuarticRaw=Gc;k.geoMtFlatPolarSinusoidal=function(){return q.geoProjection(ke).scale(166.518)};k.geoMtFlatPolarSinusoidalRaw=ke;k.geoNaturalEarth2=function(){return q.geoProjection(ge).scale(175.295)};k.geoNaturalEarth2Raw=ge;k.geoNellHammer=function(){return q.geoProjection(Ke).scale(152.63)};k.geoNellHammerRaw=Ke;k.geoInterruptedQuarticAuthalic=function(){return cc(oa(Infinity),
Bd).rotate([20,0]).scale(152.63)};k.geoNicolosi=function(){return q.geoProjection(Ye).scale(127.267)};k.geoNicolosiRaw=Ye;k.geoPatterson=function(){return q.geoProjection(J).scale(139.319)};k.geoPattersonRaw=J;k.geoPolyconic=function(){return q.geoProjection(ja).scale(103.74)};k.geoPolyconicRaw=ja;k.geoPolyhedral=lb;k.geoPolyhedralButterfly=function(A){A=A||function(I){I=q.geoCentroid({type:"MultiPoint",coordinates:I});return q.geoGnomonic().scale(1).translate([0,0]).rotate([-I[0],-I[1]])};var B=
Le.map(function(I){return{face:I,project:A(I)}});[-1,0,0,1,0,1,4,5].forEach(function(I,Q){(I=B[I])&&(I.children||(I.children=[])).push(B[Q])});return lb(B[0],function(I,Q){return B[I<-fc/2?0>Q?6:4:0>I?0>Q?2:0:I<fc/2?0>Q?3:1:0>Q?7:5]}).angle(-30).scale(101.858).center([0,45])};k.geoPolyhedralCollignon=function(A){A=A||function(I){I=q.geoCentroid({type:"MultiPoint",coordinates:I});return q.geoProjection(Mb).translate([0,0]).scale(1).rotate(0<I[1]?[-I[0],0]:[180-I[0],180])};var B=Le.map(function(I){return{face:I,
project:A(I)}});[-1,0,0,1,0,1,4,5].forEach(function(I,Q){(I=B[I])&&(I.children||(I.children=[])).push(B[Q])});return lb(B[0],function(I,Q){return B[I<-fc/2?0>Q?6:4:0>I?0>Q?2:0:I<fc/2?0>Q?3:1:0>Q?7:5]}).angle(-30).scale(121.906).center([0,48.5904])};k.geoPolyhedralWaterman=function(A){A=A||function(ka){ka=6===ka.length?q.geoCentroid({type:"MultiPoint",coordinates:ka}):ka[0];return q.geoGnomonic().scale(1).translate([0,0]).rotate([-ka[0],-ka[1]])};var B=Le.map(function(ka){ka=ka.map(sb);for(var Aa=
ka.length,Ya=ka[Aa-1],Sa,hb=[],nb=0;nb<Aa;++nb)Sa=ka[nb],hb.push(sc([.9486832980505138*Ya[0]+.31622776601683794*Sa[0],.9486832980505138*Ya[1]+.31622776601683794*Sa[1],.9486832980505138*Ya[2]+.31622776601683794*Sa[2]]),sc([.9486832980505138*Sa[0]+.31622776601683794*Ya[0],.9486832980505138*Sa[1]+.31622776601683794*Ya[1],.9486832980505138*Sa[2]+.31622776601683794*Ya[2]])),Ya=Sa;return hb}),I=[],Q=[-1,0,0,1,0,1,4,5];B.forEach(function(ka,Aa){for(var Ya=Le[Aa],Sa=Ya.length,hb=I[Aa]=[],nb=0;nb<Sa;++nb)B.push([Ya[nb],
ka[(2*nb+2)%(2*Sa)],ka[(2*nb+1)%(2*Sa)]]),Q.push(Aa),hb.push(hc(sb(ka[(2*nb+2)%(2*Sa)]),sb(ka[(2*nb+1)%(2*Sa)])))});var ea=B.map(function(ka){return{project:A(ka),face:ka}});Q.forEach(function(ka,Aa){(ka=ea[ka])&&(ka.children||(ka.children=[])).push(ea[Aa])});return lb(ea[0],function(ka,Aa){var Ya=Hb(Aa);Ya=[Ya*Hb(ka),Ya*ec(ka),ec(Aa)];ka=ka<-fc/2?0>Aa?6:4:0>ka?0>Aa?2:0:ka<fc/2?0>Aa?3:1:0>Aa?7:5;Aa=I[ka];return ea[0>dc(Aa[0],Ya)?8+3*ka:0>dc(Aa[1],Ya)?3*ka+9:0>dc(Aa[2],Ya)?3*ka+10:ka]}).angle(-30).scale(110.625).center([0,
45])};k.geoProject=function(A,B){B=B.stream;if(!B)throw Error("invalid projection");switch(A&&A.type){case "Feature":var I=ic;break;case "FeatureCollection":I=gc;break;default:I=lc}return I(A,B)};k.geoGringortenQuincuncial=function(){return Ec(ia).scale(176.423)};k.geoPeirceQuincuncial=function(){return Ec(fb).scale(111.48)};k.geoQuantize=function(A,B){function I(Sa){var hb=Sa.length,nb=2,Db=Array(hb);Db[0]=+Sa[0].toFixed(B);for(Db[1]=+Sa[1].toFixed(B);nb<hb;)Db[nb]=Sa[nb],++nb;return Db}function Q(Sa){for(var hb=
I(Sa[0]),nb=[hb],Db=1;Db<Sa.length;Db++){var Ub=I(Sa[Db]);if(2<Ub.length||Ub[0]!=hb[0]||Ub[1]!=hb[1])nb.push(Ub),hb=Ub}1===nb.length&&1<Sa.length&&nb.push(I(Sa[Sa.length-1]));return nb}function ea(Sa){return Sa.map(Q)}function ka(Sa){if(null==Sa)return Sa;switch(Sa.type){case "GeometryCollection":var hb={type:"GeometryCollection",geometries:Sa.geometries.map(ka)};break;case "Point":hb={type:"Point",coordinates:I(Sa.coordinates)};break;case "MultiPoint":hb={type:Sa.type,coordinates:Sa.coordinates.map(I)};
break;case "LineString":hb={type:Sa.type,coordinates:Q(Sa.coordinates)};break;case "MultiLineString":case "Polygon":hb={type:Sa.type,coordinates:ea(Sa.coordinates)};break;case "MultiPolygon":hb={type:"MultiPolygon",coordinates:Sa.coordinates.map(ea)};break;default:return Sa}null!=Sa.bbox&&(hb.bbox=Sa.bbox);return hb}function Aa(Sa){var hb={type:"Feature",properties:Sa.properties,geometry:ka(Sa.geometry)};null!=Sa.id&&(hb.id=Sa.id);null!=Sa.bbox&&(hb.bbox=Sa.bbox);return hb}if(!(0<=(B=+B)&&20>=B))throw Error("invalid digits");
if(null!=A)switch(A.type){case "Feature":return Aa(A);case "FeatureCollection":var Ya={type:"FeatureCollection",features:A.features.map(Aa)};null!=A.bbox&&(Ya.bbox=A.bbox);return Ya;default:return ka(A)}return A};k.geoQuincuncial=Ec;k.geoRectangularPolyconic=function(){return va(Cc).scale(131.215)};k.geoRectangularPolyconicRaw=Cc;k.geoRobinson=function(){return q.geoProjection(id).scale(152.63)};k.geoRobinsonRaw=id;k.geoSatellite=function(){var A=2,B=0,I=q.geoProjectionMutator(qd),Q=I(A,B);Q.distance=
function(ea){return arguments.length?I(A=+ea,B):A};Q.tilt=function(ea){return arguments.length?I(A,B=ea*Kd):B*Od};return Q.scale(432.147).clipAngle(Fb(1/A)*Od-1E-6)};k.geoSatelliteRaw=qd;k.geoSinuMollweide=function(){return q.geoProjection(Uc).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};k.geoSinuMollweideRaw=Uc;k.geoSinusoidal=function(){return q.geoProjection(S).scale(152.63)};k.geoSinusoidalRaw=S;k.geoStitch=function(A){if(null==A)return A;switch(A.type){case "Feature":return We(A);case "FeatureCollection":var B=
{type:"FeatureCollection",features:A.features.map(We)};null!=A.bbox&&(B.bbox=A.bbox);return B;default:return zd(A)}};k.geoTimes=function(){return q.geoProjection(Ld).scale(146.153)};k.geoTimesRaw=Ld;k.geoTwoPointAzimuthal=W;k.geoTwoPointAzimuthalRaw=me;k.geoTwoPointAzimuthalUsa=function(){return W([-158,21.5],[-77,39]).clipAngle(60).scale(400)};k.geoTwoPointEquidistant=za;k.geoTwoPointEquidistantRaw=ha;k.geoTwoPointEquidistantUsa=function(){return za([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)};
k.geoVanDerGrinten=function(){return q.geoProjection(ob).scale(79.4183)};k.geoVanDerGrintenRaw=ob;k.geoVanDerGrinten2=function(){return q.geoProjection(Za).scale(79.4183)};k.geoVanDerGrinten2Raw=Za;k.geoVanDerGrinten3=function(){return q.geoProjection(vb).scale(79.4183)};k.geoVanDerGrinten3Raw=vb;k.geoVanDerGrinten4=function(){return q.geoProjection(Tb).scale(127.16)};k.geoVanDerGrinten4Raw=Tb;k.geoWagner=pc;k.geoWagner7=function(){return pc().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)};
k.geoWagnerRaw=Yc;k.geoWagner4=function(){return q.geoProjection(Xf).scale(176.84)};k.geoWagner4Raw=Xf;k.geoWagner6=function(){return q.geoProjection(Fc).scale(152.63)};k.geoWagner6Raw=Fc;k.geoWiechel=function(){return q.geoProjection(fd).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)};k.geoWiechelRaw=fd;k.geoWinkel3=function(){return q.geoProjection(Dd).scale(158.837)};k.geoWinkel3Raw=Dd;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[42]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb,Vb(40),Vb(41)):"function"===typeof define&&define.amd?define(["exports","d3-geo","d3-geo-projection"],q):(k="undefined"!==typeof globalThis?globalThis:k||self,q(k.vega={},k.d3,k.d3))})(this,function(k,q,R){function Ma(jb,Ea){return function bb(){const Ca=Ea();Ca.type=jb;Ca.path=q.geoPath().projection(Ca);Ca.copy=Ca.copy||function(){const ma=bb();db.forEach(oa=>{if(Ca[oa])ma[oa](Ca[oa]())});ma.path.pointRadius(Ca.path.pointRadius());
return ma};return Ca}}function Fb(jb,Ea){if(!jb||"string"!==typeof jb)throw Error("Projection type must be a name string.");jb=jb.toLowerCase();return 1<arguments.length?(Bb[jb]=Ma(jb,Ea),this):Bb[jb]||null}const Ja=q.geoPath(),db="clipAngle clipExtent scale translate center rotate parallels precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),Bb={albers:q.geoAlbers,albersusa:q.geoAlbersUsa,azimuthalequalarea:q.geoAzimuthalEqualArea,azimuthalequidistant:q.geoAzimuthalEquidistant,
conicconformal:q.geoConicConformal,conicequalarea:q.geoConicEqualArea,conicequidistant:q.geoConicEquidistant,equalEarth:q.geoEqualEarth,equirectangular:q.geoEquirectangular,gnomonic:q.geoGnomonic,identity:q.geoIdentity,mercator:q.geoMercator,mollweide:R.geoMollweide,naturalEarth1:q.geoNaturalEarth1,orthographic:q.geoOrthographic,stereographic:q.geoStereographic,transversemercator:q.geoTransverseMercator};for(const jb in Bb)Fb(jb,Bb[jb]);k.getProjectionPath=function(jb){return jb&&jb.path||Ja};k.projection=
Fb;k.projectionProperties=db;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[43]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb,Vb(27),Vb(15),Vb(16),Vb(28),Vb(42),Vb(40),Vb(33),Vb(32)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-util d3-array vega-statistics vega-projection d3-geo d3-color vega-canvas".split(" "),q):(k="undefined"!==typeof globalThis?globalThis:k||self,q((k.vega=k.vega||{},k.vega.transforms={}),k.vega,k.vega,k.d3,k.vega,k.vega,k.d3,k.d3,k.vega))})(this,function(k,q,R,Ma,
Fb,Ja,db,Bb,jb){function Ea(){}function ab(){function V(x,L){return L.map(ia=>H(x,ia))}function H(x,L){var ia=[],xa=[];p(x,L,Wa=>{u(Wa,x,L);for(var $a=0,fb=Wa.length,Ba=Wa[fb-1][1]*Wa[0][0]-Wa[fb-1][0]*Wa[0][1];++$a<fb;)Ba+=Wa[$a-1][1]*Wa[$a][0]-Wa[$a-1][0]*Wa[$a][1];0<Ba?ia.push([Wa]):xa.push(Wa)});xa.forEach(Wa=>{for(var $a=0,fb=ia.length,Ba;$a<fb;++$a){a:{var T=(Ba=ia[$a])[0];for(var da=Wa,Xa=-1,zb=da.length;++Xa<zb;){b:{var xb=T;for(var Pb=da[Xa],bc=Pb[0],Uc=Pb[1],yc=-1,Vc=0,ya=xb.length,Nb=ya-
1;Vc<ya;Nb=Vc++){var Sb=xb[Vc],Zb=Sb[0],uc=Sb[1],cc=xb[Nb];Nb=cc[0];var gb=cc[1],Kb,Eb=Sb;Sb=cc;cc=Pb;if(Kb=(Sb[0]-Eb[0])*(cc[1]-Eb[1])===(cc[0]-Eb[0])*(Sb[1]-Eb[1]))Eb=Eb[Kb=+(Eb[0]===Sb[0])],cc=cc[Kb],Sb=Sb[Kb],Kb=Eb<=cc&&cc<=Sb||Sb<=cc&&cc<=Eb;if(Kb){xb=0;break b}uc>Uc!==gb>Uc&&bc<(Nb-Zb)*(Uc-uc)/(gb-uc)+Zb&&(yc=-yc)}xb=yc}if(xb){T=xb;break a}}T=0}if(-1!==T){Ba.push(Wa);break}}});return{type:"MultiPolygon",value:L,coordinates:ia}}function p(x,L,ia){function xa(xb){var Pb=[xb[0][0]+Ba,xb[0][1]+
fb];xb=[xb[1][0]+Ba,xb[1][1]+fb];var bc=2*Pb[0]+Pb[1]*(m+1)*4,Uc=2*xb[0]+xb[1]*(m+1)*4,yc,Vc;(yc=$a[bc])?(Vc=Wa[Uc])?(delete $a[yc.end],delete Wa[Vc.start],yc===Vc?(yc.ring.push(xb),ia(yc.ring)):Wa[yc.start]=$a[Vc.end]={start:yc.start,end:Vc.end,ring:yc.ring.concat(Vc.ring)}):(delete $a[yc.end],yc.ring.push(xb),$a[yc.end=Uc]=yc):(yc=Wa[Uc])?(Vc=$a[bc])?(delete Wa[yc.start],delete $a[Vc.end],yc===Vc?(yc.ring.push(xb),ia(yc.ring)):Wa[Vc.start]=$a[yc.end]={start:Vc.start,end:yc.end,ring:Vc.ring.concat(yc.ring)}):
(delete Wa[yc.start],yc.ring.unshift(Pb),Wa[yc.start=bc]=yc):Wa[bc]=$a[Uc]={start:bc,end:Uc,ring:[Pb,xb]}}var Wa=[],$a=[],fb;var Ba=fb=-1;var T=x[0]>=L;for(ca[T<<1].forEach(xa);++Ba<m-1;){var da=T;T=x[Ba+1]>=L;ca[da|T<<1].forEach(xa)}for(ca[T<<0].forEach(xa);++fb<n-1;){Ba=-1;T=x[fb*m+m]>=L;var Xa=x[fb*m]>=L;for(ca[T<<1|Xa<<2].forEach(xa);++Ba<m-1;){da=T;T=x[fb*m+m+Ba+1]>=L;var zb=Xa;Xa=x[fb*m+Ba+1]>=L;ca[da|T<<1|Xa<<2|zb<<3].forEach(xa)}ca[T|Xa<<3].forEach(xa)}Ba=-1;Xa=x[fb*m]>=L;for(ca[Xa<<2].forEach(xa);++Ba<
m-1;)zb=Xa,Xa=x[fb*m+Ba+1]>=L,ca[Xa<<2|zb<<3].forEach(xa);ca[Xa<<3].forEach(xa)}function h(x,L,ia){x.forEach(xa=>{var Wa=xa[0],$a=xa[1],fb=Wa|0,Ba=$a|0,T=L[Ba*m+fb];if(0<Wa&&Wa<m&&fb===Wa){var da=L[Ba*m+fb-1];xa[0]=Wa+(ia-da)/(T-da)-.5}0<$a&&$a<n&&Ba===$a&&(da=L[(Ba-1)*m+fb],xa[1]=$a+(ia-da)/(T-da)-.5)})}var m=1,n=1,u=h;V.contour=H;V.size=function(x){if(!arguments.length)return[m,n];var L=Math.floor(x[0]),ia=Math.floor(x[1]);0<=L&&0<=ia||R.error("invalid size");return m=L,n=ia,V};V.smooth=function(x){return arguments.length?
(u=x?h:Ea,V):u===h};return V}function bb(V,H,p){return function(h){var m=R.extent(h);h=p?Math.min(m[0],0):m[0];m=m[1];var n=m-h;h=H?Ma.tickStep(h,m,V):n/(V+1);return Ma.range(h,m,h)}}function Ca(V){q.Transform.call(this,null,V)}function ma(V,H,p){const h=bb(p.levels||10,p.nice,!1!==p.zero);return"shared"!==p.resolve?h:h(V.map(m=>Ma.max(H(m).values)))}function oa(V,H,p,h){var m=h.scale||H.scale;let n=h.translate||H.translate;R.isFunction(m)&&(m=m(p,h));R.isFunction(n)&&(n=n(p,h));if(1!==m&&null!=m||
n)p=(R.isNumber(m)?m:m[0])||1,m=(R.isNumber(m)?m:m[1])||1,V.forEach(Ia(H,p,m,n&&n[0]||0,n&&n[1]||0))}function Ia(V,H,p,h,m){function n(Wa){Wa.forEach(u)}function u(Wa){xa&&Wa.reverse();Wa.forEach(x)}function x(Wa){Wa[0]=(Wa[0]-L)*H+h;Wa[1]=(Wa[1]-ia)*p+m}const L=V.x1||0,ia=V.y1||0,xa=0>H*p;return function(Wa){Wa.coordinates.forEach(n);return Wa}}function Ua(V,H,p){V=0<=V?V:Fb.bandwidthNRD(H,p);return Math.round((Math.sqrt(4*V*V+1)-1)/2)}function na(V){return R.isFunction(V)?V:R.constant(+V)}function qa(){function V(L,
ia){const xa=Ua(m[0],L,H)>>x,Wa=Ua(m[1],L,p)>>x,$a=xa?xa+2:0,fb=Wa?Wa+2:0,Ba=2*$a+(n>>x),T=2*fb+(u>>x),da=new Float32Array(Ba*T),Xa=new Float32Array(Ba*T);let zb=da;L.forEach(xb=>{const Pb=$a+(+H(xb)>>x),bc=fb+(+p(xb)>>x);0<=Pb&&Pb<Ba&&0<=bc&&bc<T&&(da[Pb+bc*Ba]+=+h(xb))});0<xa&&0<Wa?(Ta(Ba,T,da,Xa,xa),ta(Ba,T,Xa,da,Wa),Ta(Ba,T,da,Xa,xa),ta(Ba,T,Xa,da,Wa),Ta(Ba,T,da,Xa,xa),ta(Ba,T,Xa,da,Wa)):0<xa?(Ta(Ba,T,da,Xa,xa),Ta(Ba,T,Xa,da,xa),Ta(Ba,T,da,Xa,xa),zb=Xa):0<Wa&&(ta(Ba,T,da,Xa,Wa),ta(Ba,T,Xa,da,
Wa),ta(Ba,T,da,Xa,Wa),zb=Xa);L=ia?Math.pow(2,-2*x):1/Ma.sum(zb);for(let xb=0,Pb=Ba*T;xb<Pb;++xb)zb[xb]*=L;return{values:zb,scale:1<<x,width:Ba,height:T,x1:$a,y1:fb,x2:$a+(n>>x),y2:fb+(u>>x)}}var H=L=>L[0],p=L=>L[1],h=R.one,m=[-1,-1],n=960,u=500,x=2;V.x=function(L){return arguments.length?(H=na(L),V):H};V.y=function(L){return arguments.length?(p=na(L),V):p};V.weight=function(L){return arguments.length?(h=na(L),V):h};V.size=function(L){if(!arguments.length)return[n,u];var ia=+L[0],xa=+L[1];0<=ia&&0<=
xa||R.error("invalid size");return n=ia,u=xa,V};V.cellSize=function(L){if(!arguments.length)return 1<<x;1<=(L=+L)||R.error("invalid cell size");x=Math.floor(Math.log(L)/Math.LN2);return V};V.bandwidth=function(L){if(!arguments.length)return m;L=R.array(L);1===L.length&&(L=[+L[0],+L[0]]);2!==L.length&&R.error("invalid bandwidth");return m=L,V};return V}function Ta(V,H,p,h,m){const n=(m<<1)+1;for(let u=0;u<H;++u)for(let x=0,L=0;x<V+m;++x)x<V&&(L+=p[x+u*V]),x>=m&&(x>=n&&(L-=p[x-n+u*V]),h[x-m+u*V]=L/
Math.min(x+1,V-1+n-x,n))}function ta(V,H,p,h,m){const n=(m<<1)+1;for(let u=0;u<V;++u)for(let x=0,L=0;x<H+m;++x)x<H&&(L+=p[u+x*V]),x>=m&&(x>=n&&(L-=p[u+(x-n)*V]),h[u+(x-m)*V]=L/Math.min(x+1,H-1+n-x,n))}function Qa(V){q.Transform.call(this,null,V)}function va(V,H){ba.forEach(p=>null!=H[p]?V[p](H[p]):0);return V}function S(V,H){var p=[],h=xa=>xa(x),m;if(null==H)p.push(V);else{var n={};var u=0;for(m=V.length;u<m;++u){var x=V[u];var L=H.map(h);var ia=n[L];ia||(n[L]=ia=[],ia.dims=L,p.push(ia));ia.push(x)}}return p}
function la(V){q.Transform.call(this,null,V)}function wa(V){q.Transform.call(this,null,V)}function Da(V){q.Transform.call(this,null,V)}function Oa(V,H){const p=V.pointRadius();V.context(null);null!=H&&V.pointRadius(H);return p}function Ha(V){q.Transform.call(this,null,V)}function Va(V){q.Transform.call(this,null,V)}function Fa(V,H,p){const h=null==p?m=>V(H(m)):m=>{var n=V.pointRadius();m=V.pointRadius(p)(H(m));V.pointRadius(n);return m};h.context=m=>{V.context(m);return h};return h}function E(V){q.Transform.call(this,
[],V);this.generator=db.geoGraticule()}function w(V){q.Transform.call(this,null,V)}function F(V,H){let p;R.isFunction(V)?(p=h=>Bb.rgb(V(h,H)),p.dep=D(V)):p=R.constant(Bb.rgb(V||"#888"));return p}function Z(V,H){let p;R.isFunction(V)?(p=h=>V(h,H),p.dep=D(V)):V?p=R.constant(V):(p=h=>h.$value/h.$max||0,p.dep=!0);return p}function D(V){if(!R.isFunction(V))return!1;V=R.toSet(R.accessorFields(V));return V.$x||V.$y||V.$value||V.$max}function P(V,H,p,h){const m=V.width;var n=V.height;const u=V.x1||0,x=V.y1||
0,L=V.x2||m;n=V.y2||n;const ia=V.values;V=ia?Ba=>ia[Ba]:R.zero;const xa=jb.canvas(L-u,n-x),Wa=xa.getContext("2d"),$a=Wa.getImageData(0,0,L-u,n-x),fb=$a.data;for(let Ba=x,T=0;Ba<n;++Ba){H.$y=Ba-x;for(let da=u,Xa=Ba*m;da<L;++da,T+=4){H.$x=da-u;H.$value=V(da+Xa);const zb=p(H);fb[T+0]=zb.r;fb[T+1]=zb.g;fb[T+2]=zb.b;fb[T+3]=~~(255*h(H))}}Wa.putImageData($a,0,0);return xa}function N(V){q.Transform.call(this,null,V);this.modified(!0)}function Y(V,H){const p=Ga(H.fit);H.extent?V.fitExtent(H.extent,p):H.size?
V.fitSize(H.size,p):0}function ua(V){const H=Ja.projection((V||"mercator").toLowerCase());H||R.error("Unrecognized projection type: "+V);return H()}function Ga(V){V=R.array(V);return 1===V.length?V[0]:{type:"FeatureCollection",features:V.reduce((H,p)=>H.concat(G(p)),[])}}function G(V){return"FeatureCollection"===V.type?V.features:R.array(V).filter(H=>null!=H).map(H=>"Feature"===H.type?H:{type:"Feature",geometry:H})}const ca=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,
1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];Ca.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},
{name:"zero",type:"boolean","default":!0},{name:"smooth",type:"boolean","default":!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string","null":!0,"default":"contour"}]};R.inherits(Ca,q.Transform,{transform(V,H){if(this.value&&!H.changed()&&!V.modified())return H.StopPropagation;var p=H.fork(H.NO_SOURCE|H.NO_FIELDS);H=H.materialize(H.SOURCE).source;var h=V.field||R.identity,m=ab().smooth(!1!==V.smooth),n=V.thresholds||ma(H,h,V),u=null===
V.as?null:V.as||"contour",x=[];H.forEach(L=>{const ia=h(L),xa=m.size([ia.width,ia.height])(ia.values,R.isArray(n)?n:n(ia.values));oa(xa,ia,L,V);xa.forEach(Wa=>{x.push(q.rederive(L,q.ingest(null!=u?{[u]:Wa}:Wa)))})});this.value&&(p.rem=this.value);this.value=p.source=p.add=x;return p}});Qa.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},
{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean","default":!1},{name:"as",type:"string","default":"grid"}]};const ba="x y weight size cellSize bandwidth".split(" ");R.inherits(Qa,q.Transform,{transform(V,H){function p(L,ia){for(let xa=0;xa<m.length;++xa)L[m[xa]]=ia[xa];return L}if(this.value&&!H.changed()&&!V.modified())return H.StopPropagation;var h=H.fork(H.NO_SOURCE|H.NO_FIELDS);H=H.materialize(H.SOURCE).source;
H=S(H,V.groupby);var m=(V.groupby||[]).map(R.accessorName),n=va(qa(),V),u=V.as||"grid",x=[];x=H.map(L=>q.ingest(p({[u]:n(L,V.counts)},L.dims)));this.value&&(h.rem=this.value);this.value=h.source=h.add=x;return h}});la.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",
type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean","default":!0}]};R.inherits(la,q.Transform,{transform(V,H){if(this.value&&!H.changed()&&!V.modified())return H.StopPropagation;var p=H.fork(H.NO_SOURCE|H.NO_FIELDS),h=ab().smooth(!1!==V.smooth),m=V.values,n=V.thresholds||bb(V.count||10,V.nice,!!m),u=V.size;if(!m){m=H.materialize(H.SOURCE).source;V=va(qa(),V)(m,!0);var x=Ia(V,V.scale||1,V.scale||
1,0,0);u=[V.width,V.height];m=V.values}n=R.isArray(n)?n:n(m);m=h.size(u)(m,n);x&&m.forEach(x);this.value&&(p.rem=this.value);this.value=p.source=p.add=(m||[]).map(q.ingest);return p}});wa.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};R.inherits(wa,q.Transform,{transform(V,H){var p=this._features,h=this._points,m=V.fields,n=m&&m[0],u=m&&m[1],x=V.geojson||!m&&R.identity;m=H.ADD;V=V.modified()||H.changed(H.REM)||H.modified(R.accessorFields(x))||
n&&H.modified(R.accessorFields(n))||u&&H.modified(R.accessorFields(u));if(!this.value||V)m=H.SOURCE,this._features=p=[],this._points=h=[];x&&H.visit(m,L=>p.push(x(L)));n&&u&&(H.visit(m,L=>{var ia=n(L);L=u(L);null!=ia&&null!=L&&(ia=+ia)===ia&&(L=+L)===L&&h.push([ia,L])}),p=p.concat({type:"Feature",geometry:{type:"MultiPoint",coordinates:h}}));this.value={type:"FeatureCollection",features:p}}});Da.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",
type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"path"}]};R.inherits(Da,q.Transform,{transform(V,H){var p=H.fork(H.ALL),h=this.value,m=V.field||R.identity,n=V.as||"path",u=p.SOURCE;!h||V.modified()?(this.value=h=Ja.getProjectionPath(V.projection),p.materialize().reflow()):u=m===R.identity||H.modified(m.fields)?p.ADD_MOD:p.ADD;V=Oa(h,V.pointRadius);p.visit(u,x=>x[n]=h(m(x)));h.pointRadius(V);return p.modifies(n)}});Ha.Definition={type:"GeoPoint",metadata:{modifies:!0},
params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,"default":["x","y"]}]};R.inherits(Ha,q.Transform,{transform(V,H){function p(ia){const xa=h([m(ia),n(ia)]);xa?(ia[x]=xa[0],ia[L]=xa[1]):(ia[x]=void 0,ia[L]=void 0)}var h=V.projection,m=V.fields[0],n=V.fields[1],u=V.as||["x","y"],x=u[0],L=u[1];V.modified()?H=H.materialize().reflow(!0).visit(H.SOURCE,p):(V=H.modified(m.fields)||H.modified(n.fields),
H.visit(V?H.ADD_MOD:H.ADD,p));return H.modifies(u)}});Va.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field","default":"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"shape"}]};R.inherits(Va,q.Transform,{transform(V,H){H=H.fork(H.ALL);var p=this.value,h=V.as||"shape",m=H.ADD;if(!p||V.modified())this.value=p=Fa(Ja.getProjectionPath(V.projection),V.field||R.field("datum"),V.pointRadius),
H.materialize().reflow(),m=H.SOURCE;H.visit(m,n=>n[h]=p);return H.modifies(h)}});E.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",
array:!0,length:2,"default":[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,"default":[10,10]},{name:"precision",type:"number","default":2.5}]};R.inherits(E,q.Transform,{transform(V,H){var p=this.value,h=this.generator;if(!p.length||V.modified())for(const m in V)if(R.isFunction(h[m]))h[m](V[m]);V=h();p.length?H.mod.push(q.replace(p[0],V)):H.add.push(q.ingest(V));p[0]=V;return H}});w.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",
expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"as",type:"string","default":"image"}]};R.inherits(w,q.Transform,{transform(V,H){if(!H.changed()&&!V.modified())return H.StopPropagation;var p=H.materialize(H.SOURCE).source,h="shared"===V.resolve,m=V.field||R.identity,n=Z(V.opacity,V),u=F(V.color,V),x=V.as||"image",L={$x:0,$y:0,$value:0,$max:h?Ma.max(p.map(ia=>Ma.max(m(ia).values))):0};p.forEach(ia=>{const xa=
m(ia),Wa=R.extend({},ia,L);h||(Wa.$max=Ma.max(xa.values||[]));ia[x]=P(xa,Wa,u.dep?u:R.constant(u(Wa)),n.dep?n:R.constant(n(Wa)))});return H.reflow(!0).modifies(x)}});R.inherits(N,q.Transform,{transform(V,H){let p=this.value;!p||V.modified("type")?(this.value=p=ua(V.type),Ja.projectionProperties.forEach(h=>{if(null!=V[h]){var m=p,n=V[h];if(R.isFunction(m[h]))m[h](n)}})):Ja.projectionProperties.forEach(h=>{if(V.modified(h)){var m=p,n=V[h];if(R.isFunction(m[h]))m[h](n)}});null!=V.pointRadius&&p.path.pointRadius(V.pointRadius);
V.fit&&Y(p,V);return H.fork(H.NO_SOURCE|H.NO_FIELDS)}});k.contour=la;k.geojson=wa;k.geopath=Da;k.geopoint=Ha;k.geoshape=Va;k.graticule=E;k.heatmap=w;k.isocontour=Ca;k.kde2d=Qa;k.projection=N;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[44]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb):"function"===typeof define&&define.amd?define(["exports"],q):(k=k||self,q(k.d3=k.d3||{}))})(this,function(k){function q(Ea,ab,bb,Ca){if(isNaN(ab)||isNaN(bb))return Ea;var ma,oa=Ea._root;Ca={data:Ca};var Ia=Ea._x0,Ua=Ea._y0,na=Ea._x1,qa=Ea._y1,Ta,ta,Qa,va;if(!oa)return Ea._root=Ca,Ea;for(;oa.length;)if((Qa=ab>=(Ta=(Ia+na)/2))?Ia=Ta:na=Ta,(va=bb>=(ta=(Ua+qa)/2))?Ua=ta:qa=ta,ma=oa,!(oa=oa[Qa|=
va<<1]))return ma[Qa]=Ca,Ea;var S=+Ea._x.call(null,oa.data);var la=+Ea._y.call(null,oa.data);if(ab===S&&bb===la)return Ca.next=oa,ma?ma[Qa]=Ca:Ea._root=Ca,Ea;do ma=ma?ma[Qa]=Array(4):Ea._root=Array(4),(Qa=ab>=(Ta=(Ia+na)/2))?Ia=Ta:na=Ta,(va=bb>=(ta=(Ua+qa)/2))?Ua=ta:qa=ta;while((Qa|=va<<1)===(va=(la>=ta)<<1|S>=Ta));return ma[va]=oa,ma[Qa]=Ca,Ea}function R(Ea,ab,bb,Ca,ma){this.node=Ea;this.x0=ab;this.y0=bb;this.x1=Ca;this.y1=ma}function Ma(Ea){return Ea[0]}function Fb(Ea){return Ea[1]}function Ja(Ea,
ab,bb){ab=new db(null==ab?Ma:ab,null==bb?Fb:bb,NaN,NaN,NaN,NaN);return null==Ea?ab:ab.addAll(Ea)}function db(Ea,ab,bb,Ca,ma,oa){this._x=Ea;this._y=ab;this._x0=bb;this._y0=Ca;this._x1=ma;this._y1=oa;this._root=void 0}function Bb(Ea){for(var ab={data:Ea.data},bb=ab;Ea=Ea.next;)bb=bb.next={data:Ea.data};return ab}var jb=Ja.prototype=db.prototype;jb.copy=function(){var Ea=new db(this._x,this._y,this._x0,this._y0,this._x1,this._y1),ab=this._root,bb,Ca;if(!ab)return Ea;if(!ab.length)return Ea._root=Bb(ab),
Ea;for(bb=[{source:ab,target:Ea._root=Array(4)}];ab=bb.pop();)for(var ma=0;4>ma;++ma)if(Ca=ab.source[ma])Ca.length?bb.push({source:Ca,target:ab.target[ma]=Array(4)}):ab.target[ma]=Bb(Ca);return Ea};jb.add=function(Ea){const ab=+this._x.call(null,Ea),bb=+this._y.call(null,Ea);return q(this.cover(ab,bb),ab,bb,Ea)};jb.addAll=function(Ea){var ab,bb,Ca=Ea.length,ma,oa,Ia=Array(Ca),Ua=Array(Ca),na=Infinity,qa=Infinity,Ta=-Infinity,ta=-Infinity;for(bb=0;bb<Ca;++bb)isNaN(ma=+this._x.call(null,ab=Ea[bb]))||
isNaN(oa=+this._y.call(null,ab))||(Ia[bb]=ma,Ua[bb]=oa,ma<na&&(na=ma),ma>Ta&&(Ta=ma),oa<qa&&(qa=oa),oa>ta&&(ta=oa));if(na>Ta||qa>ta)return this;this.cover(na,qa).cover(Ta,ta);for(bb=0;bb<Ca;++bb)q(this,Ia[bb],Ua[bb],Ea[bb]);return this};jb.cover=function(Ea,ab){if(isNaN(Ea=+Ea)||isNaN(ab=+ab))return this;var bb=this._x0,Ca=this._y0,ma=this._x1,oa=this._y1;if(isNaN(bb))ma=(bb=Math.floor(Ea))+1,oa=(Ca=Math.floor(ab))+1;else{for(var Ia=ma-bb||1,Ua=this._root,na,qa;bb>Ea||Ea>=ma||Ca>ab||ab>=oa;)switch(qa=
(ab<Ca)<<1|Ea<bb,na=Array(4),na[qa]=Ua,Ua=na,Ia*=2,qa){case 0:ma=bb+Ia;oa=Ca+Ia;break;case 1:bb=ma-Ia;oa=Ca+Ia;break;case 2:ma=bb+Ia;Ca=oa-Ia;break;case 3:bb=ma-Ia,Ca=oa-Ia}this._root&&this._root.length&&(this._root=Ua)}this._x0=bb;this._y0=Ca;this._x1=ma;this._y1=oa;return this};jb.data=function(){var Ea=[];this.visit(function(ab){if(!ab.length){do Ea.push(ab.data);while(ab=ab.next)}});return Ea};jb.extent=function(Ea){return arguments.length?this.cover(+Ea[0][0],+Ea[0][1]).cover(+Ea[1][0],+Ea[1][1]):
isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]};jb.find=function(Ea,ab,bb){var Ca=this._x0,ma=this._y0,oa,Ia,Ua,na,qa=this._x1,Ta=this._y1,ta=[],Qa=this._root,va;Qa&&ta.push(new R(Qa,Ca,ma,qa,Ta));null==bb?bb=Infinity:(Ca=Ea-bb,ma=ab-bb,qa=Ea+bb,Ta=ab+bb,bb*=bb);for(;va=ta.pop();)if(!(!(Qa=va.node)||(oa=va.x0)>qa||(Ia=va.y0)>Ta||(Ua=va.x1)<Ca||(na=va.y1)<ma))if(Qa.length){va=(oa+Ua)/2;var S=(Ia+na)/2;ta.push(new R(Qa[3],va,S,Ua,na),new R(Qa[2],oa,S,va,na),new R(Qa[1],va,Ia,Ua,S),
new R(Qa[0],oa,Ia,va,S));if(Qa=(ab>=S)<<1|Ea>=va)va=ta[ta.length-1],ta[ta.length-1]=ta[ta.length-1-Qa],ta[ta.length-1-Qa]=va}else if(va=Ea-+this._x.call(null,Qa.data),S=ab-+this._y.call(null,Qa.data),va=va*va+S*S,va<bb){var la=Math.sqrt(bb=va);Ca=Ea-la;ma=ab-la;qa=Ea+la;Ta=ab+la;la=Qa.data}return la};jb.remove=function(Ea){if(isNaN(na=+this._x.call(null,Ea))||isNaN(qa=+this._y.call(null,Ea)))return this;var ab,bb=this._root,Ca,ma=this._x0,oa=this._y0,Ia=this._x1,Ua=this._y1,na,qa,Ta,ta,Qa,va;if(!bb)return this;
if(bb.length)for(;;){(Qa=na>=(Ta=(ma+Ia)/2))?ma=Ta:Ia=Ta;(va=qa>=(ta=(oa+Ua)/2))?oa=ta:Ua=ta;if(!(ab=bb,bb=bb[Qa|=va<<1]))return this;if(!bb.length)break;if(ab[Qa+1&3]||ab[Qa+2&3]||ab[Qa+3&3]){var S=ab;var la=Qa}}for(;bb.data!==Ea;)if(!(Ca=bb,bb=bb.next))return this;(Ea=bb.next)&&delete bb.next;if(Ca)return Ea?Ca.next=Ea:delete Ca.next,this;if(!ab)return this._root=Ea,this;Ea?ab[Qa]=Ea:delete ab[Qa];(bb=ab[0]||ab[1]||ab[2]||ab[3])&&bb===(ab[3]||ab[2]||ab[1]||ab[0])&&!bb.length&&(S?S[la]=bb:this._root=
bb);return this};jb.removeAll=function(Ea){for(var ab=0,bb=Ea.length;ab<bb;++ab)this.remove(Ea[ab]);return this};jb.root=function(){return this._root};jb.size=function(){var Ea=0;this.visit(function(ab){if(!ab.length){do++Ea;while(ab=ab.next)}});return Ea};jb.visit=function(Ea){var ab=[],bb,Ca=this._root,ma,oa,Ia,Ua;for(Ca&&ab.push(new R(Ca,this._x0,this._y0,this._x1,this._y1));bb=ab.pop();)if(!Ea(Ca=bb.node,oa=bb.x0,Ia=bb.y0,Ua=bb.x1,bb=bb.y1)&&Ca.length){var na=(oa+Ua)/2,qa=(Ia+bb)/2;(ma=Ca[3])&&
ab.push(new R(ma,na,qa,Ua,bb));(ma=Ca[2])&&ab.push(new R(ma,oa,qa,na,bb));(ma=Ca[1])&&ab.push(new R(ma,na,Ia,Ua,qa));(ma=Ca[0])&&ab.push(new R(ma,oa,Ia,na,qa))}return this};jb.visitAfter=function(Ea){var ab=[],bb=[],Ca;for(this._root&&ab.push(new R(this._root,this._x0,this._y0,this._x1,this._y1));Ca=ab.pop();){var ma=Ca.node;if(ma.length){var oa,Ia=Ca.x0,Ua=Ca.y0,na=Ca.x1,qa=Ca.y1,Ta=(Ia+na)/2,ta=(Ua+qa)/2;(oa=ma[0])&&ab.push(new R(oa,Ia,Ua,Ta,ta));(oa=ma[1])&&ab.push(new R(oa,Ta,Ua,na,ta));(oa=ma[2])&&
ab.push(new R(oa,Ia,ta,Ta,qa));(oa=ma[3])&&ab.push(new R(oa,Ta,ta,na,qa))}bb.push(Ca)}for(;Ca=bb.pop();)Ea(Ca.node,Ca.x0,Ca.y0,Ca.x1,Ca.y1);return this};jb.x=function(Ea){return arguments.length?(this._x=Ea,this):this._x};jb.y=function(Ea){return arguments.length?(this._y=Ea,this):this._y};k.quadtree=Ja;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[45]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb):"function"===typeof define&&define.amd?define(["exports"],q):(k=k||self,q(k.d3=k.d3||{}))})(this,function(k){function q(){for(var db=0,Bb=arguments.length,jb={},Ea;db<Bb;++db){if(!(Ea=arguments[db]+"")||Ea in jb||/[\s.]/.test(Ea))throw Error("illegal type: "+Ea);jb[Ea]=[]}return new R(jb)}function R(db){this._=db}function Ma(db,Bb){return db.trim().split(/^|\s+/).map(function(jb){var Ea="",
ab=jb.indexOf(".");0<=ab&&(Ea=jb.slice(ab+1),jb=jb.slice(0,ab));if(jb&&!Bb.hasOwnProperty(jb))throw Error("unknown type: "+jb);return{type:jb,name:Ea}})}function Fb(db,Bb,jb){for(var Ea=0,ab=db.length;Ea<ab;++Ea)if(db[Ea].name===Bb){db[Ea]=Ja;db=db.slice(0,Ea).concat(db.slice(Ea+1));break}null!=jb&&db.push({name:Bb,value:jb});return db}var Ja={value:()=>{}};R.prototype=q.prototype={constructor:R,on:function(db,Bb){var jb=this._,Ea=Ma(db+"",jb),ab,bb=-1,Ca=Ea.length;if(2>arguments.length)for(;++bb<
Ca;){var ma;if(ma=ab=(db=Ea[bb]).type){a:{ma=jb[ab];for(var oa=0,Ia=ma.length;oa<Ia;++oa)if((ab=ma[oa]).name===db.name){ab=ab.value;break a}ab=void 0}ma=ab}if(ma)return ab}else{if(null!=Bb&&"function"!==typeof Bb)throw Error("invalid callback: "+Bb);for(;++bb<Ca;)if(ab=(db=Ea[bb]).type)jb[ab]=Fb(jb[ab],db.name,Bb);else if(null==Bb)for(ab in jb)jb[ab]=Fb(jb[ab],db.name,null);return this}},copy:function(){var db={},Bb=this._,jb;for(jb in Bb)db[jb]=Bb[jb].slice();return new R(db)},call:function(db,Bb){if(0<
(ab=arguments.length-2))for(var jb=Array(ab),Ea=0,ab,bb;Ea<ab;++Ea)jb[Ea]=arguments[Ea+2];if(!this._.hasOwnProperty(db))throw Error("unknown type: "+db);bb=this._[db];Ea=0;for(ab=bb.length;Ea<ab;++Ea)bb[Ea].value.apply(Bb,jb)},apply:function(db,Bb,jb){if(!this._.hasOwnProperty(db))throw Error("unknown type: "+db);db=this._[db];for(var Ea=0,ab=db.length;Ea<ab;++Ea)db[Ea].value.apply(Bb,jb)}};k.dispatch=q;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[46]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb):"function"===typeof define&&define.amd?define(["exports"],q):(k=k||self,q(k.d3=k.d3||{}))})(this,function(k){function q(){return Ia||(qa(R),Ia=na.now()+Ua)}function R(){Ia=0}function Ma(){this._call=this._time=this._next=null}function Fb(Ta,ta,Qa){var va=new Ma;va.restart(Ta,ta,Qa);return va}function Ja(){q();++Ea;for(var Ta=Ca,ta;Ta;)0<=(ta=Ia-Ta._time)&&Ta._call.call(null,ta),Ta=Ta._next;
--Ea}function db(){Ia=(oa=na.now())+Ua;Ea=ab=0;try{Ja()}finally{Ea=0;for(var Ta,ta=Ca,Qa,va=Infinity;ta;)ta._call?(va>ta._time&&(va=ta._time),Ta=ta,ta=ta._next):(Qa=ta._next,ta._next=null,ta=Ta?Ta._next=Qa:Ca=Qa);ma=Ta;jb(va);Ia=0}}function Bb(){var Ta=na.now(),ta=Ta-oa;1E3<ta&&(Ua-=ta,oa=Ta)}function jb(Ta){Ea||(ab&&(ab=clearTimeout(ab)),24<Ta-Ia?(Infinity>Ta&&(ab=setTimeout(db,Ta-na.now()-Ua)),bb&&(bb=clearInterval(bb))):(bb||(oa=na.now(),bb=setInterval(Bb,1E3)),Ea=1,qa(db)))}var Ea=0,ab=0,bb=0,
Ca,ma,oa=0,Ia=0,Ua=0,na="object"===typeof performance&&performance.now?performance:Date,qa="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Ta){setTimeout(Ta,17)};Ma.prototype=Fb.prototype={constructor:Ma,restart:function(Ta,ta,Qa){if("function"!==typeof Ta)throw new TypeError("callback is not a function");Qa=(null==Qa?q():+Qa)+(null==ta?0:+ta);this._next||ma===this||(ma?ma._next=this:Ca=this,ma=this);this._call=Ta;this._time=Qa;jb()},stop:function(){this._call&&
(this._call=null,this._time=Infinity,jb())}};k.interval=function(Ta,ta,Qa){var va=new Ma,S=ta;if(null==ta)return va.restart(Ta,ta,Qa),va;va._restart=va.restart;va.restart=function(la,wa,Da){wa=+wa;Da=null==Da?q():+Da;va._restart(function Va(Ha){Ha+=S;va._restart(Va,S+=wa,Da);la(Ha)},wa,Da)};va.restart(Ta,ta,Qa);return va};k.now=q;k.timeout=function(Ta,ta,Qa){var va=new Ma;ta=null==ta?0:+ta;va.restart(S=>{va.stop();Ta(S+ta)},ta,Qa);return va};k.timer=Fb;k.timerFlush=Ja;Object.defineProperty(k,"__esModule",
{value:!0})})};
shadow$provide[47]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb,Vb(44),Vb(45),Vb(46)):"function"===typeof define&&define.amd?define(["exports","d3-quadtree","d3-dispatch","d3-timer"],q):(k=k||self,q(k.d3=k.d3||{},k.d3,k.d3,k.d3))})(this,function(k,q,R,Ma){function Fb(ma){return function(){return ma}}function Ja(ma){return ma.x+ma.vx}function db(ma){return ma.y+ma.vy}function Bb(ma){return ma.index}function jb(ma,oa){ma=ma.get(oa);if(!ma)throw Error("node not found: "+
oa);return ma}function Ea(){let ma=1;return()=>(ma=(1664525*ma+1013904223)%4294967296)/4294967296}function ab(ma){return ma.x}function bb(ma){return ma.y}var Ca=Math.PI*(3-Math.sqrt(5));k.forceCenter=function(ma,oa){function Ia(){var qa,Ta=Ua.length,ta=0,Qa=0;for(qa=0;qa<Ta;++qa){var va=Ua[qa];ta+=va.x;Qa+=va.y}ta=(ta/Ta-ma)*na;Qa=(Qa/Ta-oa)*na;for(qa=0;qa<Ta;++qa)va=Ua[qa],va.x-=ta,va.y-=Qa}var Ua,na=1;null==ma&&(ma=0);null==oa&&(oa=0);Ia.initialize=function(qa){Ua=qa};Ia.x=function(qa){return arguments.length?
(ma=+qa,Ia):ma};Ia.y=function(qa){return arguments.length?(oa=+qa,Ia):oa};Ia.strength=function(qa){return arguments.length?(na=+qa,Ia):na};return Ia};k.forceCollide=function(ma){function oa(){function va(w,F,Z,D,P){var N=w.data;w=w.r;var Y=Va+w;if(N)N.index>Da.index&&(F=Oa-N.x-N.vx,Z=Ha-N.y-N.vy,D=F*F+Z*Z,D<Y*Y&&(0===F&&(F=1E-6*(Ta()-.5),D+=F*F),0===Z&&(Z=1E-6*(Ta()-.5),D+=Z*Z),D=(Y-(D=Math.sqrt(D)))/D*ta,Da.vx+=(F*=D)*(Y=(w*=w)/(Fa+w)),Da.vy+=(Z*=D)*Y,N.vx-=F*(Y=1-Y),N.vy-=Z*Y));else return F>Oa+
Y||D<Oa-Y||Z>Ha+Y||P<Ha-Y}for(var S,la=na.length,wa,Da,Oa,Ha,Va,Fa,E=0;E<Qa;++E)for(wa=q.quadtree(na,Ja,db).visitAfter(Ia),S=0;S<la;++S)Da=na[S],Va=qa[Da.index],Fa=Va*Va,Oa=Da.x+Da.vx,Ha=Da.y+Da.vy,wa.visit(va)}function Ia(va){if(va.data)return va.r=qa[va.data.index];for(var S=va.r=0;4>S;++S)va[S]&&va[S].r>va.r&&(va.r=va[S].r)}function Ua(){if(na){var va,S=na.length;qa=Array(S);for(va=0;va<S;++va){var la=na[va];qa[la.index]=+ma(la,va,na)}}}var na,qa,Ta,ta=1,Qa=1;"function"!==typeof ma&&(ma=Fb(null==
ma?1:+ma));oa.initialize=function(va,S){na=va;Ta=S;Ua()};oa.iterations=function(va){return arguments.length?(Qa=+va,oa):Qa};oa.strength=function(va){return arguments.length?(ta=+va,oa):ta};oa.radius=function(va){return arguments.length?(ma="function"===typeof va?va:Fb(+va),Ua(),oa):ma};return oa};k.forceLink=function(ma){function oa(Ha){for(var Va=0,Fa=ma.length;Va<Oa;++Va)for(var E=0,w,F,Z,D,P;E<Fa;++E)w=ma[E],F=w.source,w=w.target,Z=w.x+w.vx-F.x-F.vx||1E-6*(Da()-.5),D=w.y+w.vy-F.y-F.vy||1E-6*(Da()-
.5),P=Math.sqrt(Z*Z+D*D),P=(P-va[E])/P*Ha*ta[E],Z*=P,D*=P,w.vx-=Z*(P=wa[E]),w.vy-=D*P,F.vx+=Z*(P=1-P),F.vy+=D*P}function Ia(){if(S){var Ha=S.length,Va=ma.length,Fa=new Map(S.map((w,F)=>[qa(w,F,S),w]));var E=0;for(la=Array(Ha);E<Va;++E)Ha=ma[E],Ha.index=E,"object"!==typeof Ha.source&&(Ha.source=jb(Fa,Ha.source)),"object"!==typeof Ha.target&&(Ha.target=jb(Fa,Ha.target)),la[Ha.source.index]=(la[Ha.source.index]||0)+1,la[Ha.target.index]=(la[Ha.target.index]||0)+1;E=0;for(wa=Array(Va);E<Va;++E)Ha=ma[E],
wa[E]=la[Ha.source.index]/(la[Ha.source.index]+la[Ha.target.index]);ta=Array(Va);Ua();va=Array(Va);na()}}function Ua(){if(S)for(var Ha=0,Va=ma.length;Ha<Va;++Ha)ta[Ha]=+Ta(ma[Ha],Ha,ma)}function na(){if(S)for(var Ha=0,Va=ma.length;Ha<Va;++Ha)va[Ha]=+Qa(ma[Ha],Ha,ma)}var qa=Bb,Ta=function(Ha){return 1/Math.min(la[Ha.source.index],la[Ha.target.index])},ta,Qa=Fb(30),va,S,la,wa,Da,Oa=1;null==ma&&(ma=[]);oa.initialize=function(Ha,Va){S=Ha;Da=Va;Ia()};oa.links=function(Ha){return arguments.length?(ma=Ha,
Ia(),oa):ma};oa.id=function(Ha){return arguments.length?(qa=Ha,oa):qa};oa.iterations=function(Ha){return arguments.length?(Oa=+Ha,oa):Oa};oa.strength=function(Ha){return arguments.length?(Ta="function"===typeof Ha?Ha:Fb(+Ha),Ua(),oa):Ta};oa.distance=function(Ha){return arguments.length?(Qa="function"===typeof Ha?Ha:Fb(+Ha),na(),oa):Qa};return oa};k.forceManyBody=function(){function ma(Da){var Oa=na.length,Ha=q.quadtree(na,ab,bb).visitAfter(Ia);ta=Da;for(Da=0;Da<Oa;++Da)qa=na[Da],Ha.visit(Ua)}function oa(){if(na){var Da,
Oa=na.length;va=Array(Oa);for(Da=0;Da<Oa;++Da){var Ha=na[Da];va[Ha.index]=+Qa(Ha,Da,na)}}}function Ia(Da){var Oa=0,Ha,Va,Fa=0,E,w,F;if(Da.length){for(E=w=F=0;4>F;++F)(Ha=Da[F])&&(Va=Math.abs(Ha.value))&&(Oa+=Ha.value,Fa+=Va,E+=Va*Ha.x,w+=Va*Ha.y);Da.x=E/Fa;Da.y=w/Fa}else{Ha=Da;Ha.x=Ha.data.x;Ha.y=Ha.data.y;do Oa+=va[Ha.data.index];while(Ha=Ha.next)}Da.value=Oa}function Ua(Da,Oa,Ha,Va){if(!Da.value)return!0;Ha=Da.x-qa.x;var Fa=Da.y-qa.y;Oa=Va-Oa;Va=Ha*Ha+Fa*Fa;if(Oa*Oa/wa<Va)return Va<la&&(0===Ha&&
(Ha=1E-6*(Ta()-.5),Va+=Ha*Ha),0===Fa&&(Fa=1E-6*(Ta()-.5),Va+=Fa*Fa),Va<S&&(Va=Math.sqrt(S*Va)),qa.vx+=Ha*Da.value*ta/Va,qa.vy+=Fa*Da.value*ta/Va),!0;if(!(Da.length||Va>=la)){if(Da.data!==qa||Da.next)0===Ha&&(Ha=1E-6*(Ta()-.5),Va+=Ha*Ha),0===Fa&&(Fa=1E-6*(Ta()-.5),Va+=Fa*Fa),Va<S&&(Va=Math.sqrt(S*Va));do Da.data!==qa&&(Oa=va[Da.data.index]*ta/Va,qa.vx+=Ha*Oa,qa.vy+=Fa*Oa);while(Da=Da.next)}}var na,qa,Ta,ta,Qa=Fb(-30),va,S=1,la=Infinity,wa=.81;ma.initialize=function(Da,Oa){na=Da;Ta=Oa;oa()};ma.strength=
function(Da){return arguments.length?(Qa="function"===typeof Da?Da:Fb(+Da),oa(),ma):Qa};ma.distanceMin=function(Da){return arguments.length?(S=Da*Da,ma):Math.sqrt(S)};ma.distanceMax=function(Da){return arguments.length?(la=Da*Da,ma):Math.sqrt(la)};ma.theta=function(Da){return arguments.length?(wa=Da*Da,ma):Math.sqrt(wa)};return ma};k.forceRadial=function(ma,oa,Ia){function Ua(va){for(var S=0,la=qa.length;S<la;++S){var wa=qa[S],Da=wa.x-oa||1E-6,Oa=wa.y-Ia||1E-6,Ha=Math.sqrt(Da*Da+Oa*Oa);Ha=(Qa[S]-
Ha)*ta[S]*va/Ha;wa.vx+=Da*Ha;wa.vy+=Oa*Ha}}function na(){if(qa){var va,S=qa.length;ta=Array(S);Qa=Array(S);for(va=0;va<S;++va)Qa[va]=+ma(qa[va],va,qa),ta[va]=isNaN(Qa[va])?0:+Ta(qa[va],va,qa)}}var qa,Ta=Fb(.1),ta,Qa;"function"!==typeof ma&&(ma=Fb(+ma));null==oa&&(oa=0);null==Ia&&(Ia=0);Ua.initialize=function(va){qa=va;na()};Ua.strength=function(va){return arguments.length?(Ta="function"===typeof va?va:Fb(+va),na(),Ua):Ta};Ua.radius=function(va){return arguments.length?(ma="function"===typeof va?va:
Fb(+va),na(),Ua):ma};Ua.x=function(va){return arguments.length?(oa=+va,Ua):oa};Ua.y=function(va){return arguments.length?(Ia=+va,Ua):Ia};return Ua};k.forceSimulation=function(ma){function oa(){Ia();Da.call("tick",qa);Ta<ta&&(wa.stop(),Da.call("end",qa))}function Ia(Ha){var Va,Fa=ma.length;void 0===Ha&&(Ha=1);for(var E=0;E<Ha;++E)for(Ta+=(va-Ta)*Qa,la.forEach(function(F){F(Ta)}),Va=0;Va<Fa;++Va){var w=ma[Va];null==w.fx?w.x+=w.vx*=S:(w.x=w.fx,w.vx=0);null==w.fy?w.y+=w.vy*=S:(w.y=w.fy,w.vy=0)}return qa}
function Ua(){for(var Ha=0,Va=ma.length,Fa;Ha<Va;++Ha){Fa=ma[Ha];Fa.index=Ha;null!=Fa.fx&&(Fa.x=Fa.fx);null!=Fa.fy&&(Fa.y=Fa.fy);if(isNaN(Fa.x)||isNaN(Fa.y)){var E=10*Math.sqrt(.5+Ha),w=Ha*Ca;Fa.x=E*Math.cos(w);Fa.y=E*Math.sin(w)}if(isNaN(Fa.vx)||isNaN(Fa.vy))Fa.vx=Fa.vy=0}}function na(Ha){Ha.initialize&&Ha.initialize(ma,Oa);return Ha}var qa,Ta=1,ta=.001,Qa=1-Math.pow(ta,1/300),va=0,S=.6,la=new Map,wa=Ma.timer(oa),Da=R.dispatch("tick","end"),Oa=Ea();null==ma&&(ma=[]);Ua();return qa={tick:Ia,restart:function(){return wa.restart(oa),
qa},stop:function(){return wa.stop(),qa},nodes:function(Ha){return arguments.length?(ma=Ha,Ua(),la.forEach(na),qa):ma},alpha:function(Ha){return arguments.length?(Ta=+Ha,qa):Ta},alphaMin:function(Ha){return arguments.length?(ta=+Ha,qa):ta},alphaDecay:function(Ha){return arguments.length?(Qa=+Ha,qa):+Qa},alphaTarget:function(Ha){return arguments.length?(va=+Ha,qa):va},velocityDecay:function(Ha){return arguments.length?(S=1-Ha,qa):1-S},randomSource:function(Ha){return arguments.length?(Oa=Ha,la.forEach(na),
qa):Oa},force:function(Ha,Va){return 1<arguments.length?(null==Va?la.delete(Ha):la.set(Ha,na(Va)),qa):la.get(Ha)},find:function(Ha,Va,Fa){var E,w=ma.length;Fa=null==Fa?Infinity:Fa*Fa;for(E=0;E<w;++E){var F=ma[E];var Z=Ha-F.x;var D=Va-F.y;Z=Z*Z+D*D;if(Z<Fa){var P=F;Fa=Z}}return P},on:function(Ha,Va){return 1<arguments.length?(Da.on(Ha,Va),qa):Da.on(Ha)}}};k.forceX=function(ma){function oa(ta){for(var Qa=0,va=na.length,S;Qa<va;++Qa)S=na[Qa],S.vx+=(Ta[Qa]-S.x)*qa[Qa]*ta}function Ia(){if(na){var ta,Qa=
na.length;qa=Array(Qa);Ta=Array(Qa);for(ta=0;ta<Qa;++ta)qa[ta]=isNaN(Ta[ta]=+ma(na[ta],ta,na))?0:+Ua(na[ta],ta,na)}}var Ua=Fb(.1),na,qa,Ta;"function"!==typeof ma&&(ma=Fb(null==ma?0:+ma));oa.initialize=function(ta){na=ta;Ia()};oa.strength=function(ta){return arguments.length?(Ua="function"===typeof ta?ta:Fb(+ta),Ia(),oa):Ua};oa.x=function(ta){return arguments.length?(ma="function"===typeof ta?ta:Fb(+ta),Ia(),oa):ma};return oa};k.forceY=function(ma){function oa(ta){for(var Qa=0,va=na.length,S;Qa<va;++Qa)S=
na[Qa],S.vy+=(Ta[Qa]-S.y)*qa[Qa]*ta}function Ia(){if(na){var ta,Qa=na.length;qa=Array(Qa);Ta=Array(Qa);for(ta=0;ta<Qa;++ta)qa[ta]=isNaN(Ta[ta]=+ma(na[ta],ta,na))?0:+Ua(na[ta],ta,na)}}var Ua=Fb(.1),na,qa,Ta;"function"!==typeof ma&&(ma=Fb(null==ma?0:+ma));oa.initialize=function(ta){na=ta;Ia()};oa.strength=function(ta){return arguments.length?(Ua="function"===typeof ta?ta:Fb(+ta),Ia(),oa):Ua};oa.y=function(ta){return arguments.length?(ma="function"===typeof ta?ta:Fb(+ta),Ia(),oa):ma};return oa};Object.defineProperty(k,
"__esModule",{value:!0})})};
shadow$provide[48]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb,Vb(27),Vb(15),Vb(47)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-force"],q):(k="undefined"!==typeof globalThis?globalThis:k||self,q((k.vega=k.vega||{},k.vega.transforms={}),k.vega,k.vega,k.d3))})(this,function(k,q,R,Ma){function Fb(ma){q.Transform.call(this,null,ma)}function Ja(ma,oa){return()=>ma.touch(oa).run()}function db(ma,oa){ma=Ma.forceSimulation(ma);
const Ia=ma.stop,Ua=ma.restart;let na=!1;ma.stopped=()=>na;ma.restart=()=>(na=!1,Ua());ma.stop=()=>(na=!0,Ia());return Bb(ma,oa,!0).on("end",()=>na=!0)}function Bb(ma,oa,Ia,Ua){var na=R.array(oa.forces),qa;var Ta=0;for(qa=ab.length;Ta<qa;++Ta){var ta=ab[Ta];if("forces"!==ta&&oa.modified(ta))ma[ta](oa[ta])}Ta=0;for(qa=na.length;Ta<qa;++Ta){var Qa="forces"+Ta;if(Ia||oa.modified("forces",Ta)){ta=void 0;var va=na[Ta];R.hasOwnProperty(Ea,va.force)||R.error("Unrecognized force: "+va.force);var S=Ea[va.force]();
for(ta in va)R.isFunction(S[ta])&&jb(S[ta],va[ta],va);ta=S}else{if(ta=Ua)a:{S=ta=void 0;va=na[Ta];var la=Ua;for(S in va)if(R.isFunction(ta=va[S])&&la.modified(R.accessorFields(ta))){ta=1;break a}ta=0}ta=ta?ma.force(Qa):null}ta&&ma.force(Qa,ta)}for(qa=ma.numForces||0;Ta<qa;++Ta)ma.force("forces"+Ta,null);ma.numForces=na.length;return ma}function jb(ma,oa,Ia){ma(R.isFunction(oa)?Ua=>oa(Ua,Ia):oa)}const Ea={center:Ma.forceCenter,collide:Ma.forceCollide,nbody:Ma.forceManyBody,link:Ma.forceLink,x:Ma.forceX,
y:Ma.forceY},ab=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],bb=["static","iterations"],Ca=["x","y","vx","vy"];Fb.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean","default":!1},{name:"restart",type:"boolean","default":!1},{name:"iterations",type:"number","default":300},{name:"alpha",type:"number","default":1},{name:"alphaMin",type:"number","default":.001},{name:"alphaTarget",type:"number","default":0},{name:"velocityDecay",type:"number","default":.4},
{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number","default":0},{name:"y",type:"number","default":0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number","default":.7},{name:"iterations",type:"number","default":1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number","default":-30},{name:"theta",type:"number","default":.9},{name:"distanceMin",type:"number","default":1},{name:"distanceMax",type:"number"}]},
{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number","default":30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number","default":1}]},{key:{force:"x"},params:[{name:"strength",type:"number","default":.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number","default":.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,"default":Ca}]};R.inherits(Fb,q.Transform,
{transform(ma,oa){var Ia=this.value,Ua=oa.changed(oa.ADD_REM),na=ma.modified(ab),qa=ma.iterations||300;Ia?(Ua&&(oa.modifies("index"),Ia.nodes(oa.source)),(na||oa.changed(oa.MOD))&&Bb(Ia,ma,0,oa)):(this.value=Ia=db(oa.source,ma),Ia.on("tick",Ja(oa.dataflow,this)),ma.static||(Ua=!0,Ia.tick()),oa.modifies("index"));if(na||Ua||ma.modified(bb)||oa.changed()&&ma.restart)if(Ia.alpha(Math.max(Ia.alpha(),ma.alpha||1)).alphaDecay(1-Math.pow(Ia.alphaMin(),1/qa)),ma.static)for(Ia.stop();0<=--qa;)Ia.tick();else if(Ia.stopped()&&
Ia.restart(),!Ua)return oa.StopPropagation;return this.finish(ma,oa)},finish(ma,oa){const Ia=oa.dataflow;for(let ta=this._argops,Qa=0,va=ta.length,S;Qa<va;++Qa)if(S=ta[Qa],"forces"===S.name&&"link"===S.op._argval.force)for(var Ua=S.op._argops,na=0,qa=Ua.length,Ta;na<qa;++na)if("links"===Ua[na].name&&(Ta=Ua[na].op.source)){Ia.pulse(Ta,Ia.changeset().reflow());break}return oa.reflow(ma.modified()).modifies(Ca)}});k.force=Fb;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[49]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb):"function"===typeof define&&define.amd?define(["exports"],q):(k=k||self,q(k.d3=k.d3||{}))})(this,function(k){function q(p,h){return p.parent===h.parent?1:2}function R(p,h){return p+h.x}function Ma(p,h){return Math.max(p,h.y)}function Fb(p){for(var h;h=p.children;)p=h[0];return p}function Ja(p){for(var h;h=p.children;)p=h[h.length-1];return p}function db(p){var h=0,m=p.children,n=m&&m.length;
if(n)for(;0<=--n;)h+=m[n].value;else h=1;p.value=h}function Bb(p,h){p instanceof Map?(p=[void 0,p],void 0===h&&(h=Ea)):void 0===h&&(h=jb);p=new Ca(p);for(var m,n=[p],u,x,L,ia;m=n.pop();)if((x=h(m.data))&&(ia=(x=Array.from(x)).length))for(m.children=x,L=ia-1;0<=L;--L)n.push(u=x[L]=new Ca(x[L])),u.parent=m,u.depth=m.depth+1;return p.eachBefore(bb)}function jb(p){return p.children}function Ea(p){return Array.isArray(p)?p[1]:null}function ab(p){void 0!==p.data.value&&(p.value=p.data.value);p.data=p.data.data}
function bb(p){var h=0;do p.height=h;while((p=p.parent)&&p.height<++h)}function Ca(p){this.data=p;this.depth=this.height=0;this.parent=null}function ma(p){var h=0;p=Array.from(p);for(var m=p.length,n,u;m;)u=Math.random()*m--|0,n=p[m],p[m]=p[u],p[u]=n;m=p.length;n=[];for(var x;h<m;)if(u=p[h],x&&Ia(x,u))++h;else{a:if(h=n,Ua(u,h))h=[u];else{for(n=0;n<h.length;++n)if(oa(u,h[n])&&Ua(na(h[n],u),h)){h=[h[n],u];break a}for(n=0;n<h.length-1;++n)for(x=n+1;x<h.length;++x)if(oa(na(h[n],h[x]),u)&&oa(na(h[n],u),
h[x])&&oa(na(h[x],u),h[n])&&Ua(qa(h[n],h[x],u),h)){h=[h[n],h[x],u];break a}throw Error();}a:{h=n=h;switch(h.length){case 1:h=h[0];h={x:h.x,y:h.y,r:h.r};break a;case 2:h=na(h[0],h[1]);break a;case 3:h=qa(h[0],h[1],h[2]);break a}h=void 0}x=h;h=0}return x}function oa(p,h){var m=p.r-h.r,n=h.x-p.x;p=h.y-p.y;return 0>m||m*m<n*n+p*p}function Ia(p,h){var m=p.r-h.r+1E-9*Math.max(p.r,h.r,1),n=h.x-p.x;p=h.y-p.y;return 0<m&&m*m>n*n+p*p}function Ua(p,h){for(var m=0;m<h.length;++m)if(!Ia(p,h[m]))return!1;return!0}
function na(p,h){var m=p.x,n=p.y;p=p.r;var u=h.x,x=h.y;h=h.r;var L=u-m,ia=x-n,xa=h-p,Wa=Math.sqrt(L*L+ia*ia);return{x:(m+u+L/Wa*xa)/2,y:(n+x+ia/Wa*xa)/2,r:(Wa+p+h)/2}}function qa(p,h,m){var n=p.x,u=p.y;p=p.r;var x=h.x,L=h.y,ia=h.r,xa=m.x,Wa=m.y,$a=m.r;m=n-x;h=n-xa;var fb=u-L,Ba=u-Wa,T=ia-p,da=$a-p,Xa=n*n+u*u-p*p;L=Xa-x*x-L*L+ia*ia;Wa=Xa-xa*xa-Wa*Wa+$a*$a;xa=h*fb-m*Ba;x=(fb*Wa-Ba*L)/(2*xa)-n;fb=(Ba*T-fb*da)/xa;Ba=(h*L-m*Wa)/(2*xa)-u;m=(m*da-h*T)/xa;h=fb*fb+m*m-1;T=2*(p+x*fb+Ba*m);p=x*x+Ba*Ba-p*p;p=
-(h?(T+Math.sqrt(T*T-4*h*p))/(2*h):p/T);return{x:n+x+fb*p,y:u+Ba+m*p,r:p}}function Ta(p,h,m){var n=p.x-h.x,u=p.y-h.y,x=n*n+u*u;if(x){var L=h.r+m.r;L*=L;var ia=p.r+m.r;ia*=ia;if(L>ia){var xa=(x+ia-L)/(2*x);L=Math.sqrt(Math.max(0,ia/x-xa*xa));m.x=p.x-xa*n-L*u;m.y=p.y-xa*u+L*n}else xa=(x+L-ia)/(2*x),L=Math.sqrt(Math.max(0,L/x-xa*xa)),m.x=h.x+xa*n-L*u,m.y=h.y+xa*u+L*n}else m.x=h.x+m.r,m.y=h.y}function ta(p,h){var m=p.r+h.r-1E-6,n=h.x-p.x;p=h.y-p.y;return 0<m&&m*m>n*n+p*p}function Qa(p){var h=p._,m=p.next._,
n=h.r+m.r;p=(h.x*m.r+m.x*h.r)/n;h=(h.y*m.r+m.y*h.r)/n;return p*p+h*h}function va(p){this._=p;this.previous=this.next=null}function S(p){if(!(m=(p="object"===typeof p&&"length"in p?p:Array.from(p)).length))return 0;var h,m;var n=p[0];n.x=0;n.y=0;if(!(1<m))return n.r;var u=p[1];n.x=-u.r;u.x=n.r;u.y=0;if(!(2<m))return n.r+u.r;Ta(u,n,h=p[2]);n=new va(n);u=new va(u);h=new va(h);n.next=h.previous=u;u.next=n.previous=h;h.next=u.previous=n;var x=3;a:for(;x<m;++x){Ta(n._,u._,h=p[x]);h=new va(h);var L=u.next;
var ia=n.previous;var xa=u._.r;var Wa=n._.r;do if(xa<=Wa){if(ta(L._,h._)){u=L;n.next=u;u.previous=n;--x;continue a}xa+=L._.r;L=L.next}else{if(ta(ia._,h._)){n=ia;n.next=u;u.previous=n;--x;continue a}Wa+=ia._.r;ia=ia.previous}while(L!==ia.next);h.previous=n;h.next=u;n.next=u.previous=u=h;for(L=Qa(n);(h=h.next)!==u;)(ia=Qa(h))<L&&(n=h,L=ia);u=n.next}n=[u._];for(h=u;(h=h.next)!==u;)n.push(h._);h=ma(n);for(x=0;x<m;++x)n=p[x],n.x-=h.x,n.y-=h.y;return h.r}function la(p){if("function"!==typeof p)throw Error();
return p}function wa(){return 0}function Da(p){return function(){return p}}function Oa(p){return Math.sqrt(p.value)}function Ha(p){return function(h){h.children||(h.r=Math.max(0,+p(h)||0))}}function Va(p,h){return function(m){if(n=m.children){var n,u,x=n.length,L=p(m)*h||0;if(L)for(u=0;u<x;++u)n[u].r+=L;var ia=S(n);if(L)for(u=0;u<x;++u)n[u].r-=L;m.r=ia+L}}}function Fa(p){return function(h){var m=h.parent;h.r*=p;m&&(h.x=m.x+p*h.x,h.y=m.y+p*h.y)}}function E(p){p.x0=Math.round(p.x0);p.y0=Math.round(p.y0);
p.x1=Math.round(p.x1);p.y1=Math.round(p.y1)}function w(p,h,m,n,u){var x=p.children,L=-1,ia=x.length;for(n=p.value&&(n-h)/p.value;++L<ia;)p=x[L],p.y0=m,p.y1=u,p.x0=h,p.x1=h+=p.value*n}function F(p){return p.id}function Z(p){return p.parentId}function D(p,h){return p.parent===h.parent?1:2}function P(p){var h=p.children;return h?h[0]:p.t}function N(p){var h=p.children;return h?h[h.length-1]:p.t}function Y(p,h){this._=p;this.A=this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=
null;this.i=h}function ua(p){p=new Y(p,0);for(var h,m=[p],n,u,x;h=m.pop();)if(u=h._.children)for(h.children=Array(n=u.length),x=n-1;0<=x;--x)m.push(n=h.children[x]=new Y(u[x],x)),n.parent=h;(p.parent=new Y(null,0)).children=[p];return p}function Ga(p,h,m,n,u){var x=p.children,L=-1,ia=x.length;for(u=p.value&&(u-m)/p.value;++L<ia;)p=x[L],p.x0=h,p.x1=n,p.y0=m,p.y1=m+=p.value*u}function G(p,h,m,n,u,x){for(var L=[],ia=h.children,xa,Wa,$a=xa=0,fb=ia.length,Ba,T=h.value,da,Xa,zb,xb,Pb,bc;xa<fb;){h=u-m;Ba=
x-n;do da=ia[$a++].value;while(!da&&$a<fb);Xa=zb=da;bc=Math.max(Ba/h,h/Ba)/(T*p);xb=da*da*bc;for(Pb=Math.max(zb/xb,xb/Xa);$a<fb;++$a){da+=Wa=ia[$a].value;Wa<Xa&&(Xa=Wa);Wa>zb&&(zb=Wa);xb=da*da*bc;xb=Math.max(zb/xb,xb/Xa);if(xb>Pb){da-=Wa;break}Pb=xb}L.push(xa={value:da,dice:h<Ba,children:ia.slice(xa,$a)});xa.dice?w(xa,m,n,u,T?n+=Ba*da/T:x):Ga(xa,m,n,T?m+=h*da/T:u,x);T-=da;xa=$a}return L}Ca.prototype=Bb.prototype={constructor:Ca,count:function(){return this.eachAfter(db)},each:function(p,h){let m=
-1;for(const n of this)p.call(h,n,++m,this);return this},eachAfter:function(p,h){for(var m,n=[this],u=[],x,L,ia=-1;m=n.pop();)if(u.push(m),m=m.children)for(x=0,L=m.length;x<L;++x)n.push(m[x]);for(;m=u.pop();)p.call(h,m,++ia,this);return this},eachBefore:function(p,h){for(var m,n=[this],u,x=-1;m=n.pop();)if(p.call(h,m,++x,this),m=m.children)for(u=m.length-1;0<=u;--u)n.push(m[u]);return this},find:function(p,h){let m=-1;for(const n of this)if(p.call(h,n,++m,this))return n},sum:function(p){return this.eachAfter(function(h){for(var m=
+p(h.data)||0,n=h.children,u=n&&n.length;0<=--u;)m+=n[u].value;h.value=m})},sort:function(p){return this.eachBefore(function(h){h.children&&h.children.sort(p)})},path:function(p){var h=this;var m=h;var n=p;if(m!==n){var u=m.ancestors(),x=n.ancestors(),L=null;m=u.pop();for(n=x.pop();m===n;)L=m,m=u.pop(),n=x.pop();m=L}for(n=[h];h!==m;)h=h.parent,n.push(h);for(h=n.length;p!==m;)n.splice(h,0,p),p=p.parent;return n},ancestors:function(){for(var p=this,h=[p];p=p.parent;)h.push(p);return h},descendants:function(){return Array.from(this)},
leaves:function(){var p=[];this.eachBefore(function(h){h.children||p.push(h)});return p},links:function(){var p=this,h=[];p.each(function(m){m!==p&&h.push({source:m.parent,target:m})});return h},copy:function(){return Bb(this).eachBefore(ab)},[Symbol.iterator]:function*(){var p,h=[this],m;do{var n=h.reverse();for(h=[];p=n.pop();)if(yield p,p=p.children){var u=0;for(m=p.length;u<m;++u)h.push(p[u])}}while(h.length)}};var ca={depth:-1},ba={};Y.prototype=Object.create(Ca.prototype);var V=(1+Math.sqrt(5))/
2,H=function m(h){function n(u,x,L,ia,xa){G(h,u,x,L,ia,xa)}n.ratio=function(u){return m(1<(u=+u)?u:1)};return n}(V);V=function n(m){function u(x,L,ia,xa,Wa){if(($a=x._squarify)&&$a.ratio===m)for(var $a,fb,Ba,T=-1,da,Xa=$a.length,zb=x.value;++T<Xa;){x=$a[T];fb=x.children;Ba=x.value=0;for(da=fb.length;Ba<da;++Ba)x.value+=fb[Ba].value;x.dice?w(x,L,ia,xa,zb?ia+=(Wa-ia)*x.value/zb:Wa):Ga(x,L,ia,zb?L+=(xa-L)*x.value/zb:xa,Wa);zb-=x.value}else x._squarify=$a=G(m,x,L,ia,xa,Wa),$a.ratio=m}u.ratio=function(x){return n(1<
(x=+x)?x:1)};return u}(V);k.cluster=function(){function m(ia){var xa,Wa=0;ia.eachAfter(function(da){var Xa=da.children;if(Xa){var zb=Xa.reduce(R,0)/Xa.length;da.x=zb;da.y=1+Xa.reduce(Ma,0)}else da.x=xa?Wa+=n(da,xa):0,da.y=0,xa=da});var $a=Fb(ia),fb=Ja(ia),Ba=$a.x-n($a,fb)/2,T=fb.x+n(fb,$a)/2;return ia.eachAfter(L?function(da){da.x=(da.x-ia.x)*u;da.y=(ia.y-da.y)*x}:function(da){da.x=(da.x-Ba)/(T-Ba)*u;da.y=(1-(ia.y?da.y/ia.y:1))*x})}var n=q,u=1,x=1,L=!1;m.separation=function(ia){return arguments.length?
(n=ia,m):n};m.size=function(ia){return arguments.length?(L=!1,u=+ia[0],x=+ia[1],m):L?null:[u,x]};m.nodeSize=function(ia){return arguments.length?(L=!0,u=+ia[0],x=+ia[1],m):L?[u,x]:null};return m};k.hierarchy=Bb;k.pack=function(){function m(ia){ia.x=u/2;ia.y=x/2;n?ia.eachBefore(Ha(n)).eachAfter(Va(L,.5)).eachBefore(Fa(1)):ia.eachBefore(Ha(Oa)).eachAfter(Va(wa,1)).eachAfter(Va(L,ia.r/Math.min(u,x))).eachBefore(Fa(Math.min(u,x)/(2*ia.r)));return ia}var n=null,u=1,x=1,L=wa;m.radius=function(ia){return arguments.length?
(n=null==ia?null:la(ia),m):n};m.size=function(ia){return arguments.length?(u=+ia[0],x=+ia[1],m):[u,x]};m.padding=function(ia){return arguments.length?(L="function"===typeof ia?ia:Da(+ia),m):L};return m};k.packEnclose=ma;k.packSiblings=function(m){S(m);return m};k.partition=function(){function m(xa){var Wa=xa.height+1;xa.x0=xa.y0=L;xa.x1=u;xa.y1=x/Wa;xa.eachBefore(n(x,Wa));ia&&xa.eachBefore(E);return xa}function n(xa,Wa){return function($a){$a.children&&w($a,$a.x0,xa*($a.depth+1)/Wa,$a.x1,xa*($a.depth+
2)/Wa);var fb=$a.x0,Ba=$a.y0,T=$a.x1-L,da=$a.y1-L;T<fb&&(fb=T=(fb+T)/2);da<Ba&&(Ba=da=(Ba+da)/2);$a.x0=fb;$a.y0=Ba;$a.x1=T;$a.y1=da}}var u=1,x=1,L=0,ia=!1;m.round=function(xa){return arguments.length?(ia=!!xa,m):ia};m.size=function(xa){return arguments.length?(u=+xa[0],x=+xa[1],m):[u,x]};m.padding=function(xa){return arguments.length?(L=+xa,m):L};return m};k.stratify=function(){function m(x){var L=Array.from(x),ia=L.length,xa,Wa,$a=new Map;for(xa=0;xa<ia;++xa){var fb=L[xa];var Ba=L[xa]=new Ca(fb);
if(null!=(Wa=n(fb,xa,x))&&(Wa+="")){var T=Ba.id=Wa;$a.set(T,$a.has(T)?ba:Ba)}null!=(Wa=u(fb,xa,x))&&(Wa+="")&&(Ba.parent=Wa)}for(xa=0;xa<ia;++xa)if(Ba=L[xa],Wa=Ba.parent){x=$a.get(Wa);if(!x)throw Error("missing: "+Wa);if(x===ba)throw Error("ambiguous: "+Wa);x.children?x.children.push(Ba):x.children=[Ba];Ba.parent=x}else{if(da)throw Error("multiple roots");var da=Ba}if(!da)throw Error("no root");da.parent=ca;da.eachBefore(function(Xa){Xa.depth=Xa.parent.depth+1;--ia}).eachBefore(bb);da.parent=null;
if(0<ia)throw Error("cycle");return da}var n=F,u=Z;m.id=function(x){return arguments.length?(n=la(x),m):n};m.parentId=function(x){return arguments.length?(u=la(x),m):u};return m};k.tree=function(){function m($a){var fb=ua($a);fb.eachAfter(n);fb.parent.m=-fb.z;fb.eachBefore(u);if(Wa)$a.eachBefore(x);else{var Ba=$a,T=$a,da=$a;$a.eachBefore(function(Pb){Pb.x<Ba.x&&(Ba=Pb);Pb.x>T.x&&(T=Pb);Pb.depth>da.depth&&(da=Pb)});fb=Ba===T?1:L(Ba,T)/2;var Xa=fb-Ba.x,zb=ia/(T.x+fb+Xa),xb=xa/(da.depth||1);$a.eachBefore(function(Pb){Pb.x=
(Pb.x+Xa)*zb;Pb.y=Pb.depth*xb})}return $a}function n($a){var fb=$a.children,Ba=$a.parent.children,T=$a.i?Ba[$a.i-1]:null;if(fb){for(var da=0,Xa=0,zb=$a.children,xb=zb.length,Pb;0<=--xb;)Pb=zb[xb],Pb.z+=da,Pb.m+=da,da+=Pb.s+(Xa+=Pb.c);fb=(fb[0].z+fb[fb.length-1].z)/2;T?($a.z=T.z+L($a._,T._),$a.m=$a.z-fb):$a.z=fb}else T&&($a.z=T.z+L($a._,T._));fb=$a.parent;Ba=$a.parent.A||Ba[0];if(T){Xa=da=$a;zb=da.parent.children[0];xb=da.m;Pb=Xa.m;for(var bc=T.m,Uc=zb.m,yc;T=N(T),da=P(da),T&&da;){zb=P(zb);Xa=N(Xa);
Xa.a=$a;yc=T.z+bc-da.z-xb+L(T._,da._);if(0<yc){var Vc=T.a.parent===$a.parent?T.a:Ba,ya=$a,Nb=yc,Sb=Nb/(ya.i-Vc.i);ya.c-=Sb;ya.s+=Nb;Vc.c+=Sb;ya.z+=Nb;ya.m+=Nb;xb+=yc;Pb+=yc}bc+=T.m;xb+=da.m;Uc+=zb.m;Pb+=Xa.m}T&&!N(Xa)&&(Xa.t=T,Xa.m+=bc-Pb);da&&!P(zb)&&(zb.t=da,zb.m+=xb-Uc,Ba=$a)}fb.A=Ba}function u($a){$a._.x=$a.z+$a.parent.m;$a.m+=$a.parent.m}function x($a){$a.x*=ia;$a.y=$a.depth*xa}var L=D,ia=1,xa=1,Wa=null;m.separation=function($a){return arguments.length?(L=$a,m):L};m.size=function($a){return arguments.length?
(Wa=!1,ia=+$a[0],xa=+$a[1],m):Wa?null:[ia,xa]};m.nodeSize=function($a){return arguments.length?(Wa=!0,ia=+$a[0],xa=+$a[1],m):Wa?[ia,xa]:null};return m};k.treemap=function(){function m(da){da.x0=da.y0=0;da.x1=L;da.y1=ia;da.eachBefore(n);xa=[0];x&&da.eachBefore(E);return da}function n(da){var Xa=xa[da.depth],zb=da.x0+Xa,xb=da.y0+Xa,Pb=da.x1-Xa,bc=da.y1-Xa;Pb<zb&&(zb=Pb=(zb+Pb)/2);bc<xb&&(xb=bc=(xb+bc)/2);da.x0=zb;da.y0=xb;da.x1=Pb;da.y1=bc;da.children&&(Xa=xa[da.depth+1]=Wa(da)/2,zb+=T(da)-Xa,xb+=$a(da)-
Xa,Pb-=fb(da)-Xa,bc-=Ba(da)-Xa,Pb<zb&&(zb=Pb=(zb+Pb)/2),bc<xb&&(xb=bc=(xb+bc)/2),u(da,zb,xb,Pb,bc))}var u=H,x=!1,L=1,ia=1,xa=[0],Wa=wa,$a=wa,fb=wa,Ba=wa,T=wa;m.round=function(da){return arguments.length?(x=!!da,m):x};m.size=function(da){return arguments.length?(L=+da[0],ia=+da[1],m):[L,ia]};m.tile=function(da){return arguments.length?(u=la(da),m):u};m.padding=function(da){return arguments.length?m.paddingInner(da).paddingOuter(da):m.paddingInner()};m.paddingInner=function(da){return arguments.length?
(Wa="function"===typeof da?da:Da(+da),m):Wa};m.paddingOuter=function(da){return arguments.length?m.paddingTop(da).paddingRight(da).paddingBottom(da).paddingLeft(da):m.paddingTop()};m.paddingTop=function(da){return arguments.length?($a="function"===typeof da?da:Da(+da),m):$a};m.paddingRight=function(da){return arguments.length?(fb="function"===typeof da?da:Da(+da),m):fb};m.paddingBottom=function(da){return arguments.length?(Ba="function"===typeof da?da:Da(+da),m):Ba};m.paddingLeft=function(da){return arguments.length?
(T="function"===typeof da?da:Da(+da),m):T};return m};k.treemapBinary=function(m,n,u,x,L){function ia(T,da,Xa,zb,xb,Pb,bc){if(T>=da-1)T=xa[T],T.x0=zb,T.y0=xb,T.x1=Pb,T.y1=bc;else{for(var Uc=Ba[T],yc=Xa/2+Uc,Vc=T+1,ya=da-1;Vc<ya;){var Nb=Vc+ya>>>1;Ba[Nb]<yc?Vc=Nb+1:ya=Nb}yc-Ba[Vc-1]<Ba[Vc]-yc&&T+1<Vc&&--Vc;Uc=Ba[Vc]-Uc;yc=Xa-Uc;Pb-zb>bc-xb?(Xa=Xa?(zb*yc+Pb*Uc)/Xa:Pb,ia(T,Vc,Uc,zb,xb,Xa,bc),ia(Vc,da,yc,Xa,xb,Pb,bc)):(Xa=Xa?(xb*yc+bc*Uc)/Xa:bc,ia(T,Vc,Uc,zb,xb,Pb,Xa),ia(Vc,da,yc,zb,Xa,Pb,bc))}}var xa=
m.children,Wa,$a=xa.length,fb,Ba=Array($a+1);for(Ba[0]=fb=Wa=0;Wa<$a;++Wa)Ba[Wa+1]=fb+=xa[Wa].value;ia(0,$a,m.value,n,u,x,L)};k.treemapDice=w;k.treemapResquarify=V;k.treemapSlice=Ga;k.treemapSliceDice=function(m,n,u,x,L){(m.depth&1?Ga:w)(m,n,u,x,L)};k.treemapSquarify=H;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[50]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb,Vb(27),Vb(15),Vb(49)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-hierarchy"],q):(k="undefined"!==typeof globalThis?globalThis:k||self,q(k.vega={},k.vega,k.vega,k.d3))})(this,function(k,q,R,Ma){function Fb(ta,Qa,va){const S={};ta.each(la=>{const wa=la.data;va(wa)&&(S[Qa(wa)]=la)});ta.lookup=S;return ta}function Ja(ta){q.Transform.call(this,null,ta)}
function db(){function ta(la,wa){if(wa>=va.length)return la;const Da=la.length,Oa=va[wa++],Ha={},Va={};let Fa=-1,E,w,F;for(;++Fa<Da;)E=Oa(w=la[Fa])+"",(F=Ha[E])?F.push(w):Ha[E]=[w];for(E in Ha)Va[E]=ta(Ha[E],wa);return Va}function Qa(la,wa){if(++wa>va.length)return la;const Da=[];for(const Oa in la)Da.push({key:Oa,values:Qa(la[Oa],wa)});return Da}const va=[],S={entries:la=>Qa(ta(la,0),0),key:la=>(va.push(la),S)};return S}function Bb(ta){q.Transform.call(this,null,ta)}function jb(ta,Qa,va){for(let S,
la=0,wa=Qa.length;la<wa;++la)if(S=Qa[la],S in va)ta[S](va[S])}function Ea(ta){Bb.call(this,ta)}function ab(ta){Bb.call(this,ta)}function bb(ta){q.Transform.call(this,null,ta)}function Ca(ta){Bb.call(this,ta)}function ma(ta){q.Transform.call(this,[],ta)}function oa(ta){Bb.call(this,ta)}Ja.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const Ia=ta=>ta.values;R.inherits(Ja,q.Transform,{transform(ta,Qa){Qa.source||
R.error("Nest transform requires an upstream data source.");var va=ta.generate,S=ta.modified(),la=Qa.clone(),wa=this.value;if(!wa||S||Qa.changed())wa&&wa.each(Da=>{Da.children&&q.isTuple(Da.data)&&la.rem.push(Da.data)}),this.value=wa=Ma.hierarchy({values:R.array(ta.keys).reduce((Da,Oa)=>{Da.key(Oa);return Da},db()).entries(la.source)},Ia),va&&wa.each(Da=>{Da.children&&(Da=q.ingest(Da.data),la.add.push(Da),la.source.push(Da))}),Fb(wa,q.tupleid,q.tupleid);la.source.root=wa;return la}});const Ua=(ta,
Qa)=>ta.parent===Qa.parent?1:2;R.inherits(Bb,q.Transform,{transform(ta,Qa){Qa.source&&Qa.source.root||R.error(this.constructor.name+" transform requires a backing tree data source.");const va=this.layout(ta.method),S=this.fields,la=Qa.source.root,wa=ta.as||S;ta.field?la.sum(ta.field):la.count();ta.sort&&la.sort(q.stableCompare(ta.sort,Da=>Da.data));jb(va,this.params,ta);va.separation&&va.separation(!1!==ta.separation?Ua:R.one);try{this.value=va(la)}catch(Da){R.error(Da)}la.each(Da=>{{const Oa=Da.data,
Ha=S.length-1;for(let Va=0;Va<Ha;++Va)Oa[wa[Va]]=Da[S[Va]];Oa[wa[Ha]]=Da.children?Da.children.length:0}});return Qa.reflow(ta.modified()).modifies(wa).modifies("leaf")}});var na=["x","y","r","depth","children"];Ea.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"radius",type:"field","default":null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,
length:na.length,"default":na}]};R.inherits(Ea,Bb,{layout:Ma.pack,params:["radius","size","padding"],fields:na});na="x0 y0 x1 y1 depth children".split(" ");ab.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:na.length,"default":na}]};R.inherits(ab,Bb,{layout:Ma.partition,
params:["size","round","padding"],fields:na});bb.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};R.inherits(bb,q.Transform,{transform(ta,Qa){Qa.source||R.error("Stratify transform requires an upstream data source.");let va=this.value;const S=ta.modified(),la=Qa.fork(Qa.ALL).materialize(Qa.SOURCE);Qa=!va||S||Qa.changed(Qa.ADD_REM)||Qa.modified(ta.key.fields)||Qa.modified(ta.parentKey.fields);la.source=
la.source.slice();Qa&&(va=la.source.length?Fb(Ma.stratify().id(ta.key).parentId(ta.parentKey)(la.source),ta.key,R.truthy):Fb(Ma.stratify()([{}]),ta.key,ta.key));la.source.root=this.value=va;return la}});const qa={tidy:Ma.tree,cluster:Ma.cluster};na=["x","y","depth","children"];Ca.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,
length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean","default":!0},{name:"as",type:"string",array:!0,length:na.length,"default":na}]};R.inherits(Ca,Bb,{layout(ta){ta=ta||"tidy";if(R.hasOwnProperty(qa,ta))return qa[ta]();R.error("Unrecognized Tree layout method: "+ta)},params:["size","nodeSize"],fields:na});ma.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};R.inherits(ma,q.Transform,{transform(ta,Qa){ta=this.value;const va=
Qa.source&&Qa.source.root,S=Qa.fork(Qa.NO_SOURCE),la={};va||R.error("TreeLinks transform requires a tree data source.");Qa.changed(Qa.ADD_REM)?(S.rem=ta,Qa.visit(Qa.SOURCE,wa=>la[q.tupleid(wa)]=1),va.each(wa=>{const Da=wa.data;(wa=wa.parent&&wa.parent.data)&&la[q.tupleid(Da)]&&la[q.tupleid(wa)]&&S.add.push(q.ingest({source:wa,target:Da}))}),this.value=S.add):Qa.changed(Qa.MOD)&&(Qa.visit(Qa.MOD,wa=>la[q.tupleid(wa)]=1),ta.forEach(wa=>{(la[q.tupleid(wa.source)]||la[q.tupleid(wa.target)])&&S.mod.push(wa)}));
return S}});const Ta={binary:Ma.treemapBinary,dice:Ma.treemapDice,slice:Ma.treemapSlice,slicedice:Ma.treemapSliceDice,squarify:Ma.treemapSquarify,resquarify:Ma.treemapResquarify};na="x0 y0 x1 y1 depth children".split(" ");oa.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"squarify",values:"squarify resquarify binary dice slice slicedice".split(" ")},{name:"padding",type:"number","default":0},
{name:"paddingInner",type:"number","default":0},{name:"paddingOuter",type:"number","default":0},{name:"paddingTop",type:"number","default":0},{name:"paddingRight",type:"number","default":0},{name:"paddingBottom",type:"number","default":0},{name:"paddingLeft",type:"number","default":0},{name:"ratio",type:"number","default":1.618033988749895},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:na.length,"default":na}]};R.inherits(oa,
Bb,{layout(){const ta=Ma.treemap();ta.ratio=Qa=>{const va=ta.tile();va.ratio&&ta.tile(va.ratio(Qa))};ta.method=Qa=>{R.hasOwnProperty(Ta,Qa)?ta.tile(Ta[Qa]):R.error("Unrecognized Treemap layout method: "+Qa)};return ta},params:"method ratio size round padding paddingInner paddingOuter paddingTop paddingRight paddingBottom paddingLeft".split(" "),fields:na});k.nest=Ja;k.pack=Ea;k.partition=ab;k.stratify=bb;k.tree=Ca;k.treelinks=ma;k.treemap=oa;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[51]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb,Vb(32),Vb(27),Vb(37),Vb(15)):"function"===typeof define&&define.amd?define(["exports","vega-canvas","vega-dataflow","vega-scenegraph","vega-util"],q):(k="undefined"!==typeof globalThis?globalThis:k||self,q((k.vega=k.vega||{},k.vega.transforms={}),k.vega,k.vega,k.vega,k.vega))})(this,function(k,q,R,Ma,Fb){function Ja(Fa,E){const w=Fa.bitmap();(E||[]).forEach(F=>w.set(Fa(F.boundary[0]),Fa(F.boundary[3])));
return[w,void 0]}function db(Fa,E,w,F){const Z=Fa.width,D=Fa.height,P=w||F,N=q.canvas(Z,D).getContext("2d");E.forEach(V=>Bb(N,V,P));E=new Uint32Array(N.getImageData(0,0,Z,D).data.buffer);w=Fa.bitmap();const Y=P&&Fa.bitmap();let ua,Ga,G,ca,ba;for(Ga=0;Ga<D;++Ga)for(ua=0;ua<Z;++ua)if(ba=E[Ga*Z+ua]&4278190080)G=Fa(ua),ca=Fa(Ga),F||w.set(G,ca),P&&ba^268435456&&Y.set(G,ca);return[w,Y]}function Bb(Fa,E,w){if(E.length){var F=E[0].mark.marktype;"group"===F?E.forEach(Z=>{Z.items.forEach(D=>Bb(Fa,D.items,w))}):
Ma.Marks[F].draw(Fa,{items:w?E.map(jb):E})}}function jb(Fa){Fa=R.rederive(Fa,{});Fa.stroke&&(Fa.strokeOpacity=1);Fa.fill&&(Fa.fillOpacity=.0625,Fa.stroke="#000",Fa.strokeOpacity=1,Fa.strokeWidth=2);return Fa}function Ea(Fa,E){const w=new Uint32Array(~~((Fa*E+32)/32));return{array:w,get:(F,Z)=>{F=Z*Fa+F;return w[F>>>5]&1<<(F&31)},set:(F,Z)=>{F=Z*Fa+F;w[F>>>5]|=1<<(F&31)},clear:(F,Z)=>{F=Z*Fa+F;w[F>>>5]&=~(1<<(F&31))},getRange:(F,Z,D,P)=>{let N,Y,ua;for(;P>=Z;--P){var Ga=P*Fa+F;N=P*Fa+D;Y=Ga>>>5;ua=
N>>>5;if(Y===ua){if(w[Y]&ta[Ga&31]&Qa[(N&31)+1])return!0}else{if(w[Y]&ta[Ga&31]||w[ua]&Qa[(N&31)+1])return!0;for(Ga=Y+1;Ga<ua;++Ga)if(w[Ga])return!0}}return!1},setRange:(F,Z,D,P)=>{let N,Y,ua;for(;Z<=P;++Z){var Ga=Z*Fa+F;N=Z*Fa+D;Y=Ga>>>5;ua=N>>>5;if(Y===ua)w[Y]|=ta[Ga&31]&Qa[(N&31)+1];else for(w[Y]|=ta[Ga&31],w[ua]|=Qa[(N&31)+1],Ga=Y+1;Ga<ua;++Ga)w[Ga]|=4294967295}},clearRange:(F,Z,D,P)=>{let N,Y,ua;for(;Z<=P;++Z){var Ga=Z*Fa+F;N=Z*Fa+D;Y=Ga>>>5;ua=N>>>5;if(Y===ua)w[Y]&=Qa[Ga&31]|ta[(N&31)+1];else for(w[Y]&=
Qa[Ga&31],w[ua]&=ta[(N&31)+1],Ga=Y+1;Ga<ua;++Ga)w[Ga]&=0}},outOfBounds:(F,Z,D,P)=>0>F||0>Z||P>=E||D>=Fa}}function ab(Fa,E,w){const F=Math.max(1,Math.sqrt(Fa*E/1E6)),Z=~~((Fa+2*w+F)/F),D=~~((E+2*w+F)/F),P=N=>~~((N+w)/F);P.invert=N=>N*F-w;P.bitmap=()=>Ea(Z,D);P.ratio=F;P.padding=w;P.width=Fa;P.height=E;return P}function bb(Fa,E,w,F,Z,D){w/=2;return 0>Fa-w||Fa+w>Z||0>E-(w=F/2)||E+w>D}function Ca(Fa,E,w,F,Z,D,P,N){Z=Z*D/(2*F);F=Fa(E-Z);E=Fa(E+Z);Z=Fa(w-(D/=2));Fa=Fa(w+D);return P.outOfBounds(F,Z,E,Fa)||
P.getRange(F,Z,E,Fa)||N&&N.getRange(F,Z,E,Fa)}function ma(Fa,E,w,F){const Z=Fa.width,D=Fa.height,P=E[0],N=E[1],Y=F.length;return function(ua){const Ga=ua.boundary,G=ua.datum.fontSize;if(0>Ga[2]||0>Ga[5]||Ga[0]>Z||Ga[3]>D)return!1;let ca=0,ba,V;let H,p;let h;let m;let n,u;for(let Vc=0;Vc<Y;++Vc){ba=(w[Vc]&3)-1;V=(w[Vc]>>>2&3)-1;var x=0===ba&&0===V||0>F[Vc];var L=ba&&V?Math.SQRT1_2:1;H=0>F[Vc]?-1:1;p=Ga[1+ba]+F[Vc]*ba*L;m=Ga[4+V]+H*G*V/2+F[Vc]*V*L;L=m-G/2;h=m+G/2;var ia=Fa(p);n=Fa(L);u=Fa(h);if(!ca){var xa=
ia;var Wa=n;var $a=u;var fb=P,Ba=N,T=p,da=p,Xa=L,zb=h,xb=Ga,Pb=x;if(!fb.outOfBounds(xa,Wa,ia,$a)&&(Pb&&Ba?!Ba.getRange(xa,Wa,ia,$a)&&xb[0]<=T&&da<=xb[2]&&xb[3]<=Xa&&zb<=xb[5]:!fb.getRange(xa,Wa,ia,$a)))ca=Ma.textMetrics.width(ua.datum,ua.datum.text);else continue}Wa=p+H*ca*ba/2;p=Wa-ca/2;xa=Wa+ca/2;ia=Fa(p);$a=Fa(xa);fb=ia;Ba=$a;T=n;da=u;Xa=P;zb=N;xb=p;Pb=xa;var bc=L,Uc=h,yc=Ga;if(!Xa.outOfBounds(fb,T,Ba,da)&&(x&&zb?!zb.getRange(fb,T,Ba,da)&&yc[0]<=xb&&Pb<=yc[2]&&yc[3]<=bc&&Uc<=yc[5]:!Xa.getRange(fb,
T,Ba,da)))return ua.x=ba?0>ba*H?xa:p:Wa,ua.y=V?0>V*H?h:L:m,ua.align=la[ba*H+1],ua.baseline=wa[V*H+1],P.setRange(ia,n,$a,u),!0}return!1}}function oa(Fa,E,w,F,Z,D,P,N,Y,ua,Ga){if(!Fa.length)return Fa;var G=Math.max(F.length,Z.length);F=Ia(F,G);Z=Ua(Z,G);G=na(Fa[0].datum);const ca="group"===G&&Fa[0].datum.items[Y].marktype,ba="area"===ca,V=qa(G,ca,N,Y);E=ab(E[0],E[1],ua);ua=ba&&"naive"===Ga;N=Fa.map(h=>({datum:h,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:V(h)}));if(!ua){w&&N.sort((h,
m)=>w(h.datum,m.datum));var H=!1;for(ua=0;ua<Z.length&&!H;++ua)H=5===Z[ua]||0>F[ua];G&&(P||ba)&&(D=[Fa.map(h=>h.datum)].concat(D));H=D.length?db(E,D,H,ba):Ja(E,P&&N)}const p=ba?Oa[Ga](E,H,P,Y):ma(E,H,Z,F);N.forEach(h=>h.opacity=+p(h));return N}function Ia(Fa,E){const w=new Float64Array(E),F=Fa.length;for(let Z=0;Z<F;++Z)w[Z]=Fa[Z]||0;for(Fa=F;Fa<E;++Fa)w[Fa]=w[F-1];return w}function Ua(Fa,E){const w=new Int8Array(E),F=Fa.length;for(let Z=0;Z<F;++Z)w[Z]|=Da[Fa[Z]];for(Fa=F;Fa<E;++Fa)w[Fa]=w[F-1];return w}
function na(Fa){return Fa&&Fa.mark&&Fa.mark.marktype}function qa(Fa,E,w,F){const Z=D=>[D.x,D.x,D.x,D.y,D.y,D.y];return Fa?"line"===Fa||"area"===Fa?D=>Z(D.datum):"line"===E?D=>{D=D.datum.items[F].items;return Z(D.length?D["start"===w?0:D.length-1]:{x:NaN,y:NaN})}:D=>{D=D.datum.bounds;return[D.x1,(D.x1+D.x2)/2,D.x2,D.y1,(D.y1+D.y2)/2,D.y2]}:Z}function Ta(Fa){R.Transform.call(this,null,Fa)}const ta=new Uint32Array(33),Qa=new Uint32Array(33);Qa[0]=0;ta[0]=~Qa[0];for(let Fa=1;32>=Fa;++Fa)Qa[Fa]=Qa[Fa-
1]<<1|1,ta[Fa]=~Qa[Fa];const va=[-1,-1,1,1],S=[-1,1,-1,1],la=["right","center","left"],wa=["bottom","middle","top"],Da={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},Oa={naive:function(Fa,E,w,F){const Z=Fa.width,D=Fa.height;return function(P){const N=P.datum.datum.items[F].items,Y=N.length,ua=P.datum.fontSize,Ga=Ma.textMetrics.width(P.datum,P.datum.text);let G=0;let ca,ba,V,H,p;for(let m=0;m<Y;++m){var h=N[m].x;ba=N[m].y;ca=void 0===N[m].x2?h:
N[m].x2;V=void 0===N[m].y2?ba:N[m].y2;H=(h+ca)/2;p=(ba+V)/2;h=Math.abs(ca-h+V-ba);h>=G&&(G=h,P.x=H,P.y=p)}H=Ga/2;p=ua/2;h=P.x-H;ca=P.x+H;ba=P.y-p;V=P.y+p;P.align="center";0>h&&ca<=Z?P.align="left":0<=h&&Z<ca&&(P.align="right");P.baseline="middle";0>ba&&V<=D?P.baseline="top":0<=ba&&D<V&&(P.baseline="bottom");return!0}},"reduced-search":function(Fa,E,w,F){function Z(ua,Ga,G,ca,ba){ua=Fa.invert(ua);Ga=Fa.invert(Ga);let V=G,H=P,p;if(!bb(ua,Ga,ca,ba,D,P)&&!Ca(Fa,ua,Ga,ba,ca,V,N,Y)&&!Ca(Fa,ua,Ga,ba,ca,
ba,N,null)){for(;1<=H-V;)p=(V+H)/2,Ca(Fa,ua,Ga,ba,ca,p,N,Y)?H=p:V=p;if(V>G)return[ua,Ga,V,!0]}}const D=Fa.width,P=Fa.height,N=E[0],Y=E[1];return function(ua){const Ga=ua.datum.datum.items[F].items,G=Ga.length,ca=ua.datum.fontSize,ba=Ma.textMetrics.width(ua.datum,ua.datum.text);let V=w?ca:0,H=!1,p=!1,h=0;let m;let n;let u,x,L,ia,xa,Wa,$a,fb;for(let Xa=0;Xa<G;++Xa){var Ba=Ga[Xa].x;var T=Ga[Xa].y;m=void 0===Ga[Xa].x2?Ba:Ga[Xa].x2;n=void 0===Ga[Xa].y2?T:Ga[Xa].y2;if(Ba>m){var da=Ba;Ba=m;m=da}T>n&&(da=
T,T=n,n=da);x=Fa(Ba);ia=Fa(m);L=~~((x+ia)/2);xa=Fa(T);$a=Fa(n);Wa=~~((xa+$a)/2);for(da=L;da>=x;--da)for(u=Wa;u>=xa;--u)(fb=Z(da,u,V,ba,ca))&&([ua.x,ua.y,V,H]=fb);for(da=L;da<=ia;++da)for(u=Wa;u<=$a;++u)(fb=Z(da,u,V,ba,ca))&&([ua.x,ua.y,V,H]=fb);H||w||(da=Math.abs(m-Ba+n-T),Ba=(Ba+m)/2,T=(T+n)/2,da>=h&&!bb(Ba,T,ba,ca,D,P)&&!Ca(Fa,Ba,T,ca,ba,ca,N,null)&&(h=da,ua.x=Ba,ua.y=T,p=!0))}return H||p?(Ba=ba/2,T=ca/2,N.setRange(Fa(ua.x-Ba),Fa(ua.y-T),Fa(ua.x+Ba),Fa(ua.y+T)),ua.align="center",ua.baseline="middle",
!0):!1}},floodfill:function(Fa,E,w,F){const Z=Fa.width,D=Fa.height,P=E[0],N=E[1],Y=Fa.bitmap();return function(ua){const Ga=ua.datum.datum.items[F].items,G=Ga.length,ca=ua.datum.fontSize,ba=Ma.textMetrics.width(ua.datum,ua.datum.text),V=[];let H=w?ca:0,p=!1,h=!1,m=0,n,u,x,L,ia,xa;var Wa;for(let Ba=0;Ba<G;++Ba){n=Ga[Ba].x;x=Ga[Ba].y;u=void 0===Ga[Ba].x2?n:Ga[Ba].x2;L=void 0===Ga[Ba].y2?x:Ga[Ba].y2;for(V.push([Fa((n+u)/2),Fa((x+L)/2)]);V.length;)if([$a,fb]=V.pop(),!(P.get($a,fb)||N.get($a,fb)||Y.get($a,
fb))){Y.set($a,fb);for(Wa=0;4>Wa;++Wa)ia=$a+va[Wa],xa=fb+S[Wa],Y.outOfBounds(ia,xa,ia,xa)||V.push([ia,xa]);ia=Fa.invert($a);xa=Fa.invert(fb);var $a=H;var fb=D;if(!bb(ia,xa,ba,ca,Z,D)&&!Ca(Fa,ia,xa,ca,ba,$a,P,N)&&!Ca(Fa,ia,xa,ca,ba,ca,P,null)){for(;1<=fb-$a;)Wa=($a+fb)/2,Ca(Fa,ia,xa,ca,ba,Wa,P,N)?fb=Wa:$a=Wa;$a>H&&(ua.x=ia,ua.y=xa,H=$a,p=!0)}}p||w||($a=Math.abs(u-n+L-x),ia=(n+u)/2,xa=(x+L)/2,$a>=m&&!bb(ia,xa,ba,ca,Z,D)&&!Ca(Fa,ia,xa,ca,ba,ca,P,null)&&(m=$a,ua.x=ia,ua.y=xa,h=!0))}return p||h?(ia=ba/
2,xa=ca/2,P.setRange(Fa(ua.x-ia),Fa(ua.y-xa),Fa(ua.x+ia),Fa(ua.y+xa)),ua.align="center",ua.baseline="middle",!0):!1}}},Ha=["x","y","opacity","align","baseline"],Va="top-left left bottom-left top bottom top-right right bottom-right".split(" ");Ta.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:Va},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",
type:"number",default:0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:Ha.length,default:Ha}]};Fb.inherits(Ta,R.Transform,{transform(Fa,E){function w(D){D=Fa[D];return Fb.isFunction(D)&&E.modified(D.fields)}const F=Fa.modified();if(F||E.changed(E.ADD_REM)||
w("sort")){Fa.size&&2===Fa.size.length||Fb.error("Size parameter should be specified as a [width, height] array.");var Z=Fa.as||Ha;oa(E.materialize(E.SOURCE).source,Fa.size,Fa.sort,Fb.array(Fa.offset||1),Fb.array(Fa.anchor||Va),Fa.avoidMarks||[],!1===Fa.avoidBaseMark?!1:!0,Fa.lineAnchor||"end",Fa.markIndex||0,Fa.padding||0,Fa.method||"naive").forEach(D=>{const P=D.datum;P[Z[0]]=D.x;P[Z[1]]=D.y;P[Z[2]]=D.opacity;P[Z[3]]=D.align;P[Z[4]]=D.baseline});return E.reflow(F).modifies(Z)}}});k.label=Ta;Object.defineProperty(k,
"__esModule",{value:!0})})};
shadow$provide[52]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb,Vb(28),Vb(27),Vb(15)):"function"===typeof define&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],q):(k="undefined"!==typeof globalThis?globalThis:k||self,q(k.vega={},k.vega,k.vega,k.vega))})(this,function(k,q,R,Ma){function Fb(jb,Ea){var ab=[],bb=function(qa){return qa(Ia)},Ca;if(null==Ea)ab.push(jb);else{var ma={};var oa=0;for(Ca=jb.length;oa<Ca;++oa){var Ia=jb[oa];
var Ua=Ea.map(bb);var na=ma[Ua];na||(ma[Ua]=na=[],na.dims=Ua,ab.push(na));na.push(Ia)}}return ab}function Ja(jb){R.Transform.call(this,null,jb)}function db(jb){R.Transform.call(this,null,jb)}Ja.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number","default":.3},{name:"as",type:"string",array:!0}]};Ma.inherits(Ja,R.Transform,{transform(jb,Ea){const ab=Ea.fork(Ea.NO_SOURCE|
Ea.NO_FIELDS);if(!this.value||Ea.changed()||jb.modified()){Ea=Ea.materialize(Ea.SOURCE).source;Ea=Fb(Ea,jb.groupby);const bb=(jb.groupby||[]).map(Ma.accessorName),Ca=bb.length,ma=jb.as||[Ma.accessorName(jb.x),Ma.accessorName(jb.y)],oa=[];Ea.forEach(Ia=>{q.regressionLoess(Ia,jb.x,jb.y,jb.bandwidth||.3).forEach(Ua=>{const na={};for(let qa=0;qa<Ca;++qa)na[bb[qa]]=Ia.dims[qa];na[ma[0]]=Ua[0];na[ma[1]]=Ua[1];oa.push(R.ingest(na))})});this.value&&(ab.rem=this.value);this.value=ab.add=ab.source=oa}return ab}});
const Bb={linear:q.regressionLinear,log:q.regressionLog,exp:q.regressionExp,pow:q.regressionPow,quad:q.regressionQuad,poly:q.regressionPoly};db.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string","default":"linear",values:Object.keys(Bb)},{name:"order",type:"number","default":3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",
"default":!1},{name:"as",type:"string",array:!0}]};Ma.inherits(db,R.Transform,{transform(jb,Ea){const ab=Ea.fork(Ea.NO_SOURCE|Ea.NO_FIELDS);if(!this.value||Ea.changed()||jb.modified()){var bb=Ea.materialize(Ea.SOURCE).source;bb=Fb(bb,jb.groupby);const Ca=(jb.groupby||[]).map(Ma.accessorName),ma=jb.method||"linear",oa=jb.order||3,Ia="poly"===ma?oa:"quad"===ma?2:1,Ua=jb.as||[Ma.accessorName(jb.x),Ma.accessorName(jb.y)],na=Bb[ma],qa=[];let Ta=jb.extent;Ma.hasOwnProperty(Bb,ma)||Ma.error("Invalid regression method: "+
ma);null!=Ta&&"log"===ma&&0>=Ta[0]&&(Ea.dataflow.warn("Ignoring extent with values \x3c\x3d 0 for log regression."),Ta=null);bb.forEach(ta=>{if(ta.length<=Ia)Ea.dataflow.warn("Skipping regression with more parameters than data points.");else{var Qa=na(ta,jb.x,jb.y,oa);if(jb.params)qa.push(R.ingest({keys:ta.dims,coef:Qa.coef,rSquared:Qa.rSquared}));else{var va=Ta||Ma.extent(ta,jb.x),S=la=>{const wa={};for(let Da=0;Da<Ca.length;++Da)wa[Ca[Da]]=ta.dims[Da];wa[Ua[0]]=la[0];wa[Ua[1]]=la[1];qa.push(R.ingest(wa))};
"linear"===ma?va.forEach(la=>S([la,Qa.predict(la)])):q.sampleCurve(Qa.predict,va,25,200).forEach(S)}}});this.value&&(ab.rem=this.value);this.value=ab.add=ab.source=qa}return ab}});k.loess=Ja;k.regression=db;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[53]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb):"function"===typeof define&&define.amd?define(["exports"],q):(k=k||self,q(k.d3=k.d3||{}))})(this,function(k){function q(S,la){S/=Math.abs(S)+Math.abs(la);return(0<la?3-S:1+S)/4}function R(S,la,wa,Da){S-=wa;la-=Da;return S*S+la*la}function Ma(S,la,wa,Da,Oa,Ha){Da=(Da-la)*(Oa-S);S=(wa-S)*(Ha-la);return Math.abs(Da-S)>=3.3306690738754716E-16*Math.abs(Da+S)?Da-S:0}function Fb(S,la,wa,Da,Oa,Ha){return 0>
(Ma(Oa,Ha,S,la,wa,Da)||Ma(S,la,wa,Da,Oa,Ha)||Ma(wa,Da,Oa,Ha,S,la))}function Ja(S,la,wa,Da){if(20>=Da-wa)for(var Oa=wa+1;Oa<=Da;Oa++){for(var Ha=S[Oa],Va=la[Ha],Fa=Oa-1;Fa>=wa&&la[S[Fa]]>Va;)S[Fa+1]=S[Fa--];S[Fa+1]=Ha}else{Oa=wa+1;Ha=Da;db(S,wa+Da>>1,Oa);la[S[wa]]>la[S[Da]]&&db(S,wa,Da);la[S[Oa]]>la[S[Da]]&&db(S,Oa,Da);la[S[wa]]>la[S[Oa]]&&db(S,wa,Oa);Va=S[Oa];for(Fa=la[Va];;){do Oa++;while(la[S[Oa]]<Fa);do Ha--;while(la[S[Ha]]>Fa);if(Ha<Oa)break;db(S,Oa,Ha)}S[wa+1]=S[Ha];S[Ha]=Va;Da-Oa+1>=Ha-wa?(Ja(S,
la,Oa,Da),Ja(S,la,wa,Ha-1)):(Ja(S,la,wa,Ha-1),Ja(S,la,Oa,Da))}}function db(S,la,wa){const Da=S[la];S[la]=S[wa];S[wa]=Da}function Bb(S){return S[0]}function jb(S){return S[1]}function Ea(S){return S[0]}function ab(S){return S[1]}function bb(S){const {triangles:la,coords:wa}=S;for(S=0;S<la.length;S+=3){const Da=2*la[S],Oa=2*la[S+1],Ha=2*la[S+2];if(1E-10<(wa[Ha]-wa[Da])*(wa[Oa+1]-wa[Da+1])-(wa[Oa]-wa[Da])*(wa[Ha+1]-wa[Da+1]))return!1}return!0}function Ca(S,la,wa){return[S+Math.sin(S+la)*wa,la+Math.cos(S-
la)*wa]}function*ma(S,la,wa,Da){let Oa=0;for(const Ha of S)yield la.call(Da,Ha,Oa,S),yield wa.call(Da,Ha,Oa,S),++Oa}const oa=Math.pow(2,-52),Ia=new Uint32Array(512);class Ua{static from(S,la=Bb,wa=jb){const Da=S.length,Oa=new Float64Array(2*Da);for(let Ha=0;Ha<Da;Ha++){const Va=S[Ha];Oa[2*Ha]=la(Va);Oa[2*Ha+1]=wa(Va)}return new Ua(Oa)}constructor(S){const la=S.length>>1;if(0<la&&"number"!==typeof S[0])throw Error("Expected coords to contain numbers.");this.coords=S;S=Math.max(2*la-5,0);this._triangles=
new Uint32Array(3*S);this._halfedges=new Int32Array(3*S);this._hashSize=Math.ceil(Math.sqrt(la));this._hullPrev=new Uint32Array(la);this._hullNext=new Uint32Array(la);this._hullTri=new Uint32Array(la);this._hullHash=(new Int32Array(this._hashSize)).fill(-1);this._ids=new Uint32Array(la);this._dists=new Float64Array(la);this.update()}update(){const {coords:S,_hullPrev:la,_hullNext:wa,_hullTri:Da,_hullHash:Oa}=this;var Ha=S.length>>1,Va=Infinity,Fa=Infinity,E=-Infinity,w=-Infinity;for(var F=0;F<Ha;F++){var Z=
S[2*F];var D=S[2*F+1];Z<Va&&(Va=Z);D<Fa&&(Fa=D);Z>E&&(E=Z);D>w&&(w=D);this._ids[F]=F}E=(Va+E)/2;Fa=(Fa+w)/2;Va=Infinity;for(w=0;w<Ha;w++)if(F=R(E,Fa,S[2*w],S[2*w+1]),F<Va){var P=w;Va=F}Fa=S[2*P];w=S[2*P+1];Va=Infinity;for(E=0;E<Ha;E++)if(E!==P&&(F=R(Fa,w,S[2*E],S[2*E+1]),F<Va&&0<F)){var N=E;Va=F}Va=S[2*N];E=S[2*N+1];D=Infinity;for(F=0;F<Ha;F++)if(F!==P&&F!==N){Z=Va-Fa;var Y=E-w;var ua=S[2*F]-Fa;var Ga=S[2*F+1]-w,G=Z*Z+Y*Y,ca=ua*ua+Ga*Ga,ba=.5/(Z*Ga-Y*ua);Y=(Ga*G-Y*ca)*ba;Z=(Z*ca-ua*G)*ba;Z=Y*Y+Z*
Z;if(Z<D){var V=F;D=Z}}F=S[2*V];Z=S[2*V+1];if(Infinity===D){for(P=0;P<Ha;P++)this._dists[P]=S[2*P]-S[0]||S[2*P+1]-S[1];Ja(this._ids,this._dists,0,Ha-1);P=new Uint32Array(Ha);N=0;for(let H=0,p=-Infinity;H<Ha;H++)V=this._ids[H],this._dists[V]>p&&(P[N++]=V,p=this._dists[V]);this.hull=P.subarray(0,N);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{Fb(Fa,w,Va,E,F,Z)&&(D=N,ua=Va,G=E,N=V,Va=F,E=Z,V=D,F=ua,Z=G);ua=Va-Fa;D=E-w;G=F-Fa;Ga=Z-w;ca=ua*ua+D*D;ba=G*G+Ga*Ga;Y=.5/(ua*Ga-D*
G);D=Fa+(Ga*ca-D*ba)*Y;ua=w+(ua*ba-G*ca)*Y;this._cx=D;this._cy=ua;for(G=0;G<Ha;G++)this._dists[G]=R(S[2*G],S[2*G+1],D,ua);Ja(this._ids,this._dists,0,Ha-1);this._hullStart=P;Ha=3;wa[P]=la[V]=N;wa[N]=la[P]=V;wa[V]=la[N]=P;Da[P]=0;Da[N]=1;Da[V]=2;Oa.fill(-1);Oa[this._hashKey(Fa,w)]=P;Oa[this._hashKey(Va,E)]=N;Oa[this._hashKey(F,Z)]=V;this.trianglesLen=0;this._addTriangle(P,N,V,-1,-1,-1);for(let H=0,p,h;H<this._ids.length;H++){Fa=this._ids[H];w=S[2*Fa];Va=S[2*Fa+1];if(0<H&&Math.abs(w-p)<=oa&&Math.abs(Va-
h)<=oa)continue;p=w;h=Va;if(Fa===P||Fa===N||Fa===V)continue;E=0;for(let n=0,u=this._hashKey(w,Va);n<this._hashSize&&(E=Oa[(u+n)%this._hashSize],-1===E||E===wa[E]);n++);F=E=la[E];let m;for(;m=wa[F],!Fb(w,Va,S[2*F],S[2*F+1],S[2*m],S[2*m+1]);)if(F=m,F===E){F=-1;break}if(-1!==F){Z=this._addTriangle(F,Fa,wa[F],-1,-1,Da[F]);Da[Fa]=this._legalize(Z+2);Da[F]=Z;Ha++;for(D=wa[F];m=wa[D],Fb(w,Va,S[2*D],S[2*D+1],S[2*m],S[2*m+1]);)Z=this._addTriangle(D,Fa,m,Da[Fa],-1,Da[D]),Da[Fa]=this._legalize(Z+2),wa[D]=D,
Ha--,D=m;if(F===E)for(;m=la[F],Fb(w,Va,S[2*m],S[2*m+1],S[2*F],S[2*F+1]);)Z=this._addTriangle(m,Fa,F,-1,Da[F],Da[m]),this._legalize(Z+2),Da[m]=Z,wa[F]=F,Ha--,F=m;this._hullStart=la[Fa]=F;wa[F]=la[D]=Fa;wa[Fa]=D;Oa[this._hashKey(w,Va)]=Fa;Oa[this._hashKey(S[2*F],S[2*F+1])]=F}}this.hull=new Uint32Array(Ha);for(let H=0,p=this._hullStart;H<Ha;H++)this.hull[H]=p,p=wa[p];this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}}_hashKey(S,
la){return Math.floor(q(S-this._cx,la-this._cy)*this._hashSize)%this._hashSize}_legalize(S){const {_triangles:la,_halfedges:wa,coords:Da}=this;let Oa=0;for(var Ha;;){const P=wa[S];var Va=S-S%3;Ha=Va+(S+2)%3;if(-1===P){if(0===Oa)break;S=Ia[--Oa];continue}const N=P-P%3,Y=N+(P+2)%3;var Fa=la[Ha],E=la[S],w=la[Va+(S+1)%3];Va=la[Y];{var F=Da[2*Va],Z=Da[2*Va+1];var D=Da[2*Fa]-F;const ua=Da[2*Fa+1]-Z,Ga=Da[2*E]-F;E=Da[2*E+1]-Z;F=Da[2*w]-F;Z=Da[2*w+1]-Z;w=Ga*Ga+E*E;const G=F*F+Z*Z;D=0>D*(E*G-w*Z)-ua*(Ga*G-
w*F)+(D*D+ua*ua)*(Ga*Z-E*F)}if(D){la[S]=Va;la[P]=Fa;Fa=wa[Y];if(-1===Fa){Va=this._hullStart;do{if(this._hullTri[Va]===Y){this._hullTri[Va]=S;break}Va=this._hullPrev[Va]}while(Va!==this._hullStart)}this._link(S,Fa);this._link(P,wa[Ha]);this._link(Ha,Y);Ha=N+(P+1)%3;Oa<Ia.length&&(Ia[Oa++]=Ha)}else{if(0===Oa)break;S=Ia[--Oa]}}return Ha}_link(S,la){this._halfedges[S]=la;-1!==la&&(this._halfedges[la]=S)}_addTriangle(S,la,wa,Da,Oa,Ha){const Va=this.trianglesLen;this._triangles[Va]=S;this._triangles[Va+
1]=la;this._triangles[Va+2]=wa;this._link(Va,Da);this._link(Va+1,Oa);this._link(Va+2,Ha);this.trianglesLen+=3;return Va}}class na{constructor(){this._x0=this._y0=this._x1=this._y1=null;this._=""}moveTo(S,la){this._+=`M${this._x0=this._x1=+S},${this._y0=this._y1=+la}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(S,la){this._+=`L${this._x1=+S},${this._y1=+la}`}arc(S,la,wa){S=+S;la=+la;wa=+wa;const Da=S+wa,Oa=la;if(0>wa)throw Error("negative radius");if(null===
this._x1)this._+=`M${Da},${Oa}`;else if(1E-6<Math.abs(this._x1-Da)||1E-6<Math.abs(this._y1-Oa))this._+="L"+Da+","+Oa;wa&&(this._+=`A${wa},${wa},0,1,1,${S-wa},${la}A${wa},${wa},0,1,1,${this._x1=Da},${this._y1=Oa}`)}rect(S,la,wa,Da){this._+=`M${this._x0=this._x1=+S},${this._y0=this._y1=+la}h${+wa}v${+Da}h${-wa}Z`}value(){return this._||null}}class qa{constructor(){this._=[]}moveTo(S,la){this._.push([S,la])}closePath(){this._.push(this._[0].slice())}lineTo(S,la){this._.push([S,la])}value(){return this._.length?
this._:null}}class Ta{constructor(S,[la,wa,Da,Oa]=[0,0,960,500]){if(!((Da=+Da)>=(la=+la)&&(Oa=+Oa)>=(wa=+wa)))throw Error("invalid bounds");this.delaunay=S;this._circumcenters=new Float64Array(2*S.points.length);this.vectors=new Float64Array(2*S.points.length);this.xmax=Da;this.xmin=la;this.ymax=Oa;this.ymin=wa;this._init()}update(){this.delaunay.update();this._init();return this}_init(){const {delaunay:{points:S,hull:la,triangles:wa},vectors:Da}=this;var Oa=this.circumcenters=this._circumcenters.subarray(0,
wa.length/3*2);for(let D=0,P=0,N=wa.length,Y,ua;D<N;D+=3,P+=2){var Ha=2*wa[D],Va=2*wa[D+1],Fa=2*wa[D+2],E=S[Ha];Ha=S[Ha+1];var w=S[Fa],F=S[Fa+1];Fa=S[Va]-E;Va=S[Va+1]-Ha;var Z=w-E;const Ga=F-Ha,G=Fa*Fa+Va*Va,ca=Z*Z+Ga*Ga,ba=2*(Fa*Ga-Va*Z);ba?1E-8>Math.abs(ba)?(Y=(E+w)/2,ua=(Ha+F)/2):(w=1/ba,Y=E+(Ga*G-Va*ca)*w,ua=Ha+(Fa*ca-Z*G)*w):(Y=(E+w)/2-1E8*Ga,ua=(Ha+F)/2+1E8*Z);Oa[P]=Y;Oa[P+1]=ua}Oa=la[la.length-1];Ha=4*Oa;Fa=S[2*Oa];Va=S[2*Oa+1];Da.fill(0);for(Z=0;Z<la.length;++Z)Oa=la[Z],E=Ha,w=Fa,F=Va,Ha=
4*Oa,Fa=S[2*Oa],Va=S[2*Oa+1],Da[E+2]=Da[Ha]=F-Va,Da[E+3]=Da[Ha+1]=Fa-w}render(S){const la=null==S?S=new na:void 0,{delaunay:{halfedges:wa,inedges:Da,hull:Oa},circumcenters:Ha,vectors:Va}=this;if(1>=Oa.length)return null;for(let Z=0,D=wa.length;Z<D;++Z){var Fa=wa[Z];if(!(Fa<Z)){var E=2*Math.floor(Z/3);Fa=2*Math.floor(Fa/3);this._renderSegment(Ha[E],Ha[E+1],Ha[Fa],Ha[Fa+1],S)}}E=Oa[Oa.length-1];for(Fa=0;Fa<Oa.length;++Fa){var w=E;E=Oa[Fa];var F=2*Math.floor(Da[E]/3);const Z=Ha[F];F=Ha[F+1];w*=4;(w=
this._project(Z,F,Va[w+2],Va[w+3]))&&this._renderSegment(Z,F,w[0],w[1],S)}return la&&la.value()}renderBounds(S){const la=null==S?S=new na:void 0;S.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return la&&la.value()}renderCell(S,la){const wa=null==la?la=new na:void 0;S=this._clip(S);if(null!==S&&S.length){la.moveTo(S[0],S[1]);for(var Da=S.length;S[0]===S[Da-2]&&S[1]===S[Da-1]&&1<Da;)Da-=2;for(let Oa=2;Oa<Da;Oa+=2)S[Oa]===S[Oa-2]&&S[Oa+1]===S[Oa-1]||la.lineTo(S[Oa],S[Oa+1]);la.closePath();
return wa&&wa.value()}}*cellPolygons(){var {delaunay:{points:S}}=this;for(let la=0,wa=S.length/2;la<wa;++la)if(S=this.cellPolygon(la))S.index=la,yield S}cellPolygon(S){const la=new qa;this.renderCell(S,la);return la.value()}_renderSegment(S,la,wa,Da,Oa){const Ha=this._regioncode(S,la),Va=this._regioncode(wa,Da);if(0===Ha&&0===Va)Oa.moveTo(S,la),Oa.lineTo(wa,Da);else if(S=this._clipSegment(S,la,wa,Da,Ha,Va))Oa.moveTo(S[0],S[1]),Oa.lineTo(S[2],S[3])}contains(S,la,wa){return(la=+la,la!==la)||(wa=+wa,
wa!==wa)?!1:this.delaunay._step(S,la,wa)===S}*neighbors(S){const la=this._clip(S);if(la)for(const wa of this.delaunay.neighbors(S))if(S=this._clip(wa))a:for(let Da=0,Oa=la.length;Da<Oa;Da+=2)for(let Ha=0,Va=S.length;Ha<Va;Ha+=2)if(la[Da]==S[Ha]&&la[Da+1]==S[Ha+1]&&la[(Da+2)%Oa]==S[(Ha+Va-2)%Va]&&la[(Da+3)%Oa]==S[(Ha+Va-1)%Va]){yield wa;break a}}_cell(S){const {circumcenters:la,delaunay:{inedges:wa,halfedges:Da,triangles:Oa}}=this,Ha=wa[S];if(-1===Ha)return null;const Va=[];let Fa=Ha;do{const E=Math.floor(Fa/
3);Va.push(la[2*E],la[2*E+1]);Fa=2===Fa%3?Fa-2:Fa+1;if(Oa[Fa]!==S)break;Fa=Da[Fa]}while(Fa!==Ha&&-1!==Fa);return Va}_clip(S){if(0===S&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const la=this._cell(S);if(null===la)return null;const {vectors:wa}=this,Da=4*S;return wa[Da]||wa[Da+1]?this._clipInfinite(S,la,wa[Da],wa[Da+1],wa[Da+2],wa[Da+3]):this._clipFinite(S,la)}_clipFinite(S,la){const wa=la.length;let Da=null;let Oa=la[wa-2],
Ha=la[wa-1];let Va=this._regioncode(Oa,Ha),Fa;for(let Z=0;Z<wa;Z+=2){var E=Oa;var w=Ha;Oa=la[Z];Ha=la[Z+1];var F=Va;Va=this._regioncode(Oa,Ha);if(0===F&&0===Va)Fa=0,Da?Da.push(Oa,Ha):Da=[Oa,Ha];else{let D,P;if(0===F){if(null===(E=this._clipSegment(E,w,Oa,Ha,F,Va)))continue;[w,F,D,P]=E}else{if(null===(E=this._clipSegment(Oa,Ha,E,w,Va,F)))continue;[D,P,w,F]=E;E=Fa;Fa=this._edgecode(w,F);E&&Fa&&this._edge(S,E,Fa,Da,Da.length);Da?Da.push(w,F):Da=[w,F]}E=Fa;Fa=this._edgecode(D,P);E&&Fa&&this._edge(S,E,
Fa,Da,Da.length);Da?Da.push(D,P):Da=[D,P]}}if(Da)E=Fa,Fa=this._edgecode(Da[0],Da[1]),E&&Fa&&this._edge(S,E,Fa,Da,Da.length);else if(this.contains(S,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return Da}_clipSegment(S,la,wa,Da,Oa,Ha){for(;;){if(0===Oa&&0===Ha)return[S,la,wa,Da];if(Oa&Ha)return null;var Va=void 0;let Fa;Va=Oa||Ha;Va&8?(Va=S+(wa-S)*(this.ymax-la)/(Da-la),Fa=this.ymax):Va&4?(Va=S+(wa-S)*(this.ymin-
la)/(Da-la),Fa=this.ymin):Va&2?(Fa=la+(Da-la)*(this.xmax-S)/(wa-S),Va=this.xmax):(Fa=la+(Da-la)*(this.xmin-S)/(wa-S),Va=this.xmin);Oa?(S=Va,la=Fa,Oa=this._regioncode(S,la)):(wa=Va,Da=Fa,Ha=this._regioncode(wa,Da))}}_clipInfinite(S,la,wa,Da,Oa,Ha){la=Array.from(la);let Va;(Va=this._project(la[0],la[1],wa,Da))&&la.unshift(Va[0],Va[1]);(Va=this._project(la[la.length-2],la[la.length-1],Oa,Ha))&&la.push(Va[0],Va[1]);if(la=this._clipFinite(S,la))for(let Fa=0,E=la.length,w,F=this._edgecode(la[E-2],la[E-
1]);Fa<E;Fa+=2)w=F,F=this._edgecode(la[Fa],la[Fa+1]),w&&F&&(Fa=this._edge(S,w,F,la,Fa),E=la.length);else this.contains(S,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(la=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return la}_edge(S,la,wa,Da,Oa){for(;la!==wa;){let Ha,Va;switch(la){case 5:la=4;continue;case 4:la=6;Ha=this.xmax;Va=this.ymin;break;case 6:la=2;continue;case 2:la=10;Ha=this.xmax;Va=this.ymax;break;case 10:la=8;continue;case 8:la=9;Ha=this.xmin;
Va=this.ymax;break;case 9:la=1;continue;case 1:la=5,Ha=this.xmin,Va=this.ymin}Da[Oa]===Ha&&Da[Oa+1]===Va||!this.contains(S,Ha,Va)||(Da.splice(Oa,0,Ha,Va),Oa+=2)}if(4<Da.length)for(S=0;S<Da.length;S+=2)if(la=(S+2)%Da.length,wa=(S+4)%Da.length,Da[S]===Da[la]&&Da[la]===Da[wa]||Da[S+1]===Da[la+1]&&Da[la+1]===Da[wa+1])Da.splice(la,2),S-=2;return Oa}_project(S,la,wa,Da){let Oa=Infinity,Ha,Va,Fa;if(0>Da){if(la<=this.ymin)return null;(Ha=(this.ymin-la)/Da)<Oa&&(Fa=this.ymin,Va=S+(Oa=Ha)*wa)}else if(0<Da){if(la>=
this.ymax)return null;(Ha=(this.ymax-la)/Da)<Oa&&(Fa=this.ymax,Va=S+(Oa=Ha)*wa)}if(0<wa){if(S>=this.xmax)return null;(Ha=(this.xmax-S)/wa)<Oa&&(Va=this.xmax,Fa=la+Ha*Da)}else if(0>wa){if(S<=this.xmin)return null;(Ha=(this.xmin-S)/wa)<Oa&&(Va=this.xmin,Fa=la+Ha*Da)}return[Va,Fa]}_edgecode(S,la){return(S===this.xmin?1:S===this.xmax?2:0)|(la===this.ymin?4:la===this.ymax?8:0)}_regioncode(S,la){return(S<this.xmin?1:S>this.xmax?2:0)|(la<this.ymin?4:la>this.ymax?8:0)}}const ta=2*Math.PI,Qa=Math.pow;class va{static from(S,
la=Ea,wa=ab,Da){if("length"in S){{const Oa=S.length,Ha=new Float64Array(2*Oa);for(let Va=0;Va<Oa;++Va){const Fa=S[Va];Ha[2*Va]=la.call(Da,Fa,Va,S);Ha[2*Va+1]=wa.call(Da,Fa,Va,S)}S=Ha}}else S=Float64Array.from(ma(S,la,wa,Da));return new va(S)}constructor(S){this._delaunator=new Ua(S);this.inedges=new Int32Array(S.length/2);this._hullIndex=new Int32Array(S.length/2);this.points=this._delaunator.coords;this._init()}update(){this._delaunator.update();this._init();return this}_init(){var S=this._delaunator;
const la=this.points;if(S.hull&&2<S.hull.length&&bb(S)){this.collinear=Int32Array.from({length:la.length/2},(Va,Fa)=>Fa).sort((Va,Fa)=>la[2*Va]-la[2*Fa]||la[2*Va+1]-la[2*Fa+1]);S=this.collinear[0];var wa=this.collinear[this.collinear.length-1];S=[la[2*S],la[2*S+1],la[2*wa],la[2*wa+1]];S=1E-8*Math.hypot(S[3]-S[1],S[2]-S[0]);for(let Va=0,Fa=la.length/2;Va<Fa;++Va)wa=Ca(la[2*Va],la[2*Va+1],S),la[2*Va]=wa[0],la[2*Va+1]=wa[1];this._delaunator=new Ua(la)}else delete this.collinear;S=this.halfedges=this._delaunator.halfedges;
wa=this.hull=this._delaunator.hull;const Da=this.triangles=this._delaunator.triangles,Oa=this.inedges.fill(-1),Ha=this._hullIndex.fill(-1);for(let Va=0,Fa=S.length;Va<Fa;++Va){const E=Da[2===Va%3?Va-2:Va+1];if(-1===S[Va]||-1===Oa[E])Oa[E]=Va}for(let Va=0,Fa=wa.length;Va<Fa;++Va)Ha[wa[Va]]=Va;2>=wa.length&&0<wa.length&&(this.triangles=(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),this.triangles[0]=wa[0],this.triangles[1]=wa[1],this.triangles[2]=wa[1],Oa[wa[0]]=1,2===wa.length&&
(Oa[wa[1]]=0))}voronoi(S){return new Ta(this,S)}*neighbors(S){const {inedges:la,hull:wa,_hullIndex:Da,halfedges:Oa,triangles:Ha,collinear:Va}=this;if(Va){var Fa=Va.indexOf(S);0<Fa&&(yield Va[Fa-1]);Fa<Va.length-1&&(yield Va[Fa+1])}else{var E=la[S];if(-1!==E){var w=E;do{yield(Fa=Ha[w]);w=2===w%3?w-2:w+1;if(Ha[w]!==S)break;w=Oa[w];if(-1===w){S=wa[(Da[S]+1)%wa.length];S!==Fa&&(yield S);break}}while(w!==E)}}}find(S,la,wa=0){if((S=+S,S!==S)||(la=+la,la!==la))return-1;const Da=wa;let Oa;for(;0<=(Oa=this._step(wa,
S,la))&&Oa!==wa&&Oa!==Da;)wa=Oa;return Oa}_step(S,la,wa){const {inedges:Da,hull:Oa,_hullIndex:Ha,halfedges:Va,triangles:Fa,points:E}=this;if(-1===Da[S]||!E.length)return(S+1)%(E.length>>1);let w=S,F=Qa(la-E[2*S],2)+Qa(wa-E[2*S+1],2);const Z=Da[S];let D=Z;do{let P=Fa[D];const N=Qa(la-E[2*P],2)+Qa(wa-E[2*P+1],2);N<F&&(F=N,w=P);D=2===D%3?D-2:D+1;if(Fa[D]!==S)break;D=Va[D];if(-1===D){D=Oa[(Ha[S]+1)%Oa.length];if(D!==P&&Qa(la-E[2*D],2)+Qa(wa-E[2*D+1],2)<F)return D;break}}while(D!==Z);return w}render(S){const la=
null==S?S=new na:void 0,{points:wa,halfedges:Da,triangles:Oa}=this;for(let Va=0,Fa=Da.length;Va<Fa;++Va){var Ha=Da[Va];if(Ha<Va)continue;const E=2*Oa[Va];Ha=2*Oa[Ha];S.moveTo(wa[E],wa[E+1]);S.lineTo(wa[Ha],wa[Ha+1])}this.renderHull(S);return la&&la.value()}renderPoints(S,la=2){const wa=null==S?S=new na:void 0,{points:Da}=this;for(let Oa=0,Ha=Da.length;Oa<Ha;Oa+=2){const Va=Da[Oa],Fa=Da[Oa+1];S.moveTo(Va+la,Fa);S.arc(Va,Fa,la,0,ta)}return wa&&wa.value()}renderHull(S){const la=null==S?S=new na:void 0,
{hull:wa,points:Da}=this;var Oa=2*wa[0];const Ha=wa.length;S.moveTo(Da[Oa],Da[Oa+1]);for(Oa=1;Oa<Ha;++Oa){const Va=2*wa[Oa];S.lineTo(Da[Va],Da[Va+1])}S.closePath();return la&&la.value()}hullPolygon(){const S=new qa;this.renderHull(S);return S.value()}renderTriangle(S,la){const wa=null==la?la=new na:void 0,{points:Da,triangles:Oa}=this,Ha=2*Oa[S*=3],Va=2*Oa[S+1];S=2*Oa[S+2];la.moveTo(Da[Ha],Da[Ha+1]);la.lineTo(Da[Va],Da[Va+1]);la.lineTo(Da[S],Da[S+1]);la.closePath();return wa&&wa.value()}*trianglePolygons(){const {triangles:S}=
this;for(let la=0,wa=S.length/3;la<wa;++la)yield this.trianglePolygon(la)}trianglePolygon(S){const la=new qa;this.renderTriangle(S,la);return la.value()}}k.Delaunay=va;k.Voronoi=Ta;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[54]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb,Vb(27),Vb(15),Vb(53)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-delaunay"],q):(k="undefined"!==typeof globalThis?globalThis:k||self,q((k.vega=k.vega||{},k.vega.transforms={}),k.vega,k.vega,k.d3))})(this,function(k,q,R,Ma){function Fb(db){q.Transform.call(this,null,db)}Fb.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",
required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,"default":[[-1E5,-1E5],[1E5,1E5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string","default":"path"}]};const Ja=[-1E5,-1E5,1E5,1E5];R.inherits(Fb,q.Transform,{transform(db,Bb){const jb=db.as||"path",Ea=Bb.source;if(!Ea||!Ea.length)return Bb;var ab=db.size;ab=ab?[0,0,ab[0],ab[1]]:(ab=db.extent)?[ab[0][0],ab[0][1],ab[1][0],ab[1][1]]:Ja;ab=this.value=
Ma.Delaunay.from(Ea,db.x,db.y).voronoi(ab);for(let ma=0,oa=Ea.length;ma<oa;++ma){var bb=ab.cellPolygon(ma),Ca=Ea[ma];if(bb){{const Ia=bb[0][0],Ua=bb[0][1];let na=bb.length-1;for(;bb[na][0]===Ia&&bb[na][1]===Ua;--na);bb="M"+bb.slice(0,na+1).join("L")+"Z"}}else bb=null;Ca[jb]=bb}return Bb.reflow(db.modified()).modifies(jb)}});k.voronoi=Fb;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[55]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb,Vb(32),Vb(27),Vb(15),Vb(36),Vb(28)):"function"===typeof define&&define.amd?define("exports vega-canvas vega-dataflow vega-util vega-scale vega-statistics".split(" "),q):(k="undefined"!==typeof globalThis?globalThis:k||self,q((k.vega=k.vega||{},k.vega.transforms={}),k.vega,k.vega,k.vega,k.vega,k.vega))})(this,function(k,q,R,Ma,Fb,Ja){function db(){function na(E){E.width=E.height=1;var w=Math.sqrt(E.getContext("2d").getImageData(0,
0,1,1).data.length>>2);E.width=2048/w;E.height=2048/w;E=E.getContext("2d");E.fillStyle=E.strokeStyle="red";E.textAlign="center";return{context:E,ratio:w}}function qa(E,w,F){for(var Z=w.x,D=w.y,P=Math.sqrt(Ta[0]*Ta[0]+Ta[1]*Ta[1]),N=Oa(Ta),Y=.5>Va()?1:-1,ua=-Y,Ga,G;Ga=N(ua+=Y);){G=~~Ga[0];Ga=~~Ga[1];if(Math.min(Math.abs(G),Math.abs(Ga))>=P)break;w.x=Z+G;w.y=D+Ga;if(!(0>w.x+w.x0||0>w.y+w.y0||w.x+w.x1>Ta[0]||w.y+w.y1>Ta[1])){if(!(G=!F)){a:{G=Ta[0];G>>=5;Ga=w.sprite;var ca=w.width>>5;var ba=w.x-(ca<<
4);for(var V=ba&127,H=32-V,p=w.y1-w.y0,h=(w.y+w.y0)*G+(ba>>5),m=0;m<p;m++){for(var n=ba=0;n<=ca;n++)if((ba<<H|(n<ca?(ba=Ga[m*ca+n])>>>V:0))&E[h+n]){G=!0;break a}h+=G}G=!1}G=!G}if(G&&(!F||w.x+w.x1>F[0].x&&w.x+w.x0<F[1].x&&w.y+w.y1>F[0].y&&w.y+w.y0<F[1].y)){F=w.sprite;Z=w.width>>5;D=Ta[0]>>5;ua=w.x-(Z<<4);P=ua&127;N=32-P;Y=w.y1-w.y0;ua=(w.y+w.y0)*D+(ua>>5);for(Ga=0;Ga<Y;Ga++){for(ca=G=0;ca<=Z;ca++)E[ua+ca]=E[ua+ca]|G<<N|(ca<Z?(G=F[Ga*Z+ca])>>>P:0);ua+=D}w.sprite=null;return!0}}}return!1}var Ta=[256,
256],ta,Qa,va,S,la,wa,Da,Oa=Ea,Ha=[],Va=Math.random,Fa={layout:function(){for(var E=na(q.canvas()),w=ab((Ta[0]>>5)*Ta[1]),F=null,Z=Ha.length,D=-1,P=[],N=Ha.map(ua=>({text:ta(ua),font:Qa(ua),style:S(ua),weight:la(ua),rotate:wa(ua),size:~~(va(ua)+1E-14),padding:Da(ua),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:ua})).sort((ua,Ga)=>Ga.size-ua.size);++D<Z;){var Y=N[D];Y.x=Ta[0]*(Va()+.5)>>1;Y.y=Ta[1]*(Va()+.5)>>1;Bb(E,Y,N,D);Y.hasText&&qa(w,Y,F)&&(P.push(Y),F?jb(F,Y):F=[{x:Y.x+Y.x0,
y:Y.y+Y.y0},{x:Y.x+Y.x1,y:Y.y+Y.y1}],Y.x-=Ta[0]>>1,Y.y-=Ta[1]>>1)}return P},words:function(E){return arguments.length?(Ha=E,Fa):Ha},size:function(E){return arguments.length?(Ta=[+E[0],+E[1]],Fa):Ta},font:function(E){return arguments.length?(Qa=bb(E),Fa):Qa},fontStyle:function(E){return arguments.length?(S=bb(E),Fa):S},fontWeight:function(E){return arguments.length?(la=bb(E),Fa):la},rotate:function(E){return arguments.length?(wa=bb(E),Fa):wa},text:function(E){return arguments.length?(ta=bb(E),Fa):
ta},spiral:function(E){return arguments.length?(Oa=oa[E]||E,Fa):Oa},fontSize:function(E){return arguments.length?(va=bb(E),Fa):va},padding:function(E){return arguments.length?(Da=bb(E),Fa):Da},random:function(E){return arguments.length?(Va=E,Fa):Va}};return Fa}function Bb(na,qa,Ta,ta){if(!qa.sprite){var Qa=na.context,va=na.ratio;Qa.clearRect(0,0,2048/va,2048/va);var S=na=0,la=0,wa=Ta.length;for(--ta;++ta<wa;){qa=Ta[ta];Qa.save();Qa.font=qa.style+" "+qa.weight+" "+~~((qa.size+1)/va)+"px "+qa.font;
var Da=Qa.measureText(qa.text+"m").width*va;var Oa=qa.size<<1;if(qa.rotate){var Ha=Math.sin(qa.rotate*ma),Va=Math.cos(qa.rotate*ma),Fa=Da*Va,E=Da*Ha;Va*=Oa;Da=Oa*Ha;Da=Math.max(Math.abs(Fa+Da),Math.abs(Fa-Da))+31>>5<<5;Oa=~~Math.max(Math.abs(E+Va),Math.abs(E-Va))}else Da=Da+31>>5<<5;Oa>la&&(la=Oa);2048<=na+Da&&(na=0,S+=la,la=0);if(2048<=S+Oa)break;Qa.translate((na+(Da>>1))/va,(S+(Oa>>1))/va);qa.rotate&&Qa.rotate(qa.rotate*ma);Qa.fillText(qa.text,0,0);qa.padding&&(Qa.lineWidth=2*qa.padding,Qa.strokeText(qa.text,
0,0));Qa.restore();qa.width=Da;qa.height=Oa;qa.xoff=na;qa.yoff=S;qa.x1=Da>>1;qa.y1=Oa>>1;qa.x0=-qa.x1;qa.y0=-qa.y1;qa.hasText=!0;na+=Da}wa=Qa.getImageData(0,0,2048/va,2048/va).data;for(Fa=[];0<=--ta;)if(qa=Ta[ta],qa.hasText){Da=qa.width;Qa=Da>>5;Oa=qa.y1-qa.y0;for(va=0;va<Oa*Qa;va++)Fa[va]=0;na=qa.xoff;if(null==na)break;S=qa.yoff;E=0;Ha=-1;for(la=0;la<Oa;la++){for(va=0;va<Da;va++)Va=wa[2048*(S+la)+(na+va)<<2]?1<<31-va%32:0,Fa[Qa*la+(va>>5)]|=Va,E|=Va;E?Ha=la:(qa.y0++,Oa--,la--,S++)}qa.y1=qa.y0+Ha;
qa.sprite=Fa.slice(0,(qa.y1-qa.y0)*Qa)}}}function jb(na,qa){var Ta=na[0];na=na[1];qa.x+qa.x0<Ta.x&&(Ta.x=qa.x+qa.x0);qa.y+qa.y0<Ta.y&&(Ta.y=qa.y+qa.y0);qa.x+qa.x1>na.x&&(na.x=qa.x+qa.x1);qa.y+qa.y1>na.y&&(na.y=qa.y+qa.y1)}function Ea(na){var qa=na[0]/na[1];return function(Ta){return[qa*(Ta*=.1)*Math.cos(Ta),Ta*Math.sin(Ta)]}}function ab(na){for(var qa=[],Ta=-1;++Ta<na;)qa[Ta]=0;return qa}function bb(na){return"function"===typeof na?na:function(){return na}}function Ca(na){R.Transform.call(this,db(),
na)}var ma=Math.PI/180,oa={archimedean:Ea,rectangular:function(na){var qa=4*na[0]/na[1],Ta=0,ta=0;return function(Qa){var va=0>Qa?-1:1;switch(Math.sqrt(1+4*va*Qa)-va&3){case 0:Ta+=qa;break;case 1:ta+=4;break;case 2:Ta-=qa;break;default:ta-=4}return[Ta,ta]}}};const Ia="x y font fontSize fontStyle fontWeight angle".split(" "),Ua="text font rotate fontSize fontStyle fontWeight".split(" ");Ca.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",
type:"string",expr:!0,"default":"sans-serif"},{name:"fontStyle",type:"string",expr:!0,"default":"normal"},{name:"fontWeight",type:"string",expr:!0,"default":"normal"},{name:"fontSize",type:"number",expr:!0,"default":14},{name:"fontSizeRange",type:"number",array:"nullable","default":[10,50]},{name:"rotate",type:"number",expr:!0,"default":0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,
length:7,"default":Ia}]};Ma.inherits(Ca,R.Transform,{transform(na,qa){function Ta(Da){Da=na[Da];return Ma.isFunction(Da)&&qa.modified(Da.fields)}!na.size||na.size[0]&&na.size[1]||Ma.error("Wordcloud size dimensions must be non-zero.");const ta=na.modified();if(ta||qa.changed(qa.ADD_REM)||Ua.some(Ta)){var Qa=qa.materialize(qa.SOURCE).source,va=this.value,S=na.as||Ia,la=na.fontSize||14,wa;Ma.isFunction(la)?wa=na.fontSizeRange:la=Ma.constant(la);if(wa){const Da=la,Oa=Fb.scale("sqrt")().domain(Ma.extent(Qa,
Da)).range(wa);la=Ha=>Oa(Da(Ha))}Qa.forEach(Da=>{Da[S[0]]=NaN;Da[S[1]]=NaN;Da[S[3]]=0});Qa=va.words(Qa).text(na.text).size(na.size||[500,500]).padding(na.padding||1).spiral(na.spiral||"archimedean").rotate(na.rotate||0).font(na.font||"sans-serif").fontStyle(na.fontStyle||"normal").fontWeight(na.fontWeight||"normal").fontSize(la).random(Ja.random).layout();la=va.size();va=la[0]>>1;la=la[1]>>1;wa=Qa.length;for(let Da=0,Oa,Ha;Da<wa;++Da)Oa=Qa[Da],Ha=Oa.datum,Ha[S[0]]=Oa.x+va,Ha[S[1]]=Oa.y+la,Ha[S[2]]=
Oa.font,Ha[S[3]]=Oa.size,Ha[S[4]]=Oa.style,Ha[S[5]]=Oa.weight,Ha[S[6]]=Oa.rotate;return qa.reflow(ta).modifies(S)}}});k.wordcloud=Ca;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[56]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb,Vb(16),Vb(27),Vb(15)):"function"===typeof define&&define.amd?define(["exports","d3-array","vega-dataflow","vega-util"],q):(k="undefined"!==typeof globalThis?globalThis:k||self,q((k.vega=k.vega||{},k.vega.transforms={}),k.d3,k.vega,k.vega))})(this,function(k,q,R,Ma){function Fb(){let oa=8,Ia=[],Ua=new Uint32Array(0),na=Ja(0,oa),qa=Ja(0,oa);return{data:()=>Ia,seen:()=>{var Ta=Ua;var ta=Ia.length;
Ta.length>=ta||(ta=new Ta.constructor(ta),ta.set(Ta),Ta=ta);return Ua=Ta},add(Ta){for(let ta=0,Qa=Ia.length,va=Ta.length,S;ta<va;++ta)S=Ta[ta],S._index=Qa++,Ia.push(S)},remove(Ta,ta){const Qa=Ia.length;Ta=Array(Qa-Ta);const va=Ia;let S,la,wa;for(la=0;!ta[la]&&la<Qa;++la)Ta[la]=Ia[la],va[la]=la;for(wa=la;la<Qa;++la)S=Ia[la],ta[la]?va[la]=-1:(va[la]=wa,na[wa]=na[la],qa[wa]=qa[la],Ta[wa]=S,S._index=wa++),na[la]=0;Ia=Ta;return va},size:()=>Ia.length,curr:()=>na,prev:()=>qa,reset:Ta=>qa[Ta]=na[Ta],all:()=>
257>oa?255:65537>oa?65535:4294967295,set(Ta,ta){na[Ta]|=ta},clear(Ta,ta){na[Ta]&=~ta},resize(Ta,ta){if(Ta>na.length||ta>oa)oa=Math.max(ta,oa),na=Ja(Ta,oa,na),qa=Ja(Ta,oa)}}}function Ja(oa,Ia,Ua){oa=(257>Ia?bb:65537>Ia?Ca:ma)(oa);Ua&&oa.set(Ua);return oa}function db(oa,Ia,Ua){const na=1<<Ia;return{one:na,zero:~na,range:Ua.slice(),bisect:oa.bisect,index:oa.index,size:oa.size,onAdd(qa,Ta){var ta=this.bisect(this.range,qa.value);qa=qa.index;const Qa=ta[0];ta=ta[1];const va=qa.length;let S;for(S=0;S<Qa;++S)Ta[qa[S]]|=
na;for(S=ta;S<va;++S)Ta[qa[S]]|=na;return this}}}function Bb(){let oa=new Uint32Array(0),Ia=[],Ua=0;return{insert:function(na,qa,Ta){if(!qa.length)return[];const ta=Ua,Qa=qa.length,va=new Uint32Array(Qa);let S=Array(Qa);var la;for(la=0;la<Qa;++la)S[la]=na(qa[la]),va[la]=la;S=jb(S,va);if(ta){na=Ia;qa=oa;Ia=Array(ta+Qa);oa=new Uint32Array(ta+Qa);{la=S;var wa=Ia,Da=oa;let Oa=0,Ha=0,Va;for(Va=0;Oa<ta&&Ha<Qa;++Va)na[Oa]<la[Ha]?(wa[Va]=na[Oa],Da[Va]=qa[Oa++]):(wa[Va]=la[Ha],Da[Va]=va[Ha++]+Ta);for(;Oa<
ta;++Oa,++Va)wa[Va]=na[Oa],Da[Va]=qa[Oa];for(;Ha<Qa;++Ha,++Va)wa[Va]=la[Ha],Da[Va]=va[Ha]+Ta}}else{if(0<Ta)for(la=0;la<Qa;++la)va[la]+=Ta;Ia=S;oa=va}Ua=ta+Qa;return{index:va,value:S}},remove:function(na,qa){const Ta=Ua;let ta,Qa,va;for(Qa=0;!qa[oa[Qa]]&&Qa<Ta;++Qa);for(va=Qa;Qa<Ta;++Qa)qa[ta=oa[Qa]]||(oa[va]=ta,Ia[va]=Ia[Qa],++va);Ua=Ta-na},bisect:function(na,qa){let Ta;qa?Ta=qa.length:(qa=Ia,Ta=Ua);return[q.bisectLeft(qa,na[0],0,Ta),q.bisectRight(qa,na[1],0,Ta)]},reindex:function(na){for(let qa=
0,Ta=Ua;qa<Ta;++qa)oa[qa]=na[oa[qa]]},index:()=>oa,size:()=>Ua}}function jb(oa,Ia){oa.sort.call(Ia,(Ua,na)=>{Ua=oa[Ua];na=oa[na];return Ua<na?-1:Ua>na?1:0});return q.permute(oa,Ia)}function Ea(oa){R.Transform.call(this,Fb(),oa);this._dims=this._indices=null}function ab(oa){R.Transform.call(this,null,oa)}const bb=oa=>new Uint8Array(oa),Ca=oa=>new Uint16Array(oa),ma=oa=>new Uint32Array(oa);Ea.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",
type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};Ma.inherits(Ea,R.Transform,{transform(oa,Ia){return this._dims?oa.modified("fields")||oa.fields.some(Ua=>Ia.modified(Ua.fields))?this.reinit(oa,Ia):this.eval(oa,Ia):this.init(oa,Ia)},init(oa,Ia){const Ua=oa.fields,na=oa.query,qa=this._indices={},Ta=this._dims=[],ta=na.length;let Qa=0;for(var va;Qa<ta;++Qa)va=Ua[Qa].fname,va=qa[va]||(qa[va]=Bb()),Ta.push(db(va,Qa,na[Qa]));return this.eval(oa,Ia)},reinit(oa,Ia){const Ua=
Ia.materialize().fork(),na=oa.fields,qa=oa.query,Ta=this._indices,ta=this._dims,Qa=this.value,va=Qa.curr(),S=Qa.prev(),la=Qa.all(),wa=Ua.rem=Ua.add,Da=Ua.mod,Oa=qa.length,Ha={};let Va;var Fa;let E,w,F,Z;S.set(va);Ia.rem.length&&(E=this.remove(oa,Ia,Ua));Ia.add.length&&Qa.add(Ia.add);if(Ia.mod.length){w={};var D=Ia.mod;F=0;for(Fa=D.length;F<Fa;++F)w[D[F]._index]=1}for(F=0;F<Oa;++F)if(Z=na[F],!ta[F]||oa.modified("fields",F)||Ia.modified(Z.fields))Fa=Z.fname,(D=Ha[Fa])||(Ta[Fa]=Va=Bb(),Ha[Fa]=D=Va.insert(Z,
Ia.source,0)),ta[F]=db(Va,F,qa[F]).onAdd(D,va);F=0;for(Fa=Qa.data().length;F<Fa;++F)E[F]||(S[F]!==va[F]?wa.push(F):w[F]&&va[F]!==la&&Da.push(F));Qa.mask=(1<<Oa)-1;return Ua},eval(oa,Ia){const Ua=Ia.materialize().fork(),na=this._dims.length;let qa=0;Ia.rem.length&&(this.remove(oa,Ia,Ua),qa|=(1<<na)-1);oa.modified("query")&&!oa.modified("fields")&&(qa|=this.update(oa,Ia,Ua));Ia.add.length&&(this.insert(oa,Ia,Ua),qa|=(1<<na)-1);Ia.mod.length&&(this.modify(Ia,Ua),qa|=(1<<na)-1);this.value.mask=qa;return Ua},
insert(oa,Ia,Ua){Ia=Ia.add;var na=this.value;const qa=this._dims,Ta=this._indices;oa=oa.fields;const ta={};Ua=Ua.add;const Qa=na.size()+Ia.length,va=qa.length;let S=na.size();na.resize(Qa,va);na.add(Ia);const la=na.curr(),wa=na.prev(),Da=na.all();for(na=0;na<va;++na){var Oa=oa[na].fname;Oa=ta[Oa]||(ta[Oa]=Ta[Oa].insert(oa[na],Ia,S));qa[na].onAdd(Oa,la)}for(;S<Qa;++S)wa[S]=Da,la[S]!==Da&&Ua.push(S)},modify(oa,Ia){Ia=Ia.mod;var Ua=this.value;const na=Ua.curr();Ua=Ua.all();oa=oa.mod;let qa,Ta,ta;qa=
0;for(Ta=oa.length;qa<Ta;++qa)ta=oa[qa]._index,na[ta]!==Ua&&Ia.push(ta)},remove(oa,Ia,Ua){oa=this._indices;var na=this.value;const qa=na.curr(),Ta=na.prev();na=na.all();const ta={};Ua=Ua.rem;const Qa=Ia.rem;let va,S,la,wa;va=0;for(S=Qa.length;va<S;++va)la=Qa[va]._index,ta[la]=1,Ta[la]=wa=qa[la],qa[la]=na,wa!==na&&Ua.push(la);for(la in oa)oa[la].remove(S,ta);this.reindex(Ia,S,ta);return ta},reindex(oa,Ia,Ua){const na=this._indices,qa=this.value;oa.runAfter(()=>{const Ta=qa.remove(Ia,Ua);for(const ta in na)na[ta].reindex(Ta)})},
update(oa,Ia,Ua){const na=this._dims,qa=oa.query;Ia=Ia.stamp;const Ta=na.length;let ta=0,Qa,va;for(va=Ua.filters=0;va<Ta;++va)oa.modified("query",va)&&(Qa=va,++ta);if(1===ta)ta=na[Qa].one,this.incrementOne(na[Qa],qa[Qa],Ua.add,Ua.rem);else for(ta=va=0;va<Ta;++va)oa.modified("query",va)&&(ta|=na[va].one,this.incrementAll(na[va],qa[va],Ia,Ua.add),Ua.rem=Ua.add);return ta},incrementAll(oa,Ia,Ua,na){var qa=this.value;const Ta=qa.seen(),ta=qa.curr();qa=qa.prev();const Qa=oa.index();var va=oa.bisect(oa.range),
S=oa.bisect(Ia);const la=S[0];S=S[1];const wa=va[0];va=va[1];const Da=oa.one;let Oa,Ha,Va;if(la<wa)for(Oa=la,Ha=Math.min(wa,S);Oa<Ha;++Oa)Va=Qa[Oa],Ta[Va]!==Ua&&(qa[Va]=ta[Va],Ta[Va]=Ua,na.push(Va)),ta[Va]^=Da;else if(la>wa)for(Oa=wa,Ha=Math.min(la,va);Oa<Ha;++Oa)Va=Qa[Oa],Ta[Va]!==Ua&&(qa[Va]=ta[Va],Ta[Va]=Ua,na.push(Va)),ta[Va]^=Da;if(S>va)for(Oa=Math.max(la,va),Ha=S;Oa<Ha;++Oa)Va=Qa[Oa],Ta[Va]!==Ua&&(qa[Va]=ta[Va],Ta[Va]=Ua,na.push(Va)),ta[Va]^=Da;else if(S<va)for(Oa=Math.max(wa,S),Ha=va;Oa<Ha;++Oa)Va=
Qa[Oa],Ta[Va]!==Ua&&(qa[Va]=ta[Va],Ta[Va]=Ua,na.push(Va)),ta[Va]^=Da;oa.range=Ia.slice()},incrementOne(oa,Ia,Ua,na){const qa=this.value.curr(),Ta=oa.index();var ta=oa.bisect(oa.range),Qa=oa.bisect(Ia);const va=Qa[0];Qa=Qa[1];const S=ta[0];ta=ta[1];const la=oa.one;let wa,Da,Oa;if(va<S)for(wa=va,Da=Math.min(S,Qa);wa<Da;++wa)Oa=Ta[wa],qa[Oa]^=la,Ua.push(Oa);else if(va>S)for(wa=S,Da=Math.min(va,ta);wa<Da;++wa)Oa=Ta[wa],qa[Oa]^=la,na.push(Oa);if(Qa>ta)for(wa=Math.max(va,ta),Da=Qa;wa<Da;++wa)Oa=Ta[wa],
qa[Oa]^=la,Ua.push(Oa);else if(Qa<ta)for(wa=Math.max(S,Qa),Da=ta;wa<Da;++wa)Oa=Ta[wa],qa[Oa]^=la,na.push(Oa);oa.range=Ia.slice()}});ab.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};Ma.inherits(ab,R.Transform,{transform(oa,Ia){const Ua=~(oa.ignore||0);oa=oa.filter;const na=oa.mask;
if(0===(na&Ua))return Ia.StopPropagation;Ia=Ia.fork(Ia.ALL);const qa=oa.data(),Ta=oa.curr(),ta=oa.prev(),Qa=va=>Ta[va]&Ua?null:qa[va];Ia.filter(Ia.MOD,Qa);na&na-1?(Ia.filter(Ia.ADD,va=>{const S=Ta[va]&Ua;return!S&&S^ta[va]&Ua?qa[va]:null}),Ia.filter(Ia.REM,va=>{const S=Ta[va]&Ua;return!S||S^S^ta[va]&Ua?null:qa[va]})):(Ia.filter(Ia.ADD,Qa),Ia.filter(Ia.REM,va=>(Ta[va]&Ua)===na?qa[va]:null));return Ia.filter(Ia.SOURCE,va=>Qa(va._index))}});k.crossfilter=Ea;k.resolvefilter=ab;Object.defineProperty(k,
"__esModule",{value:!0})})};
shadow$provide[57]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb,Vb(15)):"function"===typeof define&&define.amd?define(["exports","vega-util"],q):(k="undefined"!==typeof globalThis?globalThis:k||self,q(k.vega={},k.vega))})(this,function(k,q){function R(p){this.type=p}function Ma(p){switch(p.type){case "ArrayExpression":return p.elements;case "BinaryExpression":case "LogicalExpression":return[p.left,p.right];case "CallExpression":return[p.callee].concat(p.arguments);
case "ConditionalExpression":return[p.test,p.consequent,p.alternate];case "MemberExpression":return[p.object,p.property];case "ObjectExpression":return p.properties;case "Property":return[p.key,p.value];case "UnaryExpression":return[p.argument];default:return[]}}function Fb(p,h){if(!p)throw Error("ASSERT: "+h);}function Ja(p){return 48<=p&&57>=p}function db(p){return 0<="0123456789abcdefABCDEF".indexOf(p)}function Bb(p){return 0<="01234567".indexOf(p)}function jb(p){return 10===p||13===p||8232===
p||8233===p}function Ea(p){return 36===p||95===p||65<=p&&90>=p||97<=p&&122>=p||92===p||128<=p&&G.test(String.fromCharCode(p))}function ab(p){return 36===p||95===p||65<=p&&90>=p||97<=p&&122>=p||48<=p&&57>=p||92===p||128<=p&&ca.test(String.fromCharCode(p))}function bb(){for(;Y<ua;){const p=N.charCodeAt(Y);if(32===p||9===p||11===p||12===p||160===p||5760<=p&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(p)||jb(p))++Y;else break}}function Ca(p){var h=
0;var m="u"===p?4:2;for(p=0;p<m;++p)if(Y<ua&&db(N[Y])){var n=N[Y++];h=16*h+"0123456789abcdef".indexOf(n.toLowerCase())}else wa({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(h)}function ma(){var p=N.charCodeAt(Y++);var h=String.fromCharCode(p);92===p&&(117!==N.charCodeAt(Y)&&wa({},"Unexpected token %0","ILLEGAL"),++Y,(p=Ca("u"))&&"\\"!==p&&Ea(p.charCodeAt(0))||wa({},"Unexpected token %0","ILLEGAL"),h=p);for(;Y<ua;){p=N.charCodeAt(Y);if(!ab(p))break;++Y;h+=String.fromCharCode(p);92===
p&&(h=h.substr(0,h.length-1),117!==N.charCodeAt(Y)&&wa({},"Unexpected token %0","ILLEGAL"),++Y,(p=Ca("u"))&&"\\"!==p&&ab(p.charCodeAt(0))||wa({},"Unexpected token %0","ILLEGAL"),h+=p)}return h}function oa(){var p=Y,h=N.charCodeAt(Y),m=N[Y];switch(h){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Y,{type:7,value:String.fromCharCode(h),start:p,end:Y};default:var n=N.charCodeAt(Y+1);if(61===n)switch(h){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Y+=
2,{type:7,value:String.fromCharCode(h)+String.fromCharCode(n),start:p,end:Y};case 33:case 61:return Y+=2,61===N.charCodeAt(Y)&&++Y,{type:7,value:N.slice(p,Y),start:p,end:Y}}}h=N.substr(Y,4);if("\x3e\x3e\x3e\x3d"===h)return Y+=4,{type:7,value:h,start:p,end:Y};h=h.substr(0,3);if("\x3e\x3e\x3e"===h||"\x3c\x3c\x3d"===h||"\x3e\x3e\x3d"===h)return Y+=3,{type:7,value:h,start:p,end:Y};h=h.substr(0,2);if(m===h[1]&&0<="+-\x3c\x3e\x26|".indexOf(m)||"\x3d\x3e"===h)return Y+=2,{type:7,value:h,start:p,end:Y};if(0<=
"\x3c\x3e\x3d!+-*%\x26|^/".indexOf(m))return++Y,{type:7,value:m,start:p,end:Y};wa({},"Unexpected token %0","ILLEGAL")}function Ia(){var p=N[Y];Fb(Ja(p.charCodeAt(0))||"."===p,"Numeric literal must start with a decimal digit or a decimal point");var h=Y;var m="";if("."!==p){m=N[Y++];p=N[Y];if("0"===m){if("x"===p||"X"===p){++Y;for(m="";Y<ua&&db(N[Y]);)m+=N[Y++];0===m.length&&wa({},"Unexpected token %0","ILLEGAL");Ea(N.charCodeAt(Y))&&wa({},"Unexpected token %0","ILLEGAL");return h={type:6,value:parseInt("0x"+
m,16),start:h,end:Y}}if(Bb(p)){for(m="0"+N[Y++];Y<ua&&Bb(N[Y]);)m+=N[Y++];(Ea(N.charCodeAt(Y))||Ja(N.charCodeAt(Y)))&&wa({},"Unexpected token %0","ILLEGAL");return h={type:6,value:parseInt(m,8),octal:!0,start:h,end:Y}}p&&Ja(p.charCodeAt(0))&&wa({},"Unexpected token %0","ILLEGAL")}for(;Ja(N.charCodeAt(Y));)m+=N[Y++];p=N[Y]}if("."===p){for(m+=N[Y++];Ja(N.charCodeAt(Y));)m+=N[Y++];p=N[Y]}if("e"===p||"E"===p){m+=N[Y++];p=N[Y];if("+"===p||"-"===p)m+=N[Y++];if(Ja(N.charCodeAt(Y)))for(;Ja(N.charCodeAt(Y));)m+=
N[Y++];else wa({},"Unexpected token %0","ILLEGAL")}Ea(N.charCodeAt(Y))&&wa({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(m),start:h,end:Y}}function Ua(p,h){let m=p;0<=h.indexOf("u")&&(m=m.replace(/\\u\{([0-9a-fA-F]+)\}/g,(n,u)=>{if(1114111>=parseInt(u,16))return"x";wa({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(m)}catch(n){wa({},"Invalid regular expression")}try{return new RegExp(p,h)}catch(n){return null}}function na(){bb();
if(Y>=ua)return{type:2,start:Y,end:Y};var p=N.charCodeAt(Y);if(Ea(p)){p=Y;if(92===N.charCodeAt(Y))var h=ma();else a:{for(h=Y++;Y<ua;){var m=N.charCodeAt(Y);if(92===m){Y=h;h=ma();break a}if(ab(m))++Y;else break}h=N.slice(h,Y)}return{type:1===h.length?3:ba.hasOwnProperty(h)?4:"null"===h?5:"true"===h||"false"===h?1:3,value:h,start:p,end:Y}}if(40===p||41===p||59===p)return oa();if(39===p||34===p){var n="";m=!1;p=N[Y];Fb("'"===p||'"'===p,"String literal must starts with a quote");h=Y;for(++Y;Y<ua;){var u=
N[Y++];if(u===p){p="";break}else if("\\"===u)if((u=N[Y++])&&jb(u.charCodeAt(0)))"\r"===u&&"\n"===N[Y]&&++Y;else switch(u){case "u":case "x":if("{"===N[Y]){++Y;var x=N[Y];u=0;for("}"===x&&wa({},"Unexpected token %0","ILLEGAL");Y<ua;){x=N[Y++];if(!db(x))break;u=16*u+"0123456789abcdef".indexOf(x.toLowerCase())}(1114111<u||"}"!==x)&&wa({},"Unexpected token %0","ILLEGAL");u=65535>=u?String.fromCharCode(u):String.fromCharCode((u-65536>>10)+55296,(u-65536&1023)+56320);n+=u}else n+=Ca(u);break;case "n":n+=
"\n";break;case "r":n+="\r";break;case "t":n+="\t";break;case "b":n+="\b";break;case "f":n+="\f";break;case "v":n+="\x0B";break;default:Bb(u)?(x="01234567".indexOf(u),0!==x&&(m=!0),Y<ua&&Bb(N[Y])&&(m=!0,x=8*x+"01234567".indexOf(N[Y++]),0<="0123".indexOf(u)&&Y<ua&&Bb(N[Y])&&(x=8*x+"01234567".indexOf(N[Y++]))),n+=String.fromCharCode(x)):n+=u}else if(jb(u.charCodeAt(0)))break;else n+=u}""!==p&&wa({},"Unexpected token %0","ILLEGAL");return{type:8,value:n,octal:m,start:h,end:Y}}return 46===p?Ja(N.charCodeAt(Y+
1))?Ia():oa():Ja(p)?Ia():oa()}function qa(){const p=Ga;Y=p.end;Ga=na();Y=p.end;return p}function Ta(){const p=Y;Ga=na();Y=p}function ta(p,h,m){const n=new R("||"===p||"\x26\x26"===p?"LogicalExpression":"BinaryExpression");n.operator=p;n.left=h;n.right=m;return n}function Qa(p){const h=new R("Identifier");h.name=p;return h}function va(p){const h=new R("Literal");h.value=p.value;h.raw=N.slice(p.start,p.end);p.regex&&("//"===h.raw&&(h.raw="/(?:)/"),h.regex=p.regex);return h}function S(p,h,m){const n=
new R("MemberExpression");n.computed="["===p;n.object=h;n.property=m;n.computed||(m.member=!0);return n}function la(p,h,m){const n=new R("Property");n.key=h;n.value=m;n.kind=p;return n}function wa(p,h){var m=Array.prototype.slice.call(arguments,2),n=h.replace(/%(\d)/g,(x,L)=>{Fb(L<m.length,"Message reference must be in range");return m[L]});var u=Error(n);u.index=Y;u.description=n;throw u;}function Da(p){2===p.type&&wa(p,"Unexpected end of input");6===p.type&&wa(p,"Unexpected number");8===p.type&&
wa(p,"Unexpected string");3===p.type&&wa(p,"Unexpected identifier");4===p.type&&wa(p,"Unexpected reserved word");wa(p,"Unexpected token %0",p.value)}function Oa(p){const h=qa();7===h.type&&h.value===p||Da(h)}function Ha(p){return 7===Ga.type&&Ga.value===p}function Va(){Y=Ga.start;const p=qa();return 8===p.type||6===p.type?(p.octal&&wa(p,"Octal literals are not allowed in strict mode."),va(p)):Qa(p.value)}function Fa(){if(Ha("(")){Oa("(");var p=D();Oa(")");return p}if(Ha("[")){p=[];Y=Ga.start;for(Oa("[");!Ha("]");)Ha(",")?
(qa(),p.push(null)):(p.push(Z()),Ha("]")||Oa(","));qa();var h=new R("ArrayExpression");h.elements=p;return p=h}if(Ha("{")){p=[];h={};var m=String;Y=Ga.start;for(Oa("{");!Ha("}");){Y=Ga.start;var n=Ga;if(3===n.type){var u=Va();Oa(":");n=Z();n=la("init",u,n)}else 2===n.type||7===n.type?(Da(n),n=void 0):(u=Va(),Oa(":"),n=Z(),n=la("init",u,n));u="Identifier"===n.key.type?n.key.name:m(n.key.value);u="$"+u;Object.prototype.hasOwnProperty.call(h,u)?wa({},"Duplicate data property in object literal not allowed in strict mode"):
h[u]=!0;p.push(n);Ha("}")||Oa(",")}Oa("}");h=new R("ObjectExpression");h.properties=p;return p=h}p=Ga.type;Y=Ga.start;if(3===p||V[Ga.value])h=Qa(qa().value);else if(8===p||6===p)Ga.octal&&wa(Ga,"Octal literals are not allowed in strict mode."),h=va(qa());else{if(4===p)throw Error("Disabled.");if(1===p)p=qa(),p.value="true"===p.value,h=va(p);else if(5===p)p=qa(),p.value=null,h=va(p);else if(Ha("/")||Ha("/\x3d")){var x;Ga=null;bb();p=Y;h=N[Y];Fb("/"===h,"Regular expression literal must start with a slash");
m=N[Y++];for(u=n=!1;Y<ua;)if(h=N[Y++],m+=h,"\\"===h)h=N[Y++],jb(h.charCodeAt(0))&&wa({},"Invalid regular expression: missing /"),m+=h;else if(jb(h.charCodeAt(0)))wa({},"Invalid regular expression: missing /");else if(n)"]"===h&&(n=!1);else if("/"===h){u=!0;break}else"["===h&&(n=!0);u||wa({},"Invalid regular expression: missing /");h=m.substr(1,m.length-2);for(x=u="";Y<ua;){n=N[Y];if(!ab(n.charCodeAt(0)))break;++Y;"\\"===n&&Y<ua?wa({},"Unexpected token %0","ILLEGAL"):(x+=n,u+=n)}0<=x.search(/[^gimuy]/g)&&
wa({},"Invalid regular expression",x);n=x;x=Ua(h,n);h=va({literal:m+u,value:x,regex:{pattern:h,flags:n},start:p,end:Y});Ta()}else Da(qa())}return h}function E(){var p;for(p=Fa();;)if(Ha(".")){Oa(".");Y=Ga.start;var h=qa();3===h.type||4===h.type||1===h.type||5===h.type||Da(h);h=Qa(h.value);p=S(".",p,h)}else if(Ha("(")){h=[];Oa("(");if(!Ha(")"))for(;Y<ua;){h.push(Z());if(Ha(")"))break;Oa(",")}Oa(")");{const m=new R("CallExpression");m.callee=p;m.arguments=h;p=m}}else if(Ha("["))Oa("["),h=D(),Oa("]"),
p=S("[",p,h);else break;if(7===Ga.type&&(Ha("++")||Ha("--")))throw Error("Disabled.");return p}function w(){if(7!==Ga.type&&4!==Ga.type)var p=E();else{if(Ha("++")||Ha("--"))throw Error("Disabled.");if(Ha("+")||Ha("-")||Ha("~")||Ha("!")){var h=qa();p=w();{h=h.value;const m=new R("UnaryExpression");m.operator=h;m.argument=p;m.prefix=!0;p=m}}else{if(4===Ga.type&&"delete"===Ga.value||4===Ga.type&&"void"===Ga.value||4===Ga.type&&"typeof"===Ga.value)throw Error("Disabled.");p=E()}}return p}function F(p){let h=
0;if(7!==p.type&&4!==p.type)return 0;switch(p.value){case "||":h=1;break;case "\x26\x26":h=2;break;case "|":h=3;break;case "^":h=4;break;case "\x26":h=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":h=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":h=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":h=8;break;case "+":case "-":h=9;break;case "*":case "/":case "%":h=11}return h}function Z(){var p=Ga;var h=w();var m=Ga;
var n=F(m);if(0===n)var u=h;else{m.prec=n;qa();p=[p,Ga];var x=w();for(u=[h,m,x];0<(n=F(Ga));){for(;2<u.length&&n<=u[u.length-2].prec;)x=u.pop(),m=u.pop().value,h=u.pop(),p.pop(),h=ta(m,h,x),u.push(h);m=qa();m.prec=n;u.push(m);p.push(Ga);h=w();u.push(h)}n=u.length-1;h=u[n];for(p.pop();1<n;)p.pop(),h=ta(u[n-1].value,u[n-2],h),n-=2;u=h}Ha("?")&&(qa(),p=Z(),Oa(":"),n=Z(),h=new R("ConditionalExpression"),h.test=u,h.consequent=p,h.alternate=n,u=h);return u}function D(){const p=Z();if(Ha(","))throw Error("Disabled.");
return p}function P(p){function h(m,n,u){return x=>{{let L=p(x[0]);n&&(L=n+"("+L+")",0===n.lastIndexOf("new ",0)&&(L="("+L+")"));x=L+"."+m+(0>u?"":0===u?"()":"("+x.slice(1).map(p).join(",")+")")}return x}}return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",
sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(m){3>m.length&&q.error("Missing arguments to clamp function.");3<m.length&&q.error("Too many arguments to clamp function.");m=m.map(p);return"Math.max("+m[1]+", Math.min("+m[2]+","+m[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:"new Date",date:h("getDate","new Date",0),day:h("getDay","new Date",0),year:h("getFullYear","new Date",0),month:h("getMonth","new Date",0),hours:h("getHours","new Date",0),minutes:h("getMinutes","new Date",0),
seconds:h("getSeconds","new Date",0),milliseconds:h("getMilliseconds","new Date",0),time:h("getTime","new Date",0),timezoneoffset:h("getTimezoneOffset","new Date",0),utcdate:h("getUTCDate","new Date",0),utcday:h("getUTCDay","new Date",0),utcyear:h("getUTCFullYear","new Date",0),utcmonth:h("getUTCMonth","new Date",0),utchours:h("getUTCHours","new Date",0),utcminutes:h("getUTCMinutes","new Date",0),utcseconds:h("getUTCSeconds","new Date",0),utcmilliseconds:h("getUTCMilliseconds","new Date",0),length:h("length",
null,-1),join:h("join",null),indexof:h("indexOf",null),lastindexof:h("lastIndexOf",null),slice:h("slice",null),reverse:function(m){return"("+p(m[0])+").slice().reverse()"},parseFloat:"parseFloat",parseInt:"parseInt",upper:h("toUpperCase","String",0),lower:h("toLowerCase","String",0),substring:h("substring","String"),split:h("split","String"),replace:h("replace","String"),trim:h("trim","String",0),regexp:"RegExp",test:h("test","RegExp"),if:function(m){3>m.length&&q.error("Missing arguments to if function.");
3<m.length&&q.error("Too many arguments to if function.");m=m.map(p);return"("+m[0]+"?"+m[1]+":"+m[2]+")"}}}R.prototype.visit=function(p){let h,m,n;if(p(this))return 1;h=Ma(this);m=0;for(n=h.length;m<n;++m)if(h[m].visit(p))return 1};var N,Y,ua,Ga,G=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
ca=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/;
const ba={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},V={"if":1};var H={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",
LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};k.ASTNode=R;k.ArrayExpression="ArrayExpression";k.BinaryExpression="BinaryExpression";k.CallExpression="CallExpression";k.ConditionalExpression="ConditionalExpression";k.Identifier="Identifier";k.Literal="Literal";k.LogicalExpression="LogicalExpression";k.MemberExpression="MemberExpression";k.ObjectExpression="ObjectExpression";
k.Property="Property";k.RawCode="RawCode";k.UnaryExpression="UnaryExpression";k.codegen=function(p){function h(da){if(q.isString(da))return da;const Xa=T[da.type];null==Xa&&q.error("Unsupported type: "+da.type);return Xa(da)}function m(da){da={code:h(da),globals:Object.keys($a),fields:Object.keys(fb)};$a={};fb={};return da}p=p||{};const n=p.allowed?q.toSet(p.allowed):{},u=p.forbidden?q.toSet(p.forbidden):{},x=p.constants||H,L=(p.functions||P)(h),ia=p.globalvar,xa=p.fieldvar,Wa=q.isFunction(ia)?ia:
da=>`${ia}["${da}"]`;let $a={},fb={},Ba=0;const T={Literal:da=>da.raw,Identifier:da=>{da=da.name;if(0<Ba)return da;if(q.hasOwnProperty(u,da))return q.error("Illegal identifier: "+da);if(q.hasOwnProperty(x,da))return x[da];if(q.hasOwnProperty(n,da))return da;$a[da]=1;return Wa(da)},MemberExpression:da=>{const Xa=!da.computed,zb=h(da.object);Xa&&(Ba+=1);da=h(da.property);if(zb===xa){var xb=fb;var Pb=(Pb=da&&da.length-1)&&('"'===da[0]&&'"'===da[Pb]||"'"===da[0]&&"'"===da[Pb])?da.slice(1,-1):da;xb[Pb]=
1}Xa&&--Ba;return zb+(Xa?"."+da:"["+da+"]")},CallExpression:da=>{"Identifier"!==da.callee.type&&q.error("Illegal callee type: "+da.callee.type);const Xa=da.callee.name;da=da.arguments;const zb=q.hasOwnProperty(L,Xa)&&L[Xa];zb||q.error("Unrecognized function: "+Xa);return q.isFunction(zb)?zb(da):zb+"("+da.map(h).join(",")+")"},ArrayExpression:da=>"["+da.elements.map(h).join(",")+"]",BinaryExpression:da=>"("+h(da.left)+da.operator+h(da.right)+")",UnaryExpression:da=>"("+da.operator+h(da.argument)+")",
ConditionalExpression:da=>"("+h(da.test)+"?"+h(da.consequent)+":"+h(da.alternate)+")",LogicalExpression:da=>"("+h(da.left)+da.operator+h(da.right)+")",ObjectExpression:da=>"{"+da.properties.map(h).join(",")+"}",Property:da=>{Ba+=1;const Xa=h(da.key);--Ba;return Xa+":"+h(da.value)}};m.functions=L;m.constants=x;return m};k.constants=H;k.functions=P;k.parse=function(p){N=p;Y=0;ua=N.length;Ga=null;Ta();p=D();if(2!==Ga.type)throw Error("Unexpect token after expression.");return p};Object.defineProperty(k,
"__esModule",{value:!0})})};
shadow$provide[58]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb,Vb(15),Vb(57)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-expression"],q):(k="undefined"!==typeof globalThis?globalThis:k||self,q(k.vega={},k.vega,k.vega))})(this,function(k,q,R){function Ma(Ja,db){var Bb=db.fields;db=db.values;for(var jb=Bb.length,Ea=0,ab,bb;Ea<jb;++Ea)if(bb=Bb[Ea],bb.getter=q.field.getter||q.field(bb.field),ab=bb.getter(Ja),q.isDate(ab)&&(ab=
q.toNumber(ab)),q.isDate(db[Ea])&&(db[Ea]=q.toNumber(db[Ea])),q.isDate(db[Ea][0])&&(db[Ea]=db[Ea].map(q.toNumber)),"E"===bb.type){if(q.isArray(db[Ea])?0>db[Ea].indexOf(ab):ab!==db[Ea])return!1}else if("R"===bb.type){if(!q.inrange(ab,db[Ea]))return!1}else if("R-RE"===bb.type){if(!q.inrange(ab,db[Ea],!0,!1))return!1}else if("R-E"===bb.type){if(!q.inrange(ab,db[Ea],!1,!1))return!1}else if("R-LE"===bb.type&&!q.inrange(ab,db[Ea],!1,!0))return!1;return!0}var Fb={E_union:function(Ja,db){if(!Ja.length)return db;
for(var Bb=0,jb=db.length;Bb<jb;++Bb)0>Ja.indexOf(db[Bb])&&Ja.push(db[Bb]);return Ja},E_intersect:function(Ja,db){return Ja.length?Ja.filter(Bb=>0<=db.indexOf(Bb)):db},R_union:function(Ja,db){var Bb=q.toNumber(db[0]),jb=q.toNumber(db[1]);Bb>jb&&(Bb=db[1],jb=db[0]);if(!Ja.length)return[Bb,jb];Ja[0]>Bb&&(Ja[0]=Bb);Ja[1]<jb&&(Ja[1]=jb);return Ja},R_intersect:function(Ja,db){var Bb=q.toNumber(db[0]),jb=q.toNumber(db[1]);Bb>jb&&(Bb=db[1],jb=db[0]);if(!Ja.length)return[Bb,jb];if(jb<Ja[0]||Ja[1]<Bb)return[];
Ja[0]<Bb&&(Ja[0]=Bb);Ja[1]>jb&&(Ja[1]=jb);return Ja}};k.selectionResolve=function(Ja,db,Bb){Ja=(Ja=this.context.data[Ja])?Ja.values.value:[];for(var jb={},Ea={},ab={},bb,Ca,ma,oa,Ia,Ua,na=Ja.length,qa=0,Ta,ta;qa<na;++qa){bb=Ja[qa];ma=bb.unit;Ca=bb.fields;bb=bb.values;Ta=0;for(ta=Ca.length;Ta<ta;++Ta)oa=Ca[Ta],Ia=jb[oa.field]||(jb[oa.field]={}),Ua=Ia[ma]||(Ia[ma]=[]),ab[oa.field]=oa=oa.type.charAt(0),oa=Fb[oa+"_union"],Ia[ma]=oa(Ua,q.array(bb[Ta]));Bb&&(Ua=Ea[ma]||(Ea[ma]=[]),Ua.push(q.array(bb).reduce((Qa,
va,S)=>(Qa[Ca[S].field]=va,Qa),{})))}db=db||"union";Object.keys(jb).forEach(Qa=>{jb[Qa]=Object.keys(jb[Qa]).map(va=>jb[Qa][va]).reduce((va,S)=>void 0===va?S:Fb[ab[Qa]+"_"+db](va,S))});Ja=Object.keys(Ea);Bb&&Ja.length&&(jb.vlMulti="union"===db?{["or"]:Ja.reduce((Qa,va)=>(Qa.push(...Ea[va]),Qa),[])}:{["and"]:Ja.map(Qa=>({["or"]:Ea[Qa]}))});return jb};k.selectionTest=function(Ja,db,Bb){var jb=this.context.data[Ja];Ja=jb?jb.values.value:[];jb=jb?jb["index:unit"]&&jb["index:unit"].value:void 0;Bb="intersect"===
Bb;for(var Ea=Ja.length,ab=0,bb,Ca,ma,oa;ab<Ea;++ab)if(bb=Ja[ab],jb&&Bb){if(Ca=Ca||{},ma=Ca[oa=bb.unit]||0,-1!==ma){bb=Ma(db,bb);Ca[oa]=bb?-1:++ma;if(bb&&1===jb.size)return!0;if(!bb&&ma===jb.get(oa).count)return!1}}else if(bb=Ma(db,bb),Bb^bb)return bb;return Ea&&Bb};k.selectionVisitor=function(Ja,db,Bb,jb){db[0].type!==R.Literal&&q.error("First argument to selection functions must be a string literal.");Ja=db[0].value;db=2<=db.length&&q.peek(db).value;const Ea=":"+Ja;"intersect"!==db||q.hasOwnProperty(jb,
"@unit")||(jb["@unit"]=Bb.getData(Ja).indataRef(Bb,"unit"));q.hasOwnProperty(jb,Ea)||(jb[Ea]=Bb.getData(Ja).tuplesRef())};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[59]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb,Vb(15),Vb(57),Vb(40),Vb(33),Vb(27),Vb(36),Vb(37),Vb(58),Vb(28),Vb(19),Vb(16)):"function"===typeof define&&define.amd?define("exports vega-util vega-expression d3-geo d3-color vega-dataflow vega-scale vega-scenegraph vega-selections vega-statistics vega-time d3-array".split(" "),q):(k="undefined"!==typeof globalThis?globalThis:k||self,q(k.vega={},k.vega,k.vega,k.d3,k.d3,k.vega,k.vega,k.vega,k.vega,
k.vega,k.vega,k.d3))})(this,function(k,q,R,Ma,Fb,Ja,db,Bb,jb,Ea,ab,bb){function Ca(gb){return(gb=this.context.data[gb])?gb.values.value:[]}function ma(gb,Kb,Eb){return(Eb=(gb=this.context.data[gb]["index:"+Kb])?gb.value.get(Eb):void 0)?Eb.count:Eb}function oa(gb,Kb){const Eb=this.context.dataflow;Eb.pulse(this.context.data[gb].input,Eb.changeset().remove(q.truthy).insert(Kb));return 1}function Ia(gb,Kb,Eb){if(gb){const Nc=this.context.dataflow;Nc.pulse(gb.mark.source,Nc.changeset().encode(gb,Kb))}return void 0!==
Eb?Eb:gb}function Ua(gb,Kb,Eb){if(!Number.isInteger(gb)||!Number.isInteger(Kb))return"";Uc.setYear(2E3);Uc.setMonth(gb);Uc.setDate(Kb);return xb.call(this,Uc,Eb)}function na(gb){return Ua.call(this,gb,1,"%B")}function qa(gb){return Ua.call(this,gb,1,"%b")}function Ta(gb){return Ua.call(this,0,2+gb,"%A")}function ta(gb){return Ua.call(this,0,2+gb,"%a")}function Qa(gb,Kb,Eb,Nc){Kb[0].type!==R.Literal&&q.error("First argument to data functions must be a string literal.");gb=Kb[0].value;Kb=":"+gb;if(!q.hasOwnProperty(Kb,
Nc))try{Nc[Kb]=Eb.getData(gb).tuplesRef()}catch(dd){}}function va(gb,Kb,Eb,Nc){Kb[0].type!==R.Literal&&q.error("First argument to indata must be a string literal.");Kb[1].type!==R.Literal&&q.error("Second argument to indata must be a string literal.");gb=Kb[0].value;Kb=Kb[1].value;const dd="@"+Kb;q.hasOwnProperty(dd,Nc)||(Nc[dd]=Eb.getData(gb).indataRef(Eb,Kb))}function S(gb,Kb,Eb,Nc){if(Kb[0].type===R.Literal)la(Eb,Nc,Kb[0].value);else for(gb in Eb.scales)la(Eb,Nc,gb)}function la(gb,Kb,Eb){const Nc=
"%"+Eb;if(!q.hasOwnProperty(Kb,Nc))try{Kb[Nc]=gb.scaleRef(Eb)}catch(dd){}}function wa(gb,Kb){let Eb;return q.isFunction(gb)?gb:q.isString(gb)?(Eb=Kb.scales[gb])&&Eb.value:void 0}function Da(gb,Kb,Eb){Kb.__bandwidth=dd=>dd&&dd.bandwidth?dd.bandwidth():0;Eb._bandwidth=S;Eb._range=S;Eb._scale=S;const Nc=dd=>"_["+(dd.type===R.Literal?q.stringValue("%"+dd.value):q.stringValue("%")+"+"+gb(dd))+"]";return{_bandwidth:dd=>`this.__bandwidth(${Nc(dd[0])})`,_range:dd=>`${Nc(dd[0])}.range()`,_scale:dd=>`${Nc(dd[0])}(${gb(dd[1])})`}}
function Oa(gb,Kb){return function(Eb,Nc,dd){return Eb?(Eb=wa(Eb,(dd||this).context))&&Eb.path[gb](Nc):Kb(Nc)}}function Ha(gb){const Kb=this.context.group;let Eb=!1;if(Kb)for(;gb;){if(gb===Kb){Eb=!0;break}gb=gb.mark.group}return Eb}function Va(gb,Kb,Eb){try{gb[Kb].apply(gb,["EXPRESSION"].concat([].slice.call(Eb)))}catch(Nc){gb.warn(Nc)}return Eb[Eb.length-1]}function Fa(){return Va(this.context.dataflow,"warn",arguments)}function E(){return Va(this.context.dataflow,"info",arguments)}function w(){return Va(this.context.dataflow,
"debug",arguments)}function F(gb){gb/=255;return.03928>=gb?gb/12.92:Math.pow((gb+.055)/1.055,2.4)}function Z(gb){var Kb=Fb.rgb(gb);gb=F(Kb.r);const Eb=F(Kb.g);Kb=F(Kb.b);return.2126*gb+.7152*Eb+.0722*Kb}function D(gb,Kb){gb=Z(gb);Kb=Z(Kb);return(Math.max(gb,Kb)+.05)/(Math.min(gb,Kb)+.05)}function P(){const gb=[].slice.call(arguments);gb.unshift({});return q.extend(...gb)}function N(gb,Kb){if(gb===Kb||gb!==gb&&Kb!==Kb)gb=!0;else if(q.isArray(gb))if(q.isArray(Kb)&&gb.length===Kb.length)a:{for(let Eb=
0,Nc=gb.length;Eb<Nc;++Eb)if(!N(gb[Eb],Kb[Eb])){gb=!1;break a}gb=!0}else gb=!1;else gb=q.isObject(gb)&&q.isObject(Kb)?Y(gb,Kb):!1;return gb}function Y(gb,Kb){for(const Eb in gb)if(!N(gb[Eb],Kb[Eb]))return!1;return!0}function ua(gb){return Kb=>Y(gb,Kb)}function Ga(gb,Kb,Eb,Nc,dd,Ic){const Tc=this.context.dataflow,xd=this.context.data[gb],tb=xd.input;gb=Tc.stamp();let Jb=xd.changes,Gc;if(!1===Tc._trigger||!(tb.value.length||Kb||Nc))return 0;if(!Jb||Jb.stamp<gb)xd.changes=Jb=Tc.changeset(),Jb.stamp=
gb,Tc.runAfter(()=>{xd.modified=!0;Tc.pulse(tb,Jb).run()},!0,1);Eb&&(Eb=!0===Eb?q.truthy:q.isArray(Eb)||Ja.isTuple(Eb)?Eb:ua(Eb),Jb.remove(Eb));Kb&&Jb.insert(Kb);Nc&&(Eb=ua(Nc),tb.value.some(Eb)?Jb.remove(Eb):Jb.insert(Nc));if(dd)for(Gc in Ic)Jb.modify(dd,Gc,Ic[Gc]);return 1}function G(gb){var Kb=gb.touches;gb=Kb[0].clientX-Kb[1].clientX;Kb=Kb[0].clientY-Kb[1].clientY;return Math.sqrt(gb*gb+Kb*Kb)}function ca(gb){gb=gb.touches;return Math.atan2(gb[0].clientY-gb[1].clientY,gb[0].clientX-gb[1].clientX)}
function ba(gb,Kb,Eb){return db.bandSpace(gb||0,Kb||0,Eb||0)}function V(gb,Kb){return(gb=wa(gb,(Kb||this).context))&&gb.bandwidth?gb.bandwidth():0}function H(gb,Kb){return(gb=wa(gb,(Kb||this).context))?gb.copy():void 0}function p(gb,Kb){return(gb=wa(gb,(Kb||this).context))?gb.domain():[]}function h(gb,Kb,Eb){return(gb=wa(gb,(Eb||this).context))?q.isArray(Kb)?(gb.invertRange||gb.invert)(Kb):(gb.invert||gb.invertExtent)(Kb):void 0}function m(gb,Kb){return(gb=wa(gb,(Kb||this).context))&&gb.range?gb.range():
[]}function n(gb,Kb,Eb){return(gb=wa(gb,(Eb||this).context))?gb(Kb):void 0}function u(gb,Kb,Eb,Nc,dd){gb=wa(gb,(dd||this).context);const Ic=Bb.Gradient(Kb,Eb);Kb=gb.domain();Eb=Kb[0];dd=q.peek(Kb);let Tc=q.identity;dd-Eb?Tc=db.scaleFraction(gb,Eb,dd):gb=(gb.interpolator?db.scale("sequential")().interpolator(gb.interpolator()):db.scale("linear")().interpolate(gb.interpolate()).range(gb.range())).domain([Eb=0,dd=1]);gb.ticks&&(Kb=gb.ticks(+Nc||15),Eb!==Kb[0]&&Kb.unshift(Eb),dd!==q.peek(Kb)&&Kb.push(dd));
Kb.forEach(xd=>Ic.stop(Tc(xd),gb(xd)));return Ic}function x(gb,Kb,Eb){const Nc=wa(gb,(Eb||this).context);return function(dd){return Nc?Nc.path.context(dd)(Kb):""}}function L(gb){let Kb=null;return function(Eb){return Eb?Bb.pathRender(Eb,Kb=Kb||Bb.pathParse(gb)):gb}}function ia(gb,Kb){gb=Ca.call(Kb,gb);return gb.root&&gb.root.lookup||{}}function xa(gb,Kb,Eb){gb=ia(gb,this);Kb=gb[Kb];Eb=gb[Eb];return Kb&&Eb?Kb.path(Eb).map(ya):void 0}function Wa(gb,Kb){return(gb=ia(gb,this)[Kb])?gb.ancestors().map(ya):
void 0}function $a(){const gb="undefined"!==typeof window&&window||null;return gb?gb.screen:{}}function fb(){const gb="undefined"!==typeof window&&window||null;return gb?[gb.innerWidth,gb.innerHeight]:[void 0,void 0]}function Ba(){var gb=this.context.dataflow;return(gb=gb.container&&gb.container())?[gb.clientWidth,gb.clientHeight]:[void 0,void 0]}function T(gb){let Kb=null;if(gb){const Eb=q.array(gb.marktype),Nc=q.array(gb.markname);Kb=dd=>(!Eb.length||Eb.some(Ic=>dd.marktype===Ic))&&(!Nc.length||
Nc.some(Ic=>dd.name===Ic))}return Kb}function da(gb,Kb,Eb){if(1===arguments.length)return Nb[gb];Nb[gb]=Kb;Eb&&(Zb[gb]=Eb);cc&&(cc.functions[gb]="this."+gb);return this}var Xa=gb=>function(Kb,Eb){return this.context.dataflow.locale()[gb](Eb)(Kb)};const zb=Xa("format"),xb=Xa("timeFormat"),Pb=Xa("utcFormat"),bc=Xa("timeParse");Xa=Xa("utcParse");const Uc=new Date(2E3,0,1),yc=Oa("area",Ma.geoArea),Vc=Oa("bounds",Ma.geoBounds);Ma=Oa("centroid",Ma.geoCentroid);const ya=gb=>gb.data,Nb={random(){return Ea.random()},
cumulativeNormal:Ea.cumulativeNormal,cumulativeLogNormal:Ea.cumulativeLogNormal,cumulativeUniform:Ea.cumulativeUniform,densityNormal:Ea.densityNormal,densityLogNormal:Ea.densityLogNormal,densityUniform:Ea.densityUniform,quantileNormal:Ea.quantileNormal,quantileLogNormal:Ea.quantileLogNormal,quantileUniform:Ea.quantileUniform,sampleNormal:Ea.sampleNormal,sampleLogNormal:Ea.sampleLogNormal,sampleUniform:Ea.sampleUniform,isArray:q.isArray,isBoolean:q.isBoolean,isDate:q.isDate,isDefined(gb){return void 0!==
gb},isNumber:q.isNumber,isObject:q.isObject,isRegExp:q.isRegExp,isString:q.isString,isTuple:Ja.isTuple,isValid(gb){return null!=gb&&gb===gb},toBoolean:q.toBoolean,toDate:q.toDate,toNumber:q.toNumber,toString:q.toString,flush:q.flush,lerp:q.lerp,merge:P,pad:q.pad,peek:q.peek,span:q.span,inrange:q.inrange,truncate:q.truncate,rgb:Fb.rgb,lab:Fb.lab,hcl:Fb.hcl,hsl:Fb.hsl,luminance:Z,contrast:D,sequence:bb.range,format:zb,utcFormat:Pb,utcParse:Xa,utcOffset:ab.utcOffset,utcSequence:ab.utcSequence,timeFormat:xb,
timeParse:bc,timeOffset:ab.timeOffset,timeSequence:ab.timeSequence,timeUnitSpecifier:ab.timeUnitSpecifier,monthFormat:na,monthAbbrevFormat:qa,dayFormat:Ta,dayAbbrevFormat:ta,quarter:q.quarter,utcquarter:q.utcquarter,week:ab.week,utcweek:ab.utcweek,dayofyear:ab.dayofyear,utcdayofyear:ab.utcdayofyear,warn:Fa,info:E,debug:w,extent:q.extent,inScope:Ha,intersect:function(gb,Kb,Eb){if(!gb)return[];const [Nc,dd]=gb;gb=(new Bb.Bounds).set(Nc[0],Nc[1],dd[0],dd[1]);Eb=Eb||this.context.dataflow.scenegraph().root;
return Bb.intersect(Eb,gb,T(Kb))},clampRange:q.clampRange,pinchDistance:G,pinchAngle:ca,screen:$a,containerSize:Ba,windowSize:fb,bandspace:ba,setdata:oa,pathShape:L,panLinear:q.panLinear,panLog:q.panLog,panPow:q.panPow,panSymlog:q.panSymlog,zoomLinear:q.zoomLinear,zoomLog:q.zoomLog,zoomPow:q.zoomPow,zoomSymlog:q.zoomSymlog,encode:Ia,modify:Ga},Sb="view item group xy x y".split(" "),Zb={},uc={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:gb=>`_[${q.stringValue("$"+gb)}]`,
functions:function(gb){const Kb=R.functions(gb);Sb.forEach(Eb=>Kb[Eb]="event.vega."+Eb);for(const Eb in Nb)Kb[Eb]="this."+Eb;q.extend(Kb,Da(gb,Nb,Zb));return Kb},constants:R.constants,visitors:Zb},cc=R.codegen(uc);da("bandwidth",V,S);da("copy",H,S);da("domain",p,S);da("range",m,S);da("invert",h,S);da("scale",n,S);da("gradient",u,S);da("geoArea",yc,S);da("geoBounds",Vc,S);da("geoCentroid",Ma,S);da("geoShape",x,S);da("indata",ma,va);da("data",Ca,Qa);da("treePath",xa,Qa);da("treeAncestors",Wa,Qa);da("vlSelectionTest",
jb.selectionTest,jb.selectionVisitor);da("vlSelectionResolve",jb.selectionResolve,jb.selectionVisitor);k.DataPrefix=":";k.IndexPrefix="@";k.ScalePrefix="%";k.SignalPrefix="$";k.bandspace=ba;k.bandwidth=V;k.codeGenerator=cc;k.codegenParams=uc;k.containerSize=Ba;k.contrast=D;k.copy=H;k.data=Ca;k.dataVisitor=Qa;k.dayAbbrevFormat=ta;k.dayFormat=Ta;k.debug=w;k.domain=p;k.encode=Ia;k.expressionFunction=da;k.format=zb;k.functionContext=Nb;k.geoArea=yc;k.geoBounds=Vc;k.geoCentroid=Ma;k.geoShape=x;k.inScope=
Ha;k.indata=ma;k.indataVisitor=va;k.info=E;k.invert=h;k.luminance=Z;k.merge=P;k.modify=Ga;k.monthAbbrevFormat=qa;k.monthFormat=na;k.parseExpression=function(gb,Kb){const Eb={};let Nc;try{gb=q.isString(gb)?gb:q.stringValue(gb)+"",Nc=R.parse(gb)}catch(dd){q.error("Expression parse error: "+gb)}Nc.visit(dd=>{if(dd.type===R.CallExpression){var Ic=dd.callee.name,Tc=uc.visitors[Ic];Tc&&Tc(Ic,dd.arguments,Kb,Eb)}});gb=cc(Nc);gb.globals.forEach(dd=>{const Ic="$"+dd;!q.hasOwnProperty(Eb,Ic)&&Kb.getSignal(dd)&&
(Eb[Ic]=Kb.signalRef(dd))});return{$expr:q.extend({code:gb.code},Kb.options.ast?{ast:Nc}:null),$fields:gb.fields,$params:Eb}};k.pathShape=L;k.pinchAngle=ca;k.pinchDistance=G;k.range=m;k.scale=n;k.scaleGradient=u;k.scaleVisitor=S;k.screen=$a;k.setdata=oa;k.timeFormat=xb;k.timeParse=bc;k.treeAncestors=Wa;k.treePath=xa;k.utcFormat=Pb;k.utcParse=Xa;k.warn=Fa;k.windowSize=fb;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[60]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb,Vb(15),Vb(27)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow"],q):(k="undefined"!==typeof globalThis?globalThis:k||self,q(k.vega={},k.vega,k.vega))})(this,function(k,q,R){function Ma(Ca,ma,oa){";"!==oa[oa.length-1]&&(oa="return("+oa+");");ma=Function(...ma.concat(oa));return Ca&&Ca.functions?ma.bind(Ca.functions):ma}function Fb(Ca,ma,oa){if(!Ca||!q.isObject(Ca))return Ca;
for(let Ia=0,Ua=ab.length,na;Ia<Ua;++Ia)if(na=ab[Ia],q.hasOwnProperty(Ca,na.key))return na.parse(Ca,ma,oa);return Ca}function Ja(Ca,ma,oa,Ia){this.dataflow=Ca;this.transforms=ma;this.events=Ca.events.bind(Ca);this.expr=Ia||Ea;this.signals={};this.scales={};this.nodes={};this.data={};this.fn={};oa&&(this.functions=Object.create(oa),this.functions.context=this)}function db(Ca){this.dataflow=Ca.dataflow;this.transforms=Ca.transforms;this.events=Ca.events;this.expr=Ca.expr;this.signals=Object.create(Ca.signals);
this.scales=Object.create(Ca.scales);this.nodes=Object.create(Ca.nodes);this.data=Object.create(Ca.data);this.fn=Object.create(Ca.fn);Ca.functions&&(this.functions=Object.create(Ca.functions),this.functions.context=this)}const Bb=q.toSet(["rule"]),jb=q.toSet(["group","image","rect"]);var Ea={operator:(Ca,ma)=>Ma(Ca,["_"],ma.code),parameter:(Ca,ma)=>Ma(Ca,["datum","_"],ma.code),event:(Ca,ma)=>Ma(Ca,["event"],ma.code),handler:(Ca,ma)=>Ma(Ca,["_","event"],`var datum=event.item&&event.item.datum;return ${ma.code};`),
encode:(Ca,ma)=>{const {marktype:oa,channels:Ia}=ma;ma="var o\x3ditem,datum\x3do.datum,m\x3d0,$;";for(var Ua in Ia){const na="o["+q.stringValue(Ua)+"]";ma+=`$=${Ia[Ua].code};if(${na}!==$)${na}=$,m=1;`}Ua="";Bb[oa]||(Ia.x2&&(Ia.x?(jb[oa]&&(Ua+="if(o.x\x3eo.x2)$\x3do.x,o.x\x3do.x2,o.x2\x3d$;"),Ua+="o.width\x3do.x2-o.x;"):Ua+="o.x\x3do.x2-(o.width||0);"),Ia.xc&&(Ua+="o.x\x3do.xc-(o.width||0)/2;"),Ia.y2&&(Ia.y?(jb[oa]&&(Ua+="if(o.y\x3eo.y2)$\x3do.y,o.y\x3do.y2,o.y2\x3d$;"),Ua+="o.height\x3do.y2-o.y;"):
Ua+="o.y\x3do.y2-(o.height||0);"),Ia.yc&&(Ua+="o.y\x3do.yc-(o.height||0)/2;"));ma+=Ua;return Ma(Ca,["item","_"],ma+"return m;")},codegen:{get(Ca){Ca=`[${Ca.map(q.stringValue).join("][")}]`;const ma=Function("_",`return _${Ca};`);ma.path=Ca;return ma},comparator(Ca,ma){let oa;Ca=Function("a","b","var u, v; return "+Ca.map((Ia,Ua)=>{const na=ma[Ua];let qa;Ia.path?(qa=`a${Ia.path}`,Ia=`b${Ia.path}`):((oa=oa||{})["f"+Ua]=Ia,qa=`this.f${Ua}(a)`,Ia=`this.f${Ua}(b)`);Ua=-na;return`((u = ${qa}) < (v = ${Ia}) || u == null) && v != null ? ${Ua}
  : (u > v || v == null) && u != null ? ${na}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${Ua}
  : v !== v && u === u ? ${na} : `}).join("")+"0;");return oa?Ca.bind(oa):Ca}}},ab=[{key:"$ref",parse:function(Ca,ma){return ma.get(Ca.$ref)||q.error("Operator not defined: "+Ca.$ref)}},{key:"$key",parse:function(Ca,ma){const oa="k:"+Ca.$key+"_"+!!Ca.$flat;return ma.fn[oa]||(ma.fn[oa]=q.key(Ca.$key,Ca.$flat,ma.expr.codegen))}},{key:"$expr",parse:function(Ca,ma,oa){Ca.$params&&ma.parseParameters(Ca.$params,oa);oa="e:"+Ca.$expr.code+"_"+Ca.$name;return ma.fn[oa]||(ma.fn[oa]=q.accessor(ma.parameterExpression(Ca.$expr),
Ca.$fields,Ca.$name))}},{key:"$field",parse:function(Ca,ma){if(!Ca.$field)return null;const oa="f:"+Ca.$field+"_"+Ca.$name;return ma.fn[oa]||(ma.fn[oa]=q.field(Ca.$field,Ca.$name,ma.expr.codegen))}},{key:"$encode",parse:function(Ca,ma){Ca=Ca.$encode;const oa={};for(const Ia in Ca){const Ua=Ca[Ia];oa[Ia]=q.accessor(ma.encodeExpression(Ua.$expr),Ua.$fields);oa[Ia].output=Ua.$output}return oa}},{key:"$compare",parse:function(Ca,ma){const oa="c:"+Ca.$compare+"_"+Ca.$order,Ia=q.array(Ca.$compare).map(Ua=>
Ua&&Ua.$tupleid?R.tupleid:Ua);return ma.fn[oa]||(ma.fn[oa]=q.compare(Ia,Ca.$order,ma.expr.codegen))}},{key:"$context",parse:function(Ca,ma){return ma}},{key:"$subflow",parse:function(Ca,ma){const oa=Ca.$subflow;return function(Ia,Ua,na){const qa=ma.fork().parse(oa);Ia=qa.get(oa.operators[0].id);(Ua=qa.signals.parent)&&Ua.set(na);Ia.detachSubflow=()=>ma.detach(qa);return Ia}}},{key:"$tupleid",parse:function(){return R.tupleid}}];const bb={skip:!0};Ja.prototype=db.prototype={fork(){const Ca=new db(this);
(this.subcontext||(this.subcontext=[])).push(Ca);return Ca},detach(Ca){this.subcontext=this.subcontext.filter(oa=>oa!==Ca);const ma=Object.keys(Ca.nodes);for(const oa of ma)Ca.nodes[oa]._targets=null;for(const oa of ma)Ca.nodes[oa].detach();Ca.nodes=null},get(Ca){return this.nodes[Ca]},set(Ca,ma){return this.nodes[Ca]=ma},add(Ca,ma){const oa=this,Ia=oa.dataflow,Ua=Ca.value;oa.set(Ca.id,ma);"collect"===(Ca.type+"").toLowerCase()&&Ua&&(Ua.$ingest?Ia.ingest(ma,Ua.$ingest,Ua.$format):Ua.$request?Ia.preload(ma,
Ua.$request,Ua.$format):Ia.pulse(ma,Ia.changeset().insert(Ua)));Ca.root&&(oa.root=ma);if(Ca.parent){let na=oa.get(Ca.parent.$ref);na?(Ia.connect(na,[ma]),ma.targets().add(na)):(oa.unresolved=oa.unresolved||[]).push(()=>{na=oa.get(Ca.parent.$ref);Ia.connect(na,[ma]);ma.targets().add(na)})}Ca.signal&&(oa.signals[Ca.signal]=ma);Ca.scale&&(oa.scales[Ca.scale]=ma);if(Ca.data)for(const na in Ca.data){const qa=oa.data[na]||(oa.data[na]={});Ca.data[na].forEach(Ta=>qa[Ta]=ma)}},resolve(){(this.unresolved||
[]).forEach(Ca=>Ca());delete this.unresolved;return this},operator(Ca,ma){this.add(Ca,this.dataflow.add(Ca.value,ma))},transform(Ca,ma){this.add(Ca,this.dataflow.add(this.transforms[(ma+"").toLowerCase()]))},stream(Ca,ma){this.set(Ca.id,ma)},update(Ca,ma,oa,Ia,Ua){this.dataflow.on(ma,oa,Ia,Ua,Ca.options)},operatorExpression(Ca){return this.expr.operator(this,Ca)},parameterExpression(Ca){return this.expr.parameter(this,Ca)},eventExpression(Ca){return this.expr.event(this,Ca)},handlerExpression(Ca){return this.expr.handler(this,
Ca)},encodeExpression(Ca){return this.expr.encode(this,Ca)},parse:function(Ca){const ma=this,oa=Ca.operators||[];Ca.background&&(ma.background=Ca.background);Ca.eventConfig&&(ma.eventConfig=Ca.eventConfig);Ca.locale&&(ma.locale=Ca.locale);oa.forEach(Ia=>ma.parseOperator(Ia));oa.forEach(Ia=>ma.parseOperatorParameters(Ia));(Ca.streams||[]).forEach(Ia=>ma.parseStream(Ia));(Ca.updates||[]).forEach(Ia=>ma.parseUpdate(Ia));return ma.resolve()},parseOperator:function(Ca){"operator"!==(Ca.type+"").toLowerCase()&&
Ca.type?this.transform(Ca,Ca.type):this.operator(Ca,Ca.update?this.operatorExpression(Ca.update):null)},parseOperatorParameters:function(Ca){if(Ca.params){const ma=this.get(Ca.id);ma||q.error("Invalid operator id: "+Ca.id);this.dataflow.connect(ma,ma.parameters(this.parseParameters(Ca.params),Ca.react,Ca.initonly))}},parseParameters:function(Ca,ma){ma=ma||{};const oa=this;for(const Ia in Ca){const Ua=Ca[Ia];ma[Ia]=q.isArray(Ua)?Ua.map(na=>Fb(na,oa,ma)):Fb(Ua,oa,ma)}return ma},parseStream:function(Ca){var ma=
this,oa=null!=Ca.filter?ma.eventExpression(Ca.filter):void 0,Ia=null!=Ca.stream?ma.get(Ca.stream):void 0;if(Ca.source)Ia=ma.events(Ca.source,Ca.type,oa);else if(Ca.merge){var Ua=Ca.merge.map(na=>ma.get(na));Ia=Ua[0].merge.apply(Ua[0],Ua.slice(1))}Ca.between&&(Ua=Ca.between.map(na=>ma.get(na)),Ia=Ia.between(Ua[0],Ua[1]));Ca.filter&&(Ia=Ia.filter(oa));null!=Ca.throttle&&(Ia=Ia.throttle(+Ca.throttle));null!=Ca.debounce&&(Ia=Ia.debounce(+Ca.debounce));null==Ia&&q.error("Invalid stream definition: "+JSON.stringify(Ca));
Ca.consume&&Ia.consume(!0);ma.stream(Ca,Ia)},parseUpdate:function(Ca){var ma=q.isObject(ma=Ca.source)?ma.$ref:ma;ma=this.get(ma);var oa=Ca.update,Ia=void 0;ma||q.error("Source not defined: "+Ca.source);var Ua=Ca.target&&Ca.target.$expr?this.eventExpression(Ca.target.$expr):this.get(Ca.target);oa&&oa.$expr&&(oa.$params&&(Ia=this.parseParameters(oa.$params)),oa=this.handlerExpression(oa.$expr));this.update(Ca,ma,Ua,oa,Ia)},getState:function(Ca){var ma=this,oa={};if(Ca.signals){var Ia=oa.signals={};
Object.keys(ma.signals).forEach(na=>{const qa=ma.signals[na];Ca.signals(na,qa)&&(Ia[na]=qa.value)})}if(Ca.data){var Ua=oa.data={};Object.keys(ma.data).forEach(na=>{const qa=ma.data[na];Ca.data(na,qa)&&(Ua[na]=qa.input.value)})}ma.subcontext&&!1!==Ca.recurse&&(oa.subcontext=ma.subcontext.map(na=>na.getState(Ca)));return oa},setState:function(Ca){var ma=this,oa=ma.dataflow,Ia=Ca.data,Ua=Ca.signals;Object.keys(Ua||{}).forEach(na=>{oa.update(ma.signals[na],Ua[na],bb)});Object.keys(Ia||{}).forEach(na=>
{oa.pulse(ma.data[na].input,oa.changeset().remove(q.truthy).insert(Ia[na]))});(Ca.subcontext||[]).forEach((na,qa)=>{(qa=ma.subcontext[qa])&&qa.setState(na)})}};k.context=function(Ca,ma,oa,Ia){return new Ja(Ca,ma,oa,Ia)};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[61]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb,Vb(15),Vb(27),Vb(37),Vb(16),Vb(59),Vb(60),Vb(46),Vb(21)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-scenegraph d3-array vega-functions vega-runtime d3-timer vega-format".split(" "),q):(k="undefined"!==typeof globalThis?globalThis:k||self,q(k.vega={},k.vega,k.vega,k.vega,k.d3,k.vega,k.vega,k.d3,k.vega))})(this,function(k,q,R,Ma,Fb,Ja,db,Bb,jb){function Ea(T){const da=
T.container();da&&(da.setAttribute("role","graphics-document"),da.setAttribute("aria-roleDescription","visualization"),ab(da,T.description()))}function ab(T,da){T&&(null==da?T.removeAttribute("aria-label"):T.setAttribute("aria-label",da))}function bb(T){T.add(null,da=>{T._background=da.bg;T._resize=1;return da.bg},{bg:T._signals.background})}function Ca(T){const da=T._signals.cursor||(T._signals.cursor=T.add({user:"default",item:null}));T.on(T.events("view","mousemove"),da,(Xa,zb)=>{const xb=(Xa=
da.value)?q.isString(Xa)?Xa:Xa.user:"default";zb=zb.item&&zb.item.cursor||null;return Xa&&xb===Xa.user&&zb==Xa.item?Xa:{user:xb,item:zb}});T.add(null,function(Xa){Xa=Xa.cursor;let zb=this.value;q.isString(Xa)||(zb=Xa.item,Xa=Xa.user);ma(T,Xa&&"default"!==Xa?Xa:zb||Xa);return zb},{cursor:da})}function ma(T,da){if(T=T.globalCursor()?"undefined"!==typeof document&&document.body:T.container())return null==da?T.style.removeProperty("cursor"):T.style.cursor=da}function oa(T,da){T=T._runtime.data;q.hasOwnProperty(T,
da)||q.error("Unrecognized data set: "+da);return T[da]}function Ia(T,da){R.isChangeSet(da)||q.error("Second argument to changes must be a changeset.");T=oa(this,T);T.modified=!0;return this.pulse(T.input,da)}function Ua(T){var da=T.padding();return Math.max(0,T._viewWidth+da.left+da.right)}function na(T){var da=T.padding();return Math.max(0,T._viewHeight+da.top+da.bottom)}function qa(T){var da=T.padding();T=T._origin;return[da.left+T[0],da.top+T[1]]}function Ta(T){var da=qa(T),Xa=Ua(T),zb=na(T);
T._renderer.background(T.background());T._renderer.resize(Xa,zb,da);T._handler.origin(da);T._resizeListeners.forEach(xb=>{try{xb(Xa,zb)}catch(Pb){T.error(Pb)}})}function ta(T,da,Xa){var zb=T._renderer;zb=zb&&zb.canvas();if(zb){var xb=qa(T);var Pb=da.changedTouches?da.changedTouches[0]:da;Pb=Ma.point(Pb,zb);Pb[0]-=xb[0];Pb[1]-=xb[1]}da.dataflow=T;da.item=Xa;da.vega=Qa(T,Xa,Pb);return da}function Qa(T,da,Xa){function zb(bc){var Uc=Pb,yc;if(bc)for(yc=da;yc;yc=yc.mark.group)if(yc.mark.name===bc){Uc=yc;
break}return Uc&&Uc.mark&&Uc.mark.interactive?Uc:{}}function xb(bc){if(!bc)return Xa;q.isString(bc)&&(bc=zb(bc));const Uc=Xa.slice();for(;bc;)Uc[0]-=bc.x||0,Uc[1]-=bc.y||0,bc=bc.mark&&bc.mark.group;return Uc}const Pb=da?"group"===da.mark.marktype?da:da.mark.group:null;return{view:q.constant(T),item:q.constant(da||{}),group:zb,xy:xb,x:function(bc){return xb(bc)[0]},y:function(bc){return xb(bc)[1]}}}function va(T){T=q.extend({defaults:{}},T);const da=(Xa,zb)=>{zb.forEach(xb=>{q.isArray(Xa[xb])&&(Xa[xb]=
q.toSet(Xa[xb]))})};da(T.defaults,["prevent","allow"]);da(T,["view","window","selector"]);return T}function S(T,da,Xa){const zb=T._eventConfig&&T._eventConfig[da];return!1===zb||q.isObject(zb)&&!zb[Xa]?(T.warn(`Blocked ${da} ${Xa} event listener.`),!1):!0}function la(T){return T.item}function wa(T){return T.item.mark.source}function Da(T){return function(da,Xa){return Xa.vega.view().changeset().encode(Xa.item,T)}}function Oa(T,da,Xa){T=document.createElement(T);for(const zb in da)T.setAttribute(zb,
da[zb]);null!=Xa&&(T.textContent=Xa);return T}function Ha(T,da,Xa){if(da){var zb=Xa.param,xb=Xa.state;xb||(xb=Xa.state={elements:null,active:!1,set:null,update:Pb=>{Pb!==T.signal(zb.signal)&&T.runAsync(null,()=>{xb.source=!0;T.signal(zb.signal,Pb)})}},zb.debounce&&(xb.update=q.debounce(zb.debounce,xb.update)));Va(xb,da,zb,T.signal(zb.signal));xb.active||(T.on(T._signals[zb.signal],null,()=>{xb.source?xb.source=!1:xb.set(T.signal(zb.signal))}),xb.active=!0);return xb}}function Va(T,da,Xa,zb){const xb=
Oa("div",{"class":"vega-bind"}),Pb="radio"===Xa.input?xb:xb.appendChild(Oa("label"));Pb.appendChild(Oa("span",{"class":"vega-bind-name"},Xa.name||Xa.signal));da.appendChild(xb);da=Fa;switch(Xa.input){case "checkbox":da=E;break;case "select":da=w;break;case "radio":da=F;break;case "range":da=Z}da(T,Pb,Xa,zb)}function Fa(T,da,Xa,zb){const xb=Oa("input");for(const Pb in Xa)"signal"!==Pb&&"element"!==Pb&&xb.setAttribute("input"===Pb?"type":Pb,Xa[Pb]);xb.setAttribute("name",Xa.signal);xb.value=zb;da.appendChild(xb);
xb.addEventListener("input",()=>T.update(xb.value));T.elements=[xb];T.set=Pb=>xb.value=Pb}function E(T,da,Xa,zb){Xa={type:"checkbox",name:Xa.signal};zb&&(Xa.checked=!0);const xb=Oa("input",Xa);da.appendChild(xb);xb.addEventListener("change",()=>T.update(xb.checked));T.elements=[xb];T.set=Pb=>xb.checked=!!Pb||null}function w(T,da,Xa,zb){const xb=Oa("select",{name:Xa.signal}),Pb=Xa.labels||[];Xa.options.forEach((bc,Uc)=>{const yc={value:bc};D(bc,zb)&&(yc.selected=!0);xb.appendChild(Oa("option",yc,(Pb[Uc]||
bc)+""))});da.appendChild(xb);xb.addEventListener("change",()=>{T.update(Xa.options[xb.selectedIndex])});T.elements=[xb];T.set=bc=>{for(let Uc=0,yc=Xa.options.length;Uc<yc;++Uc)if(D(Xa.options[Uc],bc)){xb.selectedIndex=Uc;break}}}function F(T,da,Xa,zb){const xb=Oa("span",{"class":"vega-bind-radio"}),Pb=Xa.labels||[];da.appendChild(xb);T.elements=Xa.options.map((bc,Uc)=>{var yc={type:"radio",name:Xa.signal,value:bc};D(bc,zb)&&(yc.checked=!0);yc=Oa("input",yc);yc.addEventListener("change",()=>T.update(bc));
Uc=Oa("label",{},(Pb[Uc]||bc)+"");Uc.prepend(yc);xb.appendChild(Uc);return yc});T.set=bc=>{const Uc=T.elements,yc=Uc.length;for(let Vc=0;Vc<yc;++Vc)D(Uc[Vc].value,bc)&&(Uc[Vc].checked=!0)}}function Z(T,da,Xa,zb){zb=void 0!==zb?zb:(+Xa.max+ +Xa.min)/2;const xb=null!=Xa.max?Xa.max:Math.max(100,+zb)||100,Pb=Xa.min||Math.min(0,xb,+zb)||0,bc=Xa.step||Fb.tickStep(Pb,xb,100),Uc=Oa("input",{type:"range",name:Xa.signal,min:Pb,max:xb,step:bc});Uc.value=zb;const yc=Oa("span",{},+zb);da.appendChild(Uc);da.appendChild(yc);
da=()=>{yc.textContent=Uc.value;T.update(+Uc.value)};Uc.addEventListener("input",da);Uc.addEventListener("change",da);T.elements=[Uc];T.set=Vc=>{Uc.value=Vc;yc.textContent=Vc}}function D(T,da){return T===da||T+""===da+""}function P(T,da,Xa,zb,xb,Pb){da=da||new zb(T.loader());return da.initialize(Xa,Ua(T),na(T),qa(T),xb,Pb).background(T.background())}function N(T,da){return da?function(){try{da.apply(this,arguments)}catch(Xa){T.error(Xa)}}:null}function Y(T,da,Xa,zb){const xb=(new zb(T.loader(),N(T,
T.tooltip()))).scene(T.scenegraph().root).initialize(Xa,qa(T),T);da&&da.handlers().forEach(Pb=>{xb.on(Pb.type,Pb.handler)});return xb}function ua(T,da){if("string"===typeof da)if("undefined"!==typeof document){if(da=document.querySelector(da),!da)return T.error("Signal bind element not found: "+da),null}else return T.error("DOM document instance not found."),null;if(da)try{da.innerHTML=""}catch(Xa){da=null,T.error(Xa)}return da}function Ga(T){q.isObject(T)?T={top:+T.top||0,bottom:+T.bottom||0,left:+T.left||
0,right:+T.right||0}:(T=+T||0,T={top:T,bottom:T,left:T,right:T});return T}async function G(T,da,Xa,zb){var xb=Ma.renderModule(da);(xb=xb&&xb.headless)||q.error("Unrecognized renderer type: "+da);await T.runAsync();return P(T,null,null,xb,Xa,zb).renderAsync(T._scenegraph.root)}function ca(T,da,Xa){return db.context(T,R.transforms,Ja.functionContext,Xa).parse(da)}function ba(T,da){var Xa=T.autosize();T=T.padding();return da-(Xa&&"padding"===Xa.contains?T.left+T.right:0)}function V(T,da){var Xa=T.autosize();
T=T.padding();return da-(Xa&&"padding"===Xa.contains?T.top+T.bottom:0)}function H(T){function da(){T._autosize=T._resize=1}var Xa=T._signals,zb=Xa.width,xb=Xa.height;Xa=Xa.padding;T._resizeWidth=T.add(null,bc=>{T._width=bc.size;T._viewWidth=ba(T,bc.size);da()},{size:zb});T._resizeHeight=T.add(null,bc=>{T._height=bc.size;T._viewHeight=V(T,bc.size);da()},{size:xb});const Pb=T.add(null,da,{pad:Xa});T._resizeWidth.rank=zb.rank+1;T._resizeHeight.rank=xb.rank+1;Pb.rank=Xa.rank+1}function p(T,da){return da.modified&&
q.isArray(da.input.value)&&T.indexOf("_:vega:_")}function h(T,da){return!("parent"===T||da instanceof R.transforms.proxy)}function m(T,da,Xa,zb){(T=T.element())&&T.setAttribute("title",n(zb))}function n(T){return null==T?"":q.isArray(T)?"["+T.map(x).join(", ")+"]":q.isObject(T)&&!q.isDate(T)?u(T):T+""}function u(T){return Object.keys(T).map(da=>{const Xa=T[da];return da+": "+(q.isArray(Xa)?"["+Xa.map(x).join(", ")+"]":x(Xa))}).join("\n")}function x(T){return q.isArray(T)?"[]":q.isObject(T)&&!q.isDate(T)?
"{}":T}function L(T,da){da=da||{};R.Dataflow.call(this);da.loader&&this.loader(da.loader);da.logger&&this.logger(da.logger);null!=da.logLevel&&this.logLevel(da.logLevel);if(da.locale||T.locale){var Xa=q.extend({},T.locale,da.locale);this.locale(jb.locale(Xa.number,Xa.time))}this._elBind=this._el=null;this._renderType=da.renderer||Ma.RenderType.Canvas;this._scenegraph=new Ma.Scenegraph;Xa=this._scenegraph.root;this._renderer=null;this._tooltip=da.tooltip||m;this._redraw=!0;this._handler=(new Ma.CanvasHandler).scene(Xa);
this._preventDefault=this._globalCursor=!1;this._timers=[];this._eventListeners=[];this._resizeListeners=[];this._eventConfig=va(T.eventConfig);this.globalCursor(this._eventConfig.globalCursor);const zb=ca(this,T,da.expr);this._runtime=zb;this._signals=zb.signals;this._bind=(T.bindings||[]).map(xb=>({state:null,param:q.extend({},xb)}));zb.root&&zb.root.set(Xa);Xa.source=zb.data.root.input;this.pulse(zb.data.root.input,this.changeset().insert(Xa.items));this._width=this.width();this._height=this.height();
this._viewWidth=ba(this,this._width);this._viewHeight=V(this,this._height);this._origin=[0,0];this._resize=0;this._autosize=1;H(this);bb(this);Ca(this);this.description(T.description);da.hover&&this.hover();da.container&&this.initialize(da.container,da.bind)}function ia(T,da){return q.hasOwnProperty(T._signals,da)?T._signals[da]:q.error("Unrecognized signal name: "+q.stringValue(da))}function xa(T,da){T=(T._targets||[]).filter(Xa=>Xa._update&&Xa._update.handler===da);return T.length?T[0]:null}function Wa(T,
da,Xa,zb){let xb=xa(Xa,zb);xb||(xb=N(T,()=>zb(da,Xa.value)),xb.handler=zb,T.on(Xa,null,xb));return T}function $a(T,da,Xa){(Xa=xa(da,Xa))&&da._targets.remove(Xa);return T}const fb={trap:!1};var Ba={skip:!0};q.inherits(L,R.Dataflow,{async evaluate(T,da,Xa){await R.Dataflow.prototype.evaluate.call(this,T,da);if(this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,Ta(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(zb){this.error(zb)}Xa&&R.asyncCallback(this,
Xa);return this},dirty(T){this._redraw=!0;this._renderer&&this._renderer.dirty(T)},description(T){if(arguments.length){const da=null!=T?T+"":null;da!==this._desc&&ab(this._el,this._desc=da);return this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(T,da,Xa){const zb=ia(this,T);return 1===arguments.length?zb.value:this.update(zb,da,Xa)},width(T){return arguments.length?this.signal("width",T):this.signal("width")},height(T){return arguments.length?
this.signal("height",T):this.signal("height")},padding(T){return arguments.length?this.signal("padding",Ga(T)):Ga(this.signal("padding"))},autosize(T){return arguments.length?this.signal("autosize",T):this.signal("autosize")},background(T){return arguments.length?this.signal("background",T):this.signal("background")},renderer(T){if(!arguments.length)return this._renderType;Ma.renderModule(T)||q.error("Unrecognized renderer type: "+T);T!==this._renderType&&(this._renderType=T,this._resetRenderer());
return this},tooltip(T){if(!arguments.length)return this._tooltip;T!==this._tooltip&&(this._tooltip=T,this._resetRenderer());return this},loader(T){if(!arguments.length)return this._loader;T!==this._loader&&(R.Dataflow.prototype.loader.call(this,T),this._resetRenderer());return this},resize(){this._autosize=1;return this.touch(ia(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(T,da,Xa,zb,xb,Pb){this.runAfter(bc=>
{let Uc=0;bc._autosize=0;bc.width()!==Xa&&(Uc=1,bc.signal("width",Xa,Ba),bc._resizeWidth.skip(!0));bc.height()!==zb&&(Uc=1,bc.signal("height",zb,Ba),bc._resizeHeight.skip(!0));bc._viewWidth!==T&&(bc._resize=1,bc._viewWidth=T);bc._viewHeight!==da&&(bc._resize=1,bc._viewHeight=da);if(bc._origin[0]!==xb[0]||bc._origin[1]!==xb[1])bc._resize=1,bc._origin=xb;Uc&&bc.run("enter");Pb&&bc.runAfter(yc=>yc.resize())},!1,1)},addEventListener(T,da,Xa){let zb=da;Xa&&!1===Xa.trap||(zb=N(this,da),zb.raw=da);this._handler.on(T,
zb);return this},removeEventListener(T,da){for(var Xa=this._handler.handlers(T),zb=Xa.length,xb,Pb;0<=--zb;)if(Pb=Xa[zb].type,xb=Xa[zb].handler,T===Pb&&(da===xb||da===xb.raw)){this._handler.off(Pb,xb);break}return this},addResizeListener(T){const da=this._resizeListeners;0>da.indexOf(T)&&da.push(T);return this},removeResizeListener(T){var da=this._resizeListeners;T=da.indexOf(T);0<=T&&da.splice(T,1);return this},addSignalListener(T,da){return Wa(this,T,ia(this,T),da)},removeSignalListener(T,da){return $a(this,
ia(this,T),da)},addDataListener(T,da){return Wa(this,T,oa(this,T).values,da)},removeDataListener(T,da){return $a(this,oa(this,T).values,da)},globalCursor(T){if(arguments.length){if(this._globalCursor!==!!T){const da=ma(this,null);this._globalCursor=!!T;da&&ma(this,da)}return this}return this._globalCursor},preventDefault(T){return arguments.length?(this._preventDefault=T,this):this._preventDefault},timer:function(T,da){this._timers.push(Bb.interval(function(Xa){T({timestamp:Date.now(),elapsed:Xa})},
da))},events:function(T,da,Xa){var zb=this,xb=new R.EventStream(Xa);Xa=function(yc,Vc){zb.runAsync(null,()=>{var ya;if(ya="view"===T){var Nb=zb._eventConfig.defaults;ya=Nb.prevent;Nb=Nb.allow;ya=!1===ya||!0===Nb?!1:!0===ya||!1===Nb?!0:ya?ya[da]:Nb?!Nb[da]:zb.preventDefault()}ya&&yc.preventDefault();xb.receive(ta(zb,yc,Vc))})};var Pb;if("timer"===T)S(zb,"timer",da)&&zb.timer(Xa,da);else if("view"===T)S(zb,"view",da)&&zb.addEventListener(da,Xa,fb);else if("window"===T?S(zb,"window",da)&&"undefined"!==
typeof window&&(Pb=[window]):"undefined"!==typeof document&&S(zb,"selector",da)&&(Pb=document.querySelectorAll(T)),Pb){for(var bc=0,Uc=Pb.length;bc<Uc;++bc)Pb[bc].addEventListener(da,Xa);zb._eventListeners.push({type:da,sources:Pb,handler:Xa})}else zb.warn("Can not resolve event source: "+T);return xb},finalize:function(){var T=this._tooltip,da=this._timers,Xa=this._eventListeners,zb;for(zb=da.length;0<=--zb;)da[zb].stop();for(zb=Xa.length;0<=--zb;){var xb=Xa[zb];for(da=xb.sources.length;0<=--da;)xb.sources[da].removeEventListener(xb.type,
xb.handler)}T&&T.call(this,this._handler,null,null,null);return this},hover:function(T,da){T=[T||"hover"];da=[da||"update",T[0]];this.on(this.events("view","mouseover",la),wa,Da(T));this.on(this.events("view","mouseout",la),wa,Da(da));return this},data:function(T,da){return 2>arguments.length?oa(this,T).values.value:Ia.call(this,T,R.changeset().remove(q.truthy).insert(da))},change:Ia,insert:function(T,da){return Ia.call(this,T,R.changeset().insert(da))},remove:function(T,da){return Ia.call(this,T,
R.changeset().remove(da))},scale:function(T){var da=this._runtime.scales;q.hasOwnProperty(da,T)||q.error("Unrecognized scale or projection: "+T);return da[T].value},initialize:function(T,da){const Xa=this;var zb=Xa._renderType;const xb=Xa._eventConfig.bind;var Pb=Ma.renderModule(zb);T=Xa._el=T?ua(Xa,T):null;Ea(Xa);Pb||Xa.error("Unrecognized renderer type: "+zb);zb=Pb.handler||Ma.CanvasHandler;Pb=T?Pb.renderer:Pb.headless;Xa._renderer=Pb?P(Xa,Xa._renderer,T,Pb):null;Xa._handler=Y(Xa,Xa._handler,T,
zb);Xa._redraw=!0;T&&"none"!==xb&&(da=da?Xa._elBind=ua(Xa,da):T.appendChild(Oa("form",{"class":"vega-bindings"})),Xa._bind.forEach(bc=>{bc.param.element&&"container"!==xb&&(bc.element=ua(Xa,bc.param.element))}),Xa._bind.forEach(bc=>{Ha(Xa,bc.element||da,bc)}));return Xa},toImageURL:async function(T,da){T!==Ma.RenderType.Canvas&&T!==Ma.RenderType.SVG&&T!==Ma.RenderType.PNG&&q.error("Unrecognized image type: "+T);da=await G(this,T,da);T===Ma.RenderType.SVG?(T=da.svg(),T=new Blob([T],{type:"image/svg+xml"}),
T=window.URL.createObjectURL(T)):T=da.canvas().toDataURL("image/png");return T},toCanvas:async function(T,da){return(await G(this,Ma.RenderType.Canvas,T,da)).canvas()},toSVG:async function(T){return(await G(this,Ma.RenderType.SVG,T)).svg()},getState:function(T){return this._runtime.getState(T||{data:p,signals:h,recurse:!0})},setState:function(T){this.runAsync(null,da=>{da._trigger=!1;da._runtime.setState(T)},da=>{da._trigger=!0});return this}});k.View=L;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[62]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb):"function"===typeof define&&define.amd?define(["exports"],q):(k="undefined"!==typeof globalThis?globalThis:k||self,q(k.vega={}))})(this,function(k){function q(Ea,ab,bb,Ca,ma){const oa=Ea.length;let Ia=0,Ua;for(;ab<oa;++ab)if(Ua=Ea[ab],Ia||Ua!==bb)ma&&0<=ma.indexOf(Ua)?--Ia:Ca&&0<=Ca.indexOf(Ua)&&++Ia;else break;return ab}function R(Ea){const ab=[],bb=Ea.length;let Ca=0,ma=0;for(;ma<bb;)ma=q(Ea,
ma,",","[{","]}"),ab.push(Ea.substring(Ca,ma).trim()),Ca=++ma;if(0===ab.length)throw"Empty event selector: "+Ea;return ab}function Ma(Ea){if("["===Ea[0]){var ab=Ea;var bb=ab.length;Ea=q(ab,1,"]","[","]");if(Ea===bb)throw"Empty between selector: "+ab;bb=R(ab.substring(1,Ea));if(2!==bb.length)throw"Between selector must have two elements: "+ab;ab=ab.slice(Ea+1).trim();if("\x3e"!==ab[0])throw"Expected '\x3e' after between selector: "+ab;bb=bb.map(Ma);ab=Ma(ab.slice(1).trim());ab.between?ab={between:bb,
stream:ab}:ab.between=bb}else{{bb={source:Bb};const Ca=[];let ma=[0,0],oa=0,Ia=0,Ua=Ea.length,na=0,qa;if("}"===Ea[Ua-1]){na=Ea.lastIndexOf("{");if(0<=na){try{ma=Fb(Ea.substring(na+1,Ua-1))}catch(Ta){throw"Invalid throttle specification: "+Ea;}Ea=Ea.slice(0,na).trim();Ua=Ea.length}else throw"Unmatched right brace: "+Ea;na=0}if(!Ua)throw Ea;"@"===Ea[0]&&(oa=++na);qa=q(Ea,na,":");qa<Ua&&(Ca.push(Ea.substring(Ia,qa).trim()),Ia=na=++qa);na=q(Ea,na,"[");if(na===Ua)Ca.push(Ea.substring(Ia,Ua).trim());else if(Ca.push(Ea.substring(Ia,
na).trim()),ab=[],Ia=++na,Ia===Ua)throw"Unmatched left bracket: "+Ea;for(;na<Ua;){na=q(Ea,na,"]");if(na===Ua)throw"Unmatched left bracket: "+Ea;ab.push(Ea.substring(Ia,na).trim());if(na<Ua-1&&"["!==Ea[++na])throw"Expected left bracket: "+Ea;Ia=++na}if(!(Ua=Ca.length)||Ja.test(Ca[Ua-1]))throw"Invalid event selector: "+Ea;1<Ua?(bb.type=Ca[1],oa?bb.markname=Ca[0].slice(1):jb[Ca[0]]?bb.marktype=Ca[0]:bb.source=Ca[0]):bb.type=Ca[0];"!"===bb.type.slice(-1)&&(bb.consume=!0,bb.type=bb.type.slice(0,-1));null!=
ab&&(bb.filter=ab);ma[0]&&(bb.throttle=ma[0]);ma[1]&&(bb.debounce=ma[1]);ab=bb}}return ab}function Fb(Ea){const ab=Ea.split(",");if(!Ea.length||2<ab.length)throw Ea;return ab.map(bb=>{bb=+bb;if(bb!==bb)throw Ea;return bb})}const Ja=/[[\]{}]/,db={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let Bb,jb;k.selector=function(Ea,ab,bb){Bb=ab||"view";jb=bb||db;return R(Ea.trim()).map(Ma)};Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[63]=function($c,Vb,Pc,Cb){(function(k,q){"object"===typeof Cb&&"undefined"!==typeof Pc?q(Cb,Vb(15),Vb(59),Vb(62),Vb(36),Vb(27)):"function"===typeof define&&define.amd?define("exports vega-util vega-functions vega-event-selector vega-scale vega-dataflow".split(" "),q):(k="undefined"!==typeof globalThis?globalThis:k||self,q(k.vega={},k.vega,k.vega,k.vega,k.vega,k.vega))})(this,function(k,q,R,Ma,Fb,Ja){function db(z){return q.isObject(z)?z:{type:z||"pad"}}function Bb(z){q.isObject(z)?
z=z.signal?z:{top:+z.top||0,bottom:+z.bottom||0,left:+z.left||0,right:+z.right||0}:(z=+z||0,z={top:z,bottom:z,left:z,right:z});return z}function jb(z,O,Ka,ub){return null!=Ka?(q.isObject(Ka)&&!q.isArray(Ka)||q.isArray(Ka)&&Ka.length&&q.isObject(Ka[0])?z.update[O]=Ka:z[ub||"enter"][O]={value:Ka},1):0}function Ea(z,O,Ka){for(const ub in O)jb(z,ub,O[ub]);for(const ub in Ka)jb(z,ub,Ka[ub],"update")}function ab(z,O,Ka){for(const ub in O)Ka&&q.hasOwnProperty(Ka,ub)||(z[ub]=q.extend(z[ub]||{},O[ub]));return z}
function bb(z,O){return O&&(O.enter&&O.enter[z]||O.update&&O.update[z])}function Ca(z,O,Ka,ub,wb){const Lb={},Wb={};let Jc,Ac;Ac="lineBreak";"text"!==O||null==wb[Ac]||bb(Ac,z)||ma(Lb,Ac,wb[Ac]);if("legend"==Ka||String(Ka).startsWith("axis"))Ka=null;Ka="frame"===Ka?wb.group:"mark"===Ka?q.extend({},wb.mark,wb[O]):null;for(Ac in Ka)(O=bb(Ac,z)||("fill"===Ac||"stroke"===Ac)&&(bb("fill",z)||bb("stroke",z)))||ma(Lb,Ac,Ka[Ac]);q.array(ub).forEach(Xc=>{Xc=wb.style&&wb.style[Xc];for(const od in Xc)bb(od,z)||
ma(Lb,od,Xc[od])});z=q.extend({},z);for(Ac in Lb)Ka=Lb[Ac],Ka.signal?(Jc=Jc||{})[Ac]=Ka:Wb[Ac]=Ka;z.enter=q.extend(Wb,z.enter);Jc&&(z.update=q.extend(Jc,z.update));return z}function ma(z,O,Ka){z[O]=Ka&&Ka.signal?{signal:Ka.signal}:{value:Ka}}function oa(z){if(null!=z.gradient)return Ia(z);if(z.signal)var O=`(${z.signal})`;else z.color?(O=z.color,O=O.c?ha("hcl",O.h,O.c,O.l):O.h||O.s?ha("hsl",O.h,O.s,O.l):O.l||O.a?ha("lab",O.l,O.a,O.b):O.r||O.g||O.b?ha("rgb",O.r,O.g,O.b):null):O=null!=z.field?na(z.field):
void 0!==z.value?q.stringValue(z.value):void 0;if(null!=z.scale){{const Ka=W(z.scale);null!=z.range?O=`lerp(_range(${Ka}), ${+z.range})`:(void 0!==O&&(O=`_scale(${Ka}, ${O})`),z.band&&(O=(O?O+"+":"")+`_bandwidth(${Ka})`+(1===+z.band?"":"*"+Ua(z.band)),z.extra&&(O=`(datum.extra ? _scale(${Ka}, datum.extra.value) : ${O})`)),null==O&&(O="0"))}}void 0===O&&(O=null);null!=z.exponent&&(O=`pow(${O},${Ua(z.exponent)})`);null!=z.mult&&(O+=`*${Ua(z.mult)}`);null!=z.offset&&(O+=`+${Ua(z.offset)}`);z.round&&
(O=`round(${O})`);return O}function Ia(z){const O=[z.start,z.stop,z.count].map(Ka=>null==Ka?null:q.stringValue(Ka));for(;O.length&&null==q.peek(O);)O.pop();O.unshift(W(z.gradient));return`gradient(${O.join(",")})`}function Ua(z){return q.isObject(z)?"("+oa(z)+")":z}function na(z){return qa(q.isObject(z)?z:{datum:z})}function qa(z){let O;if(z.signal){O="datum";var Ka=z.signal}else if(z.group||z.parent){Ka=Math.max(1,z.level||1);for(O="item";0<Ka--;)O+=".mark.group";z.parent?(Ka=z.parent,O+=".datum"):
Ka=z.group}else z.datum?(O="datum",Ka=z.datum):q.error("Invalid field reference: "+q.stringValue(z));z.signal||(Ka=q.isString(Ka)?q.splitAccessPath(Ka).map(q.stringValue).join("]["):qa(Ka));return O+"["+Ka+"]"}function Ta(z){let O="";z.forEach(Ka=>{const ub=oa(Ka);O+=Ka.test?`(${Ka.test})?${ub}:`:ub});":"===q.peek(O)&&(O+="null");return O}function ta(z,O,Ka,ub,wb,Lb){const Wb={};Lb=Lb||{};Lb.encoders={$encode:Wb};z=Ca(z,O,Ka,ub,wb.config);for(const od in z){{Ka=z[od];ub=O;var Jc=Lb,Ac=wb;const Bd=
{},$d={};for(const pd in Ka)if(null!=Ka[pd]){var Xc=Ka[pd];Xc=q.isArray(Xc)?Ta(Xc):oa(Xc);Bd[pd]=Qa(Xc,Ac,Jc,$d)}Ka={$expr:{marktype:ub,channels:Bd},$fields:Object.keys($d),$output:Object.keys(Ka)}}Wb[od]=Ka}return Lb}function Qa(z,O,Ka,ub){z=R.parseExpression(z,O);z.$fields.forEach(wb=>ub[wb]=1);q.extend(Ka,z.$params);return z.$expr}function va(z,O){q.error(z+' for "outer" push: '+q.stringValue(O))}function S(z,O){const Ka=z.name;if("outer"===z.push)O.signals[Ka]||va("No prior signal definition",
Ka),za.forEach(ub=>{void 0!==z[ub]&&va("Invalid property ",ub)});else{const ub=O.addSignal(Ka,z.value);!1===z.react&&(ub.react=!1);z.bind&&O.addBinding(Ka,z.bind)}}function la(z,O,Ka,ub){this.id=-1;this.type=z;this.value=O;this.params=Ka;ub&&(this.parent=ub)}function wa(z){const O={$ref:z.id};0>z.id&&(z.refs=z.refs||[]).push(O);return O}function Da(z,O){return O?{$field:z,$name:O}:{$field:z}}function Oa(z,O){z={$key:z};O&&(z.$flat=!0);return z}function Ha(z,O){return(z&&z.signal?"$"+z.signal:z||"")+
(z&&O?"_":"")+(O&&O.signal?"$"+O.signal:O||"")}function Va(z){return z&&z.signal}function Fa(z){if(Va(z))return!0;if(q.isObject(z))for(const O in z)if(Fa(z[O]))return!0;return!1}function E(z,O){return null!=z?z:O}function w(z){return z&&z.signal||z}function F(z,O){return(z.merge?D:z.stream?P:z.type?N:q.error("Invalid stream specification: "+q.stringValue(z)))(z,O)}function Z(z){return"scope"===z?"view":z||"view"}function D(z,O){const Ka=z.merge.map(ub=>F(ub,O));z=Y({merge:Ka},z,O);return O.addStream(z).id}
function P(z,O){const Ka=F(z.stream,O);z=Y({stream:Ka},z,O);return O.addStream(z).id}function N(z,O){let Ka;"timer"===z.type?(Ka=O.event("timer",z.throttle),z={between:z.between,filter:z.filter}):Ka=O.event(Z(z.source),z.type);z=Y({stream:Ka},z,O);return 1===Object.keys(z).length?Ka:O.addStream(z).id}function Y(z,O,Ka){let ub=O.between;ub&&(2!==ub.length&&q.error('Stream "between" parameter must have 2 entries: '+q.stringValue(O)),z.between=[F(ub[0],Ka),F(ub[1],Ka)]);ub=O.filter?[].concat(O.filter):
[];(O.marktype||O.markname||O.markrole)&&ub.push(ua(O.marktype,O.markname,O.markrole));"scope"===O.source&&ub.push("inScope(event.item)");ub.length&&(z.filter=R.parseExpression("("+ub.join(")\x26\x26(")+")",Ka).$expr);null!=(ub=O.throttle)&&(z.throttle=+ub);null!=(ub=O.debounce)&&(z.debounce=+ub);O.consume&&(z.consume=!0);return z}function ua(z,O,Ka){return"event.item"+(z&&"*"!==z?"\x26\x26event.item.mark.marktype\x3d\x3d\x3d'"+z+"'":"")+(Ka?"\x26\x26event.item.mark.role\x3d\x3d\x3d'"+Ka+"'":"")+
(O?"\x26\x26event.item.mark.name\x3d\x3d\x3d'"+O+"'":"")}function Ga(z,O,Ka){const ub=z.encode,wb={target:Ka};Ka=z.events;let Lb=z.update,Wb=[];Ka||q.error("Signal update missing events specification.");q.isString(Ka)&&(Ka=Ma.selector(Ka,O.isSubscope()?"scope":"view"));Ka=q.array(Ka).filter(Jc=>Jc.signal||Jc.scale?(Wb.push(Jc),0):1);1<Wb.length&&(Wb=[ca(Wb)]);Ka.length&&Wb.push(1<Ka.length?{merge:Ka}:Ka[0]);null!=ub&&(Lb&&q.error("Signal encode and update are mutually exclusive."),Lb="encode(item(),"+
q.stringValue(ub)+")");wb.update=q.isString(Lb)?R.parseExpression(Lb,O):null!=Lb.expr?R.parseExpression(Lb.expr,O):null!=Lb.value?Lb.value:null!=Lb.signal?{$expr:Za,$params:{$value:O.signalRef(Lb.signal)}}:q.error("Invalid signal update specification.");z.force&&(wb.options={force:!0});Wb.forEach(Jc=>O.addUpdate(q.extend(G(Jc,O),wb)))}function G(z,O){return{source:z.signal?O.signalRef(z.signal):z.scale?O.scaleRef(z.scale):F(z,O)}}function ca(z){return{signal:"["+z.map(O=>O.scale?'scale("'+O.scale+
'")':O.signal)+"]"}}function ba(z,O){const Ka=O.getSignal(z.name);let ub=z.update;z.init&&(ub?q.error("Signals can not include both init and update expressions."):(ub=z.init,Ka.initonly=!0));ub&&(ub=R.parseExpression(ub,O),Ka.update=ub.$expr,Ka.params=ub.$params);z.on&&z.on.forEach(wb=>Ga(wb,O,Ka.id))}function V(z,O){return q.isObject(z)?z.signal?O.signalRef(z.signal):q.error("Unsupported object: "+q.stringValue(z)):z}function H(z,O){return z.signal?O.signalRef(z.signal):z.map(Ka=>V(Ka,O))}function p(z){q.error("Can not find data set: "+
q.stringValue(z))}function h(z,O,Ka){if(z)return z.signal?Ka.signalRef(z.signal):(q.isArray(z)?m:z.fields?u:n)(z,O,Ka);null==O.domainMin&&null==O.domainMax||q.error("No scale domain defined for domainMin/domainMax to override.")}function m(z,O,Ka){return z.map(ub=>V(ub,Ka))}function n(z,O,Ka){const ub=Ka.getData(z.data);ub||p(z.data);return Fb.isDiscrete(O.type)?ub.valuesRef(Ka,z.field,L(z.sort,!1)):Fb.isQuantile(O.type)?ub.domainRef(Ka,z.field):ub.extentRef(Ka,z.field)}function u(z,O,Ka){const ub=
z.data,wb=z.fields.reduce((Lb,Wb)=>{if(q.isString(Wb))Wb={data:ub,field:Wb};else if(q.isArray(Wb)||Wb.signal){{var Jc=Wb;Wb="_:vega:_"+Od++;const Ac=pc({});q.isArray(Jc)?Ac.value={$ingest:Jc}:Jc.signal&&(Jc="setdata("+q.stringValue(Wb)+","+Jc.signal+")",Ac.params.input=Ka.signalRef(Jc));Ka.addDataPipeline(Wb,[Ac,Rd({})]);Wb={data:Wb,field:"data"}}}Lb.push(Wb);return Lb},[]);return(Fb.isDiscrete(O.type)?x:Fb.isQuantile(O.type)?ia:xa)(z,Ka,wb)}function x(z,O,Ka){const ub=L(z.sort,!0);z=Ka.map(Lb=>{const Wb=
O.getData(Lb.data);Wb||p(Lb.data);return Wb.countsRef(O,Lb.field,ub)});const wb={groupby:ob,pulse:z};ub&&(z=ub.op||"count",Ka=ub.field?Ha(z,ub.field):"count",wb.ops=[Kd[z]],wb.fields=[O.fieldRef(Ka)],wb.as=[Ka]);z=O.add(Tb(wb));z=O.add(pc({pulse:wa(z)}));Ka=O.add(Vd({field:ob,sort:O.sortRef(ub),pulse:wa(z)}));return wa(Ka)}function L(z,O){z&&(z.field||z.op?z.field||"count"===z.op?O&&z.field&&z.op&&!Kd[z.op]&&q.error("Multiple domain scales can not be sorted using "+z.op):q.error("No field provided for sort aggregate op: "+
z.op):q.isObject(z)?z.field="key":z={field:"key"});return z}function ia(z,O,Ka){z=Ka.map(ub=>{const wb=O.getData(ub.data);wb||p(ub.data);return wb.domainRef(O,ub.field)});return wa(O.add(Je({values:z})))}function xa(z,O,Ka){z=Ka.map(ub=>{const wb=O.getData(ub.data);wb||p(ub.data);return wb.extentRef(O,ub.field)});return wa(O.add(jf({extents:z})))}function Wa(z,O,Ka){const ub=O.config.range;let wb=z.range;if(wb.signal)return O.signalRef(wb.signal);if(q.isString(wb)){if(ub&&q.hasOwnProperty(ub,wb))return z=
q.extend({},z,{range:ub[wb]}),Wa(z,O,Ka);"width"===wb?wb=[0,{signal:"width"}]:"height"===wb?wb=Fb.isDiscrete(z.type)?[0,{signal:"height"}]:[{signal:"height"},0]:q.error("Unrecognized scale range value: "+q.stringValue(wb))}else{if(wb.scheme){Ka.scheme=q.isArray(wb.scheme)?H(wb.scheme,O):V(wb.scheme,O);wb.extent&&(Ka.schemeExtent=H(wb.extent,O));wb.count&&(Ka.schemeCount=V(wb.count,O));return}if(wb.step){Ka.rangeStep=V(wb.step,O);return}if(Fb.isDiscrete(z.type)&&!q.isArray(wb))return h(wb,z,O);q.isArray(wb)||
q.error("Unsupported range type: "+q.stringValue(wb))}return wb.map(Lb=>(q.isArray(Lb)?H:V)(Lb,O))}function $a(z,O,Ka){return q.isArray(z)?z.map(ub=>$a(ub,O,Ka)):q.isObject(z)?z.signal?Ka.signalRef(z.signal):"fit"===O?z:q.error("Unsupported parameter object: "+q.stringValue(z)):z}function fb(z){z.type="group";z.interactive=z.interactive||!1;return z}function Ba(z,O){const Ka=(ub,wb)=>E(z[ub],E(O[ub],wb));Ka.isVertical=ub=>"vertical"===E(z.direction,O.direction||(ub?O.symbolDirection:O.gradientDirection));
Ka.gradientLength=()=>E(z.gradientLength,O.gradientLength||O.gradientWidth);Ka.gradientThickness=()=>E(z.gradientThickness,O.gradientThickness||O.gradientHeight);Ka.entryColumns=()=>E(z.columns,E(O.columns,+Ka.isVertical(!0)));return Ka}function T(z,O){return(z=O&&(O.update&&O.update[z]||O.enter&&O.enter[z]))&&z.signal?z:z?z.value:null}function da(z,O,Ka){return`item.anchor === '${"start"}' ? ${z} : item.anchor === '${"end"}' ? ${O} : ${Ka}`}function Xa(z,O){return O?z?q.isObject(z)?Object.assign({},
z,{offset:Xa(z.offset,O)}):{value:z,offset:O}:O:z}function zb(z,O){O?(z.name=O.name,z.style=O.style||z.style,z.interactive=!!O.interactive,z.encode=ab(z.encode,O,td)):z.interactive=!1;return z}function xb(z,O,Ka,ub){z=Ba(z,Ka);var wb=z.isVertical();Ka=z.gradientThickness();const Lb=z.gradientLength();let Wb,Jc,Ac;wb?(wb=[0,1],Jc=[0,0],Ac=Ka,Ka=Lb):(wb=[0,0],Jc=[1,0],Ac=Lb);O={enter:Wb={opacity:vd,x:vd,y:vd,width:me(Ac),height:me(Ka)},update:q.extend({},Wb,{opacity:ie,fill:{gradient:O,start:wb,stop:Jc}}),
exit:{opacity:vd}};Ea(O,{stroke:z("gradientStrokeColor"),strokeWidth:z("gradientStrokeWidth")},{opacity:z("gradientOpacity")});return zb({type:"rect",role:"legend-gradient",encode:O},ub)}function Pb(z,O,Ka,ub,wb){z=Ba(z,Ka);const Lb=z.isVertical();Ka=z.gradientThickness();const Wb=z.gradientLength();var Jc;let Ac,Xc,od,Bd="";Lb?(Jc="y",Xc="y2",Ac="x",od="width",Bd="1-"):(Jc="x",Xc="x2",Ac="y",od="height");O={opacity:vd,fill:{scale:O,field:"value"}};O[Jc]={signal:Bd+"datum.perc",mult:Wb};O[Ac]=vd;
O[Xc]={signal:Bd+"datum.perc2",mult:Wb};O[od]=me(Ka);Jc={enter:O,update:q.extend({},O,{opacity:ie}),exit:{opacity:vd}};Ea(Jc,{stroke:z("gradientStrokeColor"),strokeWidth:z("gradientStrokeWidth")},{opacity:z("gradientOpacity")});return zb({type:"rect",role:"legend-band",key:"value",from:wb,encode:Jc},ub)}function bc(z,O,Ka,ub){const wb=Ba(z,O);var Lb=wb.isVertical();const Wb=me(wb.gradientThickness()),Jc=wb.gradientLength();let Ac=wb("labelOverlap"),Xc,od,Bd,$d="";const pd={enter:Xc={opacity:vd},update:od=
{opacity:ie,text:{field:"label"}},exit:{opacity:vd}};Ea(pd,{fill:wb("labelColor"),fillOpacity:wb("labelOpacity"),font:wb("labelFont"),fontSize:wb("labelFontSize"),fontStyle:wb("labelFontStyle"),fontWeight:wb("labelFontWeight"),limit:E(z.labelLimit,O.gradientLabelLimit)});Lb?(Xc.align={value:"left"},Xc.baseline=od.baseline={signal:'datum.perc\x3c\x3d0?"bottom":datum.perc\x3e\x3d1?"top":"middle"'},Lb="y",Bd="x",$d="1-"):(Xc.align=od.align={signal:'datum.perc\x3c\x3d0?"left":datum.perc\x3e\x3d1?"right":"center"'},
Xc.baseline={value:"top"},Lb="x",Bd="y");Xc[Lb]=od[Lb]={signal:$d+"datum.perc",mult:Jc};Xc[Bd]=od[Bd]=Wb;Wb.offset=E(z.labelOffset,O.gradientLabelOffset)||0;Ac=Ac?{separation:wb("labelSeparation"),method:Ac,order:"datum.index"}:void 0;return zb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:ub,encode:pd,overlap:Ac},Ka)}function Uc(z,O,Ka,ub,wb){var Lb=Ba(z,O);const Wb=Ka.entries,Jc=!(!Wb||!Wb.interactive),Ac=Wb?Wb.name:void 0,Xc=Lb("clipHeight"),od=Lb("symbolOffset"),Bd={data:"value"},
$d=`(${wb}) ? datum.${"offset"} : datum.${"size"}`,pd=Xc?me(Xc):{field:"size"},Le=`max(1, ${wb})`;let Cd,se;pd.mult=.5;var ee={enter:Cd={opacity:vd,x:{signal:$d,mult:.5,offset:od},y:pd},update:se={opacity:ie,x:Cd.x,y:Cd.y},exit:{opacity:vd}};let pe=null,xf=null;z.fill||(pe=O.symbolBaseFillColor,xf=O.symbolBaseStrokeColor);Ea(ee,{fill:Lb("symbolFillColor",pe),shape:Lb("symbolType"),size:Lb("symbolSize"),stroke:Lb("symbolStrokeColor",xf),strokeDash:Lb("symbolDash"),strokeDashOffset:Lb("symbolDashOffset"),
strokeWidth:Lb("symbolStrokeWidth")},{opacity:Lb("symbolOpacity")});Pe.forEach(ae=>{z[ae]&&(se[ae]=Cd[ae]={scale:z[ae],field:"value"})});O=zb({type:"symbol",role:"legend-symbol",key:"value",from:Bd,clip:Xc?!0:void 0,encode:ee},Ka.symbols);ee=me(od);ee.offset=Lb("labelOffset");ee={enter:Cd={opacity:vd,x:{signal:$d,offset:ee},y:pd},update:se={opacity:ie,text:{field:"label"},x:Cd.x,y:Cd.y},exit:{opacity:vd}};Ea(ee,{align:Lb("labelAlign"),baseline:Lb("labelBaseline"),fill:Lb("labelColor"),fillOpacity:Lb("labelOpacity"),
font:Lb("labelFont"),fontSize:Lb("labelFontSize"),fontStyle:Lb("labelFontStyle"),fontWeight:Lb("labelFontWeight"),limit:Lb("labelLimit")});Ka=zb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:Bd,encode:ee},Ka.labels);ee={enter:{noBound:{value:!Xc},width:vd,height:Xc?me(Xc):vd,opacity:vd},exit:{opacity:vd},update:se={opacity:ie,row:{signal:null},column:{signal:null}}};Lb.isVertical(!0)?(Lb=`ceil(item.mark.items.length / ${Le})`,se.row.signal=`${"datum.index"}%${Lb}`,se.column.signal=
`floor(${"datum.index"} / ${Lb})`,Lb={field:["row","datum.index"]}):(se.row.signal=`floor(${"datum.index"} / ${Le})`,se.column.signal=`${"datum.index"} % ${Le}`,Lb={field:"datum.index"});se.column.signal=`(${wb})?${se.column.signal}:${"datum.index"}`;ub={facet:{data:ub,name:"value",groupby:"index"}};return fb({role:"scope",from:ub,encode:ab(ee,Wb,td),marks:[O,Ka],name:Ac,interactive:Jc,sort:Lb})}function yc(z,O){z=Ba(z,O);return{align:z("gridAlign"),columns:z.entryColumns(),center:{row:!0,column:!1},
padding:{row:z("rowPadding"),column:z("columnPadding")}}}function Vc(z,O,Ka,ub){O=Ba(z,O);const wb={enter:{opacity:vd},update:{opacity:ie,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:vd}};Ea(wb,{orient:O("titleOrient"),_anchor:O("titleAnchor"),anchor:{signal:'item._anchor || ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? "middle" : "start")'},angle:{signal:'datum.vgrad \x26\x26 (item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (item.orient \x3d\x3d\x3d "left" ? -90 : 90) : 0'},
align:{signal:tf},baseline:{signal:Ff},text:z.title,fill:O("titleColor"),fillOpacity:O("titleOpacity"),font:O("titleFont"),fontSize:O("titleFontSize"),fontStyle:O("titleFontStyle"),fontWeight:O("titleFontWeight"),limit:O("titleLimit"),lineHeight:O("titleLineHeight")},{align:O("titleAlign"),baseline:O("titleBaseline")});return zb({type:"text",role:"legend-title",style:"guide-title",from:ub,encode:wb},Ka)}function ya(z,O){let Ka;q.isObject(z)&&(z.signal?Ka=z.signal:z.path?Ka="pathShape("+Nb(z.path)+
")":z.sphere&&(Ka="geoShape("+Nb(z.sphere)+', {type: "Sphere"})'));return Ka?O.signalRef(Ka):!!z}function Nb(z){return q.isObject(z)&&z.signal?z.signal:q.stringValue(z)}function Sb(z){const O=z.role||"";return O.indexOf("axis")&&O.indexOf("legend")&&O.indexOf("title")?"group"===z.type?"scope":O||"mark":O}function Zb(z){return{marktype:z.type,name:z.name||void 0,role:z.role||Sb(z),zindex:+z.zindex||void 0,aria:z.aria,description:z.description}}function uc(z,O){return z&&z.signal?O.signalRef(z.signal):
!1===z?!1:!0}function cc(z,O){const Ka=Ja.definition(z.type);Ka||q.error("Unrecognized transform type: "+q.stringValue(z.type));var ub=Ka.type.toLowerCase();var wb=gb(Ka,z,O);ub=new la(ub,null,wb,void 0);z.signal&&O.addSignal(z.signal,O.proxy(ub));ub.metadata=Ka.metadata||{};return ub}function gb(z,O,Ka){const ub={},wb=z.params.length;for(let Lb=0;Lb<wb;++Lb){const Wb=z.params[Lb];ub[Wb.name]=Kb(Wb,O,Ka)}return ub}function Kb(z,O,Ka){const ub=z.type,wb=O[z.name];if("index"===ub)return Nc(z,O,Ka);
if(void 0===wb)z.required&&q.error("Missing required "+q.stringValue(O.type)+" parameter: "+q.stringValue(z.name));else return"param"===ub?dd(z,O,Ka):"projection"===ub?Ka.projectionRef(O[z.name]):z.array&&!Va(wb)?wb.map(Lb=>Eb(z,Lb,Ka)):Eb(z,wb,Ka)}function Eb(z,O,Ka){const ub=z.type;return Va(O)?"expr"===ub?q.error("Expression references can not be signals."):"field"===ub?Ka.fieldRef(O):"compare"===ub?Ka.compareRef(O):Ka.signalRef(O.signal):(z=z.expr||"field"===ub)&&O&&O.expr?Ka.exprRef(O.expr,O.as):
z&&O&&O.field?Da(O.field,O.as):"expr"===ub?R.parseExpression(O,Ka):"data"===ub?wa(Ka.getData(O).values):"field"===ub?Da(O):"compare"===ub?Ka.compareRef(O):O}function Nc(z,O,Ka){q.isString(O.from)||q.error('Lookup "from" parameter must be a string literal.');return Ka.getData(O.from).lookupRef(Ka,O.key)}function dd(z,O,Ka){O=O[z.name];return z.array?(q.isArray(O)||q.error("Expected an array of sub-parameters. Instead: "+q.stringValue(O)),O.map(ub=>Ic(z,ub,Ka))):Ic(z,O,Ka)}function Ic(z,O,Ka){const ub=
z.params.length;let wb;for(let Lb=0;Lb<ub;++Lb){wb=z.params[Lb];for(const Wb in wb.key)if(wb.key[Wb]!==O[Wb]){wb=null;break}if(wb)break}wb||q.error("Unsupported parameter: "+q.stringValue(O));z=q.extend(gb(wb,O,Ka),wb.key);return wa(Ka.add(Ge(z)))}function Tc(z,O,Ka){let ub,wb,Lb,Wb;if(!z)Lb=wa(Ka.add(pc(null,[{}])));else if(ub=z.facet)O||q.error("Only group marks can be faceted."),null!=ub.field?Lb=Wb=xd(ub,Ka):(z.data?Wb=wa(Ka.getData(z.data).aggregate):(O=cc(q.extend({type:"aggregate",groupby:q.array(ub.groupby)},
ub.aggregate),Ka),O.params.key=Ka.keyRef(ub.groupby),O.params.pulse=xd(ub,Ka),Lb=Wb=wa(Ka.add(O))),wb=Ka.keyRef(ub.groupby,!0));Lb||(Lb=xd(z,Ka));return{key:wb,pulse:Lb,parent:Wb}}function xd(z,O){return z.$ref?z:z.data&&z.data.$ref?z.data:wa(O.getData(z.data).output)}function tb(z,O,Ka,ub,wb){this.scope=z;this.input=O;this.output=Ka;this.values=ub;this.aggregate=wb;this.index={}}function Jb(z){return q.isString(z)?z:null}function Gc(z,O,Ka){const ub=Ha(Ka.op,Ka.field);let wb;if(O.ops)for(let Lb=
0,Wb=O.as.length;Lb<Wb;++Lb){if(O.as[Lb]===ub)return}else O.ops=["count"],O.fields=[null],O.as=["count"];Ka.op&&(O.ops.push((wb=Ka.op.signal)?z.signalRef(wb):Ka.op),O.fields.push(z.fieldRef(Ka.field)),O.as.push(ub))}function ke(z,O,Ka,ub,wb,Lb,Wb){Ka=O[Ka]||(O[Ka]={});var Jc=q.isObject(Lb)?("descending"===Lb.order?"-":"+")+Ha(Lb.op,Lb.field):"";let Ac=Jb(wb);if(null!=Ac){z=O.scope;Ac+=Jc?"|"+Jc:"";var Xc=Ka[Ac]}Xc||(Xc=Lb?{field:ob,pulse:O.countsRef(z,wb,Lb)}:{field:z.fieldRef(wb),pulse:wa(O.output)},
Jc&&(Xc.sort=z.sortRef(Lb)),z=z.add(new la(ub,void 0,Xc,void 0)),Wb&&(O.index[wb]=z),Xc=wa(z),null!=Ac&&(Ka[Ac]=Xc));return Xc}function ge(z,O,Ka){var ub=z.from.facet;const wb=ub.name,Lb=xd(ub,O);let Wb;ub.name||q.error("Facet must have a name: "+q.stringValue(ub));ub.data||q.error("Facet must reference a data set: "+q.stringValue(ub));ub.field?Wb=O.add(Nd({field:O.fieldRef(ub.field),pulse:Lb})):ub.groupby?Wb=O.add(Md({key:O.keyRef(ub.groupby),group:wa(O.proxy(Ka.parent)),pulse:Lb})):q.error("Facet must specify groupby or field: "+
q.stringValue(ub));O=O.fork();Ka=O.add(pc());ub=O.add(Rd({pulse:wa(Ka)}));O.addData(wb,new tb(O,Ka,Ka,ub));O.addSignal("parent",null);Wb.params.subflow={$subflow:O.parse(z).toRuntime()}}function Ke(z,O,Ka){Ka=O.add(Nd({pulse:Ka.pulse}));O=O.fork();O.add(Rd());O.addSignal("parent",null);Ka.params.subflow={$subflow:O.parse(z).toRuntime()}}function Ye(z,O,Ka){const ub=z.remove,wb=z.insert,Lb=z.toggle,Wb=z.modify,Jc=z.values,Ac=O.add(new la("operator",void 0,void 0,void 0));z="if("+z.trigger+',modify("'+
Ka+'",'+[wb,ub,Lb,Wb,Jc].map(Xc=>null==Xc?"null":Xc).join(",")+"),0)";O=R.parseExpression(z,O);Ac.update=O.$expr;Ac.params=O.$params}function J(z,O){var Ka=Sb(z),ub="group"===z.type,wb=z.from&&z.from.facet;const Lb=z.overlap;let Wb=z.layout||"scope"===Ka||"frame"===Ka,Jc,Ac,Xc,od,Bd,$d;const pd="mark"===Ka||Wb||wb,Le=Tc(z.from,ub,O);Ac=O.add(fd({key:Le.key||(z.key?Da(z.key):void 0),pulse:Le.pulse,clean:!ub}));const Cd=wa(Ac);Ac=Xc=O.add(pc({pulse:Cd}));Ac=O.add(xe({markdef:Zb(z),interactive:uc(z.interactive,
O),clip:ya(z.clip,O),context:{$context:!0},groups:O.lookup(),parent:O.signals.parent?O.signalRef("parent"):null,index:O.markpath(),pulse:wa(Ac)}));var se=wa(Ac);Ac=od=O.add(Dd(ta(z.encode,z.type,Ka,z.style,O,{mod:!1,pulse:se})));Ac.params.parent=O.encode();z.transform&&z.transform.forEach(pe=>{pe=cc(pe,O);const xf=pe.metadata;(xf.generates||xf.changes)&&q.error("Mark transforms should not generate new data.");xf.nomod||(od.params.mod=!0);pe.params.pulse=wa(Ac);O.add(Ac=pe)});z.sort&&(Ac=O.add(Zd({sort:O.compareRef(z.sort),
pulse:wa(Ac)})));Ka=wa(Ac);if(wb||Wb)Wb=O.add(Oc({layout:O.objectProperty(z.layout),legends:O.legends,mark:se,pulse:Ka})),$d=wa(Wb);const ee=O.add(Yc({mark:se,pulse:$d||Ka}));se=wa(ee);ub&&(pd&&(Jc=O.operators,Jc.pop(),Wb&&Jc.pop()),O.pushState(Ka,$d||se,Cd),wb?ge(z,O,Le):pd?Ke(z,O,Le):O.parse(z),O.popState(),pd&&(Wb&&Jc.push(Wb),Jc.push(ee)));Lb&&(se=ja(Lb,se,O));ub=O.add(Wc({pulse:se}));wb=O.add(Rd({pulse:wa(ub)},void 0,O.parent()));null!=z.name&&(Bd=z.name,O.addData(Bd,new tb(O,Xc,ub,wb)),z.on&&
z.on.forEach(pe=>{(pe.insert||pe.remove||pe.toggle)&&q.error("Marks only support modify triggers.");Ye(pe,O,Bd)}))}function ja(z,O,Ka){const ub=z.method,wb=z.bound,Lb=z.separation;O={separation:Va(Lb)?Ka.signalRef(Lb.signal):Lb,method:Va(ub)?Ka.signalRef(ub.signal):ub,pulse:O};z.order&&(O.sort=Ka.compareRef({field:z.order}));wb&&(z=wb.tolerance,O.boundTolerance=Va(z)?Ka.signalRef(z.signal):+z,O.boundScale=Ka.scaleRef(wb.scale),O.boundOrient=wb.orient);return wa(Ka.add(Ze(O)))}function Na(z,O){const Ka=
O.config.legend,ub=z.encode||{},wb=Ba(z,Ka),Lb=ub.legend||{},Wb=Lb.name||void 0,Jc=Lb.interactive,Ac=Lb.style,Xc={};let od=0,Bd,$d;Pe.forEach(ee=>z[ee]?(Xc[ee]=z[ee],od=od||z[ee]):0);od||q.error("Missing valid scale for legend.");var pd=mb(z,O.scaleType(od));const Le={title:null!=z.title,scales:Xc,type:pd,vgrad:"symbol"!==pd&&wb.isVertical()},Cd=wa(O.add(pc(null,[Le]))),se=wa(O.add(ne($d={type:pd,scale:O.scaleRef(od),count:O.objectProperty(wb("tickCount")),limit:O.property(wb("symbolLimit")),values:O.objectProperty(z.values),
minstep:O.property(z.tickMinStep),formatType:O.property(z.formatType),formatSpecifier:O.property(z.format)})));"gradient"===pd?(pd=[xb(z,od,Ka,ub.gradient),bc(z,Ka,ub.labels,se)],$d.count=$d.count||O.signalRef(`max(2,2*floor((${w(wb.gradientLength())})/100))`)):"discrete"===pd?pd=[Pb(z,od,Ka,ub.gradient,se),bc(z,Ka,ub.labels,se)]:(Bd=yc(z,Ka),pd=[Uc(z,Ka,ub,se,w(Bd.columns))],$d.size=Xb(z,O,pd[0].marks));pd=[fb({role:"legend-entry",from:Cd,encode:{enter:{x:{value:0},y:{value:0}}},marks:pd,layout:Bd,
interactive:Jc})];Le.title&&pd.push(Vc(z,Ka,ub.title,Cd));return J(fb({role:"legend",from:Cd,encode:ab(lb(wb,z,Ka),Lb,td),marks:pd,aria:wb("aria"),description:wb("description"),zindex:wb("zindex"),name:Wb,interactive:Jc,style:Ac}),O)}function mb(z,O){let Ka=z.type||"symbol";z.type||1!==Gb(z)||!z.fill&&!z.stroke||(Ka=Fb.isContinuous(O)?"gradient":Fb.isDiscretizing(O)?"discrete":"symbol");return"gradient"!==Ka?Ka:Fb.isDiscretizing(O)?"discrete":"gradient"}function Gb(z){return Pe.reduce((O,Ka)=>O+(z[Ka]?
1:0),0)}function lb(z,O,Ka){const ub={enter:{},update:{}};Ea(ub,{orient:z("orient"),offset:z("offset"),padding:z("padding"),titlePadding:z("titlePadding"),cornerRadius:z("cornerRadius"),fill:z("fillColor"),stroke:z("strokeColor"),strokeWidth:Ka.strokeWidth,strokeDash:Ka.strokeDash,x:z("legendX"),y:z("legendY"),format:O.format,formatType:O.formatType});return ub}function Xb(z,O,Ka){const ub=w(Rb("size",z,Ka));z=w(Rb("strokeWidth",z,Ka));(Ka=T("fontSize",Ka[1].encode))||(Ka=(Ka=O.config.style["guide-label"])&&
Ka.fontSize);Ka=w(Ka);return R.parseExpression(`max(ceil(sqrt(${ub})+${z}),${Ka})`,O)}function Rb(z,O,Ka){return O[z]?`scale("${O[z]}",datum)`:T(z,Ka[0].encode)}function ra(z,O){z=q.isString(z)?{text:z}:z;const Ka=Ba(z,O.config.title),ub=z.encode||{};var wb=ub.group||{};const Lb=wb.name||void 0,Wb=wb.interactive,Jc=wb.style,Ac=[],Xc=wa(O.add(pc(null,[{}])));Ac.push(rb(z,Ka,Ra(z),Xc));z.subtitle&&Ac.push(Mb(z,Ka,ub.subtitle,Xc));z={enter:{},update:{}};Ea(z,{orient:Ka("orient"),anchor:Ka("anchor"),
align:{signal:ye},angle:{signal:'item.orient\x3d\x3d\x3d"left"?-90:item.orient\x3d\x3d\x3d"right"?90:0'},limit:Ka("limit"),frame:Ka("frame"),offset:Ka("offset")||0,padding:Ka("subtitlePadding")});wb=ab(z,wb,td);return J(fb({role:"title",from:Xc,encode:wb,marks:Ac,aria:Ka("aria"),description:Ka("description"),zindex:Ka("zindex"),name:Lb,interactive:Wb,style:Jc}),O)}function Ra(z){const O=z.encode;return O&&O.title||q.extend({name:z.name,interactive:z.interactive,style:z.style},O)}function rb(z,O,Ka,
ub){var wb={value:0};wb={enter:{opacity:wb},update:{opacity:{value:1}},exit:{opacity:wb}};Ea(wb,{text:z.text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:O("dx"),dy:O("dy"),fill:O("color"),font:O("font"),fontSize:O("fontSize"),fontStyle:O("fontStyle"),fontWeight:O("fontWeight"),lineHeight:O("lineHeight")},{align:O("align"),angle:O("angle"),baseline:O("baseline")});return zb({type:"text",role:"title-text",style:"group-title",
from:ub,encode:wb},Ka)}function Mb(z,O,Ka,ub){var wb={value:0};wb={enter:{opacity:wb},update:{opacity:{value:1}},exit:{opacity:wb}};Ea(wb,{text:z.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:O("dx"),dy:O("dy"),fill:O("subtitleColor"),font:O("subtitleFont"),fontSize:O("subtitleFontSize"),fontStyle:O("subtitleFontStyle"),fontWeight:O("subtitleFontWeight"),lineHeight:O("subtitleLineHeight")},{align:O("align"),
angle:O("angle"),baseline:O("baseline")});return zb({type:"text",role:"title-subtitle",style:"group-subtitle",from:ub,encode:wb},Ka)}function dc(z,O){const Ka=[];z.transform&&z.transform.forEach(ub=>{Ka.push(cc(ub,O))});z.on&&z.on.forEach(ub=>{Ye(ub,O,z.name)});O.addDataPipeline(z.name,hc(z,O,Ka))}function hc(z,O,Ka){const ub=[];let wb=null,Lb=!1,Wb=!1,Jc,Ac,Xc,od;z.values?Fa(z.values)||Fa(z.format)?(ub.push(sb(O,z)),ub.push(wb=sc())):ub.push(wb=sc({$ingest:z.values,$format:z.format})):z.url?Fa(z.url)||
Fa(z.format)?(ub.push(sb(O,z)),ub.push(wb=sc())):ub.push(wb=sc({$request:z.url,$format:z.format})):z.source&&(wb=Jc=q.array(z.source).map(Bd=>wa(O.getData(Bd).output)),ub.push(null));z=0;for(Ac=Ka.length;z<Ac;++z)Xc=Ka[z],od=Xc.metadata,wb||od.source||ub.push(wb=sc()),ub.push(Xc),od.generates&&(Wb=!0),od.modifies&&!Wb&&(Lb=!0),od.source?wb=Xc:od.changes&&(wb=null);Jc&&(Ac=Jc.length-1,ub[0]=fc({derive:Lb,pulse:Ac?Jc:Jc[0]}),(Lb||Ac)&&ub.splice(1,0,sc()));wb||ub.push(sc());ub.push(Rd({}));return ub}
function sc(z){z=pc({},z);z.metadata={source:!0};return z}function sb(z,O){return le({url:O.url?z.property(O.url):void 0,async:O.async?z.property(O.async):void 0,values:O.values?z.property(O.values):void 0,format:z.objectProperty(O.format)})}function gc(z,O,Ka,ub){let wb;if(O&&q.hasOwnProperty(O,z))return O[z];if(q.hasOwnProperty(Ka,z))return Ka[z];if(z.startsWith("title")){switch(z){case "titleColor":wb="fill";break;case "titleFont":case "titleFontSize":case "titleFontWeight":wb=z[5].toLowerCase()+
z.slice(6)}return ub["guide-title"][wb]}if(z.startsWith("label")){switch(z){case "labelColor":wb="fill";break;case "labelFont":case "labelFontSize":wb=z[5].toLowerCase()+z.slice(6)}return ub["guide-label"][wb]}return null}function ic(z){const O={};for(const Ka of z)if(Ka)for(const ub in Ka)O[ub]=1;return Object.keys(O)}function Yb(z,O,Ka,ub){var wb=Ba(z,O);O=z.orient;let Lb,Wb;const Jc={enter:Lb={opacity:vd},update:Wb={opacity:ie},exit:{opacity:vd}};Ea(Jc,{stroke:wb("domainColor"),strokeCap:wb("domainCap"),
strokeDash:wb("domainDash"),strokeDashOffset:wb("domainDashOffset"),strokeWidth:wb("domainWidth"),strokeOpacity:wb("domainOpacity")});wb={scale:z.scale,range:0};z={scale:z.scale,range:1};Lb.x=Wb.x=ze(O,wb,vd);Lb.x2=Wb.x2=ze(O,z);Lb.y=Wb.y=Se(O,wb,vd);Lb.y2=Wb.y2=Se(O,z);return zb({type:"rule",role:"axis-domain",from:ub,encode:Jc},Ka)}function lc(z,O,Ka,ub,wb){var Lb=Ba(z,O);O=z.orient;var Wb=z.gridScale;const Jc=ed(O,1,-1);a:{var Ac=z.offset;if(1!==Jc)if(q.isObject(Ac)){for(var Xc=Ac=q.extend({},
Ac);null!=Xc.mult;)if(q.isObject(Xc.mult))Xc=Xc.mult=q.extend({},Xc.mult);else{Xc.mult=Va(Jc)?{signal:`(${Xc.mult}) * (${Jc.signal})`}:Xc.mult*Jc;break a}Xc.mult=Jc}else Ac=Va(Jc)?{signal:`(${Jc.signal}) * (${Ac||0})`}:Jc*(Ac||0)}const od=Ac;let Bd;const $d={enter:Ac={opacity:vd},update:Bd={opacity:ie},exit:Xc={opacity:vd}};Ea($d,{stroke:Lb("gridColor"),strokeCap:Lb("gridCap"),strokeDash:Lb("gridDash"),strokeDashOffset:Lb("gridDashOffset"),strokeOpacity:Lb("gridOpacity"),strokeWidth:Lb("gridWidth")});
z={scale:z.scale,field:"value",band:wb.band,extra:wb.extra,offset:wb.offset,round:Lb("tickRound")};Lb=ze(O,{signal:"height"},{signal:"width"});wb=Wb?{scale:Wb,range:0,mult:Jc,offset:od}:{value:0,offset:od};Wb=Wb?{scale:Wb,range:1,mult:Jc,offset:od}:q.extend(Lb,{mult:Jc,offset:od});Ac.x=Bd.x=ze(O,z,wb);Ac.y=Bd.y=Se(O,z,wb);Ac.x2=Bd.x2=Se(O,Wb);Ac.y2=Bd.y2=ze(O,Wb);Xc.x=ze(O,z);Xc.y=Se(O,z);return zb({type:"rule",role:"axis-grid",key:"value",from:ub,encode:$d},Ka)}function Ec(z,O,Ka,ub,wb,Lb){const Wb=
Ba(z,O);O=z.orient;const Jc=ed(O,-1,1);let Ac,Xc,od;const Bd={enter:Ac={opacity:vd},update:od={opacity:ie},exit:Xc={opacity:vd}};Ea(Bd,{stroke:Wb("tickColor"),strokeCap:Wb("tickCap"),strokeDash:Wb("tickDash"),strokeDashOffset:Wb("tickDashOffset"),strokeOpacity:Wb("tickOpacity"),strokeWidth:Wb("tickWidth")});wb=me(wb);wb.mult=Jc;z={scale:z.scale,field:"value",band:Lb.band,extra:Lb.extra,offset:Lb.offset,round:Wb("tickRound")};od.y=Ac.y=ze(O,vd,z);od.y2=Ac.y2=ze(O,wb);Xc.x=ze(O,z);od.x=Ac.x=Se(O,vd,
z);od.x2=Ac.x2=Se(O,wb);Xc.y=Se(O,z);return zb({type:"rule",role:"axis-tick",key:"value",from:ub,encode:Bd},Ka)}function Cc(z,O,Ka,ub,wb){return{signal:'flush(range("'+z+'"), scale("'+z+'", datum.value), '+O+","+Ka+","+ub+","+wb+")"}}function id(z,O,Ka,ub,wb,Lb){O=Ba(z,O);const Wb=z.orient;z=z.scale;var Jc=ed(Wb,-1,1),Ac=w(O("labelFlush")),Xc=w(O("labelFlushOffset")),od=O("labelAlign"),Bd=O("labelBaseline");let $d=0===Ac||!!Ac;var pd=me(wb);pd.mult=Jc;pd.offset=me(O("labelPadding")||0);pd.offset.mult=
Jc;Jc={scale:z,field:"value",band:.5,offset:Xa(Lb.offset,O("labelOffset"))};Lb=$d?Cc(z,Ac,'"left"','"right"','"center"'):{value:"center"};wb=Va(Wb)?pf(`${Wb.signal} === '${"right"}'`,"left","right"):"right"===Wb?{value:"left"}:{value:"right"};Lb=ze(Wb,Lb,wb);wb=ze(Wb,Te(Wb,"bottom","top"),$d?Cc(z,Ac,'"top"','"bottom"','"middle"'):{value:"middle"});Ac=Cc(z,Ac,`-(${Xc})`,Xc,0);$d=$d&&Xc;pd={opacity:vd,x:ze(Wb,Jc,pd),y:Se(Wb,Jc,pd)};pd={enter:pd,update:Xc={opacity:ie,text:{field:"label"},x:pd.x,y:pd.y,
align:Lb,baseline:wb},exit:{opacity:vd,x:pd.x,y:pd.y}};Ea(pd,{dx:!od&&$d?ze(Wb,Ac):null,dy:!Bd&&$d?Se(Wb,Ac):null});Ea(pd,{angle:O("labelAngle"),fill:O("labelColor"),fillOpacity:O("labelOpacity"),font:O("labelFont"),fontSize:O("labelFontSize"),fontWeight:O("labelFontWeight"),fontStyle:O("labelFontStyle"),limit:O("labelLimit"),lineHeight:O("labelLineHeight")},{align:od,baseline:Bd});od=O("labelBound");Bd=(Bd=O("labelOverlap"))||od?{separation:O("labelSeparation"),method:Bd,order:"datum.index",bound:od?
{scale:z,orient:Wb,tolerance:od}:null}:void 0;Xc.align!==Lb&&(Xc.align=De(Xc.align,Lb));Xc.baseline!==wb&&(Xc.baseline=De(Xc.baseline,wb));return zb({type:"text",role:"axis-label",style:"guide-label",key:"value",from:ub,encode:pd,overlap:Bd},Ka)}function jd(z,O,Ka,ub){O=Ba(z,O);const wb=z.orient,Lb=ed(wb,-1,1);let Wb,Jc;const Ac={enter:Wb={opacity:vd,anchor:me(O("titleAnchor",null)),align:{signal:ye}},update:Jc=q.extend({},Wb,{opacity:ie,text:me(z.title)}),exit:{opacity:vd}};z={signal:`lerp(range("${z.scale}"), ${da(0,
1,.5)})`};Jc.x=ze(wb,z);Jc.y=Se(wb,z);z=Va(Lb)?{signal:`(${Lb.signal}) * ${90}`}:{value:90*Lb};Wb.angle=ze(wb,vd,z);Wb.baseline=ze(wb,Te(wb,"bottom","top"),{value:"bottom"});Jc.angle=Wb.angle;Jc.baseline=Wb.baseline;Ea(Ac,{fill:O("titleColor"),fillOpacity:O("titleOpacity"),font:O("titleFont"),fontSize:O("titleFontSize"),fontStyle:O("titleFontStyle"),fontWeight:O("titleFontWeight"),limit:O("titleLimit"),lineHeight:O("titleLineHeight")},{align:O("titleAlign"),angle:O("titleAngle"),baseline:O("titleBaseline")});
qd(O,wb,Ac,Ka);Ac.update.align=De(Ac.update.align,Wb.align);Ac.update.angle=De(Ac.update.angle,Wb.angle);Ac.update.baseline=De(Ac.update.baseline,Wb.baseline);return zb({type:"text",role:"axis-title",style:"guide-title",from:ub,encode:Ac},Ka)}function qd(z,O,Ka,ub){const wb=(Wb,Jc)=>null!=Wb?(Ka.update[Jc]=De(me(Wb),Ka.update[Jc]),!1):bb(Jc,ub)?!1:!0,Lb=wb(z("titleX"),"x");z=wb(z("titleY"),"y");Ka.enter.auto=z===Lb?me(z):ze(O,me(z),me(Lb))}function ud(z,O,Ka){const ub=q.array(z.signals),wb=q.array(z.scales);
Ka||ub.forEach(Lb=>S(Lb,O));q.array(z.projections).forEach(Lb=>{{const Wb=O.config.projection||{},Jc={};for(const Ac in Lb)"name"!==Ac&&(Jc[Ac]=$a(Lb[Ac],Ac,O));for(const Ac in Wb)null==Jc[Ac]&&(Jc[Ac]=$a(Wb[Ac],Ac,O));O.addProjection(Lb.name,Jc)}});wb.forEach(Lb=>{{const Wb=Lb.type||"linear";Fb.isValidScaleType(Wb)||q.error("Unrecognized scale type: "+q.stringValue(Wb));O.addScale(Lb.name,{type:Wb,domain:void 0})}});q.array(z.data).forEach(Lb=>dc(Lb,O));wb.forEach(Lb=>{{const Ac=O.getScale(Lb.name).params;
let Xc;Ac.domain=h(Lb.domain,Lb,O);null!=Lb.range&&(Ac.range=Wa(Lb,O,Ac));if(null!=Lb.interpolate){var Wb=Lb.interpolate,Jc=Ac;Jc.interpolate=V(Wb.type||Wb);null!=Wb.gamma&&(Jc.interpolateGamma=V(Wb.gamma))}null!=Lb.nice&&(Wb=Lb.nice,Wb=q.isObject(Wb)?{interval:V(Wb.interval),step:V(Wb.step)}:V(Wb),Ac.nice=Wb);null!=Lb.bins&&(Wb=Lb.bins,Wb=Wb.signal||q.isArray(Wb)?H(Wb,O):O.objectProperty(Wb),Ac.bins=Wb);for(Xc in Lb)q.hasOwnProperty(Ac,Xc)||"name"===Xc||(Ac[Xc]=V(Lb[Xc],O))}});(Ka||ub).forEach(Lb=>
ba(Lb,O));q.array(z.axes).forEach(Lb=>{var Wb=O.config,Jc=Wb.style,Ac=Wb.axis,Xc="band"===O.scaleType(Lb.scale)&&Wb.axisBand,od=Lb.orient;if(Va(od)){var Bd=ic([Wb.axisX,Wb.axisY]);var $d=ic([Wb.axisTop,Wb.axisBottom,Wb.axisLeft,Wb.axisRight]);var pd={};for(ae of Bd)pd[ae]=ze(od,gc(ae,Wb.axisX,Ac,Jc),gc(ae,Wb.axisY,Ac,Jc));Bd={};for(ae of $d){$d=Bd;var Le=ae;var Cd=od.signal;var se=gc(ae,Wb.axisTop,Ac,Jc),ee=gc(ae,Wb.axisBottom,Ac,Jc),pe=gc(ae,Wb.axisLeft,Ac,Jc),xf=gc(ae,Wb.axisRight,Ac,Jc);Cd={signal:(null!=
pe?`${Cd} === '${"left"}' ? (${bf(pe)}) : `:"")+(null!=ee?`${Cd} === '${"bottom"}' ? (${bf(ee)}) : `:"")+(null!=xf?`${Cd} === '${"right"}' ? (${bf(xf)}) : `:"")+(null!=se?`${Cd} === '${"top"}' ? (${bf(se)}) : `:"")+"(null)"};$d[Le]=Cd}}else pd="top"===od||"bottom"===od?Wb.axisX:Wb.axisY,Bd=Wb["axis"+od[0].toUpperCase()+od.slice(1)];pd=pd||Bd||Xc?q.extend({},Ac,pd,Bd,Xc):Ac;var ae=Lb.encode||{};Wb=ae.axis||{};Jc=Wb.name||void 0;Ac=Wb.interactive;Xc=Wb.style;Cd=od=Ba(Lb,pd);Bd=Cd("tickBand");$d=Cd("tickOffset");
Bd?Bd.signal?(Le={signal:`(${Bd.signal}) === 'extent' ? 1 : 0.5`},Cd={signal:`(${Bd.signal}) === 'extent'`},q.isObject($d)||($d={signal:`(${Bd.signal}) === 'extent' ? 0 : ${$d}`})):"extent"===Bd?(Le=1,Cd=!0,$d=0):(Le=.5,Cd=!1):(Le=Cd("bandPosition"),Cd=Cd("tickExtra"));Le={extra:Cd,band:Le,offset:$d};Cd={scale:Lb.scale,ticks:!!od("ticks"),labels:!!od("labels"),grid:!!od("grid"),domain:!!od("domain"),title:null!=Lb.title};Bd=wa(O.add(pc({},[Cd])));se=wa(O.add(oc({scale:O.scaleRef(Lb.scale),extra:O.property(Le.extra),
count:O.objectProperty(Lb.tickCount),values:O.objectProperty(Lb.values),minstep:O.property(Lb.tickMinStep),formatType:O.property(Lb.formatType),formatSpecifier:O.property(Lb.format)})));$d=[];Cd.grid&&$d.push(lc(Lb,pd,ae.grid,se,Le));if(Cd.ticks){var gf=od("tickSize");$d.push(Ec(Lb,pd,ae.ticks,se,gf,Le))}Cd.labels&&(gf=Cd.ticks?gf:0,$d.push(id(Lb,pd,ae.labels,se,gf,Le)));Cd.domain&&$d.push(Yb(Lb,pd,ae.domain,Bd));Cd.title&&$d.push(jd(Lb,pd,ae.title,Bd));gf=od;pd={enter:{},update:{}};Ea(pd,{orient:gf("orient"),
offset:gf("offset")||0,position:E(Lb.position,0),titlePadding:gf("titlePadding"),minExtent:gf("minExtent"),maxExtent:gf("maxExtent"),range:{signal:`abs(span(range("${Lb.scale}")))`},translate:gf("translate"),format:Lb.format,formatType:Lb.formatType});Lb=pd;return Lb=J(fb({role:"axis",from:Bd,encode:ab(Lb,Wb,td),marks:$d,aria:od("aria"),description:od("description"),zindex:od("zindex"),name:Jc,interactive:Ac,style:Xc}),O)});q.array(z.marks).forEach(Lb=>J(Lb,O));q.array(z.legends).forEach(Lb=>Na(Lb,
O));z.title&&ra(z.title,O);O.parseLambdas();return O}function be(z,O){var Ka=O.config;const ub=wa(O.root=O.add(new la("operator",void 0,void 0,void 0))),wb=de(z,Ka);wb.forEach(Jc=>S(Jc,O));O.description=z.description||Ka.description;O.eventConfig=Ka.events;O.legends=O.objectProperty(Ka.legend&&Ka.legend.layout);O.locale=Ka.locale;Ka=O.add(pc());const Lb=O.add(Dd(ta(ab({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},z.encode),"group","frame",z.style,O,{pulse:wa(Ka)}))),
Wb=O.add(Oc({layout:O.objectProperty(z.layout),legends:O.legends,autosize:O.signalRef("autosize"),mark:ub,pulse:wa(Lb)}));O.operators.pop();O.pushState(wa(Lb),wa(Wb),null);ud(z,O,wb);O.operators.push(Wb);z=O.add(Yc({mark:ub,pulse:wa(Wb)}));z=O.add(Wc({pulse:wa(z)}));z=O.add(Rd({pulse:wa(z)}));O.addData("root",new tb(O,Ka,Ka,z));return O}function Yd(z,O){return O&&O.signal?{name:z,update:O.signal}:{name:z,value:O}}function de(z,O){const Ka=Wb=>E(z[Wb],O[Wb]),ub=[Yd("background",Ka("background")),Yd("autosize",
db(Ka("autosize"))),Yd("padding",Bb(Ka("padding"))),Yd("width",Ka("width")||0),Yd("height",Ka("height")||0)],wb=ub.reduce((Wb,Jc)=>(Wb[Jc.name]=Jc,Wb),{}),Lb={};q.array(z.signals).forEach(Wb=>{q.hasOwnProperty(wb,Wb.name)?Wb=q.extend(wb[Wb.name],Wb):ub.push(Wb);Lb[Wb.name]=Wb});q.array(O.signals).forEach(Wb=>{q.hasOwnProperty(Lb,Wb.name)||q.hasOwnProperty(wb,Wb.name)||ub.push(Wb)});return ub}function ve(z,O){this.config=z||{};this.options=O||{};this.bindings=[];this.field={};this.signals={};this.lambdas=
{};this.scales={};this.events={};this.data={};this.streams=[];this.updates=[];this.operators=[];this.locale=this.eventConfig=null;this._subid=this._id=0;this._nextsub=[0];this._parent=[];this._encode=[];this._lookup=[];this._markpath=[]}function Ae(z){this.config=z.config;this.options=z.options;this.legends=z.legends;this.field=Object.create(z.field);this.signals=Object.create(z.signals);this.lambdas=Object.create(z.lambdas);this.scales=Object.create(z.scales);this.events=Object.create(z.events);
this.data=Object.create(z.data);this.streams=[];this.updates=[];this.operators=[];this._id=0;this._subid=++z._nextsub[0];this._nextsub=z._nextsub;this._parent=z._parent.slice();this._encode=z._encode.slice();this._lookup=z._lookup.slice();this._markpath=z._markpath}function We(z){return(q.isArray(z)?zd:Ld)(z)}function zd(z){const O=z.length;let Ka="[";for(let ub=0;ub<O;++ub){const wb=z[ub];Ka+=(0<ub?",":"")+(q.isObject(wb)?wb.signal||We(wb):q.stringValue(wb))}return Ka+"]"}function Ld(z){let O="{",
Ka=0,ub,wb;for(ub in z)wb=z[ub],O+=(1<++Ka?",":"")+q.stringValue(ub)+":"+(q.isObject(wb)?wb.signal||We(wb):q.stringValue(wb));return O+"}"}function ef(){return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},
text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",
stroke:"#ddd"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,
symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},
right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:"circle square triangle-up cross diamond triangle-right triangle-down triangle-left".split(" ")}}}const me=z=>q.isObject(z)&&!q.isArray(z)?q.extend({},z):{value:z},W=z=>q.isString(z)?q.stringValue(z):z.signal?`(${z.signal})`:na(z),ha=(z,O,Ka,ub)=>`(${z}(${[O,Ka,ub].map(oa).join(",")})+'')`,za=["value",
"update","init","react","bind"],ob=Da("key"),Za={code:"_.$value",ast:{type:"Identifier",value:"value"}},vb=z=>(O,Ka,ub)=>new la(z,Ka,O||void 0,ub),Tb=vb("aggregate"),oc=vb("axisticks"),Yc=vb("bound"),pc=vb("collect"),Fc=vb("compare"),fd=vb("datajoin"),Dd=vb("encode"),$b=vb("expression"),Md=vb("facet"),Jd=vb("field"),Hb=vb("key"),ne=vb("legendentries"),le=vb("load"),xe=vb("mark"),jf=vb("multiextent"),Je=vb("multivalues"),Ze=vb("overlap"),Ge=vb("params"),Nd=vb("prefacet"),ec=vb("projection"),Hd=vb("proxy"),
fc=vb("relay"),Wc=vb("render"),re=vb("scale"),Rd=vb("sieve"),Zd=vb("sortitems"),Oc=vb("viewlayout"),Vd=vb("values");let Od=0;const Kd={min:"min",max:"max",count:"sum"},Pe="size shape fill stroke strokeWidth strokeDash opacity".split(" "),td={name:1,style:1,interactive:1},vd={value:0},ie={value:1},ye=da(q.stringValue("left"),q.stringValue("right"),q.stringValue("center")),af=da('"top"','"bottom"','"middle"'),tf=`datum.vgrad && ${'item.orient \x3d\x3d\x3d "right"'} ? (${da('"right"','"left"','"center"')}) : (${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} && !(datum.vgrad && ${'item.orient \x3d\x3d\x3d "left"'})) ? "left" : ${ye}`,
Ff=`${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} ? (datum.vgrad ? (${'item.orient \x3d\x3d\x3d "right"'} ? "bottom" : "top") : ${af}) : "top"`;tb.fromEntries=function(z,O){const Ka=O.length,ub=O[Ka-1],wb=O[Ka-2];let Lb=O[0],Wb=null,Jc=1;Lb&&"load"===Lb.type&&(Lb=O[1]);for(z.add(O[0]);Jc<Ka;++Jc)O[Jc].params.pulse=wa(O[Jc-1]),z.add(O[Jc]),"aggregate"===O[Jc].type&&(Wb=O[Jc]);return new tb(z,Lb,wb,ub,Wb)};tb.prototype={countsRef(z,O,Ka){const ub=this.counts||(this.counts=
{}),wb=Jb(O);if(null!=wb){z=this.scope;var Lb=ub[wb]}Lb?Ka&&Ka.field&&Gc(z,Lb.agg.params,Ka):(Lb={groupby:z.fieldRef(O,"key"),pulse:wa(this.output)},Ka&&Ka.field&&Gc(z,Lb,Ka),Ka=z.add(Tb(Lb)),Lb=z.add(pc({pulse:wa(Ka)})),Lb={agg:Ka,ref:wa(Lb)},null!=wb&&(ub[wb]=Lb));return Lb.ref},tuplesRef(){return wa(this.values)},extentRef(z,O){return ke(z,this,"extent","extent",O,!1)},domainRef(z,O){return ke(z,this,"domain","values",O,!1)},valuesRef(z,O,Ka){return ke(z,this,"vals","values",O,Ka||!0)},lookupRef(z,
O){return ke(z,this,"lookup","tupleindex",O,!1)},indataRef(z,O){return ke(z,this,"indata","tupleindex",O,!0,!0)}};const ed=(z,O,Ka)=>{Va(z)?(z=z.signal,O=pf(`${z} === '${"left"}' || ${z} === '${"top"}'`,O,Ka)):O="left"===z||"top"===z?O:Ka;return O},ze=(z,O,Ka)=>{Va(z)?(z=z.signal,O=of(`${z} === '${"top"}' || ${z} === '${"bottom"}'`,O,Ka)):O="bottom"===z||"top"===z?O:Ka;return O},Se=(z,O,Ka)=>{Va(z)?(z=z.signal,O=of(`${z} !== '${"top"}' && ${z} !== '${"bottom"}'`,O,Ka)):O="bottom"===z||"top"===z?Ka:
O;return O},Te=(z,O,Ka)=>Va(z)?pf(`${z.signal} === '${"top"}'`,O,Ka):"top"===z?{value:O}:{value:Ka},of=(z,O,Ka)=>{O=null!=O?me(O):O;Ka=null!=Ka?me(Ka):Ka;if(null!=O&&1!==Object.keys(O).length||null!=Ka&&1!==Object.keys(Ka).length)return[q.extend({test:z},O)].concat(Ka||[]);O=O?O.signal||q.stringValue(O.value):null;Ka=Ka?Ka.signal||q.stringValue(Ka.value):null;return{signal:`${z} ? (${O}) : (${Ka})`}},pf=(z,O,Ka)=>({signal:`${z} ? (${bf(O)}) : (${bf(Ka)})`}),bf=z=>Va(z)?z.signal:null==z?null:q.stringValue(z),
De=(z,O)=>{const Ka=z.signal;return Ka&&Ka.endsWith("(null)")?{signal:Ka.slice(0,-6)+O.signal}:z};ve.prototype=Ae.prototype={parse(z){return ud(z,this)},fork(){return new Ae(this)},isSubscope(){return 0<this._subid},toRuntime(){this.finish();return{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(z){this.operators.push(z);
z.id=this.id();z.refs&&(z.refs.forEach(O=>{O.$ref=z.id}),z.refs=null);return z},proxy(z){z=z instanceof la?wa(z):z;return this.add(Hd({value:z}))},addStream(z){this.streams.push(z);z.id=this.id();return z},addUpdate(z){this.updates.push(z);return z},finish(){function z(ub,wb,Lb){ub&&(ub=ub.data||(ub.data={}),wb=ub[wb]||(ub[wb]=[]),wb.push(Lb))}let O,Ka;this.root&&(this.root.root=!0);for(O in this.signals)this.signals[O].signal=O;for(O in this.scales)this.scales[O].scale=O;for(O in this.data){Ka=this.data[O];
z(Ka.input,O,"input");z(Ka.output,O,"output");z(Ka.values,O,"values");for(const ub in Ka.index)z(Ka.index[ub],O,"index:"+ub)}return this},pushState(z,O,Ka){this._encode.push(wa(this.add(Rd({pulse:z}))));this._parent.push(O);this._lookup.push(Ka?wa(this.proxy(Ka)):null);this._markpath.push(-1)},popState(){this._encode.pop();this._parent.pop();this._lookup.pop();this._markpath.pop()},parent(){return q.peek(this._parent)},encode(){return q.peek(this._encode)},lookup(){return q.peek(this._lookup)},markpath(){const z=
this._markpath;return++z[z.length-1]},fieldRef(z,O){if(q.isString(z))return Da(z,O);z.signal||q.error("Unsupported field reference: "+q.stringValue(z));z=z.signal;var Ka=this.field[z];Ka||(Ka={name:this.signalRef(z)},O&&(Ka.as=O),this.field[z]=Ka=wa(this.add(Jd(Ka))));return Ka},compareRef(z){let O=!1;const Ka=wb=>Va(wb)?(O=!0,this.signalRef(wb.signal)):wb&&wb.expr?(O=!0,this.exprRef(wb.expr)):wb,ub=q.array(z.field).map(Ka);z=q.array(z.order).map(Ka);return O?wa(this.add(Fc({fields:ub,orders:z}))):
{$compare:ub,$order:z}},keyRef(z,O){let Ka=!1;const ub=this.signals;z=q.array(z).map(wb=>Va(wb)?(Ka=!0,wa(ub[wb.signal])):wb);return Ka?wa(this.add(Hb({fields:z,flat:O}))):Oa(z,O)},sortRef(z){if(!z)return z;const O=Ha(z.op,z.field);z=z.order||"ascending";return z.signal?wa(this.add(Fc({fields:O,orders:this.signalRef(z.signal)}))):{$compare:O,$order:z}},event(z,O){const Ka=z+":"+O;if(!this.events[Ka]){const ub=this.id();this.streams.push({id:ub,source:z,type:O});this.events[Ka]=ub}return this.events[Ka]},
hasOwnSignal(z){return q.hasOwnProperty(this.signals,z)},addSignal(z,O){this.hasOwnSignal(z)&&q.error("Duplicate signal name: "+q.stringValue(z));O=O instanceof la?O:this.add(new la("operator",O,void 0,void 0));return this.signals[z]=O},getSignal(z){this.signals[z]||q.error("Unrecognized signal name: "+q.stringValue(z));return this.signals[z]},signalRef(z){if(this.signals[z])return wa(this.signals[z]);q.hasOwnProperty(this.lambdas,z)||(this.lambdas[z]=this.add(new la("operator",null,void 0,void 0)));
return wa(this.lambdas[z])},parseLambdas(){const z=Object.keys(this.lambdas);for(let Ka=0,ub=z.length;Ka<ub;++Ka){var O=z[Ka];const wb=R.parseExpression(O,this);O=this.lambdas[O];O.params=wb.$params;O.update=wb.$expr}},property(z){return z&&z.signal?this.signalRef(z.signal):z},objectProperty(z){return z&&q.isObject(z)?this.signalRef(z.signal||We(z)):z},exprRef(z,O){z={expr:R.parseExpression(z,this)};O&&(z.expr.$name=O);return wa(this.add($b(z)))},addBinding(z,O){this.bindings||q.error("Nested signals do not support binding: "+
q.stringValue(z));this.bindings.push(q.extend({signal:z},O))},addScaleProj(z,O){q.hasOwnProperty(this.scales,z)&&q.error("Duplicate scale or projection name: "+q.stringValue(z));this.scales[z]=this.add(O)},addScale(z,O){this.addScaleProj(z,re(O))},addProjection(z,O){this.addScaleProj(z,ec(O))},getScale(z){this.scales[z]||q.error("Unrecognized scale name: "+q.stringValue(z));return this.scales[z]},scaleRef(z){return wa(this.getScale(z))},scaleType(z){return this.getScale(z).params.type},projectionRef(z){return this.scaleRef(z)},
projectionType(z){return this.scaleType(z)},addData(z,O){q.hasOwnProperty(this.data,z)&&q.error("Duplicate data set name: "+q.stringValue(z));return this.data[z]=O},getData(z){this.data[z]||q.error("Undefined data set name: "+q.stringValue(z));return this.data[z]},addDataPipeline(z,O){q.hasOwnProperty(this.data,z)&&q.error("Duplicate data set name: "+q.stringValue(z));return this.addData(z,tb.fromEntries(this,O))}};k.AxisDomainRole="axis-domain";k.AxisGridRole="axis-grid";k.AxisLabelRole="axis-label";
k.AxisRole="axis";k.AxisTickRole="axis-tick";k.AxisTitleRole="axis-title";k.DataScope=tb;k.FrameRole="frame";k.LegendEntryRole="legend-entry";k.LegendLabelRole="legend-label";k.LegendRole="legend";k.LegendSymbolRole="legend-symbol";k.LegendTitleRole="legend-title";k.MarkRole="mark";k.Scope=ve;k.ScopeRole="scope";k.config=ef;k.parse=function(z,O,Ka){q.isObject(z)||q.error("Input Vega specification must be an object.");O=q.mergeConfig(ef(),O,z.config);return be(z,new ve(O,Ka)).toRuntime()};k.signal=
S;k.signalUpdates=ba;k.stream=F;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[64]=function($c,Vb,Pc,Cb){function k(S){if(S&&S.__esModule)return S;var la=Object.create(null);S&&Object.keys(S).forEach(function(wa){if("default"!==wa){var Da=Object.getOwnPropertyDescriptor(S,wa);Object.defineProperty(la,wa,Da.get?Da:{enumerable:!0,get:function(){return S[wa]}})}});la["default"]=S;return Object.freeze(la)}Object.defineProperty(Cb,"__esModule",{value:!0});var q=Vb(15),R=Vb(27),Ma=Vb(29),Fb=Vb(38),Ja=Vb(39),db=Vb(43),Bb=Vb(48),jb=Vb(50),Ea=Vb(51),ab=Vb(52),bb=Vb(54);
Pc=Vb(55);$c=Vb(56);var Ca=Vb(28),ma=Vb(19),oa=Vb(26),Ia=Vb(37),Ua=Vb(36),na=Vb(42),qa=Vb(61),Ta=Vb(21),ta=Vb(59),Qa=Vb(63),va=Vb(60);Vb=k(Ma);Fb=k(Fb);Ja=k(Ja);db=k(db);Bb=k(Bb);jb=k(jb);Ea=k(Ea);ab=k(ab);bb=k(bb);Pc=k(Pc);$c=k($c);q.extend(R.transforms,Vb,Fb,Ja,db,Bb,Ea,jb,ab,bb,Pc,$c);Object.keys(q).forEach(function(S){"default"!==S&&Object.defineProperty(Cb,S,{enumerable:!0,get:function(){return q[S]}})});Object.keys(Ca).forEach(function(S){"default"!==S&&Object.defineProperty(Cb,S,{enumerable:!0,
get:function(){return Ca[S]}})});Object.keys(ma).forEach(function(S){"default"!==S&&Object.defineProperty(Cb,S,{enumerable:!0,get:function(){return ma[S]}})});Object.keys(oa).forEach(function(S){"default"!==S&&Object.defineProperty(Cb,S,{enumerable:!0,get:function(){return oa[S]}})});Object.keys(Ia).forEach(function(S){"default"!==S&&Object.defineProperty(Cb,S,{enumerable:!0,get:function(){return Ia[S]}})});Object.defineProperty(Cb,"Dataflow",{enumerable:!0,get:function(){return R.Dataflow}});Object.defineProperty(Cb,
"EventStream",{enumerable:!0,get:function(){return R.EventStream}});Object.defineProperty(Cb,"MultiPulse",{enumerable:!0,get:function(){return R.MultiPulse}});Object.defineProperty(Cb,"Operator",{enumerable:!0,get:function(){return R.Operator}});Object.defineProperty(Cb,"Parameters",{enumerable:!0,get:function(){return R.Parameters}});Object.defineProperty(Cb,"Pulse",{enumerable:!0,get:function(){return R.Pulse}});Object.defineProperty(Cb,"Transform",{enumerable:!0,get:function(){return R.Transform}});
Object.defineProperty(Cb,"changeset",{enumerable:!0,get:function(){return R.changeset}});Object.defineProperty(Cb,"definition",{enumerable:!0,get:function(){return R.definition}});Object.defineProperty(Cb,"ingest",{enumerable:!0,get:function(){return R.ingest}});Object.defineProperty(Cb,"isTuple",{enumerable:!0,get:function(){return R.isTuple}});Object.defineProperty(Cb,"transform",{enumerable:!0,get:function(){return R.transform}});Object.defineProperty(Cb,"transforms",{enumerable:!0,get:function(){return R.transforms}});
Object.defineProperty(Cb,"tupleid",{enumerable:!0,get:function(){return R.tupleid}});Object.defineProperty(Cb,"interpolate",{enumerable:!0,get:function(){return Ua.interpolate}});Object.defineProperty(Cb,"interpolateColors",{enumerable:!0,get:function(){return Ua.interpolateColors}});Object.defineProperty(Cb,"interpolateRange",{enumerable:!0,get:function(){return Ua.interpolateRange}});Object.defineProperty(Cb,"quantizeInterpolator",{enumerable:!0,get:function(){return Ua.quantizeInterpolator}});
Object.defineProperty(Cb,"scale",{enumerable:!0,get:function(){return Ua.scale}});Object.defineProperty(Cb,"scheme",{enumerable:!0,get:function(){return Ua.scheme}});Object.defineProperty(Cb,"projection",{enumerable:!0,get:function(){return na.projection}});Object.defineProperty(Cb,"View",{enumerable:!0,get:function(){return qa.View}});Object.defineProperty(Cb,"defaultLocale",{enumerable:!0,get:function(){return Ta.defaultLocale}});Object.defineProperty(Cb,"formatLocale",{enumerable:!0,get:function(){return Ta.numberFormatDefaultLocale}});
Object.defineProperty(Cb,"locale",{enumerable:!0,get:function(){return Ta.locale}});Object.defineProperty(Cb,"resetDefaultLocale",{enumerable:!0,get:function(){return Ta.resetDefaultLocale}});Object.defineProperty(Cb,"timeFormatLocale",{enumerable:!0,get:function(){return Ta.timeFormatDefaultLocale}});Object.defineProperty(Cb,"expressionFunction",{enumerable:!0,get:function(){return ta.expressionFunction}});Object.defineProperty(Cb,"parse",{enumerable:!0,get:function(){return Qa.parse}});Object.defineProperty(Cb,
"runtimeContext",{enumerable:!0,get:function(){return va.context}});Cb.version="5.17.0"};
shadow$provide[65]=function($c,Vb,Pc,Cb){var k=Vb(25).Buffer;(function(q,R){"object"===typeof Cb&&"undefined"!==typeof Pc?R(Cb):"function"===typeof define&&define.amd?define(["exports"],R):(q="undefined"!==typeof globalThis?globalThis:q||self,R(q.vegaLite={}))})(this,function(q){function R(b,f,a){b.fields=f||[];b.fname=a;return b}function Ma(b){return 1===b.length?Sf(b[0]):Rf(b)}function Fb(b){function f(){a.push(y+b.substring(C,aa));y="";C=aa+1}const a=[],d=b.length;let g=null,t=0,y="",C,aa,pa;b+=
"";for(C=aa=0;aa<d;++aa)if(pa=b[aa],"\\"===pa)y+=b.substring(C,aa),y+=b.substring(++aa,++aa),C=aa;else if(pa===g)f(),g=null,t=-1;else if(!g)if(C===t&&'"'===pa)C=aa+1,g=pa;else if(C===t&&"'"===pa)C=aa+1,g=pa;else if("."===pa&&!t)aa>C?f():C=aa+1;else if("["===pa)aa>C&&f(),t=C=aa+1;else if("]"===pa){if(!t)throw Error("Access path missing open bracket: "+b);0<t&&f();t=0;C=aa+1}if(t)throw Error("Access path missing closing bracket: "+b);if(g)throw Error("Access path missing closing quote: "+b);aa>C&&(aa++,
f());return a}function Ja(b,f,a){f=[f].concat([].slice.call(a));console[b].apply(console,f)}function db(b){return b===Object(b)}function Bb(...b){return b.reduce((f,a)=>{for(const d in a)"signals"===d?f.signals=Ea(f.signals,a.signals):jb(f,d,a[d],"legend"===d?{layout:1}:"style"===d?!0:null);return f},{})}function jb(b,f,a,d){if("__proto__"!==f){var g;if(db(a)&&!Wd(a))for(g in b=db(b[f])?b[f]:b[f]={},a)d&&(!0===d||d[g])?jb(b,g,a[g]):"__proto__"!==g&&(b[g]=a[g]);else b[f]=a}}function Ea(b,f){function a(t){d[t.name]||
(d[t.name]=1,g.push(t))}if(null==b)return f;const d={},g=[];f.forEach(a);b.forEach(a);return g}function ab(b){return null!=b?Wd(b)?b:[b]:[]}function bb(b){return"boolean"===typeof b}function Ca(b){return"number"===typeof b}function ma(b){return"string"===typeof b}function oa(b){return Wd(b)?"["+b.map(oa)+"]":db(b)||ma(b)?JSON.stringify(b).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):b}function Ia(b){const f={},a=b.length;for(let d=0;d<a;++d)f[b[d]]=!0;return f}function Ua(b,f){if(b.not)Ua(b.not,
f);else if(b.and)for(const a of b.and)Ua(a,f);else if(b.or)for(const a of b.or)Ua(a,f);else f(b)}function na(b,f){return b.not?{not:na(b.not,f)}:b.and?{and:b.and.map(a=>na(a,f))}:b.or?{or:b.or.map(a=>na(a,f))}:f(b)}function qa(b,f){const a={};for(const d of f)Nh.call(b,d)&&(a[d]=b[d]);return a}function Ta(b,f){b=Object.assign({},b);for(const a of f)delete b[a];return b}function ta(b){if(Ca(b))return b;b=ma(b)?b:vi(b);if(250>b.length)return b;let f=0;for(let a=0;a<b.length;a++){const d=b.charCodeAt(a);
f=(f<<5)-f+d;f&=f}return f}function Qa(b){return!1===b||null===b}function va(b,f){return-1<b.indexOf(f)}function S(b,f){let a=0;for(const d of b.entries()){const [g,t]=d;if(f(t,g,a++))return!0}return!1}function la(b,f){let a=0;for(const d of b.entries()){const [g,t]=d;if(!f(t,g,a++))return!1}return!0}function wa(b,...f){for(const d of f){f=b;var a=null!==d&&void 0!==d?d:{};for(const g of Zc(a))jb(f,g,a[g],!0)}return b}function Da(b,f){const a=[],d={};for(const g of b)b=f(g),b in d||(d[b]=1,a.push(g));
return a}function Oa(b,f){if(b.size!==f.size)return!1;for(const a of b)if(!f.has(a))return!1;return!0}function Ha(b,f){for(const a of b)if(f.has(a))return!0;return!1}function Va(b){const f=new Set;for(const a of b){const d=Fb(a).map((g,t)=>0===t?g:"[".concat(g,"]"));b=d.map((g,t)=>d.slice(0,t+1).join(""));for(const g of b)f.add(g)}return f}function Fa(b,f){return void 0===b||void 0===f?!0:Ha(Va(b),Va(f))}function E(b){return 0===Zc(b).length}function w(b){return!0===b||!1===b}function F(b){const f=
b.replace(/\W/g,"_");return(b.match(/^\d+/)?"_":"")+f}function Z(b,f){return b.not?"!("+Z(b.not,f)+")":b.and?"("+b.and.map(a=>Z(a,f)).join(") \x26\x26 (")+")":b.or?"("+b.or.map(a=>Z(a,f)).join(") || (")+")":f(b)}function D(b,f){if(0===f.length)return!0;const a=f.shift();a in b&&D(b[a],f)&&delete b[a];return E(b)}function P(b){return b.charAt(0).toUpperCase()+b.substr(1)}function N(b,f){f=void 0===f?"datum":f;b=Fb(b);const a=[];for(let d=1;d<=b.length;d++){const g="[".concat(b.slice(0,d).map(oa).join("]["),
"]");a.push("".concat(f).concat(g))}return a.join(" \x26\x26 ")}function Y(b,f){return"".concat(void 0===f?"datum":f,"[").concat(oa(Fb(b).join(".")),"]")}function ua(b){return b.replace(/(\[|\]|\.|'|")/g,"\\$1")}function Ga(b){return"".concat(Fb(b).map(ua).join("\\."))}function G(b,f,a){return b.replace(new RegExp(f.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$\x26"),"g"),a)}function ca(b){return"".concat(Fb(b).join("."))}function ba(b){return b?Fb(b).length:0}function V(...b){for(const f of b)if(void 0!==
f)return f}function H(b){const f=++dj;return b?String(b)+f:f}function p(b){return h(b)?b:"__".concat(b)}function h(b){return 0===b.indexOf("__")}function m(b){if(void 0!==b)return(b%360+360)%360}function n(b){return Ca(b)?!0:!isNaN(b)&&!isNaN(parseFloat(b))}function u(b){return b&&b.condition}function x(b){return!!b&&!!b.argmin}function L(b){return!!b&&!!b.argmax}function ia(b){return ma(b)&&!!ul[b]}function xa(b){return ma(b)&&va(Kk,b)}function Wa(b){switch(b){case "latitude":return"y";case "latitude2":return"y2";
case "longitude":return"x";case "longitude2":return"x2"}}function $a(b){return"color"===b||"fill"===b||"stroke"===b}function fb(b){return Ba(b)!==b}function Ba(b){switch(b){case "x2":return"x";case "y2":return"y";case "latitude2":return"latitude";case "longitude2":return"longitude";case "theta2":return"theta";case "radius2":return"radius"}return b}function T(b){if(b in jg)switch(b){case "theta":return"startAngle";case "theta2":return"endAngle";case "radius":return"outerRadius";case "radius2":return"innerRadius"}return b}
function da(b){switch(b){case "x":return"x2";case "y":return"y2";case "latitude":return"latitude2";case "longitude":return"longitude2";case "theta":return"theta2";case "radius":return"radius2"}}function Xa(b){switch(b){case "x":case "x2":return"width";case "y":case "y2":return"height"}}function zb(b){switch(b){case "x":return"xOffset";case "y":return"yOffset";case "x2":return"x2Offset";case "y2":return"y2Offset";case "theta":return"thetaOffset";case "radius":return"radiusOffset";case "theta2":return"theta2Offset";
case "radius2":return"radius2Offset"}}function xb(b){return"width"===b?"x":"y"}function Pb(b){switch(b){case "color":case "fill":case "stroke":case "description":case "detail":case "key":case "tooltip":case "href":case "order":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "facet":case "row":case "column":return Ai;case "x":case "y":case "latitude":case "longitude":return Bi;case "x2":case "y2":case "latitude2":case "longitude2":return{area:"always",bar:"always",image:"always",
rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case "size":return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case "strokeDash":return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case "shape":return{point:"always",geoshape:"always"};case "text":return{text:"always"};
case "angle":return{point:"always",square:"always",text:"always"};case "url":return{image:"always"};case "theta":return{text:"always",arc:"always"};case "radius":return{text:"always",arc:"always"};case "theta2":case "radius2":return{arc:"always"}}}function bc(b){switch(b){case "facet":case "row":case "column":case "shape":case "strokeDash":case "text":case "tooltip":case "href":case "url":case "description":return"discrete";case "color":case "fill":case "stroke":return"flexible"}}function Uc(b){bb(b)&&
(b=wb(b,void 0));return"bin"+Zc(b).map(f=>ya(b[f])?F("_".concat(f,"_").concat(ag(b[f]))):F("_".concat(f,"_").concat(b[f]))).join("")}function yc(b){return!0===b||db(b)&&!b.binned}function Vc(b){return"binned"===b||db(b)&&!0===b.binned}function ya(b){return null===b||void 0===b?void 0:b.selection}function Nb(b){switch(b){case "row":case "column":case "size":case "color":case "fill":case "stroke":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "shape":return 6;case "strokeDash":return 4;
default:return 10}}function Sb(b,f,a){f in b?Object.defineProperty(b,f,{value:a,enumerable:!0,configurable:!0,writable:!0}):b[f]=a;return b}function Zb(b,f,a){f=f.get(b);if(!f)throw new TypeError("attempted to set private field on non-instance");if(f.set)f.set.call(b,a);else{if(!f.writable)throw new TypeError("attempted to set read only private field");f.value=a}return a}function uc(b){return"Invalid specification ".concat(JSON.stringify(b),'. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".')}
function cc(b){return"".concat("width"==b?"Width":"Height",' "container" only works for single views and layered views.')}function gb(b){const f="width"==b?"x":"y";return"".concat("width"==b?"Width":"Height",' "container" only works well with autosize "fit" or "fit-').concat(f,'".')}function Kb(b){return b?'Dropping "fit-'.concat(b,'" because spec has discrete ').concat(Xa(b),"."):'Dropping "fit" because spec has discrete size.'}function Eb(b){return"Unknown field for ".concat(b,". Cannot calculate view size.")}
function Nc(b){return'Cannot project a selection on encoding channel "'.concat(b,'", which has no field.')}function dd(b,f){return'Cannot project a selection on encoding channel "'.concat(b,'" as it uses an aggregate function ("').concat(f,'").')}function Ic(b){return"Selection not supported for ".concat(b," yet.")}function Tc(b){return'The "columns" property cannot be used when "'.concat(b,'" has nested row/column.')}function xd(b,f,a){return'An ancestor parsed field "'.concat(b,'" as ').concat(a,
" but a child wants to parse the field as ").concat(f,".")}function tb(b){return"Config.customFormatTypes is not true, thus custom format type and format for channel ".concat(b," are dropped.")}function Jb(b,f){const {fill:a,stroke:d}=f;return"Dropping color ".concat(b," as the plot also has ").concat(a&&d?"fill and stroke":a?"fill":"stroke",".")}function Gc(b,f){return"Dropping ".concat(Re(b),' from channel "').concat(f,'" since it does not contain any data field, datum, value, or signal.')}function ke(b,
f,a){return"".concat(b,' dropped as it is incompatible with "').concat(f,'"').concat(a?" when ".concat(a):"",".")}function ge(b){return"".concat(b,"-encoding is dropped as ").concat(b," is not a valid encoding channel.")}function Ke(b,f){return'Using discrete channel "'.concat(b,'" to encode "').concat(f,'" field can be misleading as it does not encode ').concat("ordinal"===f?"order":"magnitude",".")}function Ye(b,f,a){return"".concat(a,"-scale's \"").concat(f,'" is dropped as it does not work with ').concat(b,
" scale.")}function J(b){return'The step for "'.concat(b,'" is dropped because the ').concat("width"===b?"x":"y"," is continuous.")}function ja(b){return'Cannot stack "'.concat(b,'" if there is already "').concat(b,'2".')}function Na(b,f){return"Invalid ".concat(b,": ").concat(Re(f),".")}function mb(b){return"1D error band does not support ".concat(b,".")}function Gb(b){return"Channel ".concat(b,' is required for "binned" bin.')}function lb(...b){ah.warn(...b)}function Xb(b){if(b&&db(b))for(const f of Bj)if(f in
b)return!0;return!1}function Rb(b){n(b)&&(b=+b);if(Ca(b))return b-1;{var f=b.toLowerCase();const a=hj.indexOf(f);if(-1!==a)return a;f=f.substr(0,3);f=gj.indexOf(f);if(-1!==f)return f;throw Error(Na("month",b));}}function ra(b){n(b)&&(b=+b);if(Ca(b))return b%7;{var f=b.toLowerCase();const a=Jk.indexOf(f);if(-1!==a)return a;f=f.substr(0,3);f=Yj.indexOf(f);if(-1!==f)return f;throw Error(Na("day",b));}}function Ra(b,f){const a=[];f&&void 0!==b.day&&1<Zc(b).length&&(lb("Dropping day from datetime ".concat(Re(b),
" as day cannot be combined with other units.")),b=oe(b),delete b.day);void 0!==b.year?a.push(b.year):a.push(2012);if(void 0!==b.month){var d=f?Rb(b.month):b.month;a.push(d)}else if(void 0!==b.quarter){if(f)if(d=b.quarter,n(d)&&(d=+d),Ca(d))4<d&&lb(Na("quarter",d)),--d;else throw Error(Na("quarter",d));else d=b.quarter;a.push(Ca(d)?3*d:d+"*3")}else a.push(0);void 0!==b.date?a.push(b.date):void 0!==b.day?(f=f?ra(b.day):b.day,a.push(Ca(f)?f+1:f+"+1")):a.push(1);for(const g of["hours","minutes","seconds",
"milliseconds"])f=b[g],a.push("undefined"===typeof f?0:f);return a}function rb(b){const f=Ra(b,!0).join(", ");return b.utc?"utc(".concat(f,")"):"datetime(".concat(f,")")}function Mb(b){const f=Ra(b,!0);return b.utc?+new Date(Date.UTC(...f)):+new Date(...f)}function dc(b){const f=[];for(const a of Bj)hc(b,a)&&f.push(a);return f}function hc(b,f){const a=b.indexOf(f);return 0>a||0<a&&"seconds"===f&&"i"===b.charAt(a-1)||b.length>a+3&&"day"===f&&"o"===b.charAt(a+3)||0<a&&"year"===f&&"f"===b.charAt(a-1)?
!1:!0}function sc(b){if(b)return b=dc(b),"timeUnitSpecifier(".concat(vi(b),", ").concat(vi(uk),")")}function sb(b){if(b){var f;ma(b)?f={unit:b}:db(b)&&(f=Object.assign({},b,b.unit?{unit:b.unit}:{}));f.unit.startsWith("utc")&&(f.utc=!0,f.unit=f.unit.substr(3));return f}}function gc(b){var f=sb(b);b=Object.assign({},f);f=f.utc;const a=(delete b.utc,b);return a.unit?(f?"utc":"")+Zc(a).map(d=>F("".concat("unit"===d?"":"_".concat(d,"_")).concat(a[d]))).join(""):(f?"utc":"")+"timeunit"+Zc(a).map(d=>F("_".concat(d,
"_").concat(a[d]))).join("")}function ic(b){return b&&!!b.signal}function Yb(b){return!!b.step}function lc(b){return Wd(b)?!1:"field"in b&&"data"in b}function Ec(b){return b&&!!b.field&&void 0!==b.equal}function Cc(b){return b&&!!b.field&&void 0!==b.lt}function id(b){return b&&!!b.field&&void 0!==b.lte}function jd(b){return b&&!!b.field&&void 0!==b.gt}function qd(b){return b&&!!b.field&&void 0!==b.gte}function ud(b){return b&&b.field&&(Wd(b.range)&&2===b.range.length||ic(b.range))?!0:!1}function be(b){return b&&
!!b.field&&(Wd(b.oneOf)||Wd(b.in))}function Yd(b){return be(b)||Ec(b)||ud(b)||Cc(b)||jd(b)||id(b)||qd(b)}function de(b,f){return Jc(b,{timeUnit:f,wrapTime:!0})}function ve(b,f){return b.map(a=>de(a,f))}function Ae(b,f){f=void 0===f?!0:f;var a,{field:d}=b;const g=null===(a=sb(b.timeUnit))||void 0===a?void 0:a.unit;if(g){{({end:a}={end:!1});d=N(d);const C=g.startsWith("utc")?"utc":"";const aa={};for(y of Bj)if(hc(g,y)){var t=y;t="quarter"===t?"(".concat(C,"quarter(").concat(d,")-1)"):"".concat(C).concat(t,
"(").concat(d,")");aa[y]=t;t=y}a&&(aa[t]+="+1");var y=aa;a=Ra(y,!1).join(", ");y=y.utc?"utc(".concat(a,")"):"datetime(".concat(a,")")}y="time("+y+")"}else y=ed(b,{expr:"datum"});if(Ec(b))return y+"\x3d\x3d\x3d"+de(b.equal,g);if(Cc(b))return f=b.lt,"".concat(y,"\x3c").concat(de(f,g));if(jd(b))return f=b.gt,"".concat(y,"\x3e").concat(de(f,g));if(id(b))return f=b.lte,"".concat(y,"\x3c\x3d").concat(de(f,g));if(qd(b))return f=b.gte,"".concat(y,"\x3e\x3d").concat(de(f,g));if(be(b))return"indexof([".concat(ve(b.oneOf,
g).join(","),"], ").concat(y,") !\x3d\x3d -1");if(b&&b.field&&void 0!==b.valid)return We(y,b.valid);if(ud(b)){({range:a}=b);b=ic(a)?{signal:"".concat(a.signal,"[0]")}:a[0];a=ic(a)?{signal:"".concat(a.signal,"[1]")}:a[1];if(null!==b&&null!==a&&f)return"inrange("+y+", ["+de(b,g)+", "+de(a,g)+"])";f=[];null!==b&&f.push("".concat(y," \x3e\x3d ").concat(de(b,g)));null!==a&&f.push("".concat(y," \x3c\x3d ").concat(de(a,g)));return 0<f.length?f.join(" \x26\x26 "):"true"}throw Error("Invalid field predicate: ".concat(JSON.stringify(b)));
}function We(b,f){return void 0===f||f?"isValid(".concat(b,") \x26\x26 isFinite(+").concat(b,")"):"!isValid(".concat(b,") || !isFinite(+").concat(b,")")}function zd(b){if(Yd(b)&&b.timeUnit){var f;return Object.assign({},b,{timeUnit:null===(f=sb(b.timeUnit))||void 0===f?void 0:f.unit})}return b}function Ld(b){if(b)switch(b=b.toLowerCase(),b){case "q":case "quantitative":return"quantitative";case "t":case "temporal":return"temporal";case "o":case "ordinal":return"ordinal";case "n":case "nominal":return"nominal";
case "geojson":return"geojson"}}function ef(b){return null===b||void 0===b?void 0:b.selection}function me(b,f){switch(f){case "type":case "domain":case "reverse":case "range":return!0;case "scheme":case "interpolate":return!va(["point","band","identity"],b);case "bins":return!va(["point","band","identity","ordinal"],b);case "round":return b in eb||"band"===b||"point"===b;case "padding":case "rangeMin":case "rangeMax":return b in eb||va(["point","band"],b);case "paddingOuter":case "align":return va(["point",
"band"],b);case "paddingInner":return"band"===b;case "domainMax":case "domainMid":case "domainMin":case "clamp":return b in eb;case "nice":return b in eb||"quantize"===b||"threshold"===b;case "exponent":return"pow"===b;case "base":return"log"===b;case "constant":return"symlog"===b;case "zero":return b in Bc&&!va(["log","time","utc","threshold","quantile"],b)}}function W(b,f){switch(f){case "interpolate":case "scheme":case "domainMid":if(!$a(b))return'Cannot use the scale property "'.concat(b,'" with non-color channel.')}}
function ha(b,f){if(!tg[b])return!1;switch(b){case "x":case "y":case "theta":case "radius":return f in eb||va(["band","point"],f);case "size":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "angle":return f in eb||f in Qb||va(["band","point","ordinal"],f);case "color":case "fill":case "stroke":return"band"!==f;case "strokeDash":return"ordinal"===f||f in Qb;case "shape":return"ordinal"===f}}function za(b){return b&&!!b.expr}function ob(b){const f=Zc(b||{}),a={};for(const d of f)a[d]=
pd(b[d]);return a}function Za(b){return va(["line","area","trail"],b)}function vb(b){return b.type}function Tb(b){const {channel:f,channelDef:a,markDef:d,scale:g,config:t}=b;b=fd(b);return Oc(a)&&!xa(a.aggregate)&&g&&g.get("type")in eb&&!1===g.get("zero")?oc({fieldDef:a,channel:f,markDef:d,ref:b,config:t}):b}function oc(b){var {fieldDef:f,channel:a,markDef:d,ref:g,config:t}=b;if(Za(d.type)||null===ae("invalid",d,t))return g;{b=Yc(f,!0);const y="y"===Ba(a)?{field:{group:"height"}}:{value:0};b=Object.assign({},
{test:b},y)}return[b,g]}function Yc(b,f){f=void 0===f?!0:f;return We(ma(b)?b:ed(b,{expr:"datum"}),!f)}function pc(b,f,a,d){const g={};f&&(g.scale=f);Od(b)?({datum:b}=b,Xb(b)?g.signal=rb(b):ic(b)?g.signal=b.signal:za(b)?g.signal=b.expr:g.value=b):g.field=ed(b,a);if(d){const {offset:t,band:y}=d;t&&(g.offset=t);y&&(g.band=y)}return g}function Fc(b){var {scaleName:f,fieldOrDatumDef:a,fieldOrDatumDef2:d,offset:g,startSuffix:t,band:y=.5}=b,C=0<y&&1>y?"datum":void 0;b=ed(a,{expr:C,suffix:t});const aa=void 0!==
d?ed(d,{expr:C}):ed(a,{suffix:"end",expr:C});C={};0===y||1===y?(C.scale=f,C.field=0===y?b:aa):(b="".concat(y," * ").concat(b," + ").concat(1-y," * ").concat(aa),C.signal='scale("'.concat(f,'", ').concat(b,")"));g&&(C.offset=g);return C}function fd(b){var {channel:f,channelDef:a,channel2Def:d,markDef:g,config:t,scaleName:y,scale:C,stack:aa,offset:pa,defaultRef:cb,band:ib}=b;if(a){if(td(a)){var Ib,qc;if(vd(a)){var xc;ib=null!==(xc=ib)&&void 0!==xc?xc:Wc({channel:f,fieldDef:a,fieldDef2:d,markDef:g,stack:aa,
config:t,isMidPoint:!0});const {bin:Dc,timeUnit:cd,type:kd}=a;if(yc(Dc)||ib&&cd&&"temporal"===kd)return aa&&aa.impute?pc(a,y,{binSuffix:"mid"},{offset:pa}):ib?Fc({scaleName:y,fieldOrDatumDef:a,band:ib,offset:pa}):pc(a,y,Xc(a,f)?{binSuffix:"range"}:{},{offset:pa});if(Vc(Dc)){if(Oc(d))return Fc({scaleName:y,fieldOrDatumDef:a,fieldOrDatumDef2:d,band:ib,offset:pa});lb(Gb("x"===f?"x2":"y2"))}}b=null===C||void 0===C?void 0:C.get("type");return pc(a,y,b in sd?{binSuffix:"range"}:{},{offset:pa,band:"band"===
b?null!==(Ib=null!==(qc=ib)&&void 0!==qc?qc:a.band)&&void 0!==Ib?Ib:.5:void 0})}if(ie(a))return Ib=pa?{offset:pa}:{},Object.assign({},Dd(f,a.value),Ib)}"function"===typeof cb&&(cb=cb());return cb?Object.assign({},cb,pa?{offset:pa}:{}):cb}function Dd(b,f){return va(["x","x2"],b)&&"width"===f?{field:{group:"width"}}:va(["y","y2"],b)&&"height"===f?{field:{group:"height"}}:Cd(f)}function $b(b){return b&&"number"!==b&&"time"!==b}function Md(b,f,a){return"".concat(b,"(").concat(f).concat(a?", ".concat(JSON.stringify(a)):
"",")")}function Jd(b){var {fieldOrDatumDef:f,format:a,formatType:d,expr:g,normalizeStack:t,config:y}=b;if($b(d))return ne({fieldOrDatumDef:f,format:a,formatType:d,expr:g,config:y});b=Hb(f,g,t);if(Wb(f)){var C,aa;var pa=Oc(f)?null===(C=sb(f.timeUnit))||void 0===C?void 0:C.unit:void 0,cb=a,ib=y.timeFormat;C=ye(f)&&(null===(aa=f.scale)||void 0===aa?void 0:aa.type)===e.UTC;!pa||cb?(cb=ma(cb)?cb:ib,b="".concat(C?"utc":"time","Format(").concat(b,", '").concat(cb,"')")):pa?(aa=sc(pa),pa=C||pa.startsWith("utc"),
b="".concat(pa?"utc":"time","Format(").concat(b,", ").concat(aa,")")):b=void 0;return b?{signal:b}:void 0}a=jf(Vd(f),a,y);return Oc(f)&&yc(f.bin)?(aa=ed(f,{expr:g,binSuffix:"end"}),{signal:Ge(b,aa,a,d,y)}):a||"quantitative"===Vd(f)?{signal:"".concat(Je(b,a))}:{signal:"isValid(".concat(b,") ? ").concat(b,' : ""+').concat(b)}}function Hb(b,f,a){if(Oc(b))return a?"".concat(ed(b,{expr:f,suffix:"end"}),"-").concat(ed(b,{expr:f,suffix:"start"})):ed(b,{expr:f});({datum:b}=b);b=Xb(b)?rb(b):"".concat(JSON.stringify(b));
return b}function ne(b){var {fieldOrDatumDef:f,format:a,formatType:d,expr:g,normalizeStack:t,config:y,field:C}=b,aa;C=null!==(aa=C)&&void 0!==aa?aa:Hb(f,g,t);return Oc(f)&&yc(f.bin)?(b=ed(f,{expr:g,binSuffix:"end"}),{signal:Ge(C,b,a,d,y)}):{signal:Md(d,C,a)}}function le(b,f,a,d,g,t){if(!$b(d)){if(Wb(b)){var y;b=Oc(b)?null===(y=sb(b.timeUnit))||void 0===y?void 0:y.unit:void 0;a=a?a:b?{signal:sc(b)}:t?void 0:g.timeFormat;return a}return jf(f,a,g)}}function xe(b,f,a){if(b&&(ic(b)||"number"===b||"time"===
b))return b;if(Wb(f)&&"time"!==a&&"utc"!==a)return"time"}function jf(b,f,a){if(ma(f))return f;if("quantitative"===b)return a.numberFormat}function Je(b,f){return"format(".concat(b,', "').concat(f||"",'")')}function Ze(b,f,a,d){var g;return $b(a)?Md(a,b,f):Je(b,null!==(g=ma(f)?f:void 0)&&void 0!==g?g:d.numberFormat)}function Ge(b,f,a,d,g){const t=Ze(b,a,d,g);f=Ze(f,a,d,g);return"".concat(We(b,!1),' ? "null" : ').concat(t,' + "').concat("  ",'" + ').concat(f)}function Nd(b){return!!b&&("count"===b.op||
!!b.field)}function ec(b){return!!b&&Wd(b)}function Hd(b){return"row"in b||"column"in b}function fc(b){const {field:f,timeUnit:a,bin:d,aggregate:g}=b;return Object.assign({},a?{timeUnit:a}:{},d?{bin:d}:{},g?{aggregate:g}:{},{field:f})}function Wc(b){var {channel:f,fieldDef:a,fieldDef2:d,markDef:g,stack:t,config:y,isMidPoint:C}=b;if(td(a)&&void 0!==a.band)return a.band;if(Oc(a)){const {timeUnit:aa,bin:pa}=a;if(aa&&!d)return C?gf("timeUnitBandPosition",g,y):va(["rect","bar","image","arc"],g.type)?gf("timeUnitBand",
g,y):0;if(yc(pa))return va(["rect","bar","image","arc"],g.type)&&!C?1:.5}if((null===t||void 0===t?void 0:t.fieldChannel)===f&&C)return.5}function re(b,f,a,d,g,t){return yc(f.bin)||f.timeUnit&&vd(f)&&"temporal"===f.type?!!Wc({channel:b,fieldDef:f,fieldDef2:a,stack:d,markDef:g,config:t}):!1}function Rd(b){b=b&&b.condition;return!!b&&!Wd(b)&&Oc(b)}function Zd(b){b=b&&b.condition;return!!b&&!Wd(b)&&td(b)}function Oc(b){return!!b&&(!!b.field||"count"===b.aggregate)}function Vd(b){return b&&b.type}function Od(b){return!!b&&
"datum"in b}function Kd(b){return vd(b)&&!ze(b)||Pe(b)}function Pe(b){return Od(b)&&Ca(b.datum)}function td(b){return Oc(b)||Od(b)}function vd(b){return!!b&&("field"in b||"count"===b.aggregate)&&"type"in b}function ie(b){return b&&"value"in b&&"value"in b}function ye(b){return!!b&&("scale"in b||"sort"in b)}function af(b){return b&&("axis"in b||"stack"in b||"impute"in b)}function tf(b){return!!b&&("format"in b||"formatType"in b)}function Ff(b){return Ta(b,["legend","axis","header","scale"])}function ed(b,
f){f=void 0===f?{}:f;let a=b.field;const d=f.prefix;let g=f.suffix,t="";if("count"===b.aggregate)a=p("count");else{let pa;if(!f.nofn)if("op"in b)pa=b.op;else{const {bin:cb,aggregate:ib,timeUnit:Ib}=b;if(yc(cb)){var y,C;pa=Uc(cb);g=(null!==(y=f.binSuffix)&&void 0!==y?y:"")+(null!==(C=f.suffix)&&void 0!==C?C:"")}else if(ib)L(ib)?(t='["'.concat(a,'"]'),a="argmax_".concat(ib.argmax)):x(ib)?(t='["'.concat(a,'"]'),a="argmin_".concat(ib.argmin)):pa=String(ib);else if(Ib){var aa;pa=gc(Ib);g=(!va(["range",
"mid"],f.binSuffix)&&f.binSuffix||"")+(null!==(aa=f.suffix)&&void 0!==aa?aa:"")}}pa&&(a=a?"".concat(pa,"_").concat(a):pa)}g&&(a="".concat(a,"_").concat(g));d&&(a="".concat(d,"_").concat(a));return f.forAs?ca(a):f.expr?Y(a,f.expr)+t:Ga(a)+t}function ze(b){switch(b.type){case "nominal":case "ordinal":case "geojson":return!0;case "quantitative":return Oc(b)&&!!b.bin;case "temporal":return!1}throw Error('Invalid field type "'.concat(b.type,'".'));}function Se(b,f){const {field:a,bin:d,timeUnit:g,aggregate:t}=
b;if("count"===t)return f.countTitle;if(yc(d))return"".concat(a," (binned)");if(g){var y;if(b=null===(y=sb(g))||void 0===y?void 0:y.unit)return"".concat(a," (").concat(dc(b).join("-"),")")}else if(t)return L(t)?"".concat(a," for max ").concat(t.argmax):x(t)?"".concat(a," for min ").concat(t.argmin):"".concat(P(t)," of ").concat(a);return a}function Te(b,f,a){var {allowDisabling:d,includeDefault:g=!0}=a,t;a=null===(t=of(b))||void 0===t?void 0:t.title;if(!Oc(b))return a;f=g?ik(b,f):void 0;if(d)return V(a,
b.title,f);var y;return null!==(y=null!==a&&void 0!==a?a:b.title)&&void 0!==y?y:f}function of(b){if(af(b)&&b.axis)return b.axis;if(b&&"legend"in b&&b.legend)return b.legend;if(b&&"header"in b&&b.header)return b.header}function pf(b){if(tf(b)){const {format:a,formatType:d}=b;return{format:a,formatType:d}}{var f;b=null!==(f=of(b))&&void 0!==f?f:{};const {format:a,formatType:d}=b;return{format:a,formatType:d}}}function bf(b,f){var a;switch(f){case "latitude":case "longitude":return"quantitative";case "row":case "column":case "facet":case "shape":case "strokeDash":return"nominal";
case "order":return"ordinal"}if("sort"in b&&Wd(b.sort))return"ordinal";const {aggregate:d,bin:g,timeUnit:t}=b;if(t)return"temporal";if(g||d&&!L(d)&&!x(d))return"quantitative";if(ye(b)&&(null===(a=b.scale)||void 0===a?0:a.type))switch(r[b.scale.type]){case "numeric":case "discretizing":return"quantitative";case "time":return"temporal"}return"nominal"}function De(b){if(Oc(b))return b;if(Rd(b))return b.condition}function z(b){if(td(b))return b;if(Zd(b))return b.condition}function O(b,f,a,d){d=void 0===
d?{}:d;return ma(b)||Ca(b)||bb(b)?(a=ma(b)?"string":Ca(b)?"number":"boolean",f="Channel ".concat(f," is a ").concat(a,". Converted to {value: ").concat(Re(b),"}."),lb(f),{value:b}):td(b)?Ka(b,f,a,d):Zd(b)?Object.assign({},b,{condition:Ka(b.condition,f,a,d)}):b}function Ka(b,f,a,d){if(tf(b)){var g=Object.assign({},b),t=b.formatType;g=(delete g.format,delete g.formatType,g);if($b(t)&&!a.customFormatTypes)return lb(tb(f)),Ka(g,f,a,d)}else if((t=af(b)?"axis":b&&"legend"in b?"legend":b&&"header"in b?"header":
null)&&b[t]){var y=b[t];g=Object.assign({},y);y=y.formatType;g=(delete g.format,delete g.formatType,g);if($b(y)&&!a.customFormatTypes)return lb(tb(f)),Ka(Object.assign({},b,{[t]:g}),f,a,d)}if(Oc(b))return ub(b,f,d);f=b.type;f||({datum:f}=b,f=Ca(f)?"quantitative":ma(f)?"nominal":Xb(f)?"temporal":void 0,b=Object.assign({},b,{type:f}));return b}function ub(b,f,a){({compositeMark:a=!1}=void 0===a?{}:a);const {aggregate:d,timeUnit:g,bin:t,field:y}=b;b=Object.assign({},b);a||!d||ia(d)||L(d)||x(d)||(lb('Invalid aggregation operator "'.concat(d,
'".')),delete b.aggregate);g&&(b.timeUnit=sb(g));y&&(b.field="".concat(y));yc(t)&&(b.bin=wb(t,f));!Vc(t)||f in Cf||lb("Channel ".concat(f,' should not be used with "binned" bin.'));if(vd(b)){({type:a}=b);var C=Ld(a);a!==C&&(b.type=C);"quantitative"!==a&&xa(d)&&(a='Invalid field type "'.concat(a,'" for aggregate: "').concat(d,'", using "quantitative" instead.'),lb(a),b.type="quantitative")}else fb(f)||(a=bf(b,f),b.type=a);if(vd(b)){const {compatible:aa,warning:pa}=Lb(b,f)||{};!1===aa&&lb(pa)}if("sort"in
b&&ma(b.sort)){({sort:f}=b);if(f in Sl)return Object.assign({},b,{sort:{encoding:f}});a=f.substr(1);if("-"===f.charAt(0)&&a in Sl)return Object.assign({},b,{sort:{encoding:a,order:"descending"}})}return b&&"header"in b&&({header:f}=b,C=f,a=Object.assign({},C),C=C.orient,a=(delete a.orient,a),C)?Object.assign({},b,{header:Object.assign({},a,{labelOrient:f.labelOrient||C,titleOrient:f.titleOrient||C})}):b}function wb(b,f){return bb(b)?{maxbins:Nb(f)}:"binned"===b?{binned:!0}:b.maxbins||b.step?b:Object.assign({},
b,{maxbins:Nb(f)})}function Lb(b,f){const a=b.type;if("geojson"===a&&"shape"!==f)return{compatible:!1,warning:"Channel ".concat(f," should not be used with a geojson data.")};switch(f){case "row":case "column":case "facet":return ze(b)?Gi:{compatible:!1,warning:"".concat(f," encoding should be discrete (ordinal / nominal / binned).")};case "x":case "y":case "color":case "fill":case "stroke":case "text":case "detail":case "key":case "tooltip":case "href":case "url":case "angle":case "theta":case "radius":case "description":return Gi;
case "longitude":case "longitude2":case "latitude":case "latitude2":return"quantitative"!==a?{compatible:!1,warning:"Channel ".concat(f," should be used with a quantitative field only, not ").concat(b.type," field.")}:Gi;case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "size":case "theta2":case "radius2":case "x2":case "y2":return"nominal"!==a||b.sort?Gi:{compatible:!1,warning:"Channel ".concat(f," should not be used with an unsorted discrete field.")};case "strokeDash":return va(["ordinal",
"nominal"],b.type)?Gi:{compatible:!1,warning:"StrokeDash channel should be used with only discrete data."};case "shape":return va(["ordinal","nominal","geojson"],b.type)?Gi:{compatible:!1,warning:"Shape channel should be used with only either discrete or geojson data."};case "order":return"nominal"!==b.type||"sort"in b?Gi:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}function Wb(b){var {formatType:f}=pf(b),a;if(!(a="time"===f)){if(f=!f)f=
b&&("temporal"===b.type||Oc(b)&&!!b.timeUnit);a=f}return a}function Jc(b,f){var {timeUnit:a,type:d,wrapTime:g,undefinedIfExprNotRequired:t}=f;var y=(f=a&&(null===(y=sb(a))||void 0===y?void 0:y.unit))||"temporal"===d;let C;za(b)?C=b.expr:ic(b)?C=b.signal:Xb(b)?(y=!0,C=rb(b)):(ma(b)||Ca(b))&&y&&(C="datetime(".concat(JSON.stringify(b),")"),ej[f]&&(Ca(b)&&1E4>b||ma(b)&&isNaN(Date.parse(b)))&&(C=rb({[f]:b})));return C?g&&y?"time(".concat(C,")"):C:t?void 0:JSON.stringify(b)}function Ac(b,f){const {type:a}=
b;return f.map(d=>{const g=Jc(d,{timeUnit:Oc(b)?b.timeUnit:void 0,type:a,undefinedIfExprNotRequired:!0});return void 0!==g?{signal:g}:d})}function Xc(b,f){return yc(b.bin)?!!tg[f]&&va(["ordinal","nominal"],b.type):(console.warn("Only call this method for binned field defs."),!1)}function od(b){var f=Object.assign({},b),a=b.anchor;const d=b.frame,g=b.offset,t=b.orient;var y=b.color,C=b.subtitleColor,aa=b.subtitleFont;const pa=b.subtitleFontSize,cb=b.subtitleFontStyle,ib=b.subtitleFontWeight,Ib=b.subtitleLineHeight;
b=b.subtitlePadding;f=(delete f.anchor,delete f.frame,delete f.offset,delete f.orient,delete f.color,delete f.subtitleColor,delete f.subtitleFont,delete f.subtitleFontSize,delete f.subtitleFontStyle,delete f.subtitleFontWeight,delete f.subtitleLineHeight,delete f.subtitlePadding,f);y=Object.assign({},f,y?{fill:y}:{});a=Object.assign({},a?{anchor:a}:{},d?{frame:d}:{},g?{offset:g}:{},t?{orient:t}:{});C=Object.assign({},C?{subtitleColor:C}:{},aa?{subtitleFont:aa}:{},pa?{subtitleFontSize:pa}:{},cb?{subtitleFontStyle:cb}:
{},ib?{subtitleFontWeight:ib}:{},Ib?{subtitleLineHeight:Ib}:{},b?{subtitlePadding:b}:{});aa=qa(y,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:y,subtitleMarkConfig:aa,nonMark:a,subtitle:C}}function Bd(b){return ma(b)||Wd(b)&&ma(b[0])}function $d(b){const f=Wd(b.condition)?b.condition.map(Le):Le(b.condition);return Object.assign({},pd(b),{condition:f})}function pd(b){if(za(b)){var f=Object.assign({},b);b=b.expr;f=(delete f.expr,f);return Object.assign({},{signal:b},f)}return b}function Le(b){if(za(b)){var f=
Object.assign({},b);b=b.expr;f=(delete f.expr,f);return Object.assign({},{signal:b},f)}return b}function Cd(b){if(za(b)){var f=Object.assign({},b);b=b.expr;f=(delete f.expr,f);return Object.assign({},{signal:b},f)}return ic(b)?b:void 0!==b?{value:b}:void 0}function se(b){return ic(b)?b.signal:oa(b.value)}function ee(b){return ic(b)?b.signal:null==b?null:oa(b)}function pe(b,f,a){for(const d of a)a=gf(d,f.markDef,f.config),void 0!==a&&(b[d]=Cd(a));return b}function xf(b){var f;return[].concat(b.type,
null!==(f=b.style)&&void 0!==f?f:[])}function ae(b,f,a,d){d=void 0===d?{}:d;const {vgChannel:g,ignoreVgConfig:t}=d;if(g&&void 0!==f[g])return f[g];if(void 0!==f[b])return f[b];if(!t||g&&g!==b)return gf(b,f,a,d)}function gf(b,f,a,d){({vgChannel:d}=void 0===d?{}:d);return V(d?lf(b,f,a.style):void 0,lf(b,f,a.style),d?a[f.type][d]:void 0,a[f.type][b],d?a.mark[d]:a.mark[b])}function lf(b,f,a){return bg(b,xf(f),a)}function bg(b,f,a){f=ab(f);let d;for(const g of f)(f=a[g])&&void 0!==f[b]&&(d=f[b]);return d}
function Af(b,f){return ab(b).reduce((a,d)=>{var g;a.field.push(ed(d,f));a.order.push(null!==(g=d.sort)&&void 0!==g?g:"ascending");return a},{field:[],order:[]})}function Xf(b,f){const a=[...b];f.forEach(d=>{for(const g of a)if(Oh(g,d))return;a.push(d)});return a}function A(b,f){return Oh(b,f)||!f?b:b?[...ab(b),...ab(f)].join(", "):f}function B(b,f){const a=b.value;f=f.value;if(null==a||null===f)return{explicit:b.explicit,value:null};if((Bd(a)||ic(a))&&(Bd(f)||ic(f)))return{explicit:b.explicit,value:A(a,
f)};if(Bd(a)||ic(a))return{explicit:b.explicit,value:a};if(Bd(f)||ic(f))return{explicit:b.explicit,value:f};if(!(Bd(a)||ic(a)||Bd(f)||ic(f)))return{explicit:b.explicit,value:Xf(a,f)};throw Error("It should never reach here");}function I(b){return"mark"in b}function Q(b,f){return(b=b&&b[f])?Wd(b)?S(b,a=>!!a.field):Oc(b)||Rd(b):!1}function ea(b){return S(Uj,f=>Q(b,f)?(f=b[f],Wd(f)?S(f,a=>!!a.aggregate):(f=De(f))&&!!f.aggregate):!1)}function ka(b,f){const a=[],d=[],g=[],t=[],y={};nb(b,(C,aa)=>{if(Oc(C)){var pa=
Object.assign({},C),cb=C.field;const Ib=C.aggregate,qc=C.bin,xc=C.timeUnit;pa=(delete pa.field,delete pa.aggregate,delete pa.bin,delete pa.timeUnit,pa);if(Ib||xc||qc){var ib=of(C);const Dc=ib&&ib.title;ib=ed(C,{forAs:!0});pa=Object.assign({},Dc?[]:{title:Te(C,f,{allowDisabling:!0})},pa,{field:ib});if(Ib){let cd;L(Ib)?(cd="argmax",ib=ed({op:"argmax",field:Ib.argmax},{forAs:!0}),pa.field="".concat(ib,".").concat(cb)):x(Ib)?(cd="argmin",ib=ed({op:"argmin",field:Ib.argmin},{forAs:!0}),pa.field="".concat(ib,
".").concat(cb)):"boxplot"!==Ib&&"errorbar"!==Ib&&"errorband"!==Ib&&(cd=Ib);cd&&(C={op:cd,as:ib},cb&&(C.field=cb),t.push(C))}else a.push(ib),vd(C)&&yc(qc)?(d.push({bin:qc,field:cb,as:ib}),a.push(ed(C,{binSuffix:"end"})),Xc(C,aa)&&a.push(ed(C,{binSuffix:"range"})),aa in Cf&&(y[aa+"2"]={field:ib+"_end"}),pa.bin="binned",fb(aa)||(pa.type="quantitative")):xc&&(g.push({timeUnit:xc,field:cb,as:ib}),(cb=vd(C)&&"temporal"!==C.type&&"time")&&("text"===aa||"tooltip"===aa?pa.formatType=cb:vg[aa]?pa.legend=Object.assign({},
{formatType:cb},pa.legend):aa in Cf&&(pa.axis=Object.assign({},{formatType:cb},pa.axis))));y[aa]=pa}else a.push(cb),y[aa]=b[aa]}else y[aa]=b[aa]});return{bins:d,timeUnits:g,aggregate:t,groupby:a,encoding:y}}function Aa(b,f,a){a=Pb(f)[a];return a&&("binned"!==a||(a=b["x2"===f?"x":"y"],Oc(a)&&Oc(b[f])&&Vc(a.bin)))?!0:!1}function Ya(b,f,a,d){return Zc(b).reduce((g,t)=>{if(!th[t])return lb(ge(t)),g;const y=b[t];"angle"!==t||"arc"!==f||b.theta||(lb("Arc marks uses theta channel rather than angle, replacing angle with theta."),
t="theta");if(!Aa(b,t,f))return lb(ke(t,f)),g;if("size"===t&&"line"===f){const C=De(b[t]);if(null===C||void 0===C?0:C.aggregate)return lb("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead."),g}if("color"===t&&(a?"fill"in b:"stroke"in b))return lb(Jb("encoding",{fill:"fill"in b,stroke:"stroke"in b})),g;if("detail"===t||"order"===t&&!Wd(y)&&!ie(y)||"tooltip"===t&&Wd(y))y&&(g[t]=ab(y).reduce((C,aa)=>{Oc(aa)?C.push(ub(aa,t)):lb(Gc(aa,t));return C},[]));else{if("tooltip"===
t&&null===y)g[t]=null;else if(!(Oc(y)||Od(y)||ie(y)||y&&"condition"in y||ic(y)))return lb(Gc(y,t)),g;g[t]=O(y,t,d)}return g},{})}function Sa(b,f){const a={};for(const d of Zc(b)){const g=O(b[d],d,f,{compositeMark:!0});a[d]=g}return a}function hb(b){const f=[];for(const a of Zc(b))if(Q(b,a)){const d=ab(b[a]);for(const g of d)Oc(g)?f.push(g):Rd(g)&&f.push(g.condition)}return f}function nb(b,f,a){if(b)for(const d of Zc(b)){const g=b[d];if(Wd(g))for(const t of g)f.call(a,t,d);else f.call(a,g,d)}}function Db(b,
f,a,d){return b?Zc(b).reduce((g,t)=>{const y=b[t];return Wd(y)?y.reduce((C,aa)=>f.call(d,C,aa,t),g):f.call(d,g,y,t)},a):a}function Ub(b,f){return Zc(f).reduce((a,d)=>{switch(d){case "x":case "y":case "href":case "description":case "url":case "x2":case "y2":case "theta":case "theta2":case "radius":case "radius2":case "latitude":case "longitude":case "latitude2":case "longitude2":case "text":case "shape":case "angle":case "tooltip":return a;case "order":if("line"===b||"trail"===b)return a;case "detail":case "key":d=
f[d];if(Wd(d)||Oc(d))for(var g of ab(d))g.aggregate||a.push(ed(g,{}));return a;case "size":if("trail"===b)return a;case "color":case "fill":case "stroke":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeDash":case "strokeWidth":return(g=De(f[d]))&&!g.aggregate&&a.push(ed(g,{})),a}},[])}function l(b,f,a,d){d=void 0===d?!0:d;if("tooltip"in a)return{tooltip:a.tooltip};b=b.map(g=>{var {fieldPrefix:t,titlePrefix:y}=g;g=d?" of ".concat(v(f)):"";return{field:t+f.field,type:f.type,title:ic(y)?
{signal:y+'"'.concat(escape(g),'"')}:y+g}});a=hb(a).map(Ff);return{tooltip:[...b,...Da(a,ta)]}}function v(b){const {title:f,field:a}=b;return V(f,a)}function M(b,f,a,d,g){const {scale:t,axis:y}=a;return C=>{var {partName:aa,mark:pa,positionPrefix:cb,endPositionPrefix:ib,extraEncoding:Ib={}}=C;C=v(a);return U(b,aa,g,{mark:pa,encoding:Object.assign({},{[f]:Object.assign({},{field:cb+"_"+a.field,type:a.type},void 0!==C?{title:C}:{},void 0!==t?{scale:t}:{},void 0!==y?{axis:y}:{})},ma(ib)?{[f+"2"]:{field:ib+
"_"+a.field}}:{},d,Ib)})}}function U(b,f,a,d){const {clip:g,color:t,opacity:y}=b,C=b.type;return b[f]||void 0===b[f]&&a[f]?[Object.assign({},d,{mark:Object.assign({},a[f],g?{clip:g}:{},t?{color:t}:{},y?{opacity:y}:{},vb(d.mark)?d.mark:{type:d.mark},{style:"".concat(C,"-").concat(f)},bb(b[f])?{}:b[f])})]:[]}function La(b,f,a){({encoding:b}=b);f="vertical"===f?"y":"x";const d=b[f+"2"],g=b[f+"Error"],t=b[f+"Error2"];return{continuousAxisChannelDef:qb(b[f],a),continuousAxisChannelDef2:qb(d,a),continuousAxisChannelDefError:qb(g,
a),continuousAxisChannelDefError2:qb(t,a),continuousAxis:f}}function qb(b,f){if(b&&b.aggregate){var a=Object.assign({},b);b=b.aggregate;a=(delete a.aggregate,a);b!==f&&(f="Continuous axis should not have customized aggregation function ".concat(b,"; ").concat(f," already agregates the axis."),lb(f));return a}return b}function yb(b,f){const {mark:a,encoding:d}=b,{x:g,y:t}=d;if(vb(a)&&a.orient)return a.orient;if(Kd(g)){if(Kd(t)){b=Oc(g)&&g.aggregate;const y=Oc(t)&&t.aggregate;if(!b&&y===f)return"vertical";
if(y||b!==f){if(b===f&&y===f)throw Error("Both x and y cannot have aggregate");return Wb(t)&&!Wb(g)?"horizontal":"vertical"}}return"horizontal"}if(Kd(t))return"vertical";throw Error("Need a valid continuous axis for ".concat(f,"s"));}function Ob(b){return Ca(b)?"tukey":b}function ac(b,f){var {config:a}=f,d,g=b=Object.assign({},b,{encoding:Sa(b.encoding,a)});f=Object.assign({},g);var t=g.mark;g=g.selection;f=(delete f.mark,delete f.encoding,delete f.selection,delete f.projection,f);t=vb(t)?t:{type:t};
g&&lb(Ic("boxplot"));g=null!==(d=t.extent)&&void 0!==d?d:a.boxplot.extent;var y=ae("size",t,a);d=Ob(g);var C;{var aa=b;b=yb(aa,"boxplot");const {continuousAxisChannelDef:Xe,continuousAxis:Gf}=La(aa,b,"boxplot");var pa=Xe.field,cb=Ob(g),ib=[...zc(pa),{op:"median",field:pa,as:"mid_box_"+pa},{op:"min",field:pa,as:("min-max"===cb?"lower_whisker_":"min_")+pa},{op:"max",field:pa,as:("min-max"===cb?"upper_whisker_":"max_")+pa}];pa="min-max"===cb||"tukey"===cb?[]:[{calculate:'datum["upper_box_'.concat(pa,
'"] - datum["lower_box_').concat(pa,'"]'),as:"iqr_"+pa},{calculate:'min(datum["upper_box_'.concat(pa,'"] + datum["iqr_').concat(pa,'"] * ').concat(g,', datum["max_').concat(pa,'"])'),as:"upper_whisker_"+pa},{calculate:'max(datum["lower_box_'.concat(pa,'"] - datum["iqr_').concat(pa,'"] * ').concat(g,', datum["min_').concat(pa,'"])'),as:"lower_whisker_"+pa}];aa=Object.assign({},aa.encoding);cb=(delete aa[Gf],aa);aa=Object.assign({},cb);cb=cb.tooltip;aa=(delete aa.tooltip,aa);if(cb){var Ib;if(Wd(cb)){for(var qc of cb)qc.aggregate?
(C||(C=[]),C.push(qc)):(Ib||(Ib=[]),Ib.push(qc));C&&(aa.tooltip=C)}else cb.aggregate?aa.tooltip=cb:Ib=cb;Wd(Ib)&&1===Ib.length&&(Ib=Ib[0]);C={customTooltipWithoutAggregatedField:Ib,filteredEncoding:aa}}else C={filteredEncoding:aa};const {customTooltipWithoutAggregatedField:uf,filteredEncoding:Dl}=C,{bins:$h,timeUnits:jk,aggregate:Tl,groupby:Ul,encoding:ym}=ka(Dl,a);C=[...$h,...jk,{aggregate:[...Tl,...ib],groupby:Ul},...pa];C={bins:$h,timeUnits:jk,transform:C,groupby:Ul,aggregate:Tl,continuousAxisChannelDef:Xe,
continuousAxis:Gf,encodingWithoutContinuousAxis:ym,ticksOrient:"vertical"===b?"horizontal":"vertical",boxOrient:b,customTooltipWithoutAggregatedField:uf}}const {bins:xc,timeUnits:Dc,transform:cd,continuousAxisChannelDef:kd,continuousAxis:Qd,groupby:Ee,aggregate:Gd,encodingWithoutContinuousAxis:Ce,ticksOrient:nd,boxOrient:qf,customTooltipWithoutAggregatedField:Ie}=C;Ib=Object.assign({},Ce);C=Ce.color;ib=Ce.size;Ib=(delete Ib.color,delete Ib.size,Ib);qc=M(t,Qd,kd,Ib,a.boxplot);b=M(t,Qd,kd,Ce,a.boxplot);
ib=M(t,Qd,kd,Object.assign({},Ib,ib?{size:ib}:{}),a.boxplot);pa=l([{fieldPrefix:"min-max"===d?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===d?"lower_whisker_":"min_",titlePrefix:"Min"}],kd,Ce);aa={type:"tick",color:"black",opacity:1,orient:nd,invalid:null,aria:!1};cb="min-max"===d?pa:l([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},
{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],kd,Ce);qc=[...qc({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:cb}),...qc({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:cb}),...qc({partName:"ticks",mark:aa,positionPrefix:"lower_whisker",extraEncoding:cb}),...qc({partName:"ticks",mark:aa,positionPrefix:"upper_whisker",
extraEncoding:cb})];y=[..."tukey"!==d?qc:[],...b({partName:"box",mark:Object.assign({},{type:"bar"},y?{size:y}:{},{orient:qf,invalid:null,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:pa}),...ib({partName:"median",mark:Object.assign({},{type:"tick",invalid:null},db(a.boxplot.median)&&a.boxplot.median.color?{color:a.boxplot.median.color}:{},y?{size:y}:{},{orient:nd,aria:!1}),positionPrefix:"mid_box",extraEncoding:pa})];if("min-max"===d){var he;return Object.assign({},
f,{transform:(null!==(he=f.transform)&&void 0!==he?he:[]).concat(cd),layer:y})}he='datum["lower_box_'.concat(kd.field,'"]');d='datum["upper_box_'.concat(kd.field,'"]');b="(".concat(d," - ").concat(he,")");he="".concat(he," - ").concat(g," * ").concat(b);b="".concat(d," + ").concat(g," * ").concat(b);ib='datum["'.concat(kd.field,'"]');g={joinaggregate:zc(kd.field),groupby:Ee};d={transform:[{filter:"(".concat(he," \x3c\x3d ").concat(ib,") \x26\x26 (").concat(ib," \x3c\x3d ").concat(b,")")},{aggregate:[{op:"min",
field:kd.field,as:"lower_whisker_"+kd.field},{op:"max",field:kd.field,as:"upper_whisker_"+kd.field},{op:"min",field:"lower_box_"+kd.field,as:"lower_box_"+kd.field},{op:"max",field:"upper_box_"+kd.field,as:"upper_box_"+kd.field},...Gd],groupby:Ee}],layer:qc};Ib=Object.assign({},Ib);Ib=(delete Ib.tooltip,Ib);const {scale:hf,axis:Df}=kd;qc=v(kd);pa=Ta(Df,["title"]);a=U(t,"outliers",a.boxplot,{transform:[{filter:"(".concat(ib," \x3c ").concat(he,") || (").concat(ib," \x3e ").concat(b,")")}],mark:"point",
encoding:Object.assign({},{[Qd]:Object.assign({},{field:kd.field,type:kd.type},void 0!==qc?{title:qc}:{},void 0!==hf?{scale:hf}:{},E(pa)?{}:{axis:pa})},Ib,C?{color:C}:{},Ie?{tooltip:Ie}:{})})[0];t=[...xc,...Dc,g];a?a={transform:t,layer:[a,d]}:(a=d,a.transform.unshift(...t));return Object.assign({},f,{layer:[a,{transform:cd,layer:y}]})}function zc(b){return[{op:"q1",field:b,as:"lower_box_"+b},{op:"q3",field:b,as:"upper_box_"+b}]}function vc(b,f){({config:f}=f);b=Object.assign({},b,{encoding:Sa(b.encoding,
f)});const {transform:a,continuousAxisChannelDef:d,continuousAxis:g,encodingWithoutContinuousAxis:t,ticksOrient:y,markDef:C,outerSpec:aa,tooltipEncoding:pa}=yd(b,"errorbar",f);delete t.size;b=M(C,g,d,t,f.errorbar);f=C.thickness;var cb=C.size;cb=Object.assign({},{type:"tick",orient:y,aria:!1},void 0!==f?{thickness:f}:{},void 0!==cb?{size:cb}:{});b=[...b({partName:"ticks",mark:cb,positionPrefix:"lower",extraEncoding:pa}),...b({partName:"ticks",mark:cb,positionPrefix:"upper",extraEncoding:pa}),...b({partName:"rule",
mark:Object.assign({},{type:"rule",ariaRoleDescription:"errorbar"},void 0!==f?{size:f}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:pa})];return Object.assign({},aa,{transform:a},1<b.length?{layer:b}:Object.assign({},b[0]))}function ld(b,f){var {encoding:a}=b;if(!(!td(a.x)&&!td(a.y)||td(a.x2)||td(a.y2)||td(a.xError)||td(a.xError2)||td(a.yError)||td(a.yError2)))return{orient:yb(b,f),inputType:"raw"};var d=td(a.x2)||td(a.y2);var g=td(a.xError)||td(a.xError2)||td(a.yError)||td(a.yError2);
b=a.x;const t=a.y;if(d){if(g)throw Error("".concat(f," cannot be both type aggregated-upper-lower and aggregated-error"));d=a.x2;a=a.y2;if(td(d)&&td(a))throw Error("".concat(f," cannot have both x2 and y2"));if(td(d)){if(Kd(b))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw Error("Both x and x2 have to be quantitative in ".concat(f));}if(td(a)){if(Kd(t))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw Error("Both y and y2 have to be quantitative in ".concat(f));
}}else{d=a.xError;g=a.yError;const y=a.yError2;if(td(a.xError2)&&!td(d))throw Error("".concat(f," cannot have xError2 without xError"));if(td(y)&&!td(g))throw Error("".concat(f," cannot have yError2 without yError"));if(td(d)&&td(g))throw Error("".concat(f," cannot have both xError and yError with both are quantiative"));if(td(d)){if(Kd(b))return{orient:"horizontal",inputType:"aggregated-error"};throw Error("All x, xError, and xError2 (if exist) have to be quantitative");}if(td(g)){if(Kd(t))return{orient:"vertical",
inputType:"aggregated-error"};throw Error("All y, yError, and yError2 (if exist) have to be quantitative");}}throw Error("No ranged axis");}function yd(b,f,a){var d,g=Object.assign({},b),t=b.mark,y=b.encoding,C=b.selection;g=(delete g.mark,delete g.encoding,delete g.selection,delete g.projection,g);t=vb(t)?t:{type:t};C&&lb(Ic(f));const {orient:aa,inputType:pa}=ld(b,f),{continuousAxisChannelDef:cb,continuousAxisChannelDef2:ib,continuousAxisChannelDefError:Ib,continuousAxisChannelDefError2:qc,continuousAxis:xc}=
La(b,aa,f);C=[];b=[];var Dc=cb.field,cd=!1;if("raw"===pa){var kd=t.center?t.center:t.extent?"iqr"===t.extent?"median":"mean":a.errorbar.center;var Qd=t.extent?t.extent:"mean"===kd?"stderr":"iqr";"median"===kd!==("iqr"===Qd)&&(C=Qd,C="".concat(kd," is not usually used with ").concat(C," for ").concat(f,"."),lb(C));"stderr"===Qd||"stdev"===Qd?(C=[{op:Qd,field:Dc,as:"extent_"+Dc},{op:kd,field:Dc,as:"center_"+Dc}],b=[{calculate:'datum["center_'.concat(Dc,'"] + datum["extent_').concat(Dc,'"]'),as:"upper_"+
Dc},{calculate:'datum["center_'.concat(Dc,'"] - datum["extent_').concat(Dc,'"]'),as:"lower_"+Dc}],Dc={fieldPrefix:"center_",titlePrefix:P(kd)},cd=Qd,cd={fieldPrefix:"upper_",titlePrefix:P(kd)+" + "+cd},f=Qd,f=P(kd)+" - "+f,kd=[Dc,cd,{fieldPrefix:"lower_",titlePrefix:f}],cd=!0):("ci"===Qd?(f="mean",kd="ci0",Qd="ci1"):(f="median",kd="q1",Qd="q3"),C=[{op:kd,field:Dc,as:"lower_"+Dc},{op:Qd,field:Dc,as:"upper_"+Dc},{op:f,field:Dc,as:"center_"+Dc}],kd=[{fieldPrefix:"upper_",titlePrefix:Te({field:Dc,aggregate:Qd,
type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:Te({field:Dc,aggregate:kd,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:Te({field:Dc,aggregate:f,type:"quantitative"},a,{allowDisabling:!1})}])}else{if(t.center||t.extent){f=t.center;var Ee=t.extent;f="".concat(Ee?"extent ":"").concat(Ee&&f?"and ":"").concat(f?"center ":"").concat(Ee&&f?"are ":"is ","not needed when data are aggregated.");lb(f)}"aggregated-upper-lower"===pa?(kd=[],b=[{calculate:'datum["'.concat(ib.field,
'"]'),as:"upper_"+Dc},{calculate:'datum["'.concat(Dc,'"]'),as:"lower_"+Dc}]):"aggregated-error"===pa&&(kd=[{fieldPrefix:"",titlePrefix:Dc}],b=[{calculate:'datum["'.concat(Dc,'"] + datum["').concat(Ib.field,'"]'),as:"upper_"+Dc}],qc?b.push({calculate:'datum["'.concat(Dc,'"] + datum["').concat(qc.field,'"]'),as:"lower_"+Dc}):b.push({calculate:'datum["'.concat(Dc,'"] - datum["').concat(Ib.field,'"]'),as:"lower_"+Dc}));for(Qd of b)kd.push({fieldPrefix:Qd.as.substring(0,6),titlePrefix:G(G(Qd.calculate,
'datum["',""),'"]',"")})}b={postAggregateCalculates:b,errorBarSpecificAggregate:C,tooltipSummary:kd,tooltipTitleWithFieldName:cd};const {errorBarSpecificAggregate:Gd,postAggregateCalculates:Ce,tooltipSummary:nd,tooltipTitleWithFieldName:qf}=b;y=Object.assign({},y);b="x"===xc?"x2":"y2";C="x"===xc?"xError":"yError";Dc="x"===xc?"xError2":"yError2";y=(delete y[xc],delete y[b],delete y[C],delete y[Dc],y);const {bins:Ie,timeUnits:he,aggregate:hf,groupby:Df,encoding:Xe}=ka(y,a);a=[...hf,...Gd];y="raw"!==
pa?[]:Df;b=l(nd,cb,Xe,qf);return{transform:[...null!==(d=g.transform)&&void 0!==d?d:[],...Ie,...he,...0===a.length?[]:[{aggregate:a,groupby:y}],...Ce],groupby:y,continuousAxisChannelDef:cb,continuousAxis:xc,encodingWithoutContinuousAxis:Xe,ticksOrient:"vertical"===aa?"horizontal":"vertical",markDef:t,outerSpec:g,tooltipEncoding:b}}function Kc(b,f){({config:f}=f);b=Object.assign({},b,{encoding:Sa(b.encoding,f)});const {transform:a,continuousAxisChannelDef:d,continuousAxis:g,encodingWithoutContinuousAxis:t,
markDef:y,outerSpec:C,tooltipEncoding:aa}=yd(b,"errorband",f);f=M(y,g,d,t,f.errorband);b=void 0!==b.encoding.x&&void 0!==b.encoding.y;let pa={type:b?"area":"rect"},cb={type:b?"line":"rule"};const ib=Object.assign({},y.interpolate?{interpolate:y.interpolate}:{},y.tension&&y.interpolate?{tension:y.tension}:{});b?(pa=Object.assign({},pa,ib,{ariaRoleDescription:"errorband"}),cb=Object.assign({},cb,ib,{aria:!1})):y.interpolate?lb(mb("interpolate")):y.tension&&lb(mb("tension"));return Object.assign({},
C,{transform:a,layer:[...f({partName:"band",mark:pa,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:aa}),...f({partName:"borders",mark:cb,positionPrefix:"lower",extraEncoding:aa}),...f({partName:"borders",mark:cb,positionPrefix:"upper",extraEncoding:aa})]})}function Fd(b,f,a){f=new el(b,f);Vl[b]={normalizer:f,parts:a}}function Td(b){const f=[];for(const g of b||[]){var a=g,d=Object.assign({},a);b=a.expr;a=a.bind;d=(delete d.expr,delete d.bind,d);a&&b?(b=Object.assign({},d,{bind:a,init:b}),
f.push(b)):(b=Object.assign({},d,b?{update:b}:{},a?{bind:a}:{}),f.push(b))}return f}function te(b){return!!b&&("legend"===b||!!b.legend)}function X(b){return te(b)&&db(b)}function sa(b,f){const a={};for(const d of zm)b&&void 0!==b[d]&&(a[d]=pd(b[d]));f&&(a.params=b.params);return a}function Pa(b){return db(b)&&void 0!==b.step}function kb(b){return b.view||b.width||b.height}function Ab(b,f,a){const d={},{spacing:g,columns:t}=a[f];void 0!==g&&(d.spacing=g);void 0!==t&&("facet"in b&&!Hd(b.facet)||"concat"in
b)&&(d.columns=t);"vconcat"in b&&(d.columns=1);for(const aa of Am)if(void 0!==b[aa])if("spacing"===aa){var y,C;f=b[aa];d[aa]=Ca(f)?f:{row:null!==(y=f.row)&&void 0!==y?y:g,column:null!==(C=f.column)&&void 0!==C?C:g}}else d[aa]=b[aa];return d}function jc(b,f){var a;return null!==(a=b[f])&&void 0!==a?a:b["width"===f?"continuousWidth":"continuousHeight"]}function nc(b,f){b=kc(b,f);return Pa(b)?b.step:20}function kc(b,f){var a;f=null!==(a=b[f])&&void 0!==a?a:b["width"===f?"discreteWidth":"discreteHeight"];
return V(f,{step:b.step})}function rc(b){var f=Zc(b||{});const a={};for(const d of f)f=b[d],a[d]=u(f)?$d(f):pd(f);return a}function tc(b){b=void 0===b?{}:b;var f=Object.assign({},b),a=b.color,d=b.font;b=b.fontSize;f=(delete f.color,delete f.font,delete f.fontSize,f);d=d?{text:{font:d},style:{"guide-label":{font:d},"guide-title":{font:d},"group-title":{font:d},"group-subtitle":{font:d}}}:{};a?(a=void 0===a?{}:a,a={signals:[{name:"color",value:db(a)?Object.assign({},Wl,a):Wl}],mark:{color:{signal:"color.blue"}},
rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},
{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}):a={};b=b?{signals:[{name:"fontSize",value:db(b)?Object.assign({},Xl,b):Xl}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}:{};
b=Bb({},Bm,d,a,b,f||{});f=Ta(b,Cm);for(var g of["background","lineBreak","padding"])b[g]&&(f[g]=pd(b[g]));for(var t of Yl)b[t]&&(f[t]=ob(b[t]));for(var y of Ik)b[y]&&(f[y]=rc(b[y]));for(const aa of Zl)b[aa]&&(f[aa]=ob(b[aa]));b.legend&&(f.legend=ob(b.legend));b.scale&&(f.scale=ob(b.scale));if(b.style){g=b.style;t=Zc(g);y={};for(C of t)y[C]=rc(g[C]);var C=y;f.style=C}b.title&&(f.title=ob(b.title));b.view&&(f.view=ob(b.view));return f}function ad(b){b=oe(b);for(var f of Dm)delete b[f];if(b.axis)for(var a in b.axis)u(b.axis[a])&&
delete b.axis[a];if(b.legend)for(var d of Em)delete b.legend[d];if(b.mark){for(var g of $l)delete b.mark[g];b.mark.tooltip&&db(b.mark.tooltip)&&delete b.mark.tooltip}b.params&&(b.signals=(b.signals||[]).concat(Td(b.params)),delete b.params);for(var t of Fm){for(const aa of $l)delete b[t][aa];if(f=Gm[t])for(const aa of f)delete b[t][aa];a=f=void 0;d=b;g=t;var y=void 0,C=d[g];"view"===g&&(y="cell");C=Object.assign({},C,d.style[null!==(a=y)&&void 0!==a?a:g]);E(C)||(d.style[null!==(f=y)&&void 0!==f?f:
g]=C);delete d[g]}for(const aa of Zc(Vl))delete b[aa];{t=b;const {titleMarkConfig:aa,subtitleMarkConfig:pa,subtitle:cb}=od(t.title);E(aa)||(t.style["group-title"]=Object.assign({},t.style["group-title"],aa));E(pa)||(t.style["group-subtitle"]=Object.assign({},t.style["group-subtitle"],pa));E(cb)?delete t.title:t.title=cb}for(const aa in b)db(b[aa])&&E(b[aa])&&delete b[aa];return E(b)?void 0:b}function Mc(b,f){const a="x"===f?"y":"radius";var d=b[f];b=b[a];if(Oc(d)&&Oc(b))if("quantitative"===Vd(d)&&
"quantitative"===Vd(b)){if(d.stack)return f;if(b.stack)return a;const y=Oc(d)&&!!d.aggregate,C=Oc(b)&&!!b.aggregate;if(y!==C)return y?f:a;var g,t;d=null===(g=d.scale)||void 0===g?void 0:g.type;g=null===(t=b.scale)||void 0===t?void 0:t.type;if(d&&"linear"!==d)return a;if(g&&"linear"!==g)return f}else{if("quantitative"===Vd(d))return f;if("quantitative"===Vd(b))return a}else{if("quantitative"===Vd(d))return f;if("quantitative"===Vd(b))return a}}function Lc(b){switch(b){case "x":return"y";case "y":return"x";
case "theta":return"radius";case "radius":return"theta"}}function Rc(b,f,a){a=void 0===a?{}:a;b=vb(b)?b.type:b;if(!Hm.has(b))return null;const d=Mc(f,"x")||Mc(f,"theta");if(!d)return null;const g=f[d];var t=Oc(g)?ed(g,{}):void 0;let y=Lc(d),C=f[y],aa=Oc(C)?ed(C,{}):void 0;aa===t&&(y=C=aa=void 0);t=zi.reduce((cb,ib)=>{if("tooltip"!==ib&&Q(f,ib)){var Ib=f[ib];for(const qc of ab(Ib)){Ib=De(qc);if(Ib.aggregate)continue;const xc=ed(Ib,{});xc&&xc===aa||cb.push({channel:ib,fieldDef:Ib})}}return cb},[]);
let pa;void 0!==g.stack?pa=bb(g.stack)?g.stack?"zero":null:g.stack:0<t.length&&Im.has(b)&&(pa="zero");if(!(pa&&pa in Jm)||ea(f)&&0===t.length)return null;if(g.scale&&g.scale.type&&g.scale.type!==e.LINEAR){if(a.disallowNonLinearStack)return null;lb("Cannot stack non-linear scale (".concat(g.scale.type,")."))}if(td(f[da(d)]))return void 0!==g.stack&&lb(ja(d)),null;Oc(g)&&g.aggregate&&!va(Jf,g.aggregate)&&lb('Stacking is applied even though the aggregate function is non-summative ("'.concat(g.aggregate,
'").'));return{groupbyChannel:C?y:void 0,groupbyField:aa,fieldChannel:d,impute:null===g.impute?!1:Za(b),stackBy:t,offset:pa}}function gd(b){b=Object.assign({},b);b=(delete b.point,delete b.line,b);return 1<Zc(b).length?b:b.type}function hd(b){for(const f of["line","area","rule","trail"])b[f]&&(b=Object.assign({},b,{[f]:Ta(b[f],["point","line"])}));return b}function fe(b,f,a){f=void 0===f?{}:f;if("transparent"===b.point)return{opacity:0};if(b.point)return db(b.point)?b.point:{};if(void 0!==b.point)return null;
if(f.point||a.shape)return db(f.point)?f.point:{}}function Ud(b,f){f=void 0===f?{}:f;if(b.line)return!0===b.line?{}:b.line;if(void 0!==b.line)return null;if(f.line)return!0===f.line?{}:f.line}function Id(b,f){return f?Oe(b,f):b}function rd(b,f,a){const d=f[b];if(d&&!ma(d)&&"repeat"in d){if(d.repeat in a)return Object.assign({},f,{[b]:a[d.repeat]});lb('Unknown repeated value "'.concat(d.repeat,'".'))}else return f}function bd(b,f){b=rd("field",b,f);if(void 0!==b){if(null===b)return null;"sort"in b&&
Nd(b.sort)&&(f=rd("field",b.sort,f),b=Object.assign({},b,f?{sort:f}:{}));return b}}function Pd(b,f){if(Oc(b))return bd(b,f);f=rd("datum",b,f);f===b||f.type||(f.type="nominal");return f}function He(b,f){if(td(b)){if(f=Pd(b,f))return f;if(b&&"condition"in b)return{condition:b.condition}}else{if(Zd(b)){if(f=Pd(b.condition,f))return Object.assign({},b,{condition:f});b=Object.assign({},b);return delete b.condition,b}return b}}function Oe(b,f){const a={};for(const g in b)if(Nh.call(b,g)){var d=b[g];Wd(d)?
a[g]=d.map(t=>He(t,f)).filter(t=>t):(d=He(d,f),void 0!==d&&(a[g]=d))}return a}function Ne(b){var {parentEncoding:f,encoding:a={},layer:d}=b;b={};if(f){var g=new Set([...Zc(f),...Zc(a)]);for(const t of g){g=a[t];const y=f[t];if(td(g))g=Object.assign({},y,g),b[t]=g;else if(Zd(g))b[t]=Object.assign({},g,{condition:Object.assign({},y,g.condition)});else if(g||null===g)b[t]=g;else if(d||ie(y)||ic(y)||td(y)||Wd(y))b[t]=y}}else b=a;return!b||E(b)?void 0:b}function we(b){const {parentProjection:f,projection:a}=
b;if(f&&a){{const {parentProjection:d,projection:g}={parentProjection:f,projection:a};b="Layer's shared projection ".concat(Re(d)," is overridden by a child projection ").concat(Re(g),".")}lb(b)}return null!==a&&void 0!==a?a:f}function Be(b,f){void 0===f&&(f=tc(b.config));var a=f;a=void 0===a?{}:a;a=Km.map(b,{config:a});const {width:d,height:g}=b;{let {width:t,height:y}={width:d,height:g,autosize:b.autosize};b=I(a)||"layer"in a;const C={};b?"container"==t&&"container"==y?(C.type="fit",C.contains=
"padding"):"container"==t?(C.type="fit-x",C.contains="padding"):"container"==y&&(C.type="fit-y",C.contains="padding"):("container"==t&&(lb(cc("width")),t=void 0),"container"==y&&(lb(cc("height")),y=void 0));f=Object.assign({},{type:"pad"},C,f?wf(f.autosize):{},wf(a.autosize));"fit"!==f.type||b||(lb('Autosize "fit" only works for single views and layered views.'),f.type="pad");"container"==t&&"fit"!=f.type&&"fit-x"!=f.type&&lb(gb("width"));"container"==y&&"fit"!=f.type&&"fit-y"!=f.type&&lb(gb("height"));
b=Oh(f,{type:"pad"})?void 0:f}return Object.assign({},a,b?{autosize:b}:{})}function wf(b){return ma(b)?{type:b}:null!==b&&void 0!==b?b:{}}function kf(b){return{explicit:!0,value:b}}function ff(b){return{explicit:!1,value:b}}function Ng(b){return(f,a,d,g)=>{const t=b(f.value,a.value);return 0<t?f:0>t?a:wd(f,a,d,g)}}function wd(b,f,a,d){if(b.explicit&&f.explicit){var g=b.value;f=f.value;a="Conflicting ".concat(d.toString(),' property "').concat(a.toString(),'" (').concat(Re(g)," and ").concat(Re(f),
"). Using ").concat(Re(g),".");lb(a)}return b}function Ue(b,f,a,d,g){g=void 0===g?wd:g;return void 0===b||void 0===b.value?f:b.explicit&&!f.explicit?b:f.explicit&&!b.explicit?f:Oh(b.value,f.value)?b:g(b,f,a,d)}function Fg(b){return"name"in b&&!("url"in b)&&!("values"in b)&&!kg(b)}function kg(b){return b&&("sequence"in b||"sphere"in b||"graticule"in b)}function Ph(b){return b.map(f=>"filter"in f?{filter:na(f.filter,zd)}:f)}function Sh(b,f,a){am=f||"view";bm=a||Lm;return $g(b.trim()).map(Wj)}function Th(b,
f,a,d,g){const t=b.length;let y=0,C;for(;f<t;++f)if(C=b[f],y||C!==a)g&&0<=g.indexOf(C)?--y:d&&0<=d.indexOf(C)&&++y;else break;return f}function $g(b){const f=[],a=b.length;let d=0,g=0;for(;g<a;)g=Th(b,g,",","[{","]}"),f.push(b.substring(d,g).trim()),d=++g;if(0===f.length)throw"Empty event selector: "+b;return f}function Wj(b){if("["===b[0]){var f=b;var a=f.length;b=Th(f,1,"]","[","]");if(b===a)throw"Empty between selector: "+f;a=$g(f.substring(1,b));if(2!==a.length)throw"Between selector must have two elements: "+
f;f=f.slice(b+1).trim();if("\x3e"!==f[0])throw"Expected '\x3e' after between selector: "+f;a=a.map(Wj);f=Wj(f.slice(1).trim());f.between?f={between:a,stream:f}:f.between=a}else{{a={source:am};const d=[];let g=[0,0],t=0,y=0,C=b.length,aa=0,pa;if("}"===b[C-1]){aa=b.lastIndexOf("{");if(0<=aa){try{g=sl(b.substring(aa+1,C-1))}catch(cb){throw"Invalid throttle specification: "+b;}b=b.slice(0,aa).trim();C=b.length}else throw"Unmatched right brace: "+b;aa=0}if(!C)throw b;"@"===b[0]&&(t=++aa);pa=Th(b,aa,":");
pa<C&&(d.push(b.substring(y,pa).trim()),y=aa=++pa);aa=Th(b,aa,"[");if(aa===C)d.push(b.substring(y,C).trim());else if(d.push(b.substring(y,aa).trim()),f=[],y=++aa,y===C)throw"Unmatched left bracket: "+b;for(;aa<C;){aa=Th(b,aa,"]");if(aa===C)throw"Unmatched left bracket: "+b;f.push(b.substring(y,aa).trim());if(aa<C-1&&"["!==b[++aa])throw"Expected left bracket: "+b;y=++aa}if(!(C=d.length)||Mm.test(d[C-1]))throw"Invalid event selector: "+b;1<C?(a.type=d[1],t?a.markname=d[0].slice(1):bm[d[0]]?a.marktype=
d[0]:a.source=d[0]):a.type=d[0];"!"===a.type.slice(-1)&&(a.consume=!0,a.type=a.type.slice(0,-1));null!=f&&(a.filter=f);g[0]&&(a.throttle=g[0]);g[1]&&(a.debounce=g[1]);f=a}}return f}function sl(b){const f=b.split(",");if(!b.length||2<f.length)throw b;return f.map(a=>{a=+a;if(a!==a)throw b;return a})}function Uh(b,f,a,d){var g=!!f&&"condition"in f&&f.condition;f=d(f);return g?(g=ab(g).map(t=>{const y=d(t);t=t.selection?Ig(b,t.selection):Ug(b,t.test);return Object.assign({},{test:t},y)}),{[a]:[...g,
...void 0!==f?[f]:[]]}):void 0!==f?{[a]:f}:{}}function Zj(b,f){f=void 0===f?"text":f;return Uh(b,b.encoding[f],f,a=>hg(a,b.config))}function hg(b,f,a){a=void 0===a?"datum":a;if(b){if(ie(b))return Cd(b.value);if(td(b)){const {format:d,formatType:g}=pf(b);return Jd({fieldOrDatumDef:b,format:d,formatType:g,expr:a,config:f})}}}function cj(b,f){f=void 0===f?{}:f;const {encoding:a,markDef:d,config:g,stack:t}=b,y=a.tooltip;if(Wd(y))return{tooltip:Xg({tooltip:y},t,g,f)};{const C=f.reactiveGeom?"datum.datum":
"datum";return Uh(b,y,"tooltip",aa=>{const pa=hg(aa,g,C);if(pa)return pa;if(null!==aa){aa=ae("tooltip",d,g);!0===aa&&(aa={content:"encoding"});if(ma(aa))return{value:aa};if(db(aa))return ic(aa)?aa:"encoding"===aa.content?Xg(a,t,g,f):{signal:C}}})}}function Mk(b,f,a,d){function g(aa,pa){var cb,ib=Ba(pa);aa=vd(aa)?aa:Object.assign({},aa,{type:b[ib].type});ib=aa.title||ik(aa,a);ib=ab(ib).join(", ");if(pa in Cf){const xc="x"===pa?"x2":"y2";var Ib=De(b[xc]);if(Vc(aa.bin)&&Ib){var qc=ed(aa,{expr:y});Ib=
ed(Ib,{expr:y});const {format:Dc,formatType:cd}=pf(aa);qc=Ge(qc,Ib,Dc,cd,a);t[xc]=!0}else if(f&&f.fieldChannel===pa&&"normalize"===f.offset){const {format:Dc,formatType:cd}=pf(aa);qc=Jd({fieldOrDatumDef:aa,format:Dc,formatType:cd,expr:y,config:a,normalizeStack:!0}).signal}}qc=null!==(cb=qc)&&void 0!==cb?cb:hg(aa,a,y).signal;C.push({channel:pa,key:ib,value:qc})}({reactiveGeom:d}=void 0===d?{}:d);const t={},y=d?"datum.datum":"datum",C=[];nb(b,(aa,pa)=>{Oc(aa)?g(aa,pa):Rd(aa)&&g(aa.condition,pa)});d=
{};for(const aa of C){const {channel:pa,key:cb,value:ib}=aa;t[pa]||d[cb]||(d[cb]=ib)}return d}function Xg(b,f,a,d){({reactiveGeom:d}=void 0===d?{}:d);b=Mk(b,f,a,{reactiveGeom:d});b=ag(b).map(g=>{var [t,y]=g;return'"'.concat(t,'": ').concat(y)});return 0<b.length?{signal:"{".concat(b.join(", "),"}")}:void 0}function Zi(b){const {markDef:f,config:a}=b,d=ae("aria",f,a);return!1===d?{}:Object.assign({},d?{aria:d}:{},Yg(b),Mj(b))}function Yg(b){const {mark:f,markDef:a,config:d}=b;if(!1===d.aria)return{};
b=ae("ariaRoleDescription",a,d);return null!=b?{ariaRoleDescription:{value:b}}:f in Cl?{}:{ariaRoleDescription:{value:f}}}function Mj(b){const {encoding:f,markDef:a,config:d,stack:g}=b;var t=f.description;if(t)return Uh(b,t,"description",y=>hg(y,b.config));t=ae("description",a,d);if(null!=t)return{description:Cd(t)};if(!1===d.aria)return{};t=Mk(f,g,d);if(!E(t))return{description:{signal:ag(t).map((y,C)=>{var [aa,pa]=y;return'"'.concat(0<C?"; ":"").concat(aa,': " + (').concat(pa,")")}).join(" + ")}}}
function Bf(b,f,a){a=void 0===a?{}:a;const {markDef:d,encoding:g,config:t}=f,{vgChannel:y}=a;let {defaultRef:C,defaultValue:aa}=a;if(void 0===C){var pa;aa=null!==(pa=aa)&&void 0!==pa?pa:ae(b,d,t,{vgChannel:y,ignoreVgConfig:!0});void 0!==aa&&(C=Cd(aa))}return Uh(f,g[b],null!==y&&void 0!==y?y:b,cb=>fd({channel:b,channelDef:cb,markDef:d,config:t,scaleName:f.scaleName(b),scale:f.getScaleComponent(b),stack:null,defaultRef:C}))}function Nk(b,f){f=void 0===f?{filled:void 0}:f;var a,d,g,t;const {markDef:y,
encoding:C,config:aa}=b,{type:pa}=y;f=null!==(a=f.filled)&&void 0!==a?a:ae("filled",y,aa);a=va(["bar","point","circle","square","geoshape"],pa)?"transparent":void 0;a=null!==(d=null!==(g=ae(!0===f?"color":void 0,y,aa,{vgChannel:"fill"}))&&void 0!==g?g:aa.mark[!0===f&&"color"])&&void 0!==d?d:a;d=null!==(t=ae(!1===f?"color":void 0,y,aa,{vgChannel:"stroke"}))&&void 0!==t?t:aa.mark[!1===f&&"color"];t=f?"fill":"stroke";g=Object.assign({},a?{fill:Cd(a)}:{},d?{stroke:Cd(d)}:{});y.color&&(f?y.fill:y.stroke)&&
lb(Jb("property",{fill:"fill"in y,stroke:"stroke"in y}));return Object.assign({},g,Bf("color",b,{vgChannel:t,defaultValue:f?a:d}),Bf("fill",b,{defaultValue:C.fill?a:void 0}),Bf("stroke",b,{defaultValue:C.stroke?d:void 0}))}function Hk(b){const {encoding:f,mark:a}=b,d=f.order;return!Za(a)&&ie(d)?Uh(b,d,"zindex",g=>Cd(g.value)):{}}function sg(b,f){b=zb(b);if(f=f[b])return f}function Of(b,f,a){var {defaultPos:d,vgChannel:g,isMidPoint:t}=a;const {encoding:y,markDef:C,config:aa,stack:pa}=f;a=y[b];const cb=
y[da(b)],ib=f.scaleName(b),Ib=f.getScaleComponent(b),qc=sg(b,C),xc=xi({model:f,defaultPos:d,channel:b,scaleName:ib,scale:Ib});if(!a&&b in Cf&&(y.latitude||y.longitude))f={field:f.getName(b)};else a:{f={channel:b,channelDef:a,channel2Def:cb,markDef:C,config:aa,isMidPoint:t,scaleName:ib,scale:Ib,stack:pa,offset:qc,defaultRef:xc};const {channel:Dc,channelDef:cd,isMidPoint:kd,scaleName:Qd,stack:Ee,offset:Gd,markDef:Ce,config:nd}=f;if(td(cd)&&Ee&&Dc===Ee.fieldChannel){if(Oc(cd)&&(f=Wc({channel:Dc,fieldDef:cd,
isMidPoint:kd,markDef:Ce,stack:Ee,config:nd}),void 0!==f)){f=Fc({scaleName:Qd,fieldOrDatumDef:cd,startSuffix:"start",band:f,offset:Gd});break a}f=pc(cd,Qd,{suffix:"end"},{offset:Gd})}else f=Tb(f)}return f?{[g||b]:f}:void 0}function xi(b){var {model:f,defaultPos:a,channel:d,scaleName:g,scale:t}=b;const {markDef:y,config:C}=f;return()=>{var aa=Ba(d),pa=T(d);pa=ae(d,y,C,{vgChannel:pa});if(void 0!==pa)return Dd(d,pa);switch(a){case "zeroOrMin":case "zeroOrMax":if(g&&(pa=t.get("type"),!va([e.LOG,e.TIME,
e.UTC],pa)&&t.domainDefinitelyIncludesZero()))return{scale:g,value:0};if("zeroOrMin"===a)return"y"===aa?{field:{group:"height"}}:{value:0};switch(aa){case "radius":return{signal:"min(".concat(f.width.signal,",").concat(f.height.signal,")/2")};case "theta":return{signal:"2*PI"};case "x":return{field:{group:"width"}};case "y":return{value:0}}break;case "mid":return aa=f[Xa(d)],Object.assign({},aa,{mult:.5})}}}function Ci(b,f,a,d){d=void 0===d?"middle":d;if("radius"===b||"theta"===b)return T(b);var g=
"x"===b?"align":"baseline";f=ae(g,f,a);ic(f)?(lb("The ".concat(g," for range marks cannot be an expression")),g=void 0):g=f;return"x"===b?Nm[g||("top"===d?"left":"center")]:Om[g||d]}function Vh(b,f,a){var {defaultPos:d,defaultPos2:g,range:t}=a;return t?ak(b,f,{defaultPos:d,defaultPos2:g}):Of(b,f,{defaultPos:d})}function ak(b,f,a){var {defaultPos:d,defaultPos2:g}=a;const {markDef:t,config:y}=f;var C=da(b);a=Xa(b);{const {encoding:Gd,mark:Ce,markDef:nd,stack:qf,config:Ie}=f;var aa=Ba(C);const he=Xa(C),
hf=T(C);var pa=Gd[aa];const Df=f.scaleName(aa),Xe=f.getScaleComponent(aa);aa=C in Gd||C in nd?sg(C,f.markDef):sg(aa,f.markDef);if(pa||"x2"!==C&&"y2"!==C||!Gd.latitude&&!Gd.longitude){var {channel:cb,channelDef:ib,channel2Def:Ib,markDef:qc,config:xc,scaleName:Dc,scale:cd,stack:kd,offset:Qd,defaultRef:Ee}={channel:C,channelDef:pa,channel2Def:Gd[C],markDef:nd,config:Ie,scaleName:Df,scale:Xe,stack:qf,offset:aa,defaultRef:void 0};pa=td(ib)&&kd&&cb.charAt(0)===kd.fieldChannel.charAt(0)?pc(ib,Dc,{suffix:"start"},
{offset:Qd}):Tb({channel:cb,channelDef:Ib,scaleName:Dc,scale:cd,stack:kd,markDef:qc,config:xc,offset:Qd,defaultRef:Ee});C=void 0!==pa?{[hf]:pa}:Wh(C,nd)||Wh(C,{[C]:lf(C,nd,Ie.style),[he]:lf(he,nd,Ie.style)})||Wh(C,Ie[Ce])||Wh(C,Ie.mark)||{[hf]:xi({model:f,defaultPos:g,channel:C,scaleName:Df,scale:Xe})()}}else C={[hf]:{field:f.getName(C)}}}a=C[a]?Ci(b,t,y):T(b);return Object.assign({},Of(b,f,{defaultPos:d,vgChannel:a}),C)}function Wh(b,f){const a=Xa(b),d=T(b);if(void 0!==f[d])return{[d]:Dd(b,f[d])};
if(void 0!==f[b])return{[d]:Dd(b,f[b])};if(f[a])return{[a]:Dd(b,f[a])}}function Gg(b,f,a){var d,g;const {config:t,encoding:y,markDef:C,stack:aa}=b;var pa=da(f),cb=Xa(f),ib=y[f];pa=y[pa];var Ib=b.getScaleComponent(f),qc=Ib?Ib.get("type"):void 0,xc=b.scaleName(f);const Dc=C.orient;cb=null!==(d=null!==(g=y[cb])&&void 0!==g?g:y.size)&&void 0!==d?d:ae("size",C,t,{vgChannel:cb});d="bar"===a&&("x"===f?"vertical"===Dc:"horizontal"===Dc);if(Oc(ib)&&(yc(ib.bin)||Vc(ib.bin)||ib.timeUnit&&!pa)&&!cb&&!(qc in sd)){var cd,
kd;a=Wc({channel:f,fieldDef:ib,stack:aa,markDef:C,config:t});b=null===(cd=b.component.axes[f])||void 0===cd?void 0:cd[0];b=null!==(kd=null===b||void 0===b?void 0:b.get("translate"))&&void 0!==kd?kd:.5;a:{f={fieldDef:ib,fieldDef2:pa,channel:f,markDef:C,scaleName:xc,band:a,axisTranslate:b,spacing:f in Cf?ae("binSpacing",C,t):void 0,reverse:Ib.get("reverse"),config:t};var {fieldDef:Qd,fieldDef2:Ee,channel:Gd,band:Ce,scaleName:nd,markDef:qf,spacing:Ie=0,axisTranslate:he,reverse:hf,config:Df}=f;f=da(Gd);
ib=T(Gd);b=T(f);a=sg(Gd,qf);if(yc(Qd.bin)||Qd.timeUnit)f={[b]:Ok({channel:Gd,fieldDef:Qd,scaleName:nd,markDef:qf,band:(1-Ce)/2,offset:Og(f,Ie,hf,he,a),config:Df}),[ib]:Ok({channel:Gd,fieldDef:Qd,scaleName:nd,markDef:qf,band:1-(1-Ce)/2,offset:Og(Gd,Ie,hf,he,a),config:Df})};else{if(Vc(Qd.bin)){var Xe=pc(Qd,nd,{},{offset:Og(f,Ie,hf,he,a)});if(Oc(Ee)){f={[b]:Xe,[ib]:pc(Ee,nd,{},{offset:Og(Gd,Ie,hf,he,a)})};break a}if(db(Qd.bin)&&Qd.bin.step){f={[b]:Xe,[ib]:{signal:'scale("'.concat(nd,'", ').concat(ed(Qd,
{expr:"datum"})," + ").concat(Qd.bin.step,")"),offset:Og(Gd,Ie,hf,he,a)}};break a}}lb(Gb(f));f=void 0}}return f}if((td(ib)&&qc in sd||d)&&!pa){{var Gf;const {markDef:uf,encoding:Dl,config:$h,stack:jk}=b;cd=uf.orient;Ib=b.scaleName(f);xc=b.getScaleComponent(f);kd=Xa(f);pa=da(f);cd="horizontal"===cd&&"y"===f||"vertical"===cd&&"x"===f;d=ae(cd?"size":kd,uf,$h,{vgChannel:kd});if(Dl.size||void 0!==d)cd?Xe=Bf("size",b,{vgChannel:kd,defaultValue:d}):lb('Cannot apply size to non-oriented mark "'.concat(uf.type,
'".'));cd=null!==(Gf=td(ib)?Wc({channel:f,fieldDef:ib,markDef:uf,stack:jk,config:$h}):void 0)&&void 0!==Gf?Gf:1;Xe||(qc=kd,Gf=Ib,d=xc,Xe=$h,g=cd,d?(qc=d.get("type"),"point"===qc||"band"===qc?void 0!==Xe[a].discreteBandSize?a={value:Xe[a].discreteBandSize}:qc===e.POINT?(a=d.get("range"),a=Yb(a)&&Ca(a.step)?{value:a.step-2}:{value:18}):a={scale:Gf,band:g}:a={value:Xe[a].continuousBandSize}):(Gf=nc(Xe.view,qc),a=V(Xe[a].discreteBandSize,Gf-2),a=void 0!==a?{value:a}:void 0),Xe={[kd]:a});d="band"!==(null===
xc||void 0===xc?void 0:xc.get("type"))||!("band"in Xe[kd]);a=Ci(f,uf,$h,d?"middle":"top");Gf=sg(f,uf);f=Tb({channel:f,channelDef:ib,markDef:uf,config:$h,scaleName:Ib,scale:xc,stack:jk,offset:Gf,defaultRef:xi({model:b,defaultPos:"mid",channel:f,scaleName:Ib,scale:xc}),band:d?.5:(1-cd)/2});kd?f=Object.assign({},{[a]:f},Xe):(ib=T(pa),b=Xe[kd],b=Gf?Object.assign({},b,{offset:Gf}):b,f={[a]:f,[ib]:Wd(f)?[f[0],Object.assign({},f[1],{offset:b})]:Object.assign({},f,{offset:b})})}return f}return ak(f,b,{defaultPos:"zeroOrMax",
defaultPos2:"zeroOrMin"})}function Og(b,f,a,d,g){if(b in jg)return 0;b="x"===b||"y2"===b?-f/2:f/2;if(ic(a)||ic(g)||ic(d))return a=ee(a),g=ee(g),d=(d=ee(d))?"".concat(d," + "):"",a=a?"(".concat(a," ? -1 : 1) * "):"",b=g?"(".concat(g," + ").concat(b,")"):b,{signal:d+a+b};g=g||0;return d+(a?-g-b:+g+b)}function Ok(b){var {channel:f,fieldDef:a,scaleName:d,markDef:g,band:t,offset:y,config:C}=b;b=Fc({scaleName:d,fieldOrDatumDef:a,band:t,offset:y});return oc({fieldDef:a,channel:f,markDef:g,ref:b,config:C})}
function Zf(b,f){const {fill:a,stroke:d}="include"===f.color?Nk(b):{};return Object.assign({},Qk(b.markDef,f),Pk(b,"fill",a),Pk(b,"stroke",d),Bf("opacity",b),Bf("fillOpacity",b),Bf("strokeOpacity",b),Bf("strokeWidth",b),Bf("strokeDash",b),Hk(b),cj(b),Zj(b,"href"),Zi(b))}function Pk(b,f,a){const {config:d,mark:g,markDef:t}=b;return"hide"===ae("invalid",t,d)&&a&&!Za(g)&&(b=Pi(b,{invalid:!0,channels:ug}))?{[f]:[{test:b,value:null},...ab(a)]}:a?{[f]:a}:{}}function Qk(b,f){return nl.reduce((a,d)=>{Pm.has(d)||
void 0===b[d]||"ignore"===f[d]||(a[d]=Cd(b[d]));return a},{})}function Pi(b,f){var {invalid:a=!1,channels:d}=f;f=d.reduce((g,t)=>{var y=b.getScaleComponent(t);y&&(y=y.get("type"),(t=b.vgField(t,{expr:"datum"}))&&y in Bc&&(g[t]=!0));return g},{});f=Zc(f);if(0<f.length){const g=a?"||":"\x26\x26";return f.map(t=>Yc(t,a)).join(" ".concat(g," "))}}function Kf(b){const {config:f,markDef:a}=b;return ae("invalid",a,f)&&(b=Lf(b,{channels:Tf}))?{defined:{signal:b}}:{}}function Lf(b,f){var {invalid:a=!1,channels:d}=
f;f=d.reduce((g,t)=>{var y=b.getScaleComponent(t);y&&(y=y.get("type"),(t=b.vgField(t,{expr:"datum"}))&&y in Bc&&(g[t]=!0));return g},{});f=Zc(f);if(0<f.length){const g=a?"||":"\x26\x26";return f.map(t=>Yc(t,a)).join(" ".concat(g," "))}}function zh(b,f){if(void 0!==f)return{[b]:Cd(f)}}function Ah(b,f){b=oa(b.scaleName(f));return"domain(".concat(b,")")}function Bh(b){var f;return b.parent&&rh(b.parent)&&(null!==(f=!b.parent.parent)&&void 0!==f?f:Bh(b.parent.parent))}function uj(b,f,a){var d;const g=
null===(d=b.fieldDef(f))||void 0===d?void 0:d.field;Qg(b,t=>{var y;const C=null!==(y=t.project.hasField[g])&&void 0!==y?y:t.project.hasChannel[f];if(C&&cm.has(t)){var aa;y=null!==(aa=a.get("selections"))&&void 0!==aa?aa:[];y.push(t.name);a.set("selections",y,!1);C.hasLegend=!0}})}function ok(b,f,a,d,g){var t,y=f.name,C=y+"_translate_anchor";y+="_translate_delta";var aa=a.channel;const pa=ai.has(f);f=g.filter(ib=>ib.name===a.signals[pa?"data":"visual"])[0];d=b.getSizeSignalRef(d).signal;b=b.getScaleComponent(aa);
g=b.get("type");const cb=pa&&"x"===aa?"-":"";C="".concat(C,".extent_").concat(aa);aa="".concat(cb).concat(y,".").concat(aa," / ")+(pa?"".concat(d):"span(".concat(C,")"));C="".concat(pa?"log"===g?"panLog":"pow"===g?"panPow":"panLinear":"panLinear","(").concat(C,", ").concat(aa)+(pa&&"pow"===g?", ".concat(null!==(t=b.get("exponent"))&&void 0!==t?t:1):"")+")";f.on.push({events:{signal:y},update:pa?C:"clampRange(".concat(C,", 0, ").concat(d,")")})}function Mi(b,f,a,d,g){var t,y=f.name;const C=a.channel,
aa=ai.has(f);f=g.filter(ib=>ib.name===a.signals[aa?"data":"visual"])[0];d=b.getSizeSignalRef(d).signal;g=b.getScaleComponent(C);const pa=g.get("type"),cb=aa?Ah(b,C):f.name;b=y+"_zoom_delta";y="".concat(y).concat("_zoom_anchor",".").concat(C);y="".concat(aa?"log"===pa?"zoomLog":"pow"===pa?"zoomPow":"zoomLinear":"zoomLinear","(").concat(cb,", ").concat(y,", ").concat(b)+(aa&&"pow"===pa?", ".concat(null!==(t=g.get("exponent"))&&void 0!==t?t:1):"")+")";f.on.push({events:{signal:b},update:aa?y:"clampRange(".concat(y,
", 0, ").concat(d,")")})}function di(b,f){for(const a of Qm)a.has(b)&&f(a)}function eh(b,f,a){f=void 0===f?!0:f;a=void 0===a?bj:a;return Wd(b)?(b=b.map(d=>eh(d,f,a)),f?"[".concat(b.join(", "),"]"):b):Xb(b)?f?a(rb(b)):a(Mb(b)):f?a(JSON.stringify(b)):b}function Ki(b,f){Qg(b,(a,d)=>{const g=a.name;let t=d.modifyExpr(b,a);f.push(...d.signals(b,a));di(a,y=>{y.signals&&(f=y.signals(b,a,f));y.modifyExpr&&(t=y.modifyExpr(b,a,t))});f.push({name:g+"_modify",on:[{events:{signal:a.name+"_tuple"},update:"modify(".concat(oa(a.name+
"_store"),", ").concat(t,")")}]})});return xg(f)}function Ch(b,f){b.component.selection&&Zc(b.component.selection).length&&(b=oa(b.getName("cell")),f.unshift({name:"facet",value:{},on:[{events:Sh("mousemove","scope"),update:"isTuple(facet) ? facet : group(".concat(b,").datum")}]}));return xg(f)}function Li(b,f){let a=!1;Qg(b,(d,g)=>{const t=d.name,y=oa(t+"_store");if(0===f.filter(C=>C.name===t).length){const C="global"===d.resolve?"union":d.resolve,aa="multi"===d.type?", true)":")";f.push({name:d.name,
update:"".concat("vlSelectionResolve","(").concat(y,", ").concat(oa(C)).concat(aa)})}a=!0;g.topLevelSignals&&(f=g.topLevelSignals(b,d,f));di(d,C=>{C.topLevelSignals&&(f=C.topLevelSignals(b,d,f))})});a&&0===f.filter(d=>"unit"===d.name).length&&f.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]});return xg(f)}function vj(b,f){const a=[...f];Qg(b,d=>{const g={name:d.name+"_store"};if(d.init){const t=d.project.items.map(C=>{C=Object.assign({},C);return delete C.signals,
C}),y=d.init.map(C=>eh(C,!1));g.values="interval"===d.type?[{unit:Vf(b,{escape:!1}),fields:t,values:y}]:y.map(C=>({unit:Vf(b,{escape:!1}),fields:t,values:C}))}a.filter(t=>t.name===d.name+"_store").length||a.push(g)});return a}function fh(b,f){Qg(b,(a,d)=>{f=d.marks?d.marks(b,a,f):f;di(a,g=>{g.marks&&(f=g.marks(b,a,f))})});return f}function wj(b,f){for(const a of b.children)mf(a)&&(f=fh(a,f));return f}function xg(b){return b.map(f=>{f.on&&!f.on.length&&delete f.on;return f})}function xj(b,f,a,d){const g=
a.channel,t=a.signals.visual;a=a.signals.data;const y=ai.has(f),C=oa(b.scaleName(g));var aa=b.getScaleComponent(g);aa=aa?aa.get("type"):void 0;const pa=Ib=>"scale(".concat(C,", ").concat(Ib,")"),cb=b.getSizeSignalRef("x"===g?"width":"height").signal,ib="".concat(g,"(unit)");b=gh(f,(Ib,qc)=>[...Ib,{events:qc.between[0],update:"[".concat(ib,", ").concat(ib,"]")},{events:qc,update:"[".concat(t,"[0], clamp(").concat(ib,", 0, ").concat(cb,")]")}]);b.push({events:{signal:f.name+"_scale_trigger"},update:aa in
Bc?"[".concat(pa("".concat(a,"[0]")),", ").concat(pa("".concat(a,"[1]")),"]"):"[0, 0]"});return y?[{name:a,on:[]}]:[Object.assign({},{name:t},d?{init:eh(d,!0,pa)}:{value:[]},{on:b}),Object.assign({},{name:a},d?{init:eh(d)}:{},{on:[{events:{signal:t},update:"".concat(t,"[0] \x3d\x3d\x3d ").concat(t,"[1] ? null : invert(").concat(C,", ").concat(t,")")}]})]}function gh(b,f){return b.events.reduce((a,d)=>d.between?f(a,d):(lb("".concat(d," is not an ordered event stream for interval selections.")),a),
[])}function hh(b,f){const a=f.name;var d=a+"_tuple_fields";const g=f.project.items.map(t=>{const y=b.fieldDef(t.channel);return y&&y.bin?"[".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(oa(b.vgField(t.channel,{})),"], ")+"".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(oa(b.vgField(t.channel,{binSuffix:"end"})),"]]"):"".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(oa(t.field),"]")}).join(", ");d="unit: ".concat(Vf(b),", fields: ").concat(d,", values");
f=f.events;return[{name:a+"_tuple",on:f?[{events:f,update:"datum \x26\x26 item().mark.marktype !\x3d\x3d 'group' ? {".concat(d,": [").concat(g,"]} : null"),force:!0}]:[]}]}function Qg(b,f){if(b=b.component.selection)for(const a of Mg(b))if(!0===f(a,Rm[a.type]))break}function Vf(b,f){({escape:f}=void 0===f?{escape:!0}:f);f=f?oa(b.name):b.name;for(b=b.parent;b&&!og(b);)b=b.parent;if(b){const {facet:a}=b;for(const d of Yf)a[d]&&(f+=" + '__facet_".concat(d,"_' + (facet[").concat(oa(b.vgField(d)),"])"))}return f}
function ei(b){let f=!1;Qg(b,a=>{f=f||a.project.items.some(d=>"_vgsid_"===d.field)});return f}function qg(b){this.type=b}function pk(b){switch(b.type){case "ArrayExpression":return b.elements;case "BinaryExpression":case "LogicalExpression":return[b.left,b.right];case "CallExpression":return[b.callee].concat(b.arguments);case "ConditionalExpression":return[b.test,b.consequent,b.alternate];case "MemberExpression":return[b.object,b.property];case "ObjectExpression":return b.properties;case "Property":return[b.key,
b.value];case "UnaryExpression":return[b.argument];default:return[]}}function fi(b,f){if(!b)throw Error("ASSERT: "+f);}function wg(b){return 48<=b&&57>=b}function Ef(b){return 0<="0123456789abcdefABCDEF".indexOf(b)}function uh(b){return 0<="01234567".indexOf(b)}function $f(b){return 10===b||13===b||8232===b||8233===b}function ji(b){return 36===b||95===b||65<=b&&90>=b||97<=b&&122>=b||92===b||128<=b&&Sm.test(String.fromCharCode(b))}function Pf(b){return 36===b||95===b||65<=b&&90>=b||97<=b&&122>=b||
48<=b&&57>=b||92===b||128<=b&&Tm.test(String.fromCharCode(b))}function ri(){for(;Sc<gg;){const b=ce.charCodeAt(Sc);if(32===b||9===b||11===b||12===b||160===b||5760<=b&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(b)||$f(b))++Sc;else break}}function Sg(b){var f=0;var a="u"===b?4:2;for(b=0;b<a;++b)if(Sc<gg&&Ef(ce[Sc])){var d=ce[Sc++];f=16*f+"0123456789abcdef".indexOf(d.toLowerCase())}else Ve({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(f)}
function Rg(){var b=ce.charCodeAt(Sc++);var f=String.fromCharCode(b);92===b&&(117!==ce.charCodeAt(Sc)&&Ve({},"Unexpected token %0","ILLEGAL"),++Sc,(b=Sg("u"))&&"\\"!==b&&ji(b.charCodeAt(0))||Ve({},"Unexpected token %0","ILLEGAL"),f=b);for(;Sc<gg;){b=ce.charCodeAt(Sc);if(!Pf(b))break;++Sc;f+=String.fromCharCode(b);92===b&&(f=f.substr(0,f.length-1),117!==ce.charCodeAt(Sc)&&Ve({},"Unexpected token %0","ILLEGAL"),++Sc,(b=Sg("u"))&&"\\"!==b&&Pf(b.charCodeAt(0))||Ve({},"Unexpected token %0","ILLEGAL"),
f+=b)}return f}function Ni(){var b=Sc,f=ce.charCodeAt(Sc),a=ce[Sc];switch(f){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Sc,{type:7,value:String.fromCharCode(f),start:b,end:Sc};default:var d=ce.charCodeAt(Sc+1);if(61===d)switch(f){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Sc+=2,{type:7,value:String.fromCharCode(f)+String.fromCharCode(d),start:b,end:Sc};case 33:case 61:return Sc+=2,61===ce.charCodeAt(Sc)&&
++Sc,{type:7,value:ce.slice(b,Sc),start:b,end:Sc}}}f=ce.substr(Sc,4);if("\x3e\x3e\x3e\x3d"===f)return Sc+=4,{type:7,value:f,start:b,end:Sc};f=f.substr(0,3);if("\x3e\x3e\x3e"===f||"\x3c\x3c\x3d"===f||"\x3e\x3e\x3d"===f)return Sc+=3,{type:7,value:f,start:b,end:Sc};f=f.substr(0,2);if(a===f[1]&&0<="+-\x3c\x3e\x26|".indexOf(a)||"\x3d\x3e"===f)return Sc+=2,{type:7,value:f,start:b,end:Sc};if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(a))return++Sc,{type:7,value:a,start:b,end:Sc};Ve({},"Unexpected token %0","ILLEGAL")}
function gi(){var b=ce[Sc];fi(wg(b.charCodeAt(0))||"."===b,"Numeric literal must start with a decimal digit or a decimal point");var f=Sc;var a="";if("."!==b){a=ce[Sc++];b=ce[Sc];if("0"===a){if("x"===b||"X"===b){++Sc;for(a="";Sc<gg&&Ef(ce[Sc]);)a+=ce[Sc++];0===a.length&&Ve({},"Unexpected token %0","ILLEGAL");ji(ce.charCodeAt(Sc))&&Ve({},"Unexpected token %0","ILLEGAL");return f={type:6,value:parseInt("0x"+a,16),start:f,end:Sc}}if(uh(b)){for(a="0"+ce[Sc++];Sc<gg&&uh(ce[Sc]);)a+=ce[Sc++];(ji(ce.charCodeAt(Sc))||
wg(ce.charCodeAt(Sc)))&&Ve({},"Unexpected token %0","ILLEGAL");return f={type:6,value:parseInt(a,8),octal:!0,start:f,end:Sc}}b&&wg(b.charCodeAt(0))&&Ve({},"Unexpected token %0","ILLEGAL")}for(;wg(ce.charCodeAt(Sc));)a+=ce[Sc++];b=ce[Sc]}if("."===b){for(a+=ce[Sc++];wg(ce.charCodeAt(Sc));)a+=ce[Sc++];b=ce[Sc]}if("e"===b||"E"===b){a+=ce[Sc++];b=ce[Sc];if("+"===b||"-"===b)a+=ce[Sc++];if(wg(ce.charCodeAt(Sc)))for(;wg(ce.charCodeAt(Sc));)a+=ce[Sc++];else Ve({},"Unexpected token %0","ILLEGAL")}ji(ce.charCodeAt(Sc))&&
Ve({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(a),start:f,end:Sc}}function qk(b,f){let a=b;0<=f.indexOf("u")&&(a=a.replace(/\\u\{([0-9a-fA-F]+)\}/g,(d,g)=>{if(1114111>=parseInt(g,16))return"x";Ve({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(a)}catch(d){Ve({},"Invalid regular expression")}try{return new RegExp(b,f)}catch(d){return null}}function yj(){ri();if(Sc>=gg)return{type:2,start:Sc,end:Sc};var b=ce.charCodeAt(Sc);if(ji(b)){b=
Sc;if(92===ce.charCodeAt(Sc))var f=Rg();else a:{for(f=Sc++;Sc<gg;){var a=ce.charCodeAt(Sc);if(92===a){Sc=f;f=Rg();break a}if(Pf(a))++Sc;else break}f=ce.slice(f,Sc)}return{type:1===f.length?3:Um.hasOwnProperty(f)?4:"null"===f?5:"true"===f||"false"===f?1:3,value:f,start:b,end:Sc}}if(40===b||41===b||59===b)return Ni();if(39===b||34===b){var d="";a=!1;b=ce[Sc];fi("'"===b||'"'===b,"String literal must starts with a quote");f=Sc;for(++Sc;Sc<gg;){var g=ce[Sc++];if(g===b){b="";break}else if("\\"===g)if((g=
ce[Sc++])&&$f(g.charCodeAt(0)))"\r"===g&&"\n"===ce[Sc]&&++Sc;else switch(g){case "u":case "x":if("{"===ce[Sc]){++Sc;var t=ce[Sc];g=0;for("}"===t&&Ve({},"Unexpected token %0","ILLEGAL");Sc<gg;){t=ce[Sc++];if(!Ef(t))break;g=16*g+"0123456789abcdef".indexOf(t.toLowerCase())}(1114111<g||"}"!==t)&&Ve({},"Unexpected token %0","ILLEGAL");g=65535>=g?String.fromCharCode(g):String.fromCharCode((g-65536>>10)+55296,(g-65536&1023)+56320);d+=g}else d+=Sg(g);break;case "n":d+="\n";break;case "r":d+="\r";break;case "t":d+=
"\t";break;case "b":d+="\b";break;case "f":d+="\f";break;case "v":d+="\x0B";break;default:uh(g)?(t="01234567".indexOf(g),0!==t&&(a=!0),Sc<gg&&uh(ce[Sc])&&(a=!0,t=8*t+"01234567".indexOf(ce[Sc++]),0<="0123".indexOf(g)&&Sc<gg&&uh(ce[Sc])&&(t=8*t+"01234567".indexOf(ce[Sc++]))),d+=String.fromCharCode(t)):d+=g}else if($f(g.charCodeAt(0)))break;else d+=g}""!==b&&Ve({},"Unexpected token %0","ILLEGAL");return{type:8,value:d,octal:a,start:f,end:Sc}}return 46===b?wg(ce.charCodeAt(Sc+1))?gi():Ni():wg(b)?gi():
Ni()}function fg(){const b=cf;Sc=b.end;cf=yj();Sc=b.end;return b}function Oi(){const b=Sc;cf=yj();Sc=b}function hi(b,f,a){const d=new qg("||"===b||"\x26\x26"===b?"LogicalExpression":"BinaryExpression");d.operator=b;d.left=f;d.right=a;return d}function ii(b){const f=new qg("Identifier");f.name=b;return f}function ih(b){const f=new qg("Literal");f.value=b.value;f.raw=ce.slice(b.start,b.end);b.regex&&("//"===f.raw&&(f.raw="/(?:)/"),f.regex=b.regex);return f}function Aj(b,f,a){const d=new qg("MemberExpression");
d.computed="["===b;d.object=f;d.property=a;d.computed||(a.member=!0);return d}function zj(b,f,a){const d=new qg("Property");d.key=f;d.value=a;d.kind=b;return d}function Ve(b,f){var a=Array.prototype.slice.call(arguments,2),d=f.replace(/%(\d)/g,(t,y)=>{fi(y<a.length,"Message reference must be in range");return a[y]});var g=Error(d);g.index=Sc;g.description=d;throw g;}function vh(b){2===b.type&&Ve(b,"Unexpected end of input");6===b.type&&Ve(b,"Unexpected number");8===b.type&&Ve(b,"Unexpected string");
3===b.type&&Ve(b,"Unexpected identifier");4===b.type&&Ve(b,"Unexpected reserved word");Ve(b,"Unexpected token %0",b.value)}function Nf(b){const f=fg();7===f.type&&f.value===b||vh(f)}function df(b){return 7===cf.type&&cf.value===b}function Qi(){Sc=cf.start;const b=fg();return 8===b.type||6===b.type?(b.octal&&Ve(b,"Octal literals are not allowed in strict mode."),ih(b)):ii(b.value)}function rk(){if(df("(")){Nf("(");var b=kh();Nf(")");return b}if(df("[")){b=[];Sc=cf.start;for(Nf("[");!df("]");)df(",")?
(fg(),b.push(null)):(b.push(ch()),df("]")||Nf(","));fg();var f=new qg("ArrayExpression");f.elements=b;return b=f}if(df("{")){b=[];f={};var a=String;Sc=cf.start;for(Nf("{");!df("}");){Sc=cf.start;var d=cf;if(3===d.type){var g=Qi();Nf(":");d=ch();d=zj("init",g,d)}else 2===d.type||7===d.type?(vh(d),d=void 0):(g=Qi(),Nf(":"),d=ch(),d=zj("init",g,d));g="Identifier"===d.key.type?d.key.name:a(d.key.value);g="$"+g;Object.prototype.hasOwnProperty.call(f,g)?Ve({},"Duplicate data property in object literal not allowed in strict mode"):
f[g]=!0;b.push(d);df("}")||Nf(",")}Nf("}");f=new qg("ObjectExpression");f.properties=b;return b=f}b=cf.type;Sc=cf.start;if(3===b||Vm[cf.value])f=ii(fg().value);else if(8===b||6===b)cf.octal&&Ve(cf,"Octal literals are not allowed in strict mode."),f=ih(fg());else{if(4===b)throw Error("Disabled.");if(1===b)b=fg(),b.value="true"===b.value,f=ih(b);else if(5===b)b=fg(),b.value=null,f=ih(b);else if(df("/")||df("/\x3d")){var t;cf=null;ri();b=Sc;f=ce[Sc];fi("/"===f,"Regular expression literal must start with a slash");
a=ce[Sc++];for(g=d=!1;Sc<gg;)if(f=ce[Sc++],a+=f,"\\"===f)f=ce[Sc++],$f(f.charCodeAt(0))&&Ve({},"Invalid regular expression: missing /"),a+=f;else if($f(f.charCodeAt(0)))Ve({},"Invalid regular expression: missing /");else if(d)"]"===f&&(d=!1);else if("/"===f){g=!0;break}else"["===f&&(d=!0);g||Ve({},"Invalid regular expression: missing /");f=a.substr(1,a.length-2);for(t=g="";Sc<gg;){d=ce[Sc];if(!Pf(d.charCodeAt(0)))break;++Sc;"\\"===d&&Sc<gg?Ve({},"Unexpected token %0","ILLEGAL"):(t+=d,g+=d)}0<=t.search(/[^gimuy]/g)&&
Ve({},"Invalid regular expression",t);d=t;t=qk(f,d);f=ih({literal:a+g,value:t,regex:{pattern:f,flags:d},start:b,end:Sc});Oi()}else vh(fg())}return f}function bk(){var b;for(b=rk();;)if(df(".")){Nf(".");Sc=cf.start;var f=fg();3===f.type||4===f.type||1===f.type||5===f.type||vh(f);f=ii(f.value);b=Aj(".",b,f)}else if(df("(")){f=[];Nf("(");if(!df(")"))for(;Sc<gg;){f.push(ch());if(df(")"))break;Nf(",")}Nf(")");{const a=new qg("CallExpression");a.callee=b;a.arguments=f;b=a}}else if(df("["))Nf("["),f=kh(),
Nf("]"),b=Aj("[",b,f);else break;if(7===cf.type&&(df("++")||df("--")))throw Error("Disabled.");return b}function Di(){if(7!==cf.type&&4!==cf.type)var b=bk();else{if(df("++")||df("--"))throw Error("Disabled.");if(df("+")||df("-")||df("~")||df("!")){var f=fg();b=Di();{f=f.value;const a=new qg("UnaryExpression");a.operator=f;a.argument=b;a.prefix=!0;b=a}}else{if(4===cf.type&&"delete"===cf.value||4===cf.type&&"void"===cf.value||4===cf.type&&"typeof"===cf.value)throw Error("Disabled.");b=bk()}}return b}
function ck(b){let f=0;if(7!==b.type&&4!==b.type)return 0;switch(b.value){case "||":f=1;break;case "\x26\x26":f=2;break;case "|":f=3;break;case "^":f=4;break;case "\x26":f=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":f=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":f=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":f=8;break;case "+":case "-":f=9;break;case "*":case "/":case "%":f=11}return f}function ch(){var b=
cf;var f=Di();var a=cf;var d=ck(a);if(0===d)var g=f;else{a.prec=d;fg();b=[b,cf];var t=Di();for(g=[f,a,t];0<(d=ck(cf));){for(;2<g.length&&d<=g[g.length-2].prec;)t=g.pop(),a=g.pop().value,f=g.pop(),b.pop(),f=hi(a,f,t),g.push(f);a=fg();a.prec=d;g.push(a);b.push(cf);f=Di();g.push(f)}d=g.length-1;f=g[d];for(b.pop();1<d;)b.pop(),f=hi(g[d-1].value,g[d-2],f),d-=2;g=f}df("?")&&(fg(),b=ch(),Nf(":"),d=ch(),f=new qg("ConditionalExpression"),f.test=g,f.consequent=b,f.alternate=d,g=f);return g}function kh(){const b=
ch();if(df(","))throw Error("Disabled.");return b}function sk(b){ce=b;Sc=0;gg=ce.length;cf=null;Oi();b=kh();if(2!==cf.type)throw Error("Unexpect token after expression.");return b}function jh(b){const f=[];if("Identifier"===b.type)return[b.name];if("Literal"===b.type)return[b.value];"MemberExpression"===b.type&&(f.push(...jh(b.object)),f.push(...jh(b.property)));return f}function ki(b){return"MemberExpression"===b.object.type?ki(b.object):"datum"===b.object.name}function Ri(b){b=sk(b);const f=new Set;
b.visit(a=>{"MemberExpression"===a.type&&ki(a)&&f.add(jh(a).slice(1).join("."))});return f}function yg(b,f){const a={},d=b.config.selection;for(const y of Zc(null!==f&&void 0!==f?f:{})){const C=oe(f[y]);var g=Object.assign({},d[C.type]);g=(delete g.fields,delete g.encodings,g);for(const pa in g)if(!("encodings"===pa&&C.fields||"fields"===pa&&C.encodings)&&("mark"===pa&&(C[pa]=Object.assign({},g[pa],C[pa])),void 0===C[pa]||!0===C[pa])){var t;C[pa]=null!==(t=g[pa])&&void 0!==t?t:C[pa]}g=F(y);const aa=
a[g]=Object.assign({},C,{name:g,events:ma(C.on)?Sh(C.on,"scope"):oe(C.on)});di(aa,pa=>{pa.has(aa)&&pa.parse&&pa.parse(b,aa,C,f[y])})}return a}function Ig(b,f,a,d){d=void 0===d?"datum":d;const g=[];f=Z(f,function(t){var y=F(t);t=b.getSelectionComponent(y,t);y=oa(y+"_store");if(t.project.timeUnit){const C=null!==a&&void 0!==a?a:b.component.data.raw,aa=t.project.timeUnit.clone();C.parent?aa.insertAsParentOf(C):C.parent=aa}"none"!==t.empty&&g.push(y);return"vlSelectionTest(".concat(y,", ").concat(d)+
("global"===t.resolve?")":", ".concat(oa(t.resolve),")"))});return(g.length?"!("+g.map(t=>"length(data(".concat(t,"))")).join(" || ")+") || ":"")+"(".concat(f,")")}function Jg(b,f){const a=f.encoding;let d=f.field;if(!a&&!d)d=b.project.items[0].field,1<b.project.items.length&&lb('A "field" or "encoding" must be specified when using a selection as a scale domain. '+'Using "field": '.concat(oa(d),"."));else if(a&&!d){const g=b.project.items.filter(t=>t.channel===a);!g.length||1<g.length?(d=b.project.items[0].field,
lb((g.length?"Multiple ":"No ")+"matching ".concat(oa(a)," encoding found for selection ").concat(oa(f.selection),". ")+'Using "field": '.concat(oa(d),"."))):d=g[0].field}return"".concat(b.name,"[").concat(oa(d),"]")}function Tg(b,f){Qg(b,a=>{const d=a.name,g=b.getName("lookup_".concat(d));b.component.data.outputNodes[g]=a.materialized=new lg(new kk(f,b,{selection:d}),g,vf.Lookup,b.component.data.outputNodeRefCounts)})}function Ug(b,f,a){return Z(f,d=>ma(d)?d:(null===d||void 0===d?0:d.selection)?
Ig(b,d.selection,a):Ae(d))}function li(b,f){if(b)return Wd(b)&&!Bd(b)?b.map(a=>ik(a,f)).join(", "):b}function mh(b,f,a,d){var g,t,y;b.encode=null!==(g=b.encode)&&void 0!==g?g:{};b.encode[f]=null!==(t=b.encode[f])&&void 0!==t?t:{};b.encode[f].update=null!==(y=b.encode[f].update)&&void 0!==y?y:{};b.encode[f].update[a]=d}function lh(b,f,a,d){d=void 0===d?{header:!1}:d;var g=b.combine(),t=Object.assign({},g),y=g.disable;const C=g.orient,aa=g.scale,pa=g.labelExpr,cb=g.title;g=g.zindex;t=(delete t.disable,
delete t.orient,delete t.scale,delete t.labelExpr,delete t.title,delete t.zindex,t);if(!y){for(const xc in t){var ib=rl[xc];y=t[xc];if(ib&&ib!==f&&"both"!==ib)delete t[xc];else if(u(y)){ib=y;y=Object.assign({},ib);ib=ib.condition;y=(delete y.condition,y);ib=ab(ib);const Dc=Ek[xc];if(Dc){const {vgProp:cd,part:kd}=Dc;y=[...ib.map(Qd=>{var Ee=Object.assign({},Qd);Qd=Qd.test;Ee=(delete Ee.test,Ee);return Object.assign({},{test:Ug(null,Qd)},Ee)}),y];mh(t,kd,cd,y);delete t[xc]}else null===Dc&&(y={signal:ib.map(cd=>
{var kd=Object.assign({},cd);cd=cd.test;kd=(delete kd.test,kd);return"".concat(Ug(null,cd)," ? ").concat(se(kd)," : ")}).join("")+se(y)},t[xc]=y)}else if(ic(y)&&(ib=Ek[xc])){const {vgProp:Dc,part:cd}=ib;mh(t,cd,Dc,y);delete t[xc]}}if("grid"===f){if(t.grid)return t.encode&&({grid:a}=t.encode,t.encode=Object.assign({},a?{grid:a}:{}),E(t.encode)&&delete t.encode),Object.assign({},{scale:aa,orient:C},t,{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:V(g,0)})}else if(d.header||!b.mainExtracted){if(void 0!==
pa){var Ib,qc;f=pa;(null===(Ib=t.encode)||void 0===Ib?0:null===(qc=Ib.labels)||void 0===qc?0:qc.update)&&ic(t.encode.labels.update.text)&&(f=G(pa,"datum.label",t.encode.labels.update.text.signal));mh(t,"labels","text",{signal:f})}null===t.labelAlign&&delete t.labelAlign;if(t.encode){for(const xc of Pj)b.hasAxisPart(xc)||delete t.encode[xc];E(t.encode)&&delete t.encode}b=li(cb,a);return Object.assign({},{scale:aa,orient:C,grid:!1},b?{title:b}:{},t,!1===a.aria?{aria:!1}:{},{zindex:V(g,0)})}}}function tk(b){const {axes:f}=
b.component,a=[];for(const d of Tf)if(f[d])for(const g of f[d])if(!g.get("disable")&&!g.get("gridScale")){const t="x"===d?"height":"width",y=b.getSizeSignalRef(t).signal;t!==y&&a.push({name:t,update:y})}return a}function vk(b,f){const {x:a=[],y:d=[]}=b;return[...a.map(g=>lh(g,"grid",f)),...d.map(g=>lh(g,"grid",f)),...a.map(g=>lh(g,"main",f)),...d.map(g=>lh(g,"main",f))].filter(g=>g)}function Dj(b,f,a,d){return Object.assign.apply(null,[{},...b.map(g=>{if("axisOrient"===g){g="x"===a?"bottom":"left";
const t=f["x"===a?"axisBottom":"axisLeft"]||{},y=f["x"===a?"axisTop":"axisRight"]||{},C=new Set([...Zc(t),...Zc(y)]),aa={};for(const pa of C.values())aa[pa]={signal:"".concat(d.signal,' \x3d\x3d\x3d "').concat(g,'" ? ').concat(ee(t[pa])," : ").concat(ee(y[pa]))};return aa}return f[g]})])}function Cj(b,f,a,d){var g="band"===f?["axisDiscrete","axisBand"]:"point"===f?["axisDiscrete","axisPoint"]:f in pb?["axisQuantitative"]:"time"===f||"utc"===f?["axisTemporal"]:[];const t="x"===b?"axisX":"axisY";f=
ic(a)?"axisOrient":"axis"+P(a);g=[...g,...g.map(y=>t+y.substr(4))];f=["axis",f,t];return{vlOnlyAxisConfig:Dj(g,d,b,a),vgAxisConfig:Dj(f,d,b,a),axisConfigStyle:vl([...f,...g],d)}}function vl(b,f){const a=[{}];for(const g of b){var d;if(b=null===(d=f[g])||void 0===d?void 0:d.style){b=ab(b);for(const t of b)a.push(f.style[t])}}return Object.assign.apply(null,a)}function kj(b,f,a,d){d=void 0===d?{}:d;f=bg(b,a,f);if(void 0!==f)return{configFrom:"style",configValue:f};for(const t of["vlOnlyAxisConfig",
"vgAxisConfig","axisConfigStyle"]){var g;if(void 0!==(null===(g=d[t])||void 0===g?void 0:g[b]))return{configFrom:t,configValue:d[t][b]}}return{}}function dk(b,f,a,d,g){const t=null===f||void 0===f?void 0:f.labelAngle;if(void 0!==t)return ic(t)?t:m(t);({configValue:f}=kj("labelAngle",d,null===f||void 0===f?void 0:f.style,g));if(void 0!==f)return m(f);if("x"===a&&va(["nominal","ordinal"],b.type)&&(!Oc(b)||!b.timeUnit))return 270}function Ej(b){return"(((".concat(b.signal," % 360) + 360) % 360)")}function wk(b,
f,a,d){if(void 0!==b)return"x"===a?ic(b)?(d=Ej(b),f=ic(f)?"(".concat(f.signal,' \x3d\x3d\x3d "top")'):"top"===f,{signal:"(45 \x3c ".concat(d," \x26\x26 ").concat(d," \x3c 135) || (225 \x3c ").concat(d," \x26\x26 ").concat(d,' \x3c 315) ? "middle" :')+"(".concat(d," \x3c\x3d 45 || 315 \x3c\x3d ").concat(d,") \x3d\x3d\x3d ").concat(f,' ? "bottom" : "top"')}):45<b&&135>b||225<b&&315>b?"middle":ic(f)?(d=45>=b||315<=b?"\x3d\x3d\x3d":"!\x3d\x3d",{signal:"".concat(f.signal," ").concat(d,' "top" ? "bottom" : "top"')}):
(45>=b||315<=b)===("top"===f)?"bottom":"top":ic(b)?(b=Ej(b),f=ic(f)?"(".concat(f.signal,' \x3d\x3d\x3d "left")'):"left"===f,d=d?'"middle"':"null",{signal:"".concat(b," \x3c\x3d 45 || 315 \x3c\x3d ").concat(b," || (135 \x3c\x3d ").concat(b," \x26\x26 ").concat(b," \x3c\x3d 225) ? ").concat(d," : (45 \x3c\x3d ").concat(b," \x26\x26 ").concat(b," \x3c\x3d 135) \x3d\x3d\x3d ").concat(f,' ? "top" : "bottom"')}):45>=b||315<=b||135<=b&&225>=b?d?"middle":null:ic(f)?(d=45<=b&&135>=b?"\x3d\x3d\x3d":"!\x3d\x3d",
{signal:"".concat(f.signal," ").concat(d,' "left" ? "top" : "bottom"')}):(45<=b&&135>=b)===("left"===f)?"top":"bottom"}function mi(b,f,a){if(void 0!==b){var d=(a="x"===a)?0:90,g=a?"bottom":"left";return ic(b)?(b=Ej(b),f=ic(f)?"(".concat(f.signal,' \x3d\x3d\x3d "').concat(g,'")'):f===g,{signal:"(".concat(d?"("+b+" + 90)":b," % 180 \x3d\x3d\x3d 0) ? ").concat(a?null:'"center"'," :")+"(".concat(d," \x3c ").concat(b," \x26\x26 ").concat(b," \x3c ").concat(180+d,") \x3d\x3d\x3d ").concat(f,' ? "left" : "right"')}):
0===(b+d)%180?a?null:"center":ic(f)?(a=d<b&&b<180+d?"\x3d\x3d\x3d":"!\x3d\x3d",f="".concat(f.signal," ").concat(a,' "').concat(g,'"'),{signal:"".concat(f,' ? "left" : "right"')}):(d<b&&b<180+d)===(f===g)?"left":"right"}}function Dh(b,f){var a="x"===f?"x2":"y2";f=b.fieldDef(f);b=b.fieldDef(a);a=f?f.title:void 0;b=b?b.title:void 0;if(a&&b)return A(a,b);if(a)return a;if(b)return b;if(void 0!==a)return a;if(void 0!==b)return b}function Xh(b,f,a){return ed(b,Object.assign({},{prefix:f,suffix:"sort_index"},
null!==a&&void 0!==a?a:{}))}function Si(b,f){return va(["top","bottom"],f)?"column":va(["left","right"],f)?"row":"row"===b?"row":"column"}function nh(b,f,a,d){return V((f||{})[b],("row"===d?a.headerRow:"column"===d?a.headerColumn:a.headerFacet)[b],a.header[b])}function ni(b,f,a,d){const g={};for(const t of b)b=nh(t,f||{},a,d),void 0!==b&&(g[t]=b);return g}function Fj(b,f){const a=b.component.layoutHeaders[f].title,d=b.config?b.config:void 0;b=b.component.layoutHeaders[f].facetFieldDef?b.component.layoutHeaders[f].facetFieldDef:
void 0;const {titleAnchor:g,titleAngle:t,titleOrient:y}=ni(["titleAnchor","titleAngle","titleOrient"],b.header,d,f),C=Si(f,y),aa=m(t);return{name:"".concat(f,"-title"),type:"group",role:"".concat(C,"-title"),title:Object.assign({},{text:a},"row"===f?{orient:"left"}:{},{style:"guide-title"},jj(aa,C),Ti(C,aa,g),lj(d,b,f,Wm,dm))}}function Ti(b,f,a){switch(void 0===a?"middle":a){case "start":return{align:"left"};case "end":return{align:"right"}}return(b=mi(f,"row"===b?"left":"top","row"===b?"y":"x"))?
{align:b}:{}}function jj(b,f){return(b=wk(b,"row"===f?"left":"top","row"===f?"y":"x",!0))?{baseline:b}:{}}function Xj(b,f){const a=b.component.layoutHeaders[f],d=[];for(const ib of El)if(a[ib])for(const Ib of a[ib]){a:{var g=b;var t=f,y=ib,C=a,aa=Ib;if(aa){let qc=null;const {facetFieldDef:xc}=C;var pa=g.config?g.config:void 0;if(xc&&aa.labels){var {labelOrient:cb}=ni(["labelOrient"],xc.header,pa,t);if("row"===t&&!va(["top","bottom"],cb)||"column"===t&&!va(["left","right"],cb))qc=Vj(xc,t,pa)}pa=og(g)&&
!Hd(g.facet);cb=aa.axes;const Dc=0<(null===cb||void 0===cb?void 0:cb.length);if(qc||Dc){const cd="row"===t?"height":"width";g=Object.assign({},{name:g.getName("".concat(t,"_").concat(y)),type:"group",role:"".concat(t,"-").concat(y)},C.facetFieldDef?{from:{data:g.getName(t+"_domain")},sort:Tj(xc,t)}:{},Dc&&pa?{from:{data:g.getName("facet_domain_".concat(t))}}:{},qc?{title:qc}:{},aa.sizeSignal?{encode:{update:{[cd]:aa.sizeSignal}}}:{},Dc?{axes:cb}:{});break a}}g=null}null!=g&&d.push(g)}return d}function Tj(b,
f){const {sort:a}=b;if(Nd(a)){var d;return{field:ed(a,{expr:"datum"}),order:null!==(d=a.order)&&void 0!==d?d:"ascending"}}return Wd(a)?{field:Xh(b,f,{expr:"datum"}),order:"ascending"}:{field:ed(b,{expr:"datum"}),order:null!==a&&void 0!==a?a:"ascending"}}function Vj(b,f,a){const {format:d,formatType:g,labelAngle:t,labelAnchor:y,labelOrient:C,labelExpr:aa}=ni("format formatType labelAngle labelAnchor labelOrient labelExpr".split(" "),b.header,a,f),pa=Jd({fieldOrDatumDef:b,format:d,formatType:g,expr:"parent",
config:a}).signal,cb=Si(f,C);return Object.assign({},{text:{signal:aa?G(G(aa,"datum.label",pa),"datum.value",ed(b,{expr:"parent"})):pa}},"row"===f?{orient:"left"}:{},{style:"guide-label",frame:"group"},jj(t,cb),Ti(cb,t,y),lj(a,b,f,Xm,em))}function lj(b,f,a,d,g){const t={};for(const y of d)g[y]&&(d=nh(y,null===f||void 0===f?void 0:f.header,b,a),void 0!==d&&(t[g[y]]=d));return t}function zg(b){return[...oh(b,"width"),...oh(b,"height"),...oh(b,"childWidth"),...oh(b,"childHeight")]}function oh(b,f){var a=
"width"===f?"x":"y",d=b.component.layoutSize.get(f);if(!d||"merged"===d)return[];f=b.getSizeSignalRef(f).signal;if("step"===d){if(d=b.getScaleComponent(a)){var g=d.get("type");const t=d.get("range");if(g in sd&&Yb(t))return g=b.scaleName(a),og(b.parent)&&"independent"===b.parent.component.resolve.scale[a]?[{name:g+"_step",value:t.step}]:[{name:g+"_step",value:t.step},{name:f,update:Eh(g,d,"domain('".concat(g,"').length"))}]}throw Error("layout size is step although width/height is not step.");}return"container"==
d?(a=(d=f.endsWith("width"))?"containerSize()[0]":"containerSize()[1]",b=jc(b.config.view,d?"width":"height"),b="isFinite(".concat(a,") ? ").concat(a," : ").concat(b),[{name:f,init:b,on:[{update:b,events:"window:resize"}]}]):[{name:f,value:d}]}function Eh(b,f,a){const d=f.get("type"),g=f.get("padding"),t=V(f.get("paddingOuter"),g);f=f.get("paddingInner");f="band"===d?void 0!==f?f:g:1;return"bandspace(".concat(a,", ").concat(ee(f),", ").concat(ee(t),") * ").concat(b,"_step")}function Kg(b){return"childWidth"===
b?"width":"childHeight"===b?"height":b}function Ui(b,f){return Zc(b).reduce((a,d)=>Object.assign({},a,Uh(f,b[d],d,g=>Cd(g.value))),{})}function Fh(b,f){const a=f in Cf?"axis":"legend";return"independent"===b.scale[f]?("shared"===b[a][f]&&lb('Setting the scale to be independent for "'.concat(f,'" means we also have to set the guide (axis or legend) to be independent.')),"independent"):b[a][f]||"shared"}function Rk(b){return xk(b,(f,a)=>Math.max(f,a.value))}function ek(b){return xk(b,(f,a)=>V(f,a.value))}
function xk(b,f){var a=b&&b.condition;if(a=!!a&&(Wd(a)||ie(a)))return ab(b.condition).reduce(f,b.value);if(ie(b))return b.value}function Vi(b,f,a){b=f.get("selections");if(null!==b&&void 0!==b&&b.length){var d=oa(a.field);return b.map(g=>{const t=oa(F(g)+"_store");return"(!length(data(".concat(t,")) || (").concat(g,"[").concat(d,"] \x26\x26 indexof(").concat(g,"[").concat(d,"], datum.value) \x3e\x3d 0))")}).join(" || ")}}function Yh(b,f,a,d){b=b.getSizeSignalRef(f).signal;return{signal:"clamp(".concat(b,
", ").concat(a,", ").concat(d,")")}}function Sk(b){var f;if(mf(b)){var {encoding:a}=b,d={};for(const Ie of["color",...fm]){var g=z(a[Ie]);if(g&&b.getScaleComponent(Ie)&&("shape"!==Ie||!Oc(g)||"geojson"!==g.type)){a:{var t=g=void 0,y=void 0,C=void 0,aa=void 0;var pa=void 0;var cb=b,ib=Ie;let he=cb.legend(ib);const {markDef:hf,encoding:Df,config:Xe}=cb;var Ib=Xe.legend;b:{var qc=cb;var xc=ib,Dc=qc.scaleName(xc);if("trail"===qc.mark){if("color"===xc){qc={stroke:Dc};break b}if("size"===xc){qc={strokeWidth:Dc};
break b}}qc="color"===xc?qc.markDef.filled?{fill:Dc}:{stroke:Dc}:{[xc]:Dc}}qc=new Ym({},qc);uj(cb,ib,qc);xc=void 0!==he?!he:Ib.disable;qc.set("disable",xc,void 0!==he);if(xc){g=qc;break a}he=he||{};Dc=cb.getScaleComponent(ib).get("type");xc=z(Df[ib]);var cd=Oc(xc)?null===(pa=sb(xc.timeUnit))||void 0===pa?void 0:pa.unit:void 0;const Gf=he.orient||Xe.legend.orient||"right";pa={legend:he,channel:ib,timeUnit:cd,scaleType:Dc};({legend:cd}=pa);cd=cd.type;b:{var {channel:kd,timeUnit:Qd,scaleType:Ee}=pa;
if($a(kd)){if(va(["quarter","month","day"],Qd)){pa="symbol";break b}if(Ee in eb){pa="gradient";break b}}pa="symbol"}pa=V(cd,pa);var {legendConfig:Gd,legendType:Ce,orient:nd,legend:qf}={legend:he,legendType:pa,orient:Gf,legendConfig:Ib};if(null!==(y=null!==(t=qf.direction)&&void 0!==t?t:Gd[Ce?"gradientDirection":"symbolDirection"])&&void 0!==y)t=y;else b:{switch(nd){case "top":case "bottom":t="horizontal";break b;case "left":case "right":case "none":case void 0:break;default:t="gradient"===Ce?"horizontal":
void 0;break b}t=void 0}Ib={legend:he,channel:ib,model:cb,markDef:hf,encoding:Df,fieldOrDatumDef:xc,legendConfig:Ib,config:Xe,scaleType:Dc,orient:Gf,legendType:pa,direction:t};for(const uf of gm)if(!("gradient"===pa&&uf.startsWith("symbol")||"symbol"===pa&&uf.startsWith("gradient"))&&(t=uf in hm?hm[uf](Ib):he[uf],void 0!==t)){b:{y=cb.fieldDef(ib);switch(uf){case "disable":y=void 0!==he;break b;case "values":y=!(null===he||void 0===he||!he.values);break b;case "title":if("title"===uf&&t===(null===
y||void 0===y?void 0:y.title)){y=!0;break b}}y=t===(he||{})[uf]}(y||void 0===Xe.legend[uf])&&qc.set(uf,t,y)}Ib=null!==(aa=null===(C=he)||void 0===C?void 0:C.encoding)&&void 0!==aa?aa:{};C=qc.get("selections");aa={};ib={fieldOrDatumDef:xc,model:cb,channel:ib,legendCmpt:qc,legendType:pa};for(const uf of"labels legend title symbols gradient entries".split(" "))t=Ui(null!==(f=Ib[uf])&&void 0!==f?f:{},cb),t=uf in im?im[uf](t,ib):t,void 0===t||E(t)||(aa[uf]=Object.assign({},(null===C||void 0===C?0:C.length)&&
Oc(xc)?{name:"".concat(F(xc.field),"_legend_").concat(uf)}:{},(null===C||void 0===C?0:C.length)?{interactive:!!C}:{},{update:t}));E(aa)||qc.set("encode",aa,!(null===(g=he)||void 0===g||!g.encoding));g=qc}d[Ie]=g}}f=d}else{{const {legends:Ie,resolve:he}=b.component;for(a of b.children){Sk(a);for(d of Zc(a.component.legends))he.legend[d]=Fh(b.component.resolve,d),"shared"===he.legend[d]&&(Ie[d]=Ij(Ie[d],a.component.legends[d]),Ie[d]||(he.legend[d]="independent",delete Ie[d]))}for(g of Zc(Ie))for(cb of b.children)cb.component.legends[g]&&
"shared"===he.legend[g]&&delete cb.component.legends[g];f=Ie}}return b.component.legends=f}function Ij(b,f){if(!b)return f.clone();var a=b.getWithExplicit("orient");const d=f.getWithExplicit("orient");if(!a.explicit||!d.explicit||a.value===d.value){var g=!1;for(const pa of gm)a=Ue(b.getWithExplicit(pa),f.getWithExplicit(pa),pa,"legend",(cb,ib)=>{switch(pa){case "symbolType":return cb="circle"===ib.value?ib:cb,cb;case "title":return B(cb,ib);case "type":return g=!0,ff("symbol")}return wd(cb,ib,pa,
"legend")}),b.setWithExplicit(pa,a);if(g){var t,y,C,aa;(null===(t=b.implicit)||void 0===t?0:null===(y=t.encode)||void 0===y?0:y.gradient)&&D(b.implicit,["encode","gradient"]);(null===(C=b.explicit)||void 0===C?0:null===(aa=C.encode)||void 0===aa?0:aa.gradient)&&D(b.explicit,["encode","gradient"])}return b}}function Hj(b){const f=b.component.legends,a={};for(const g of Zc(f)){var d=b.getScaleComponent(g);d=Re(d.get("domains"));if(a[d])for(const t of a[d])Ij(t,f[g])||a[d].push(f[g]);else a[d]=[f[g].clone()]}return Mg(a).flat().map(g=>
{{var t=b.config,y,C=g.combine();g=Object.assign({},C);const xc=C.disable;C=C.labelExpr;g=(delete g.disable,delete g.labelExpr,delete g.selections,g);if(xc)var aa=void 0;else{!1===t.aria&&void 0==g.aria&&(g.aria=!1);if(null===(y=g.encode)||void 0===y?0:y.symbols){t=g.encode.symbols.update;!t.fill||"transparent"===t.fill.value||t.stroke||g.stroke||(t.stroke={value:"transparent"});for(var pa of fm)g[pa]&&delete t[pa]}g.title||delete g.title;if(void 0!==C){var cb,ib;pa=C;(null===(cb=g.encode)||void 0===
cb?0:null===(ib=cb.labels)||void 0===ib?0:ib.update)&&ic(g.encode.labels.update.text)&&(pa=G(C,"datum.label",g.encode.labels.update.text.signal));cb=g;ib={signal:pa};var Ib,qc;cb.encode=null!==(aa=cb.encode)&&void 0!==aa?aa:{};cb.encode.labels=null!==(Ib=cb.encode.labels)&&void 0!==Ib?Ib:{};cb.encode.labels.update=null!==(qc=cb.encode.labels.update)&&void 0!==qc?qc:{};cb.encode.labels.update.text=ib}aa=g}}return aa}).filter(g=>void 0!==g)}function Pg(b){return b.children.reduce((f,a)=>f.concat(a.assembleProjections()),
Gj(b))}function Gj(b){var f=b.component.projection;if(!f||f.merged)return[];const a=f.combine(),{name:d}=a;if(f.data){const g={signal:"[".concat(f.size.map(t=>t.signal).join(", "),"]")};f=f.data.reduce((t,y)=>{y=ic(y)?y.signal:"data('".concat(b.lookupDataSource(y),"')");va(t,y)||t.push(y);return t},[]);if(0>=f.length)throw Error("Projection's fit didn't find any data sources");return[Object.assign({},{name:d,size:g,fit:{signal:1<f.length?"[".concat(f.join(", "),"]"):f[0]}},a)]}return[Object.assign({},
{name:d},{translate:{signal:"[width / 2, height / 2]"}},a)]}function ph(b){var f=b.component;if(mf(b))if(b.hasProjection){var a;const t=b.specifiedProjection;var d=!(t&&(null!=t.scale||null!=t.translate));const y=d?[b.getSizeSignalRef("width"),b.getSizeSignalRef("height")]:void 0;if(d){{d=[];const {encoding:C}=b;for(g of[["longitude","latitude"],["longitude2","latitude2"]])(z(C[g[0]])||z(C[g[1]]))&&d.push({signal:b.getName("geojson_".concat(d.length))});b.channelHasField("shape")&&"geojson"===b.typedFieldDef("shape").type&&
d.push({signal:b.getName("geojson_".concat(d.length))});0===d.length&&d.push(b.requestDataName(vf.Main));var g=d}}else g=void 0;b=new jm(b.projectionName(!0),Object.assign({},null!==(a=b.config.projection)&&void 0!==a?a:{},null!==t&&void 0!==t?t:{}),y,g)}else b=void 0;else b=ol(b);f.projection=b}function wl(b,f){const a=la(Zm,d=>!Nh.call(b.explicit,d)&&!Nh.call(f.explicit,d)||Nh.call(b.explicit,d)&&Nh.call(f.explicit,d)&&Re(b.get(d))===Re(f.get(d))?!0:!1);if(Re(b.size)===Re(f.size)){if(a)return b;
if(Re(b.explicit)===Re({}))return f;if(Re(f.explicit)===Re({}))return b}return null}function ol(b){if(0!==b.children.length){var f;for(var a of b.children)ph(a);a=la(b.children,d=>{if(d=d.component.projection){if(f)return(d=wl(f,d))&&(f=d),!!d;f=d}return!0});if(f&&a){a=b.projectionName(!0);const d=new jm(a,f.specifiedProjection,f.size,oe(f.data));for(const g of b.children)if(b=g.component.projection)b.isFit&&d.data.push(...g.component.projection.data),g.renameProjection(b.get("name"),a),b.merged=
!0;return d}}}function yk(b,f,a,d){if(Xc(f,a)){var g,t;b=mf(b)?null!==(g=null!==(t=b.axis(a))&&void 0!==t?t:b.legend(a))&&void 0!==g?g:{}:{};g=ed(f,{expr:"datum"});t=ed(f,{expr:"datum",binSuffix:"end"});return{formulaAs:ed(f,{binSuffix:"range",forAs:!0}),formula:Ge(g,t,b.format,b.formatType,d)}}return{}}function Gh(b,f){return"".concat(Uc(b),"_").concat(f)}function qh(b,f,a){var d;a=null!==(d=wb(a,void 0))&&void 0!==d?d:{};f=Gh(a,f);return b.getName("".concat(f,"_bins"))}function mj(b,f,a){let d;
d="as"in b?ma(b.as)?[b.as,"".concat(b.as,"_end")]:[b.as[0],b.as[1]]:[ed(b,{forAs:!0}),ed(b,{binSuffix:"end",forAs:!0})];const g=Object.assign({},wb(f,void 0));f=Gh(g,b.field);var t={signal:a.getName("".concat(f,"_bins")),extentSignal:a.getName("".concat(f,"_extent"))};const {signal:y,extentSignal:C}=t;if(ya(g.extent)){var aa=g.extent;t=aa.selection;aa=Jg(a.getSelectionComponent(F(t),t),aa);delete g.extent}b=Object.assign({},{bin:g,field:b.field,as:[d]},y?{signal:y}:{},C?{extentSignal:C}:{},aa?{span:aa}:
{});return{key:f,binComponent:b}}function Tk(b){return"'"===b[0]&&"'"===b[b.length-1]||'"'===b[0]&&'"'===b[b.length-1]?b.slice(1,-1):b}function Ei(b,f){b=N(b);if("number"===f)return"toNumber(".concat(b,")");if("boolean"===f)return"toBoolean(".concat(b,")");if("string"===f)return"toString(".concat(b,")");if("date"===f)return"toDate(".concat(b,")");if("flatten"===f)return b;if(0===f.indexOf("date:"))return f=Tk(f.slice(5,f.length)),"timeParse(".concat(b,",'").concat(f,"')");if(0===f.indexOf("utc:"))return f=
Tk(f.slice(4,f.length)),"utcParse(".concat(b,",'").concat(f,"')");lb('Unrecognized parse "'.concat(f,'".'));return null}function pl(b){const f={};Ua(b.filter,a=>{if(Yd(a)){let g=null;if(Ec(a))g=pd(a.equal);else if(id(a))g=pd(a.lte);else if(Cc(a))g=pd(a.lt);else if(jd(a))g=pd(a.gt);else if(qd(a))g=pd(a.gte);else if(ud(a))g=a.range[0];else if(be(a)){var d;g=(null!==(d=a.oneOf)&&void 0!==d?d:a["in"])[0]}g&&(Xb(g)?f[a.field]="date":Ca(g)?f[a.field]="number":ma(g)&&(f[a.field]="string"));a.timeUnit&&(f[a.field]=
"date")}});return f}function Uk(b){function f(d){if(Wb(d))a[d.field]="date";else{var g;if(g="quantitative"===d.type)g=d.aggregate,g=ma(g)&&va(["min","max"],g);g?a[d.field]="number":1<ba(d.field)?d.field in a||(a[d.field]="flatten"):ye(d)&&Nd(d.sort)&&1<ba(d.sort.field)&&(d.sort.field in a||(a[d.sort.field]="flatten"))}}const a={};(mf(b)||og(b))&&b.forEachFieldDef((d,g)=>{vd(d)?f(d):(g=Ba(g),g=b.fieldDef(g),f(Object.assign({},d,{type:g.type})))});if(mf(b)){const {mark:d,markDef:g,encoding:t}=b;if(Za(d)&&
!b.encoding.order){const y=t["horizontal"===g.orient?"y":"x"];!Oc(y)||"quantitative"!==y.type||y.field in a||(a[y.field]="number")}}return a}function nj(b){return b instanceof Hi||b instanceof fl||b instanceof gl}function Vk(b){return b.stack.stackBy.reduce((f,a)=>{(a=ed(a.fieldDef))&&f.push(a);return f},[])}function Wk(b){return Wd(b)&&b.every(f=>ma(f))&&1<b.length}function Fi(b){function f(a){if(!(a instanceof rj)){const d=a.clone();if(d instanceof lg){const g="scale_"+d.getSource();d.setSource(g);
b.model.component.data.outputNodes[g]=d}else(d instanceof dh||d instanceof bi||d instanceof lk||d instanceof sj)&&d.addDimensions(b.fields);for(const g of a.children.flatMap(f))g.parent=d;return[d]}return a.children.flatMap(f)}return f}function oj(b){if(b instanceof rj)if(1!==b.numChildren()||b.children[0]instanceof lg){var f=b.model.component.data.main;Zh(f);const a=Fi(b);b=b.children.map(a).flat();for(const d of b)d.parent=f}else f=b.children[0],(f instanceof dh||f instanceof bi||f instanceof lk||
f instanceof sj)&&f.addDimensions(b.fields),f.swapWithParent(),oj(b);else b.children.map(oj)}function Zh(b){if(b instanceof lg&&b.type===vf.Main&&1===b.numChildren()){const f=b.children[0];f instanceof rj||(f.swapWithParent(),Zh(b))}}function fk(b){for(const f of b){for(const a of f.children)if(a.parent!==f)return!1;if(!fk(f.children))return!1}return!0}function Mf(b,f){let a=!1;for(const d of f)a=b.optimize(d)||a;return a}function zk(b,f,a){let d=b.sources,g=!1;g=Mf(new $m,d)||g;g=Mf(new an(f),d)||
g;d=d.filter(t=>0<t.numChildren());g=Mf(new bn,d)||g;d=d.filter(t=>0<t.numChildren());a||(g=Mf(new cn,d)||g,g=Mf(new dn(f),d)||g,g=Mf(new en,d)||g,g=Mf(new fn,d)||g,g=Mf(new gn,d)||g,g=Mf(new hn,d)||g,g=Mf(new jn,d)||g,g=Mf(new kn,d)||g);b.sources=d;return g}function Xk(b){const f=b.component.scales;for(const pa of Zc(f)){var a=b;var d=pa,g=a.getScaleComponent(d).get("type"),{encoding:t}=a;var y=a.scaleDomain(d);var C=a.typedFieldDef(d),aa=a.config.scale;if("unaggregated"===y){const {valid:cb,reason:ib}=
Yk(C,g);cb||(lb(ib),y=void 0)}else void 0===y&&aa.useUnaggregatedDomain&&({valid:C}=Yk(C,g),C&&(y="unaggregated"));y!==a.scaleDomain(d)&&(a.specifiedScales[d]=Object.assign({},a.specifiedScales[d],{domain:y}));a="x"===d&&z(t.x2)?z(t.x)?Ue(ng(g,y,a,"x"),ng(g,y,a,"x2"),"domain","scale",gk):ng(g,y,a,"x2"):"y"===d&&z(t.y2)?z(t.y)?Ue(ng(g,y,a,"y"),ng(g,y,a,"y2"),"domain","scale",gk):ng(g,y,a,"y2"):ng(g,y,a,d);f[pa].setWithExplicit("domains",a);t=void 0;d=b.component.scales[pa];y=b.specifiedScales[pa].domain;
g=null===(t=b.fieldDef(pa))||void 0===t?void 0:t.bin;t=ef(y)&&y;g=db(g)&&ya(g.extent)&&g.extent;(t||g)&&d.set("selectionExtent",null!==t&&void 0!==t?t:g,!0);if(b.component.data.isFaceted){for(d=b;!og(d)&&d.parent;)d=d.parent;if("shared"===d.component.resolve.scale[pa])for(const cb of a.value)lc(cb)&&(cb.data="scale_"+cb.data.replace("scale_",""))}}}function Jj(b){for(var f of b.children){var a=f;mf(a)?Xk(a):Jj(a)}a=b.component.scales;for(const g of Zc(a)){let t;f=null;for(const y of b.children){var d=
y.component.scales[g];d&&(t=void 0===t?d.getWithExplicit("domains"):Ue(t,d.getWithExplicit("domains"),"domains","scale",gk),d=d.get("selectionExtent"),f&&d&&f.selection!==d.selection&&lb("The same selection must be used to override scale domains in a layered view."),f=d)}a[g].setWithExplicit("domains",t);f&&a[g].set("selectionExtent",f,!0)}}function Hh(b,f,a){return b.map(d=>{d=Jc(d,{timeUnit:a,type:f});return{signal:"{data: ".concat(d,"}")}})}function pi(b,f,a){var d;a=null===(d=sb(a))||void 0===
d?void 0:d.unit;return"temporal"===f||a?Hh(b,f,a):[b]}function ng(b,f,a,d){var {encoding:g}=a;g=z(g[d]);const {type:t}=g,y=g.timeUnit;if(f&&f.unionWith)return d=ng(b,void 0,a,d),f=pi(f.unionWith,t,y),kf([...d.value,...f]);if(ic(f))return kf([f]);if(f&&"unaggregated"!==f&&!ef(f))return kf(pi(f,t,y));var C=a.stack;if(C&&d===C.fieldChannel){if("normalize"===C.offset)return ff([[0,1]]);f=a.requestDataName(vf.Main);return ff([{data:f,field:a.vgField(d,{suffix:"start"})},{data:f,field:a.vgField(d,{suffix:"end"})}])}C=
tg[d]&&Oc(g)?xl(a,d,b):void 0;if(Od(g))return d=pi([g.datum],t,y),ff(d);if("unaggregated"===f)return d=a.requestDataName(vf.Main),{field:f}=g,ff([{data:d,field:ed({field:f,aggregate:"min"})},{data:d,field:ed({field:f,aggregate:"max"})}]);if(yc(g.bin)){if(b in sd)return"bin-ordinal"===b?ff([]):ff([{data:w(C)?a.requestDataName(vf.Main):a.requestDataName(vf.Raw),field:a.vgField(d,Xc(g,d)?{binSuffix:"range"}:{}),sort:!0!==C&&db(C)?C:{field:a.vgField(d,{}),op:"min"}}]);({bin:f}=g);if(yc(f)){const aa=qh(a,
g.field,f);return ff([new Hg(()=>{const pa=a.getSignalName(aa);return"[".concat(pa,".start, ").concat(pa,".stop]")})])}return ff([{data:a.requestDataName(vf.Main),field:a.vgField(d,{})}])}return g.timeUnit&&va(["time","utc"],b)&&re(d,g,mf(a)?a.encoding[da(d)]:void 0,a.stack,a.markDef,a.config)?(f=a.requestDataName(vf.Main),ff([{data:f,field:a.vgField(d)},{data:f,field:a.vgField(d,{suffix:"end"})}])):C?ff([{data:w(C)?a.requestDataName(vf.Main):a.requestDataName(vf.Raw),field:a.vgField(d),sort:C}]):
ff([{data:a.requestDataName(vf.Main),field:a.vgField(d)}])}function oi(b,f){const {op:a,field:d,order:g}=b;return Object.assign({},{op:null!==a&&void 0!==a?a:f?"sum":"min"},d?{field:Ga(d)}:{},g?{order:g}:{})}function xl(b,f,a){if(a in sd){var d=b.fieldDef(f);a=d.sort;if(ec(a))return{op:"min",field:Xh(d,f),order:"ascending"};({stack:d}=b);var g=d?[...d.groupbyField?[d.groupbyField]:[],...d.stackBy.map(t=>t.fieldDef.field)]:void 0;if(Nd(a))return b=d&&!va(g,a.field),oi(a,b);if(a&&a.encoding){const {encoding:t,
order:y}=a;b=b.fieldDef(t);const {aggregate:C,field:aa}=b;f=d&&!va(g,aa);if(x(C)||L(C))return oi({field:ed(b),order:y},f);if(ia(C)||!C)return oi({op:C,field:aa,order:y},f)}else{if("descending"===a)return{op:"min",field:b.vgField(f),order:"descending"};if(va(["ascending",void 0],a))return!0}}}function Yk(b,f){const {aggregate:a,type:d}=b;return a?ma(a)&&!Rj[a]?{valid:!1,reason:'Unaggregated domain not applicable for "'.concat(a,'" since it produces values outside the origin domain of the source data.')}:
"quantitative"===d&&"log"===f?{valid:!1,reason:"Unaggregated domain is currently unsupported for log scale (".concat(Re(b),").")}:{valid:!0}:{valid:!1,reason:"Using unaggregated domain with raw field has no effect (".concat(Re(b),").")}}function gk(b,f,a,d){if(b.explicit&&f.explicit){var g=b.value,t=f.value;a="Conflicting ".concat(d.toString(),' property "').concat(a.toString(),'" (').concat(Re(g)," and ").concat(Re(t),"). Using the union of the two domains.");lb(a)}return{explicit:b.explicit,value:[...b.value,
...f.value]}}function yl(b){var f=Da(b.map(g=>lc(g)?(g=Object.assign({},g),delete g.sort,g):g),ta),a=Da(b.map(g=>{if(lc(g))return g=g.sort,void 0===g||w(g)||("op"in g&&"count"===g.op&&delete g.field,"ascending"===g.order&&delete g.order),g}).filter(g=>void 0!==g),ta);if(0!==f.length){if(1===f.length){f=b[0];if(lc(f)&&0<a.length){var d=a[0];1<a.length?(lb("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),d=!0):db(d)&&"field"in d&&f.field===d.field&&(d=d.order?
{order:d.order}:!0);return Object.assign({},f,{sort:d})}return f}a=Da(a.map(g=>{if(w(g)||!("op"in g)||ma(g.op)&&g.op in ij)return g;lb("Dropping sort property ".concat(Re(g),' as unioned domains only support boolean or op "count", "min", and "max".'));return!0}),ta);1===a.length?d=a[0]:1<a.length&&(lb("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),d=!0);a=Da(b.map(g=>lc(g)?g.data:null),g=>g);return 1===a.length&&null!==a[0]?Object.assign({},{data:a[0],
fields:f.map(g=>g.field)},d?{sort:d}:{}):Object.assign({},{fields:f},d?{sort:d}:{})}}function hk(b){if(lc(b)&&ma(b.field))return b.field;var f=Wd(b)?!1:"fields"in b&&!("data"in b);if(f){let a;for(const d of b.fields)if(lc(d)&&ma(d.field))if(!a)a=d.field;else if(a!==d.field)return lb("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),a;lb("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.");
return a}f=Wd(b)?!1:"fields"in b&&"data"in b;if(f)return lb("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect."),b=b.fields[0],ma(b)?b:void 0}function pj(b,f){f=b.component.scales[f].get("domains").map(a=>{lc(a)&&(a.data=b.lookupDataSource(a.data));return a});return yl(f)}function Zk(b){return rh(b)||Wi(b)?b.children.reduce((f,a)=>f.concat(Zk(a)),$k(b)):$k(b)}function $k(b){return Zc(b.component.scales).reduce((f,
a)=>{var d=b.component.scales[a];if(d.merged)return f;var g=d.combine(),t=Object.assign({},g);d=g.name;const y=g.type,C=g.selectionExtent,aa=g.reverse;t=(delete t.name,delete t.type,delete t.selectionExtent,delete t.domains,delete t.range,delete t.reverse,t);g=g.range;a in Cf?Yb(g)&&(g={step:{signal:d+"_step"}}):db(g)&&lc(g)&&(g=Object.assign({},g,{data:b.lookupDataSource(g.data)}));if(C){var pa=C.selection;pa=b.getSelectionComponent(pa,F(pa));pa={signal:Jg(pa,C)}}a=pj(b,a);f.push(Object.assign({},
{name:d,type:y},a?{domain:a}:{},pa?{domainRaw:pa}:{},{range:g},void 0!==aa?{reverse:aa}:{},t));return f},[])}function al(b){return"x"===b?"width":"y"===b?"height":void 0}function bl(b,f){const a=b.fieldDef(f);if(a&&a.bin&&yc(a.bin)){const d=qh(b,a.field,a.bin);f=al(f);const g=b.getName(f);return new Hg(()=>{var t=b.getSignalName(d);t="(".concat(t,".stop - ").concat(t,".start) / ").concat(t,".step");return"".concat(b.getSignalName(g)," / (").concat(t,")")})}}function zl(b,f){const a=f.specifiedScales[b];
var {size:d}=f,g=f.getScaleComponent(b).get("type");for(var t of ln)if(void 0!==a[t]){const aa=me(g,t),pa=W(b,t);if(aa)if(pa)lb(pa);else switch(t){case "range":g=a.range;if(Wd(g)){if(b in Cf)return kf(g.map(cb=>{if("width"===cb||"height"===cb){cb=f.getName(cb);const ib=f.getSignalName.bind(f);return Hg.fromName(ib,cb)}return cb}))}else if(db(g))return kf({data:f.requestDataName(vf.Main),field:g.field,sort:{op:"min",field:f.vgField(b)}});return kf(g);case "scheme":return kf(Al(a[t]))}else lb(Ye(g,
t,b))}if("x"===b||"y"===b)if(t="x"===b?"width":"height",d=d[t],Pa(d)){if(g in sd)return kf({step:d.step});lb(J(t))}const {rangeMin:y,rangeMax:C}=a;b=Bl(b,f);return(void 0!==y||void 0!==C)&&me(g,"rangeMin")&&Wd(b)&&2===b.length?kf([null!==y&&void 0!==y?y:b[0],null!==C&&void 0!==C?C:b[1]]):ff(b)}function Al(b){return!ma(b)&&b.name?Object.assign({},{scheme:b.name},Ta(b,["name"])):{scheme:b}}function Bl(b,f){const {size:a,config:d,mark:g,encoding:t}=f;var y=f.getSignalName.bind(f),{type:C}=z(t[b]);const aa=
f.getScaleComponent(b).get("type"),{domain:pa,domainMid:cb}=f.specifiedScales[b];switch(b){case "x":case "y":if(va(["point","band"],aa))if("x"===b&&!a.width){if(C=kc(d.view,"width"),Pa(C))return C}else if("y"===b&&!a.height&&(C=kc(d.view,"height"),Pa(C)))return C;C=al(b);C=f.getName(C);return"y"===b&&aa in Bc?[Hg.fromName(y,C),0]:[0,Hg.fromName(y,C)];case "size":return y=f.component.scales[b].get("zero"),y=Lg(g,y,d),C=Qf(g,a,f,d),aa in Qb?Ih(y,C,Kj(aa,d,pa,b)):[y,C];case "theta":return[0,2*Math.PI];
case "angle":return[0,360];case "radius":return[0,new Hg(()=>{const ib=f.getSignalName("width"),Ib=f.getSignalName("height");return"min(".concat(ib,",").concat(Ib,")/2")})];case "strokeWidth":return[d.scale.minStrokeWidth,d.scale.maxStrokeWidth];case "strokeDash":return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case "shape":return"symbol";case "color":case "fill":case "stroke":return"ordinal"===aa?"nominal"===C?"category":"ordinal":void 0!==cb?"diverging":"rect"===g||"geoshape"===g?"heatmap":"ramp";case "opacity":case "fillOpacity":case "strokeOpacity":return[d.scale.minOpacity,
d.scale.maxOpacity]}throw Error("Scale range undefined for channel ".concat(b));}function Kj(b,f,a,d){switch(b){case "quantile":return f.scale.quantileCount;case "quantize":return f.scale.quantizeCount;case "threshold":if(void 0!==a&&Wd(a))return a.length+1;lb("Domain for ".concat(d," is required for threshold scale."));return 3}}function Ih(b,f,a){const d=()=>{const g=ee(f),t=ee(b),y="(".concat(g," - ").concat(t,") / (").concat(a," - 1)");return"sequence(".concat(t,", ").concat(g," + ").concat(y,
", ").concat(y,")")};return ic(f)?new Hg(d):{signal:d()}}function Lg(b,f,a){if(f)return ic(f)?{signal:"".concat(f.signal," ? 0 : ").concat(Lg(b,!1,a))}:0;switch(b){case "bar":case "tick":return a.scale.minBandSize;case "line":case "trail":case "rule":return a.scale.minStrokeWidth;case "text":return a.scale.minFontSize;case "point":case "square":case "circle":return a.scale.minSize}throw Error(ke("size",b));}function Qf(b,f,a,d){a={x:bl(a,"x"),y:bl(a,"y")};switch(b){case "bar":case "tick":{if(void 0!==
d.scale.maxBandSize)return d.scale.maxBandSize;const g=Wf(f,a,d.view);return Ca(g)?g-1:new Hg(()=>"".concat(g.signal," - 1"))}case "line":case "trail":case "rule":return d.scale.maxStrokeWidth;case "text":return d.scale.maxFontSize;case "point":case "square":case "circle":{if(d.scale.maxSize)return d.scale.maxSize;const g=Wf(f,a,d.view);return Ca(g)?Math.pow(.95*g,2):new Hg(()=>"pow(".concat(.95," * ").concat(g.signal,", 2)"))}}throw Error(ke("size",b));}function Wf(b,f,a){const d=Pa(b.width)?b.width.step:
nc(a,"width"),g=Pa(b.height)?b.height.step:nc(a,"height");return f.x||f.y?new Hg(()=>"min(".concat([f.x?f.x.signal:d,f.y?f.y.signal:g].join(", "),")")):Math.min(d,g)}function Vg(b,f){if(mf(b)){{const y=b.component.scales,{config:C,encoding:aa,markDef:pa,specifiedScales:cb}=b;for(const ib of Zc(y)){var a=cb[ib];const Ib=y[ib];var d=b.getScaleComponent(ib),g=z(aa[ib]),t=a[f];const qc=d.get("type"),xc=d.get("padding");d=d.get("paddingInner");const Dc=me(qc,f),cd=W(ib,f);void 0!==t&&(Dc?cd&&lb(cd):lb(Ye(qc,
f,ib)));if(Dc&&void 0===cd)if(void 0!==t)switch(t=g.timeUnit,g=g.type,f){case "domainMax":case "domainMin":Xb(a[f])||"temporal"===g||t?Ib.set(f,{signal:Jc(a[f],{type:g,timeUnit:t})},!0):Ib.set(f,a[f],!0);break;default:Ib.copyKeyFromObject(f,a)}else a=f in km?km[f]({model:b,channel:ib,fieldOrDatumDef:g,scaleType:qc,scalePadding:xc,scalePaddingInner:d,domain:a.domain,markDef:pa,config:C}):C.scale[f],void 0!==a&&Ib.set(f,a,!1)}}}else Xi(b,f)}function Ak(b){if(mf(b)){{const f=b.component.scales;for(const a of ug){const d=
f[a];if(!d)continue;const g=zl(a,b);d.setWithExplicit("range",g)}}}else Xi(b,"range")}function Xi(b,f){const a=b.component.scales;for(var d of b.children)"range"===f?Ak(d):Vg(d,f);for(const g of Zc(a)){let t;for(const y of b.children)if(d=y.component.scales[g])d=d.getWithExplicit(f),t=Ue(t,d,f,"scale",Ng((C,aa)=>{switch(f){case "range":if(C.step&&aa.step)return C.step-aa.step}return 0}));a[g].setWithExplicit(f,t)}}function Ck(b,f){const a=f.bin;if(yc(a)){const d=qh(b,f.field,a);return new Hg(()=>
b.getSignalName(d))}if(Vc(a)&&db(a)&&void 0!==a.step)return{step:a.step}}function cl(b,f,a){var d;switch(f.type){case "nominal":case "ordinal":if($a(b)||"discrete"===bc(b))return"shape"===b&&"ordinal"===f.type&&lb(Ke(b,"ordinal")),"ordinal";if(b in Cf){if(va(["rect","bar","image","rule"],a))return"band"}else if("arc"===a&&b in Qh)return"band";return void 0!==f.band||af(f)&&(null===(d=f.axis)||void 0===d?0:d.tickBand)?"band":"point";case "temporal":if(!$a(b)){if("discrete"===bc(b))return lb(Ke(b,"temporal")),
"ordinal";if(Oc(f)&&f.timeUnit&&sb(f.timeUnit).utc)return"utc"}return"time";case "quantitative":if($a(b)){if(Oc(f)&&yc(f.bin))return"bin-ordinal"}else if("discrete"===bc(b))return lb(Ke(b,"quantitative")),"ordinal";return"linear";case "geojson":return}throw Error('Invalid field type "'.concat(f.type,'".'));}function qj(b){if(mf(b))b.component.scales=ql(b);else{var f=b.component;{const C=b.component.scales={},aa={};var a=b.component.resolve;for(const pa of b.children){qj(pa);for(const cb of Zc(pa.component.scales)){var d,
g=a.scale;if(null!==(d=a.scale[cb])&&void 0!==d)var t=d;else{t=cb;var y=b;if(rh(y)||og(y))t="shared";else if(Wi(y))t=t in Cf?"independent":"shared";else throw Error("invalid model type for resolve");}g[cb]=t;if("shared"===a.scale[cb])if(g=aa[cb],t=pa.component.scales[cb].getWithExplicit("type"),g){{y=r[g.value];const ib=r[t.value];y=y===ib||"ordinal-position"===y&&"time"===ib||"ordinal-position"===ib&&"time"===y}y?aa[cb]=Ue(g,t,"type","scale",mn):(a.scale[cb]="independent",delete aa[cb])}else aa[cb]=
t}}for(const pa of Zc(aa)){d=b.scaleName(pa,!0);C[pa]=new lm(d,aa[pa]);for(const cb of b.children)if(a=cb.component.scales[pa])cb.renameScale(a.get("name"),d),a.merged=!0}b=C}f.scales=b}}function ql(b){const {encoding:f,mark:a}=b;return ug.reduce((d,g)=>{var t=z(f[g]);if(t&&a===mm&&"shape"===g&&"geojson"===t.type)return d;let y=t&&t.scale;if(t&&null!==y&&!1!==y){var C;y=null!==(C=y)&&void 0!==C?C:{};var aa=y;C=cl(g,t,a);({type:aa}=aa);if(tg[g]){if(void 0!==aa)if(ha(g,aa)){var pa;if(pa=Oc(t))pa=aa,
t=t.type,pa=!(va(["ordinal","nominal"],t)?void 0===pa||pa in sd:"temporal"===t?va([e.TIME,e.UTC,void 0],pa):"quantitative"===t?va([e.LOG,e.POW,e.SQRT,e.SYMLOG,e.QUANTILE,e.QUANTIZE,e.THRESHOLD,e.LINEAR,void 0],pa):1);pa?(t=C,t='FieldDef does not work with "'.concat(aa,'" scale. We are using "').concat(t,'" scale instead.'),lb(t)):C=aa}else t=aa,aa=C,t='Channel "'.concat(g,'" does not work with "').concat(t,'" scale. We are using "').concat(aa,'" scale instead.'),lb(t)}else C=null;d[g]=new lm(b.scaleName(g+
"",!0),{value:C,explicit:y.type===C})}return d},{})}function mf(b){return"unit"===(null===b||void 0===b?void 0:b.type)}function og(b){return"facet"===(null===b||void 0===b?void 0:b.type)}function Wi(b){return"concat"===(null===b||void 0===b?void 0:b.type)}function rh(b){return"layer"===(null===b||void 0===b?void 0:b.type)}function Lj(b){function f(d,g){d instanceof Hi&&!(d.isGenerator||"url"in d.data)&&(b.push(g),g={name:null,source:g.name,transform:[]});if(d instanceof mg)if(d.parent instanceof Hi&&
!g.source){var t;g.format=Object.assign({},null!==(t=g.format)&&void 0!==t?t:{},{parse:d.assembleFormatParse()});g.transform.push(...d.assembleTransforms(!0))}else g.transform.push(...d.assembleTransforms());if(d instanceof rj){g.name||(g.name="data_".concat(a++));!g.source||0<g.transform.length?(b.push(g),d.data=g.name):d.data=g.source;for(const y of d.assemble())b.push(y)}else switch((d instanceof fl||d instanceof gl||d instanceof hl||d instanceof kk||d instanceof mk||d instanceof il||d instanceof
nk||d instanceof dh||d instanceof jl||d instanceof lk||d instanceof sj||d instanceof Fl||d instanceof Gl||d instanceof Hl||d instanceof Il||d instanceof Jl||d instanceof Kl||d instanceof Ii||d instanceof Ll||d instanceof Ml)&&g.transform.push(d.assemble()),(d instanceof wh||d instanceof xh||d instanceof tj||d instanceof bi)&&g.transform.push(...d.assemble()),d instanceof lg&&(g.source&&0===g.transform.length?d.setSource(g.source):d.parent instanceof lg?d.setSource(g.name):(g.name||(g.name="data_".concat(a++)),
d.setSource(g.name),1===d.numChildren()&&(b.push(g),g={name:null,source:g.name,transform:[]}))),d.numChildren()){case 0:d instanceof lg&&(!g.source||0<g.transform.length)&&b.push(g);break;case 1:f(d.children[0],g);break;default:g.name||(g.name="data_".concat(a++));t=g.name;!g.source||0<g.transform.length?b.push(g):t=g.source;for(const y of d.children)f(y,{name:null,source:t,transform:[]})}}let a=0;return f}function Bk(b){const f=[],a=Lj(f);for(const d of b.children)a(d,{source:b.name,name:null,transform:[]});
return f}function tl(b,f){const a=[];var d=Lj(a);let g=0;for(const C of b.sources){C.hasName()||(C.dataName="source_".concat(g++));const aa=C.assemble();d(C,aa)}for(const C of a)0===C.transform.length&&delete C.transform;d=0;for(const C of a.entries()){const [aa,pa]=C;var t;0!==(null!==(t=pa.transform)&&void 0!==t?t:[]).length||pa.source||a.splice(d++,0,a.splice(aa,1)[0])}for(const C of a)for(const aa of null!==(y=C.transform)&&void 0!==y?y:[]){var y;"lookup"===aa.type&&(aa.from=b.outputNodes[aa.from].getSource())}for(const C of a)C.name in
f&&(C.values=f[C.name]);return a}function Lk(b,f,a){f="row"===f?"height":"width";return{labels:a,sizeSignal:b.child.component.layoutSize.get(f)?b.child.getSizeSignalRef(f):void 0,axes:[]}}function Ag(b,f){var {child:a}=b;if(a.component.axes[f]){const {layoutHeaders:g,resolve:t}=b.component;t.axis[f]=Fh(t,f);if("shared"===t.axis[f]){const y="x"===f?"column":"row",C=g[y];for(const aa of a.component.axes[f]){var d;f=aa.get("orient");f="top"===f||"left"===f||ic(f)?"header":"footer";C[f]=null!==(d=C[f])&&
void 0!==d?d:[Lk(b,y,!1)];(a=lh(aa,"main",b.config,{header:!0}))&&C[f][0].axes.push(a);aa.mainExtracted=!0}}}}function Jh(b){for(const f of b.children)f.parseLayoutSize()}function Kh(b,f){const a=Kg(f),d=xb(a),g=b.component.resolve,t=b.component.layoutSize;let y;for(const C of b.children){const aa=C.component.layoutSize.getWithExplicit(a),pa=g.scale[d];if("independent"===pa&&"step"===aa.value){y=void 0;break}if(y){if("independent"===pa&&y.value!==aa.value){y=void 0;break}y=Ue(y,aa,a,"")}else y=aa}if(y){for(const C of b.children)b.renameSignal(C.getName(a),
b.getName(f)),C.component.layoutSize.set(a,"merged",!1);t.setWithExplicit(f,y)}else t.setWithExplicit(f,{explicit:!1,value:void 0})}function dl(b,f){const a=b.config;var d=b.getScaleComponent("width"===f?"x":"y");if(d)return b=d.get("type"),d=d.get("range"),b in sd?(f=kc(a.view,f),Yb(d)||Pa(f)?"step":f):jc(a.view,f);if(b.hasProjection||"arc"===b.mark)return jc(a.view,f);f=kc(a.view,f);return Pa(f)?f.step:f}function eg(b,f,a){return ed(f,Object.assign({},{suffix:"by_".concat(ed(b))},null!==a&&void 0!==
a?a:{}))}function qi(b,f){for(const C of f){var a,d,g,t;f=C.data;if(b.name&&C.hasName()&&b.name!==C.dataName)continue;const aa=null===(a=b.format)||void 0===a?void 0:a.mesh;var y=null===(d=f.format)||void 0===d?void 0:d.feature;if(aa&&y)continue;const pa=null===(g=b.format)||void 0===g?void 0:g.feature;if(!pa&&!y||pa===y)if(y=null===(t=f.format)||void 0===t?void 0:t.mesh,!aa&&!y||aa===y)if("values"in b&&"values"in f){if(Oh(b.values,f.values))return C}else if("url"in b&&"url"in f){if(b.url===f.url)return C}else if(Fg(b)&&
b.name===C.dataName)return C}return null}function Lh(b,f){if(b.data||!b.parent){if(null===b.data)return b=new Hi({values:[]}),f.push(b),b;const a=qi(b.data,f);if(a)return kg(b.data)||(a.data.format=wa({},b.data.format,a.data.format)),!a.hasName()&&b.data.name&&(a.dataName=b.data.name),a;b=new Hi(b.data);f.push(b);return b}return b.parent.component.data.facetRoot?b.parent.component.data.facetRoot:b.parent.component.data.main}function rg(b){var f,a,d,g=Lh(b,b.component.data.sources);const {outputNodes:t,
outputNodeRefCounts:y}=b.component.data,C=b.parent?b.parent.component.data.ancestorParse.clone():new nn,aa=b.data;kg(aa)?("sequence"in aa?g=new gl(g,aa.sequence):"graticule"in aa&&(g=new fl(g,aa.graticule)),C.parseNothing=!0):null===(null===aa||void 0===aa?void 0:null===(f=aa.format)||void 0===f?void 0:f.parse)&&(C.parseNothing=!0);g=null!==(a=mg.makeExplicit(g,b,C))&&void 0!==a?a:g;g=new Ii(g);f=b.parent&&rh(b.parent);if((mf(b)||og(b))&&f){var pa;g=null!==(pa=wh.makeFromEncoding(g,b))&&void 0!==
pa?pa:g}if(0<b.transforms.length){pa=0;for(const nd of b.transforms){var cb=a=void 0;if("calculate"in nd)cb=g=new mk(g,nd),a="derived";else if("filter"in nd){var ib;cb=pl(nd);cb=g=null!==(ib=mg.makeWithAncestors(g,{},cb,C))&&void 0!==ib?ib:g;g=new kk(g,b,nd.filter)}else if("bin"in nd)cb=g=wh.makeFromTransform(g,nd,b),a="number";else if("timeUnit"in nd)a="date",void 0===C.getWithExplicit(nd.field).value&&(g=new mg(g,{[nd.field]:a}),C.set(nd.field,a,!1)),cb=g=xh.makeFromTransform(g,nd);else if("aggregate"in
nd)cb=g=dh.makeFromTransform(g,nd),a="number",ei(b)&&(g=new Ii(g));else if("lookup"in nd)cb=g=jl.make(g,b,nd,pa++),a="derived";else if("window"in nd)cb=g=new lk(g,nd),a="number";else if("joinaggregate"in nd)cb=g=new sj(g,nd),a="number";else if("stack"in nd)cb=g=bi.makeFromTransform(g,nd),a="derived";else if("fold"in nd)cb=g=new Fl(g,nd),a="derived";else if("flatten"in nd)cb=g=new Gl(g,nd),a="derived";else if("pivot"in nd)cb=g=new Ml(g,nd),a="derived";else if("sample"in nd)g=new Ll(g,nd);else if("impute"in
nd)cb=g=tj.makeFromTransform(g,nd),a="derived";else if("density"in nd)cb=g=new Hl(g,nd),a="derived";else if("quantile"in nd)cb=g=new Jl(g,nd),a="derived";else if("regression"in nd)cb=g=new Kl(g,nd),a="derived";else if("loess"in nd)cb=g=new Il(g,nd),a="derived";else{lb("Ignoring an invalid transform: ".concat(Re(nd),"."));continue}if(cb&&void 0!==a)for(const qf of null!==(Ib=cb.producedFields())&&void 0!==Ib?Ib:[]){var Ib;C.set(qf,a,!1)}}}ib={};if(mf(b)&&b.component.selection)for(xc of Zc(b.component.selection)){Ib=
b.component.selection[xc];for(var qc of Ib.project.items)!qc.channel&&1<ba(qc.field)&&(ib[qc.field]="flatten")}var xc=ib;qc=Uk(b);g=null!==(d=mg.makeWithAncestors(g,{},Object.assign({},xc,qc),C))&&void 0!==d?d:g;mf(b)&&(g=nk.parseAll(g,b),g=il.parseAll(g,b));if(mf(b)||og(b)){var Dc;if(!f){var cd;g=null!==(cd=wh.makeFromEncoding(g,b))&&void 0!==cd?cd:g}g=null!==(Dc=xh.makeFromEncoding(g,b))&&void 0!==Dc?Dc:g;g=mk.parseAllForSortIndex(g,b)}Dc=b.getDataName(vf.Raw);d=new lg(g,Dc,vf.Raw,y);g=t[Dc]=d;
if(mf(b)){var kd,Qd;if(Dc=dh.makeFromEncoding(g,b))g=Dc,ei(b)&&(g=new Ii(g));g=null!==(kd=tj.makeFromEncoding(g,b))&&void 0!==kd?kd:g;g=null!==(Qd=bi.makeFromEncoding(g,b))&&void 0!==Qd?Qd:g}if(mf(b)){var Ee;g=null!==(Ee=hl.make(g,b))&&void 0!==Ee?Ee:g}Qd=b.getDataName(vf.Main);kd=new lg(g,Qd,vf.Main,y);g=t[Qd]=kd;mf(b)&&Tg(b,kd);Ee=null;if(og(b)){var Gd;Qd=b.getName("facet");{Ee=g;const {row:nd,column:qf}=b.facet;if(nd&&qf){Dc=null;for(Ce of[nd,qf])if(Nd(Ce.sort)){const {field:Ie,op:he="min"}=Ce.sort;
Ee=Dc=new sj(Ee,{joinaggregate:[{op:he,field:Ie,as:eg(Ce,Ce.sort,{forAs:!0})}],groupby:[ed(Ce)]})}var Ce=Dc}else Ce=null}g=null!==(Gd=Ce)&&void 0!==Gd?Gd:g;Ee=new rj(g,b,Qd,kd.getSource());t[Qd]=Ee}return Object.assign({},b.component.data,{outputNodes:t,outputNodeRefCounts:y,raw:d,main:kd,facetRoot:Ee,ancestorParse:C})}function Mh(b){return Tf.reduce((f,a)=>{b.component.scales[a]&&(f[a]=[Yi(a,b)]);return f},{})}function Wg(b,f){if(b){if(b.length!==f.length)return;const a=b.length;for(let d=0;d<a;d++){const g=
b[d],t=f[d];if(!!g!==!!t)return;if(g&&t){const y=g.getWithExplicit("orient"),C=t.getWithExplicit("orient");if(y.explicit&&C.explicit&&y.value!==C.value)return;b[d]=wi(g,t)}}}else return f.map(a=>a.clone());return b}function wi(b,f){for(const a of nm){const d=Ue(b.getWithExplicit(a),f.getWithExplicit(a),a,"axis",(g,t)=>{switch(a){case "title":return B(g,t);case "gridScale":return{explicit:g.explicit,value:V(g.value,t.value)}}return wd(g,t,a,"axis")});b.setWithExplicit(a,d)}return b}function Dk(b,f,
a,d,g){if("disable"===f)return void 0!==a;a=a||{};switch(f){case "titleAngle":case "labelAngle":return b===(ic(a.labelAngle)?a.labelAngle:m(a.labelAngle));case "values":return!!a.values;case "encode":return!!a.encoding||!!a.labelAngle;case "title":if(b===Dh(d,g))return!0}return b===a[f]}function Yi(b,f){var a,d,g,t,y;let C=f.axis(b);const aa=new om;var pa=z(f.encoding[b]);const {mark:cb,config:ib}=f;var Ib=(null===(a=C)||void 0===a?void 0:a.orient)||(null===(d=ib["x"===b?"axisX":"axisY"])||void 0===
d?void 0:d.orient)||(null===(g=ib.axis)||void 0===g?void 0:g.orient)||("x"===b?"bottom":"left");d=f.getScaleComponent(b).get("type");a=Cj(b,d,Ib,f.config);g=void 0!==C?!C:kj("disable",ib.style,null===(t=C)||void 0===t?void 0:t.style,a).configValue;aa.set("disable",g,void 0!==C);if(g)return aa;C=C||{};t=dk(pa,C,b,ib.style,a);pa={fieldOrDatumDef:pa,axis:C,channel:b,model:f,scaleType:d,orient:Ib,labelAngle:t,mark:cb,config:ib};for(const xc of nm)if(Ib=xc in pm?pm[xc](pa):Gk[xc]?C[xc]:void 0,t=void 0!==
Ib,d=Dk(Ib,xc,C,f,b),t&&d)aa.set(xc,Ib,d);else{const {configValue:Dc,configFrom:cd}=Gk[xc]&&"values"!==xc?kj(xc,ib.style,C.style,a):{};g=void 0!==Dc;t&&!g?aa.set(xc,Ib,d):("vgAxisConfig"!==cd||on.has(xc)&&g||u(Dc)||ic(Dc))&&aa.set(xc,Dc,!1)}const qc=null!==(y=C.encoding)&&void 0!==y?y:{};y=Pj.reduce((xc,Dc)=>{var cd;if(!aa.hasAxisPart(Dc))return xc;var kd=Ui(null!==(cd=qc[Dc])&&void 0!==cd?cd:{},f);if("labels"===Dc){{var Qd;const {encoding:Ee,config:Gd}=f;cd=null!==(Qd=z(Ee[b]))&&void 0!==Qd?Qd:z(Ee[da(b)]);
Qd=f.axis(b)||{};const {format:Ce,formatType:nd}=Qd;kd=$b(nd)?Object.assign({},{text:ne({fieldOrDatumDef:cd,field:"datum.value",format:Ce,formatType:nd,config:Gd})},kd):kd}}void 0===kd||E(kd)||(xc[Dc]={update:kd});return xc},{});E(y)||aa.set("encode",y,!!C.encoding||void 0!==C.labelAngle);return aa}function $i(b,f,a){switch(b){case Ad:case Bg:case Nj:case Qe:case Sd:case Qc:return}const {x:d,y:g,x2:t,y2:y}=f;switch(b){case mc:if(Oc(d)&&(Vc(d.bin)||Oc(g)&&g.aggregate&&!d.aggregate))break;if(Oc(g)&&
(Vc(g.bin)||Oc(d)&&d.aggregate&&!g.aggregate))return"horizontal";if(y||t){if(a)return a;if(!t&&(Oc(d)&&"quantitative"===d.type&&!yc(d.bin)||Pe(d)))return"horizontal";if(!y&&(Oc(g)&&"quantitative"===g.type&&!yc(g.bin)||Pe(g)))break}case je:if(!(!t||Oc(d)&&Vc(d.bin)||!y||Oc(g)&&Vc(g.bin)))return;case wc:if(y){if(Oc(g)&&Vc(g.bin))return"horizontal";break}else if(t)if(Oc(d)&&Vc(d.bin))break;else return"horizontal";else if(b===je)if(d&&!g)break;else if(g&&!d)return"horizontal";case md:case sf:f=Kd(d);
var C=Kd(g);if(f&&!C)return"tick"!==b?"horizontal":"vertical";if(!f&&C)return"tick"!==b?"vertical":"horizontal";if(f&&C){f="temporal"===d.type;C="temporal"===g.type;if(f&&!C)return"tick"!==b?"vertical":"horizontal";if(!f&&C)return"tick"!==b?"horizontal":"vertical";if(!d.aggregate&&g.aggregate)return"tick"!==b?"vertical":"horizontal";if(d.aggregate&&!g.aggregate)return"tick"!==b?"horizontal":"vertical";if(a)return a}else{if(a)return a;return}}return"vertical"}function Zg(b,f){return Object.assign({},
Zf(b,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),Of("x",b,{defaultPos:"mid"}),Of("y",b,{defaultPos:"mid"}),Bf("size",b),Bf("angle",b),f?{shape:{value:f}}:Bf("shape",b))}function Oj(b,f,a){if(void 0===ae("align",b,a))return"center"}function si(b,f,a){if(void 0===ae("baseline",b,a))return"middle"}function Cg(b){var f;const {config:a,markDef:d}=b;var {orient:g}=d;const t="horizontal"===g?"width":"height";b=b.getScaleComponent("horizontal"===g?"x":
"y");g=null!==(f=ae("size",d,a,{vgChannel:t}))&&void 0!==f?f:a.tick.bandSize;return void 0!==g?g:(f=b?b.get("range"):void 0)&&Yb(f)&&Ca(f.step)?3*f.step/4:3*nc(a.view,t)/4}function ui(b){if(va([md,wc,Fe],b.mark)){var f=Ub(b.mark,b.encoding);if(0<f.length)return ti(b,f)}else if(va([mc],b.mark)&&(f=c.some(a=>ae(a,b.markDef,b.config)),b.stack&&!b.fieldDef("size")&&f))return yf(b);return cg(b)}function ti(b,f){return[{name:b.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+b.requestDataName(vf.Main),
data:b.requestDataName(vf.Main),groupby:f}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:cg(b,{fromPrefix:"faceted_path_"})}]}function yf(b){const [f]=cg(b,{fromPrefix:"stack_group_"}),a=b.scaleName(b.stack.fieldChannel),d=aa=>{aa=void 0===aa?{}:aa;return b.vgField(b.stack.fieldChannel,aa)};var g=(aa,pa)=>{pa=[d({prefix:"min",suffix:"start",expr:pa}),d({prefix:"max",suffix:"start",expr:pa}),d({prefix:"min",suffix:"end",expr:pa}),d({prefix:"max",suffix:"end",
expr:pa})];return"".concat(aa,"(").concat(pa.map(cb=>"scale('".concat(a,"',").concat(cb,")")).join(","),")")};let t;"x"===b.stack.fieldChannel?(g=Object.assign({},qa(f.encode.update,["y","yc","y2","height",...c]),{x:{signal:g("min","datum")},x2:{signal:g("max","datum")},clip:{value:!0}}),t={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},f.encode.update=Object.assign({},Ta(f.encode.update,["y","yc","y2"]),{height:{field:{group:"height"}}})):(g=Object.assign({},qa(f.encode.update,["x",
"xc","x2","width"]),{y:{signal:g("min","datum")},y2:{signal:g("max","datum")},clip:{value:!0}}),t={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},f.encode.update=Object.assign({},Ta(f.encode.update,["x","xc","x2"]),{width:{field:{group:"width"}}}));for(var y of c){var C=gf(y,b.markDef,b.config);f.encode.update[y]?(g[y]=f.encode.update[y],delete f.encode.update[y]):C&&(g[y]=Cd(C));C&&(f.encode.update[y]={value:0})}y=b.fieldDef(b.stack.groupbyChannel);C=ed(y)?[ed(y)]:[];((null===y||void 0===
y?0:y.bin)||(null===y||void 0===y?0:y.timeUnit))&&C.push(ed(y,{binSuffix:"end"}));g="stroke strokeWidth strokeJoin strokeCap strokeDash strokeDashOffset strokeMiterLimit strokeOpacity".split(" ").reduce((aa,pa)=>{if(f.encode.update[pa])return Object.assign({},aa,{[pa]:f.encode.update[pa]});{const cb=gf(pa,b.markDef,b.config);return void 0!==cb?Object.assign({},aa,{[pa]:Cd(cb)}):aa}},g);g.stroke&&(g.strokeForeground={value:!0},g.strokeOffset={value:0});return[{type:"group",from:{facet:{data:b.requestDataName(vf.Main),
name:"stack_group_"+b.requestDataName(vf.Main),groupby:C,aggregate:{fields:[d({suffix:"start"}),d({suffix:"start"}),d({suffix:"end"}),d({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:g},marks:[{type:"group",encode:{update:t},marks:[f]}]}]}function aj(b){const {encoding:f,stack:a,mark:d,markDef:g,config:t}=b;var y=f.order;if(!(!Wd(y)&&ie(y)&&Qa(y.value)||!y&&Qa(ae("order",g,t)))){if((Wd(y)||Oc(y))&&!a)return Af(y,{expr:"datum"});if(Za(d)){const C="horizontal"===g.orient?"y":"x",aa=
f[C];if(Oc(aa)){y=aa.sort;if(Wd(y))return{field:ed(aa,{prefix:C,suffix:"sort_index",expr:"datum"})};if(Nd(y))return{field:ed({aggregate:ea(b.encoding)?y.op:void 0,field:y.field},{expr:"datum"})};if(y&&y.encoding)return b=b.fieldDef(y.encoding),{field:ed(b,{expr:"datum"}),order:y.order};if(null!==y)return{field:ed(aa,{binSuffix:b.stack&&b.stack.impute?"mid":void 0,expr:"datum"})}}}}}function cg(b,f){f=void 0===f?{fromPrefix:""}:f;const {mark:a,markDef:d,encoding:g,config:t}=b;var y=d.clip;var C=b.getScaleComponent("x");
var aa=b.getScaleComponent("y");C=C&&C.get("selectionExtent")||aa&&aa.get("selectionExtent")?!0:void 0;aa=(aa=b.component.projection)&&!aa.isFit?!0:void 0;y=V(y,C,aa);C=xf(d);aa=g.key;const pa=aj(b);var cb;if(b.component.selection){for(var ib=cb=Zc(b.component.selection).length,Ib=b.parent;Ib&&0===ib;)ib=Zc(Ib.component.selection).length,Ib=Ib.parent;cb=ib?{interactive:0<cb||!!b.encoding.tooltip}:null}else cb=null;ib=ae("aria",d,t);Ib=kl[a].postEncodingTransform?kl[a].postEncodingTransform(b):null;
return[Object.assign({},{name:b.getName("marks"),type:kl[a].vgMark},y?{clip:!0}:{},C?{style:C}:{},aa?{key:aa.field}:{},pa?{sort:pa}:{},cb?cb:{},!1===ib?{aria:ib}:{},{from:{data:f.fromPrefix+b.requestDataName(vf.Main)},encode:{update:kl[a].encodeEntry(b)}},Ib?{transform:Ib}:{})]}function Dg(b,f,a,d,g){if("facet"in b)return new ll(b,f,a,g);if("layer"in b)return new qm(b,f,a,d,g);if(I(b))return new rm(b,f,a,d,g);if("vconcat"in b||"hconcat"in b||"concat"in b)return new pn(b,f,a,g);throw Error(uc(b));
}function zf(b,f,a,d){a=void 0===a?{}:a;const g=b.config?ad(b.config):void 0;a=[].concat(b.assembleSelectionData([]),tl(b.component.data,a));const t=b.assembleProjections(),y=b.assembleTitle(),C=b.assembleGroupStyle(),aa=b.assembleGroupEncodeEntry(!0);let pa=b.assembleLayoutSignals();pa=pa.filter(Ib=>"width"!==Ib.name&&"height"!==Ib.name||void 0===Ib.value?!0:(f[Ib.name]=+Ib.value,!1));var cb=Object.assign({},f);const ib=f.params;cb=(delete cb.params,cb);return Object.assign({},{$schema:"https://vega.github.io/schema/vega/v5.json"},
b.description?{description:b.description}:{},cb,y?{title:y}:{},C?{style:C}:{},aa?{encode:{update:aa}}:{},{data:a},0<t.length?{projections:t}:{},b.assembleGroup([...pa,...b.assembleSelectionTopLevelSignals([]),...Td(ib)]),g?{config:g}:{},d?{usermeta:d}:{})}const Sf=b=>function(f){return f[b]},Rf=b=>{const f=b.length;return function(a){for(let d=0;d<f;++d)a=a[b[d]];return a}};(function(b,f,a){const d=Fb(b);b=1===d.length?d[0]:b;return R((a&&a.get||Ma)(d),[b],f||b)})("id");const bj=R(b=>b,[],"identity");
R(()=>0,[],"zero");R(()=>1,[],"one");R(()=>!0,[],"true");R(()=>!1,[],"false");var Wd=Array.isArray;const Nh=Object.prototype.hasOwnProperty;Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function a(f){var d=isNaN(f)?1:Number(f);return d?Array.prototype.reduce.call(this,function(g,t){return Array.isArray(t)?g.push.apply(g,a.call(t,d-1)):g.push(t),g},[]):Array.prototype.slice.call(this)},writable:!0});Array.prototype.flatMap||Object.defineProperty(Array.prototype,
"flatMap",{configurable:!0,value:function(f){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var vi=function(f,a){a||(a={});"function"===typeof a&&(a={cmp:a});var d="boolean"===typeof a.cycles?a.cycles:!1,g=a.cmp&&function(y){return function(C){return function(aa,pa){return y({key:aa,value:C[aa]},{key:pa,value:C[pa]})}}}(a.cmp),t=[];return function aa(C){C&&C.toJSON&&"function"===typeof C.toJSON&&(C=C.toJSON());if(void 0!==C){if("number"==typeof C)return isFinite(C)?""+C:"null";
if("object"!==typeof C)return JSON.stringify(C);var pa;if(Array.isArray(C)){var cb="[";for(pa=0;pa<C.length;pa++)pa&&(cb+=","),cb+=aa(C[pa])||"null";return cb+"]"}if(null===C)return"null";if(-1!==t.indexOf(C)){if(d)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var ib=t.push(C)-1,Ib=Object.keys(C).sort(g&&g(C));cb="";for(pa=0;pa<Ib.length;pa++){var qc=Ib[pa],xc=aa(C[qc]);xc&&(cb&&(cb+=","),cb+=JSON.stringify(qc)+":"+xc)}t.splice(ib,1);return"{"+cb+
"}"}}(f)};const Oh=function g(a,d){if(a===d)return!0;if(a&&d&&"object"==typeof a&&"object"==typeof d){if(a.constructor!==d.constructor)return!1;var t;if(Array.isArray(a)){var y=a.length;if(y!=d.length)return!1;for(t=y;0!==t--;)if(!g(a[t],d[t]))return!1;return!0}if(a.constructor===RegExp)return a.source===d.source&&a.flags===d.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===d.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===d.toString();var C=Object.keys(a);
y=C.length;if(y!==Object.keys(d).length)return!1;for(t=y;0!==t--;)if(!Object.prototype.hasOwnProperty.call(d,C[t]))return!1;for(t=y;0!==t--;)if(y=C[t],!g(a[y],d[y]))return!1;return!0}return a!==a&&d!==d},oe=function(a,d,g){return g={path:d,exports:{},require:function(t,y){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs");}},a(g,g.exports),g.exports}(function(a){var d=function(){function g(ib,Ib){return null!=Ib&&ib instanceof Ib}function t(ib,Ib,qc,xc,Dc){function cd(Gd,
Ce){if(null===Gd)return null;if(0===Ce||"object"!=typeof Gd)return Gd;if(g(Gd,aa))var nd=new aa;else if(g(Gd,pa))nd=new pa;else if(g(Gd,cb))nd=new cb(function(Df,Xe){Gd.then(function(Gf){Df(cd(Gf,Ce-1))},function(Gf){Xe(cd(Gf,Ce-1))})});else if(t.__isArray(Gd))nd=[];else if(t.__isRegExp(Gd))nd=new RegExp(Gd.source,C(Gd)),Gd.lastIndex&&(nd.lastIndex=Gd.lastIndex);else if(t.__isDate(Gd))nd=new Date(Gd.getTime());else{if(Ee&&k.isBuffer(Gd))return nd=k.allocUnsafe?k.allocUnsafe(Gd.length):new k(Gd.length),
Gd.copy(nd),nd;if(g(Gd,Error))nd=Object.create(Gd);else if("undefined"==typeof xc){var qf=Object.getPrototypeOf(Gd);nd=Object.create(qf)}else nd=Object.create(xc),qf=xc}if(Ib){var Ie=kd.indexOf(Gd);if(-1!=Ie)return Qd[Ie];kd.push(Gd);Qd.push(nd)}g(Gd,aa)&&Gd.forEach(function(Df,Xe){Xe=cd(Xe,Ce-1);Df=cd(Df,Ce-1);nd.set(Xe,Df)});g(Gd,pa)&&Gd.forEach(function(Df){Df=cd(Df,Ce-1);nd.add(Df)});for(var he in Gd){var hf;qf&&(hf=Object.getOwnPropertyDescriptor(qf,he));hf&&null==hf.set||(nd[he]=cd(Gd[he],Ce-
1))}if(Object.getOwnPropertySymbols)for(Ie=Object.getOwnPropertySymbols(Gd),he=0;he<Ie.length;he++)if(hf=Ie[he],qf=Object.getOwnPropertyDescriptor(Gd,hf),!qf||qf.enumerable||Dc)nd[hf]=cd(Gd[hf],Ce-1),qf.enumerable||Object.defineProperty(nd,hf,{enumerable:!1});if(Dc)for(Ie=Object.getOwnPropertyNames(Gd),he=0;he<Ie.length;he++)hf=Ie[he],qf=Object.getOwnPropertyDescriptor(Gd,hf),qf&&qf.enumerable||(nd[hf]=cd(Gd[hf],Ce-1),Object.defineProperty(nd,hf,{enumerable:!1}));return nd}"object"===typeof Ib&&(qc=
Ib.depth,xc=Ib.prototype,Dc=Ib.includeNonEnumerable,Ib=Ib.circular);var kd=[],Qd=[],Ee="undefined"!=typeof k;"undefined"==typeof Ib&&(Ib=!0);"undefined"==typeof qc&&(qc=Infinity);return cd(ib,qc)}function y(ib){return Object.prototype.toString.call(ib)}function C(ib){var Ib="";ib.global&&(Ib+="g");ib.ignoreCase&&(Ib+="i");ib.multiline&&(Ib+="m");return Ib}try{var aa=Map}catch(ib){aa=function(){}}try{var pa=Set}catch(ib){pa=function(){}}try{var cb=Promise}catch(ib){cb=function(){}}t.clonePrototype=
function(ib){if(null===ib)return null;var Ib=function(){};Ib.prototype=ib;return new Ib};t.__objToStr=y;t.__isDate=function(ib){return"object"===typeof ib&&"[object Date]"===y(ib)};t.__isArray=function(ib){return"object"===typeof ib&&"[object Array]"===y(ib)};t.__isRegExp=function(ib){return"object"===typeof ib&&"[object RegExp]"===y(ib)};t.__getRegExpFlags=C;return t}();a.exports&&(a.exports=d)});Set.prototype.toJSON=function(){return"Set(".concat([...this].map(a=>vi(a)).join(","),")")};const Re=
vi,Zc=Object.keys,Mg=Object.values,ag=Object.entries;let dj=42;const Ek={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},
gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}},Pj=["domain","grid","labels","ticks","title"],rl={grid:"grid",gridCap:"grid",
gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",
labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"main",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",
titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},Fk={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,
domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,
tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},Gk=Object.assign({},Fk,{style:1,labelExpr:1,encoding:1}),Ik=Zc({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,
axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1}),ul={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},ij={count:1,min:1,max:1},Kk=["count","valid","missing","distinct"],Jf=["count","sum","distinct","valid","missing"],
Rj=Ia("mean average median q1 q3 min max".split(" ")),jg={theta:1,theta2:1,radius:1,radius2:1},pg={longitude:1,longitude2:1,latitude:1,latitude2:1},sh=Zc(pg),yi=Object.assign({},{x:1,y:1,x2:1,y2:1},jg,pg,{color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1}),Sj={row:1,column:1,facet:1},Yf=Zc(Sj),th=Object.assign({},yi,Sj),Uj=Zc(th);var qe=Object.assign({},th),ig=(delete qe.order,
delete qe.detail,delete qe.tooltip,qe),ue=Object.assign({},ig);const dg=(delete ue.row,delete ue.column,delete ue.facet,ue),If="x2 y2 latitude2 longitude2 theta2 radius2".split(" ");var Uf=Object.assign({},yi);const vg=(delete Uf.x,delete Uf.y,delete Uf.x2,delete Uf.y2,delete Uf.latitude,delete Uf.longitude,delete Uf.latitude2,delete Uf.longitude2,delete Uf.theta,delete Uf.theta2,delete Uf.radius,delete Uf.radius2,Uf),zi=Zc(vg),Cf={x:1,y:1},Tf=Zc(Cf),Qh={theta:1,radius:1},Qj=Zc(Qh);var Eg=Object.assign({},
vg);const Xd=(delete Eg.text,delete Eg.tooltip,delete Eg.href,delete Eg.url,delete Eg.description,delete Eg.detail,delete Eg.key,delete Eg.order,Eg),fj=Zc(Xd),tg=Object.assign({},Cf,Qh,Xd),ug=Zc(tg),Ai={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"};var Rh=Object.assign({},Ai);const Bi=(delete Rh.geoshape,Rh),bh=function(a,d){let g=a||0;return{level(t){return arguments.length?
(g=+t,this):g},error(){1<=g&&Ja(d||"error","ERROR",arguments);return this},warn(){2<=g&&Ja(d||"warn","WARN",arguments);return this},info(){3<=g&&Ja(d||"log","INFO",arguments);return this},debug(){4<=g&&Ja(d||"log","DEBUG",arguments);return this}}}(2);let ah=bh;const hj="january february march april may june july august september october november december".split(" "),gj=hj.map(a=>a.substr(0,3)),Jk="sunday monday tuesday wednesday thursday friday saturday".split(" "),Yj=Jk.map(a=>a.substr(0,3)),ej=
{year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Bj=Zc(ej),uk={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "},nl=Zc({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,
orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),Cl={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},c=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft",
"cornerRadiusBottomRight"],e={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},r={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",
band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},K={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0},fa="linear log pow sqrt symlog time utc".split(" "),eb=Ia(fa),pb=Ia(["linear","log","pow","sqrt","symlog"]),Qb=Ia(["quantile","quantize","threshold"]),Hc=fa.concat(["quantile","quantize","threshold","sequential","identity"]),Bc=Ia(Hc),sd=Ia(["ordinal",
"bin-ordinal","point","band"]);var Ed=Object.assign({},{type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1});const Me=(delete Ed.type,delete Ed.domain,delete Ed.range,delete Ed.rangeMax,delete Ed.rangeMin,delete Ed.scheme,Ed),$e=Zc(Me),nf={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",
rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},Hf=nf.arc,wc=nf.area,mc=nf.bar,Qc=nf.image,md=nf.line,Ad=nf.point,Sd=nf.rect,je=nf.rule,Qe=nf.text,sf=nf.tick,Fe=nf.trail,Bg=nf.circle,Nj=nf.square,mm=nf.geoshape,sm=Zc(nf);Ia(sm);const qn="stroke strokeWidth strokeDash strokeDashOffset strokeOpacity strokeJoin strokeMiterLimit fill fillOpacity".split(" "),$l=Zc({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBand:1,timeUnitBandPosition:1}),
Yl=Zc({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1}),rn={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},Sl={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1},tm=(a,d)=>{switch(d.fieldTitle){case "plain":return a.field;case "functional":{const {aggregate:g,bin:t,timeUnit:y,field:C}=a;L(g)?a="".concat(C,
" for argmax(").concat(g.argmax,")"):x(g)?a="".concat(C," for argmin(").concat(g.argmin,")"):(a=sb(y),a=(a=g||(null===a||void 0===a?void 0:a.unit)||(null===a||void 0===a?void 0:a.maxbins)&&"timeunit"||yc(t)&&"bin")?a.toUpperCase()+"("+C+")":C)}return a;default:return Se(a,d)}};let ik=tm;const Gi={compatible:!0};class el{constructor(a,d){this.name=a;this.run=d}hasMatchingType(a){return I(a)?(a=a.mark,(vb(a)?a.type:a)===this.name):!1}}const sn=new el("boxplot",ac),tn=new el("errorbar",vc),un=new el("errorband",
Kc),Vl={};Fd("boxplot",ac,["box","median","outliers","rule","ticks"]);Fd("errorbar",vc,["ticks","rule"]);Fd("errorband",Kc,["band","borders"]);const Em=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],dm={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",
titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},em={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},Wm=Zc(dm),Xm=Zc(em),Zl=Zc({header:1,headerRow:1,headerColumn:1,headerFacet:1}),fm="size shape fill stroke strokeDash strokeWidth opacity".split(" "),
zm=["background","padding"],Am=Zc({align:1,bounds:1,center:1,columns:1,spacing:1}),Bm={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:20},mark:{color:"#4c78a8",invalid:"filter",timeUnitBand:1},arc:{},area:{},bar:{binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},circle:{},geoshape:{},image:{},line:{},point:{},rect:{binSpacing:0,continuousBandSize:5,timeUnitBandPosition:.5},rule:{color:"black"},square:{},
text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,
gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:{single:{on:"click",fields:["_vgsid_"],resolve:"global",empty:"all",clear:"dblclick"},multi:{on:"click",fields:["_vgsid_"],toggle:"event.shiftKey",resolve:"global",empty:"all",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] \x3e window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] \x3e window:mousemove!",
zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}},style:{},title:{},facet:{spacing:20},concat:{spacing:20}},yh="#4c78a8 #f58518 #e45756 #72b7b2 #54a24b #eeca3b #b279a2 #ff9da6 #9d755d #bab0ac".split(" "),Xl={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},Wl={blue:yh[0],orange:yh[1],red:yh[2],teal:yh[3],green:yh[4],yellow:yh[5],purple:yh[6],pink:yh[7],brown:yh[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",
gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"},Cm=[...Yl,...Ik,...Zl,"background","padding","legend","lineBreak","scale","style","title","view"],Fm=["view",...sm],Dm="color fontSize background padding facet concat numberFormat timeFormat countTitle header axisQuantitative axisTemporal axisDiscrete axisPoint axisXBand axisXPoint axisXDiscrete axisXQuantitative axisXTemporal axisYBand axisYPoint axisYDiscrete axisYQuantitative axisYTemporal scale selection overlay".split(" "),
Gm=Object.assign({},{view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]});class vn{map(a,d){return"facet"in a?this.mapFacet(a,d):"repeat"in a?this.mapRepeat(a,d):"hconcat"in a?this.mapHConcat(a,d):"vconcat"in a?this.mapVConcat(a,d):"concat"in a?this.mapConcat(a,d):this.mapLayerOrUnit(a,
d)}mapLayerOrUnit(a,d){if("layer"in a)return this.mapLayer(a,d);if(I(a))return this.mapUnit(a,d);throw Error(uc(a));}mapLayer(a,d){return Object.assign({},a,{layer:a.layer.map(g=>this.mapLayerOrUnit(g,d))})}mapHConcat(a,d){return Object.assign({},a,{hconcat:a.hconcat.map(g=>this.map(g,d))})}mapVConcat(a,d){return Object.assign({},a,{vconcat:a.vconcat.map(g=>this.map(g,d))})}mapConcat(a,d){var g=Object.assign({},a);a=a.concat;g=(delete g.concat,g);return Object.assign({},g,{concat:a.map(t=>this.map(t,
d))})}mapFacet(a,d){return Object.assign({},a,{spec:this.map(a.spec,d)})}mapRepeat(a,d){return Object.assign({},a,{spec:this.map(a.spec,d)})}}const Jm={zero:1,center:1,normalize:1},Hm=new Set([Hf,mc,wc,je,Ad,Bg,Nj,md,Qe,sf]),Im=new Set([mc,wc,Hf]);class wn{constructor(){Sb(this,"name","path-overlay")}hasMatchingType(a,d){if(I(a)){const {mark:g,encoding:t}=a;a=vb(g)?g:{type:g};switch(a.type){case "line":case "rule":case "trail":return!!fe(a,d[a.type],t);case "area":return!!fe(a,d[a.type],t)||!!Ud(a,
d[a.type])}}return!1}run(a,d,g){const {config:t}=d;var y=Object.assign({},a),C=a.selection;const aa=a.projection;var pa=a.mark;a=a.encoding;y=(delete y.selection,delete y.projection,delete y.mark,delete y.encoding,y);a=Sa(a,t);pa=vb(pa)?pa:{type:pa};const cb=fe(pa,t[pa.type],a),ib="area"===pa.type&&Ud(pa,t[pa.type]);C=[Object.assign({},C?{selection:C}:{},{mark:gd(Object.assign({},"area"===pa.type&&void 0===pa.opacity&&void 0===pa.fillOpacity?{opacity:.7}:{},pa)),encoding:Ta(a,["shape"])})];const Ib=
Rc(pa,a);let qc=a;if(Ib){const {fieldChannel:xc,offset:Dc}=Ib;qc=Object.assign({},a,{[xc]:Object.assign({},a[xc],Dc?{stack:Dc}:{})})}ib&&C.push(Object.assign({},aa?{projection:aa}:{},{mark:Object.assign({},{type:"line"},qa(pa,["clip","interpolate","tension","tooltip"]),ib),encoding:qc}));cb&&C.push(Object.assign({},aa?{projection:aa}:{},{mark:Object.assign({},{type:"point",opacity:1,filled:!0},qa(pa,["clip","tooltip"]),cb),encoding:qc}));return g(Object.assign({},y,{layer:C}),Object.assign({},d,{config:hd(t)}))}}
class xn{constructor(){Sb(this,"name","RangeStep")}hasMatchingType(a){if(I(a)&&a.encoding)for(const g of Tf){const t=a.encoding[g];if(t&&td(t)){var d;if(null===t||void 0===t?0:null===(d=t.scale)||void 0===d?0:d.rangeStep)return!0}}return!1}run(a){const d={};let g=Object.assign({},a.encoding);for(const pa of Tf){const cb=Xa(pa);var t=g[pa];if(t&&td(t)){var y;if(null===t||void 0===t?0:null===(y=t.scale)||void 0===y?0:y.rangeStep){var C=Object.assign({},t);t=t.scale;C=(delete C.scale,C);var aa=Object.assign({},
t);aa=(delete aa.rangeStep,aa);d[cb]={step:t.rangeStep};lb('Scale\'s "rangeStep" is deprecated and will be removed in Vega-Lite 5.0. Please use "width"/"height": {"step": ...} instead. See https://vega.github.io/vega-lite/docs/size.html.');g=Object.assign({},g,{[pa]:Object.assign({},C,E(aa)?{}:{scale:aa})})}}}return Object.assign({},d,a,{encoding:g})}}class yn{constructor(){Sb(this,"name","RuleForRangedLine")}hasMatchingType(a){if(I(a)){const {encoding:d,mark:g}=a;if("line"===g)for(const t of If)if(a=
Ba(t),a=d[a],d[t]&&(Oc(a)&&!Vc(a.bin)||Od(a)))return!0}return!1}run(a,d,g){var {encoding:t}=a,y=!!t.x2;t="Line mark is for continuous lines and thus cannot be used with ".concat(y&&t.y2?"x2 and y2":y?"x2":"y2",". We will use the rule mark (line segments) instead.");lb(t);return g(Object.assign({},a,{mark:"rule"}),d)}}class zn extends vn{constructor(...a){super(...a);Sb(this,"nonFacetUnitNormalizers",[sn,tn,un,new wn,new yn,new xn])}map(a,d){if(I(a)){const g=Q(a.encoding,"row"),t=Q(a.encoding,"column"),
y=Q(a.encoding,"facet");if(g||t||y)return this.mapFacetedUnit(a,d)}return super.map(a,d)}mapUnit(a,d){const {parentEncoding:g,parentProjection:t}=d;var y=Id(a.encoding,d.repeater);a=Object.assign({},a,y?{encoding:y}:{});if(g||t)return this.mapUnitWithParentEncodingOrProjection(a,d);y=this.mapLayerOrUnit.bind(this);for(const C of this.nonFacetUnitNormalizers)if(C.hasMatchingType(a,d.config))return C.run(a,d,y);return a}mapRepeat(a,d){return!Wd(a.repeat)&&a.repeat.layer?this.mapLayerRepeat(a,d):this.mapNonLayerRepeat(a,
d)}mapLayerRepeat(a,d){var g=Object.assign({},a);const t=a.repeat,y=a.spec;g=(delete g.repeat,delete g.spec,g);const {row:C,column:aa,layer:pa}=t,{repeater:cb={},repeaterPrefix:ib=""}=d;return C||aa?this.mapRepeat(Object.assign({},a,{repeat:Object.assign({},C?{row:C}:{},aa?{column:aa}:{}),spec:{repeat:{layer:pa},spec:y}}),d):Object.assign({},g,{layer:pa.map(Ib=>{var qc=Object.assign({},cb,{layer:Ib});Ib=(y.name||"")+ib+"child__layer_".concat(F(Ib));qc=this.mapLayerOrUnit(y,Object.assign({},d,{repeater:qc,
repeaterPrefix:Ib}));qc.name=Ib;return qc})})}mapNonLayerRepeat(a,d){var g,t=a,y=Object.assign({},t);const C=t.repeat,aa=t.spec;t=t.data;y=(delete y.repeat,delete y.spec,delete y.data,y);!Wd(C)&&a.columns&&(a=Ta(a,["columns"]),lb(Tc("repeat")));const pa=[],{repeater:cb={},repeaterPrefix:ib=""}=d,Ib=!Wd(C)&&C.row||[cb?cb.row:null],qc=!Wd(C)&&C.column||[cb?cb.column:null];var xc=Wd(C)&&C||[cb?cb.repeat:null];for(const cd of xc)for(const kd of Ib)for(const Qd of qc){var Dc={repeat:cd,row:kd,column:Qd,
layer:cb.layer};xc=(aa.name||"")+ib+"child__"+(Wd(C)?"".concat(F(cd)):(C.row?"row_".concat(F(kd)):"")+(C.column?"column_".concat(F(Qd)):""));Dc=this.map(aa,Object.assign({},d,{repeater:Dc,repeaterPrefix:xc}));Dc.name=xc;pa.push(Ta(Dc,["data"]))}a=Wd(C)?a.columns:C.column?C.column.length:1;return Object.assign({},{data:null!==(g=aa.data)&&void 0!==g?g:t,align:"all"},y,{columns:a,concat:pa})}mapFacet(a,d){const {facet:g}=a;Hd(g)&&a.columns&&(a=Ta(a,["columns"]),lb(Tc("facet")));return super.mapFacet(a,
d)}mapUnitWithParentEncodingOrProjection(a,d){const {encoding:g,projection:t}=a,{parentEncoding:y,parentProjection:C,config:aa}=d,pa=we({parentProjection:C,projection:t});d=Ne({parentEncoding:y,encoding:Id(g,d.repeater)});return this.mapUnit(Object.assign({},a,pa?{projection:pa}:{},d?{encoding:d}:{}),{config:aa})}mapFacetedUnit(a,d){var g=a.encoding,t=Object.assign({},g),y=g.row;const C=g.column;g=g.facet;const aa=(delete t.row,delete t.column,delete t.facet,t);var pa=Object.assign({},a);t=a.mark;
const cb=a.width,ib=a.projection,Ib=a.height,qc=a.view;a=a.selection;pa=(delete pa.mark,delete pa.width,delete pa.projection,delete pa.height,delete pa.view,delete pa.selection,delete pa.encoding,pa);const {facetMapping:xc,layout:Dc}=this.getFacetMappingAndLayout({row:y,column:C,facet:g},d);y=Id(aa,d.repeater);return this.mapFacet(Object.assign({},pa,Dc,{facet:xc,spec:Object.assign({},cb?{width:cb}:{},Ib?{height:Ib}:{},qc?{view:qc}:{},ib?{projection:ib}:{},{mark:t,encoding:y},a?{selection:a}:{})}),
d)}getFacetMappingAndLayout(a,d){const {row:g,column:t,facet:y}=a;if(g||t){y&&(d=[...g?["row"]:[],...t?["column"]:[]],d="Facet encoding dropped as ".concat(d.join(" and ")," ").concat(1<d.length?"are":"is"," also specified."),lb(d));d={};var C={};for(var aa of["row","column"]){const Ib=a[aa];if(Ib){var pa=Object.assign({},Ib);pa=(delete pa.align,delete pa.center,delete pa.spacing,delete pa.columns,pa);d[aa]=pa;for(var cb of["align","center","spacing"])if(void 0!==Ib[cb]){var ib;C[cb]=null!==(ib=C[cb])&&
void 0!==ib?ib:{};C[cb][aa]=Ib[cb]}}}return{facetMapping:d,layout:C}}C=Object.assign({},y);a=y.align;ib=y.center;aa=y.spacing;cb=y.columns;C=(delete C.align,delete C.center,delete C.spacing,delete C.columns,C);d=(d=d.repeater)?Hd(C)?Oe(C,d):bd(C,d):C;return{facetMapping:d,layout:Object.assign({},a?{align:a}:{},ib?{center:ib}:{},aa?{spacing:aa}:{},cb?{columns:cb}:{})}}mapLayer(a,d){var g=Object.assign({},d),t=d.parentEncoding;d=d.parentProjection;g=(delete g.parentEncoding,delete g.parentProjection,
g);var y=Object.assign({},a);const C=a.encoding;a=a.projection;y=(delete y.encoding,delete y.projection,y);t=Object.assign({},g,{parentEncoding:Ne({parentEncoding:t,encoding:C,layer:!0}),parentProjection:we({parentProjection:d,projection:a})});return super.mapLayer(y,t)}}const Km=new zn;class ci{constructor(a,d){a=void 0===a?{}:a;d=void 0===d?{}:d;this.explicit=a;this.implicit=d}clone(){return new ci(oe(this.explicit),oe(this.implicit))}combine(){return Object.assign({},this.explicit,this.implicit)}get(a){return V(this.explicit[a],
this.implicit[a])}getWithExplicit(a){return void 0!==this.explicit[a]?{explicit:!0,value:this.explicit[a]}:void 0!==this.implicit[a]?{explicit:!1,value:this.implicit[a]}:{explicit:!1,value:void 0}}setWithExplicit(a,d){void 0!==d.value&&this.set(a,d.value,d.explicit)}set(a,d,g){delete this[g?"implicit":"explicit"][a];this[g?"explicit":"implicit"][a]=d;return this}copyKeyFromSplit(a,d){void 0!==d.explicit[a]?this.set(a,d.explicit[a],!0):void 0!==d.implicit[a]&&this.set(a,d.implicit[a],!1)}copyKeyFromObject(a,
d){void 0!==d[a]&&this.set(a,d[a],!0)}copyAll(a){for(const d of Zc(a.combine())){const g=a.getWithExplicit(d);this.setWithExplicit(d,g)}}}class nn extends ci{constructor(a,d,g){a=void 0===a?{}:a;d=void 0===d?{}:d;g=void 0===g?!1:g;super(a,d);this.explicit=a;this.implicit=d;this.parseNothing=g}clone(){const a=super.clone();a.parseNothing=this.parseNothing;return a}}let vf;(function(a){a[a.Raw=0]="Raw";a[a.Main=1]="Main";a[a.Row=2]="Row";a[a.Column=3]="Column";a[a.Lookup=4]="Lookup"})(vf||(vf={}));
const Mm=/[[\]{}]/,Lm={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let am,bm;const Nm={left:"x",center:"xc",right:"x2"},Om={top:"y",middle:"yc",bottom:"y2"},Pm=new Set(["aria"]),um={has:a=>"interval"!==a.type&&a.nearest,parse:(a,d)=>{if(d.events)for(const g of d.events)g.markname=a.getName("voronoi")},marks:(a,d,g)=>{const {x:t,y}=d.project.hasChannel;d=a.mark;if(Za(d))return lb('The "nearest" transform is not supported for '.concat(d," marks.")),
g;d={name:a.getName("voronoi"),type:"path",interactive:!0,from:{data:a.getName("marks")},encode:{update:Object.assign({},{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},cj(a,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:t||!y?"datum.datum.x || 0":"0"},y:{expr:y||!t?"datum.datum.y || 0":"0"},size:[a.getSizeSignalRef("width"),a.getSizeSignalRef("height")]}]};let C=0,aa=!1;g.forEach((pa,cb)=>{var ib;pa=null!==(ib=pa.name)&&void 0!==ib?
ib:"";pa===a.component.mark[0].name?C=cb:0<=pa.indexOf("voronoi")&&(aa=!0)});aa||g.splice(C+1,0,d);return g}};class rf{constructor(a,d){this.debugName=d;Sb(this,"_children",[]);Sb(this,"_parent",null);Sb(this,"_hash",void 0);a&&(this.parent=a)}clone(){throw Error("Cannot clone node");}get parent(){return this._parent}set parent(a){(this._parent=a)&&a.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(a,d){-1<this._children.indexOf(a)?lb("Attempt to add the same child twice."):
void 0!==d?this._children.splice(d,0,a):this._children.push(a)}removeChild(a){a=this._children.indexOf(a);this._children.splice(a,1);return a}remove(){let a=this._parent.removeChild(this);for(const d of this._children)d._parent=this._parent,this._parent.addChild(d,a++)}insertAsParentOf(a){const d=a.parent;d.removeChild(this);this.parent=d;a.parent=this}swapWithParent(){const a=this._parent,d=a.parent;for(const g of this._children)g.parent=a;this._children=[];a.removeChild(this);a.parent.removeChild(a);
this.parent=d;a.parent=this}}class lg extends rf{clone(){const a=new this.constructor;a.debugName="clone_"+this.debugName;a._source=this._source;a._name="clone_"+this._name;a.type=this.type;a.refCounts=this.refCounts;a.refCounts[a._name]=0;return a}constructor(a,d,g,t){super(a,d);this.type=g;this.refCounts=t;Sb(this,"_source",void 0);Sb(this,"_name",void 0);this._source=this._name=d;!this.refCounts||this._name in this.refCounts||(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){void 0===
this._hash&&(this._hash="Output ".concat(H()));return this._hash}getSource(){this.refCounts[this._name]++;return this._source}isRequired(){return!!this.refCounts[this._name]}setSource(a){this._source=a}}class xh extends rf{clone(){return new xh(null,oe(this.formula))}constructor(a,d){super(a);this.formula=d}static makeFromEncoding(a,d){const g=d.reduceFieldDef((t,y,C)=>{const {field:aa,timeUnit:pa}=y,cb=mf(d)?d.encoding[da(C)]:void 0;C=mf(d)&&re(C,y,cb,d.stack,d.markDef,d.config);pa&&(y=ed(y,{forAs:!0}),
t[ta({as:y,field:aa,timeUnit:pa})]=Object.assign({},{as:y,field:aa,timeUnit:pa},C?{band:!0}:{}));return t},{});return E(g)?null:new xh(a,g)}static makeFromTransform(a,d){var g=Object.assign({},d);d=Object.assign({},g);g=g.timeUnit;d=(delete d.timeUnit,d);g=sb(g);d=Object.assign({},d,{timeUnit:g});return new xh(a,{[ta(d)]:d})}merge(a){this.formula=Object.assign({},this.formula);for(const d in a.formula)if(!this.formula[d]||a.formula[d].band)this.formula[d]=a.formula[d];for(const d of a.children)a.removeChild(d),
d.parent=this;a.remove()}removeFormulas(a){const d={};for(const g of ag(this.formula)){const [t,y]=g;a.has(y.as)||(d[t]=y)}this.formula=d}producedFields(){return new Set(Mg(this.formula).map(a=>a.as))}dependentFields(){return new Set(Mg(this.formula).map(a=>a.field))}hash(){return"TimeUnit ".concat(ta(this.formula))}assemble(){const a=[];for(const t of Mg(this.formula)){const {field:y,as:C,timeUnit:aa}=t;var d=sb(aa),g=Object.assign({},d);const pa=d.unit;d=d.utc;g=(delete g.unit,delete g.utc,g);a.push(Object.assign({},
{field:Ga(y),type:"timeunit"},pa?{units:dc(pa)}:{},d?{timezone:"utc"}:{},g,{as:[C,"".concat(C,"_end")]}))}return a}}class An{constructor(...a){Sb(this,"hasChannel",void 0);Sb(this,"hasField",void 0);Sb(this,"timeUnit",void 0);Sb(this,"items",void 0);this.items=a;this.hasChannel={};this.hasField={}}}const vm={has:a=>"single"===a.type&&"global"===a.resolve&&a.bind&&"scales"!==a.bind&&!te(a.bind),parse:(a,d,g,t)=>{t.on||delete d.events;t.clear||delete d.clear},topLevelSignals:(a,d,g)=>{const t=d.name;
a=d.project;const y=d.bind,C=d.init&&d.init[0],aa=um.has(d)?"(item().isVoronoi ? datum.datum : datum)":"datum";a.items.forEach((pa,cb)=>{const ib=F("".concat(t,"_").concat(pa.field));if(!g.filter(xc=>xc.name===ib).length){var Ib,qc;g.unshift(Object.assign({},{name:ib},C?{init:eh(C[cb])}:{value:null},{on:d.events?[{events:d.events,update:"datum \x26\x26 item().mark.marktype !\x3d\x3d 'group' ? ".concat(aa,"[").concat(oa(pa.field),"] : null")}]:[],bind:null!==(Ib=null!==(qc=y[pa.field])&&void 0!==qc?
qc:y[pa.channel])&&void 0!==Ib?Ib:y}))}});return g},signals:(a,d,g)=>{const t=d.name;var y=d.project;a=g.filter(aa=>aa.name===t+"_tuple")[0];d=t+"_tuple_fields";y=y.items.map(aa=>F("".concat(t,"_").concat(aa.field)));const C=y.map(aa=>"".concat(aa," !\x3d\x3d null")).join(" \x26\x26 ");y.length&&(a.update="".concat(C," ? {fields: ").concat(d,", values: [").concat(y.join(", "),"]} : null"));delete a.value;delete a.on;return g}},wm={has:a=>"multi"===a.type&&!!a.toggle,signals:(a,d,g)=>g.concat({name:d.name+
"_toggle",value:!1,on:[{events:d.events,update:d.toggle}]}),modifyExpr:(a,d)=>{const g=d.name+"_tuple",t=d.name+"_toggle";return"".concat(t," ? null : ").concat(g,", ")+("global"===d.resolve?"".concat(t," ? null : true, "):"".concat(t," ? null : {unit: ").concat(Vf(a),"}, "))+"".concat(t," ? ").concat(g," : null")}},ai={has:a=>"interval"===a.type&&"global"===a.resolve&&a.bind&&"scales"===a.bind,parse:(a,d)=>{const g=d.scales=[];for(const y of d.project.items){var t=y.channel;if(!tg[t])continue;const C=
(t=a.getScaleComponent(t))?t.get("type"):void 0;t&&C in Bc?(t.set("selectionExtent",{selection:d.name,field:y.field},!0),g.push(y)):lb("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},topLevelSignals:(a,d,g)=>{const t=d.scales.filter(C=>0===g.filter(aa=>aa.name===C.signals.data).length);if(!a.parent||Bh(a)||0===t.length)return g;a=g.filter(C=>C.name===d.name)[0];let y=a.update;if(0<=y.indexOf("vlSelectionResolve"))a.update="{".concat(t.map(C=>"".concat(oa(C.field),
": ").concat(C.signals.data)).join(", "),"}");else{for(const C of t){const aa="".concat(oa(C.field),": ").concat(C.signals.data);0>y.indexOf(aa)&&(y="".concat(y.substring(0,y.length-1),", ").concat(aa,"}"))}a.update=y}return g.concat(t.map(C=>({name:C.signals.data})))},signals:(a,d,g)=>{if(a.parent&&!Bh(a))for(const t of d.scales)a=g.filter(y=>y.name===t.signals.data)[0],a.push="outer",delete a.value,delete a.update;return g}},cm={has:a=>{const d="global"===a.resolve&&a.bind&&te(a.bind);a=1===a.project.items.length&&
"_vgsid_"!==a.project.items[0].field;d&&!a&&lb("Legend bindings are only supported for selections over an individual field or encoding channel.");return d&&a},parse:(a,d,g,t)=>{t.on||delete d.events;t.clear||delete d.clear;if(t.on||t.clear)for(const C of d.events){var y;C.filter=ab(null!==(y=C.filter)&&void 0!==y?y:[]);0>C.filter.indexOf('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')&&C.filter.push('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')}a=X(d.bind)?
d.bind.legend:"click";a=ma(a)?Sh(a,"view"):ab(a);d.bind={legend:{merge:a}}},topLevelSignals:(a,d,g)=>{a=d.name;const t=X(d.bind)&&d.bind.legend,y=aa=>pa=>{pa=oe(pa);pa.markname=aa;return pa};for(const aa of d.project.items){if(!aa.hasLegend)continue;var C="".concat(F(aa.field),"_legend");const pa="".concat(a,"_").concat(C);0===g.filter(cb=>cb.name===pa).length&&(C=t.merge.map(y("".concat(C,"_symbols"))).concat(t.merge.map(y("".concat(C,"_labels")))).concat(t.merge.map(y("".concat(C,"_entries")))),
g.unshift(Object.assign({},{name:pa},d.init?{}:{value:null},{on:[{events:C,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:t.merge,update:"!event.item || !datum ? null : ".concat(pa),force:!0}]})))}return g},signals:(a,d,g)=>{const t=d.name;var y=d.project;a=g.find(pa=>pa.name===t+"_tuple");var C=t+"_tuple_fields";y=y.items.filter(pa=>pa.hasLegend).map(pa=>F("".concat(t,"_").concat(F(pa.field),"_legend")));const aa=y.map(pa=>"".concat(pa," !\x3d\x3d null")).join(" \x26\x26 ");
C="".concat(aa," ? {fields: ").concat(C,", values: [").concat(y.join(", "),"]} : null");d.events&&0<y.length?a.on.push({events:y.map(pa=>({signal:pa})),update:C}):0<y.length&&(a.update=C,delete a.value,delete a.on);a=g.find(pa=>pa.name===t+"_toggle");C=X(d.bind)&&d.bind.legend;a&&(d.events?a.on.push(Object.assign({},a.on[0],{events:C})):a.on[0].events=C);return g}},Qm=[{has:()=>!0,parse:(a,d,g)=>{var t;const y=d.name,C=null!==(t=d.project)&&void 0!==t?t:d.project=new An,aa={};t={};const pa=new Set,
cb=(xc,Dc)=>{xc="visual"===Dc?xc.channel:xc.field;let cd=F("".concat(y,"_").concat(xc));for(let kd=1;pa.has(cd);kd++)cd=F("".concat(y,"_").concat(xc,"_").concat(kd));pa.add(cd);return{[Dc]:cd}};if(!g.fields&&!g.encodings){const xc=a.config.selection[g.type];if(g.init)for(const Dc of ab(g.init))for(const cd of Zc(Dc))dg[cd]?(g.encodings||(g.encodings=[])).push(cd):"interval"===g.type?(lb('Interval selections should be initialized using "x" and/or "y" keys.'),g.encodings=xc.encodings):(g.fields||(g.fields=
[])).push(cd);else g.encodings=xc.encodings,g.fields=xc.fields}for(var ib of null!==(Ib=g.fields)&&void 0!==Ib?Ib:[]){var Ib;Ib={type:"E",field:ib};Ib.signals=Object.assign({},cb(Ib,"data"));C.items.push(Ib);C.hasField[ib]=Ib}for(const xc of null!==(qc=g.encodings)&&void 0!==qc?qc:[]){var qc;(ib=a.fieldDef(xc))?(qc=ib.field,ib.aggregate?lb(dd(xc,ib.aggregate)):qc?(ib.timeUnit&&(qc=a.vgField(xc),Ib={timeUnit:ib.timeUnit,as:qc,field:ib.field},t[ta(Ib)]=Ib),aa[qc]||(Ib="E","interval"===d.type?a.getScaleComponent(xc).get("type")in
Bc&&(Ib="R"):ib.bin&&(Ib="R-RE"),ib={field:qc,channel:xc,type:Ib},ib.signals=Object.assign({},cb(ib,"data"),cb(ib,"visual")),C.items.push(aa[qc]=ib),C.hasField[qc]=C.hasChannel[xc]=aa[qc])):lb(Nc(xc))):lb(Nc(xc))}g.init&&(a=xc=>C.items.map(Dc=>void 0!==xc[Dc.channel]?xc[Dc.channel]:xc[Dc.field]),"interval"===g.type?d.init=a(g.init):(g=ab(g.init),d.init=g.map(a)));E(t)||(C.timeUnit=new xh(null,t))},signals:(a,d,g)=>{const t=d.name+"_tuple_fields";return 0<g.filter(y=>y.name===t).length?g:g.concat({name:t,
value:d.project.items.map(y=>{y=Object.assign({},y);y=(delete y.signals,delete y.hasLegend,y);y.field=Ga(y.field);return y})})}},wm,ai,cm,{has:a=>"interval"===a.type&&a.translate,signals:(a,d,g)=>{const t=d.name,y=ai.has(d),C=t+"_translate_anchor",{x:aa,y:pa}=d.project.hasChannel;let cb=Sh(d.translate,"scope");y||(cb=cb.map(ib=>(ib.between[0].markname=t+"_brush",ib)));g.push({name:C,value:{},on:[{events:cb.map(ib=>ib.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==aa?", extent_x: "+(y?Ah(a,
"x"):"slice(".concat(aa.signals.visual,")")):"")+(void 0!==pa?", extent_y: "+(y?Ah(a,"y"):"slice(".concat(pa.signals.visual,")")):"")+"}"}]},{name:t+"_translate_delta",value:{},on:[{events:cb,update:"{x: ".concat(C,".x - x(unit), y: ").concat(C,".y - y(unit)}")}]});void 0!==aa&&ok(a,d,aa,"width",g);void 0!==pa&&ok(a,d,pa,"height",g);return g}},{has:a=>"interval"===a.type&&a.zoom,signals:(a,d,g)=>{const t=d.name,y=ai.has(d),C=t+"_zoom_delta",{x:aa,y:pa}=d.project.hasChannel,cb=oa(a.scaleName("x")),
ib=oa(a.scaleName("y"));let Ib=Sh(d.zoom,"scope");y||(Ib=Ib.map(qc=>(qc.markname=t+"_brush",qc)));g.push({name:t+"_zoom_anchor",on:[{events:Ib,update:y?"{"+[cb?"x: invert(".concat(cb,", x(unit))"):"",ib?"y: invert(".concat(ib,", y(unit))"):""].filter(qc=>!!qc).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:C,on:[{events:Ib,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]});void 0!==aa&&Mi(a,d,aa,"width",g);void 0!==pa&&Mi(a,d,pa,"height",g);return g}},vm,um,{has:a=>void 0!==
a.clear&&!1!==a.clear,parse:(a,d,g)=>{g.clear&&(d.clear=ma(g.clear)?Sh(g.clear,"scope"):g.clear)},topLevelSignals:(a,d,g)=>{if(vm.has(d))for(const t of d.project.items)a=g.findIndex(y=>y.name===F("".concat(d.name,"_").concat(t.field))),-1!==a&&g[a].on.push({events:d.clear,update:"null"});return g},signals:(a,d,g)=>{function t(y,C){-1!==y&&g[y].on&&g[y].on.push({events:d.clear,update:C})}if("interval"===d.type)for(const y of d.project.items)a=g.findIndex(C=>C.name===y.signals.visual),t(a,"[0, 0]"),
-1===a&&(a=g.findIndex(C=>C.name===y.signals.data),t(a,"null"));else a=g.findIndex(y=>y.name===d.name+"_tuple"),t(a,"null"),wm.has(d)&&(a=g.findIndex(y=>y.name===d.name+"_toggle"),t(a,"false"));return g}}],Rm={single:{signals:hh,modifyExpr:(a,d)=>d.name+"_tuple, "+("global"===d.resolve?"true":"{unit: ".concat(Vf(a),"}"))},multi:{signals:hh,modifyExpr:(a,d)=>d.name+"_tuple, "+("global"===d.resolve?"null":"{unit: ".concat(Vf(a),"}"))},interval:{signals:(a,d)=>{const g=d.name;var t=g+"_tuple_fields",
y=ai.has(d);const C=[],aa=[],pa=[];if(d.translate&&!y){const cb="!event.item || event.item.mark.name !\x3d\x3d ".concat(oa(g+"_brush"));gh(d,(ib,Ib)=>{var qc;Ib=ab(null!==(qc=Ib.between[0].filter)&&void 0!==qc?qc:Ib.between[0].filter=[]);0>Ib.indexOf(cb)&&Ib.push(cb);return ib})}d.project.items.forEach((cb,ib)=>{const Ib=cb.channel;if("x"!==Ib&&"y"!==Ib)lb("Interval selections only support x and y encoding channels.");else{ib=xj(a,d,cb,d.init?d.init[ib]:null);var qc=cb.signals.data;cb=cb.signals.visual;
var xc=oa(a.scaleName(Ib)),Dc=a.getScaleComponent(Ib).get("type")in Bc?"+":"";C.push(...ib);aa.push(qc);pa.push({scaleName:a.scaleName(Ib),expr:"(!isArray(".concat(qc,") || ")+"(".concat(Dc,"invert(").concat(xc,", ").concat(cb,")[0] \x3d\x3d\x3d ").concat(Dc).concat(qc,"[0] \x26\x26 ")+"".concat(Dc,"invert(").concat(xc,", ").concat(cb,")[1] \x3d\x3d\x3d ").concat(Dc).concat(qc,"[1]))")})}});y||C.push({name:g+"_scale_trigger",value:{},on:[{events:pa.map(cb=>({scale:cb.scaleName})),update:pa.map(cb=>
cb.expr).join(" \x26\x26 ")+" ? ".concat(g+"_scale_trigger"," : {}")}]});y=d.init;t="unit: ".concat(Vf(a),", fields: ").concat(t,", values");return C.concat(Object.assign({},{name:g+"_tuple"},y?{init:"{".concat(t,": ").concat(eh(y),"}")}:{},{on:[{events:[{signal:aa.join(" || ")}],update:aa.join(" \x26\x26 ")+" ? {".concat(t,": [").concat(aa,"]} : null")}]}))},modifyExpr:(a,d)=>d.name+"_tuple, "+("global"===d.resolve?"true":"{unit: ".concat(Vf(a),"}")),marks:(a,d,g)=>{const t=d.name,{x:y,y:C}=d.project.hasChannel,
aa=y&&y.signals.visual,pa=C&&C.signals.visual;var cb="data(".concat(oa(d.name+"_store"),")");if(ai.has(d))return g;const ib={x:void 0!==y?{signal:"".concat(aa,"[0]")}:{value:0},y:void 0!==C?{signal:"".concat(pa,"[0]")}:{value:0},x2:void 0!==y?{signal:"".concat(aa,"[1]")}:{field:{group:"width"}},y2:void 0!==C?{signal:"".concat(pa,"[1]")}:{field:{group:"height"}}};if("global"===d.resolve)for(var Ib of Zc(ib))ib[Ib]=[Object.assign({},{test:"".concat(cb,".length \x26\x26 ").concat(cb,"[0].unit \x3d\x3d\x3d ").concat(Vf(a))},
ib[Ib]),{value:0}];Ib=d.mark;cb=Object.assign({},Ib);a=Ib.fill;d=Ib.fillOpacity;Ib=Ib.cursor;const qc=(delete cb.fill,delete cb.fillOpacity,delete cb.cursor,cb);cb=Zc(qc).reduce((xc,Dc)=>{xc[Dc]=[{test:[void 0!==y&&"".concat(aa,"[0] !\x3d\x3d ").concat(aa,"[1]"),void 0!==C&&"".concat(pa,"[0] !\x3d\x3d ").concat(pa,"[1]")].filter(cd=>cd).join(" \x26\x26 "),value:qc[Dc]},{value:null}];return xc},{});return[{name:t+"_brush_bg",type:"rect",clip:!0,encode:{enter:{fill:{value:a},fillOpacity:{value:d}},
update:ib}},...g,{name:t+"_brush",type:"rect",clip:!0,encode:{enter:Object.assign({},Ib?{cursor:{value:Ib}}:{},{fill:{value:"transparent"}}),update:Object.assign({},ib,cb)}}]}}};qg.prototype.visit=function(a){let d,g,t;if(a(this))return 1;d=pk(this);g=0;for(t=d.length;g<t;++g)if(d[g].visit(a))return 1};var ce,Sc,gg,cf,Sm=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
Tm=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/;
const Um={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},Vm={"if":1};class kk extends rf{clone(){return new kk(null,
this.model,oe(this.filter))}constructor(a,d,g){super(a);this.model=d;this.filter=g;Sb(this,"expr",void 0);Sb(this,"_dependentFields",void 0);this.expr=Ug(this.model,this.filter,this);this._dependentFields=Ri(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return"Filter ".concat(this.expr)}}const pm={scale:a=>{var {model:d,channel:g}=a;return d.scaleName(g)},format:a=>{var {fieldOrDatumDef:d,config:g,axis:t}=
a;const {format:y,formatType:C}=t;return le(d,d.type,y,C,g,!0)},formatType:a=>{var {axis:d,fieldOrDatumDef:g,scaleType:t}=a;({formatType:a}=d);return xe(a,g,t)},grid:a=>{var {fieldOrDatumDef:d,axis:g,scaleType:t}=a;if(Oc(d)&&Vc(d.bin))return!1;var y;return null!==(y=g.grid)&&void 0!==y?y:!(t in sd)&&Oc(d)&&!yc(null===d||void 0===d?void 0:d.bin)},gridScale:a=>{var {model:d,channel:g}=a;a="x"===g?"y":"x";a=d.getScaleComponent(a)?d.scaleName(a):void 0;return a},labelAlign:a=>{var {axis:d,labelAngle:g,
orient:t,channel:y}=a;return d.labelAlign||mi(g,t,y)},labelAngle:a=>{({labelAngle:a}=a);return a},labelBaseline:a=>{var {axis:d,labelAngle:g,orient:t,channel:y}=a;return d.labelBaseline||wk(g,t,y)},labelFlush:a=>{var {axis:d,fieldOrDatumDef:g,channel:t}=a,y;a=null!==(y=d.labelFlush)&&void 0!==y?y:"x"===t&&va(["quantitative","temporal"],g.type)?!0:void 0;return a},labelOverlap:a=>{var {axis:d,fieldOrDatumDef:g,scaleType:t}=a,y;if(null!==(y=d.labelOverlap)&&void 0!==y)a=y;else{a=g.type;y=Oc(g)&&!!g.timeUnit;
var C=Oc(g)?g.sort:void 0;a=y&&!db(C)||"nominal"!==a&&"ordinal"!==a?"log"===t||"symlog"===t?"greedy":!0:void 0}return a},orient:a=>{({orient:a}=a);return a},tickCount:a=>{var {channel:d,model:g,axis:t,fieldOrDatumDef:y,scaleType:C}=a,aa;a=(a="x"===d?"width":"y"===d?"height":void 0)?g.getSizeSignalRef(a):void 0;if(null===(aa=t.tickCount)||void 0===aa)a:{var {fieldOrDatumDef:pa,scaleType:cb,size:ib,values:Ib}={fieldOrDatumDef:y,scaleType:C,size:a,values:t.values};if(Ib||cb in sd||"log"===cb)aa=void 0;
else{if(Oc(pa)){var qc;if(yc(pa.bin)){aa={signal:"ceil(".concat(ib.signal,"/10)")};break a}if(pa.timeUnit&&va(["month","hours","day","quarter"],null===(qc=sb(pa.timeUnit))||void 0===qc?void 0:qc.unit)){aa=void 0;break a}}aa={signal:"ceil(".concat(ib.signal,"/40)")}}}return aa},title:a=>{var {axis:d,model:g,channel:t}=a;if(void 0!==d.title)return d.title;a=Dh(g,t);if(void 0!==a)return a;a=g.typedFieldDef(t);const y=g.fieldDef("x"===t?"x2":"y2");return Xf(a?[fc(a)]:[],Oc(y)?[fc(y)]:[])},values:a=>{var {axis:d,
fieldOrDatumDef:g}=a;a=d.values;a=Wd(a)?Ac(g,a):ic(a)?a:void 0;return a},zindex:a=>{var {axis:d,fieldOrDatumDef:g,mark:t}=a,y;a=null!==(y=d.zindex)&&void 0!==y?y:"rect"===t&&ze(g)?1:0;return a}};class mk extends rf{clone(){return new mk(null,oe(this.transform))}constructor(a,d){super(a);this.transform=d;Sb(this,"_dependentFields",void 0);this._dependentFields=Ri(this.transform.calculate)}static parseAllForSortIndex(a,d){d.forEachFieldDef((g,t)=>{if(ye(g)&&ec(g.sort)){const {field:C,timeUnit:aa}=g;
var y=g.sort;y=y.map((pa,cb)=>"".concat(Ae({field:C,timeUnit:aa,equal:pa})," ? ").concat(cb," : ")).join("")+y.length;a=new mk(a,{calculate:y,as:Xh(g,t,{forAs:!0})})}});return a}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return"Calculate ".concat(ta(this.transform))}}const Nl=["row","column"],El=["header","footer"],Bn={column:{start:0,end:1},row:{start:1,
end:0}},Cn=Object.assign({},{aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,
rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,
fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),gm=Zc(Cn);class Ym extends ci{}const im={symbols:function(a,d){var {fieldOrDatumDef:g,model:t,channel:y,legendCmpt:C,legendType:aa}=d,pa,cb,ib,Ib;if("symbol"===aa){var {markDef:qc,encoding:xc,config:Dc,mark:cd}=t,kd=qc.filled&&"trail"!==cd;d=Object.assign({},pe({},t,qn),Nk(t,{filled:kd}));var Qd=null!==(pa=C.get("symbolOpacity"))&&void 0!==pa?pa:Dc.legend.symbolOpacity;pa=null!==(cb=C.get("symbolFillColor"))&&void 0!==cb?cb:Dc.legend.symbolFillColor;
cb=null!==(ib=C.get("symbolStrokeColor"))&&void 0!==ib?ib:Dc.legend.symbolStrokeColor;ib=void 0===Qd?null!==(Ib=Rk(xc.opacity))&&void 0!==Ib?Ib:qc.opacity:void 0;if(d.fill)if("fill"===y||kd&&"color"===y)delete d.fill;else if(d.fill.field)if(pa)delete d.fill;else{var Ee;d.fill=Cd(null!==(Ee=Dc.legend.symbolBaseFillColor)&&void 0!==Ee?Ee:"black");d.fillOpacity=Cd(null!==ib&&void 0!==ib?ib:1)}else if(Wd(d.fill)){var Gd,Ce,nd;if(Ib=null!==(Gd=null!==(Ce=ek(null!==(nd=xc.fill)&&void 0!==nd?nd:xc.color))&&
void 0!==Ce?Ce:qc.fill)&&void 0!==Gd?Gd:kd&&qc.color)d.fill=Cd(Ib)}d.stroke&&("stroke"===y||!kd&&"color"===y?delete d.stroke:d.stroke.field||cb?delete d.stroke:Wd(d.stroke)&&(Gd=V(ek(xc.stroke||xc.color),qc.stroke,kd?qc.color:void 0))&&(d.stroke={value:Gd}));"opacity"!==y&&((Gd=Oc(g)&&Vi(t,C,g))?d.opacity=[Object.assign({},{test:Gd},Cd(null!==ib&&void 0!==ib?ib:1)),Cd(Dc.legend.unselectedOpacity)]:ib&&(d.opacity=Cd(ib)));d=Object.assign({},d,a);return E(d)?void 0:d}},gradient:function(a,d){var {model:g,
legendType:t,legendCmpt:y}=d,C;if("gradient"===t){var {config:aa,markDef:pa,encoding:cb}=g;d={};var ib=void 0===(null!==(C=y.get("gradientOpacity"))&&void 0!==C?C:aa.legend.gradientOpacity)?Rk(cb.opacity)||pa.opacity:void 0;ib&&(d.opacity=Cd(ib));d=Object.assign({},d,a);return E(d)?void 0:d}},labels:function(a,d){var {fieldOrDatumDef:g,model:t,channel:y,legendCmpt:C}=d;d=t.legend(y)||{};const aa=t.config;var pa=Oc(g)?Vi(t,C,g):void 0;pa=pa?[{test:pa,value:1},{value:aa.legend.unselectedOpacity}]:void 0;
const {format:cb,formatType:ib}=d;d=$b(ib)?ne({fieldOrDatumDef:g,field:"datum.value",format:cb,formatType:ib,config:aa}):void 0;a=Object.assign({},pa?{opacity:pa}:{},d?{text:d}:{},a);return E(a)?void 0:a},entries:function(a,d){({legendCmpt:d}=d);d=d.get("selections");return(null===d||void 0===d?0:d.length)?Object.assign({},a,{fill:{value:"transparent"}}):a}},hm={direction:a=>{({direction:a}=a);return a},format:a=>{var {fieldOrDatumDef:d,legend:g,config:t}=a;const {format:y,formatType:C}=g;return le(d,
d.type,y,C,t,!1)},formatType:a=>{var {legend:d,fieldOrDatumDef:g,scaleType:t}=a;({formatType:a}=d);return xe(a,g,t)},gradientLength:a=>{var d,g;const {legend:t,legendConfig:y}=a;if(null!==(d=null!==(g=t.gradientLength)&&void 0!==g?g:y.gradientLength)&&void 0!==d)a=d;else{{var {legendConfig:C,model:aa,direction:pa,orient:cb,scaleType:ib}=a;const {gradientHorizontalMaxLength:Ib,gradientHorizontalMinLength:qc,gradientVerticalMaxLength:xc,gradientVerticalMinLength:Dc}=C;a=ib in eb?"horizontal"===pa?"top"===
cb||"bottom"===cb?Yh(aa,"width",qc,Ib):qc:Yh(aa,"height",Dc,xc):void 0}}return a},labelOverlap:a=>{var {legend:d,legendConfig:g,scaleType:t}=a,y,C;a=null!==(y=null!==(C=d.labelOverlap)&&void 0!==C?C:g.labelOverlap)&&void 0!==y?y:va(["quantile","threshold","log","symlog"],t)?"greedy":void 0;return a},symbolType:a=>{var {legend:d,markDef:g,channel:t,encoding:y}=a,C;if(null!==(C=d.symbolType)&&void 0!==C)var aa=C;else a:{a=g.type;C=g.shape;if("shape"!==t&&(C=null!==(aa=ek(y.shape))&&void 0!==aa?aa:C)){aa=
C;break a}switch(a){case "bar":case "rect":case "image":case "square":aa="square";break a;case "line":case "trail":case "rule":aa="stroke";break a;case "arc":case "point":case "circle":case "tick":case "geoshape":case "area":case "text":aa="circle";break a}aa=void 0}return aa},title:a=>{var {fieldOrDatumDef:d,config:g}=a;return Te(d,g,{allowDisabling:!0})},type:a=>{var {legendType:d,scaleType:g,channel:t}=a;if($a(t)&&g in eb){if("gradient"===d)return}else if("symbol"===d)return;return d},values:a=>
{var {fieldOrDatumDef:d,legend:g}=a;a=g.values;a=Wd(a)?Ac(d,a):ic(a)?a:void 0;return a}},Zm="type clipAngle clipExtent center rotate precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" ");class jm extends ci{constructor(a,d,g,t){super(Object.assign({},d),{name:a});this.specifiedProjection=d;this.size=g;this.data=t;Sb(this,"merged",!1)}get isFit(){return!!this.data}}class wh extends rf{clone(){return new wh(null,oe(this.bins))}constructor(a,d){super(a);
this.bins=d}static makeFromEncoding(a,d){const g=d.reduceFieldDef((t,y,C)=>{if(vd(y)&&yc(y.bin)){const {key:aa,binComponent:pa}=mj(y,y.bin,d);t[aa]=Object.assign({},pa,t[aa],yk(d,y,C,d.config))}return t},{});return E(g)?null:new wh(a,g)}static makeFromTransform(a,d,g){const {key:t,binComponent:y}=mj(d,d.bin,g);return new wh(a,{[t]:y})}merge(a,d){for(const g of Zc(a.bins))g in this.bins?(d(a.bins[g].signal,this.bins[g].signal),this.bins[g].as=Da([...this.bins[g].as,...a.bins[g].as],ta)):this.bins[g]=
a.bins[g];for(const g of a.children)a.removeChild(g),g.parent=this;a.remove()}producedFields(){return new Set(Mg(this.bins).map(a=>a.as).flat(2))}dependentFields(){return new Set(Mg(this.bins).map(a=>a.field))}hash(){return"Bin ".concat(ta(this.bins))}assemble(){return Mg(this.bins).flatMap(a=>{const d=[],[g,...t]=a.as;var y=a.bin,C=Object.assign({},y);y=y.extent;C=(delete C.extent,C);C=Object.assign({},{type:"bin",field:Ga(a.field),as:g,signal:a.signal},ya(y)?{extent:null}:{extent:y},a.span?{span:{signal:"span(".concat(a.span,
")")}}:{},C);!y&&a.extentSignal&&(d.push({type:"extent",field:Ga(a.field),signal:a.extentSignal}),C.extent={signal:a.extentSignal});d.push(C);for(const aa of t)for(y=0;2>y;y++)d.push({type:"formula",expr:ed({field:g[y]},{expr:"datum"}),as:aa[y]});a.formula&&d.push({type:"formula",expr:a.formula,as:a.formulaAs});return d})}}class dh extends rf{clone(){return new dh(null,new Set(this.dimensions),oe(this.measures))}constructor(a,d,g){super(a);this.dimensions=d;this.measures=g}get groupBy(){return this.dimensions}static makeFromEncoding(a,
d){let g=!1;d.forEachFieldDef(C=>{C.aggregate&&(g=!0)});const t={},y=new Set;if(!g)return null;d.forEachFieldDef((C,aa)=>{const {aggregate:pa,field:cb}=C;if(pa)if("count"===pa){var ib;t["*"]=null!==(ib=t["*"])&&void 0!==ib?ib:{};t["*"].count=new Set([ed(C,{forAs:!0})])}else{if(x(pa)||L(pa)){var Ib;C=x(pa)?"argmin":"argmax";ib=pa[C];t[ib]=null!==(Ib=t[ib])&&void 0!==Ib?Ib:{};t[ib][C]=new Set([ed({op:C,field:ib},{forAs:!0})])}else{var qc;t[cb]=null!==(qc=t[cb])&&void 0!==qc?qc:{};t[cb][pa]=new Set([ed(C,
{forAs:!0})])}if(tg[aa]&&"unaggregated"===d.scaleDomain(aa)){var xc;t[cb]=null!==(xc=t[cb])&&void 0!==xc?xc:{};t[cb].min=new Set([ed({field:cb,aggregate:"min"},{forAs:!0})]);t[cb].max=new Set([ed({field:cb,aggregate:"max"},{forAs:!0})])}}else Ib=mf(d)?d.encoding[da(aa)]:void 0,vd(C)&&mf(d)&&re(aa,C,Ib,d.stack,d.markDef,d.config)?(y.add(ed(C,{})),y.add(ed(C,{suffix:"end"})),C.bin&&Xc(C,aa)&&y.add(ed(C,{binSuffix:"range"}))):aa in pg?(aa=Wa(aa),y.add(d.getName(aa))):y.add(ed(C))});return 0===y.size+
Zc(t).length?null:new dh(a,y,t)}static makeFromTransform(a,d){const g=new Set,t={};for(const pa of d.aggregate){const {op:cb,field:ib,as:Ib}=pa;if(cb)if("count"===cb){var y;t["*"]=null!==(y=t["*"])&&void 0!==y?y:{};t["*"].count=new Set([Ib?Ib:ed(pa,{forAs:!0})])}else{var C;t[ib]=null!==(C=t[ib])&&void 0!==C?C:{};t[ib][cb]=new Set([Ib?Ib:ed(pa,{forAs:!0})])}}for(const pa of null!==(aa=d.groupby)&&void 0!==aa?aa:[]){var aa;g.add(pa)}return 0===g.size+Zc(t).length?null:new dh(a,g,t)}merge(a){if(Oa(this.dimensions,
a.dimensions)){var d=this.measures;a=a.measures;for(const t of Zc(a)){const y=a[t];for(const C of Zc(y))if(t in d){var g;d[t][C]=new Set([...null!==(g=d[t][C])&&void 0!==g?g:[],...y[C]])}else d[t]={[C]:y[C]}}return!0}ah.debug(...["different dimensions, cannot merge"]);return!1}addDimensions(a){a.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...Zc(this.measures)])}producedFields(){const a=new Set;for(const d of Zc(this.measures))for(const g of Zc(this.measures[d])){const t=
this.measures[d][g];0===t.size?a.add("".concat(g,"_").concat(d)):t.forEach(a.add,a)}return a}hash(){return"Aggregate ".concat(ta({dimensions:this.dimensions,measures:this.measures}))}assemble(){const a=[],d=[],g=[];for(const t of Zc(this.measures))for(const y of Zc(this.measures[t]))for(const C of this.measures[t][y])g.push(C),a.push(y),d.push("*"===t?null:Ga(t));return{type:"aggregate",groupby:[...this.dimensions].map(Ga),ops:a,fields:d,as:g}}}class rj extends rf{constructor(a,d,g,t){super(a);this.model=
d;this.name=g;this.data=t;Sb(this,"column",void 0);Sb(this,"row",void 0);Sb(this,"facet",void 0);Sb(this,"childModel",void 0);for(const y of Yf)if(a=d.facet[y]){const {bin:C,sort:aa}=a;this[y]=Object.assign({},{name:d.getName("".concat(y,"_domain")),fields:[ed(a),...yc(C)?[ed(a,{binSuffix:"end"})]:[]]},Nd(aa)?{sortField:aa}:Wd(aa)?{sortIndexField:Xh(a,y)}:{})}this.childModel=d.child}hash(){let a="Facet";for(const d of Yf)this[d]&&(a+=" ".concat(d.charAt(0),":").concat(ta(this[d])));return a}get fields(){const a=
[];for(const g of Yf){var d;(null===(d=this[g])||void 0===d?0:d.fields)&&a.push(...this[g].fields)}return a}dependentFields(){const a=new Set(this.fields);for(const d of Yf)this[d]&&(this[d].sortField&&a.add(this[d].sortField.field),this[d].sortIndexField&&a.add(this[d].sortIndexField));return a}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const a={};for(const t of Tf){var d=this.childModel.component.scales[t];if(d&&!d.merged){var g=d.get("type");
d=d.get("range");g in sd&&Yb(d)&&(g=pj(this.childModel,t),(g=hk(g))?a[t]=g:lb(Eb(t)))}}return a}assembleRowColumnHeaderData(a,d,g){const t={row:"y",column:"x"}[a],y=[],C=[],aa=[];g&&g[t]&&(d?(y.push("distinct_".concat(g[t])),C.push("max")):(y.push(g[t]),C.push("distinct")),aa.push("distinct_".concat(g[t])));const {sortField:pa,sortIndexField:cb}=this[a];if(pa){const {op:ib="min",field:Ib}=pa;y.push(Ib);C.push(ib);aa.push(ed(pa,{forAs:!0}))}else cb&&(y.push(cb),C.push("max"),aa.push(cb));return{name:this[a].name,
source:null!==d&&void 0!==d?d:this.data,transform:[Object.assign({},{type:"aggregate",groupby:this[a].fields},y.length?{fields:y,ops:C,as:aa}:{})]}}assembleFacetHeaderData(a){const {columns:d}=this.model.layout,{layoutHeaders:g}=this.model.component,t=[],y={};for(const Ib of Nl){for(const qc of El){var C,aa=null!==(C=g[Ib]&&g[Ib][qc])&&void 0!==C?C:[];for(const xc of aa){var pa;if(0<(null===(pa=xc.axes)||void 0===pa?void 0:pa.length)){y[Ib]=!0;break}}}y[Ib]&&(aa='length(data("'.concat(this.facet.name,
'"))'),aa="row"===Ib?d?{signal:"ceil(".concat(aa," / ").concat(d,")")}:1:d?{signal:"min(".concat(aa,", ").concat(d,")")}:{signal:aa},t.push({name:"".concat(this.facet.name,"_").concat(Ib),transform:[{type:"sequence",start:0,stop:aa}]}))}const {row:cb,column:ib}=y;(cb||ib)&&t.unshift(this.assembleRowColumnHeaderData("facet",null,a));return t}assemble(){const a=[];var d=null;const g=this.getChildIndependentFieldsWithStep(),{column:t,row:y,facet:C}=this;if(t&&y&&(g.x||g.y)){var aa,pa;d="cross_".concat(this.column.name,
"_").concat(this.row.name);const cb=[].concat(null!==(aa=g.x)&&void 0!==aa?aa:[],null!==(pa=g.y)&&void 0!==pa?pa:[]);aa=cb.map(()=>"distinct");a.push({name:d,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:cb,ops:aa}]})}for(const cb of["column","row"])this[cb]&&a.push(this.assembleRowColumnHeaderData(cb,d,g));C&&(d=this.assembleFacetHeaderData(g))&&a.push(...d);return a}}class mg extends rf{clone(){return new mg(null,oe(this._parse))}constructor(a,d){super(a);Sb(this,"_parse",
void 0);this._parse=d}hash(){return"Parse ".concat(ta(this._parse))}static makeExplicit(a,d,g){let t={};d=d.data;!kg(d)&&d&&d.format&&d.format.parse&&(t=d.format.parse);return this.makeWithAncestors(a,t,{},g)}static makeWithAncestors(a,d,g,t){for(var y of Zc(g)){const aa=t.getWithExplicit(y);void 0!==aa.value&&(aa.explicit||aa.value===g[y]||"derived"===aa.value||"flatten"===g[y]?delete g[y]:lb(xd(y,g[y],aa.value)))}for(var C of Zc(d))y=t.get(C),void 0!==y&&(y===d[C]?delete d[C]:lb(xd(C,d[C],y)));
d=new ci(d,g);t.copyAll(d);g={};for(const aa of Zc(d.combine()))C=d.get(aa),null!==C&&(g[aa]=C);return 0===Zc(g).length||t.parseNothing?null:new mg(a,g)}get parse(){return this._parse}merge(a){this._parse=Object.assign({},this._parse,a.parse);a.remove()}assembleFormatParse(){const a={};for(const d of Zc(this._parse)){const g=this._parse[d];1===ba(d)&&(a[d]=g)}return a}producedFields(){return new Set(Zc(this._parse))}dependentFields(){return new Set(Zc(this._parse))}assembleTransforms(a){a=void 0===
a?!1:a;return Zc(this._parse).filter(d=>a?1<ba(d):!0).map(d=>{const g=Ei(d,this._parse[d]);return g?{type:"formula",expr:g,as:ca(d)}:null}).filter(d=>null!==d)}}class Ii extends rf{clone(){return new Ii(null)}constructor(a){super(a)}dependentFields(){return new Set}producedFields(){return new Set(["_vgsid_"])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:"_vgsid_"}}}class fl extends rf{clone(){return new fl(null,this.params)}constructor(a,d){super(a);this.params=d}dependentFields(){return new Set}producedFields(){}hash(){return"Graticule ".concat(ta(this.params))}assemble(){return Object.assign({},
{type:"graticule"},!0===this.params?{}:this.params)}}class gl extends rf{clone(){return new gl(null,this.params)}constructor(a,d){super(a);this.params=d}dependentFields(){return new Set}producedFields(){var a;return new Set([null!==(a=this.params.as)&&void 0!==a?a:"data"])}hash(){return"Hash ".concat(ta(this.params))}assemble(){return Object.assign({},{type:"sequence"},this.params)}}class Hi extends rf{constructor(a){var d;super(null);Sb(this,"_data",void 0);Sb(this,"_name",void 0);Sb(this,"_generator",
void 0);a=null!==(d=a)&&void 0!==d?d:{name:"source"};let g;kg(a)||(g=a.format?Object.assign({},Ta(a.format,["parse"])):{});if("values"in a)this._data={values:a.values};else if("url"in a)this._data={url:a.url},g.type||(d=/(?:\.([^.]+))?$/.exec(a.url)[1],va(["json","csv","tsv","dsv","topojson"],d)||(d="json"),g.type=d);else if("sphere"in a)this._data={values:[{type:"Sphere"}]};else if(Fg(a)||kg(a))this._data={};this._generator=kg(a);a.name&&(this._name=a.name);g&&!E(g)&&(this._data.format=g)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(a){this._name=
a}set parent(a){throw Error("Source nodes have to be roots.");}remove(){throw Error("Source nodes are roots and cannot be removed.");}hash(){throw Error("Cannot hash sources");}assemble(){return Object.assign({},{name:this._name},this._data,{transform:[]})}}var ml=new WeakMap;class Ol{constructor(){ml.set(this,{writable:!0,value:void 0});Zb(this,ml,!1)}setModified(){Zb(this,ml,!0)}get modifiedFlag(){var a=ml.get(this);if(!a)throw new TypeError("attempted to get private field on non-instance");a=a.get?
a.get.call(this):a.value;return a}}class Ji extends Ol{getNodeDepths(a,d,g){g.set(a,d);for(const t of a.children)this.getNodeDepths(t,d+1,g);return g}optimize(a){a=[...this.getNodeDepths(a,0,new Map).entries()].sort((d,g)=>g[1]-d[1]);for(const d of a)this.run(d[0]);return this.modifiedFlag}}class Pl extends Ol{optimize(a){this.run(a);for(const d of a.children)this.optimize(d);return this.modifiedFlag}}class jn extends Pl{mergeNodes(a,d){const g=d.shift();for(const t of d)a.removeChild(t),t.parent=
g,t.remove()}run(a){const d=a.children.map(t=>t.hash()),g={};for(let t=0;t<d.length;t++)void 0===g[d[t]]?g[d[t]]=[a.children[t]]:g[d[t]].push(a.children[t]);for(const t of Zc(g))1<g[t].length&&(this.setModified(),this.mergeNodes(a,g[t]))}}class an extends Pl{constructor(a){super();Sb(this,"requiresSelectionId",void 0);this.requiresSelectionId=a&&ei(a)}run(a){!(a instanceof Ii)||this.requiresSelectionId&&(nj(a.parent)||a.parent instanceof dh||a.parent instanceof mg)||(this.setModified(),a.remove())}}
class en extends Ol{optimize(a){this.run(a,new Set);return this.modifiedFlag}run(a,d){let g=new Set;a instanceof xh&&(g=a.producedFields(),Ha(g,d)&&(this.setModified(),a.removeFormulas(d),0===a.producedFields.length&&a.remove()));for(const t of a.children)this.run(t,new Set([...d,...g]))}}class $m extends Pl{constructor(){super()}run(a){a instanceof lg&&!a.isRequired()&&(this.setModified(),a.remove())}}class cn extends Ji{run(a){if(!(nj(a)||1<a.numChildren()))for(const d of a.children)d instanceof
mg&&(a instanceof mg?(this.setModified(),a.merge(d)):Fa(a.producedFields(),d.dependentFields())||(this.setModified(),d.swapWithParent()))}}class fn extends Ji{run(a){const d=[...a.children];var g=a.children.filter(y=>y instanceof mg);if(1<a.numChildren()&&1<=g.length){const y={};var t=new Set;for(const C of g){g=C.parse;for(const aa of Zc(g))aa in y?y[aa]!==g[aa]&&t.add(aa):y[aa]=g[aa]}for(const C of t)delete y[C];if(!E(y)){this.setModified();t=new mg(a,y);for(const C of d){if(C instanceof mg)for(const aa of Zc(y))delete C.parse[aa];
a.removeChild(C);C.parent=t;C instanceof mg&&0===Zc(C.parse).length&&C.remove()}}}}}class bn extends Ji{run(a){a instanceof lg||0<a.numChildren()||a instanceof rj||a instanceof Hi||(this.setModified(),a.remove())}}class hn extends Ji{run(a){a=a.children.filter(g=>g instanceof xh);const d=a.pop();for(const g of a)this.setModified(),d.merge(g)}}class gn extends Ji{run(a){var d=a.children.filter(y=>y instanceof dh);const g={};for(var t of d)d=ta(t.groupBy),d in g||(g[d]=[]),g[d].push(t);for(const y of Zc(g))if(t=
g[y],1<t.length){d=t.pop();for(const C of t)d.merge(C)&&(a.removeChild(C),C.parent=d,C.remove(),this.setModified())}}}class dn extends Ji{constructor(a){super();this.model=a}run(a){var d=!(nj(a)||a instanceof kk||a instanceof mg||a instanceof Ii);const g=[],t=[];for(const y of a.children)y instanceof wh&&(d&&!Fa(a.producedFields(),y.dependentFields())?g.push(y):t.push(y));if(0<g.length){d=g.pop();for(const y of g)d.merge(y,this.model.renameSignal.bind(this.model));this.setModified();a instanceof wh?
a.merge(d,this.model.renameSignal.bind(this.model)):d.swapWithParent()}if(1<t.length){a=t.pop();for(const y of t)a.merge(y,this.model.renameSignal.bind(this.model));this.setModified()}}}class kn extends Ji{run(a){var d=[...a.children];if(S(d,y=>y instanceof lg)&&!(1>=a.numChildren())){var g=[];for(const y of d)if(y instanceof lg){for(d=y;1===d.numChildren();){const [C]=d.children;if(C instanceof lg)d=C;else break}g.push(...d.children);if(t)a.removeChild(y),y.parent=t.parent,t.parent.removeChild(t),
t.parent=d,this.setModified();else var t=d}else g.push(y);if(g.length){this.setModified();for(const y of g)y.parent.removeChild(y),y.parent=t}}}}class sj extends rf{clone(){return new sj(null,oe(this.transform))}constructor(a,d){super(a);this.transform=d}addDimensions(a){this.transform.groupby=Da(this.transform.groupby.concat(a),d=>d)}dependentFields(){const a=new Set;this.transform.groupby&&this.transform.groupby.forEach(a.add,a);this.transform.joinaggregate.map(d=>d.field).filter(d=>void 0!==d).forEach(a.add,
a);return a}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(a){var d;return null!==(d=a.as)&&void 0!==d?d:ed(a)}hash(){return"JoinAggregateTransform ".concat(ta(this.transform))}assemble(){const a=[],d=[],g=[];for(var t of this.transform.joinaggregate)d.push(t.op),g.push(this.getDefaultName(t)),a.push(void 0===t.field?null:t.field);t=this.transform.groupby;return Object.assign({},{type:"joinaggregate",as:g,ops:d,fields:a},void 0!==t?{groupby:t}:
{})}}class bi extends rf{clone(){return new bi(null,oe(this._stack))}constructor(a,d){super(a);Sb(this,"_stack",void 0);this._stack=d}static makeFromTransform(a,d){const {stack:g,groupby:t,as:y,offset:C="zero"}=d;var aa=[];const pa=[];if(void 0!==d.sort)for(const cb of d.sort)aa.push(cb.field),pa.push(V(cb.order,"ascending"));aa={field:aa,order:pa};d=Wk(y)?y:ma(y)?[y,y+"_end"]:[d.stack+"_start",d.stack+"_end"];return new bi(a,{stackField:g,groupby:t,offset:C,sort:aa,facetby:[],as:d})}static makeFromEncoding(a,
d){var g=d.stack,{encoding:t}=d;if(!g)return null;const {groupbyChannel:y,fieldChannel:C,offset:aa,impute:pa}=g;let cb;y&&(cb=De(t[y]));g=Vk(d);t=d.encoding.order;t=Wd(t)||Oc(t)?Af(t):g.reduce((ib,Ib)=>{ib.field.push(Ib);ib.order.push("y"===C?"descending":"ascending");return ib},{field:[],order:[]});return new bi(a,{dimensionFieldDef:cb,stackField:d.vgField(C),facetby:[],stackby:g,sort:t,offset:aa,impute:pa,as:[d.vgField(C,{suffix:"start",forAs:!0}),d.vgField(C,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(a){this._stack.facetby.push(...a)}dependentFields(){const a=
new Set;a.add(this._stack.stackField);this.getGroupbyFields().forEach(a.add,a);this._stack.facetby.forEach(a.add,a);this._stack.sort.field.forEach(a.add,a);return a}producedFields(){return new Set(this._stack.as)}hash(){return"Stack ".concat(ta(this._stack))}getGroupbyFields(){const {dimensionFieldDef:a,impute:d,groupby:g}=this._stack;return a?a.bin?d?[ed(a,{binSuffix:"mid"})]:[ed(a,{}),ed(a,{binSuffix:"end"})]:[ed(a)]:null!==g&&void 0!==g?g:[]}assemble(){const a=[],{facetby:d,dimensionFieldDef:g,
stackField:t,stackby:y,sort:C,offset:aa,impute:pa,as:cb}=this._stack;if(pa&&g){const {band:ib=.5,bin:Ib}=g;Ib&&a.push({type:"formula",expr:"".concat(ib,"*")+ed(g,{expr:"datum"})+"+".concat(1-ib,"*")+ed(g,{expr:"datum",binSuffix:"end"}),as:ed(g,{binSuffix:"mid",forAs:!0})});a.push({type:"impute",field:t,groupby:[...y,...d],key:ed(g,{binSuffix:"mid"}),method:"value",value:0})}a.push({type:"stack",groupby:[...this.getGroupbyFields(),...d],field:t,sort:C,as:cb,offset:aa});return a}}class lk extends rf{clone(){return new lk(null,
oe(this.transform))}constructor(a,d){super(a);this.transform=d}addDimensions(a){this.transform.groupby=Da(this.transform.groupby.concat(a),d=>d)}dependentFields(){var a,d;const g=new Set;(null!==(a=this.transform.groupby)&&void 0!==a?a:[]).forEach(g.add,g);(null!==(d=this.transform.sort)&&void 0!==d?d:[]).forEach(t=>g.add(t.field));this.transform.window.map(t=>t.field).filter(t=>void 0!==t).forEach(g.add,g);return g}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(a){var d;
return null!==(d=a.as)&&void 0!==d?d:ed(a)}hash(){return"WindowTransform ".concat(ta(this.transform))}assemble(){const a=[],d=[],g=[],t=[];for(var y of this.transform.window)d.push(y.op),g.push(this.getDefaultName(y)),t.push(void 0===y.param?null:y.param),a.push(void 0===y.field?null:y.field);y=this.transform.frame;const C=this.transform.groupby;if(y&&null===y[0]&&null===y[1]&&d.every(ib=>ia(ib)))return Object.assign({},{type:"joinaggregate",as:g,ops:d,fields:a},void 0!==C?{groupby:C}:{});const aa=
[],pa=[];if(void 0!==this.transform.sort)for(const ib of this.transform.sort){var cb;aa.push(ib.field);pa.push(null!==(cb=ib.order)&&void 0!==cb?cb:"ascending")}cb=this.transform.ignorePeers;return Object.assign({},{type:"window",params:t,as:g,ops:d,fields:a,sort:{field:aa,order:pa}},void 0!==cb?{ignorePeers:cb}:{},void 0!==C?{groupby:C}:{},void 0!==y?{frame:y}:{})}}class Hg{constructor(a){Sb(this,"signal",void 0);Object.defineProperty(this,"signal",{enumerable:!0,get:a})}static fromName(a,d){return new Hg(()=>
a(d))}}class lm extends ci{constructor(a,d){super({},{name:a});Sb(this,"merged",!1);this.setWithExplicit("type",d)}domainDefinitelyIncludesZero(){return!1!==this.get("zero")?!0:S(this.get("domains"),a=>Wd(a)&&2===a.length&&0>=a[0]&&0<=a[1])}}const ln=["range","scheme"],km={bins:a=>{var {model:d,fieldOrDatumDef:g}=a;return Oc(g)?Ck(d,g):void 0},interpolate:a=>{var {channel:d,fieldOrDatumDef:g}=a;a=g.type;a=va(["color","fill","stroke"],d)&&"nominal"!==a?"hcl":void 0;return a},nice:a=>{var {scaleType:d,
channel:g,fieldOrDatumDef:t}=a;var y;a=(null===(y=De(t))||void 0===y?0:y.bin)||va([e.TIME,e.UTC],d)?void 0:g in Cf?!0:void 0;return a},padding:a=>{var {channel:d,scaleType:g,fieldOrDatumDef:t,markDef:y,config:C}=a;a:{a=C.scale;var aa=C.bar;if(d in Cf){if(g in eb){if(void 0!==a.continuousPadding){a=a.continuousPadding;break a}const {type:pa,orient:cb}=y;if("bar"===pa&&(!Oc(t)||!t.bin&&!t.timeUnit)&&("vertical"===cb&&"x"===d||"horizontal"===cb&&"y"===d)){a=aa.continuousBandSize;break a}}if(g===e.POINT){a=
a.pointPadding;break a}}a=void 0}return a},paddingInner:a=>{var {scalePadding:d,channel:g,markDef:t,config:y}=a;if(void 0!==d)a=void 0;else if(g in Cf){const {bandPaddingInner:C,barBandPaddingInner:aa,rectBandPaddingInner:pa}=y.scale;a=V(C,"bar"===t.type?aa:pa)}else a=void 0;return a},paddingOuter:a=>{var {scalePadding:d,channel:g,scaleType:t,scalePaddingInner:y,config:C}=a;void 0!==d?a=void 0:g in Cf&&t===e.BAND?({bandPaddingOuter:a}=C.scale,a=V(a,ic(y)?{signal:"".concat(y.signal,"/2")}:y/2)):a=
void 0;return a},reverse:a=>{var {fieldOrDatumDef:d,scaleType:g,channel:t,config:y}=a;a=Oc(d)?d.sort:void 0;var C=y.scale;a="x"===t&&void 0!==C.xReverse?g in Bc&&"descending"===a?ic(C.xReverse)?{signal:"!".concat(C.xReverse.signal)}:!C.xReverse:C.xReverse:g in Bc&&"descending"===a?!0:void 0;return a},zero:a=>{var {channel:d,fieldOrDatumDef:g,domain:t,markDef:y,scaleType:C}=a;a:if(t&&"unaggregated"!==t&&C in Bc){if(Wd(t)&&(a=t[t.length-1],0>=t[0]&&0<=a)){a=!0;break a}a=!1}else if("size"!==d||"quantitative"!==
g.type||C in Qb)if(Oc(g)&&g.bin||!va([...Tf,...Qj],d))a=!1;else{const {orient:aa,type:pa}=y;a=va(["bar","area","line","trail"],pa)&&("horizontal"===aa&&"y"===d||"vertical"===aa&&"x"===d)?!1:!0}else a=!0;return a}},mn=Ng((a,d)=>K[a]-K[d]);class Ql{constructor(){Sb(this,"nameMap",void 0);this.nameMap={}}rename(a,d){this.nameMap[a]=d}has(a){return void 0!==this.nameMap[a]}get(a){for(;this.nameMap[a]&&a!==this.nameMap[a];)a=this.nameMap[a];return a}}class Rl{constructor(a,d,g,t,y,C,aa){var pa,cb;this.type=
d;this.parent=g;this.config=y;Sb(this,"name",void 0);Sb(this,"size",void 0);Sb(this,"title",void 0);Sb(this,"description",void 0);Sb(this,"data",void 0);Sb(this,"transforms",void 0);Sb(this,"layout",void 0);Sb(this,"scaleNameMap",void 0);Sb(this,"projectionNameMap",void 0);Sb(this,"signalNameMap",void 0);Sb(this,"component",void 0);Sb(this,"view",void 0);Sb(this,"children",[]);Sb(this,"correctDataNames",ib=>{ib.from&&ib.from.data&&(ib.from.data=this.lookupDataSource(ib.from.data));ib.from&&ib.from.facet&&
ib.from.facet.data&&(ib.from.facet.data=this.lookupDataSource(ib.from.facet.data));return ib});this.parent=g;this.config=y;this.view=ob(aa);this.name=null!==(pa=a.name)&&void 0!==pa?pa:t;this.title=Bd(a.title)?{text:a.title}:a.title?this.initTitle(a.title):void 0;this.scaleNameMap=g?g.scaleNameMap:new Ql;this.projectionNameMap=g?g.projectionNameMap:new Ql;this.signalNameMap=g?g.signalNameMap:new Ql;this.data=a.data;this.description=a.description;this.transforms=Ph(null!==(cb=a.transform)&&void 0!==
cb?cb:[]);this.layout="layer"===d||"unit"===d?{}:Ab(a,d,y);this.component={data:{sources:g?g.component.data.sources:[],outputNodes:g?g.component.data.outputNodes:{},outputNodeRefCounts:g?g.component.data.outputNodeRefCounts:{},isFaceted:"facet"in a||g&&g.component.data.isFaceted&&void 0===a.data},layoutSize:new ci,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({},{scale:{},axis:{},legend:{}},C?oe(C):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}initTitle(a){const d=
Zc(a),g={text:pd(a.text)};for(const t of d)g[t]=pd(a[t]);return g}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale();this.parseLayoutSize();this.renameTopLevelLayoutSizeSignal();this.parseSelections();this.parseProjection();this.parseData();this.parseAxesAndHeaders();this.parseLegends();this.parseMarkGroup()}parseScale(){var {ignoreRange:a}={};qj(this);mf(this)?Xk(this):Jj(this);for(const d of $e)Vg(this,d);a||Ak(this)}parseProjection(){ph(this)}renameTopLevelLayoutSizeSignal(){"width"!==
this.getName("width")&&this.renameSignal(this.getName("width"),"width");"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){Sk(this)}assembleGroupStyle(){if("unit"===this.type||"layer"===this.type){var a,d;return null!==(a=null===(d=this.view)||void 0===d?void 0:d.style)&&void 0!==a?a:"cell"}}assembleEncodeFromView(a){a=Object.assign({},a);a=(delete a.style,a);const d={};for(const g of Zc(a)){const t=a[g];void 0!==t&&(d[g]=Cd(t))}return d}assembleGroupEncodeEntry(a){let d=
{};this.view&&(d=this.assembleEncodeFromView(this.view));if(!a&&(this.description&&(d.description=Cd(this.description)),"unit"===this.type||"layer"===this.type)){var g;return Object.assign({},{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!==(g=d)&&void 0!==g?g:{})}return E(d)?void 0:d}assembleLayout(){if(this.layout){var a=this.layout,d=Object.assign({},a);a=a.spacing;d=(delete d.spacing,d);var {component:g,config:t}=this;{var y=g.layoutHeaders;const pa={};for(aa of Yf){var C=
y[aa];if(null===C||void 0===C?0:C.facetFieldDef){const {titleAnchor:cb,titleOrient:ib}=ni(["titleAnchor","titleOrient"],C.facetFieldDef.header,t,aa);C=Si(aa,ib);const Ib=Bn[C][cb];void 0!==Ib&&(pa[C]=Ib)}}var aa=E(pa)?void 0:pa}return Object.assign({},{padding:a},this.assembleDefaultLayout(),d,aa?{titleBand:aa}:{})}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const {layoutHeaders:a}=this.component;let d=[];for(const g of Yf)a[g].title&&d.push(Fj(this,g));for(const g of Nl)d=d.concat(Xj(this,
g));return d}assembleAxes(){return vk(this.component.axes,this.config)}assembleLegends(){return Hj(this)}assembleProjections(){var a=rh(this)||Wi(this)?Pg(this):Gj(this);return a}assembleTitle(){var a,d=null!==(a=this.title)&&void 0!==a?a:{};a=Object.assign({},d);d=d.encoding;a=(delete a.encoding,a);d=Object.assign({},od(this.config.title).nonMark,a,d?{encode:{update:d}}:{});if(d.text){if(va(["unit","layer"],this.type)){if(va(["middle",void 0],d.anchor)){var g;d.frame=null!==(g=d.frame)&&void 0!==
g?g:"group"}}else{var t;d.anchor=null!==(t=d.anchor)&&void 0!==t?t:"start"}return E(d)?void 0:d}}assembleGroup(a){a=void 0===a?[]:a;const d={};a=a.concat(this.assembleSignals());0<a.length&&(d.signals=a);if(a=this.assembleLayout())d.layout=a;d.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());a=!this.parent||og(this.parent)?Zk(this):[];0<a.length&&(d.scales=a);a=this.assembleAxes();0<a.length&&(d.axes=a);a=this.assembleLegends();0<a.length&&(d.legends=a);return d}getName(a){return F((this.name?
this.name+"_":"")+a)}getDataName(a){return this.getName(vf[a].toLowerCase())}requestDataName(a){a=this.getDataName(a);const d=this.component.data.outputNodeRefCounts;d[a]=(d[a]||0)+1;return a}getSizeSignalRef(a){if(og(this.parent)){var d=Kg(a),g=xb(d);if((d=this.component.scales[g])&&!d.merged){var t=d.get("type");const y=d.get("range");if(t in sd&&Yb(y)){a=d.get("name");t=pj(this,g);if(t=hk(t))return g=ed({aggregate:"distinct",field:t},{expr:"datum"}),{signal:Eh(a,d,g)};lb(Eb(g));return null}}}return{signal:this.signalNameMap.get(this.getName(a))}}lookupDataSource(a){const d=
this.component.data.outputNodes[a];return d?d.getSource():a}getSignalName(a){return this.signalNameMap.get(a)}renameSignal(a,d){this.signalNameMap.rename(a,d)}renameScale(a,d){this.scaleNameMap.rename(a,d)}renameProjection(a,d){this.projectionNameMap.rename(a,d)}scaleName(a,d){if(d)return this.getName(a);if(th[a]&&tg[a]&&this.component.scales[a]||this.scaleNameMap.has(this.getName(a)))return this.scaleNameMap.get(this.getName(a))}projectionName(a){if(a)return this.getName("projection");if(this.component.projection&&
!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(a){if(!this.component.scales)throw Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const d=this.component.scales[a];return d&&!d.merged?d:this.parent?this.parent.getScaleComponent(a):void 0}getSelectionComponent(a,d){let g=this.component.selection[a];
!g&&this.parent&&(g=this.parent.getSelectionComponent(a,d));if(!g)throw Error('Cannot find a selection named "'.concat(d,'".'));return g}hasAxisOrientSignalRef(){var a,d;return(null===(a=this.component.axes.x)||void 0===a?void 0:a.some(g=>g.hasOrientSignalRef()))||(null===(d=this.component.axes.y)||void 0===d?void 0:d.some(g=>g.hasOrientSignalRef()))}}class xm extends Rl{vgField(a,d){d=void 0===d?{}:d;if(a=this.fieldDef(a))return ed(a,d)}reduceFieldDef(a,d){return Db(this.getMapping(),(g,t,y)=>(t=
De(t))?a(g,t,y):g,d)}forEachFieldDef(a,d){nb(this.getMapping(),(g,t)=>{(g=De(g))&&a(g,t)},d)}}class Hl extends rf{clone(){return new Hl(null,oe(this.transform))}constructor(a,d){var g,t,y;super(a);this.transform=d;this.transform=oe(d);a=null!==(g=this.transform.as)&&void 0!==g?g:[void 0,void 0];this.transform.as=[null!==(t=a[0])&&void 0!==t?t:"value",null!==(y=a[1])&&void 0!==y?y:"density"]}dependentFields(){var a;return new Set([this.transform.density,...null!==(a=this.transform.groupby)&&void 0!==
a?a:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"DensityTransform ".concat(ta(this.transform))}assemble(){var a=this.transform,d=Object.assign({},a);a=a.density;d=(delete d.density,d);return Object.assign({},{type:"kde",field:a},d)}}class hl extends rf{clone(){return new hl(null,Object.assign({},this.filter))}constructor(a,d){super(a);this.filter=d}static make(a,d){const {config:g,mark:t,markDef:y}=d;if("filter"!==ae("invalid",y,g))return null;const C=d.reduceFieldDef((aa,
pa,cb)=>{(cb=!!tg[cb]&&d.getScaleComponent(cb))&&cb.get("type")in Bc&&"count"!==pa.aggregate&&!Za(t)&&(aa[pa.field]=pa);return aa},{});return Zc(C).length?new hl(a,C):null}dependentFields(){return new Set(Zc(this.filter))}producedFields(){return new Set}hash(){return"FilterInvalid ".concat(ta(this.filter))}assemble(){const a=Zc(this.filter).reduce((d,g)=>{g=this.filter[g];const t=ed(g,{expr:"datum"});null!==g&&("temporal"===g.type?d.push("(isDate(".concat(t,") || (isValid(").concat(t,") \x26\x26 isFinite(+").concat(t,
")))")):"quantitative"===g.type&&(d.push("isValid(".concat(t,")")),d.push("isFinite(+".concat(t,")"))));return d},[]);return 0<a.length?{type:"filter",expr:a.join(" \x26\x26 ")}:null}}class Gl extends rf{clone(){return new Gl(this.parent,oe(this.transform))}constructor(a,d){super(a);this.transform=d;this.transform=oe(d);const {flatten:g,as:t=[]}=this.transform;this.transform.as=g.map((y,C)=>{var aa;return null!==(aa=t[C])&&void 0!==aa?aa:y})}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return"FlattenTransform ".concat(ta(this.transform))}assemble(){const {flatten:a,
as:d}=this.transform;return{type:"flatten",fields:a,as:d}}}class Fl extends rf{clone(){return new Fl(null,oe(this.transform))}constructor(a,d){var g,t,y;super(a);this.transform=d;this.transform=oe(d);a=null!==(g=this.transform.as)&&void 0!==g?g:[void 0,void 0];this.transform.as=[null!==(t=a[0])&&void 0!==t?t:"key",null!==(y=a[1])&&void 0!==y?y:"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return"FoldTransform ".concat(ta(this.transform))}assemble(){const {fold:a,
as:d}=this.transform;return{type:"fold",fields:a,as:d}}}class nk extends rf{clone(){return new nk(null,oe(this.fields),this.geojson,this.signal)}static parseAll(a,d){if(d.component.projection&&!d.component.projection.isFit)return a;let g=0;for(var t of[["longitude","latitude"],["longitude2","latitude2"]]){const y=t.map(C=>{C=z(d.encoding[C]);return Oc(C)?C.field:Od(C)?{expr:"".concat(C.datum)}:ie(C)?{expr:"".concat(C.value)}:void 0});if(y[0]||y[1])a=new nk(a,y,null,d.getName("geojson_".concat(g++)))}d.channelHasField("shape")&&
(t=d.typedFieldDef("shape"),"geojson"===t.type&&(a=new nk(a,null,t.field,d.getName("geojson_".concat(g++)))));return a}constructor(a,d,g,t){super(a);this.fields=d;this.geojson=g;this.signal=t}dependentFields(){var a;const d=(null!==(a=this.fields)&&void 0!==a?a:[]).filter(ma);return new Set([...this.geojson?[this.geojson]:[],...d])}producedFields(){return new Set}hash(){return"GeoJSON ".concat(this.geojson," ").concat(this.signal," ").concat(ta(this.fields))}assemble(){return Object.assign({},{type:"geojson"},
this.fields?{fields:this.fields}:{},this.geojson?{geojson:this.geojson}:{},{signal:this.signal})}}class il extends rf{clone(){return new il(null,this.projection,oe(this.fields),oe(this.as))}constructor(a,d,g,t){super(a);this.projection=d;this.fields=g;this.as=t}static parseAll(a,d){if(!d.projectionName())return a;for(const g of[["longitude","latitude"],["longitude2","latitude2"]]){const t=g.map(C=>{C=z(d.encoding[C]);return Oc(C)?C.field:Od(C)?{expr:"".concat(C.datum)}:ie(C)?{expr:"".concat(C.value)}:
void 0}),y="longitude2"===g[0]?"2":"";if(t[0]||t[1])a=new il(a,d.projectionName(),t,[d.getName("x"+y),d.getName("y"+y)])}return a}dependentFields(){return new Set(this.fields.filter(ma))}producedFields(){return new Set(this.as)}hash(){return"Geopoint ".concat(this.projection," ").concat(ta(this.fields)," ").concat(ta(this.as))}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class tj extends rf{clone(){return new tj(null,oe(this.transform))}constructor(a,
d){super(a);this.transform=d}dependentFields(){var a;return new Set([this.transform.impute,this.transform.key,...null!==(a=this.transform.groupby)&&void 0!==a?a:[]])}producedFields(){return new Set([this.transform.impute])}processSequence(a){const {start:d=0,stop:g,step:t}=a;a=[d,g,...t?[t]:[]].join();return{signal:"sequence(".concat(a,")")}}static makeFromTransform(a,d){return new tj(a,d)}static makeFromEncoding(a,d){const g=d.encoding;var t=g.x;const y=g.y;if(Oc(t)&&Oc(y)){const C=t.impute?t:y.impute?
y:void 0;if(void 0===C)return;t=t.impute?y:y.impute?t:void 0;const {method:aa,value:pa,frame:cb,keyvals:ib}=C.impute;d=Ub(d.mark,g);return new tj(a,Object.assign({},{impute:C.field,key:t.field},aa?{method:aa}:{},void 0!==pa?{value:pa}:{},cb?{frame:cb}:{},void 0!==ib?{keyvals:ib}:{},d.length?{groupby:d}:{}))}return null}hash(){return"Impute ".concat(ta(this.transform))}assemble(){const {impute:a,key:d,keyvals:g,method:t,groupby:y,value:C,frame:aa=[null,null]}=this.transform,pa=Object.assign({},{type:"impute",
field:a,key:d},g?{keyvals:void 0!==(null===g||void 0===g?void 0:g.stop)?this.processSequence(g):g}:{},{method:"value"},y?{groupby:y}:{},{value:t&&"value"!==t?null:C});if(t&&"value"!==t){const cb=Object.assign({},{type:"window",as:["imputed_".concat(a,"_value")],ops:[t],fields:[a],frame:aa,ignorePeers:!1},y?{groupby:y}:{}),ib={type:"formula",expr:"datum.".concat(a," \x3d\x3d\x3d null ? datum.imputed_").concat(a,"_value : datum.").concat(a),as:a};return[pa,cb,ib]}return[pa]}}class Il extends rf{clone(){return new Il(null,
oe(this.transform))}constructor(a,d){var g,t,y;super(a);this.transform=d;this.transform=oe(d);a=null!==(g=this.transform.as)&&void 0!==g?g:[void 0,void 0];this.transform.as=[null!==(t=a[0])&&void 0!==t?t:d.on,null!==(y=a[1])&&void 0!==y?y:d.loess]}dependentFields(){var a;return new Set([this.transform.loess,this.transform.on,...null!==(a=this.transform.groupby)&&void 0!==a?a:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"LoessTransform ".concat(ta(this.transform))}assemble(){var a=
this.transform,d=Object.assign({},a);const g=a.loess;a=a.on;d=(delete d.loess,delete d.on,d);return Object.assign({},{type:"loess",x:a,y:g},d)}}class jl extends rf{clone(){return new jl(null,oe(this.transform),this.secondary)}constructor(a,d,g){super(a);this.transform=d;this.secondary=g}static make(a,d,g,t){const y=d.component.data.sources,{from:C}=g;var aa=null;if("data"in C)aa=qi(C.data,y),aa||(aa=new Hi(C.data),y.push(aa)),t=d.getName("lookup_".concat(t)),aa=new lg(aa,t,vf.Lookup,d.component.data.outputNodeRefCounts),
d.component.data.outputNodes[t]=aa;else if("selection"in C&&(t=C.selection,g=Object.assign({},{as:t},g),aa=d.getSelectionComponent(F(t),t).materialized,!aa))throw Error('Cannot define and lookup the "'.concat(t,'" selection in the same view. ')+"Try moving the lookup into a second, layered view?");return new jl(a,g,aa.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?ab(this.transform.as):this.transform.from.fields)}hash(){return"Lookup ".concat(ta({transform:this.transform,
secondary:this.secondary}))}assemble(){if(this.transform.from.fields)var a=Object.assign({},{values:this.transform.from.fields},this.transform.as?{as:ab(this.transform.as)}:{});else a=this.transform.as,ma(a)||(lb('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),a="_lookup"),a={as:[a]};return Object.assign({},{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},a,this.transform.default?
{default:this.transform.default}:{})}}class Jl extends rf{clone(){return new Jl(null,oe(this.transform))}constructor(a,d){var g,t,y;super(a);this.transform=d;this.transform=oe(d);a=null!==(g=this.transform.as)&&void 0!==g?g:[void 0,void 0];this.transform.as=[null!==(t=a[0])&&void 0!==t?t:"prob",null!==(y=a[1])&&void 0!==y?y:"value"]}dependentFields(){var a;return new Set([this.transform.quantile,...null!==(a=this.transform.groupby)&&void 0!==a?a:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"QuantileTransform ".concat(ta(this.transform))}assemble(){var a=
this.transform,d=Object.assign({},a);a=a.quantile;d=(delete d.quantile,d);return Object.assign({},{type:"quantile",field:a},d)}}class Kl extends rf{clone(){return new Kl(null,oe(this.transform))}constructor(a,d){var g,t,y;super(a);this.transform=d;this.transform=oe(d);a=null!==(g=this.transform.as)&&void 0!==g?g:[void 0,void 0];this.transform.as=[null!==(t=a[0])&&void 0!==t?t:d.on,null!==(y=a[1])&&void 0!==y?y:d.regression]}dependentFields(){var a;return new Set([this.transform.regression,this.transform.on,
...null!==(a=this.transform.groupby)&&void 0!==a?a:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"RegressionTransform ".concat(ta(this.transform))}assemble(){var a=this.transform,d=Object.assign({},a);const g=a.regression;a=a.on;d=(delete d.regression,delete d.on,d);return Object.assign({},{type:"regression",x:a,y:g},d)}}class Ml extends rf{clone(){return new Ml(null,oe(this.transform))}constructor(a,d){super(a);this.transform=d}addDimensions(a){var d;this.transform.groupby=
Da((null!==(d=this.transform.groupby)&&void 0!==d?d:[]).concat(a),g=>g)}producedFields(){}dependentFields(){var a;return new Set([this.transform.pivot,this.transform.value,...null!==(a=this.transform.groupby)&&void 0!==a?a:[]])}hash(){return"PivotTransform ".concat(ta(this.transform))}assemble(){const {pivot:a,value:d,groupby:g,limit:t,op:y}=this.transform;return Object.assign({},{type:"pivot",field:a,value:d},void 0!==t?{limit:t}:{},void 0!==y?{op:y}:{},void 0!==g?{groupby:g}:{})}}class Ll extends rf{clone(){return new Ll(null,
oe(this.transform))}constructor(a,d){super(a);this.transform=d}dependentFields(){return new Set}producedFields(){return new Set}hash(){return"SampleTransform ".concat(ta(this.transform))}assemble(){return{type:"sample",size:this.transform.sample}}}class ll extends xm{constructor(a,d,g,t){super(a,"facet",d,g,t,a.resolve);Sb(this,"facet",void 0);Sb(this,"child",void 0);Sb(this,"children",void 0);this.child=Dg(a.spec,this,this.getName("child"),void 0,t);this.children=[this.child];this.facet=this.initFacet(a.facet)}initFacet(a){if(!Hd(a))return{facet:this.initFacetFieldDef(a,
"facet")};var d=Zc(a);const g={};for(const t of d){if(!va(["row","column"],t)){lb(ke(t,"facet"));break}d=a[t];if(void 0===d.field){lb(Gc(d,t));break}g[t]=this.initFacetFieldDef(d,t)}return g}initFacetFieldDef(a,d){var g=Object.assign({},a);a=a.header;g=(delete g.header,g);d=ub(g,d);a&&(d.header=ob(a));return d}channelHasField(a){return!!this.facet[a]}fieldDef(a){return this.facet[a]}parseData(){this.component.data=rg(this);this.child.parseData()}parseLayoutSize(){Jh(this)}parseSelections(){this.child.parseSelections();
this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders();for(const y of Yf){{var a=void 0,d=y;const {facet:C,config:aa,child:pa,component:cb}=this;if(this.channelHasField(d)){const ib=C[d];var g=nh("title",null,aa,d);g=Te(ib,aa,{allowDisabling:!0,includeDefault:void 0===g||!!g});pa.component.layoutHeaders[d].title&&(g=Wd(g)?g.join(", "):g,g+=" / "+pa.component.layoutHeaders[d].title,pa.component.layoutHeaders[d].title=
null);var t=nh("labelOrient",ib,aa,d);const Ib=null!==(a=ib.header)&&void 0!==a?a:{};a=V(Ib.labels,aa.header.labels,!0);t=va(["bottom","right"],t)?"footer":"header";cb.layoutHeaders[d]={title:g,facetFieldDef:ib,[t]:"facet"===d?[]:[Lk(this,d,a)]}}}}Ag(this,"x");Ag(this,"y")}assembleSelectionTopLevelSignals(a){return this.child.assembleSelectionTopLevelSignals(a)}assembleSignals(){this.child.assembleSignals();return[]}assembleSelectionData(a){return this.child.assembleSelectionData(a)}getHeaderLayoutMixins(){const a=
{};for(const aa of Yf)for(const pa of El){const cb=this.component.layoutHeaders[aa];var d=cb[pa],{facetFieldDef:g}=cb;if(g&&(g=nh("titleOrient",g.header,this.config,aa),va(["right","bottom"],g))){var t;g=Si(aa,g);a.titleAnchor=null!==(t=a.titleAnchor)&&void 0!==t?t:{};a.titleAnchor[g]="end"}if(null===d||void 0===d?0:d[0]){d="row"===aa?"height":"width";g="header"===pa?"headerBand":"footerBand";if("facet"!==aa&&!this.child.component.layoutSize.get(d)){var y;a[g]=null!==(y=a[g])&&void 0!==y?y:{};a[g][aa]=
.5}if(cb.title){var C;a.offset=null!==(C=a.offset)&&void 0!==C?C:{};a.offset["row"===aa?"rowTitle":"columnTitle"]=10}}}return a}assembleDefaultLayout(){const {column:a,row:d}=this.facet,g=a?this.columnDistinctSignal():d?1:void 0;let t="all";d||"independent"!==this.component.resolve.scale.x?a||"independent"!==this.component.resolve.scale.y||(t="none"):t="none";return Object.assign({},this.getHeaderLayoutMixins(),g?{columns:g}:{},{bounds:"full",align:t})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&
this.parent instanceof ll)){const a=this.getName("column_domain");return{signal:"length(data('".concat(a,"'))")}}}assembleGroup(a){return this.parent&&this.parent instanceof ll?Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:ed(this.facet.column,{prefix:"distinct"})}}}}:{},super.assembleGroup(a)):super.assembleGroup(a)}getCardinalityAggregateForChild(){const a=[],d=[],g=[];if(this.child instanceof ll){if(this.child.channelHasField("column")){var t=ed(this.child.facet.column);
a.push(t);d.push("distinct");g.push("distinct_".concat(t))}}else for(t of Tf){var y=this.child.component.scales[t];if(y&&!y.merged){var C=y.get("type");y=y.get("range");C in sd&&Yb(y)&&(C=pj(this.child,t),(C=hk(C))?(a.push(C),d.push("distinct"),g.push("distinct_".concat(C))):lb(Eb(t)))}}return{fields:a,ops:d,as:g}}assembleFacet(){const {name:a,data:d}=this.component.data.facetRoot,{row:g,column:t}=this.facet,{fields:y,ops:C,as:aa}=this.getCardinalityAggregateForChild(),pa=[];for(var cb of Yf){var ib=
this.facet[cb];if(ib){pa.push(ed(ib));const {bin:Ib,sort:qc}=ib;yc(Ib)&&pa.push(ed(ib,{binSuffix:"end"}));if(Nd(qc)){const {field:xc,op:Dc="min"}=qc;ib=eg(ib,qc);g&&t?(y.push(ib),C.push("max")):(y.push(xc),C.push(Dc));aa.push(ib)}else Wd(qc)&&(ib=Xh(ib,cb),y.push(ib),C.push("max"),aa.push(ib))}}cb=!!g&&!!t;return Object.assign({},{name:a,data:d,groupby:pa},cb||0<y.length?{aggregate:Object.assign({},cb?{cross:cb}:{},y.length?{fields:y,ops:C,as:aa}:{})}:{})}facetSortFields(a){var {facet:d}=this;return(d=
d[a])?Nd(d.sort)?[eg(d,d.sort,{expr:"datum"})]:Wd(d.sort)?[Xh(d,a,{expr:"datum"})]:[ed(d,{expr:"datum"})]:[]}facetSortOrder(a){const {facet:d}=this;return(a=d[a])?({sort:a}=a,[(Nd(a)?a.order:!Wd(a)&&a)||"ascending"]):[]}assembleLabelTitle(){const {facet:a,config:d}=this;if(a.facet)return Vj(a.facet,"facet",d);const g={row:["top","bottom"],column:["left","right"]};for(const y of Nl)if(a[y]){var t;const C=nh("labelOrient",null===(t=a[y])||void 0===t?void 0:t.header,d,y);if(va(g[y],C))return Vj(a[y],
y,d)}}assembleMarks(){const {child:a}=this,d=Bk(this.component.data.facetRoot),g=a.assembleGroupEncodeEntry(!1),t=this.assembleLabelTitle()||a.assembleTitle(),y=a.assembleGroupStyle();return[Object.assign({},{name:this.getName("cell"),type:"group"},t?{title:t}:{},y?{style:y}:{},{from:{facet:this.assembleFacet()},sort:{field:Yf.map(C=>this.facetSortFields(C)).flat(),order:Yf.map(C=>this.facetSortOrder(C)).flat()}},0<d.length?{data:d}:{},g?{encode:{update:g}}:{},a.assembleGroup(Ch(this,[])))]}getMapping(){return this.facet}}
class pn extends Rl{constructor(a,d,g,t){var y,C,aa,pa;super(a,"concat",d,g,t,a.resolve);Sb(this,"children",void 0);"shared"!==(null===(y=a.resolve)||void 0===y?void 0:null===(C=y.axis)||void 0===C?void 0:C.x)&&"shared"!==(null===(aa=a.resolve)||void 0===aa?void 0:null===(pa=aa.axis)||void 0===pa?void 0:pa.y)||lb("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).");this.children=this.getChildren(a).map((cb,ib)=>Dg(cb,this,this.getName("concat_"+
ib),void 0,t))}parseData(){this.component.data=rg(this);for(const a of this.children)a.parseData()}parseSelections(){this.component.selection={};for(const a of this.children){a.parseSelections();for(const d of Zc(a.component.selection))this.component.selection[d]=a.component.selection[d]}}parseMarkGroup(){for(const a of this.children)a.parseMarkGroup()}parseAxesAndHeaders(){for(const a of this.children)a.parseAxesAndHeaders()}getChildren(a){return"vconcat"in a?a.vconcat:"hconcat"in a?a.hconcat:a.concat}parseLayoutSize(){{Jh(this);
const a=void 0===this.layout.columns?"height":"childHeight";Kh(this,1===this.layout.columns?"width":"childWidth");Kh(this,a)}}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(a){return this.children.reduce((d,g)=>g.assembleSelectionTopLevelSignals(d),a)}assembleSignals(){this.children.forEach(a=>a.assembleSignals());return[]}assembleLayoutSignals(){const a=zg(this);for(const d of this.children)a.push(...d.assembleLayoutSignals());return a}assembleSelectionData(a){return this.children.reduce((d,
g)=>g.assembleSelectionData(d),a)}assembleMarks(){return this.children.map(a=>{const d=a.assembleTitle(),g=a.assembleGroupStyle(),t=a.assembleGroupEncodeEntry(!1);return Object.assign({},{type:"group",name:a.getName("group")},d?{title:d}:{},g?{style:g}:{},t?{encode:{update:t}}:{},a.assembleGroup())})}assembleDefaultLayout(){const a=this.layout.columns;return Object.assign({},null!=a?{columns:a}:{},{bounds:"full",align:"each"})}}const Dn=Object.assign({},{disable:1,gridScale:1,scale:1},Fk,{labelExpr:1,
encode:1}),nm=Zc(Dn);class om extends ci{constructor(a,d,g){a=void 0===a?{}:a;d=void 0===d?{}:d;g=void 0===g?!1:g;super();this.explicit=a;this.implicit=d;this.mainExtracted=g}clone(){return new om(oe(this.explicit),oe(this.implicit),this.mainExtracted)}hasAxisPart(a){if("axis"===a)return!0;if("grid"===a||"title"===a)return!!this.get(a);a=this.get(a);return!(!1===a||null===a)}hasOrientSignalRef(){return ic(this.explicit.orient)}}const En={bottom:"top",top:"bottom",left:"right",right:"left"},on=new Set("grid translate format formatType orient labelExpr tickCount position tickMinStep".split(" ")),
kl={arc:{vgMark:"arc",encodeEntry:a=>Object.assign({},Zf(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),Of("x",a,{defaultPos:"mid"}),Of("y",a,{defaultPos:"mid"}),Gg(a,"radius","arc"),Gg(a,"theta","arc"))},area:{vgMark:"area",encodeEntry:a=>Object.assign({},Zf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),Vh("x",a,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===a.markDef.orient}),
Vh("y",a,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===a.markDef.orient}),Kf(a))},bar:{vgMark:"rect",encodeEntry:a=>Object.assign({},Zf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Gg(a,"x","bar"),Gg(a,"y","bar"))},circle:{vgMark:"symbol",encodeEntry:a=>Zg(a,"circle")},geoshape:{vgMark:"shape",encodeEntry:a=>Object.assign({},Zf(a,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),
postEncodingTransform:a=>{var {encoding:d}=a;d=d.shape;return[Object.assign({},{type:"geoshape",projection:a.projectionName()},d&&Oc(d)&&"geojson"===d.type?{field:ed(d,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:a=>Object.assign({},Zf(a,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),Gg(a,"x","image"),Gg(a,"y","image"),Zj(a,"url"))},line:{vgMark:"line",encodeEntry:a=>Object.assign({},Zf(a,{align:"ignore",baseline:"ignore",color:"include",
size:"ignore",orient:"ignore",theta:"ignore"}),Of("x",a,{defaultPos:"mid"}),Of("y",a,{defaultPos:"mid"}),Bf("size",a,{vgChannel:"strokeWidth"}),Kf(a))},point:{vgMark:"symbol",encodeEntry:a=>Zg(a)},rect:{vgMark:"rect",encodeEntry:a=>Object.assign({},Zf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Gg(a,"x","rect"),Gg(a,"y","rect"))},rule:{vgMark:"rule",encodeEntry:a=>{var {markDef:d}=a;d=d.orient;return a.encoding.x||a.encoding.y||a.encoding.latitude||
a.encoding.longitude?Object.assign({},Zf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Vh("x",a,{defaultPos:"horizontal"===d?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==d}),Vh("y",a,{defaultPos:"vertical"===d?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==d}),Bf("size",a,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:a=>Zg(a,"square")},text:{vgMark:"text",encodeEntry:a=>{const {config:d,encoding:g}=
a;return Object.assign({},Zf(a,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),Of("x",a,{defaultPos:"mid"}),Of("y",a,{defaultPos:"mid"}),Zj(a),Bf("size",a,{vgChannel:"fontSize"}),Bf("angle",a),zh("align",Oj(a.markDef,g,d)),zh("baseline",si(a.markDef,g,d)),Of("radius",a,{defaultPos:null,isMidPoint:!0}),Of("theta",a,{defaultPos:null,isMidPoint:!0}))}},tick:{vgMark:"rect",encodeEntry:a=>{const {config:d,markDef:g}=a;var t=g.orient;const y="horizontal"===
t?"width":"height";t="horizontal"===t?"height":"width";return Object.assign({},Zf(a,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Of("x",a,{defaultPos:"mid",vgChannel:"xc"}),Of("y",a,{defaultPos:"mid",vgChannel:"yc"}),Bf("size",a,{defaultValue:Cg(a),vgChannel:y}),{[t]:Cd(ae("thickness",g,d))})}},trail:{vgMark:"trail",encodeEntry:a=>Object.assign({},Zf(a,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),
Of("x",a,{defaultPos:"mid"}),Of("y",a,{defaultPos:"mid"}),Bf("size",a),Kf(a))}};class rm extends xm{constructor(a,d,g,t,y){t=void 0===t?{}:t;super(a,"unit",d,g,y,void 0,kb(a)?a.view:void 0);Sb(this,"markDef",void 0);Sb(this,"encoding",void 0);Sb(this,"specifiedScales",{});Sb(this,"stack",void 0);Sb(this,"specifiedAxes",{});Sb(this,"specifiedLegends",{});Sb(this,"specifiedProjection",{});Sb(this,"selection",{});Sb(this,"children",[]);var C=vb(a.mark)?Object.assign({},a.mark):{type:a.mark};d=C.type;
if(void 0===C.filled){({graticule:g}={graticule:a.data&&"graticule"in a.data});if(g)g=!1;else{g=gf("filled",C,y);var aa=C.type;g=V(g,aa!==Ad&&aa!==md&&aa!==je)}C.filled=g}g=this.encoding=Ya(a.encoding||{},d,C.filled,y);C=ob(C);aa=ae("orient",C,y);C.orient=$i(C.type,g,aa);void 0!==aa&&aa!==C.orient&&(aa='Specified orient "'.concat(C.orient,'" overridden with "').concat(aa,'".'),lb(aa));if("bar"===C.type&&C.orient&&(aa=ae("cornerRadiusEnd",C,y),void 0!==aa)){const Ib="horizontal"===C.orient&&g.x2||
"vertical"===C.orient&&g.y2?["cornerRadius"]:rn[C.orient];for(var pa of Ib)C[pa]=aa;void 0!==C.cornerRadiusEnd&&delete C.cornerRadiusEnd}void 0===ae("opacity",C,y)&&(pa=va([Ad,sf,Bg,Nj],C.type)&&!ea(g)?.7:void 0,C.opacity=pa);void 0===ae("cursor",C,y)&&(pa=C,y=g.href||pa.href||ae("href",pa,y)?"pointer":pa.cursor,C.cursor=y);this.markDef=y=C;t={encoding:g,size:kb(a)?Object.assign({},t,a.width?{width:a.width}:{},a.height?{height:a.height}:{}):t};var {encoding:cb,size:ib}=t;for(const Ib of Tf)t=Xa(Ib),
Pa(ib[t])&&Kd(cb[Ib])&&(delete ib[t],lb(J(t)));this.size=ib;this.stack=Rc(d,g);this.specifiedScales=this.initScales(d,g);this.specifiedAxes=this.initAxes(g);this.specifiedLegends=this.initLegends(g);this.specifiedProjection=a.projection;this.selection=a.selection}get hasProjection(){const {encoding:a}=this,d=this.mark===mm,g=a&&sh.some(t=>td(a[t]));return d||g}scaleDomain(a){return(a=this.specifiedScales[a])?a.domain:void 0}axis(a){return this.specifiedAxes[a]}legend(a){return this.specifiedLegends[a]}initScales(a,
d){return ug.reduce((g,t)=>{const y=z(d[t]);if(y){var C;g[t]=this.initScale(null!==(C=y.scale)&&void 0!==C?C:{})}return g},{})}initScale(a){const {domain:d,range:g}=a;a=ob(a);Wd(d)&&(a.domain=d.map(pd));Wd(g)&&(a.range=g.map(pd));return a}initAxes(a){return Tf.reduce((d,g)=>{var t=a[g];if(td(t)||"x"===g&&td(a.x2)||"y"===g&&td(a.y2))t=td(t)?t.axis:void 0,d[g]=t?this.initAxis(Object.assign({},t)):t;return d},{})}initAxis(a){var d=Zc(a);const g={};for(const t of d)d=a[t],g[t]=u(d)?$d(d):pd(d);return g}initLegends(a){return fj.reduce((d,
g)=>{var t=z(a[g]),y;if(y=t)a:{switch(g){case "color":case "fill":case "stroke":case "size":case "shape":case "opacity":case "strokeWidth":case "strokeDash":y=!0;break a;case "fillOpacity":case "strokeOpacity":case "angle":y=!1;break a}y=void 0}y&&(t=t.legend,d[g]=t?ob(t):t);return d},{})}parseData(){this.component.data=rg(this)}parseLayoutSize(){{const {size:d,component:g}=this;for(const t of Tf){const y=Xa(t);if(d[y]){var a=d[y];g.layoutSize.set(y,Pa(a)?"step":a,!0)}else a=dl(this,y),g.layoutSize.set(y,
a,!1)}}}parseSelections(){this.component.selection=yg(this,this.selection)}parseMarkGroup(){this.component.mark=ui(this)}parseAxesAndHeaders(){this.component.axes=Mh(this)}assembleSelectionTopLevelSignals(a){return Li(this,a)}assembleSignals(){return[...tk(this),...Ki(this,[])]}assembleSelectionData(a){return vj(this,a)}assembleLayout(){return null}assembleLayoutSignals(){return zg(this)}assembleMarks(){var a;let d=null!==(a=this.component.mark)&&void 0!==a?a:[];this.parent&&rh(this.parent)||(d=fh(this,
d));return d.map(this.correctDataNames)}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(a){return Q(this.encoding,a)}fieldDef(a){return De(this.encoding[a])}typedFieldDef(a){a=this.fieldDef(a);return vd(a)?a:null}}class qm extends Rl{constructor(a,d,g,t,y){super(a,"layer",d,g,y,a.resolve,a.view);Sb(this,"children",void 0);const C=Object.assign({},t,a.width?{width:a.width}:{},a.height?{height:a.height}:{});this.children=a.layer.map((aa,pa)=>{if("layer"in aa)return new qm(aa,
this,this.getName("layer_"+pa),C,y);if(I(aa))return new rm(aa,this,this.getName("layer_"+pa),C,y);throw Error(uc(aa));})}parseData(){this.component.data=rg(this);for(const a of this.children)a.parseData()}parseLayoutSize(){Jh(this);Kh(this,"width");Kh(this,"height")}parseSelections(){this.component.selection={};for(const a of this.children){a.parseSelections();for(const d of Zc(a.component.selection))this.component.selection[d]=a.component.selection[d]}}parseMarkGroup(){for(const a of this.children)a.parseMarkGroup()}parseAxesAndHeaders(){{const {axes:g,
resolve:t}=this.component,y={top:0,bottom:0,right:0,left:0};for(var a of this.children){a.parseAxesAndHeaders();for(const C of Zc(a.component.axes))t.axis[C]=Fh(this.component.resolve,C),"shared"===t.axis[C]&&(g[C]=Wg(g[C],a.component.axes[C]),g[C]||(t.axis[C]="independent",delete g[C]))}for(const C of Tf){for(const aa of this.children)if(aa.component.axes[C]){if("independent"===t.axis[C]){var d;g[C]=(null!==(d=g[C])&&void 0!==d?d:[]).concat(aa.component.axes[C]);for(const pa of aa.component.axes[C]){const {value:cb,
explicit:ib}=pa.getWithExplicit("orient");ic(cb)||(0<y[cb]&&!ib&&(a=En[cb],y[cb]>y[a]&&pa.set("orient",a,!1)),y[cb]++)}}delete aa.component.axes[C]}if("independent"===t.axis[C]&&g[C]&&1<g[C].length)for(const aa of g[C])aa.get("grid")&&!aa.explicit.grid&&(aa.implicit.grid=!1)}}}assembleSelectionTopLevelSignals(a){return this.children.reduce((d,g)=>g.assembleSelectionTopLevelSignals(d),a)}assembleSignals(){return this.children.reduce((a,d)=>a.concat(d.assembleSignals()),tk(this))}assembleLayoutSignals(){return this.children.reduce((a,
d)=>a.concat(d.assembleLayoutSignals()),zg(this))}assembleSelectionData(a){return this.children.reduce((d,g)=>g.assembleSelectionData(d),a)}assembleTitle(){let a=super.assembleTitle();if(a)return a;for(const d of this.children)if(a=d.assembleTitle())return a}assembleLayout(){return null}assembleMarks(){return wj(this,this.children.flatMap(a=>a.assembleMarks()))}assembleLegends(){return this.children.reduce((a,d)=>a.concat(d.assembleLegends()),Hj(this))}}q.accessPathDepth=ba;q.accessPathWithDatum=
N;q.compile=function(a,d){d=void 0===d?{}:d;d.logger&&(ah=d.logger);d.fieldTitle&&(ik=d.fieldTitle);try{const Ib=tc(Bb(d.config,a.config)),qc=Be(a,Ib),xc=Dg(qc,null,"",void 0,Ib);xc.parse();{var g=xc.component.data,t=xc;fk(g.sources);let Dc=0,cd=0;for(var y=0;5>y&&zk(g,t,!0);y++)Dc++;g.sources.map(oj);for(y=0;5>y&&zk(g,t,!1);y++)cd++;fk(g.sources);5===Math.max(Dc,cd)&&lb("Maximum optimization runs(".concat(5,") reached."))}{var C=qc.autosize;g=Ib;t=xc;const Dc=t.component.layoutSize.get("width"),
cd=t.component.layoutSize.get("height");void 0===C?(C={type:"pad"},t.hasAxisOrientSignalRef()&&(C.resize=!0)):ma(C)&&(C={type:C});var aa;if(aa=Dc&&cd){var pa=C.type;aa="fit"===pa||"fit-x"===pa||"fit-y"===pa}if(aa)if("step"===Dc&&"step"===cd)lb(Kb()),C.type="pad";else if("step"===Dc||"step"===cd){pa="step"===Dc?"width":"height";lb(Kb(xb(pa)));aa=C;var cb=(pa="width"===pa?"height":"width","fit-".concat(xb(pa)));aa.type=cb}var ib=Object.assign({},1===Zc(C).length&&C.type?"pad"===C.type?{}:{autosize:C.type}:
{autosize:C},sa(g,!1),sa(a,!0))}return{spec:zf(xc,ib,a.datasets,a.usermeta),normalized:qc}}finally{d.logger&&(ah=bh),d.fieldTitle&&(ik=tm)}};q.contains=va;q.deepEqual=Oh;q.deleteNestedProperty=D;q.duplicate=oe;q.entries=ag;q.every=la;q.fieldIntersection=Fa;q.flatAccessWithDatum=Y;q.getFirstDefined=V;q.hasIntersection=Ha;q.hash=ta;q.internalField=p;q.isBoolean=w;q.isEmpty=E;q.isEqual=function(a,d){const g=Zc(a),t=Zc(d);if(g.length!==t.length)return!1;for(const y of g)if(a[y]!==d[y])return!1;return!0};
q.isInternalField=h;q.isNullOrFalse=Qa;q.isNumeric=n;q.keys=Zc;q.logicalExpr=Z;q.mergeDeep=wa;q.normalize=Be;q.normalizeAngle=m;q.omit=Ta;q.pick=qa;q.prefixGenerator=Va;q.removePathFromField=ca;q.replaceAll=G;q.replacePathInField=Ga;q.resetIdCounter=function(){dj=42};q.setEqual=Oa;q.some=S;q.stringify=Re;q.titleCase=P;q.unique=Da;q.uniqueId=H;q.vals=Mg;q.varName=F;q.version="4.17.0";Object.defineProperty(q,"__esModule",{value:!0})})};
shadow$provide[66]=function($c,Vb,Pc,Cb){function k(){throw Error("setTimeout has not been defined");}function q(){throw Error("clearTimeout has not been defined");}function R(oa){if(jb===setTimeout)return setTimeout(oa,0);if((jb===k||!jb)&&setTimeout)return jb=setTimeout,setTimeout(oa,0);try{return jb(oa,0)}catch(Ia){try{return jb.call(null,oa,0)}catch(Ua){return jb.call(this,oa,0)}}}function Ma(oa){if(Ea===clearTimeout)return clearTimeout(oa);if((Ea===q||!Ea)&&clearTimeout)return Ea=clearTimeout,
clearTimeout(oa);try{return Ea(oa)}catch(Ia){try{return Ea.call(null,oa)}catch(Ua){return Ea.call(this,oa)}}}function Fb(){bb&&Ca&&(bb=!1,Ca.length?ab=Ca.concat(ab):ma=-1,ab.length&&Ja())}function Ja(){if(!bb){var oa=R(Fb);bb=!0;for(var Ia=ab.length;Ia;){Ca=ab;for(ab=[];++ma<Ia;)Ca&&Ca[ma].run();ma=-1;Ia=ab.length}Ca=null;bb=!1;Ma(oa)}}function db(oa,Ia){this.fun=oa;this.array=Ia}function Bb(){}$c=Pc.exports={};try{var jb="function"===typeof setTimeout?setTimeout:k}catch(oa){jb=k}try{var Ea="function"===
typeof clearTimeout?clearTimeout:q}catch(oa){Ea=q}var ab=[],bb=!1,Ca,ma=-1;$c.nextTick=function(oa){var Ia=Array(arguments.length-1);if(1<arguments.length)for(var Ua=1;Ua<arguments.length;Ua++)Ia[Ua-1]=arguments[Ua];ab.push(new db(oa,Ia));1!==ab.length||bb||R(Ja)};db.prototype.run=function(){this.fun.apply(null,this.array)};$c.title="browser";$c.browser=!0;$c.env={};$c.argv=[];$c.version="";$c.versions={};$c.on=Bb;$c.addListener=Bb;$c.once=Bb;$c.off=Bb;$c.removeListener=Bb;$c.removeAllListeners=Bb;
$c.emit=Bb;$c.prependListener=Bb;$c.prependOnceListener=Bb;$c.listeners=function(oa){return[]};$c.binding=function(oa){throw Error("process.binding is not supported");};$c.cwd=function(){return"/"};$c.chdir=function(oa){throw Error("process.chdir is not supported");};$c.umask=function(){return 0}};
shadow$provide[67]=function($c,Vb,Pc,Cb){var k=Vb(66);(function(q,R){"object"===typeof Cb&&"undefined"!==typeof Pc?Pc.exports=R(Vb(64),Vb(65)):"function"===typeof define&&define.amd?define(["vega","vega-lite"],R):(q="undefined"!==typeof globalThis?globalThis:q||self,q.vegaEmbed=R(q.vega,q.vegaLite))})(this,function(q,R){function Ma(W){if(W&&W.__esModule)return W;var ha=Object.create(null);W&&Object.keys(W).forEach(function(za){if("default"!==za){var ob=Object.getOwnPropertyDescriptor(W,za);Object.defineProperty(ha,
za,ob.get?ob:{enumerable:!0,get:function(){return W[za]}})}});ha["default"]=W;return Object.freeze(ha)}function Fb(W,ha,za,ob){function Za(vb){return vb instanceof za?vb:new za(function(Tb){Tb(vb)})}return new (za||(za=Promise))(function(vb,Tb){function oc(Fc){try{pc(ob.next(Fc))}catch(fd){Tb(fd)}}function Yc(Fc){try{pc(ob["throw"](Fc))}catch(fd){Tb(fd)}}function pc(Fc){Fc.done?vb(Fc.value):Za(Fc.value).then(oc,Yc)}pc((ob=ob.apply(W,ha||[])).next())})}function Ja(W,ha){function za(pc){return function(Fc){return ob([pc,
Fc])}}function ob(pc){if(vb)throw new TypeError("Generator is already executing.");for(;Za;)try{if(vb=1,Tb&&(oc=pc[0]&2?Tb["return"]:pc[0]?Tb["throw"]||((oc=Tb["return"])&&oc.call(Tb),0):Tb.next)&&!(oc=oc.call(Tb,pc[1])).done)return oc;if(Tb=0,oc)pc=[pc[0]&2,oc.value];switch(pc[0]){case 0:case 1:oc=pc;break;case 4:return Za.label++,{value:pc[1],done:!1};case 5:Za.label++;Tb=pc[1];pc=[0];continue;case 7:pc=Za.ops.pop();Za.trys.pop();continue;default:if(!(oc=Za.trys,oc=0<oc.length&&oc[oc.length-1])&&
(6===pc[0]||2===pc[0])){Za=0;continue}if(3===pc[0]&&(!oc||pc[1]>oc[0]&&pc[1]<oc[3]))Za.label=pc[1];else if(6===pc[0]&&Za.label<oc[1])Za.label=oc[1],oc=pc;else if(oc&&Za.label<oc[2])Za.label=oc[2],Za.ops.push(pc);else{oc[2]&&Za.ops.pop();Za.trys.pop();continue}}pc=ha.call(W,Za)}catch(Fc){pc=[6,Fc],Tb=0}finally{vb=oc=0}if(pc[0]&5)throw pc[1];return{value:pc[0]?pc[1]:void 0,done:!0}}var Za={label:0,sent:function(){if(oc[0]&1)throw oc[1];return oc[1]},trys:[],ops:[]},vb,Tb,oc,Yc;return Yc={next:za(0),
"throw":za(1),"return":za(2)},"function"===typeof Symbol&&(Yc[Symbol.iterator]=function(){return this}),Yc}function db(W){if(Array.isArray(W)){var ha=Array(W.length);for(W=0;W<ha.length;W++)ha[W]=""+W;return ha}if(Object.keys)return Object.keys(W);ha=[];for(var za in W)G.call(W,za)&&ha.push(za);return ha}function Bb(W){switch(typeof W){case "object":return JSON.parse(JSON.stringify(W));case "undefined":return null;default:return W}}function jb(W){for(var ha=0,za=W.length,ob;ha<za;)if(ob=W.charCodeAt(ha),
48<=ob&&57>=ob)ha++;else return!1;return!0}function Ea(W){return-1===W.indexOf("/")&&-1===W.indexOf("~")?W:W.replace(/~/g,"~0").replace(/\//g,"~1")}function ab(W){return W.replace(/~1/g,"/").replace(/~0/g,"~")}function bb(W){if(void 0===W)return!0;if(W)if(Array.isArray(W))for(var ha=0,za=W.length;ha<za;ha++){if(bb(W[ha]))return!0}else if("object"===typeof W){za=db(W);var ob=za.length;for(ha=0;ha<ob;ha++)if(bb(W[za[ha]]))return!0}return!1}function Ca(W,ha){W=[W];for(var za in ha){var ob="object"===
typeof ha[za]?JSON.stringify(ha[za],null,2):ha[za];"undefined"!==typeof ob&&W.push(za+": "+ob)}return W.join("\n")}function ma(W,ha){if(""==ha)return W;ha={op:"_get",path:ha};oa(W,ha);return ha.value}function oa(W,ha,za,ob,Za,vb){void 0===za&&(za=!1);void 0===ob&&(ob=!0);void 0===Za&&(Za=!0);void 0===vb&&(vb=0);za&&("function"==typeof za?za(ha,0,W,ha.path):Ua(ha,0));if(""===ha.path){Za={newDocument:W};if("add"===ha.op)return Za.newDocument=ha.value,Za;if("replace"===ha.op)return Za.newDocument=ha.value,
Za.removed=W,Za;if("move"===ha.op||"copy"===ha.op)return Za.newDocument=ma(W,ha.from),"move"===ha.op&&(Za.removed=W),Za;if("test"===ha.op){Za.test=qa(W,ha.value);if(!1===Za.test)throw new ba("Test operation failed","TEST_OPERATION_FAILED",vb,ha,W);Za.newDocument=W;return Za}if("remove"===ha.op)return Za.removed=W,Za.newDocument=null,Za;if("_get"===ha.op)return ha.value=W,Za;if(za)throw new ba("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",vb,ha,W);return Za}ob||
(W=Bb(W));ob=(ha.path||"").split("/");var Tb=W,oc=1,Yc=ob.length,pc=void 0,Fc;for(Fc="function"==typeof za?za:Ua;;){var fd=ob[oc];if(Za&&"__proto__"==fd)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");za&&void 0===pc&&(void 0===Tb[fd]?pc=ob.slice(0,oc).join("/"):oc==Yc-1&&(pc=ha.path),void 0!==pc&&Fc(ha,0,W,pc));oc++;
if(Array.isArray(Tb)){if("-"===fd)fd=Tb.length;else{if(za&&!jb(fd))throw new ba("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",vb,ha,W);jb(fd)&&(fd=~~fd)}if(oc>=Yc){if(za&&"add"===ha.op&&fd>Tb.length)throw new ba("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",vb,ha,W);Za=H[ha.op].call(ha,Tb,fd,W);if(!1===Za.test)throw new ba("Test operation failed",
"TEST_OPERATION_FAILED",vb,ha,W);return Za}}else if(fd&&-1!=fd.indexOf("~")&&(fd=ab(fd)),oc>=Yc){Za=V[ha.op].call(ha,Tb,fd,W);if(!1===Za.test)throw new ba("Test operation failed","TEST_OPERATION_FAILED",vb,ha,W);return Za}Tb=Tb[fd]}}function Ia(W,ha,za,ob,Za){void 0===ob&&(ob=!0);void 0===Za&&(Za=!0);if(za&&!Array.isArray(ha))throw new ba("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");ob||(W=Bb(W));ob=Array(ha.length);for(var vb=0,Tb=ha.length;vb<Tb;vb++)ob[vb]=oa(W,ha[vb],za,!0,Za,vb),
W=ob[vb].newDocument;ob.newDocument=W;return ob}function Ua(W,ha,za,ob){if("object"!==typeof W||null===W||Array.isArray(W))throw new ba("Operation is not an object","OPERATION_NOT_AN_OBJECT",ha,W,za);if(V[W.op]){if("string"!==typeof W.path)throw new ba("Operation `path` property is not a string","OPERATION_PATH_INVALID",ha,W,za);if(0!==W.path.indexOf("/")&&0<W.path.length)throw new ba('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",ha,W,za);if("move"!==W.op&&"copy"!==W.op||
"string"===typeof W.from)if("add"!==W.op&&"replace"!==W.op&&"test"!==W.op||void 0!==W.value){if(("add"===W.op||"replace"===W.op||"test"===W.op)&&bb(W.value))throw new ba("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",ha,W,za);if(za)if("add"==W.op){var Za=W.path.split("/").length;ob=ob.split("/").length;if(Za!==ob+1&&Za!==ob)throw new ba("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",
ha,W,za);}else if("replace"===W.op||"remove"===W.op||"_get"===W.op){if(W.path!==ob)throw new ba("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",ha,W,za);}else if(("move"===W.op||"copy"===W.op)&&(Za=na([{op:"_get",path:W.from,value:void 0}],za))&&"OPERATION_PATH_UNRESOLVABLE"===Za.name)throw new ba("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",ha,W,za);}else throw new ba("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)",
"OPERATION_VALUE_REQUIRED",ha,W,za);else throw new ba("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",ha,W,za);}else throw new ba("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",ha,W,za);}function na(W,ha,za){try{if(!Array.isArray(W))throw new ba("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(ha)Ia(Bb(ha),Bb(W),za||!0);else{za=za||Ua;for(var ob=0;ob<W.length;ob++)za(W[ob],
ob,ha,void 0)}}catch(Za){if(Za instanceof ba)return Za;throw Za;}}function qa(W,ha){if(W===ha)return!0;if(W&&ha&&"object"==typeof W&&"object"==typeof ha){var za=Array.isArray(W),ob=Array.isArray(ha);if(za&&ob){var Za=W.length;if(Za!=ha.length)return!1;for(za=Za;0!==za--;)if(!qa(W[za],ha[za]))return!1;return!0}if(za!=ob)return!1;ob=Object.keys(W);Za=ob.length;if(Za!==Object.keys(ha).length)return!1;for(za=Za;0!==za--;)if(!ha.hasOwnProperty(ob[za]))return!1;for(za=Za;0!==za--;)if(Za=ob[za],!qa(W[Za],
ha[Za]))return!1;return!0}return W!==W&&ha!==ha}function Ta(W,ha){void 0===ha&&(ha=!1);var za=h.get(W.object);ta(za.value,W.object,W.patches,"",ha);W.patches.length&&Ia(za.value,W.patches);ha=W.patches;0<ha.length&&(W.patches=[],W.callback&&W.callback(ha));return ha}function ta(W,ha,za,ob,Za){if(ha!==W){"function"===typeof ha.toJSON&&(ha=ha.toJSON());for(var vb=db(ha),Tb=db(W),oc=!1,Yc=Tb.length-1;0<=Yc;Yc--){var pc=Tb[Yc],Fc=W[pc];if(!G.call(ha,pc)||void 0===ha[pc]&&void 0!==Fc&&!1===Array.isArray(ha))Array.isArray(W)===
Array.isArray(ha)?(Za&&za.push({op:"test",path:ob+"/"+Ea(pc),value:Bb(Fc)}),za.push({op:"remove",path:ob+"/"+Ea(pc)}),oc=!0):(Za&&za.push({op:"test",path:ob,value:W}),za.push({op:"replace",path:ob,value:ha}));else{var fd=ha[pc];"object"==typeof Fc&&null!=Fc&&"object"==typeof fd&&null!=fd?ta(Fc,fd,za,ob+"/"+Ea(pc),Za):Fc!==fd&&(Za&&za.push({op:"test",path:ob+"/"+Ea(pc),value:Bb(Fc)}),za.push({op:"replace",path:ob+"/"+Ea(pc),value:Bb(fd)}))}}if(oc||vb.length!=Tb.length)for(Yc=0;Yc<vb.length;Yc++)pc=
vb[Yc],G.call(W,pc)||void 0===ha[pc]||za.push({op:"add",path:ob+"/"+Ea(pc),value:Bb(ha[pc])})}}function Qa(W){const [ha,za]=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(W).slice(1,3);return{library:ha,version:za}}function va(W,ha,za){W.fields=ha||[];W.fname=za;return W}function S(W){return 1===W.length?Cc(W[0]):id(W)}function la(W){function ha(){za.push(Tb+W.substring(oc,Yc));Tb="";oc=Yc+1}const za=[],ob=W.length;let Za=null,vb=0,Tb="",oc,Yc,pc;W+="";for(oc=Yc=0;Yc<ob;++Yc)if(pc=W[Yc],"\\"===pc)Tb+=
W.substring(oc,Yc),Tb+=W.substring(++Yc,++Yc),oc=Yc;else if(pc===Za)ha(),Za=null,vb=-1;else if(!Za)if(oc===vb&&'"'===pc)oc=Yc+1,Za=pc;else if(oc===vb&&"'"===pc)oc=Yc+1,Za=pc;else if("."===pc&&!vb)Yc>oc?ha():oc=Yc+1;else if("["===pc)Yc>oc&&ha(),vb=oc=Yc+1;else if("]"===pc){if(!vb)throw Error("Access path missing open bracket: "+W);0<vb&&ha();vb=0;oc=Yc+1}if(vb)throw Error("Access path missing closing bracket: "+W);if(Za)throw Error("Access path missing closing quote: "+W);Yc>oc&&(Yc++,ha());return za}
function wa(W,ha){var za={},ob;for(ob in W)Object.prototype.hasOwnProperty.call(W,ob)&&0>ha.indexOf(ob)&&(za[ob]=W[ob]);if(null!=W&&"function"===typeof Object.getOwnPropertySymbols){var Za=0;for(ob=Object.getOwnPropertySymbols(W);Za<ob.length;Za++)0>ha.indexOf(ob[Za])&&Object.prototype.propertyIsEnumerable.call(W,ob[Za])&&(za[ob[Za]]=W[ob[Za]])}return za}function Da(W,ha,za){if(jd(W))return`[${W.map(Za=>ha("string"===typeof Za?Za:JSON.stringify(Za,Oa(za)))).join(", ")}]`;if(W===Object(W)){let Za=
"";const {title:vb,image:Tb}=W;W=wa(W,["title","image"]);vb&&(Za+=`<h2>${ha(vb)}</h2>`);Tb&&(Za+=`<img src="${ha(Tb)}">`);var ob=Object.keys(W);if(0<ob.length){Za+="\x3ctable\x3e";for(const oc of ob)ob=W[oc],void 0!==ob&&(ob===Object(ob)&&(ob=JSON.stringify(ob,Oa(za))),Za+=`<tr><td class="key">${ha(oc)}:</td><td class="value">${ha(ob)}</td></tr>`);Za+="\x3c/table\x3e"}return Za||"{}"}return ha(W)}function Oa(W){const ha=[];return function(za,ob){if("object"!==typeof ob||null===ob)return ob;za=ha.indexOf(this)+
1;ha.length=za;if(ha.length>W)return"[Object]";if(0<=ha.indexOf(ob))return"[Circular]";ha.push(ob);return ob}}function Ha(W,ha,za){function ob(Yc){Yc.source===vb&&(oc=0,W.removeEventListener("message",ob,!1))}function Za(){0>=oc||(vb.postMessage(za,Tb),setTimeout(Za,250),--oc)}var vb=W.open(ha),Tb=(new URL(ha)).origin,oc=40;W.addEventListener("message",ob,!1);setTimeout(Za,250)}function Va(W){for(var ha=[],za=1;za<arguments.length;za++)ha[za-1]=arguments[za];for(za=0;za<ha.length;za++)for(var ob=
W,Za=ha[za],vb=0,Tb=Object.keys(Za);vb<Tb.length;vb++){var oc=Tb[vb];q.writeConfig(ob,oc,Za[oc],!0)}return W}function Fa(W,ha,za,ob){ha="\x3chtml\x3e\x3chead\x3e"+ha+'\x3c/head\x3e\x3cbody\x3e\x3cpre\x3e\x3ccode class\x3d"json"\x3e';za="\x3c/code\x3e\x3c/pre\x3e"+za+"\x3c/body\x3e\x3c/html\x3e";var Za=window.open("");Za.document.write(ha+W+za);Za.document.title=zd[ob]+" JSON Source"}function E(W,ha){var za;return W.$schema?(W=Qa(W.$schema),ha&&ha!==W.library&&console.warn("The given visualization spec is written in "+
zd[W.library]+", but mode argument sets "+(null!==(za=zd[ha])&&void 0!==za?za:ha)+"."),ha=W.library,ic.satisfies(Ld[ha],"^"+W.version.slice(1))||console.warn("The input spec uses "+zd[ha]+" "+W.version+", but the current version of "+zd[ha]+" is v"+Ld[ha]+"."),ha):"mark"in W||"encoding"in W||"layer"in W||"hconcat"in W||"vconcat"in W||"facet"in W||"repeat"in W?"vega-lite":"marks"in W||"signals"in W||"scales"in W||"axes"in W?"vega":null!==ha&&void 0!==ha?ha:"vega"}function w(W,ha,za){var ob,Za,vb;void 0===
za&&(za={});return Fb(this,void 0,void 0,function(){var Tb,oc,Yc,pc,Fc,fd,Dd,$b;return Ja(this,function(Md){switch(Md.label){case 0:Tb=(Md=za.loader)&&"load"in Md?za.loader:Yd.loader(za.loader);if(!q.isString(ha))return[3,2];Fc=(pc=JSON).parse;return[4,Tb.load(ha)];case 1:return Yc=Fc.apply(pc,[Md.sent()]),[3,3];case 2:Yc=ha,Md.label=3;case 3:return oc=Yc,[4,F(null!==(ob=oc.usermeta&&oc.usermeta.embedOptions)&&void 0!==ob?ob:{},Tb)];case 4:return fd=Md.sent(),[4,F(za,Tb)];case 5:return Dd=Md.sent(),
$b=ua(ua({},Va(Dd,fd)),{config:q.mergeConfig(null!==(Za=Dd.config)&&void 0!==Za?Za:{},null!==(vb=fd.config)&&void 0!==vb?vb:{})}),[4,D(W,oc,$b,Tb)];case 6:return[2,Md.sent()]}})})}function F(W,ha){var za;return Fb(this,void 0,void 0,function(){var ob,Za,vb,Tb,oc,Yc,pc,Fc;return Ja(this,function(fd){switch(fd.label){case 0:if(!q.isString(W.config))return[3,2];Tb=(vb=JSON).parse;return[4,ha.load(W.config)];case 1:return Za=Tb.apply(vb,[fd.sent()]),[3,3];case 2:Za=null!==(za=W.config)&&void 0!==za?za:
{},fd.label=3;case 3:ob=Za;if(!q.isString(W.patch))return[3,5];Fc=(pc=JSON).parse;return[4,ha.load(W.patch)];case 4:return Yc=Fc.apply(pc,[fd.sent()]),[3,6];case 5:Yc=W.patch,fd.label=6;case 6:return oc=Yc,[2,ua(ua(ua({},W),oc?{patch:oc}:{}),ob?{config:ob}:{})]}})})}function Z(W){var ha;W=W.getRootNode?W.getRootNode():document;return W instanceof ShadowRoot?{root:W,rootContainer:W}:{root:document,rootContainer:null!==(ha=document.head)&&void 0!==ha?ha:document.body}}function D(W,ha,za,ob){var Za,
vb,Tb,oc,Yc,pc;void 0===za&&(za={});return Fb(this,void 0,void 0,function(){function Fc(){Pe&&document.removeEventListener("click",Pe);Rd.finalize()}var fd,Dd,$b,Md,Jd,Hb,ne,le,xe,jf,Je,Ze,Ge,Nd,ec,Hd,fc,Wc,re,Rd,Zd,Oc,Vd,Od,Kd,Pe,td,vd,ie,ye,af,tf,Ff,ed,ze,Se,Te,of;return Ja(this,function(pf){switch(pf.label){case 0:fd=za.theme?q.mergeConfig(Ec[za.theme],null!==(Za=za.config)&&void 0!==Za?Za:{}):za.config;Dd=q.isBoolean(za.actions)?za.actions:Va({},Ae,null!==(vb=za.actions)&&void 0!==vb?vb:{});$b=
ua(ua({},We),za.i18n);Md=null!==(Tb=za.renderer)&&void 0!==Tb?Tb:"canvas";Jd=null!==(oc=za.logLevel)&&void 0!==oc?oc:Yd.Warn;Hb=null!==(Yc=za.downloadFileName)&&void 0!==Yc?Yc:"visualization";ne="string"===typeof W?document.querySelector(W):W;if(!ne)throw Error(W+" does not exist");!1!==za.defaultStyle&&(le=Z(ne),xe=le.root,jf=le.rootContainer,xe.getElementById("vega-embed-style")||(Je=document.createElement("style"),Je.id="vega-embed-style",Je.innerText=void 0===za.defaultStyle||!0===za.defaultStyle?
'.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box; }\n  .vega-embed.has-actions {\n    padding-right: 38px; }\n  .vega-embed details:not([open]) \x3e :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer;\n    line-height: 0px; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n    .vega-embed summary:active {\n      box-shadow: #aaa 0px 0px 0px 1px inset; }\n    .vega-embed summary svg {\n      width: 14px;\n      height: 14px; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    z-index: 1001;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n    text-align: left; }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n  .vega-embed .chart-wrapper {\n    width: 100%;\n    height: 100%; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: scroll;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n'.toString():
za.defaultStyle,jf.appendChild(Je)));Ze=E(ha,za.mode);Ge=ef[Ze](ha,fd);"vega-lite"===Ze&&Ge.$schema&&(Nd=Qa(Ge.$schema),ic.satisfies(Ld.vega,"^"+Nd.version.slice(1))||console.warn("The compiled spec uses Vega "+Nd.version+", but current version is v"+Ld.vega+"."));ne.classList.add("vega-embed");Dd&&ne.classList.add("has-actions");ne.innerHTML="";ec=ne;Dd&&(Hd=document.createElement("div"),Hd.classList.add("chart-wrapper"),ne.appendChild(Hd),ec=Hd);(fc=za.patch)&&(Ge=fc instanceof Function?fc(Ge):
Ia(Ge,fc,!0,!1).newDocument);za.formatLocale&&Yd.formatLocale(za.formatLocale);za.timeFormatLocale&&Yd.timeFormatLocale(za.timeFormatLocale);Wc=za.ast;re=Yd.parse(Ge,"vega-lite"===Ze?{}:fd,{ast:Wc});Rd=new Yd.View(re,ua({loader:ob,logLevel:Jd,renderer:Md},Wc?{expr:Yd.expressionInterpreter}:{}));!1!==za.tooltip&&(Zd=void 0,Zd="function"===typeof za.tooltip?za.tooltip:(new ud(!0===za.tooltip?{}:za.tooltip)).call,Rd.tooltip(Zd));Oc=za.hover;void 0===Oc&&(Oc="vega"===Ze);Oc&&(Vd="boolean"===typeof Oc?
{}:Oc,Od=Vd.hoverSet,Kd=Vd.updateSet,Rd.hover(Od,Kd));za&&(null!=za.width&&Rd.width(za.width),null!=za.height&&Rd.height(za.height),null!=za.padding&&Rd.padding(za.padding));return[4,Rd.initialize(ec).runAsync()];case 1:pf.sent();if(!1!==Dd){td=ne;!1!==za.defaultStyle&&(vd=document.createElement("details"),vd.title=$b.CLICK_TO_VIEW_ACTIONS,ne.append(vd),td=vd,ie=document.createElement("summary"),ie.innerHTML='\n\x3csvg viewBox\x3d"0 0 16 16" fill\x3d"currentColor" stroke\x3d"none" stroke-width\x3d"1" stroke-linecap\x3d"round" stroke-linejoin\x3d"round"\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"2"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"8"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"14"\x3e\x3c/circle\x3e\n\x3c/svg\x3e',
vd.append(ie),Pe=function(bf){vd.contains(bf.target)||vd.removeAttribute("open")},document.addEventListener("click",Pe));ye=document.createElement("div");td.append(ye);ye.classList.add("vega-actions");if(!0===Dd||!1!==Dd["export"])for(af=function(bf){if(!0===Dd||!0===Dd["export"]||Dd["export"][bf]){var De=$b[bf.toUpperCase()+"_ACTION"],z=document.createElement("a");z.text=De;z.href="#";z.target="_blank";z.download=Hb+"."+bf;z.addEventListener("mousedown",function(O){return Fb(this,void 0,void 0,function(){var Ka;
return Ja(this,function(ub){switch(ub.label){case 0:return O.preventDefault(),[4,Rd.toImageURL(bf,za.scaleFactor)];case 1:return this.href=Ka=ub.sent(),[2]}})})});ye.append(z)}},tf=0,Ff=["svg","png"];tf<Ff.length;tf++)ed=Ff[tf],af(ed);if(!0===Dd||!1!==Dd.source)ze=document.createElement("a"),ze.text=$b.SOURCE_ACTION,ze.href="#",ze.addEventListener("click",function(bf){var De,z;Fa(L(ha),null!==(De=za.sourceHeader)&&void 0!==De?De:"",null!==(z=za.sourceFooter)&&void 0!==z?z:"",Ze);bf.preventDefault()}),
ye.append(ze);"vega-lite"!==Ze||!0!==Dd&&!1===Dd.compiled||(Se=document.createElement("a"),Se.text=$b.COMPILED_ACTION,Se.href="#",Se.addEventListener("click",function(bf){var De,z;Fa(L(Ge),null!==(De=za.sourceHeader)&&void 0!==De?De:"",null!==(z=za.sourceFooter)&&void 0!==z?z:"","vega");bf.preventDefault()}),ye.append(Se));if(!0===Dd||!1!==Dd.editor)Te=null!==(pc=za.editorUrl)&&void 0!==pc?pc:"https://vega.github.io/editor/",of=document.createElement("a"),of.text=$b.EDITOR_ACTION,of.href="#",of.addEventListener("click",
function(bf){Ha(window,Te,{config:fd,mode:Ze,renderer:Md,spec:L(ha)});bf.preventDefault()}),ye.append(of)}return[2,{view:Rd,spec:ha,vgSpec:Ge,finalize:Fc}]}})})}function P(W,ha){var za;void 0===ha&&(ha={});return Fb(this,void 0,void 0,function(){var ob,Za,vb,Tb;return Ja(this,function(oc){switch(oc.label){case 0:return ob=document.createElement("div"),ob.classList.add("vega-embed-wrapper"),Za=document.createElement("div"),ob.appendChild(Za),vb=!0===ha.actions||!1===ha.actions?ha.actions:ua({"export":!0,
source:!1,compiled:!0,editor:!0},null!==(za=ha.actions)&&void 0!==za?za:{}),[4,w(Za,W,ua({actions:vb},null!==ha&&void 0!==ha?ha:{}))];case 1:return Tb=oc.sent(),ob.value=Tb.view,[2,ob]}})})}var N=Ma(q),Y=Ma(R),ua=function(){ua=Object.assign||function(W){for(var ha,za=1,ob=arguments.length;za<ob;za++){ha=arguments[za];for(var Za in ha)Object.prototype.hasOwnProperty.call(ha,Za)&&(W[Za]=ha[Za])}return W};return ua.apply(this,arguments)},Ga=function(){var W=function(ha,za){W=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(ob,Za){ob.__proto__=Za}||function(ob,Za){for(var vb in Za)Za.hasOwnProperty(vb)&&(ob[vb]=Za[vb])};return W(ha,za)};return function(ha,za){function ob(){this.constructor=ha}W(ha,za);ha.prototype=null===za?Object.create(za):(ob.prototype=za.prototype,new ob)}}(),G=Object.prototype.hasOwnProperty,ca=function(W){function ha(za,ob,Za,vb,Tb){var oc=this.constructor,Yc=W.call(this,Ca(za,{name:ob,index:Za,operation:vb,tree:Tb}))||this;Yc.name=ob;Yc.index=Za;Yc.operation=vb;Yc.tree=Tb;Object.setPrototypeOf(Yc,
oc.prototype);Yc.message=Ca(za,{name:ob,index:Za,operation:vb,tree:Tb});return Yc}Ga(ha,W);return ha}(Error),ba=ca,V={add:function(W,ha,za){W[ha]=this.value;return{newDocument:za}},remove:function(W,ha,za){var ob=W[ha];delete W[ha];return{newDocument:za,removed:ob}},replace:function(W,ha,za){var ob=W[ha];W[ha]=this.value;return{newDocument:za,removed:ob}},move:function(W,ha,za){(W=ma(za,this.path))&&(W=Bb(W));ha=oa(za,{op:"remove",path:this.from}).removed;oa(za,{op:"add",path:this.path,value:ha});
return{newDocument:za,removed:W}},copy:function(W,ha,za){W=ma(za,this.from);oa(za,{op:"add",path:this.path,value:Bb(W)});return{newDocument:za}},test:function(W,ha,za){return{newDocument:za,test:qa(W[ha],this.value)}},_get:function(W,ha,za){this.value=W[ha];return{newDocument:za}}},H={add:function(W,ha,za){jb(ha)?W.splice(ha,0,this.value):W[ha]=this.value;return{newDocument:za,index:ha}},remove:function(W,ha,za){W=W.splice(ha,1);return{newDocument:za,removed:W[0]}},replace:function(W,ha,za){var ob=
W[ha];W[ha]=this.value;return{newDocument:za,removed:ob}},move:V.move,copy:V.copy,test:V.test,_get:V._get},p=Object.freeze({__proto__:null,JsonPatchError:ba,deepClone:Bb,getValueByPointer:ma,applyOperation:oa,applyPatch:Ia,applyReducer:function(W,ha,za){var ob=oa(W,ha);if(!1===ob.test)throw new ba("Test operation failed","TEST_OPERATION_FAILED",za,ha,W);return ob.newDocument},validator:Ua,validate:na,_areEquals:qa}),h=new WeakMap,m=function(){return function(W){this.observers=new Map;this.obj=W}}(),
n=function(){return function(W,ha){this.callback=W;this.observer=ha}}(),u=Object.freeze({__proto__:null,unobserve:function(W,ha){ha.unobserve()},observe:function(W,ha){var za=h.get(W);if(za){var ob=za.observers.get(ha);var Za=ob&&ob.observer}else za=new m(W),h.set(W,za);if(Za)return Za;Za={};za.value=Bb(W);if(ha){Za.callback=ha;Za.next=null;var vb=function(){Ta(Za)},Tb=function(){clearTimeout(Za.next);Za.next=setTimeout(vb)};"undefined"!==typeof window&&(window.addEventListener("mouseup",Tb),window.addEventListener("keyup",
Tb),window.addEventListener("mousedown",Tb),window.addEventListener("keydown",Tb),window.addEventListener("change",Tb))}Za.patches=[];Za.object=W;Za.unobserve=function(){Ta(Za);clearTimeout(Za.next);za.observers.delete(Za.callback);"undefined"!==typeof window&&(window.removeEventListener("mouseup",Tb),window.removeEventListener("keyup",Tb),window.removeEventListener("mousedown",Tb),window.removeEventListener("keydown",Tb),window.removeEventListener("change",Tb))};za.observers.set(ha,new n(ha,Za));
return Za},generate:Ta,compare:function(W,ha,za){void 0===za&&(za=!1);var ob=[];ta(W,ha,ob,"",za);return ob}});Object.assign({},p,u,{JsonPatchError:ca,deepClone:Bb,escapePathComponent:Ea,unescapePathComponent:ab});var x=/("(?:[^\\"]|\\.)*")|[:,]/g,L=function(W,ha){ha=ha||{};var za=JSON.stringify([1],void 0,void 0===ha.indent?2:ha.indent).slice(2,-3);var ob=""===za?Infinity:void 0===ha.maxLength?80:ha.maxLength;var Za=ha.replacer;return function pc(Tb,oc,Yc){Tb&&"function"===typeof Tb.toJSON&&(Tb=
Tb.toJSON());var Fc=JSON.stringify(Tb,Za);if(void 0===Fc)return Fc;Yc=ob-oc.length-Yc;if(Fc.length<=Yc){var fd=Fc.replace(x,function(xe,jf){return jf||xe+" "});if(fd.length<=Yc)return fd}null!=Za&&(Tb=JSON.parse(Fc),Za=void 0);if("object"===typeof Tb&&null!==Tb){var Dd=oc+za;var $b=[];var Md=0;if(Array.isArray(Tb)){var Jd="[";fd="]";for(Yc=Tb.length;Md<Yc;Md++)$b.push(pc(Tb[Md],Dd,Md===Yc-1?0:1)||"null")}else{Jd="{";fd="}";var Hb=Object.keys(Tb);for(Yc=Hb.length;Md<Yc;Md++){var ne=Hb[Md];var le=JSON.stringify(ne)+
": ";ne=pc(Tb[ne],Dd,le.length+(Md===Yc-1?0:1));void 0!==ne&&$b.push(le+ne)}}if(0<$b.length)return[Jd,za+$b.join(",\n"+Dd),fd].join("\n"+oc)}return Fc}(W,"",0)},ia={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},xa="object"===typeof k&&k.env&&k.env.NODE_DEBUG&&/\bsemver\b/i.test(k.env.NODE_DEBUG)?(...W)=>console.error("SEMVER",...W):()=>{},Wa=function(W,ha,za){return za={path:ha,exports:{},require:function(ob,Za){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs");
}},W(za,za.exports),za.exports}(function(W,ha){const {MAX_SAFE_COMPONENT_LENGTH:za}=ia;ha=W.exports={};const ob=ha.re=[],Za=ha.src=[],vb=ha.t={};let Tb=0;W=(oc,Yc,pc)=>{const Fc=Tb++;xa(Fc,Yc);vb[oc]=Fc;Za[Fc]=Yc;ob[Fc]=new RegExp(Yc,pc?"g":void 0)};W("NUMERICIDENTIFIER","0|[1-9]\\d*");W("NUMERICIDENTIFIERLOOSE","[0-9]+");W("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");W("MAINVERSION",`(${Za[vb.NUMERICIDENTIFIER]})\\.`+`(${Za[vb.NUMERICIDENTIFIER]})\\.`+`(${Za[vb.NUMERICIDENTIFIER]})`);W("MAINVERSIONLOOSE",
`(${Za[vb.NUMERICIDENTIFIERLOOSE]})\\.`+`(${Za[vb.NUMERICIDENTIFIERLOOSE]})\\.`+`(${Za[vb.NUMERICIDENTIFIERLOOSE]})`);W("PRERELEASEIDENTIFIER",`(?:${Za[vb.NUMERICIDENTIFIER]}|${Za[vb.NONNUMERICIDENTIFIER]})`);W("PRERELEASEIDENTIFIERLOOSE",`(?:${Za[vb.NUMERICIDENTIFIERLOOSE]}|${Za[vb.NONNUMERICIDENTIFIER]})`);W("PRERELEASE",`(?:-(${Za[vb.PRERELEASEIDENTIFIER]}(?:\\.${Za[vb.PRERELEASEIDENTIFIER]})*))`);W("PRERELEASELOOSE",`(?:-?(${Za[vb.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Za[vb.PRERELEASEIDENTIFIERLOOSE]})*))`);
W("BUILDIDENTIFIER","[0-9A-Za-z-]+");W("BUILD",`(?:\\+(${Za[vb.BUILDIDENTIFIER]}(?:\\.${Za[vb.BUILDIDENTIFIER]})*))`);W("FULLPLAIN",`v?${Za[vb.MAINVERSION]}${Za[vb.PRERELEASE]}?${Za[vb.BUILD]}?`);W("FULL",`^${Za[vb.FULLPLAIN]}$`);W("LOOSEPLAIN",`[v=\\s]*${Za[vb.MAINVERSIONLOOSE]}${Za[vb.PRERELEASELOOSE]}?${Za[vb.BUILD]}?`);W("LOOSE",`^${Za[vb.LOOSEPLAIN]}$`);W("GTLT","((?:\x3c|\x3e)?\x3d?)");W("XRANGEIDENTIFIERLOOSE",`${Za[vb.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);W("XRANGEIDENTIFIER",`${Za[vb.NUMERICIDENTIFIER]}|x|X|\\*`);
W("XRANGEPLAIN",`[v=\\s]*(${Za[vb.XRANGEIDENTIFIER]})`+`(?:\\.(${Za[vb.XRANGEIDENTIFIER]})`+`(?:\\.(${Za[vb.XRANGEIDENTIFIER]})`+`(?:${Za[vb.PRERELEASE]})?${Za[vb.BUILD]}?`+")?)?");W("XRANGEPLAINLOOSE",`[v=\\s]*(${Za[vb.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${Za[vb.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${Za[vb.XRANGEIDENTIFIERLOOSE]})`+`(?:${Za[vb.PRERELEASELOOSE]})?${Za[vb.BUILD]}?`+")?)?");W("XRANGE",`^${Za[vb.GTLT]}\\s*${Za[vb.XRANGEPLAIN]}$`);W("XRANGELOOSE",`^${Za[vb.GTLT]}\\s*${Za[vb.XRANGEPLAINLOOSE]}$`);
W("COERCE",`${"(^|[^\\d])(\\d{1,"}${za}})`+`(?:\\.(\\d{1,${za}}))?`+`(?:\\.(\\d{1,${za}}))?`+"(?:$|[^\\d])");W("COERCERTL",Za[vb.COERCE],!0);W("LONETILDE","(?:~\x3e?)");W("TILDETRIM",`(\\s*)${Za[vb.LONETILDE]}\\s+`,!0);ha.tildeTrimReplace="$1~";W("TILDE",`^${Za[vb.LONETILDE]}${Za[vb.XRANGEPLAIN]}$`);W("TILDELOOSE",`^${Za[vb.LONETILDE]}${Za[vb.XRANGEPLAINLOOSE]}$`);W("LONECARET","(?:\\^)");W("CARETTRIM",`(\\s*)${Za[vb.LONECARET]}\\s+`,!0);ha.caretTrimReplace="$1^";W("CARET",`^${Za[vb.LONECARET]}${Za[vb.XRANGEPLAIN]}$`);
W("CARETLOOSE",`^${Za[vb.LONECARET]}${Za[vb.XRANGEPLAINLOOSE]}$`);W("COMPARATORLOOSE",`^${Za[vb.GTLT]}\\s*(${Za[vb.LOOSEPLAIN]})$|^$`);W("COMPARATOR",`^${Za[vb.GTLT]}\\s*(${Za[vb.FULLPLAIN]})$|^$`);W("COMPARATORTRIM",`(\\s*)${Za[vb.GTLT]}\\s*(${Za[vb.LOOSEPLAIN]}|${Za[vb.XRANGEPLAIN]})`,!0);ha.comparatorTrimReplace="$1$2$3";W("HYPHENRANGE",`^\\s*(${Za[vb.XRANGEPLAIN]})`+"\\s+-\\s+"+`(${Za[vb.XRANGEPLAIN]})`+"\\s*$");W("HYPHENRANGELOOSE",`^\\s*(${Za[vb.XRANGEPLAINLOOSE]})`+"\\s+-\\s+"+`(${Za[vb.XRANGEPLAINLOOSE]})`+
"\\s*$");W("STAR","(\x3c|\x3e)?\x3d?\\s*\\*");W("GTE0","^\\s*\x3e\x3d\\s*0.0.0\\s*$");W("GTE0PRE","^\\s*\x3e\x3d\\s*0.0.0-0\\s*$")});const $a=/^[0-9]+$/,fb=(W,ha)=>{const za=$a.test(W),ob=$a.test(ha);za&&ob&&(W=+W,ha=+ha);return W===ha?0:za&&!ob?-1:ob&&!za?1:W<ha?-1:1};var Ba={compareIdentifiers:fb,rcompareIdentifiers:(W,ha)=>fb(ha,W)};const {MAX_LENGTH:T,MAX_SAFE_INTEGER:da}=ia,{re:Xa,t:zb}=Wa,{compareIdentifiers:xb}=Ba;class Pb{constructor(W,ha){ha&&"object"===typeof ha||(ha={loose:!!ha,includePrerelease:!1});
if(W instanceof Pb){if(W.loose===!!ha.loose&&W.includePrerelease===!!ha.includePrerelease)return W;W=W.version}else if("string"!==typeof W)throw new TypeError(`Invalid Version: ${W}`);if(W.length>T)throw new TypeError(`version is longer than ${T} characters`);xa("SemVer",W,ha);this.options=ha;this.loose=!!ha.loose;this.includePrerelease=!!ha.includePrerelease;ha=W.trim().match(ha.loose?Xa[zb.LOOSE]:Xa[zb.FULL]);if(!ha)throw new TypeError(`Invalid Version: ${W}`);this.raw=W;this.major=+ha[1];this.minor=
+ha[2];this.patch=+ha[3];if(this.major>da||0>this.major)throw new TypeError("Invalid major version");if(this.minor>da||0>this.minor)throw new TypeError("Invalid minor version");if(this.patch>da||0>this.patch)throw new TypeError("Invalid patch version");this.prerelease=ha[4]?ha[4].split(".").map(za=>{if(/^[0-9]+$/.test(za)){const ob=+za;if(0<=ob&&ob<da)return ob}return za}):[];this.build=ha[5]?ha[5].split("."):[];this.format()}format(){this.version=`${this.major}.${this.minor}.${this.patch}`;this.prerelease.length&&
(this.version+=`-${this.prerelease.join(".")}`);return this.version}toString(){return this.version}compare(W){xa("SemVer.compare",this.version,this.options,W);if(!(W instanceof Pb)){if("string"===typeof W&&W===this.version)return 0;W=new Pb(W,this.options)}return W.version===this.version?0:this.compareMain(W)||this.comparePre(W)}compareMain(W){W instanceof Pb||(W=new Pb(W,this.options));return xb(this.major,W.major)||xb(this.minor,W.minor)||xb(this.patch,W.patch)}comparePre(W){W instanceof Pb||(W=
new Pb(W,this.options));if(this.prerelease.length&&!W.prerelease.length)return-1;if(!this.prerelease.length&&W.prerelease.length)return 1;if(!this.prerelease.length&&!W.prerelease.length)return 0;let ha=0;do{const za=this.prerelease[ha],ob=W.prerelease[ha];xa("prerelease compare",ha,za,ob);if(void 0===za&&void 0===ob)return 0;if(void 0===ob)return 1;if(void 0===za)return-1;if(za!==ob)return xb(za,ob)}while(++ha)}compareBuild(W){W instanceof Pb||(W=new Pb(W,this.options));let ha=0;do{const za=this.build[ha],
ob=W.build[ha];xa("prerelease compare",ha,za,ob);if(void 0===za&&void 0===ob)return 0;if(void 0===ob)return 1;if(void 0===za)return-1;if(za!==ob)return xb(za,ob)}while(++ha)}inc(W,ha){switch(W){case "premajor":this.minor=this.patch=this.prerelease.length=0;this.major++;this.inc("pre",ha);break;case "preminor":this.patch=this.prerelease.length=0;this.minor++;this.inc("pre",ha);break;case "prepatch":this.prerelease.length=0;this.inc("patch",ha);this.inc("pre",ha);break;case "prerelease":0===this.prerelease.length&&
this.inc("patch",ha);this.inc("pre",ha);break;case "major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++;this.patch=this.minor=0;this.prerelease=[];break;case "minor":0===this.patch&&0!==this.prerelease.length||this.minor++;this.patch=0;this.prerelease=[];break;case "patch":0===this.prerelease.length&&this.patch++;this.prerelease=[];break;case "pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(W=this.prerelease.length;0<=--W;)"number"===typeof this.prerelease[W]&&
(this.prerelease[W]++,W=-2);-1===W&&this.prerelease.push(0)}ha&&(this.prerelease[0]===ha?isNaN(this.prerelease[1])&&(this.prerelease=[ha,0]):this.prerelease=[ha,0]);break;default:throw Error(`invalid increment argument: ${W}`);}this.format();this.raw=this.version;return this}}var bc=Pb;const {MAX_LENGTH:Uc}=ia,{re:yc,t:Vc}=Wa;var ya=(W,ha)=>{ha&&"object"===typeof ha||(ha={loose:!!ha,includePrerelease:!1});if(W instanceof bc)return W;if("string"!==typeof W||W.length>Uc||!(ha.loose?yc[Vc.LOOSE]:yc[Vc.FULL]).test(W))return null;
try{return new bc(W,ha)}catch(za){return null}},Nb=(W,ha,za)=>(new bc(W,za)).compare(new bc(ha,za)),Sb=(W,ha,za)=>{W=new bc(W,za);ha=new bc(ha,za);return W.compare(ha)||W.compareBuild(ha)},Zb=(W,ha,za)=>0<Nb(W,ha,za),uc=(W,ha,za)=>0>Nb(W,ha,za),cc=(W,ha,za)=>0<=Nb(W,ha,za),gb=(W,ha,za)=>0>=Nb(W,ha,za),Kb=(W,ha,za,ob)=>{switch(ha){case "\x3d\x3d\x3d":return"object"===typeof W&&(W=W.version),"object"===typeof za&&(za=za.version),W===za;case "!\x3d\x3d":return"object"===typeof W&&(W=W.version),"object"===
typeof za&&(za=za.version),W!==za;case "":case "\x3d":case "\x3d\x3d":return 0===Nb(W,za,ob);case "!\x3d":return 0!==Nb(W,za,ob);case "\x3e":return 0<Nb(W,za,ob);case "\x3e\x3d":return 0<=Nb(W,za,ob);case "\x3c":return 0>Nb(W,za,ob);case "\x3c\x3d":return 0>=Nb(W,za,ob);default:throw new TypeError(`Invalid operator: ${ha}`);}};const {re:Eb,t:Nc}=Wa;class dd{constructor(W,ha){ha&&"object"===typeof ha||(ha={loose:!!ha,includePrerelease:!1});if(W instanceof dd)return W.loose===!!ha.loose&&W.includePrerelease===
!!ha.includePrerelease?W:new dd(W.raw,ha);if(W instanceof Rb)return this.raw=W.value,this.set=[[W]],this.format(),this;this.options=ha;this.loose=!!ha.loose;this.includePrerelease=!!ha.includePrerelease;this.raw=W;this.set=W.split(/\s*\|\|\s*/).map(za=>this.parseRange(za.trim())).filter(za=>za.length);if(!this.set.length)throw new TypeError(`Invalid SemVer Range: ${W}`);this.format()}format(){return this.range=this.set.map(W=>W.join(" ").trim()).join("||").trim()}toString(){return this.range}parseRange(W){const ha=
this.options.loose;W=W.trim();W=W.replace(ha?Tc[xd.HYPHENRANGELOOSE]:Tc[xd.HYPHENRANGE],Gb(this.options.includePrerelease));xa("hyphen replace",W);W=W.replace(Tc[xd.COMPARATORTRIM],tb);xa("comparator trim",W,Tc[xd.COMPARATORTRIM]);W=W.replace(Tc[xd.TILDETRIM],Jb);W=W.replace(Tc[xd.CARETTRIM],Gc);W=W.split(/\s+/).join(" ");const za=ha?Tc[xd.COMPARATORLOOSE]:Tc[xd.COMPARATOR];return W.split(" ").map(ob=>{var Za=ob;ob=this.options;xa("comp",Za,ob);Za=J(Za,ob);xa("caret",Za);Za=Ke(Za,ob);xa("tildes",
Za);Za=Na(Za,ob);xa("xrange",Za);xa("replaceStars",Za,ob);Za=Za.trim().replace(Tc[xd.STAR],"");xa("stars",Za);return Za}).join(" ").split(/\s+/).map(ob=>{var Za=this.options;xa("replaceGTE0",ob,Za);return ob.trim().replace(Tc[Za.includePrerelease?xd.GTE0PRE:xd.GTE0],"")}).filter(this.options.loose?ob=>!!ob.match(za):()=>!0).map(ob=>new Rb(ob,this.options))}intersects(W,ha){if(!(W instanceof dd))throw new TypeError("a Range is required");return this.set.some(za=>ke(za,ha)&&W.set.some(ob=>ke(ob,ha)&&
za.every(Za=>ob.every(vb=>Za.intersects(vb,ha)))))}test(W){if(!W)return!1;if("string"===typeof W)try{W=new bc(W,this.options)}catch(vb){return!1}for(let vb=0;vb<this.set.length;vb++){a:{var ha=this.set[vb];var za=W,ob=this.options;for(var Za=0;Za<ha.length;Za++)if(!ha[Za].test(za)){ha=!1;break a}if(za.prerelease.length&&!ob.includePrerelease){for(ob=0;ob<ha.length;ob++)if(xa(ha[ob].semver),ha[ob].semver!==Rb.ANY&&0<ha[ob].semver.prerelease.length&&(Za=ha[ob].semver,Za.major===za.major&&Za.minor===
za.minor&&Za.patch===za.patch)){ha=!0;break a}ha=!1}else ha=!0}if(ha)return!0}return!1}}var Ic=dd;const {re:Tc,t:xd,comparatorTrimReplace:tb,tildeTrimReplace:Jb,caretTrimReplace:Gc}=Wa,ke=(W,ha)=>{let za=!0;W=W.slice();let ob=W.pop();for(;za&&W.length;)za=W.every(Za=>ob.intersects(Za,ha)),ob=W.pop();return za},ge=W=>!W||"x"===W.toLowerCase()||"*"===W,Ke=(W,ha)=>W.trim().split(/\s+/).map(za=>Ye(za,ha)).join(" "),Ye=(W,ha)=>W.replace(ha.loose?Tc[xd.TILDELOOSE]:Tc[xd.TILDE],(za,ob,Za,vb,Tb)=>{xa("tilde",
W,za,ob,Za,vb,Tb);ge(ob)?za="":ge(Za)?za=`>=${ob}.0.0 <${+ob+1}.0.0-0`:ge(vb)?za=`>=${ob}.${Za}.0 <${ob}.${+Za+1}.0-0`:Tb?(xa("replaceTilde pr",Tb),za=`>=${ob}.${Za}.${vb}-${Tb} <${ob}.${+Za+1}.0-0`):za=`>=${ob}.${Za}.${vb} <${ob}.${+Za+1}.0-0`;xa("tilde return",za);return za}),J=(W,ha)=>W.trim().split(/\s+/).map(za=>ja(za,ha)).join(" "),ja=(W,ha)=>{xa("caret",W,ha);const za=ha.includePrerelease?"-0":"";return W.replace(ha.loose?Tc[xd.CARETLOOSE]:Tc[xd.CARET],(ob,Za,vb,Tb,oc)=>{xa("caret",W,ob,Za,
vb,Tb,oc);ge(Za)?ob="":ge(vb)?ob=`>=${Za}.0.0${za} <${+Za+1}.0.0-0`:ge(Tb)?ob="0"===Za?`>=${Za}.${vb}.0${za} <${Za}.${+vb+1}.0-0`:`>=${Za}.${vb}.0${za} <${+Za+1}.0.0-0`:oc?(xa("replaceCaret pr",oc),ob="0"===Za?"0"===vb?`>=${Za}.${vb}.${Tb}-${oc} <${Za}.${vb}.${+Tb+1}-0`:`>=${Za}.${vb}.${Tb}-${oc} <${Za}.${+vb+1}.0-0`:`>=${Za}.${vb}.${Tb}-${oc} <${+Za+1}.0.0-0`):(xa("no pr"),ob="0"===Za?"0"===vb?`>=${Za}.${vb}.${Tb}${za} <${Za}.${vb}.${+Tb+1}-0`:`>=${Za}.${vb}.${Tb}${za} <${Za}.${+vb+1}.0-0`:`>=${Za}.${vb}.${Tb} <${+Za+
1}.0.0-0`);xa("caret return",ob);return ob})},Na=(W,ha)=>{xa("replaceXRanges",W,ha);return W.split(/\s+/).map(za=>mb(za,ha)).join(" ")},mb=(W,ha)=>{W=W.trim();return W.replace(ha.loose?Tc[xd.XRANGELOOSE]:Tc[xd.XRANGE],(za,ob,Za,vb,Tb,oc)=>{xa("xRange",W,za,ob,Za,vb,Tb,oc);const Yc=ge(Za),pc=Yc||ge(vb);Tb=pc||ge(Tb);"\x3d"===ob&&Tb&&(ob="");oc=ha.includePrerelease?"-0":"";Yc?za="\x3e"===ob||"\x3c"===ob?"\x3c0.0.0-0":"*":ob&&Tb?(pc&&(vb=0),Tb=0,"\x3e"===ob?(ob="\x3e\x3d",pc?(Za=+Za+1,vb=0):vb=+vb+1,
Tb=0):"\x3c\x3d"===ob&&(ob="\x3c",pc?Za=+Za+1:vb=+vb+1),"\x3c"===ob&&(oc="-0"),za=`${ob+Za}.${vb}.${Tb}${oc}`):pc?za=`>=${Za}.0.0${oc} <${+Za+1}.0.0-0`:Tb&&(za=`>=${Za}.${vb}.0${oc} <${Za}.${+vb+1}.0-0`);xa("xRange return",za);return za})},Gb=W=>(ha,za,ob,Za,vb,Tb,oc,Yc,pc,Fc,fd,Dd,$b)=>{za=ge(ob)?"":ge(Za)?`>=${ob}.0.0${W?"-0":""}`:ge(vb)?`>=${ob}.${Za}.0${W?"-0":""}`:Tb?`>=${za}`:`>=${za}${W?"-0":""}`;Yc=ge(pc)?"":ge(Fc)?`<${+pc+1}.0.0-0`:ge(fd)?`<${pc}.${+Fc+1}.0-0`:Dd?`<=${pc}.${Fc}.${fd}-${Dd}`:
W?`<${pc}.${Fc}.${+fd+1}-0`:`<=${Yc}`;return`${za} ${Yc}`.trim()},lb=Symbol("SemVer ANY");class Xb{static get ANY(){return lb}constructor(W,ha){ha&&"object"===typeof ha||(ha={loose:!!ha,includePrerelease:!1});if(W instanceof Xb){if(W.loose===!!ha.loose)return W;W=W.value}xa("comparator",W,ha);this.options=ha;this.loose=!!ha.loose;this.parse(W);this.value=this.semver===lb?"":this.operator+this.semver.version;xa("comp",this)}parse(W){const ha=W.match(this.options.loose?ra[Ra.COMPARATORLOOSE]:ra[Ra.COMPARATOR]);
if(!ha)throw new TypeError(`Invalid comparator: ${W}`);this.operator=void 0!==ha[1]?ha[1]:"";"\x3d"===this.operator&&(this.operator="");this.semver=ha[2]?new bc(ha[2],this.options.loose):lb}toString(){return this.value}test(W){xa("Comparator.test",W,this.options.loose);if(this.semver===lb||W===lb)return!0;if("string"===typeof W)try{W=new bc(W,this.options)}catch(ha){return!1}return Kb(W,this.operator,this.semver,this.options)}intersects(W,ha){if(!(W instanceof Xb))throw new TypeError("a Comparator is required");
ha&&"object"===typeof ha||(ha={loose:!!ha,includePrerelease:!1});if(""===this.operator)return""===this.value?!0:(new Ic(W.value,ha)).test(this.value);if(""===W.operator)return""===W.value?!0:(new Ic(this.value,ha)).test(W.semver);const za=("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3e\x3d"===W.operator||"\x3e"===W.operator),ob=("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3c\x3d"===W.operator||"\x3c"===W.operator),Za=this.semver.version===W.semver.version,vb=("\x3e\x3d"===
this.operator||"\x3c\x3d"===this.operator)&&("\x3e\x3d"===W.operator||"\x3c\x3d"===W.operator),Tb=Kb(this.semver,"\x3c",W.semver,ha)&&("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3c\x3d"===W.operator||"\x3c"===W.operator);W=Kb(this.semver,"\x3e",W.semver,ha)&&("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3e\x3d"===W.operator||"\x3e"===W.operator);return za||ob||Za&&vb||Tb||W}}var Rb=Xb;const {re:ra,t:Ra}=Wa;var rb=(W,ha,za)=>{try{ha=new Ic(ha,za)}catch(ob){return!1}return ha.test(W)};
const {ANY:Mb}=Rb;var dc=(W,ha,za,ob)=>{W=new bc(W,ob);ha=new Ic(ha,ob);let Za,vb,Tb,oc;switch(za){case "\x3e":Za=Zb;za=gb;vb=uc;Tb="\x3e";oc="\x3e\x3d";break;case "\x3c":Za=uc;za=cc;vb=Zb;Tb="\x3c";oc="\x3c\x3d";break;default:throw new TypeError('Must provide a hilo val of "\x3c" or "\x3e"');}if(rb(W,ha,ob))return!1;for(let Yc=0;Yc<ha.set.length;++Yc){let pc=null,Fc=null;ha.set[Yc].forEach(fd=>{fd.semver===Mb&&(fd=new Rb("\x3e\x3d0.0.0"));pc=pc||fd;Fc=Fc||fd;Za(fd.semver,pc.semver,ob)?pc=fd:vb(fd.semver,
Fc.semver,ob)&&(Fc=fd)});if(pc.operator===Tb||pc.operator===oc||(!Fc.operator||Fc.operator===Tb)&&za(W,Fc.semver)||Fc.operator===oc&&vb(W,Fc.semver))return!1}return!0};const {ANY:hc}=Rb,sc=(W,ha,za)=>{if(1===W.length&&W[0].semver===hc)return 1===ha.length&&ha[0].semver===hc;const ob=new Set;let Za,vb;for(const pc of W)"\x3e"===pc.operator||"\x3e\x3d"===pc.operator?Za=sb(Za,pc,za):"\x3c"===pc.operator||"\x3c\x3d"===pc.operator?vb=gc(vb,pc,za):ob.add(pc.semver);if(1<ob.size)return null;let Tb;if(Za&&
vb&&(Tb=Nb(Za.semver,vb.semver,za),0<Tb||0===Tb&&("\x3e\x3d"!==Za.operator||"\x3c\x3d"!==vb.operator)))return null;for(const pc of ob){if(Za&&!rb(pc,String(Za),za)||vb&&!rb(pc,String(vb),za))return null;for(const Fc of ha)if(!rb(pc,String(Fc),za))return!1;return!0}let oc,Yc;for(const pc of ha){Yc=Yc||"\x3e"===pc.operator||"\x3e\x3d"===pc.operator;oc=oc||"\x3c"===pc.operator||"\x3c\x3d"===pc.operator;if(Za)if("\x3e"===pc.operator||"\x3e\x3d"===pc.operator){if(W=sb(Za,pc,za),W===pc)return!1}else if("\x3e\x3d"===
Za.operator&&!rb(Za.semver,String(pc),za))return!1;if(vb)if("\x3c"===pc.operator||"\x3c\x3d"===pc.operator){if(W=gc(vb,pc,za),W===pc)return!1}else if("\x3c\x3d"===vb.operator&&!rb(vb.semver,String(pc),za))return!1;if(!pc.operator&&(vb||Za)&&0!==Tb)return!1}return Za&&oc&&!vb&&0!==Tb||vb&&Yc&&!Za&&0!==Tb?!1:!0},sb=(W,ha,za)=>{if(!W)return ha;za=Nb(W.semver,ha.semver,za);return 0<za?W:0>za?ha:"\x3e"===ha.operator&&"\x3e\x3d"===W.operator?ha:W},gc=(W,ha,za)=>{if(!W)return ha;za=Nb(W.semver,ha.semver,
za);return 0>za?W:0<za?ha:"\x3c"===ha.operator&&"\x3c\x3d"===W.operator?ha:W};var ic={re:Wa.re,src:Wa.src,tokens:Wa.t,SEMVER_SPEC_VERSION:ia.SEMVER_SPEC_VERSION,SemVer:bc,compareIdentifiers:Ba.compareIdentifiers,rcompareIdentifiers:Ba.rcompareIdentifiers,parse:ya,valid:(W,ha)=>(W=ya(W,ha))?W.version:null,clean:(W,ha)=>(W=ya(W.trim().replace(/^[=v]+/,""),ha))?W.version:null,inc:(W,ha,za,ob)=>{"string"===typeof za&&(ob=za,za=void 0);try{return(new bc(W,za)).inc(ha,ob).version}catch(Za){return null}},
diff:(W,ha)=>{if(0===Nb(W,ha,void 0))return null;{W=ya(W);ha=ya(ha);var za=W.prerelease.length||ha.prerelease.length;const ob=za?"pre":"";za=za?"prerelease":"";for(const Za in W)if(("major"===Za||"minor"===Za||"patch"===Za)&&W[Za]!==ha[Za])return ob+Za;return za}},major:(W,ha)=>(new bc(W,ha)).major,minor:(W,ha)=>(new bc(W,ha)).minor,patch:(W,ha)=>(new bc(W,ha)).patch,prerelease:(W,ha)=>(W=ya(W,ha))&&W.prerelease.length?W.prerelease:null,compare:Nb,rcompare:(W,ha,za)=>Nb(ha,W,za),compareLoose:(W,ha)=>
Nb(W,ha,!0),compareBuild:Sb,sort:(W,ha)=>W.sort((za,ob)=>Sb(za,ob,ha)),rsort:(W,ha)=>W.sort((za,ob)=>Sb(ob,za,ha)),gt:Zb,lt:uc,eq:(W,ha,za)=>0===Nb(W,ha,za),neq:(W,ha,za)=>0!==Nb(W,ha,za),gte:cc,lte:gb,cmp:Kb,coerce:(W,ha)=>{if(W instanceof bc)return W;"number"===typeof W&&(W=String(W));if("string"!==typeof W)return null;ha=ha||{};let za=null;if(ha.rtl){let ob;for(;(ob=Eb[Nc.COERCERTL].exec(W))&&(!za||za.index+za[0].length!==W.length);)za&&ob.index+ob[0].length===za.index+za[0].length||(za=ob),Eb[Nc.COERCERTL].lastIndex=
ob.index+ob[1].length+ob[2].length;Eb[Nc.COERCERTL].lastIndex=-1}else za=W.match(Eb[Nc.COERCE]);return null===za?null:ya(`${za[2]}.${za[3]||"0"}.${za[4]||"0"}`,ha)},Comparator:Rb,Range:Ic,satisfies:rb,toComparators:(W,ha)=>(new Ic(W,ha)).set.map(za=>za.map(ob=>ob.value).join(" ").trim().split(" ")),maxSatisfying:(W,ha,za)=>{let ob=null,Za=null,vb=null;try{vb=new Ic(ha,za)}catch(Tb){return null}W.forEach(Tb=>{!vb.test(Tb)||ob&&-1!==Za.compare(Tb)||(ob=Tb,Za=new bc(ob,za))});return ob},minSatisfying:(W,
ha,za)=>{let ob=null,Za=null,vb=null;try{vb=new Ic(ha,za)}catch(Tb){return null}W.forEach(Tb=>{!vb.test(Tb)||ob&&1!==Za.compare(Tb)||(ob=Tb,Za=new bc(ob,za))});return ob},minVersion:(W,ha)=>{W=new Ic(W,ha);let za=new bc("0.0.0");if(W.test(za))return za;za=new bc("0.0.0-0");if(W.test(za))return za;za=null;for(ha=0;ha<W.set.length;++ha)W.set[ha].forEach(ob=>{const Za=new bc(ob.semver.version);switch(ob.operator){case "\x3e":0===Za.prerelease.length?Za.patch++:Za.prerelease.push(0),Za.raw=Za.format();
case "":case "\x3e\x3d":if(!za||0<Nb(za,Za,void 0))za=Za;break;case "\x3c":case "\x3c\x3d":break;default:throw Error(`Unexpected operation: ${ob.operator}`);}});return za&&W.test(za)?za:null},validRange:(W,ha)=>{try{return(new Ic(W,ha)).range||"*"}catch(za){return null}},outside:dc,gtr:(W,ha,za)=>dc(W,ha,"\x3e",za),ltr:(W,ha,za)=>dc(W,ha,"\x3c",za),intersects:(W,ha,za)=>{W=new Ic(W,za);ha=new Ic(ha,za);return W.intersects(ha)},simplifyRange:(W,ha,za)=>{var ob=[],Za=null;let vb=null;W=W.sort((Tb,oc)=>
Nb(Tb,oc,za));for(const Tb of W)rb(Tb,ha,za)?(vb=Tb,Za||(Za=Tb)):(vb&&ob.push([Za,vb]),Za=vb=null);Za&&ob.push([Za,null]);Za=[];for(const [Tb,oc]of ob)Tb===oc?Za.push(Tb):oc||Tb!==W[0]?oc?Tb===W[0]?Za.push(`<=${oc}`):Za.push(`${Tb} - ${oc}`):Za.push(`>=${Tb}`):Za.push("*");ob=Za.join(" || ");return ob.length<("string"===typeof ha.raw?ha.raw:String(ha)).length?ob:ha},subset:(W,ha,za)=>{W=new Ic(W,za);ha=new Ic(ha,za);let ob=!1;a:for(const Za of W.set){for(const vb of ha.set)if(W=sc(Za,vb,za),ob=ob||
null!==W,W)continue a;if(ob)return!1}return!0}};const Yb={"category-6":"#ec8431 #829eb1 #c89d29 #3580b1 #adc839 #ab7fb4".split(" "),"fire-7":"#fbf2c7 #f9e39c #f8d36e #f4bb6a #e68a4f #d15a40 #ab4232".split(" "),"fireandice-6":"#e68a4f #f4bb6a #f9e39c #dadfe2 #a6b7c6 #849eae".split(" "),"ice-7":"#edefee #dadfe2 #c4ccd2 #a6b7c6 #849eae #607785 #47525d".split(" ")},lc={"main-colors":"#1696d2 #d2d2d2 #000000 #fdbf11 #ec008b #55b748 #5c5859 #db2b27".split(" "),"shades-blue":"#CFE8F3 #A2D4EC #73BFE2 #46ABDB #1696D2 #12719E #0A4C6A #062635".split(" "),
"shades-gray":"#F5F5F5 #ECECEC #E3E3E3 #DCDBDB #D2D2D2 #9D9D9D #696969 #353535".split(" "),"shades-yellow":"#FFF2CF #FCE39E #FDD870 #FCCB41 #FDBF11 #E88E2D #CA5800 #843215".split(" "),"shades-magenta":"#F5CBDF #EB99C2 #E46AA7 #E54096 #EC008B #AF1F6B #761548 #351123".split(" "),"shades-green":"#DCEDD9 #BCDEB4 #98CF90 #78C26D #55B748 #408941 #2C5C2D #1A2E19".split(" "),"shades-black":"#D5D5D4 #ADABAC #848081 #5C5859 #332D2F #262223 #1A1717 #0E0C0D".split(" "),"shades-red":"#F8D5D4 #F1AAA9 #E9807D #E25552 #DB2B27 #A4201D #6E1614 #370B0A".split(" "),
"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2",
"#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":"#1696d2 #ec008b #fdbf11 #000000 #d2d2d2 #55b748".split(" "),"six-groups-cat-2":"#1696d2 #d2d2d2 #ec008b #fdbf11 #332d2f #0a4c6a".split(" "),"six-groups-seq":"#cfe8f3 #a2d4ec #73bfe2 #46abdb #1696d2 #12719e".split(" "),"diverging-colors":"#ca5800 #fdbf11 #fdd870 #fff2cf #cfe8f3 #73bfe2 #1696d2 #0a4c6a".split(" ")};
var Ec=Object.freeze({__proto__:null,dark:{background:"#333",title:{color:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},excel:{background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},symbol:{fill:"#4572a7",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,
labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:"#4572a7 #aa4643 #8aa453 #71598e #4598ae #d98445 #94aace #d09393 #b9cc98 #a99cbc".split(" ")}},fivethirtyeight:{arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,
labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:"#30a2da #fc4f30 #e5ae38 #6d904f #8b8b8b #b96db8 #ff9e27 #56cc60 #52d2ca #52689e #545454 #9fe4f8".split(" "),diverging:"#cc0020 #e77866 #f6e7e1 #d6e8ed #91bfd9 #1d78b5".split(" "),
heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},ggplot2:{group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,
tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:"#000000 #7F7F7F #1A1A1A #999999 #333333 #B0B0B0 #4D4D4D #C9C9C9 #666666 #DCDCDC".split(" ")}},googlecharts:{arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",
fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:"#4285F4 #DB4437 #F4B400 #0F9D58 #AB47BC #00ACC1 #FF7043 #9E9D24 #5C6BC0 #F06292 #00796B #C2185B".split(" "),heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},latimes:{background:"#ffffff",title:{anchor:"start",color:"#000000",font:"Benton Gothic Bold, sans-serif",
fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,
titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},range:{category:Yb["category-6"],diverging:Yb["fireandice-6"],heatmap:Yb["fire-7"],ordinal:Yb["fire-7"],ramp:Yb["fire-7"]}},quartz:{background:"#f9f9f9",arc:{fill:"#ab5787"},area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},
symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:"#ab5787 #51b2e5 #703c5c #168dd9 #d190b6 #00609f #d365ba #154866 #666666 #c4c4c4".split(" ")}},urbaninstitute:{background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},
axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",
orient:"right",offset:10},view:{stroke:"transparent"},range:{category:lc["six-groups-cat-1"],diverging:lc["diverging-colors"],heatmap:lc["diverging-colors"],ordinal:lc["six-groups-seq"],ramp:lc["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,
size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}},version:"2.9.0",vox:{background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,
padding:1,symbolType:"square"},range:{category:"#3e5c69 #6793a6 #182429 #0570b0 #3690c0 #74a9cf #a6bddb #e2ddf2".split(" ")}}});const Cc=W=>function(ha){return ha[W]},id=W=>{const ha=W.length;return function(za){for(let ob=0;ob<ha;++ob)za=za[W[ob]];return za}};(function(W,ha,za){const ob=la(W);W=1===ob.length?ob[0]:W;return va((za&&za.get||S)(ob),[W],ha||W)})("id");va(W=>W,[],"identity");va(()=>0,[],"zero");va(()=>1,[],"one");va(()=>!0,[],"true");va(()=>!1,[],"false");var jd=Array.isArray;const qd=
{offsetX:10,offsetY:10,id:"vg-tooltip-element",styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(W){return String(W).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;")},maxDepth:2};class ud{constructor(W){this.options=Object.assign(Object.assign({},qd),W);W=this.options.id;this.call=this.tooltipHandler.bind(this);if(!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const za=document.createElement("style");za.setAttribute("id",this.options.styleId);
if(!/^[A-Za-z]+[-:.\w]*$/.test(W))throw Error("Invalid HTML ID");var ha="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element img {\n    max-width: 200px;\n    max-height: 200px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n".toString().replace("vg-tooltip-element",
W);za.innerHTML=ha;ha=document.head;0<ha.childNodes.length?ha.insertBefore(za,ha.childNodes[0]):ha.appendChild(za)}this.el=document.getElementById(W);this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",W),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))}tooltipHandler(W,ha,za,ob){if(null==ob||""===ob)this.el.classList.remove("visible",`${this.options.theme}-theme`);else{this.el.innerHTML=Da(ob,this.options.sanitize,this.options.maxDepth);this.el.classList.add("visible",
`${this.options.theme}-theme`);W=this.el.getBoundingClientRect();var Za=this.options.offsetX;za=this.options.offsetY;ob=ha.clientX+Za;ob+W.width>window.innerWidth&&(ob=+ha.clientX-Za-W.width);Za=ha.clientY+za;Za+W.height>window.innerHeight&&(Za=+ha.clientY-za-W.height);ha={x:ob,y:Za};var {x:vb,y:Tb}=ha;this.el.setAttribute("style",`top: ${Tb}px; left: ${vb}px`)}}}String.prototype.startsWith||(String.prototype.startsWith=function(W,ha){return this.substr(!ha||0>ha?0:+ha,W.length)===W});var be,Yd=N,
de=Y,ve="undefined"!==typeof window?window:void 0;void 0===de&&(null===(be=null===ve||void 0===ve?void 0:ve.vl)||void 0===be?0:be.compile)&&(de=ve.vl);var Ae={"export":{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},We={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},zd={vega:"Vega","vega-lite":"Vega-Lite"},Ld={vega:Yd.version,"vega-lite":de?de.version:
"not available"},ef={vega:function(W){return W},"vega-lite":function(W,ha){return de.compile(W,{config:ha}).spec}},me=function(){for(var W=[],ha=0;ha<arguments.length;ha++)W[ha]=arguments[ha];if(ha=1<W.length){if(ha=q.isString(W[0]))ha=W[0],ha=!(ha.startsWith("http://")||ha.startsWith("https://")||ha.startsWith("//"));ha=ha||W[0]instanceof HTMLElement||3===W.length}return ha?w(W[0],W[1],W[2]):P(W[0],W[1])};me.vegaLite=de;me.vl=de;me.container=P;me.embed=w;me.vega=Yd;me["default"]=w;me.version="6.12.2";
return me})};
var aa="cljs.core",da="cljs.spec.alpha",ea="oz.app",fa="taoensso.sente",h,ia=ia||{},la=this||self;function na(){}
function oa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function qa(a){return"array"==oa(a)}function sa(a){var b=oa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function ta(a){return"function"==oa(a)}function ua(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function wa(a){return a[xa]||(a[xa]=++ya)}var xa="closure_uid_"+(1E9*Math.random()>>>0),ya=0;function za(a,b,c){return a.call.apply(a.bind,arguments)}
function Aa(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}return function(){return a.apply(b,arguments)}}function Ba(a,b,c){Ba=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?za:Aa;return Ba.apply(null,arguments)}var Ca=Date.now||function(){return+new Date};
function Da(a,b){function c(){}c.prototype=b.prototype;a.Ic=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,f){for(var g=Array(arguments.length-2),k=2;k<arguments.length;k++)g[k-2]=arguments[k];return b.prototype[e].apply(d,g)}};function Ea(a){Ea[" "](a);return a}Ea[" "]=na;function Fa(a,b,c){return Object.prototype.hasOwnProperty.call(a,b)?a[b]:a[b]=c(b)};function Ga(a,b){return new Ia(a,b)}function Ja(a){return 0<a?0x7fffffffffffffff<=a?Ka:new Ia(a,a/4294967296):0>a?-9223372036854775808>=a?La:Ma(new Ia(-a,-a/4294967296)):Na}
function Oa(a,b){if("-"==a.charAt(0))return Ma(Oa(a.substring(1),b));var c=parseInt(a,b||10);if(9007199254740991>=c)return new Ia(c%4294967296|0,c/4294967296|0);if(0==a.length)throw Error("number format error: empty string");if(0<=a.indexOf("-"))throw Error('number format error: interior "-" character: '+a);b=b||10;if(2>b||36<b)throw Error("radix out of range: "+b);c=Ja(Math.pow(b,8));for(var d=Na,e=0;e<a.length;e+=8){var f=Math.min(8,a.length-e),g=parseInt(a.substring(e,e+f),b);8>f?(f=Ja(Math.pow(b,
f)),d=d.multiply(f).add(Ja(g))):(d=d.multiply(c),d=d.add(Ja(g)))}return d}function Ma(a){var b=~a.Ma+1|0;return Ga(b,~a.Ca+!b|0)}
function Pa(a,b){if(Qa(b))throw Error("division by zero");if(0>a.Ca){if(a.equals(La)){if(b.equals(Ra)||b.equals(Sa))return La;if(b.equals(La))return Ra;var c=1;if(0==c)c=a;else{var d=a.Ca;c=32>c?Ga(a.Ma>>>c|d<<32-c,d>>c):Ga(d>>c-32,0<=d?0:-1)}c=Pa(c,b).shiftLeft(1);if(c.equals(Na))return 0>b.Ca?Ra:Sa;a=Ta(a,b.multiply(c));return c.add(Pa(a,b))}return 0>b.Ca?Pa(Ma(a),Ma(b)):Ma(Pa(Ma(a),b))}if(Qa(a))return Na;if(0>b.Ca)return b.equals(La)?Na:Ma(Pa(a,Ma(b)));for(d=Na;0<=a.compare(b);){c=Math.max(1,Math.floor(a.toNumber()/
b.toNumber()));var e=Math.ceil(Math.log(c)/Math.LN2);e=48>=e?1:Math.pow(2,e-48);for(var f=Ja(c),g=f.multiply(b);0>g.Ca||0<g.compare(a);)c-=e,f=Ja(c),g=f.multiply(b);Qa(f)&&(f=Ra);d=d.add(f);a=Ta(a,g)}return d}function Ta(a,b){return a.add(Ma(b))}function Qa(a){return 0==a.Ma&&0==a.Ca}function Ua(a,b){b&=63;if(0==b)return a;var c=a.Ca;return 32>b?Ga(a.Ma>>>b|c<<32-b,c>>>b):32==b?Ga(c,0):Ga(c>>>b-32,0)}
class Ia{constructor(a,b){this.Ma=a|0;this.Ca=b|0}toNumber(){return 4294967296*this.Ca+(this.Ma>>>0)}isSafeInteger(){var a=this.Ca>>21;return 0==a||-1==a&&!(0==this.Ma&&-2097152==this.Ca)}toString(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(this.isSafeInteger()){var b=this.toNumber();return 10==a?""+b:b.toString(a)}b=14-(a>>2);var c=Math.pow(a,b),d=Ga(c,c/4294967296);c=Pa(this,d);d=Math.abs(Ta(this,c.multiply(d)).toNumber());var e=10==a?""+d:d.toString(a);e.length<b&&(e="0000000000000".substr(e.length-
b)+e);d=c.toNumber();return(10==a?d:d.toString(a))+e}equals(a){return this.Ma==a.Ma&&this.Ca==a.Ca}compare(a){return this.Ca==a.Ca?this.Ma==a.Ma?0:this.Ma>>>0>a.Ma>>>0?1:-1:this.Ca>a.Ca?1:-1}add(a){var b=this.Ca>>>16,c=this.Ca&65535,d=this.Ma>>>16,e=a.Ca>>>16,f=a.Ca&65535,g=a.Ma>>>16;a=(this.Ma&65535)+(a.Ma&65535);g=(a>>>16)+(d+g);d=g>>>16;d+=c+f;b=(d>>>16)+(b+e)&65535;return Ga((g&65535)<<16|a&65535,b<<16|d&65535)}multiply(a){if(Qa(this))return this;if(Qa(a))return a;var b=this.Ca>>>16,c=this.Ca&
65535,d=this.Ma>>>16,e=this.Ma&65535,f=a.Ca>>>16,g=a.Ca&65535,k=a.Ma>>>16;a=a.Ma&65535;var l=e*a;var m=(l>>>16)+d*a;var n=m>>>16;m=(m&65535)+e*k;n+=m>>>16;n+=c*a;var q=n>>>16;n=(n&65535)+d*k;q+=n>>>16;n=(n&65535)+e*g;q=q+(n>>>16)+(b*a+c*k+d*g+e*f)&65535;return Ga((m&65535)<<16|l&65535,q<<16|n&65535)}not(){return Ga(~this.Ma,~this.Ca)}and(a){return Ga(this.Ma&a.Ma,this.Ca&a.Ca)}or(a){return Ga(this.Ma|a.Ma,this.Ca|a.Ca)}xor(a){return Ga(this.Ma^a.Ma,this.Ca^a.Ca)}shiftLeft(a){a&=63;if(0==a)return this;
var b=this.Ma;return 32>a?Ga(b<<a,this.Ca<<a|b>>>32-a):Ga(0,b<<a-32)}}const Na=Ga(0,0),Ra=Ga(1,0),Sa=Ga(-1,-1),Ka=Ga(4294967295,2147483647),La=Ga(0,2147483648);var Va=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Xa=Array.prototype.lastIndexOf?function(a,b){return Array.prototype.lastIndexOf.call(a,b,a.length-1)}:function(a,b){var c=a.length-1;0>c&&(c=Math.max(0,a.length+c));if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.lastIndexOf(b,c);
for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1},Ya=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e="string"===typeof a?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Za=Array.prototype.some?function(a,b){return Array.prototype.some.call(a,b,void 0)}:function(a,b){for(var c=a.length,d="string"===typeof a?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a))return!0;return!1},$a=Array.prototype.every?function(a,b,
c){return Array.prototype.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e="string"===typeof a?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function ab(a){a:{var b=bb;for(var c=a.length,d="string"===typeof a?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:"string"===typeof a?a.charAt(b):a[b]}function cb(a){if(!qa(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}
function db(a,b){b=Va(a,b);var c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c}function eb(a){return Array.prototype.concat.apply([],arguments)}function fb(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function gb(a,b){a.sort(b||hb)}function ib(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]={index:d,value:a[d]};var e=b||hb;gb(c,function(f,g){return e(f.value,g.value)||f.index-g.index});for(d=0;d<a.length;d++)a[d]=c[d].value}
function hb(a,b){return a>b?1:a<b?-1:0};function jb(a){this.lh=a}jb.prototype.toString=function(){return this.lh};var kb=new jb("IFRAME"),lb=new jb("SCRIPT");function mb(a){const b=[];let c=0;for(const d in a)b[c++]=a[d];return b}function nb(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b}function ob(a,b,c){return null!==a&&b in a?a[b]:c}var qb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rb(a,b){let c,d;for(let e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(let f=0;f<qb.length;f++)c=qb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function sb(a,b){this.kh=a===tb&&b||"";this.qg=ub}var ub={},tb={},vb=new sb(tb,"");function wb(){}wb.prototype.Gc=function(){return this};(new wb).Gc("");function xb(a,b){this.eh=a===yb&&b||"";this.rg=zb}var zb={},yb={};function Ab(a,b){return 0==a.lastIndexOf(b,0)}function Bb(a,b){const c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c}var Cb=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function Db(a){return-1!=Eb.toLowerCase().indexOf(a.toLowerCase())}function Fb(a,b){return a<b?-1:a>b?1:0};function Gb(){}Gb.prototype.Gc=function(){return this};(new Gb).Gc("");function Hb(){}Hb.prototype.Gc=function(){return this};(new Hb).Gc("");var Eb;a:{var Ib=la.navigator;if(Ib){var Jb=Ib.userAgent;if(Jb){Eb=Jb;break a}}Eb=""}function Kb(a){return-1!=Eb.indexOf(a)};function Lb(){this.$f="";this.pg=Mb}function Nb(){var a=Ob;if(a instanceof Lb&&a.constructor===Lb&&a.pg===Mb)return a.$f;oa(a);return"type_error:SafeHtml"}var Mb={};Lb.prototype.Gc=function(a){this.$f=a;return this};(new Lb).Gc("\x3c!DOCTYPE html\x3e");var Ob=(new Lb).Gc("");(new Lb).Gc("\x3cbr\x3e");function Pb(a){var b=new xb(yb,vb instanceof sb&&vb.constructor===sb&&vb.qg===ub?vb.kh:"type_error:Const");b instanceof xb&&b.constructor===xb&&b.rg===zb?b=b.eh:(oa(b),b="type_error:TrustedResourceUrl");a.src=b.toString()};var Qb=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};function Rb(a){if(a.$a&&"function"==typeof a.$a)a=a.$a();else if(sa(a)||"string"===typeof a)a=a.length;else{{let b=0;for(const c in a)b++;a=b}}return a}function Sb(a){if(a.Ib&&"function"==typeof a.Ib)return a.Ib();if("string"===typeof a)return a.split("");if(sa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return mb(a)}
function Tb(a){if(a.Jb&&"function"==typeof a.Jb)return a.Jb();if(!a.Ib||"function"!=typeof a.Ib){if(sa(a)||"string"===typeof a){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return nb(a)}}function Ub(a,b,c){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,c);else if(sa(a)||"string"===typeof a)Ya(a,b,c);else for(var d=Tb(a),e=Sb(a),f=e.length,g=0;g<f;g++)b.call(c,e[g],d&&d[g],a)}
function Vb(a,b){if("function"==typeof a.every)return a.every(b,void 0);if(sa(a)||"string"===typeof a)return $a(a,b,void 0);for(var c=Tb(a),d=Sb(a),e=d.length,f=0;f<e;f++)if(!b.call(void 0,d[f],c&&c[f],a))return!1;return!0};function Wb(a,b){this.ib={};this.hb=[];this.Pa=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)}h=Wb.prototype;h.$a=function(){return this.Pa};h.Ib=function(){Xb(this);for(var a=[],b=0;b<this.hb.length;b++)a.push(this.ib[this.hb[b]]);return a};h.Jb=function(){Xb(this);return this.hb.concat()};h.Wc=function(a){return Yb(this.ib,a)};
h.Fd=function(a){for(var b=0;b<this.hb.length;b++){var c=this.hb[b];if(Yb(this.ib,c)&&this.ib[c]==a)return!0}return!1};h.equals=function(a,b){if(this===a)return!0;if(this.Pa!=a.$a())return!1;b=b||Zb;Xb(this);for(var c,d=0;c=this.hb[d];d++)if(!b(this.get(c),a.get(c)))return!1;return!0};function Zb(a,b){return a===b}h.isEmpty=function(){return 0==this.Pa};h.clear=function(){this.ib={};this.Pa=this.hb.length=0};
h.remove=function(a){return Yb(this.ib,a)?(delete this.ib[a],this.Pa--,this.hb.length>2*this.Pa&&Xb(this),!0):!1};function Xb(a){if(a.Pa!=a.hb.length){for(var b=0,c=0;b<a.hb.length;){var d=a.hb[b];Yb(a.ib,d)&&(a.hb[c++]=d);b++}a.hb.length=c}if(a.Pa!=a.hb.length){var e={};for(c=b=0;b<a.hb.length;)d=a.hb[b],Yb(e,d)||(a.hb[c++]=d,e[d]=1),b++;a.hb.length=c}}h.get=function(a,b){return Yb(this.ib,a)?this.ib[a]:b};h.set=function(a,b){Yb(this.ib,a)||(this.Pa++,this.hb.push(a));this.ib[a]=b};
h.addAll=function(a){if(a instanceof Wb)for(var b=a.Jb(),c=0;c<b.length;c++)this.set(b[c],a.get(b[c]));else for(b in a)this.set(b,a[b])};h.forEach=function(a,b){for(var c=this.Jb(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};h.clone=function(){return new Wb(this)};h.transpose=function(){for(var a=new Wb,b=0;b<this.hb.length;b++){var c=this.hb[b];a.set(this.ib[c],c)}return a};function Yb(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var ac=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function bc(a,b){if(a){a=a.split("\x26");for(var c=0;c<a.length;c++){var d=a[c].indexOf("\x3d"),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}};function cc(a,b){this.Pa=this.bb=null;this.Vb=a||null;this.Pg=!!b}function dc(a){a.bb||(a.bb=new Wb,a.Pa=0,a.Vb&&bc(a.Vb,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))}h=cc.prototype;h.$a=function(){dc(this);return this.Pa};h.add=function(a,b){dc(this);this.Vb=null;a=ec(this,a);var c=this.bb.get(a);c||this.bb.set(a,c=[]);c.push(b);this.Pa+=1;return this};
h.remove=function(a){dc(this);a=ec(this,a);return this.bb.Wc(a)?(this.Vb=null,this.Pa-=this.bb.get(a).length,this.bb.remove(a)):!1};h.clear=function(){this.bb=this.Vb=null;this.Pa=0};h.isEmpty=function(){dc(this);return 0==this.Pa};h.Wc=function(a){dc(this);a=ec(this,a);return this.bb.Wc(a)};h.Fd=function(a){var b=this.Ib();return 0<=Va(b,a)};h.forEach=function(a,b){dc(this);this.bb.forEach(function(c,d){Ya(c,function(e){a.call(b,e,d,this)},this)},this)};
h.Jb=function(){dc(this);for(var a=this.bb.Ib(),b=this.bb.Jb(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};h.Ib=function(a){dc(this);var b=[];if("string"===typeof a)this.Wc(a)&&(b=eb(b,this.bb.get(ec(this,a))));else{a=this.bb.Ib();for(var c=0;c<a.length;c++)b=eb(b,a[c])}return b};h.set=function(a,b){dc(this);this.Vb=null;a=ec(this,a);this.Wc(a)&&(this.Pa-=this.bb.get(a).length);this.bb.set(a,[b]);this.Pa+=1;return this};
h.get=function(a,b){if(!a)return b;a=this.Ib(a);return 0<a.length?String(a[0]):b};h.toString=function(){if(this.Vb)return this.Vb;if(!this.bb)return"";for(var a=[],b=this.bb.Jb(),c=0;c<b.length;c++){var d=b[c],e=encodeURIComponent(String(d));d=this.Ib(d);for(var f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="\x3d"+encodeURIComponent(String(d[f])));a.push(g)}}return this.Vb=a.join("\x26")};h.clone=function(){var a=new cc;a.Vb=this.Vb;this.bb&&(a.bb=this.bb.clone(),a.Pa=this.Pa);return a};
function ec(a,b){b=String(b);a.Pg&&(b=b.toLowerCase());return b}h.extend=function(a){for(var b=0;b<arguments.length;b++)Ub(arguments[b],function(c,d){this.add(d,c)},this)};function fc(a,b){null!=a&&this.append.apply(this,arguments)}h=fc.prototype;h.Mc="";h.set=function(a){this.Mc=""+a};h.append=function(a,b,c){this.Mc+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.Mc+=arguments[d];return this};h.clear=function(){this.Mc=""};h.getLength=function(){return this.Mc.length};h.toString=function(){return this.Mc};var gc={},hc={},ic,p={},jc=null,kc=null;function lc(){return new t(null,5,[mc,!0,nc,!0,oc,!1,pc,!1,qc,jc],null)}function y(a){return null!=a&&!1!==a}function rc(a){return null==a}function sc(a){return a instanceof Array}function tc(a){return null==a?!0:!1===a?!0:!1}function uc(a,b){return a[oa(null==b?null:b)]?!0:a._?!0:!1}function vc(a){return null==a?null:a.constructor}
function wc(a,b){var c=vc(b);c=y(y(c)?c.ac:c)?c.Ob:oa(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function xc(a){var b=a.Ob;return y(b)?b:B.j(a)}
var yc="undefined"!==typeof Symbol&&"function"===oa(Symbol)?Symbol.iterator:"@@iterator",zc={_RBRACE_:"}",_COLON_:":",_BANG_:"!",_QMARK_:"?",_BSLASH_:"\\\\",_SLASH_:"/",_PERCENT_:"%",_PLUS_:"+",_SHARP_:"#",_LBRACE_:"{",_BAR_:"|",_LBRACK_:"[",_EQ_:"\x3d",_:"-",_TILDE_:"~",_RBRACK_:"]",_GT_:"\x3e",_SINGLEQUOTE_:"'",_CIRCA_:"@",_AMPERSAND_:"\x26",_DOUBLEQUOTE_:'\\"',_CARET_:"^",_LT_:"\x3c",_STAR_:"*"},Ac=null;
function Bc(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function Cc(a){function b(d,e){d.push(e);return d}var c=[];return Dc.C?Dc.C(b,c,a):Dc.call(null,b,c,a)}function Ec(a){return"symbol"===oa(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function Fc(){}function Gc(){}
function Hc(a){if(null!=a&&null!=a.Bb)a=a.Bb(a);else{var b=Hc[oa(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Hc._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw wc("ICloneable.-clone",a);}return a}function Ic(){}function Jc(a){if(null!=a&&null!=a.wa)a=a.wa(a);else{var b=Jc[oa(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Jc._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw wc("ICounted.-count",a);}return a}function Kc(){}
function Lc(a){if(null!=a&&null!=a.Ga)a=a.Ga(a);else{var b=Lc[oa(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Lc._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw wc("IEmptyableCollection.-empty",a);}return a}function Mc(){}function Nc(a,b){if(null!=a&&null!=a.Da)a=a.Da(a,b);else{var c=Nc[oa(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Nc._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw wc("ICollection.-conj",a);}return a}function Qc(){}
var Sc=function(){function a(d,e,f){var g=Rc[oa(null==d?null:d)];if(null!=g)return g.C?g.C(d,e,f):g.call(null,d,e,f);g=Rc._;if(null!=g)return g.C?g.C(d,e,f):g.call(null,d,e,f);throw wc("IIndexed.-nth",d);}function b(d,e){var f=Rc[oa(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=Rc._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw wc("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.C=a;return c}(),Rc=function Rc(a){switch(arguments.length){case 2:return Rc.B(arguments[0],arguments[1]);case 3:return Rc.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Rc.B=function(a,b){return null!=a&&null!=a.fa?a.fa(a,b):Sc(a,b)};Rc.C=function(a,b,c){return null!=a&&null!=a.Aa?a.Aa(a,b,c):Sc(a,b,c)};Rc.R=3;function Tc(){}
function Uc(a){if(null!=a&&null!=a.Xa)a=a.Xa(a);else{var b=Uc[oa(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Uc._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw wc("ISeq.-first",a);}return a}function Vc(a){if(null!=a&&null!=a.Za)a=a.Za(a);else{var b=Vc[oa(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Vc._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw wc("ISeq.-rest",a);}return a}function Wc(){}
function Yc(a){if(null!=a&&null!=a.Ra)a=a.Ra(a);else{var b=Yc[oa(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Yc._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw wc("INext.-next",a);}return a}function Zc(){}
var ad=function(){function a(d,e,f){var g=$c[oa(null==d?null:d)];if(null!=g)return g.C?g.C(d,e,f):g.call(null,d,e,f);g=$c._;if(null!=g)return g.C?g.C(d,e,f):g.call(null,d,e,f);throw wc("ILookup.-lookup",d);}function b(d,e){var f=$c[oa(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=$c._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw wc("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,
f)}throw Error("Invalid arity: "+arguments.length);};c.B=b;c.C=a;return c}(),$c=function $c(a){switch(arguments.length){case 2:return $c.B(arguments[0],arguments[1]);case 3:return $c.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};$c.B=function(a,b){return null!=a&&null!=a.xa?a.xa(a,b):ad(a,b)};$c.C=function(a,b,c){return null!=a&&null!=a.da?a.da(a,b,c):ad(a,b,c)};$c.R=3;
function bd(a,b,c){if(null!=a&&null!=a.kb)a=a.kb(a,b,c);else{var d=bd[oa(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=bd._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw wc("IAssociative.-assoc",a);}return a}function cd(a,b){if(null!=a&&null!=a.vc)a=a.vc(a,b);else{var c=cd[oa(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=cd._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw wc("IFind.-find",a);}return a}function dd(){}
function ed(a,b){if(null!=a&&null!=a.Sc)a=a.Sc(a,b);else{var c=ed[oa(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=ed._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw wc("IMap.-dissoc",a);}return a}function fd(a){if(null!=a&&null!=a.Ge)a=a.key;else{var b=fd[oa(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=fd._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw wc("IMapEntry.-key",a);}return a}
function gd(a){if(null!=a&&null!=a.He)a=a.I;else{var b=gd[oa(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=gd._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw wc("IMapEntry.-val",a);}return a}function hd(){}function id(a,b){if(null!=a&&null!=a.Je)a=a.Je(a,b);else{var c=id[oa(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=id._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw wc("ISet.-disjoin",a);}return a}
function jd(a){if(null!=a&&null!=a.yc)a=a.yc(a);else{var b=jd[oa(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=jd._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw wc("IStack.-peek",a);}return a}function kd(a){if(null!=a&&null!=a.zc)a=a.zc(a);else{var b=kd[oa(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=kd._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw wc("IStack.-pop",a);}return a}function ld(){}
function md(a,b,c){if(null!=a&&null!=a.$b)a=a.$b(a,b,c);else{var d=md[oa(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=md._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw wc("IVector.-assoc-n",a);}return a}function nd(a){if(null!=a&&null!=a.lb)a=a.lb(a);else{var b=nd[oa(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=nd._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw wc("IDeref.-deref",a);}return a}function od(){}
function pd(a){if(null!=a&&null!=a.qa)a=a.qa(a);else{var b=pd[oa(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=pd._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw wc("IMeta.-meta",a);}return a}function qd(a,b){if(null!=a&&null!=a.ra)a=a.ra(a,b);else{var c=qd[oa(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=qd._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw wc("IWithMeta.-with-meta",a);}return a}function rd(){}
var ud=function(){function a(d,e,f){var g=td[oa(null==d?null:d)];if(null!=g)return g.C?g.C(d,e,f):g.call(null,d,e,f);g=td._;if(null!=g)return g.C?g.C(d,e,f):g.call(null,d,e,f);throw wc("IReduce.-reduce",d);}function b(d,e){var f=td[oa(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=td._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw wc("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,
f)}throw Error("Invalid arity: "+arguments.length);};c.B=b;c.C=a;return c}(),td=function td(a){switch(arguments.length){case 2:return td.B(arguments[0],arguments[1]);case 3:return td.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};td.B=function(a,b){return null!=a&&null!=a.Sa?a.Sa(a,b):ud(a,b)};td.C=function(a,b,c){return null!=a&&null!=a.Ta?a.Ta(a,b,c):ud(a,b,c)};td.R=3;function vd(){}
function wd(a,b,c){if(null!=a&&null!=a.wc)a=a.wc(a,b,c);else{var d=wd[oa(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=wd._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw wc("IKVReduce.-kv-reduce",a);}return a}function xd(a,b){if(null!=a&&null!=a.aa)a=a.aa(a,b);else{var c=xd[oa(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=xd._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw wc("IEquiv.-equiv",a);}return a}
function yd(a){if(null!=a&&null!=a.sa)a=a.sa(a);else{var b=yd[oa(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=yd._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw wc("IHash.-hash",a);}return a}function zd(){}function Ad(a){if(null!=a&&null!=a.va)a=a.va(a);else{var b=Ad[oa(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ad._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw wc("ISeqable.-seq",a);}return a}function Bd(){}function Cd(){}function Dd(){}
function Ed(){}function Fd(a){if(null!=a&&null!=a.xc)a=a.xc(a);else{var b=Fd[oa(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Fd._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw wc("IReversible.-rseq",a);}return a}function Hd(a,b){if(null!=a&&null!=a.If)a=a.If(a,b);else{var c=Hd[oa(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Hd._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw wc("IWriter.-write",a);}return a}function Id(){}
function Jd(a,b,c){if(null!=a&&null!=a.ja)a=a.ja(a,b,c);else{var d=Jd[oa(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=Jd._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw wc("IPrintWithWriter.-pr-writer",a);}return a}function Kd(a,b,c){if(null!=a&&null!=a.$d)a.$d(a,b,c);else{var d=Kd[oa(null==a?null:a)];if(null!=d)d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=Kd._,null!=d)d.C?d.C(a,b,c):d.call(null,a,b,c);else throw wc("IWatchable.-add-watch",a);}}
function Ld(a,b){if(null!=a&&null!=a.ae)a.ae(a,b);else{var c=Ld[oa(null==a?null:a)];if(null!=c)c.B?c.B(a,b):c.call(null,a,b);else if(c=Ld._,null!=c)c.B?c.B(a,b):c.call(null,a,b);else throw wc("IWatchable.-remove-watch",a);}}function Md(a){if(null!=a&&null!=a.hd)a=a.hd(a);else{var b=Md[oa(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Md._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw wc("IEditableCollection.-as-transient",a);}return a}
function Nd(a,b){if(null!=a&&null!=a.kd)a=a.kd(a,b);else{var c=Nd[oa(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Nd._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw wc("ITransientCollection.-conj!",a);}return a}function Od(a){if(null!=a&&null!=a.Bd)a=a.Bd(a);else{var b=Od[oa(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Od._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw wc("ITransientCollection.-persistent!",a);}return a}
function Pd(a,b,c){if(null!=a&&null!=a.jd)a=a.jd(a,b,c);else{var d=Pd[oa(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=Pd._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw wc("ITransientAssociative.-assoc!",a);}return a}function Qd(a,b){if(null!=a&&null!=a.Oe)a=a.Oe(a,b);else{var c=Qd[oa(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Qd._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw wc("ITransientMap.-dissoc!",a);}return a}
function Rd(){}function Sd(a,b){if(null!=a&&null!=a.Tb)a=a.Tb(a,b);else{var c=Sd[oa(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Sd._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw wc("IComparable.-compare",a);}return a}function Td(a){if(null!=a&&null!=a.Ce)a=a.Ce(a);else{var b=Td[oa(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Td._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw wc("IChunk.-drop-first",a);}return a}
function Ud(a){if(null!=a&&null!=a.Yd)a=a.Yd(a);else{var b=Ud[oa(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Ud._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw wc("IChunkedSeq.-chunked-first",a);}return a}function Vd(a){if(null!=a&&null!=a.gd)a=a.gd(a);else{var b=Vd[oa(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Vd._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw wc("IChunkedSeq.-chunked-rest",a);}return a}
function Wd(a){if(null!=a&&null!=a.yd)a=a.yd(a);else{var b=Wd[oa(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Wd._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw wc("INamed.-name",a);}return a}function Xd(a){if(null!=a&&null!=a.zd)a=a.zd(a);else{var b=Xd[oa(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Xd._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw wc("INamed.-namespace",a);}return a}
function Yd(a,b){if(null!=a&&null!=a.Zb)a=a.Zb(a,b);else{var c=Yd[oa(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Yd._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw wc("IReset.-reset!",a);}return a}
var $d=function(){function a(f,g,k,l,m){var n=Zd[oa(null==f?null:f)];if(null!=n)return n.ga?n.ga(f,g,k,l,m):n.call(null,f,g,k,l,m);n=Zd._;if(null!=n)return n.ga?n.ga(f,g,k,l,m):n.call(null,f,g,k,l,m);throw wc("ISwap.-swap!",f);}function b(f,g,k,l){var m=Zd[oa(null==f?null:f)];if(null!=m)return m.ba?m.ba(f,g,k,l):m.call(null,f,g,k,l);m=Zd._;if(null!=m)return m.ba?m.ba(f,g,k,l):m.call(null,f,g,k,l);throw wc("ISwap.-swap!",f);}function c(f,g,k){var l=Zd[oa(null==f?null:f)];if(null!=l)return l.C?l.C(f,
g,k):l.call(null,f,g,k);l=Zd._;if(null!=l)return l.C?l.C(f,g,k):l.call(null,f,g,k);throw wc("ISwap.-swap!",f);}function d(f,g){var k=Zd[oa(null==f?null:f)];if(null!=k)return k.B?k.B(f,g):k.call(null,f,g);k=Zd._;if(null!=k)return k.B?k.B(f,g):k.call(null,f,g);throw wc("ISwap.-swap!",f);}var e=null;e=function(f,g,k,l,m){switch(arguments.length){case 2:return d.call(this,f,g);case 3:return c.call(this,f,g,k);case 4:return b.call(this,f,g,k,l);case 5:return a.call(this,f,g,k,l,m)}throw Error("Invalid arity: "+
arguments.length);};e.B=d;e.C=c;e.ba=b;e.ga=a;return e}(),Zd=function Zd(a){switch(arguments.length){case 2:return Zd.B(arguments[0],arguments[1]);case 3:return Zd.C(arguments[0],arguments[1],arguments[2]);case 4:return Zd.ba(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Zd.ga(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};
Zd.B=function(a,b){return null!=a&&null!=a.Ke?a.Ke(a,b):$d(a,b)};Zd.C=function(a,b,c){return null!=a&&null!=a.Le?a.Le(a,b,c):$d(a,b,c)};Zd.ba=function(a,b,c,d){return null!=a&&null!=a.Me?a.Me(a,b,c,d):$d(a,b,c,d)};Zd.ga=function(a,b,c,d,e){return null!=a&&null!=a.Ne?a.Ne(a,b,c,d,e):$d(a,b,c,d,e)};Zd.R=5;
function ae(a,b){if(null!=a&&null!=a.Ac)a.Ac(a,b);else{var c=ae[oa(null==a?null:a)];if(null!=c)c.B?c.B(a,b):c.call(null,a,b);else if(c=ae._,null!=c)c.B?c.B(a,b):c.call(null,a,b);else throw wc("IVolatile.-vreset!",a);}}function be(){}function ce(a){if(null!=a&&null!=a.Cb)a=a.Cb(a);else{var b=ce[oa(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=ce._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw wc("IIterable.-iterator",a);}return a}
function fe(a){this.jh=a;this.F=1073741824;this.T=0}fe.prototype.If=function(a,b){return this.jh.append(b)};function ge(a){var b=new fc;a.ja(null,new fe(b),lc());return B.j(b)}var he="undefined"!==typeof Math&&"undefined"!==typeof Math.imul&&0!==Math.imul(4294967295,5)?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function ie(a){a=he(a|0,-862048943);return he(a<<15|a>>>-15,461845907)}
function je(a,b){a=(a|0)^(b|0);return he(a<<13|a>>>-13,5)+-430675100|0}function ke(a,b){a=(a|0)^b;a=he(a^a>>>16,-2048144789);a=he(a^a>>>13,-1028477387);return a^a>>>16}function le(a){a:{var b=1;for(var c=0;;)if(b<a.length)c=je(c,ie(a.charCodeAt(b-1)|a.charCodeAt(b)<<16)),b+=2;else{b=c;break a}}return ke(1===(a.length&1)?b^ie(a.charCodeAt(a.length-1)):b,he(2,a.length))}var me={},ne=0;
function oe(a){255<ne&&(me={},ne=0);if(null==a)return 0;var b=me[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=he(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;me[a]=b;ne+=1;a=b}return a}
function pe(a){if(null!=a&&(a.F&4194304||p===a.Fe))return a.sa(null)^0;if("number"===typeof a){if(y(isFinite(a)))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=oe(a),a=0===a?a:ke(je(0,ie(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:yd(a)^0,a}function qe(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function re(a,b){if(a.Gb===b.Gb)return 0;if(y(tc(a.Db)?b.Db:!1))return-1;if(y(a.Db)){if(tc(b.Db))return 1;var c=hb(a.Db,b.Db);return 0===c?hb(a.name,b.name):c}return hb(a.name,b.name)}function se(a,b,c,d,e){this.Db=a;this.name=b;this.Gb=c;this._hash=d;this.nc=e;this.F=2154168321;this.T=4096}h=se.prototype;h.toString=function(){return this.Gb};h.equiv=function(a){return this.aa(null,a)};h.aa=function(a,b){return b instanceof se?this.Gb===b.Gb:!1};
h.call=function(){function a(d,e,f){return C.C?C.C(e,this,f):C.call(null,e,this,f)}function b(d,e){return C.B?C.B(e,this):C.call(null,e,this)}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+(arguments.length-1));};c.B=b;c.C=a;return c}();h.apply=function(a,b){return this.call.apply(this,[this].concat(Bc(b)))};h.j=function(a){return C.B?C.B(a,this):C.call(null,a,this)};
h.B=function(a,b){return C.C?C.C(a,this,b):C.call(null,a,this,b)};h.qa=function(){return this.nc};h.ra=function(a,b){return new se(this.Db,this.name,this.Gb,this._hash,b)};h.sa=function(){var a=this._hash;return null!=a?a:this._hash=a=qe(le(this.name),oe(this.Db))};h.yd=function(){return this.name};h.zd=function(){return this.Db};h.ja=function(a,b){return Hd(b,this.Gb)};
var te=function te(a){switch(arguments.length){case 1:return te.j(arguments[0]);case 2:return te.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};te.j=function(a){for(;;){if(a instanceof se)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?te.B(null,a):te.B(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof D)a=a.Ia;else throw Error("no conversion to symbol");}};
te.B=function(a,b){var c=null!=a?[B.j(a),"/",B.j(b)].join(""):b;return new se(a,b,c,null,null)};te.R=2;function ue(a){return null!=a?a.T&131072||p===a.uh?!0:a.T?!1:uc(be,a):uc(be,a)}function G(a){if(null==a)return null;if(null!=a&&(a.F&8388608||p===a.Gf))return a.va(null);if(sc(a)||"string"===typeof a)return 0===a.length?null:new ve(a,0,null);if(null!=a&&null!=a[yc])return a=ob(a,yc).call(a),we.j?we.j(a):we.call(null,a);if(uc(zd,a))return Ad(a);throw Error([B.j(a)," is not ISeqable"].join(""));}
function I(a){if(null==a)return null;if(null!=a&&(a.F&64||p===a.oa))return a.Xa(null);a=G(a);return null==a?null:Uc(a)}function xe(a){return null!=a?null!=a&&(a.F&64||p===a.oa)?a.Za(null):(a=G(a))?a.Za(null):ye:ye}function J(a){return null==a?null:null!=a&&(a.F&128||p===a.Ad)?a.Ra(null):G(xe(a))}
var M=function M(a){switch(arguments.length){case 1:return M.j(arguments[0]);case 2:return M.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ve(c.slice(2),0,null);return M.G(arguments[0],arguments[1],c)}};M.j=function(){return!0};M.B=function(a,b){return null==a?null==b:a===b||xd(a,b)};M.G=function(a,b,c){for(;;)if(M.B(a,b))if(J(c))a=b,b=I(c),c=J(c);else return M.B(b,I(c));else return!1};
M.Y=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.G(b,a,c)};M.R=2;function ze(a){this.s=a}ze.prototype.next=function(){if(null!=this.s){var a=I(this.s);this.s=J(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function Ae(a){return new ze(G(a))}function Be(a,b){this.value=a;this.nd=b;this.xe=null;this.F=8388672;this.T=0}Be.prototype.va=function(){return this};Be.prototype.Xa=function(){return this.value};
Be.prototype.Za=function(){null==this.xe&&(this.xe=we.j?we.j(this.nd):we.call(null,this.nd));return this.xe};function we(a){var b=a.next();return y(b.done)?null:new Be(b.value,a)}function Ce(a){var b=0,c=1;for(a=G(a);;)if(null!=a)b+=1,c=he(31,c)+pe(I(a))|0,a=J(a);else return ke(je(0,ie(c)),b)}var De=ke(je(0,ie(1)),0);function Ee(a){var b=0,c=0;for(a=G(a);;)if(null!=a)b+=1,c=c+pe(I(a))|0,a=J(a);else return ke(je(0,ie(c)),b)}var Fe=ke(je(0,ie(0)),0);Ic["null"]=!0;Jc["null"]=function(){return 0};
Date.prototype.aa=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};Date.prototype.qc=p;Date.prototype.Tb=function(a,b){if(b instanceof Date)return hb(this.valueOf(),b.valueOf());throw Error(["Cannot compare ",B.j(this)," to ",B.j(b)].join(""));};xd.number=function(a,b){return a===b};Fc["function"]=!0;od["function"]=!0;pd["function"]=function(){return null};yd._=function(a){return wa(a)};function Ge(a){return a+1}function He(a){this.I=a;this.F=32768;this.T=0}He.prototype.lb=function(){return this.I};
function Ie(a){return a instanceof He}function Je(a){return Ie(a)?Ke.j?Ke.j(a):Ke.call(null,a):a}function Ke(a){return nd(a)}function Le(a,b){var c=a.wa(null);if(0===c)return b.O?b.O():b.call(null);for(var d=a.fa(null,0),e=1;;)if(e<c){var f=a.fa(null,e);d=b.B?b.B(d,f):b.call(null,d,f);if(Ie(d))return nd(d);e+=1}else return d}function Me(a,b,c){var d=a.wa(null),e=c;for(c=0;;)if(c<d){var f=a.fa(null,c);e=b.B?b.B(e,f):b.call(null,e,f);if(Ie(e))return nd(e);c+=1}else return e}
function Ne(a,b){var c=a.length;if(0===a.length)return b.O?b.O():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.B?b.B(d,f):b.call(null,d,f);if(Ie(d))return nd(d);e+=1}else return d}function Oe(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.B?b.B(e,f):b.call(null,e,f);if(Ie(e))return nd(e);c+=1}else return e}function Pe(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.B?b.B(c,f):b.call(null,c,f);if(Ie(c))return nd(c);d+=1}else return c}
function Qe(a){return null!=a?a.F&2||p===a.xg?!0:a.F?!1:uc(Ic,a):uc(Ic,a)}function Re(a){return null!=a?a.F&16||p===a.Ff?!0:a.F?!1:uc(Qc,a):uc(Qc,a)}function Se(a,b,c){var d=R.j?R.j(a):R.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(M.B(Te?Te(a,c):Ue.call(null,a,c),b))return c;c+=1}else return-1}
function Ve(a,b,c){var d=R.j?R.j(a):R.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(M.B(Te?Te(a,c):Ue.call(null,a,c),b))return c;--c}else return-1}function We(a,b){this.D=a;this.i=b}We.prototype.Ea=function(){return this.i<this.D.length};We.prototype.next=function(){var a=this.D[this.i];this.i+=1;return a};function ve(a,b,c){this.D=a;this.i=b;this.meta=c;this.F=166592766;this.T=139264}h=ve.prototype;h.toString=function(){return ge(this)};
h.equiv=function(a){return this.aa(null,a)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Ve(this,c,R.j?R.j(this):R.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return Ve(this,c,d)};return b}();h.fa=function(a,b){a=b+this.i;if(0<=a&&a<this.D.length)return this.D[a];throw Error("Index out of bounds");};h.Aa=function(a,b,c){a=b+this.i;return 0<=a&&a<this.D.length?this.D[a]:c};
h.Cb=function(){return new We(this.D,this.i)};h.qa=function(){return this.meta};h.Bb=function(){return new ve(this.D,this.i,this.meta)};h.Ra=function(){return this.i+1<this.D.length?new ve(this.D,this.i+1,null):null};h.wa=function(){var a=this.D.length-this.i;return 0>a?0:a};h.xc=function(){var a=this.wa(null);return 0<a?new Xe(this,a-1,null):null};h.sa=function(){return Ce(this)};h.aa=function(a,b){return Ye.B?Ye.B(this,b):Ye.call(null,this,b)};h.Ga=function(){return ye};
h.Sa=function(a,b){return Pe(this.D,b,this.D[this.i],this.i+1)};h.Ta=function(a,b,c){return Pe(this.D,b,c,this.i)};h.Xa=function(){return this.D[this.i]};h.Za=function(){return this.i+1<this.D.length?new ve(this.D,this.i+1,null):ye};h.va=function(){return this.i<this.D.length?this:null};h.ra=function(a,b){return b===this.meta?this:new ve(this.D,this.i,b)};h.Da=function(a,b){return Ze.B?Ze.B(b,this):Ze.call(null,b,this)};ve.prototype[yc]=function(){return Ae(this)};
function $e(a){return 0<a.length?new ve(a,0,null):null}function Xe(a,b,c){this.ci=a;this.i=b;this.meta=c;this.F=32374990;this.T=8192}h=Xe.prototype;h.toString=function(){return ge(this)};h.equiv=function(a){return this.aa(null,a)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Ve(this,c,R.j?R.j(this):R.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return Ve(this,c,d)};return b}();h.qa=function(){return this.meta};h.Bb=function(){return new Xe(this.ci,this.i,this.meta)};h.Ra=function(){return 0<this.i?new Xe(this.ci,this.i-1,null):null};h.wa=function(){return this.i+1};
h.sa=function(){return Ce(this)};h.aa=function(a,b){return Ye.B?Ye.B(this,b):Ye.call(null,this,b)};h.Ga=function(){return ye};h.Sa=function(a,b){return af?af(b,this):bf.call(null,b,this)};h.Ta=function(a,b,c){return cf?cf(b,c,this):bf.call(null,b,c,this)};h.Xa=function(){return Rc(this.ci,this.i)};h.Za=function(){return 0<this.i?new Xe(this.ci,this.i-1,null):ye};h.va=function(){return this};h.ra=function(a,b){return b===this.meta?this:new Xe(this.ci,this.i,b)};
h.Da=function(a,b){return Ze.B?Ze.B(b,this):Ze.call(null,b,this)};Xe.prototype[yc]=function(){return Ae(this)};function df(a){for(;;){var b=J(a);if(null!=b)a=b;else return I(a)}}xd._=function(a,b){return a===b};
var ef=function ef(a){switch(arguments.length){case 0:return ef.O();case 1:return ef.j(arguments[0]);case 2:return ef.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ve(c.slice(2),0,null);return ef.G(arguments[0],arguments[1],c)}};ef.O=function(){return ff};ef.j=function(a){return a};ef.B=function(a,b){return null!=a?Nc(a,b):new gf(null,b,null,1,null)};
ef.G=function(a,b,c){for(;;)if(y(c))a=ef.B(a,b),b=I(c),c=J(c);else return ef.B(a,b)};ef.Y=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.G(b,a,c)};ef.R=2;function hf(a){return null==a?null:null!=a&&(a.F&4||p===a.zg)?a.Ga(null):(null!=a?a.F&4||p===a.zg||(a.F?0:uc(Kc,a)):uc(Kc,a))?Lc(a):null}
function R(a){if(null!=a)if(null!=a&&(a.F&2||p===a.xg))a=a.wa(null);else if(sc(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.F&8388608||p===a.Gf))a:{a=G(a);for(var b=0;;){if(Qe(a)){a=b+Jc(a);break a}a=J(a);b+=1}}else a=Jc(a);else a=0;return a}function jf(a,b,c){for(;;){if(null==a)return c;if(0===b)return G(a)?I(a):c;if(Re(a))return Rc(a,b,c);if(G(a))a=J(a),--b;else return c}}
function Ue(a){switch(arguments.length){case 2:return Te(arguments[0],arguments[1]);case 3:return S(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}
function Te(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.F&16||p===a.Ff))return a.fa(null,b);if(sc(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.F&64||p===a.oa)||null!=a&&(a.F&16777216||p===a.Hf)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(G(a)){a=I(a);break a}throw Error("Index out of bounds");}if(Re(a)){a=Rc(a,b);break a}if(G(a))a=J(a),--b;else throw Error("Index out of bounds");}return a}if(uc(Qc,a))return Rc(a,b);throw Error(["nth not supported on this type ",B.j(xc(vc(a)))].join(""));}
function S(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.F&16||p===a.Ff))return a.Aa(null,b,c);if(sc(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.F&64||p===a.oa)||null!=a&&(a.F&16777216||p===a.Hf))return 0>b?c:jf(a,b,c);if(uc(Qc,a))return Rc(a,b,c);throw Error(["nth not supported on this type ",B.j(xc(vc(a)))].join(""));}
var C=function C(a){switch(arguments.length){case 2:return C.B(arguments[0],arguments[1]);case 3:return C.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};C.B=function(a,b){return null==a?null:null!=a&&(a.F&256||p===a.Dg)?a.xa(null,b):sc(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:uc(Zc,a)?$c(a,b):null};
C.C=function(a,b,c){return null!=a?null!=a&&(a.F&256||p===a.Dg)?a.da(null,b,c):sc(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:uc(Zc,a)?$c(a,b,c):c:c};C.R=3;var kf=function kf(a){switch(arguments.length){case 3:return kf.C(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ve(c.slice(3),0,null);return kf.G(arguments[0],arguments[1],arguments[2],c)}};
kf.C=function(a,b,c){return null!=a&&(a.F&512||p===a.ph)?a.kb(null,b,c):null!=a?bd(a,b,c):lf([b,c])};kf.G=function(a,b,c,d){for(;;)if(a=kf.C(a,b,c),y(d))b=I(d),c=I(J(d)),d=J(J(d));else return a};kf.Y=function(a){var b=I(a),c=J(a);a=I(c);var d=J(c);c=I(d);d=J(d);return this.G(b,a,c,d)};kf.R=3;
var mf=function mf(a){switch(arguments.length){case 1:return mf.j(arguments[0]);case 2:return mf.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ve(c.slice(2),0,null);return mf.G(arguments[0],arguments[1],c)}};mf.j=function(a){return a};mf.B=function(a,b){return null==a?null:ed(a,b)};mf.G=function(a,b,c){for(;;){if(null==a)return null;a=mf.B(a,b);if(y(c))b=I(c),c=J(c);else return a}};
mf.Y=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.G(b,a,c)};mf.R=2;function nf(a){var b=ta(a);return b?b:null!=a?p===a.wg?!0:a.Se?!1:uc(Fc,a):uc(Fc,a)}function of(a,b){this.K=a;this.meta=b;this.F=393217;this.T=0}h=of.prototype;h.qa=function(){return this.meta};h.ra=function(a,b){return new of(this.K,b)};h.wg=p;
h.call=function(){function a(v,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va,Ha,Wa,pb,$b){v=this;return rf.Ee?rf.Ee(v.K,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va,Ha,Wa,pb,$b):rf.call(null,v.K,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va,Ha,Wa,pb,$b)}function b(v,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va,Ha,Wa){v=this;return v.K.vb?v.K.vb(w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va,Ha,Wa):v.K.call(null,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va,Ha,Wa)}function c(v,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va,Ha){v=this;return v.K.ub?
v.K.ub(w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va,Ha):v.K.call(null,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va,Ha)}function d(v,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va){v=this;return v.K.tb?v.K.tb(w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va):v.K.call(null,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va)}function e(v,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra){v=this;return v.K.sb?v.K.sb(w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra):v.K.call(null,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra)}function f(v,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa){v=this;
return v.K.rb?v.K.rb(w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa):v.K.call(null,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa)}function g(v,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka){v=this;return v.K.qb?v.K.qb(w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka):v.K.call(null,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka)}function k(v,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca){v=this;return v.K.pb?v.K.pb(w,A,E,F,H,N,P,Q,U,W,Y,Z,ca):v.K.call(null,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca)}function l(v,w,A,E,F,H,N,P,Q,U,W,Y,Z){v=this;return v.K.ob?v.K.ob(w,A,E,F,H,N,P,Q,U,W,Y,Z):v.K.call(null,w,A,E,
F,H,N,P,Q,U,W,Y,Z)}function m(v,w,A,E,F,H,N,P,Q,U,W,Y){v=this;return v.K.nb?v.K.nb(w,A,E,F,H,N,P,Q,U,W,Y):v.K.call(null,w,A,E,F,H,N,P,Q,U,W,Y)}function n(v,w,A,E,F,H,N,P,Q,U,W){v=this;return v.K.mb?v.K.mb(w,A,E,F,H,N,P,Q,U,W):v.K.call(null,w,A,E,F,H,N,P,Q,U,W)}function q(v,w,A,E,F,H,N,P,Q,U){v=this;return v.K.yb?v.K.yb(w,A,E,F,H,N,P,Q,U):v.K.call(null,w,A,E,F,H,N,P,Q,U)}function r(v,w,A,E,F,H,N,P,Q){v=this;return v.K.cb?v.K.cb(w,A,E,F,H,N,P,Q):v.K.call(null,w,A,E,F,H,N,P,Q)}function u(v,w,A,E,F,H,
N,P){v=this;return v.K.xb?v.K.xb(w,A,E,F,H,N,P):v.K.call(null,w,A,E,F,H,N,P)}function x(v,w,A,E,F,H,N){v=this;return v.K.Ya?v.K.Ya(w,A,E,F,H,N):v.K.call(null,w,A,E,F,H,N)}function z(v,w,A,E,F,H){v=this;return v.K.ga?v.K.ga(w,A,E,F,H):v.K.call(null,w,A,E,F,H)}function K(v,w,A,E,F){v=this;return v.K.ba?v.K.ba(w,A,E,F):v.K.call(null,w,A,E,F)}function O(v,w,A,E){v=this;return v.K.C?v.K.C(w,A,E):v.K.call(null,w,A,E)}function ba(v,w,A){v=this;return v.K.B?v.K.B(w,A):v.K.call(null,w,A)}function ja(v,w){v=
this;return v.K.j?v.K.j(w):v.K.call(null,w)}function ma(v){v=this;return v.K.O?v.K.O():v.K.call(null)}var ha=null;ha=function(v,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va,Ha,Wa,pb,$b){switch(arguments.length){case 1:return ma.call(this,v);case 2:return ja.call(this,v,w);case 3:return ba.call(this,v,w,A);case 4:return O.call(this,v,w,A,E);case 5:return K.call(this,v,w,A,E,F);case 6:return z.call(this,v,w,A,E,F,H);case 7:return x.call(this,v,w,A,E,F,H,N);case 8:return u.call(this,v,w,A,E,F,H,N,P);case 9:return r.call(this,
v,w,A,E,F,H,N,P,Q);case 10:return q.call(this,v,w,A,E,F,H,N,P,Q,U);case 11:return n.call(this,v,w,A,E,F,H,N,P,Q,U,W);case 12:return m.call(this,v,w,A,E,F,H,N,P,Q,U,W,Y);case 13:return l.call(this,v,w,A,E,F,H,N,P,Q,U,W,Y,Z);case 14:return k.call(this,v,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca);case 15:return g.call(this,v,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka);case 16:return f.call(this,v,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa);case 17:return e.call(this,v,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra);case 18:return d.call(this,v,w,A,
E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va);case 19:return c.call(this,v,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va,Ha);case 20:return b.call(this,v,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va,Ha,Wa);case 21:return this.K.wb?this.K.wb(w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va,Ha,Wa,pb):this.K.call(null,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va,Ha,Wa,pb);case 22:return a.call(this,v,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va,Ha,Wa,pb,$b)}throw Error("Invalid arity: "+(arguments.length-1));};ha.j=ma;ha.B=ja;ha.C=ba;ha.ba=O;ha.ga=
K;ha.Ya=z;ha.xb=x;ha.cb=u;ha.yb=r;ha.mb=q;ha.nb=n;ha.ob=m;ha.pb=l;ha.qb=k;ha.rb=g;ha.sb=f;ha.tb=e;ha.ub=d;ha.vb=c;ha.wb=b;ha.Ee=a;return ha}();h.apply=function(a,b){return this.call.apply(this,[this].concat(Bc(b)))};h.O=function(){return this.K.O?this.K.O():this.K.call(null)};h.j=function(a){return this.K.j?this.K.j(a):this.K.call(null,a)};h.B=function(a,b){return this.K.B?this.K.B(a,b):this.K.call(null,a,b)};h.C=function(a,b,c){return this.K.C?this.K.C(a,b,c):this.K.call(null,a,b,c)};
h.ba=function(a,b,c,d){return this.K.ba?this.K.ba(a,b,c,d):this.K.call(null,a,b,c,d)};h.ga=function(a,b,c,d,e){return this.K.ga?this.K.ga(a,b,c,d,e):this.K.call(null,a,b,c,d,e)};h.Ya=function(a,b,c,d,e,f){return this.K.Ya?this.K.Ya(a,b,c,d,e,f):this.K.call(null,a,b,c,d,e,f)};h.xb=function(a,b,c,d,e,f,g){return this.K.xb?this.K.xb(a,b,c,d,e,f,g):this.K.call(null,a,b,c,d,e,f,g)};h.cb=function(a,b,c,d,e,f,g,k){return this.K.cb?this.K.cb(a,b,c,d,e,f,g,k):this.K.call(null,a,b,c,d,e,f,g,k)};
h.yb=function(a,b,c,d,e,f,g,k,l){return this.K.yb?this.K.yb(a,b,c,d,e,f,g,k,l):this.K.call(null,a,b,c,d,e,f,g,k,l)};h.mb=function(a,b,c,d,e,f,g,k,l,m){return this.K.mb?this.K.mb(a,b,c,d,e,f,g,k,l,m):this.K.call(null,a,b,c,d,e,f,g,k,l,m)};h.nb=function(a,b,c,d,e,f,g,k,l,m,n){return this.K.nb?this.K.nb(a,b,c,d,e,f,g,k,l,m,n):this.K.call(null,a,b,c,d,e,f,g,k,l,m,n)};h.ob=function(a,b,c,d,e,f,g,k,l,m,n,q){return this.K.ob?this.K.ob(a,b,c,d,e,f,g,k,l,m,n,q):this.K.call(null,a,b,c,d,e,f,g,k,l,m,n,q)};
h.pb=function(a,b,c,d,e,f,g,k,l,m,n,q,r){return this.K.pb?this.K.pb(a,b,c,d,e,f,g,k,l,m,n,q,r):this.K.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r)};h.qb=function(a,b,c,d,e,f,g,k,l,m,n,q,r,u){return this.K.qb?this.K.qb(a,b,c,d,e,f,g,k,l,m,n,q,r,u):this.K.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u)};h.rb=function(a,b,c,d,e,f,g,k,l,m,n,q,r,u,x){return this.K.rb?this.K.rb(a,b,c,d,e,f,g,k,l,m,n,q,r,u,x):this.K.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u,x)};
h.sb=function(a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z){return this.K.sb?this.K.sb(a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z):this.K.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z)};h.tb=function(a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z,K){return this.K.tb?this.K.tb(a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z,K):this.K.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z,K)};h.ub=function(a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z,K,O){return this.K.ub?this.K.ub(a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z,K,O):this.K.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z,K,O)};
h.vb=function(a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z,K,O,ba){return this.K.vb?this.K.vb(a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z,K,O,ba):this.K.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z,K,O,ba)};h.wb=function(a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z,K,O,ba,ja){return this.K.wb?this.K.wb(a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z,K,O,ba,ja):this.K.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z,K,O,ba,ja)};function sf(a,b){return ta(a)?new of(a,b):null==a?null:qd(a,b)}
function tf(a){return null!=a&&(null!=a?a.F&131072||p===a.Zd||(a.F?0:uc(od,a)):uc(od,a))?pd(a):null}var uf=function uf(a){switch(arguments.length){case 1:return uf.j(arguments[0]);case 2:return uf.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ve(c.slice(2),0,null);return uf.G(arguments[0],arguments[1],c)}};uf.j=function(a){return a};uf.B=function(a,b){return null==a?null:id(a,b)};
uf.G=function(a,b,c){for(;;){if(null==a)return null;a=uf.B(a,b);if(y(c))b=I(c),c=J(c);else return a}};uf.Y=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.G(b,a,c)};uf.R=2;function vf(a){return null==a||tc(G(a))}function wf(a){return null==a?!1:null!=a?a.F&8||p===a.rh?!0:a.F?!1:uc(Mc,a):uc(Mc,a)}function xf(a){return null==a?!1:null!=a?a.F&4096||p===a.Bh?!0:a.F?!1:uc(hd,a):uc(hd,a)}function yf(a){return null!=a?a.F&16777216||p===a.Hf?!0:a.F?!1:uc(Bd,a):uc(Bd,a)}
function zf(a){return null==a?!1:null!=a?a.F&1024||p===a.xh?!0:a.F?!1:uc(dd,a):uc(dd,a)}function Af(a){return null!=a?a.F&67108864||p===a.zh?!0:a.F?!1:uc(Dd,a):uc(Dd,a)}function Bf(a){return null!=a?a.F&16384||p===a.Ch?!0:a.F?!1:uc(ld,a):uc(ld,a)}function Cf(a){return null!=a?a.T&512||p===a.qh?!0:!1:!1}function Df(a,b,c,d,e){for(;0!==e;)c[d]=a[b],d+=1,--e,b+=1}var Ef={};function Ff(a){return null==a?!1:null!=a?a.F&64||p===a.oa?!0:a.F?!1:uc(Tc,a):uc(Tc,a)}
function Gf(a){return null==a?!1:!1===a?!1:!0}function Hf(a){var b=nf(a);return b?b:null!=a?a.F&1||p===a.th?!0:a.F?!1:uc(Gc,a):uc(Gc,a)}function If(a,b){return C.C(a,b,Ef)===Ef?!1:!0}
function Jf(a,b){if(a===b)return 0;if(null==a)return-1;if(null==b)return 1;if("number"===typeof a){if("number"===typeof b)return hb(a,b);throw Error(["Cannot compare ",B.j(a)," to ",B.j(b)].join(""));}if(null!=a?a.T&2048||p===a.qc||(a.T?0:uc(Rd,a)):uc(Rd,a))return Sd(a,b);if("string"!==typeof a&&!sc(a)&&!0!==a&&!1!==a||vc(a)!==vc(b))throw Error(["Cannot compare ",B.j(a)," to ",B.j(b)].join(""));return hb(a,b)}
function Kf(a,b){var c=R(a),d=R(b);if(c<d)a=-1;else if(c>d)a=1;else if(0===c)a=0;else a:for(d=0;;){var e=Jf(Te(a,d),Te(b,d));if(0===e&&d+1<c)d+=1;else{a=e;break a}}return a}function Lf(a){return M.B(a,Jf)?Jf:function(b,c){var d=a.B?a.B(b,c):a.call(null,b,c);return"number"===typeof d?d:y(d)?-1:y(a.B?a.B(c,b):a.call(null,c,b))?1:0}}function Mf(a,b){return G(b)?(b=Nf.j?Nf.j(b):Nf.call(null,b),ib(b,Lf(a)),G(b)):ye}
function Of(a,b){return Mf(function(c,d){c=a.j?a.j(c):a.call(null,c);d=a.j?a.j(d):a.call(null,d);var e=Lf(Jf);return e.B?e.B(c,d):e.call(null,c,d)},b)}function bf(a){switch(arguments.length){case 2:return af(arguments[0],arguments[1]);case 3:return cf(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function af(a,b){var c=G(b);return c?(b=I(c),c=J(c),Dc.C?Dc.C(a,b,c):Dc.call(null,a,b,c)):a.O?a.O():a.call(null)}
function cf(a,b,c){for(c=G(c);;)if(c){var d=I(c);b=a.B?a.B(b,d):a.call(null,b,d);if(Ie(b))return nd(b);c=J(c)}else return b}function Pf(a,b){a=ce(a);if(y(a.Ea()))for(var c=a.next();;)if(a.Ea()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(Ie(c))return nd(c)}else return c;else return b.O?b.O():b.call(null)}function Qf(a,b,c){for(a=ce(a);;)if(a.Ea()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(Ie(c))return nd(c)}else return c}
var Dc=function Dc(a){switch(arguments.length){case 2:return Dc.B(arguments[0],arguments[1]);case 3:return Dc.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Dc.B=function(a,b){return null!=b&&(b.F&524288||p===b.Eg)?b.Sa(null,a):sc(b)?Ne(b,a):"string"===typeof b?Ne(b,a):uc(rd,b)?td(b,a):ue(b)?Pf(b,a):af(a,b)};
Dc.C=function(a,b,c){return null!=c&&(c.F&524288||p===c.Eg)?c.Ta(null,a,b):sc(c)?Oe(c,a,b):"string"===typeof c?Oe(c,a,b):uc(rd,c)?td(c,a,b):ue(c)?Qf(c,a,b):cf(a,b,c)};Dc.R=3;function Rf(a,b,c){return null!=c?wd(c,a,b):b}function Sf(a){return a}
function Tf(a,b){return function(){function c(g,k){return a.B?a.B(g,k):a.call(null,g,k)}function d(g){return b.j?b.j(g):b.call(null,g)}function e(){return a.O?a.O():a.call(null)}var f=null;f=function(g,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,g);case 2:return c.call(this,g,k)}throw Error("Invalid arity: "+arguments.length);};f.O=e;f.j=d;f.B=c;return f}()}function Uf(a,b,c){return Vf(a,b,b.O?b.O():b.call(null),c)}
function Vf(a,b,c,d){a=a.j?a.j(b):a.call(null,b);c=Dc.C(a,c,d);return a.j?a.j(c):a.call(null,c)}function Wf(a){return a-1}function Xf(a){if("number"===typeof a)return String.fromCharCode(a);if("string"===typeof a&&1===a.length)return a;throw Error("Argument to char must be a character or number");}function Yf(a){return 0<=a?Math.floor(a):Math.ceil(a)}function Zf(a,b){return Yf((a-a%b)/b)}function $f(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}
function ag(a){switch(arguments.length){case 1:return!0;case 2:return xd(arguments[0],arguments[1]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;d=new ve(b.slice(2),0,null);a:for(b=arguments[0],c=arguments[1];;)if(b===c)if(J(d))b=c,c=I(d),d=J(d);else{b=c===I(d);break a}else{b=!1;break a}return b}}function bg(a,b){return xd(a,b)}
var B=function B(a){switch(arguments.length){case 0:return B.O();case 1:return B.j(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ve(c.slice(1),0,null);return B.G(arguments[0],c)}};B.O=function(){return""};B.j=function(a){return null==a?"":[a].join("")};B.G=function(a,b){for(a=new fc(B.j(a));;)if(y(b))a=a.append(B.j(I(b))),b=J(b);else return a.toString()};B.Y=function(a){var b=I(a);a=J(a);return this.G(b,a)};B.R=1;
function Ye(a,b){if(yf(b))if(Qe(a)&&Qe(b)&&R(a)!==R(b))a=!1;else a:for(a=G(a),b=G(b);;){if(null==a){a=null==b;break a}if(null!=b&&M.B(I(a),I(b)))a=J(a),b=J(b);else{a=!1;break a}}else a=null;return Gf(a)}function gf(a,b,c,d,e){this.meta=a;this.first=b;this.jc=c;this.count=d;this.P=e;this.F=65937646;this.T=8192}h=gf.prototype;h.toString=function(){return ge(this)};h.equiv=function(a){return this.aa(null,a)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Ve(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return Ve(this,c,d)};return b}();h.qa=function(){return this.meta};h.Bb=function(){return new gf(this.meta,this.first,this.jc,this.count,this.P)};h.Ra=function(){return 1===this.count?null:this.jc};h.wa=function(){return this.count};h.yc=function(){return this.first};
h.zc=function(){return this.Za(null)};h.sa=function(){var a=this.P;return null!=a?a:this.P=a=Ce(this)};h.aa=function(a,b){return Ye(this,b)};h.Ga=function(){return qd(ye,this.meta)};h.Sa=function(a,b){return af(b,this)};h.Ta=function(a,b,c){return cf(b,c,this)};h.Xa=function(){return this.first};h.Za=function(){return 1===this.count?ye:this.jc};h.va=function(){return this};h.ra=function(a,b){return b===this.meta?this:new gf(b,this.first,this.jc,this.count,this.P)};
h.Da=function(a,b){return new gf(this.meta,b,this,this.count+1,null)};function cg(a){return null!=a?a.F&33554432||p===a.wh?!0:a.F?!1:uc(Cd,a):uc(Cd,a)}gf.prototype[yc]=function(){return Ae(this)};function dg(a){this.meta=a;this.F=65937614;this.T=8192}h=dg.prototype;h.toString=function(){return ge(this)};h.equiv=function(a){return this.aa(null,a)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Ve(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return Ve(this,c,d)};return b}();h.qa=function(){return this.meta};h.Bb=function(){return new dg(this.meta)};h.Ra=function(){return null};h.wa=function(){return 0};h.yc=function(){return null};h.zc=function(){throw Error("Can't pop empty list");};h.sa=function(){return De};
h.aa=function(a,b){return cg(b)||yf(b)?null==G(b):!1};h.Ga=function(){return this};h.Sa=function(a,b){return af(b,this)};h.Ta=function(a,b,c){return cf(b,c,this)};h.Xa=function(){return null};h.Za=function(){return ye};h.va=function(){return null};h.ra=function(a,b){return b===this.meta?this:new dg(b)};h.Da=function(a,b){return new gf(this.meta,b,null,1,null)};var ye=new dg(null);dg.prototype[yc]=function(){return Ae(this)};
function eg(a){return(null!=a?a.F&134217728||p===a.Ah||(a.F?0:uc(Ed,a)):uc(Ed,a))?(a=Fd(a))?a:ye:Dc.C(ef,ye,a)}var fg=function fg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ve(c.slice(0),0,null):null;return fg.G(c)};fg.G=function(a){if(a instanceof ve&&0===a.i)var b=a.D;else a:for(b=[];;)if(null!=a)b.push(Uc(a)),a=Yc(a);else break a;a=b.length;for(var c=ye;;)if(0<a){var d=a-1;c=Nc(c,b[a-1]);a=d}else return c};fg.R=0;fg.Y=function(a){return this.G(G(a))};
function gg(a,b,c,d){this.meta=a;this.first=b;this.jc=c;this.P=d;this.F=65929452;this.T=8192}h=gg.prototype;h.toString=function(){return ge(this)};h.equiv=function(a){return this.aa(null,a)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Ve(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return Ve(this,c,d)};return b}();h.qa=function(){return this.meta};h.Bb=function(){return new gg(this.meta,this.first,this.jc,this.P)};h.Ra=function(){return null==this.jc?null:G(this.jc)};h.sa=function(){var a=this.P;return null!=a?a:this.P=a=Ce(this)};
h.aa=function(a,b){return Ye(this,b)};h.Ga=function(){return ye};h.Sa=function(a,b){return af(b,this)};h.Ta=function(a,b,c){return cf(b,c,this)};h.Xa=function(){return this.first};h.Za=function(){return null==this.jc?ye:this.jc};h.va=function(){return this};h.ra=function(a,b){return b===this.meta?this:new gg(b,this.first,this.jc,this.P)};h.Da=function(a,b){return new gg(null,b,this,null)};gg.prototype[yc]=function(){return Ae(this)};
function Ze(a,b){return null==b?new gf(null,a,null,1,null):null!=b&&(b.F&64||p===b.oa)?new gg(null,a,b,null):new gg(null,a,G(b),null)}function hg(a,b){if(a.Ia===b.Ia)return 0;if(y(tc(a.Db)?b.Db:!1))return-1;if(y(a.Db)){if(tc(b.Db))return 1;var c=hb(a.Db,b.Db);return 0===c?hb(a.name,b.name):c}return hb(a.name,b.name)}function D(a,b,c,d){this.Db=a;this.name=b;this.Ia=c;this._hash=d;this.F=2153775105;this.T=4096}h=D.prototype;h.toString=function(){return[":",B.j(this.Ia)].join("")};
h.equiv=function(a){return this.aa(null,a)};h.aa=function(a,b){return b instanceof D?this.Ia===b.Ia:!1};h.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return C.B(c,this);case 3:return C.C(c,this,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.B=function(b,c){return C.B(c,this)};a.C=function(b,c,d){return C.C(c,this,d)};return a}();h.apply=function(a,b){return this.call.apply(this,[this].concat(Bc(b)))};h.j=function(a){return C.B(a,this)};
h.B=function(a,b){return C.C(a,this,b)};h.sa=function(){var a=this._hash;return null!=a?a:this._hash=a=qe(le(this.name),oe(this.Db))+2654435769|0};h.yd=function(){return this.name};h.zd=function(){return this.Db};h.ja=function(a,b){return Hd(b,[":",B.j(this.Ia)].join(""))};function T(a,b){return a===b?!0:a instanceof D&&b instanceof D?a.Ia===b.Ia:!1}function ig(a){if(null!=a&&(a.T&4096||p===a.Ie))return a.zd(null);throw Error(["Doesn't support namespace: ",B.j(a)].join(""));}
function jg(a){return a instanceof D||a instanceof se}var kg=function kg(a){switch(arguments.length){case 1:return kg.j(arguments[0]);case 2:return kg.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};
kg.j=function(a){if(a instanceof D)return a;if(a instanceof se)return new D(ig(a),lg.j?lg.j(a):lg.call(null,a),a.Gb,null);if(M.B("/",a))return new D(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new D(b[0],b[1],a,null):new D(null,b[0],a,null)}return null};
kg.B=function(a,b){a=a instanceof D?lg.j?lg.j(a):lg.call(null,a):a instanceof se?lg.j?lg.j(a):lg.call(null,a):a;b=b instanceof D?lg.j?lg.j(b):lg.call(null,b):b instanceof se?lg.j?lg.j(b):lg.call(null,b):b;return new D(a,b,[y(a)?[B.j(a),"/"].join(""):null,B.j(b)].join(""),null)};kg.R=2;function mg(a,b,c,d){this.meta=a;this.fn=b;this.s=c;this.P=d;this.F=32374988;this.T=1}h=mg.prototype;h.toString=function(){return ge(this)};h.equiv=function(a){return this.aa(null,a)};
function ng(a){null!=a.fn&&(a.s=a.fn.O?a.fn.O():a.fn.call(null),a.fn=null);return a.s}h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Ve(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return Ve(this,c,d)};return b}();h.qa=function(){return this.meta};h.Ra=function(){this.va(null);return null==this.s?null:J(this.s)};h.sa=function(){var a=this.P;return null!=a?a:this.P=a=Ce(this)};h.aa=function(a,b){return Ye(this,b)};
h.Ga=function(){return qd(ye,this.meta)};h.Sa=function(a,b){return af(b,this)};h.Ta=function(a,b,c){return cf(b,c,this)};h.Xa=function(){this.va(null);return null==this.s?null:I(this.s)};h.Za=function(){this.va(null);return null!=this.s?xe(this.s):ye};h.va=function(){ng(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof mg)a=ng(a);else return this.s=a,G(this.s)};h.ra=function(a,b){var c=this;return b===this.meta?c:new mg(b,function(){return c.va(null)},null,this.P)};
h.Da=function(a,b){return Ze(b,this)};mg.prototype[yc]=function(){return Ae(this)};function og(a){this.ma=a;this.end=0;this.F=2;this.T=0}og.prototype.add=function(a){this.ma[this.end]=a;return this.end+=1};og.prototype.Fa=function(){var a=new pg(this.ma,0,this.end);this.ma=null;return a};og.prototype.wa=function(){return this.end};function qg(a){return new og(Array(a))}function pg(a,b,c){this.D=a;this.off=b;this.end=c;this.F=524306;this.T=0}h=pg.prototype;h.wa=function(){return this.end-this.off};
h.fa=function(a,b){return this.D[this.off+b]};h.Aa=function(a,b,c){return 0<=b&&b<this.end-this.off?this.D[this.off+b]:c};h.Ce=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new pg(this.D,this.off+1,this.end)};h.Sa=function(a,b){return Pe(this.D,b,this.D[this.off],this.off+1)};h.Ta=function(a,b,c){return Pe(this.D,b,c,this.off)};function rg(a,b,c,d){this.Fa=a;this.fc=b;this.meta=c;this.P=d;this.F=31850732;this.T=1536}h=rg.prototype;h.toString=function(){return ge(this)};
h.equiv=function(a){return this.aa(null,a)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Ve(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return Ve(this,c,d)};return b}();h.qa=function(){return this.meta};h.Ra=function(){return 1<Jc(this.Fa)?new rg(Td(this.Fa),this.fc,null,null):null==this.fc?null:Ad(this.fc)};h.sa=function(){var a=this.P;return null!=a?a:this.P=a=Ce(this)};
h.aa=function(a,b){return Ye(this,b)};h.Ga=function(){return ye};h.Xa=function(){return Rc(this.Fa,0)};h.Za=function(){return 1<Jc(this.Fa)?new rg(Td(this.Fa),this.fc,null,null):null==this.fc?ye:this.fc};h.va=function(){return this};h.Yd=function(){return this.Fa};h.gd=function(){return null==this.fc?ye:this.fc};h.ra=function(a,b){return b===this.meta?this:new rg(this.Fa,this.fc,b,this.P)};h.Da=function(a,b){return Ze(b,this)};h.De=function(){return null==this.fc?null:this.fc};rg.prototype[yc]=function(){return Ae(this)};
function sg(a,b){return 0===Jc(a)?b:new rg(a,b,null,null)}function tg(a,b){a.add(b)}function Nf(a){var b=[];for(a=G(a);;)if(null!=a)b.push(I(a)),a=J(a);else return b}function ug(a,b){if(Qe(b))return R(b);var c=0;for(b=G(b);;)if(null!=b&&c<a)c+=1,b=J(b);else return c}
var vg=function vg(a){if(null==a)return null;var c=J(a);return null==c?G(I(a)):Ze(I(a),vg.j?vg.j(c):vg.call(null,c))},wg=function wg(a){switch(arguments.length){case 0:return wg.O();case 1:return wg.j(arguments[0]);case 2:return wg.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ve(c.slice(2),0,null);return wg.G(arguments[0],arguments[1],c)}};wg.O=function(){return new mg(null,function(){return null},null,null)};
wg.j=function(a){return new mg(null,function(){return a},null,null)};wg.B=function(a,b){return new mg(null,function(){var c=G(a);return c?Cf(c)?sg(Ud(c),wg.B(Vd(c),b)):Ze(I(c),wg.B(xe(c),b)):b},null,null)};wg.G=function(a,b,c){return function g(e,f){return new mg(null,function(){var k=G(e);return k?Cf(k)?sg(Ud(k),g(Vd(k),f)):Ze(I(k),g(xe(k),f)):y(f)?g(I(f),J(f)):null},null,null)}(wg.B(a,b),c)};wg.Y=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.G(b,a,c)};wg.R=2;
function xg(a){return Md(a)}function yg(a){return Od(a)}var zg=function zg(a){switch(arguments.length){case 0:return zg.O();case 1:return zg.j(arguments[0]);case 2:return zg.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ve(c.slice(2),0,null);return zg.G(arguments[0],arguments[1],c)}};zg.O=function(){return Md(ff)};zg.j=function(a){return a};zg.B=function(a,b){return Nd(a,b)};
zg.G=function(a,b,c){for(;;)if(a=Nd(a,b),y(c))b=I(c),c=J(c);else return a};zg.Y=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.G(b,a,c)};zg.R=2;function Ag(a,b,c){return Pd(a,b,c)}
function Bg(a,b,c){var d=G(c);if(0===b)return a.O?a.O():a.call(null);c=Uc(d);var e=Vc(d);if(1===b)return a.j?a.j(c):a.call(null,c);d=Uc(e);var f=Vc(e);if(2===b)return a.B?a.B(c,d):a.call(null,c,d);e=Uc(f);var g=Vc(f);if(3===b)return a.C?a.C(c,d,e):a.call(null,c,d,e);f=Uc(g);var k=Vc(g);if(4===b)return a.ba?a.ba(c,d,e,f):a.call(null,c,d,e,f);g=Uc(k);var l=Vc(k);if(5===b)return a.ga?a.ga(c,d,e,f,g):a.call(null,c,d,e,f,g);k=Uc(l);var m=Vc(l);if(6===b)return a.Ya?a.Ya(c,d,e,f,g,k):a.call(null,c,d,e,f,
g,k);l=Uc(m);var n=Vc(m);if(7===b)return a.xb?a.xb(c,d,e,f,g,k,l):a.call(null,c,d,e,f,g,k,l);m=Uc(n);var q=Vc(n);if(8===b)return a.cb?a.cb(c,d,e,f,g,k,l,m):a.call(null,c,d,e,f,g,k,l,m);n=Uc(q);var r=Vc(q);if(9===b)return a.yb?a.yb(c,d,e,f,g,k,l,m,n):a.call(null,c,d,e,f,g,k,l,m,n);q=Uc(r);var u=Vc(r);if(10===b)return a.mb?a.mb(c,d,e,f,g,k,l,m,n,q):a.call(null,c,d,e,f,g,k,l,m,n,q);r=Uc(u);var x=Vc(u);if(11===b)return a.nb?a.nb(c,d,e,f,g,k,l,m,n,q,r):a.call(null,c,d,e,f,g,k,l,m,n,q,r);u=Uc(x);var z=
Vc(x);if(12===b)return a.ob?a.ob(c,d,e,f,g,k,l,m,n,q,r,u):a.call(null,c,d,e,f,g,k,l,m,n,q,r,u);x=Uc(z);var K=Vc(z);if(13===b)return a.pb?a.pb(c,d,e,f,g,k,l,m,n,q,r,u,x):a.call(null,c,d,e,f,g,k,l,m,n,q,r,u,x);z=Uc(K);var O=Vc(K);if(14===b)return a.qb?a.qb(c,d,e,f,g,k,l,m,n,q,r,u,x,z):a.call(null,c,d,e,f,g,k,l,m,n,q,r,u,x,z);K=Uc(O);var ba=Vc(O);if(15===b)return a.rb?a.rb(c,d,e,f,g,k,l,m,n,q,r,u,x,z,K):a.call(null,c,d,e,f,g,k,l,m,n,q,r,u,x,z,K);O=Uc(ba);var ja=Vc(ba);if(16===b)return a.sb?a.sb(c,d,
e,f,g,k,l,m,n,q,r,u,x,z,K,O):a.call(null,c,d,e,f,g,k,l,m,n,q,r,u,x,z,K,O);ba=Uc(ja);var ma=Vc(ja);if(17===b)return a.tb?a.tb(c,d,e,f,g,k,l,m,n,q,r,u,x,z,K,O,ba):a.call(null,c,d,e,f,g,k,l,m,n,q,r,u,x,z,K,O,ba);ja=Uc(ma);var ha=Vc(ma);if(18===b)return a.ub?a.ub(c,d,e,f,g,k,l,m,n,q,r,u,x,z,K,O,ba,ja):a.call(null,c,d,e,f,g,k,l,m,n,q,r,u,x,z,K,O,ba,ja);ma=Uc(ha);ha=Vc(ha);if(19===b)return a.vb?a.vb(c,d,e,f,g,k,l,m,n,q,r,u,x,z,K,O,ba,ja,ma):a.call(null,c,d,e,f,g,k,l,m,n,q,r,u,x,z,K,O,ba,ja,ma);var v=Uc(ha);
Vc(ha);if(20===b)return a.wb?a.wb(c,d,e,f,g,k,l,m,n,q,r,u,x,z,K,O,ba,ja,ma,v):a.call(null,c,d,e,f,g,k,l,m,n,q,r,u,x,z,K,O,ba,ja,ma,v);throw Error("Only up to 20 arguments supported on functions");}function Cg(a){return null!=a&&(a.F&128||p===a.Ad)?a.Ra(null):G(xe(a))}function Dg(a,b,c){return null==c?a.j?a.j(b):a.call(a,b):Eg(a,b,Uc(c),Cg(c))}function Eg(a,b,c,d){return null==d?a.B?a.B(b,c):a.call(a,b,c):Fg(a,b,c,Uc(d),Cg(d))}
function Fg(a,b,c,d,e){return null==e?a.C?a.C(b,c,d):a.call(a,b,c,d):Gg(a,b,c,d,Uc(e),Cg(e))}
function Gg(a,b,c,d,e,f){if(null==f)return a.ba?a.ba(b,c,d,e):a.call(a,b,c,d,e);var g=Uc(f),k=J(f);if(null==k)return a.ga?a.ga(b,c,d,e,g):a.call(a,b,c,d,e,g);f=Uc(k);var l=J(k);if(null==l)return a.Ya?a.Ya(b,c,d,e,g,f):a.call(a,b,c,d,e,g,f);k=Uc(l);var m=J(l);if(null==m)return a.xb?a.xb(b,c,d,e,g,f,k):a.call(a,b,c,d,e,g,f,k);l=Uc(m);var n=J(m);if(null==n)return a.cb?a.cb(b,c,d,e,g,f,k,l):a.call(a,b,c,d,e,g,f,k,l);m=Uc(n);var q=J(n);if(null==q)return a.yb?a.yb(b,c,d,e,g,f,k,l,m):a.call(a,b,c,d,e,g,
f,k,l,m);n=Uc(q);var r=J(q);if(null==r)return a.mb?a.mb(b,c,d,e,g,f,k,l,m,n):a.call(a,b,c,d,e,g,f,k,l,m,n);q=Uc(r);var u=J(r);if(null==u)return a.nb?a.nb(b,c,d,e,g,f,k,l,m,n,q):a.call(a,b,c,d,e,g,f,k,l,m,n,q);r=Uc(u);var x=J(u);if(null==x)return a.ob?a.ob(b,c,d,e,g,f,k,l,m,n,q,r):a.call(a,b,c,d,e,g,f,k,l,m,n,q,r);u=Uc(x);var z=J(x);if(null==z)return a.pb?a.pb(b,c,d,e,g,f,k,l,m,n,q,r,u):a.call(a,b,c,d,e,g,f,k,l,m,n,q,r,u);x=Uc(z);var K=J(z);if(null==K)return a.qb?a.qb(b,c,d,e,g,f,k,l,m,n,q,r,u,x):
a.call(a,b,c,d,e,g,f,k,l,m,n,q,r,u,x);z=Uc(K);var O=J(K);if(null==O)return a.rb?a.rb(b,c,d,e,g,f,k,l,m,n,q,r,u,x,z):a.call(a,b,c,d,e,g,f,k,l,m,n,q,r,u,x,z);K=Uc(O);var ba=J(O);if(null==ba)return a.sb?a.sb(b,c,d,e,g,f,k,l,m,n,q,r,u,x,z,K):a.call(a,b,c,d,e,g,f,k,l,m,n,q,r,u,x,z,K);O=Uc(ba);var ja=J(ba);if(null==ja)return a.tb?a.tb(b,c,d,e,g,f,k,l,m,n,q,r,u,x,z,K,O):a.call(a,b,c,d,e,g,f,k,l,m,n,q,r,u,x,z,K,O);ba=Uc(ja);var ma=J(ja);if(null==ma)return a.ub?a.ub(b,c,d,e,g,f,k,l,m,n,q,r,u,x,z,K,O,ba):a.call(a,
b,c,d,e,g,f,k,l,m,n,q,r,u,x,z,K,O,ba);ja=Uc(ma);var ha=J(ma);if(null==ha)return a.vb?a.vb(b,c,d,e,g,f,k,l,m,n,q,r,u,x,z,K,O,ba,ja):a.call(a,b,c,d,e,g,f,k,l,m,n,q,r,u,x,z,K,O,ba,ja);ma=Uc(ha);ha=J(ha);if(null==ha)return a.wb?a.wb(b,c,d,e,g,f,k,l,m,n,q,r,u,x,z,K,O,ba,ja,ma):a.call(a,b,c,d,e,g,f,k,l,m,n,q,r,u,x,z,K,O,ba,ja,ma);b=[b,c,d,e,g,f,k,l,m,n,q,r,u,x,z,K,O,ba,ja,ma];for(c=ha;;)if(c)b.push(Uc(c)),c=J(c);else break;return a.apply(a,b)}
function rf(a){switch(arguments.length){case 2:return Hg(arguments[0],arguments[1]);case 3:return Ig(arguments[0],arguments[1],arguments[2]);case 4:return Jg(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Kg(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=new ve(b.slice(5),0,null);return Lg(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}
function Hg(a,b){if(a.Y){var c=a.R,d=ug(c+1,b);return d<=c?Bg(a,d,b):a.Y(b)}b=G(b);return null==b?a.O?a.O():a.call(a):Dg(a,Uc(b),Cg(b))}function Ig(a,b,c){if(a.Y){b=Ze(b,c);var d=a.R;c=ug(d,c)+1;return c<=d?Bg(a,c,b):a.Y(b)}return Dg(a,b,G(c))}function Jg(a,b,c,d){return a.Y?(b=Ze(b,Ze(c,d)),c=a.R,d=2+ug(c-1,d),d<=c?Bg(a,d,b):a.Y(b)):Eg(a,b,c,G(d))}function Kg(a,b,c,d,e){return a.Y?(b=Ze(b,Ze(c,Ze(d,e))),c=a.R,e=3+ug(c-2,e),e<=c?Bg(a,e,b):a.Y(b)):Fg(a,b,c,d,G(e))}
function Lg(a,b,c,d,e,f){return a.Y?(f=vg(f),b=Ze(b,Ze(c,Ze(d,Ze(e,f)))),c=a.R,f=4+ug(c-3,f),f<=c?Bg(a,f,b):a.Y(b)):Gg(a,b,c,d,e,vg(f))}function Mg(a,b){return!M.B(a,b)}function Ng(a){return G(a)?a:null}
function Og(){if("undefined"===typeof gc||"undefined"===typeof hc||"undefined"===typeof ic)ic=function(a){this.$g=a;this.F=393216;this.T=0},ic.prototype.ra=function(a,b){return new ic(b)},ic.prototype.qa=function(){return this.$g},ic.prototype.Ea=function(){return!1},ic.prototype.next=function(){return Error("No such element")},ic.prototype.remove=function(){return Error("Unsupported operation")},ic.ac=!0,ic.Ob="cljs.core/t_cljs$core7592",ic.rc=function(a){return Hd(a,"cljs.core/t_cljs$core7592")};
return new ic(Pg)}function Qg(a){this.s=a;this.i=0}Qg.prototype.Ea=function(){return this.i<this.s.length};Qg.prototype.next=function(){var a=this.s.charAt(this.i);this.i+=1;return a};Qg.prototype.remove=function(){return Error("Unsupported operation")};function Rg(a){this.D=a;this.i=0}Rg.prototype.Ea=function(){return this.i<this.D.length};Rg.prototype.next=function(){var a=this.D[this.i];this.i+=1;return a};Rg.prototype.remove=function(){return Error("Unsupported operation")};var Sg={},Tg={};
function Ug(a){this.vd=Sg;this._next=a}Ug.prototype.Ea=function(){this.vd===Sg?(this.vd=Tg,this._next=G(this._next)):this.vd===this._next&&(this._next=J(this.vd));return null!=this._next};Ug.prototype.next=function(){if(this.Ea())return this.vd=this._next,I(this._next);throw Error("No such element");};Ug.prototype.remove=function(){return Error("Unsupported operation")};
function Vg(a){if(ue(a))return ce(a);if(null==a)return Og();if("string"===typeof a)return new Qg(a);if(sc(a))return new Rg(a);var b=null==a;b||(b=(b=null!=a?a.F&8388608||p===a.Gf?!0:a.F?!1:uc(zd,a):uc(zd,a))?b:sc(a)||"string"===typeof a);if(b)return new Ug(a);throw Error(["Cannot create iterator from ",B.j(a)].join(""));}function Wg(a){this.vals=a}Wg.prototype.add=function(a){this.vals.push(a);return this};Wg.prototype.remove=function(){return this.vals.shift()};
Wg.prototype.isEmpty=function(){return 0===this.vals.length};Wg.prototype.toString=function(){return["Many: ",B.j(this.vals)].join("")};var Xg={};function Yg(a){this.I=a}Yg.prototype.add=function(a){return this.I===Xg?(this.I=a,this):new Wg([this.I,a])};Yg.prototype.remove=function(){if(this.I===Xg)throw Error("Removing object from empty buffer");var a=this.I;this.I=Xg;return a};Yg.prototype.isEmpty=function(){return this.I===Xg};Yg.prototype.toString=function(){return["Single: ",B.j(this.I)].join("")};
function Zg(){}Zg.prototype.add=function(a){return new Yg(a)};Zg.prototype.remove=function(){throw Error("Removing object from empty buffer");};Zg.prototype.isEmpty=function(){return!0};Zg.prototype.toString=function(){return"Empty"};var $g=new Zg,ah=function ah(a){return new mg(null,function(){if(a.Ea())for(var c=[],d=0;;){var e=a.Ea();if(y(y(e)?32>d:e))c[d]=a.next(),d+=1;else return sg(new pg(c,0,d),ah.j?ah.j(a):ah.call(null,a))}else return null},null,null)};
function bh(a){this.buffer=$g;this._next=Xg;this.We=!1;this.mc=null;this.pf=a;this.multi=!1}
bh.prototype.step=function(){if(this._next!==Xg)return!0;for(;;)if(this._next===Xg)if(this.buffer.isEmpty()){if(this.We)return!1;if(this.pf.Ea()){if(this.multi)var a=Hg(this.mc,Ze(null,this.pf.next()));else a=this.pf.next(),a=this.mc.B?this.mc.B(null,a):this.mc.call(null,null,a);Ie(a)&&(this.mc.j?this.mc.j(null):this.mc.call(null,null),this.We=!0)}else this.mc.j?this.mc.j(null):this.mc.call(null,null),this.We=!0}else this._next=this.buffer.remove();else return!0};bh.prototype.Ea=function(){return this.step()};
bh.prototype.next=function(){if(this.Ea()){var a=this._next;this._next=Xg;return a}throw Error("No such element");};bh.prototype.remove=function(){return Error("Unsupported operation")};bh.prototype[yc]=function(){return Ae(this)};
function ch(a,b){var c=new bh(b);c.mc=function(){var d=function(){function e(g,k){c.buffer=c.buffer.add(k);return g}var f=null;f=function(g,k){switch(arguments.length){case 0:return null;case 1:return g;case 2:return e.call(this,g,k)}throw Error("Invalid arity: "+arguments.length);};f.O=function(){return null};f.j=function(g){return g};f.B=e;return f}();return a.j?a.j(d):a.call(null,d)}();return c}
function dh(a,b){for(;;){if(null==G(b))return!0;var c=I(b);c=a.j?a.j(c):a.call(null,c);if(y(c))b=J(b);else return!1}}function eh(a){for(var b=Sf;;)if(a=G(a)){var c=I(a);c=b.j?b.j(c):b.call(null,c);if(y(c))return c;a=J(a)}else return null}function fh(a){if("number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10))return 0===(a&1);throw Error(["Argument must be an integer: ",B.j(a)].join(""));}
function gh(a){return function(){function b(g,k){return tc(a.B?a.B(g,k):a.call(null,g,k))}function c(g){return tc(a.j?a.j(g):a.call(null,g))}function d(){return tc(a.O?a.O():a.call(null))}var e=null,f=function(){function g(l,m,n){var q=null;if(2<arguments.length){q=0;for(var r=Array(arguments.length-2);q<r.length;)r[q]=arguments[q+2],++q;q=new ve(r,0,null)}return k.call(this,l,m,q)}function k(l,m,n){return tc(Jg(a,l,m,n))}g.R=2;g.Y=function(l){var m=I(l);l=J(l);var n=I(l);l=xe(l);return k(m,n,l)};
g.G=k;return g}();e=function(g,k,l){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,g);case 2:return b.call(this,g,k);default:var m=null;if(2<arguments.length){m=0;for(var n=Array(arguments.length-2);m<n.length;)n[m]=arguments[m+2],++m;m=new ve(n,0,null)}return f.G(g,k,m)}throw Error("Invalid arity: "+arguments.length);};e.R=2;e.Y=f.Y;e.O=d;e.j=c;e.B=b;e.G=f.G;return e}()}
function hh(a){return function(){function b(c){if(0<arguments.length)for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;return a}b.R=0;b.Y=function(c){G(c);return a};b.G=function(){return a};return b}()}
var ih=function ih(a){switch(arguments.length){case 0:return ih.O();case 1:return ih.j(arguments[0]);case 2:return ih.B(arguments[0],arguments[1]);case 3:return ih.C(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ve(c.slice(3),0,null);return ih.G(arguments[0],arguments[1],arguments[2],c)}};ih.O=function(){return Sf};ih.j=function(a){return a};
ih.B=function(a,b){return function(){function c(l,m,n){l=b.C?b.C(l,m,n):b.call(null,l,m,n);return a.j?a.j(l):a.call(null,l)}function d(l,m){l=b.B?b.B(l,m):b.call(null,l,m);return a.j?a.j(l):a.call(null,l)}function e(l){l=b.j?b.j(l):b.call(null,l);return a.j?a.j(l):a.call(null,l)}function f(){var l=b.O?b.O():b.call(null);return a.j?a.j(l):a.call(null,l)}var g=null,k=function(){function l(n,q,r,u){var x=null;if(3<arguments.length){x=0;for(var z=Array(arguments.length-3);x<z.length;)z[x]=arguments[x+
3],++x;x=new ve(z,0,null)}return m.call(this,n,q,r,x)}function m(n,q,r,u){n=Kg(b,n,q,r,u);return a.j?a.j(n):a.call(null,n)}l.R=3;l.Y=function(n){var q=I(n);n=J(n);var r=I(n);n=J(n);var u=I(n);n=xe(n);return m(q,r,u,n)};l.G=m;return l}();g=function(l,m,n,q){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,l);case 2:return d.call(this,l,m);case 3:return c.call(this,l,m,n);default:var r=null;if(3<arguments.length){r=0;for(var u=Array(arguments.length-3);r<u.length;)u[r]=
arguments[r+3],++r;r=new ve(u,0,null)}return k.G(l,m,n,r)}throw Error("Invalid arity: "+arguments.length);};g.R=3;g.Y=k.Y;g.O=f;g.j=e;g.B=d;g.C=c;g.G=k.G;return g}()};
ih.C=function(a,b,c){return function(){function d(m,n,q){m=c.C?c.C(m,n,q):c.call(null,m,n,q);m=b.j?b.j(m):b.call(null,m);return a.j?a.j(m):a.call(null,m)}function e(m,n){m=c.B?c.B(m,n):c.call(null,m,n);m=b.j?b.j(m):b.call(null,m);return a.j?a.j(m):a.call(null,m)}function f(m){m=c.j?c.j(m):c.call(null,m);m=b.j?b.j(m):b.call(null,m);return a.j?a.j(m):a.call(null,m)}function g(){var m=c.O?c.O():c.call(null);m=b.j?b.j(m):b.call(null,m);return a.j?a.j(m):a.call(null,m)}var k=null,l=function(){function m(q,
r,u,x){var z=null;if(3<arguments.length){z=0;for(var K=Array(arguments.length-3);z<K.length;)K[z]=arguments[z+3],++z;z=new ve(K,0,null)}return n.call(this,q,r,u,z)}function n(q,r,u,x){q=Kg(c,q,r,u,x);q=b.j?b.j(q):b.call(null,q);return a.j?a.j(q):a.call(null,q)}m.R=3;m.Y=function(q){var r=I(q);q=J(q);var u=I(q);q=J(q);var x=I(q);q=xe(q);return n(r,u,x,q)};m.G=n;return m}();k=function(m,n,q,r){switch(arguments.length){case 0:return g.call(this);case 1:return f.call(this,m);case 2:return e.call(this,
m,n);case 3:return d.call(this,m,n,q);default:var u=null;if(3<arguments.length){u=0;for(var x=Array(arguments.length-3);u<x.length;)x[u]=arguments[u+3],++u;u=new ve(x,0,null)}return l.G(m,n,q,u)}throw Error("Invalid arity: "+arguments.length);};k.R=3;k.Y=l.Y;k.O=g;k.j=f;k.B=e;k.C=d;k.G=l.G;return k}()};
ih.G=function(a,b,c,d){var e=eg(Ze(a,Ze(b,Ze(c,d))));return function(){function f(k){var l=null;if(0<arguments.length){l=0;for(var m=Array(arguments.length-0);l<m.length;)m[l]=arguments[l+0],++l;l=new ve(m,0,null)}return g.call(this,l)}function g(k){k=Hg(I(e),k);for(var l=J(e);;)if(l){var m=I(l);k=m.j?m.j(k):m.call(null,k);l=J(l)}else return k}f.R=0;f.Y=function(k){k=G(k);return g(k)};f.G=g;return f}()};ih.Y=function(a){var b=I(a),c=J(a);a=I(c);var d=J(c);c=I(d);d=J(d);return this.G(b,a,c,d)};
ih.R=3;var jh=function jh(a){switch(arguments.length){case 1:return jh.j(arguments[0]);case 2:return jh.B(arguments[0],arguments[1]);case 3:return jh.C(arguments[0],arguments[1],arguments[2]);case 4:return jh.ba(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ve(c.slice(4),0,null);return jh.G(arguments[0],arguments[1],arguments[2],arguments[3],c)}};jh.j=function(a){return a};
jh.B=function(a,b){return function(){function c(l,m,n){return a.ba?a.ba(b,l,m,n):a.call(null,b,l,m,n)}function d(l,m){return a.C?a.C(b,l,m):a.call(null,b,l,m)}function e(l){return a.B?a.B(b,l):a.call(null,b,l)}function f(){return a.j?a.j(b):a.call(null,b)}var g=null,k=function(){function l(n,q,r,u){var x=null;if(3<arguments.length){x=0;for(var z=Array(arguments.length-3);x<z.length;)z[x]=arguments[x+3],++x;x=new ve(z,0,null)}return m.call(this,n,q,r,x)}function m(n,q,r,u){return Lg(a,b,n,q,r,$e([u]))}
l.R=3;l.Y=function(n){var q=I(n);n=J(n);var r=I(n);n=J(n);var u=I(n);n=xe(n);return m(q,r,u,n)};l.G=m;return l}();g=function(l,m,n,q){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,l);case 2:return d.call(this,l,m);case 3:return c.call(this,l,m,n);default:var r=null;if(3<arguments.length){r=0;for(var u=Array(arguments.length-3);r<u.length;)u[r]=arguments[r+3],++r;r=new ve(u,0,null)}return k.G(l,m,n,r)}throw Error("Invalid arity: "+arguments.length);};g.R=3;g.Y=k.Y;g.O=
f;g.j=e;g.B=d;g.C=c;g.G=k.G;return g}()};
jh.C=function(a,b,c){return function(){function d(m,n,q){return a.ga?a.ga(b,c,m,n,q):a.call(null,b,c,m,n,q)}function e(m,n){return a.ba?a.ba(b,c,m,n):a.call(null,b,c,m,n)}function f(m){return a.C?a.C(b,c,m):a.call(null,b,c,m)}function g(){return a.B?a.B(b,c):a.call(null,b,c)}var k=null,l=function(){function m(q,r,u,x){var z=null;if(3<arguments.length){z=0;for(var K=Array(arguments.length-3);z<K.length;)K[z]=arguments[z+3],++z;z=new ve(K,0,null)}return n.call(this,q,r,u,z)}function n(q,r,u,x){return Lg(a,
b,c,q,r,$e([u,x]))}m.R=3;m.Y=function(q){var r=I(q);q=J(q);var u=I(q);q=J(q);var x=I(q);q=xe(q);return n(r,u,x,q)};m.G=n;return m}();k=function(m,n,q,r){switch(arguments.length){case 0:return g.call(this);case 1:return f.call(this,m);case 2:return e.call(this,m,n);case 3:return d.call(this,m,n,q);default:var u=null;if(3<arguments.length){u=0;for(var x=Array(arguments.length-3);u<x.length;)x[u]=arguments[u+3],++u;u=new ve(x,0,null)}return l.G(m,n,q,u)}throw Error("Invalid arity: "+arguments.length);
};k.R=3;k.Y=l.Y;k.O=g;k.j=f;k.B=e;k.C=d;k.G=l.G;return k}()};
jh.ba=function(a,b,c,d){return function(){function e(n,q,r){return a.Ya?a.Ya(b,c,d,n,q,r):a.call(null,b,c,d,n,q,r)}function f(n,q){return a.ga?a.ga(b,c,d,n,q):a.call(null,b,c,d,n,q)}function g(n){return a.ba?a.ba(b,c,d,n):a.call(null,b,c,d,n)}function k(){return a.C?a.C(b,c,d):a.call(null,b,c,d)}var l=null,m=function(){function n(r,u,x,z){var K=null;if(3<arguments.length){K=0;for(var O=Array(arguments.length-3);K<O.length;)O[K]=arguments[K+3],++K;K=new ve(O,0,null)}return q.call(this,r,u,x,K)}function q(r,
u,x,z){return Lg(a,b,c,d,r,$e([u,x,z]))}n.R=3;n.Y=function(r){var u=I(r);r=J(r);var x=I(r);r=J(r);var z=I(r);r=xe(r);return q(u,x,z,r)};n.G=q;return n}();l=function(n,q,r,u){switch(arguments.length){case 0:return k.call(this);case 1:return g.call(this,n);case 2:return f.call(this,n,q);case 3:return e.call(this,n,q,r);default:var x=null;if(3<arguments.length){x=0;for(var z=Array(arguments.length-3);x<z.length;)z[x]=arguments[x+3],++x;x=new ve(z,0,null)}return m.G(n,q,r,x)}throw Error("Invalid arity: "+
arguments.length);};l.R=3;l.Y=m.Y;l.O=k;l.j=g;l.B=f;l.C=e;l.G=m.G;return l}()};jh.G=function(a,b,c,d,e){return function(){function f(k){var l=null;if(0<arguments.length){l=0;for(var m=Array(arguments.length-0);l<m.length;)m[l]=arguments[l+0],++l;l=new ve(m,0,null)}return g.call(this,l)}function g(k){return Kg(a,b,c,d,wg.B(e,k))}f.R=0;f.Y=function(k){k=G(k);return g(k)};f.G=g;return f}()};jh.Y=function(a){var b=I(a),c=J(a);a=I(c);var d=J(c);c=I(d);var e=J(d);d=I(e);e=J(e);return this.G(b,a,c,d,e)};
jh.R=4;function kh(a,b){return new mg(null,function(){var c=G(b);if(c){if(Cf(c)){for(var d=Ud(c),e=R(d),f=qg(e),g=0;;)if(g<e){var k=function(){var l=Rc(d,g);return a.j?a.j(l):a.call(null,l)}();null!=k&&f.add(k);g+=1}else break;return sg(f.Fa(),kh(a,Vd(c)))}e=function(){var l=I(c);return a.j?a.j(l):a.call(null,l)}();return null==e?kh(a,xe(c)):Ze(e,kh(a,xe(c)))}return null},null,null)}function lh(a){this.state=a;this.Ab=this.validator=this.meta=null;this.T=16386;this.F=6455296}h=lh.prototype;
h.equiv=function(a){return this.aa(null,a)};h.aa=function(a,b){return this===b};h.lb=function(){return this.state};h.qa=function(){return this.meta};h.Pe=function(a,b){for(var c=G(this.Ab),d=null,e=0,f=0;;)if(f<e){var g=d.fa(null,f),k=S(g,0,null);g=S(g,1,null);g.ba?g.ba(k,this,a,b):g.call(null,k,this,a,b);f+=1}else if(c=G(c))Cf(c)?(d=Ud(c),c=Vd(c),k=d,e=R(d),d=k):(d=I(c),k=S(d,0,null),g=S(d,1,null),g.ba?g.ba(k,this,a,b):g.call(null,k,this,a,b),c=J(c),d=null,e=0),f=0;else break};
h.$d=function(a,b,c){this.Ab=kf.C(this.Ab,b,c);return this};h.ae=function(a,b){return this.Ab=mf.B(this.Ab,b)};h.sa=function(){return wa(this)};function mh(a){return new lh(a)}function nh(a,b){if(a instanceof lh){var c=a.validator;if(null!=c&&!y(c.j?c.j(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.Ab&&a.Pe(c,b);return b}return Yd(a,b)}
var oh=function oh(a){switch(arguments.length){case 2:return oh.B(arguments[0],arguments[1]);case 3:return oh.C(arguments[0],arguments[1],arguments[2]);case 4:return oh.ba(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ve(c.slice(4),0,null);return oh.G(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
oh.B=function(a,b){if(a instanceof lh){var c=a.state;b=b.j?b.j(c):b.call(null,c);a=nh(a,b)}else a=Zd(a,b);return a};oh.C=function(a,b,c){if(a instanceof lh){var d=a.state;b=b.B?b.B(d,c):b.call(null,d,c);a=nh(a,b)}else a=Zd(a,b,c);return a};oh.ba=function(a,b,c,d){if(a instanceof lh){var e=a.state;b=b.C?b.C(e,c,d):b.call(null,e,c,d);a=nh(a,b)}else a=Zd(a,b,c,d);return a};oh.G=function(a,b,c,d,e){return a instanceof lh?nh(a,Kg(b,a.state,c,d,e)):Zd(a,b,c,d,e)};
oh.Y=function(a){var b=I(a),c=J(a);a=I(c);var d=J(c);c=I(d);var e=J(d);d=I(e);e=J(e);return this.G(b,a,c,d,e)};oh.R=4;function ph(a){return M.B(a.lb(null),!1)?(nh(a,!0),!0):!1}function qh(a){this.state=a;this.F=32768;this.T=0}qh.prototype.Ac=function(a,b){return this.state=b};qh.prototype.lb=function(){return this.state};
var rh=function rh(a){switch(arguments.length){case 1:return rh.j(arguments[0]);case 2:return rh.B(arguments[0],arguments[1]);case 3:return rh.C(arguments[0],arguments[1],arguments[2]);case 4:return rh.ba(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ve(c.slice(4),0,null);return rh.G(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
rh.j=function(a){return function(b){return function(){function c(k,l){l=a.j?a.j(l):a.call(null,l);return b.B?b.B(k,l):b.call(null,k,l)}function d(k){return b.j?b.j(k):b.call(null,k)}function e(){return b.O?b.O():b.call(null)}var f=null,g=function(){function k(m,n,q){var r=null;if(2<arguments.length){r=0;for(var u=Array(arguments.length-2);r<u.length;)u[r]=arguments[r+2],++r;r=new ve(u,0,null)}return l.call(this,m,n,r)}function l(m,n,q){n=Ig(a,n,q);return b.B?b.B(m,n):b.call(null,m,n)}k.R=2;k.Y=function(m){var n=
I(m);m=J(m);var q=I(m);m=xe(m);return l(n,q,m)};k.G=l;return k}();f=function(k,l,m){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,l);default:var n=null;if(2<arguments.length){n=0;for(var q=Array(arguments.length-2);n<q.length;)q[n]=arguments[n+2],++n;n=new ve(q,0,null)}return g.G(k,l,n)}throw Error("Invalid arity: "+arguments.length);};f.R=2;f.Y=g.Y;f.O=e;f.j=d;f.B=c;f.G=g.G;return f}()}};
rh.B=function(a,b){return new mg(null,function(){var c=G(b);if(c){if(Cf(c)){for(var d=Ud(c),e=R(d),f=qg(e),g=0;;)if(g<e)tg(f,function(){var k=Rc(d,g);return a.j?a.j(k):a.call(null,k)}()),g+=1;else break;return sg(f.Fa(),rh.B(a,Vd(c)))}return Ze(function(){var k=I(c);return a.j?a.j(k):a.call(null,k)}(),rh.B(a,xe(c)))}return null},null,null)};
rh.C=function(a,b,c){return new mg(null,function(){var d=G(b),e=G(c);if(d&&e){var f=I(d);var g=I(e);f=a.B?a.B(f,g):a.call(null,f,g);d=Ze(f,rh.C(a,xe(d),xe(e)))}else d=null;return d},null,null)};rh.ba=function(a,b,c,d){return new mg(null,function(){var e=G(b),f=G(c),g=G(d);if(e&&f&&g){var k=I(e);var l=I(f),m=I(g);k=a.C?a.C(k,l,m):a.call(null,k,l,m);e=Ze(k,rh.ba(a,xe(e),xe(f),xe(g)))}else e=null;return e},null,null)};
rh.G=function(a,b,c,d,e){return rh.B(function(f){return Hg(a,f)},function k(g){return new mg(null,function(){var l=rh.B(G,g);return dh(Sf,l)?Ze(rh.B(I,l),k(rh.B(xe,l))):null},null,null)}(ef.G(e,d,$e([c,b]))))};rh.Y=function(a){var b=I(a),c=J(a);a=I(c);var d=J(c);c=I(d);var e=J(d);d=I(e);e=J(e);return this.G(b,a,c,d,e)};rh.R=4;
var sh=function sh(a){switch(arguments.length){case 1:return sh.j(arguments[0]);case 2:return sh.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};
sh.j=function(a){return function(b){var c=new qh(a);return function(){function d(k,l){var m=nd(c),n=c.Ac(null,c.lb(null)-1);k=0<m?b.B?b.B(k,l):b.call(null,k,l):k;return 0<n?k:Ie(k)?k:new He(k)}function e(k){return b.j?b.j(k):b.call(null,k)}function f(){return b.O?b.O():b.call(null)}var g=null;g=function(k,l){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,k);case 2:return d.call(this,k,l)}throw Error("Invalid arity: "+arguments.length);};g.O=f;g.j=e;g.B=d;return g}()}};
sh.B=function(a,b){return new mg(null,function(){if(0<a){var c=G(b);return c?Ze(I(c),sh.B(a-1,xe(c))):null}return null},null,null)};sh.R=2;function th(a,b){return new mg(null,function(){a:for(var c=a,d=b;;)if(d=G(d),0<c&&d)--c,d=xe(d);else break a;return d},null,null)}function uh(a){return rh.C(function(b){return b},a,th(2,a))}
function vh(a,b){return new mg(null,function(){a:for(var c=a,d=b;;){d=G(d);var e;if(e=d)e=I(d),e=c.j?c.j(e):c.call(null,e);if(y(e))d=xe(d);else break a}return d},null,null)}function wh(a,b,c,d,e){this.meta=a;this.count=b;this.I=c;this.next=d;this.P=e;this.F=32374988;this.T=1}h=wh.prototype;h.toString=function(){return ge(this)};h.equiv=function(a){return this.aa(null,a)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Ve(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return Ve(this,c,d)};return b}();h.qa=function(){return this.meta};h.Ra=function(){return null==this.next?1<this.count?this.next=new wh(null,this.count-1,this.I,null,null):-1===this.count?this:null:this.next};
h.sa=function(){var a=this.P;return null!=a?a:this.P=a=Ce(this)};h.aa=function(a,b){return Ye(this,b)};h.Ga=function(){return ye};h.Sa=function(a,b){if(-1===this.count)for(var c=b.B?b.B(this.I,this.I):b.call(null,this.I,this.I);;){if(Ie(c))return nd(c);c=b.B?b.B(c,this.I):b.call(null,c,this.I)}else for(a=1,c=this.I;;)if(a<this.count){c=b.B?b.B(c,this.I):b.call(null,c,this.I);if(Ie(c))return nd(c);a+=1}else return c};
h.Ta=function(a,b,c){if(-1===this.count)for(c=b.B?b.B(c,this.I):b.call(null,c,this.I);;){if(Ie(c))return nd(c);c=b.B?b.B(c,this.I):b.call(null,c,this.I)}else for(a=0;;)if(a<this.count){c=b.B?b.B(c,this.I):b.call(null,c,this.I);if(Ie(c))return nd(c);a+=1}else return c};h.Xa=function(){return this.I};h.Za=function(){return null==this.next?1<this.count?this.next=new wh(null,this.count-1,this.I,null,null):-1===this.count?this:ye:this.next};h.va=function(){return this};
h.ra=function(a,b){return b===this.meta?this:new wh(b,this.count,this.I,this.next,null)};h.Da=function(a,b){return Ze(b,this)};var xh=function xh(a){switch(arguments.length){case 0:return xh.O();case 1:return xh.j(arguments[0]);case 2:return xh.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ve(c.slice(2),0,null);return xh.G(arguments[0],arguments[1],c)}};xh.O=function(){return ye};
xh.j=function(a){return new mg(null,function(){return a},null,null)};xh.B=function(a,b){return new mg(null,function(){var c=G(a),d=G(b);return c&&d?Ze(I(c),Ze(I(d),xh.B(xe(c),xe(d)))):null},null,null)};xh.G=function(a,b,c){return new mg(null,function(){var d=rh.B(G,ef.G(c,b,$e([a])));return dh(Sf,d)?wg.B(rh.B(I,d),Hg(xh,rh.B(xe,d))):null},null,null)};xh.Y=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.G(b,a,c)};xh.R=2;
function yh(){return function(a){var b=new qh(!1);return function(){function c(g,k){if(y(nd(b)))return g=a.B?a.B(g," "):a.call(null,g," "),Ie(g)?g:a.B?a.B(g,k):a.call(null,g,k);ae(b,!0);return a.B?a.B(g,k):a.call(null,g,k)}function d(g){return a.j?a.j(g):a.call(null,g)}function e(){return a.O?a.O():a.call(null)}var f=null;f=function(g,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,g);case 2:return c.call(this,g,k)}throw Error("Invalid arity: "+arguments.length);};
f.O=e;f.j=d;f.B=c;return f}()}}function zh(a,b){return new mg(null,function(){var c=G(b);if(c){if(Cf(c)){for(var d=Ud(c),e=R(d),f=qg(e),g=0;;)if(g<e){var k=Rc(d,g);k=a.j?a.j(k):a.call(null,k);y(k)&&(k=Rc(d,g),f.add(k));g+=1}else break;return sg(f.Fa(),zh(a,Vd(c)))}d=I(c);c=xe(c);return y(a.j?a.j(d):a.call(null,d))?Ze(d,zh(a,c)):zh(a,c)}return null},null,null)}function Ah(a,b){return zh(gh(a),b)}
var Bh=function Bh(a){switch(arguments.length){case 0:return Bh.O();case 1:return Bh.j(arguments[0]);case 2:return Bh.B(arguments[0],arguments[1]);case 3:return Bh.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Bh.O=function(){return ff};Bh.j=function(a){return a};Bh.B=function(a,b){return null!=a?null!=a&&(a.T&4||p===a.yg)?qd(Od(Dc.C(Nd,Md(a),b)),tf(a)):Dc.C(Nc,a,b):Dc.C(ef,a,b)};
Bh.C=function(a,b,c){return null!=a&&(a.T&4||p===a.yg)?qd(Od(Vf(b,zg,Md(a),c)),tf(a)):Vf(b,ef,a,c)};Bh.R=3;function Ch(a,b){return Od(Dc.C(function(c,d){return zg.B(c,a.j?a.j(d):a.call(null,d))},Md(ff),b))}function Dh(a,b){return Od(Dc.C(function(c,d){return y(a.j?a.j(d):a.call(null,d))?zg.B(c,d):c},Md(ff),b))}function Eh(a,b){return Dc.C(C,a,b)}function Fh(a,b){var c=Ef;for(b=G(b);;)if(null!=b){a=C.C(a,I(b),c);if(c===a)return null;b=J(b)}else return a}
var Gh=function Gh(a,b,c){b=G(b);var e=I(b),f=J(b);return f?kf.C(a,e,function(){var g=C.B(a,e);return Gh.C?Gh.C(g,f,c):Gh.call(null,g,f,c)}()):kf.C(a,e,c)},Hh=function Hh(a){switch(arguments.length){case 3:return Hh.C(arguments[0],arguments[1],arguments[2]);case 4:return Hh.ba(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Hh.ga(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return Hh.Ya(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],
arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ve(c.slice(6),0,null);return Hh.G(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};Hh.C=function(a,b,c){return kf.C(a,b,function(){var d=C.B(a,b);return c.j?c.j(d):c.call(null,d)}())};Hh.ba=function(a,b,c,d){return kf.C(a,b,function(){var e=C.B(a,b);return c.B?c.B(e,d):c.call(null,e,d)}())};
Hh.ga=function(a,b,c,d,e){return kf.C(a,b,function(){var f=C.B(a,b);return c.C?c.C(f,d,e):c.call(null,f,d,e)}())};Hh.Ya=function(a,b,c,d,e,f){return kf.C(a,b,function(){var g=C.B(a,b);return c.ba?c.ba(g,d,e,f):c.call(null,g,d,e,f)}())};Hh.G=function(a,b,c,d,e,f,g){return kf.C(a,b,Lg(c,C.B(a,b),d,e,f,$e([g])))};Hh.Y=function(a){var b=I(a),c=J(a);a=I(c);var d=J(c);c=I(d);var e=J(d);d=I(e);var f=J(e);e=I(f);var g=J(f);f=I(g);g=J(g);return this.G(b,a,c,d,e,f,g)};Hh.R=6;
function Ih(a,b){this.Ha=a;this.D=b}function Jh(a){return new Ih(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function Kh(a){return new Ih(a.Ha,Bc(a.D))}function Lh(a){a=a.J;return 32>a?0:a-1>>>5<<5}function Mh(a,b,c){for(;;){if(0===b)return c;var d=Jh(a);d.D[0]=c;c=d;b-=5}}
var Nh=function Nh(a,b,c,d){var f=Kh(c),g=a.J-1>>>b&31;5===b?f.D[g]=d:(c=c.D[g],null!=c?(b-=5,a=Nh.ba?Nh.ba(a,b,c,d):Nh.call(null,a,b,c,d)):a=Mh(null,b-5,d),f.D[g]=a);return f};function Oh(a,b){throw Error(["No item ",B.j(a)," in vector of length ",B.j(b)].join(""));}function Ph(a,b){if(b>=Lh(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.D[b>>>a&31];a=d}else return c.D}function Qh(a,b){return 0<=b&&b<a.J?Ph(a,b):Oh(b,a.J)}
var Rh=function Rh(a,b,c,d,e){var g=Kh(c);if(0===b)g.D[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.D[k];a=Rh.ga?Rh.ga(a,b,c,d,e):Rh.call(null,a,b,c,d,e);g.D[k]=a}return g},Sh=function Sh(a,b,c){var e=a.J-2>>>b&31;if(5<b){b-=5;var f=c.D[e];a=Sh.C?Sh.C(a,b,f):Sh.call(null,a,b,f);if(null==a&&0===e)return null;c=Kh(c);c.D[e]=a;return c}if(0===e)return null;c=Kh(c);c.D[e]=null;return c};function Th(a,b,c,d,e,f){this.i=a;this.base=b;this.D=c;this.v=d;this.start=e;this.end=f}
Th.prototype.Ea=function(){return this.i<this.end};Th.prototype.next=function(){32===this.i-this.base&&(this.D=Ph(this.v,this.i),this.base+=32);var a=this.D[this.i&31];this.i+=1;return a};function Uh(a,b,c){return new Th(b,b-b%32,b<R(a)?Ph(a,b):null,a,b,c)}function Vh(a,b,c,d){return c<d?Wh(a,b,Te(a,c),c+1,d):b.O?b.O():b.call(null)}
function Wh(a,b,c,d,e){var f=c;c=d;for(d=Ph(a,d);;)if(c<e){var g=c&31;d=0===g?Ph(a,c):d;g=d[g];f=b.B?b.B(f,g):b.call(null,f,g);if(Ie(f))return nd(f);c+=1}else return f}function V(a,b,c,d,e,f){this.meta=a;this.J=b;this.shift=c;this.root=d;this.tail=e;this.P=f;this.F=167666463;this.T=139268}h=V.prototype;h.vc=function(a,b){return 0<=b&&b<this.J?new Xh(b,Ph(this,b)[b&31],null):null};h.toString=function(){return ge(this)};h.equiv=function(a){return this.aa(null,a)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Ve(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return Ve(this,c,d)};return b}();h.xa=function(a,b){return this.da(null,b,null)};h.da=function(a,b,c){return"number"===typeof b?this.Aa(null,b,c):c};
h.wc=function(a,b,c){a=0;for(var d=c;;)if(a<this.J){var e=Ph(this,a);c=e.length;a:for(var f=0;;)if(f<c){var g=f+a,k=e[f];d=b.C?b.C(d,g,k):b.call(null,d,g,k);if(Ie(d)){e=d;break a}f+=1}else{e=d;break a}if(Ie(e))return nd(e);a+=c;d=e}else return d};h.Be=p;h.fa=function(a,b){return Qh(this,b)[b&31]};h.Aa=function(a,b,c){return 0<=b&&b<this.J?Ph(this,b)[b&31]:c};
h.$b=function(a,b,c){if(0<=b&&b<this.J)return Lh(this)<=b?(a=Bc(this.tail),a[b&31]=c,new V(this.meta,this.J,this.shift,this.root,a,null)):new V(this.meta,this.J,this.shift,Rh(this,this.shift,this.root,b,c),this.tail,null);if(b===this.J)return this.Da(null,c);throw Error(["Index ",B.j(b)," out of bounds  [0,",B.j(this.J),"]"].join(""));};h.Cb=function(){return Uh(this,0,this.J)};h.qa=function(){return this.meta};h.Bb=function(){return new V(this.meta,this.J,this.shift,this.root,this.tail,this.P)};
h.wa=function(){return this.J};h.yc=function(){return 0<this.J?this.fa(null,this.J-1):null};h.zc=function(){if(0===this.J)throw Error("Can't pop empty vector");if(1===this.J)return qd(ff,this.meta);if(1<this.J-Lh(this))return new V(this.meta,this.J-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=Ph(this,this.J-2),b=Sh(this,this.shift,this.root);b=null==b?X:b;var c=this.J-1;return 5<this.shift&&null==b.D[1]?new V(this.meta,c,this.shift-5,b.D[0],a,null):new V(this.meta,c,this.shift,b,a,null)};
h.xc=function(){return 0<this.J?new Xe(this,this.J-1,null):null};h.sa=function(){var a=this.P;return null!=a?a:this.P=a=Ce(this)};h.aa=function(a,b){if(b instanceof V)if(this.J===R(b))for(a=this.Cb(null),b=b.Cb(null);;)if(a.Ea()){var c=a.next(),d=b.next();if(!M.B(c,d))return!1}else return!0;else return!1;else return Ye(this,b)};h.hd=function(){return new Yh(this.J,this.shift,Zh.j?Zh.j(this.root):Zh.call(null,this.root),$h.j?$h.j(this.tail):$h.call(null,this.tail))};h.Ga=function(){return qd(ff,this.meta)};
h.Sa=function(a,b){return Vh(this,b,0,this.J)};h.Ta=function(a,b,c){a=0;for(var d=c;;)if(a<this.J){var e=Ph(this,a);c=e.length;a:for(var f=0;;)if(f<c){var g=e[f];d=b.B?b.B(d,g):b.call(null,d,g);if(Ie(d)){e=d;break a}f+=1}else{e=d;break a}if(Ie(e))return nd(e);a+=c;d=e}else return d};h.kb=function(a,b,c){if("number"===typeof b)return this.$b(null,b,c);throw Error("Vector's key for assoc must be a number.");};
h.va=function(){if(0===this.J)return null;if(32>=this.J)return new ve(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.D[0];else{a=a.D;break a}}return ai?ai(this,a,0,0):bi.call(null,this,a,0,0)};h.ra=function(a,b){return b===this.meta?this:new V(b,this.J,this.shift,this.root,this.tail,this.P)};
h.Da=function(a,b){if(32>this.J-Lh(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new V(this.meta,this.J+1,this.shift,this.root,c,null)}a=(c=this.J>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=Jh(null),c.D[0]=this.root,d=Mh(null,this.shift,new Ih(null,this.tail)),c.D[1]=d):c=Nh(this,this.shift,this.root,new Ih(null,this.tail));return new V(this.meta,this.J+1,a,c,[b],null)};
h.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.fa(null,c);case 3:return this.Aa(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.B=function(b,c){return this.fa(null,c)};a.C=function(b,c,d){return this.Aa(null,c,d)};return a}();h.apply=function(a,b){return this.call.apply(this,[this].concat(Bc(b)))};h.j=function(a){return this.fa(null,a)};h.B=function(a,b){return this.Aa(null,a,b)};
var X=new Ih(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),ff=new V(null,0,5,X,[],De);function ci(a,b){var c=a.length;a=b?a:Bc(a);if(32>c)return new V(null,c,5,X,a,null);var d=a.slice(0,32);b=32;for(var e=(new V(null,32,5,X,d,null)).hd(null);;)if(b<c)d=b+1,e=zg.B(e,a[b]),b=d;else return Od(e)}V.prototype[yc]=function(){return Ae(this)};
function di(a){return y(ei.j?ei.j(a):ei.call(null,a))?new V(null,2,5,X,[fi.j?fi.j(a):fi.call(null,a),gi.j?gi.j(a):gi.call(null,a)],null):Bf(a)?sf(a,null):sc(a)?ci(a,!0):Od(Dc.C(Nd,Md(ff),a))}var mi=function mi(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ve(c.slice(0),0,null):null;return mi.G(c)};mi.G=function(a){return a instanceof ve&&0===a.i?ci(a.D,!sc(a.D)):di(a)};mi.R=0;mi.Y=function(a){return this.G(G(a))};
function ni(a,b,c,d,e,f){this.Mb=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.P=f;this.F=32375020;this.T=1536}h=ni.prototype;h.toString=function(){return ge(this)};h.equiv=function(a){return this.aa(null,a)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Ve(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return Ve(this,c,d)};return b}();h.qa=function(){return this.meta};h.Ra=function(){if(this.off+1<this.node.length){var a=this.Mb;var b=this.node,c=this.i,d=this.off+1;a=ai?ai(a,b,c,d):bi.call(null,a,b,c,d);return null==a?null:a}return this.De()};
h.sa=function(){var a=this.P;return null!=a?a:this.P=a=Ce(this)};h.aa=function(a,b){return Ye(this,b)};h.Ga=function(){return ye};h.Sa=function(a,b){return Vh(this.Mb,b,this.i+this.off,R(this.Mb))};h.Ta=function(a,b,c){return Wh(this.Mb,b,c,this.i+this.off,R(this.Mb))};h.Xa=function(){return this.node[this.off]};h.Za=function(){if(this.off+1<this.node.length){var a=this.Mb;var b=this.node,c=this.i,d=this.off+1;a=ai?ai(a,b,c,d):bi.call(null,a,b,c,d);return null==a?ye:a}return this.gd(null)};h.va=function(){return this};
h.Yd=function(){var a=this.node;return new pg(a,this.off,a.length)};h.gd=function(){var a=this.i+this.node.length;if(a<Jc(this.Mb)){var b=this.Mb,c=Ph(this.Mb,a);return ai?ai(b,c,a,0):bi.call(null,b,c,a,0)}return ye};h.ra=function(a,b){return b===this.meta?this:oi?oi(this.Mb,this.node,this.i,this.off,b):bi.call(null,this.Mb,this.node,this.i,this.off,b)};h.Da=function(a,b){return Ze(b,this)};
h.De=function(){var a=this.i+this.node.length;if(a<Jc(this.Mb)){var b=this.Mb,c=Ph(this.Mb,a);return ai?ai(b,c,a,0):bi.call(null,b,c,a,0)}return null};ni.prototype[yc]=function(){return Ae(this)};
function bi(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new ni(b,Qh(b,c),c,d,null,null);case 4:return ai(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return oi(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function ai(a,b,c,d){return new ni(a,b,c,d,null,null)}function oi(a,b,c,d,e){return new ni(a,b,c,d,e,null)}
function pi(a,b,c,d,e){this.meta=a;this.v=b;this.start=c;this.end=d;this.P=e;this.F=167666463;this.T=139264}h=pi.prototype;h.vc=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new Xh(b,$c(this.v,a),null):null};h.toString=function(){return ge(this)};h.equiv=function(a){return this.aa(null,a)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Ve(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return Ve(this,c,d)};return b}();h.xa=function(a,b){return this.da(null,b,null)};h.da=function(a,b,c){return"number"===typeof b?this.Aa(null,b,c):c};
h.wc=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=Rc(this.v,a);c=b.C?b.C(c,e,f):b.call(null,c,e,f);if(Ie(c))return nd(c);d+=1;a+=1}else return c};h.fa=function(a,b){return 0>b||this.end<=this.start+b?Oh(b,this.end-this.start):Rc(this.v,this.start+b)};h.Aa=function(a,b,c){return 0>b||this.end<=this.start+b?c:Rc(this.v,this.start+b,c)};
h.$b=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",B.j(b)," out of bounds [0,",B.j(this.wa(null)),"]"].join(""));b=this.meta;c=kf.C(this.v,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return qi.ga?qi.ga(b,c,d,a,null):qi.call(null,b,c,d,a,null)};h.Cb=function(){return null!=this.v&&p===this.v.Be?Uh(this.v,this.start,this.end):new Ug(this)};h.qa=function(){return this.meta};h.Bb=function(){return new pi(this.meta,this.v,this.start,this.end,this.P)};
h.wa=function(){return this.end-this.start};h.yc=function(){return this.start===this.end?null:Rc(this.v,this.end-1)};h.zc=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var a=this.meta,b=this.v,c=this.start,d=this.end-1;return qi.ga?qi.ga(a,b,c,d,null):qi.call(null,a,b,c,d,null)};h.xc=function(){return this.start!==this.end?new Xe(this,this.end-this.start-1,null):null};h.sa=function(){var a=this.P;return null!=a?a:this.P=a=Ce(this)};h.aa=function(a,b){return Ye(this,b)};
h.Ga=function(){return qd(ff,this.meta)};h.Sa=function(a,b){return null!=this.v&&p===this.v.Be?Vh(this.v,b,this.start,this.end):Le(this,b)};h.Ta=function(a,b,c){return null!=this.v&&p===this.v.Be?Wh(this.v,b,c,this.start,this.end):Me(this,b,c)};h.kb=function(a,b,c){if("number"===typeof b)return this.$b(null,b,c);throw Error("Subvec's key for assoc must be a number.");};h.va=function(){var a=this;return function d(c){return c===a.end?null:Ze(Rc(a.v,c),new mg(null,function(){return d(c+1)},null,null))}(a.start)};
h.ra=function(a,b){return b===this.meta?this:qi.ga?qi.ga(b,this.v,this.start,this.end,this.P):qi.call(null,b,this.v,this.start,this.end,this.P)};h.Da=function(a,b){a=this.meta;b=md(this.v,this.end,b);var c=this.start,d=this.end+1;return qi.ga?qi.ga(a,b,c,d,null):qi.call(null,a,b,c,d,null)};
h.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.fa(null,c);case 3:return this.Aa(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.B=function(b,c){return this.fa(null,c)};a.C=function(b,c,d){return this.Aa(null,c,d)};return a}();h.apply=function(a,b){return this.call.apply(this,[this].concat(Bc(b)))};h.j=function(a){return this.fa(null,a)};h.B=function(a,b){return this.Aa(null,a,b)};pi.prototype[yc]=function(){return Ae(this)};
function qi(a,b,c,d,e){for(;;)if(b instanceof pi)c=b.start+c,d=b.start+d,b=b.v;else{if(!Bf(b))throw Error("v must satisfy IVector");if(0>c||d<c||d>R(b))throw Error("Index out of bounds");return new pi(a,b,c,d,e)}}function ri(a,b,c){return qi(null,a,b|0,c|0,null)}function si(a,b){return a===b.Ha?b:new Ih(a,Bc(b.D))}function Zh(a){return new Ih({},Bc(a.D))}
function $h(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];Df(a,0,b,0,a.length);return b}var ti=function ti(a,b,c,d){c=si(a.root.Ha,c);var f=a.J-1>>>b&31;if(5===b)a=d;else{var g=c.D[f];null!=g?(b-=5,a=ti.ba?ti.ba(a,b,g,d):ti.call(null,a,b,g,d)):a=Mh(a.root.Ha,b-5,d)}c.D[f]=a;return c};function Yh(a,b,c,d){this.J=a;this.shift=b;this.root=c;this.tail=d;this.T=88;this.F=275}h=Yh.prototype;
h.kd=function(a,b){if(this.root.Ha){if(32>this.J-Lh(this))this.tail[this.J&31]=b;else{a=new Ih(this.root.Ha,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.J>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=this.shift+
5,b[0]=this.root,b[1]=Mh(this.root.Ha,this.shift,a),this.root=new Ih(this.root.Ha,b),this.shift=c):this.root=ti(this,this.shift,this.root,a)}this.J+=1;return this}throw Error("conj! after persistent!");};h.Bd=function(){if(this.root.Ha){this.root.Ha=null;var a=this.J-Lh(this),b=Array(a);Df(this.tail,0,b,0,a);return new V(null,this.J,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
h.jd=function(a,b,c){if("number"===typeof b)return ui(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function ui(a,b,c){if(a.root.Ha){if(0<=b&&b<a.J){if(Lh(a)<=b)a.tail[b&31]=c;else{var d=function k(f,g){g=si(a.root.Ha,g);if(0===f)g.D[b&31]=c;else{var l=b>>>f&31;f=k(f-5,g.D[l]);g.D[l]=f}return g}(a.shift,a.root);a.root=d}return a}if(b===a.J)return a.kd(null,c);throw Error(["Index ",B.j(b)," out of bounds for TransientVector of length",B.j(a.J)].join(""));}throw Error("assoc! after persistent!");}h.wa=function(){if(this.root.Ha)return this.J;throw Error("count after persistent!");};
h.fa=function(a,b){if(this.root.Ha)return Qh(this,b)[b&31];throw Error("nth after persistent!");};h.Aa=function(a,b,c){return 0<=b&&b<this.J?this.fa(null,b):c};h.xa=function(a,b){return this.da(null,b,null)};h.da=function(a,b,c){if(this.root.Ha)return"number"===typeof b?this.Aa(null,b,c):c;throw Error("lookup after persistent!");};
h.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.xa(null,c);case 3:return this.da(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.B=function(b,c){return this.xa(null,c)};a.C=function(b,c,d){return this.da(null,c,d)};return a}();h.apply=function(a,b){return this.call.apply(this,[this].concat(Bc(b)))};h.j=function(a){return this.xa(null,a)};h.B=function(a,b){return this.da(null,a,b)};function vi(a,b){this.md=a;this.Qd=b}
vi.prototype.Ea=function(){var a=null!=this.md&&G(this.md);return a?a:null!=this.Qd?this.Qd.Ea():!1};vi.prototype.next=function(){if(null!=this.md){var a=I(this.md);this.md=J(this.md);return a}if(null!=this.Qd&&this.Qd.Ea())return this.Qd.next();throw Error("No such element");};vi.prototype.remove=function(){return Error("Unsupported operation")};function wi(a,b,c,d){this.meta=a;this.Eb=b;this.Kb=c;this.P=d;this.F=31850700;this.T=0}h=wi.prototype;h.toString=function(){return ge(this)};
h.equiv=function(a){return this.aa(null,a)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Ve(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return Ve(this,c,d)};return b}();h.qa=function(){return this.meta};h.Ra=function(){var a=J(this.Eb);return a?new wi(this.meta,a,this.Kb,null):null!=this.Kb?new wi(this.meta,this.Kb,null,null):null};h.sa=function(){var a=this.P;return null!=a?a:this.P=a=Ce(this)};
h.aa=function(a,b){return Ye(this,b)};h.Ga=function(){return qd(ye,this.meta)};h.Xa=function(){return I(this.Eb)};h.Za=function(){var a=J(this.Eb);return a?new wi(this.meta,a,this.Kb,null):null==this.Kb?this.Ga(null):new wi(this.meta,this.Kb,null,null)};h.va=function(){return this};h.ra=function(a,b){return b===this.meta?this:new wi(b,this.Eb,this.Kb,this.P)};h.Da=function(a,b){return Ze(b,this)};wi.prototype[yc]=function(){return Ae(this)};
function xi(a,b,c,d,e){this.meta=a;this.count=b;this.Eb=c;this.Kb=d;this.P=e;this.T=139264;this.F=31858766}h=xi.prototype;h.toString=function(){return ge(this)};h.equiv=function(a){return this.aa(null,a)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Ve(this,c,this.count.j?this.count.j(this):this.count.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return Ve(this,c,d)};return b}();h.Cb=function(){return new vi(this.Eb,ce(this.Kb))};h.qa=function(){return this.meta};h.Bb=function(){return new xi(this.meta,this.count,this.Eb,this.Kb,this.P)};h.wa=function(){return this.count};
h.yc=function(){return I(this.Eb)};h.zc=function(){if(y(this.Eb)){var a=J(this.Eb);return a?new xi(this.meta,this.count-1,a,this.Kb,null):new xi(this.meta,this.count-1,G(this.Kb),ff,null)}return this};h.sa=function(){var a=this.P;return null!=a?a:this.P=a=Ce(this)};h.aa=function(a,b){return Ye(this,b)};h.Ga=function(){return qd(yi,this.meta)};h.Xa=function(){return I(this.Eb)};h.Za=function(){return xe(G(this))};
h.va=function(){var a=G(this.Kb),b=this.Eb;return y(y(b)?b:a)?new wi(null,this.Eb,G(a),null):null};h.ra=function(a,b){return b===this.meta?this:new xi(b,this.count,this.Eb,this.Kb,this.P)};h.Da=function(a,b){y(this.Eb)?(a=this.Kb,b=new xi(this.meta,this.count+1,this.Eb,ef.B(y(a)?a:ff,b),null)):b=new xi(this.meta,this.count+1,ef.B(this.Eb,b),ff,null);return b};var yi=new xi(null,0,null,ff,De);xi.prototype[yc]=function(){return Ae(this)};function zi(){this.F=2097152;this.T=0}
zi.prototype.equiv=function(a){return this.aa(null,a)};zi.prototype.aa=function(){return!1};var Ai=new zi;function Bi(a,b){return Gf(zf(b)&&!Af(b)?R(a)===R(b)?(null!=a?a.F&1048576||p===a.vh||(a.F?0:uc(vd,a)):uc(vd,a))?Rf(function(c,d,e){return M.B(C.C(b,d,Ai),e)?!0:new He(!1)},!0,a):dh(function(c){return M.B(C.C(b,I(c),Ai),I(J(c)))},a):null:null)}function Ci(a,b,c,d){this.i=0;this.ih=a;this.Bf=b;this.fields=c;this.Pf=d}Ci.prototype.Ea=function(){var a=this.i<this.Bf;return a?a:this.Pf.Ea()};
Ci.prototype.next=function(){if(this.i<this.Bf){var a=Te(this.fields,this.i);this.i+=1;return new Xh(a,$c(this.ih,a),null)}return this.Pf.next()};Ci.prototype.remove=function(){return Error("Unsupported operation")};function Di(a){this.s=a}Di.prototype.next=function(){if(null!=this.s){var a=I(this.s),b=S(a,0,null);a=S(a,1,null);this.s=J(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function Ei(a){this.s=a}
Ei.prototype.next=function(){if(null!=this.s){var a=I(this.s);this.s=J(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function Fi(a,b){if(b instanceof D)a:{var c=a.length;b=b.Ia;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof D&&b===a[d].Ia){a=d;break a}d+=2}}else if("string"==typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof se)a:for(c=a.length,b=b.Gb,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof se&&b===a[d].Gb){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(M.B(b,a[d])){a=d;break a}d+=2}return a}function Xh(a,b,c){this.key=a;this.I=b;this.P=c;this.F=166619935;this.T=0}h=Xh.prototype;h.vc=function(a,b){switch(b){case 0:return new Xh(0,this.key,null);case 1:return new Xh(1,this.I,null);default:return null}};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Ve(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return Ve(this,c,d)};return b}();h.xa=function(a,b){return this.Aa(null,b,null)};h.da=function(a,b,c){return this.Aa(null,b,c)};h.fa=function(a,b){if(0===b)return this.key;if(1===b)return this.I;throw Error("Index out of bounds");};
h.Aa=function(a,b,c){return 0===b?this.key:1===b?this.I:c};h.$b=function(a,b,c){return(new V(null,2,5,X,[this.key,this.I],null)).$b(null,b,c)};h.qa=function(){return null};h.wa=function(){return 2};h.Ge=function(){return this.key};h.He=function(){return this.I};h.yc=function(){return this.I};h.zc=function(){return new V(null,1,5,X,[this.key],null)};h.xc=function(){return new ve([this.I,this.key],0,null)};h.sa=function(){var a=this.P;return null!=a?a:this.P=a=Ce(this)};
h.aa=function(a,b){return Ye(this,b)};h.Ga=function(){return null};h.Sa=function(a,b){return Le(this,b)};h.Ta=function(a,b,c){return Me(this,b,c)};h.kb=function(a,b,c){return kf.C(new V(null,2,5,X,[this.key,this.I],null),b,c)};h.va=function(){return new ve([this.key,this.I],0,null)};h.ra=function(a,b){return sf(new V(null,2,5,X,[this.key,this.I],null),b)};h.Da=function(a,b){return new V(null,3,5,X,[this.key,this.I,b],null)};
h.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.fa(null,c);case 3:return this.Aa(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.B=function(b,c){return this.fa(null,c)};a.C=function(b,c,d){return this.Aa(null,c,d)};return a}();h.apply=function(a,b){return this.call.apply(this,[this].concat(Bc(b)))};h.j=function(a){return this.fa(null,a)};h.B=function(a,b){return this.Aa(null,a,b)};
function ei(a){return null!=a?a.F&2048||p===a.yh?!0:!1:!1}function Gi(a,b,c){this.D=a;this.i=b;this.nc=c;this.F=32374990;this.T=0}h=Gi.prototype;h.toString=function(){return ge(this)};h.equiv=function(a){return this.aa(null,a)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Ve(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return Ve(this,c,d)};return b}();h.qa=function(){return this.nc};h.Ra=function(){return this.i<this.D.length-2?new Gi(this.D,this.i+2,null):null};h.wa=function(){return(this.D.length-this.i)/2};h.sa=function(){return Ce(this)};
h.aa=function(a,b){return Ye(this,b)};h.Ga=function(){return ye};h.Sa=function(a,b){return af(b,this)};h.Ta=function(a,b,c){return cf(b,c,this)};h.Xa=function(){return new Xh(this.D[this.i],this.D[this.i+1],null)};h.Za=function(){return this.i<this.D.length-2?new Gi(this.D,this.i+2,null):ye};h.va=function(){return this};h.ra=function(a,b){return b===this.nc?this:new Gi(this.D,this.i,b)};h.Da=function(a,b){return Ze(b,this)};Gi.prototype[yc]=function(){return Ae(this)};
function Hi(a,b){this.D=a;this.i=0;this.J=b}Hi.prototype.Ea=function(){return this.i<this.J};Hi.prototype.next=function(){var a=new Xh(this.D[this.i],this.D[this.i+1],null);this.i+=2;return a};function t(a,b,c,d){this.meta=a;this.J=b;this.D=c;this.P=d;this.F=16647951;this.T=139268}h=t.prototype;h.vc=function(a,b){a=Fi(this.D,b);return-1===a?null:new Xh(this.D[a],this.D[a+1],null)};h.toString=function(){return ge(this)};h.equiv=function(a){return this.aa(null,a)};
h.keys=function(){return Ae(Ii.j?Ii.j(this):Ii.call(null,this))};h.entries=function(){return new Di(G(G(this)))};h.values=function(){return Ae(Ji.j?Ji.j(this):Ji.call(null,this))};h.has=function(a){return If(this,a)};h.get=function(a,b){return this.da(null,a,b)};
h.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.fa(null,e),g=S(f,0,null);f=S(f,1,null);a.B?a.B(f,g):a.call(null,f,g);e+=1}else if(b=G(b))Cf(b)?(c=Ud(b),b=Vd(b),g=c,d=R(c),c=g):(c=I(b),g=S(c,0,null),f=S(c,1,null),a.B?a.B(f,g):a.call(null,f,g),b=J(b),c=null,d=0),e=0;else return null};h.xa=function(a,b){return this.da(null,b,null)};h.da=function(a,b,c){a=Fi(this.D,b);return-1===a?c:this.D[a+1]};
h.wc=function(a,b,c){a=this.D.length;for(var d=0;;)if(d<a){var e=this.D[d],f=this.D[d+1];c=b.C?b.C(c,e,f):b.call(null,c,e,f);if(Ie(c))return nd(c);d+=2}else return c};h.Cb=function(){return new Hi(this.D,2*this.J)};h.qa=function(){return this.meta};h.Bb=function(){return new t(this.meta,this.J,this.D,this.P)};h.wa=function(){return this.J};h.sa=function(){var a=this.P;return null!=a?a:this.P=a=Ee(this)};
h.aa=function(a,b){if(zf(b)&&!Af(b))if(a=this.D.length,this.J===b.wa(null))for(var c=0;;)if(c<a){var d=b.da(null,this.D[c],Ef);if(d!==Ef)if(M.B(this.D[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};h.hd=function(){return new Ki(this.D.length,Bc(this.D))};h.Ga=function(){return qd(Pg,this.meta)};h.Sa=function(a,b){return Pf(this,b)};h.Ta=function(a,b,c){return Qf(this,b,c)};
h.Sc=function(a,b){if(0<=Fi(this.D,b)){a=this.D.length;var c=a-2;if(0===c)return this.Ga(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new t(this.meta,this.J-1,c,null);M.B(b,this.D[d])?d+=2:(c[e]=this.D[d],c[e+1]=this.D[d+1],e+=2,d+=2)}}else return this};
h.kb=function(a,b,c){a=Fi(this.D,b);if(-1===a){if(this.J<Li){a=this.D;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new t(this.meta,this.J+1,e,null)}return qd(bd(Bh.B(Mi,this),b,c),this.meta)}if(c===this.D[a+1])return this;b=Bc(this.D);b[a+1]=c;return new t(this.meta,this.J,b,null)};h.va=function(){var a=this.D;return 0<=a.length-2?new Gi(a,0,null):null};h.ra=function(a,b){return b===this.meta?this:new t(b,this.J,this.D,this.P)};
h.Da=function(a,b){if(Bf(b))return this.kb(null,Rc(b,0),Rc(b,1));a=this;for(b=G(b);;){if(null==b)return a;var c=I(b);if(Bf(c))a=bd(a,Rc(c,0),Rc(c,1)),b=J(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
h.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.xa(null,c);case 3:return this.da(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.B=function(b,c){return this.xa(null,c)};a.C=function(b,c,d){return this.da(null,c,d)};return a}();h.apply=function(a,b){return this.call.apply(this,[this].concat(Bc(b)))};h.j=function(a){return this.xa(null,a)};h.B=function(a,b){return this.da(null,a,b)};var Pg=new t(null,0,[],Fe),Li=8;
function Ni(a,b,c){a=b?a:Bc(a);if(!c){c=[];for(b=0;;)if(b<a.length){var d=a[b],e=a[b+1];-1===Fi(c,d)&&(c.push(d),c.push(e));b+=2}else break;a=c}return new t(null,a.length/2,a,null)}function lf(a){for(var b=[],c=0;;)if(c<a.length){var d=a[c],e=a[c+1],f=Fi(b,d);-1===f?(f=b,f.push(d),f.push(e)):b[f+1]=e;c+=2}else break;return new t(null,b.length/2,b,null)}t.prototype[yc]=function(){return Ae(this)};function Ki(a,b){this.Xc={};this.ec=a;this.D=b;this.F=259;this.T=56}h=Ki.prototype;
h.wa=function(){if(this.Xc)return Zf(this.ec,2);throw Error("count after persistent!");};h.xa=function(a,b){return this.da(null,b,null)};h.da=function(a,b,c){if(this.Xc)return a=Fi(this.D,b),-1===a?c:this.D[a+1];throw Error("lookup after persistent!");};
h.kd=function(a,b){if(this.Xc){if(ei(b))return this.jd(null,fi.j?fi.j(b):fi.call(null,b),gi.j?gi.j(b):gi.call(null,b));if(Bf(b))return this.jd(null,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));a=G(b);for(b=this;;){var c=I(a);if(y(c))a=J(a),b=Pd(b,fi.j?fi.j(c):fi.call(null,c),gi.j?gi.j(c):gi.call(null,c));else return b}}else throw Error("conj! after persistent!");};h.Bd=function(){if(this.Xc)return this.Xc=!1,new t(null,Zf(this.ec,2),this.D,null);throw Error("persistent! called twice");};
h.jd=function(a,b,c){if(this.Xc){a=Fi(this.D,b);if(-1===a)return this.ec+2<=2*Li?(this.ec+=2,this.D.push(b),this.D.push(c),this):Ag(Oi.B?Oi.B(this.ec,this.D):Oi.call(null,this.ec,this.D),b,c);c!==this.D[a+1]&&(this.D[a+1]=c);return this}throw Error("assoc! after persistent!");};h.Oe=function(a,b){if(this.Xc)return a=Fi(this.D,b),0<=a&&(this.D[a]=this.D[this.ec-2],this.D[a+1]=this.D[this.ec-1],a=this.D,a.pop(),a.pop(),this.ec-=2),this;throw Error("dissoc! after persistent!");};
h.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.da(null,c,null);case 3:return this.da(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.B=function(b,c){return this.da(null,c,null)};a.C=function(b,c,d){return this.da(null,c,d)};return a}();h.apply=function(a,b){return this.call.apply(this,[this].concat(Bc(b)))};h.j=function(a){return this.da(null,a,null)};h.B=function(a,b){return this.da(null,a,b)};
function Oi(a,b){for(var c=Md(Mi),d=0;;)if(d<a)c=Pd(c,b[d],b[d+1]),d+=2;else return c}function Pi(){this.I=!1}function Qi(a,b){return a===b?!0:T(a,b)?!0:M.B(a,b)}function Ri(a,b,c){a=Bc(a);a[b]=c;return a}function Si(a,b){var c=Array(a.length-2);Df(a,0,c,0,2*b);Df(a,2*(b+1),c,2*b,c.length-2*b);return c}function Ti(a,b,c,d){a=a.Ec(b);a.D[c]=d;return a}
function Ui(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var g=a[e+1];c=b.C?b.C(f,c,g):b.call(null,f,c,g)}else c=a[e+1],c=null!=c?c.cd(b,f):f;if(Ie(c))return c;e+=2;f=c}else return f}function Vi(a){this.D=a;this.i=0;this.hc=this.Od=null}Vi.prototype.advance=function(){for(var a=this.D.length;;)if(this.i<a){var b=this.D[this.i],c=this.D[this.i+1];null!=b?b=this.Od=new Xh(b,c,null):null!=c?(b=ce(c),b=b.Ea()?this.hc=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};
Vi.prototype.Ea=function(){var a=null!=this.Od;return a?a:(a=null!=this.hc)?a:this.advance()};Vi.prototype.next=function(){if(null!=this.Od){var a=this.Od;this.Od=null;return a}if(null!=this.hc)return a=this.hc.next(),this.hc.Ea()||(this.hc=null),a;if(this.advance())return this.next();throw Error("No such element");};Vi.prototype.remove=function(){return Error("Unsupported operation")};function Wi(a,b,c){this.Ha=a;this.bitmap=b;this.D=c;this.T=131072;this.F=0}h=Wi.prototype;
h.Ec=function(a){if(a===this.Ha)return this;var b=$f(this.bitmap),c=Array(0>b?4:2*(b+1));Df(this.D,0,c,0,2*b);return new Wi(a,this.bitmap,c)};h.Nd=function(a,b,c,d,e){var f=1<<(c>>>b&31);if(0===(this.bitmap&f))return this;var g=$f(this.bitmap&f-1),k=this.D[2*g],l=this.D[2*g+1];return null==k?(b=l.Nd(a,b+5,c,d,e),b===l?this:null!=b?Ti(this,a,2*g+1,b):this.bitmap===f?null:Xi(this,a,f,g)):Qi(d,k)?(e.I=!0,Xi(this,a,f,g)):this};
function Xi(a,b,c,d){if(a.bitmap===c)return null;a=a.Ec(b);b=a.D;var e=b.length;a.bitmap^=c;Df(b,2*(d+1),b,2*d,e-2*(d+1));b[e-2]=null;b[e-1]=null;return a}h.Ld=function(){return Yi?Yi(this.D):Zi.call(null,this.D)};h.cd=function(a,b){return Ui(this.D,a,b)};h.ad=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=$f(this.bitmap&e-1);e=this.D[2*f];f=this.D[2*f+1];return null==e?f.ad(a+5,b,c,d):Qi(c,e)?f:d};
h.dc=function(a,b,c,d,e,f){var g=1<<(c>>>b&31),k=$f(this.bitmap&g-1);if(0===(this.bitmap&g)){var l=$f(this.bitmap);if(2*l<this.D.length){a=this.Ec(a);b=a.D;f.I=!0;c=2*(l-k);f=2*k+(c-1);for(l=2*(k+1)+(c-1);0!==c;)b[l]=b[f],--l,--c,--f;b[2*k]=d;b[2*k+1]=e;a.bitmap|=g;return a}if(16<=l){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=$i.dc(a,b+5,c,d,e,f);for(e=d=0;;)if(32>d)0===
(this.bitmap>>>d&1)?d+=1:(k[d]=null!=this.D[e]?$i.dc(a,b+5,pe(this.D[e]),this.D[e],this.D[e+1],f):this.D[e+1],e+=2,d+=1);else break;return new aj(a,l+1,k)}b=Array(2*(l+4));Df(this.D,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;Df(this.D,2*k,b,2*(k+1),2*(l-k));f.I=!0;a=this.Ec(a);a.D=b;a.bitmap|=g;return a}l=this.D[2*k];g=this.D[2*k+1];if(null==l)return l=g.dc(a,b+5,c,d,e,f),l===g?this:Ti(this,a,2*k+1,l);if(Qi(d,l))return e===g?this:Ti(this,a,2*k+1,e);f.I=!0;f=b+5;d=bj?bj(a,f,l,g,c,d,e):cj.call(null,a,f,l,g,c,d,
e);e=2*k;k=2*k+1;a=this.Ec(a);a.D[e]=null;a.D[k]=d;return a};
h.cc=function(a,b,c,d,e){var f=1<<(b>>>a&31),g=$f(this.bitmap&f-1);if(0===(this.bitmap&f)){var k=$f(this.bitmap);if(16<=k){g=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];g[b>>>a&31]=$i.cc(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.bitmap>>>c&1)?c+=1:(g[c]=null!=this.D[d]?$i.cc(a+5,pe(this.D[d]),this.D[d],this.D[d+1],e):this.D[d+1],d+=2,c+=1);else break;return new aj(null,k+1,g)}a=Array(2*
(k+1));Df(this.D,0,a,0,2*g);a[2*g]=c;a[2*g+1]=d;Df(this.D,2*g,a,2*(g+1),2*(k-g));e.I=!0;return new Wi(null,this.bitmap|f,a)}var l=this.D[2*g];f=this.D[2*g+1];if(null==l)return k=f.cc(a+5,b,c,d,e),k===f?this:new Wi(null,this.bitmap,Ri(this.D,2*g+1,k));if(Qi(c,l))return d===f?this:new Wi(null,this.bitmap,Ri(this.D,2*g+1,d));e.I=!0;e=this.bitmap;k=this.D;a+=5;a=dj?dj(a,l,f,b,c,d):cj.call(null,a,l,f,b,c,d);c=2*g;g=2*g+1;d=Bc(k);d[c]=null;d[g]=a;return new Wi(null,e,d)};
h.Kd=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=$f(this.bitmap&e-1);e=this.D[2*f];f=this.D[2*f+1];return null==e?f.Kd(a+5,b,c,d):Qi(c,e)?new Xh(e,f,null):d};
h.Md=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.bitmap&d))return this;var e=$f(this.bitmap&d-1),f=this.D[2*e],g=this.D[2*e+1];return null==f?(a=g.Md(a+5,b,c),a===g?this:null!=a?new Wi(null,this.bitmap,Ri(this.D,2*e+1,a)):this.bitmap===d?null:new Wi(null,this.bitmap^d,Si(this.D,e))):Qi(c,f)?new Wi(null,this.bitmap^d,Si(this.D,e)):this};h.Cb=function(){return new Vi(this.D)};var $i=new Wi(null,0,[]);
function ej(a,b,c){var d=a.D,e=d.length;a=Array(2*(a.J-1));for(var f=0,g=1,k=0;;)if(f<e)f!==c&&null!=d[f]?(a[g]=d[f],g+=2,k|=1<<f,f+=1):f+=1;else return new Wi(b,k,a)}function fj(a){this.D=a;this.i=0;this.hc=null}fj.prototype.Ea=function(){for(var a=this.D.length;;){if(null!=this.hc&&this.hc.Ea())return!0;if(this.i<a){var b=this.D[this.i];this.i+=1;null!=b&&(this.hc=ce(b))}else return!1}};fj.prototype.next=function(){if(this.Ea())return this.hc.next();throw Error("No such element");};
fj.prototype.remove=function(){return Error("Unsupported operation")};function aj(a,b,c){this.Ha=a;this.J=b;this.D=c;this.T=131072;this.F=0}h=aj.prototype;h.Ec=function(a){return a===this.Ha?this:new aj(a,this.J,Bc(this.D))};h.Nd=function(a,b,c,d,e){var f=c>>>b&31,g=this.D[f];if(null==g)return this;b=g.Nd(a,b+5,c,d,e);if(b===g)return this;if(null==b){if(8>=this.J)return ej(this,a,f);a=Ti(this,a,f,b);--a.J;return a}return Ti(this,a,f,b)};h.Ld=function(){return gj?gj(this.D):hj.call(null,this.D)};
h.cd=function(a,b){for(var c=this.D.length,d=0;;)if(d<c){var e=this.D[d];if(null!=e){b=e.cd(a,b);if(Ie(b))return b;d+=1}else d+=1}else return b};h.ad=function(a,b,c,d){var e=this.D[b>>>a&31];return null!=e?e.ad(a+5,b,c,d):d};h.dc=function(a,b,c,d,e,f){var g=c>>>b&31,k=this.D[g];if(null==k)return a=Ti(this,a,g,$i.dc(a,b+5,c,d,e,f)),a.J+=1,a;b=k.dc(a,b+5,c,d,e,f);return b===k?this:Ti(this,a,g,b)};
h.cc=function(a,b,c,d,e){var f=b>>>a&31,g=this.D[f];if(null==g)return new aj(null,this.J+1,Ri(this.D,f,$i.cc(a+5,b,c,d,e)));a=g.cc(a+5,b,c,d,e);return a===g?this:new aj(null,this.J,Ri(this.D,f,a))};h.Kd=function(a,b,c,d){var e=this.D[b>>>a&31];return null!=e?e.Kd(a+5,b,c,d):d};h.Md=function(a,b,c){var d=b>>>a&31,e=this.D[d];return null!=e?(a=e.Md(a+5,b,c),a===e?this:null==a?8>=this.J?ej(this,null,d):new aj(null,this.J-1,Ri(this.D,d,a)):new aj(null,this.J,Ri(this.D,d,a))):this};h.Cb=function(){return new fj(this.D)};
function ij(a,b,c){b*=2;for(var d=0;;)if(d<b){if(Qi(c,a[d]))return d;d+=2}else return-1}function jj(a,b,c,d){this.Ha=a;this.Bc=b;this.J=c;this.D=d;this.T=131072;this.F=0}h=jj.prototype;h.Ec=function(a){if(a===this.Ha)return this;var b=Array(2*(this.J+1));Df(this.D,0,b,0,2*this.J);return new jj(a,this.Bc,this.J,b)};
h.Nd=function(a,b,c,d,e){b=ij(this.D,this.J,d);if(-1===b)return this;e.I=!0;if(1===this.J)return null;a=this.Ec(a);e=a.D;e[b]=e[2*this.J-2];e[b+1]=e[2*this.J-1];e[2*this.J-1]=null;e[2*this.J-2]=null;--a.J;return a};h.Ld=function(){return Yi?Yi(this.D):Zi.call(null,this.D)};h.cd=function(a,b){return Ui(this.D,a,b)};h.ad=function(a,b,c,d){a=ij(this.D,this.J,c);return 0>a?d:Qi(c,this.D[a])?this.D[a+1]:d};
h.dc=function(a,b,c,d,e,f){if(c===this.Bc){b=ij(this.D,this.J,d);if(-1===b){if(this.D.length>2*this.J)return b=2*this.J,c=2*this.J+1,a=this.Ec(a),a.D[b]=d,a.D[c]=e,f.I=!0,a.J+=1,a;c=this.D.length;b=Array(c+2);Df(this.D,0,b,0,c);b[c]=d;b[c+1]=e;f.I=!0;d=this.J+1;a===this.Ha?(this.D=b,this.J=d,a=this):a=new jj(this.Ha,this.Bc,d,b);return a}return this.D[b+1]===e?this:Ti(this,a,b+1,e)}return(new Wi(a,1<<(this.Bc>>>b&31),[null,this,null,null])).dc(a,b,c,d,e,f)};
h.cc=function(a,b,c,d,e){return b===this.Bc?(a=ij(this.D,this.J,c),-1===a?(a=2*this.J,b=Array(a+2),Df(this.D,0,b,0,a),b[a]=c,b[a+1]=d,e.I=!0,new jj(null,this.Bc,this.J+1,b)):M.B(this.D[a+1],d)?this:new jj(null,this.Bc,this.J,Ri(this.D,a+1,d))):(new Wi(null,1<<(this.Bc>>>a&31),[null,this])).cc(a,b,c,d,e)};h.Kd=function(a,b,c,d){a=ij(this.D,this.J,c);return 0>a?d:Qi(c,this.D[a])?new Xh(this.D[a],this.D[a+1],null):d};
h.Md=function(a,b,c){a=ij(this.D,this.J,c);return-1===a?this:1===this.J?null:new jj(null,this.Bc,this.J-1,Si(this.D,Zf(a,2)))};h.Cb=function(){return new Vi(this.D)};function cj(a){switch(arguments.length){case 6:return dj(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return bj(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}
function dj(a,b,c,d,e,f){var g=pe(b);if(g===d)return new jj(null,g,2,[b,c,e,f]);var k=new Pi;return $i.cc(a,g,b,c,k).cc(a,d,e,f,k)}function bj(a,b,c,d,e,f,g){var k=pe(c);if(k===e)return new jj(null,k,2,[c,d,f,g]);var l=new Pi;return $i.dc(a,b,k,c,d,l).dc(a,b,e,f,g,l)}function kj(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.P=e;this.F=32374988;this.T=0}h=kj.prototype;h.toString=function(){return ge(this)};h.equiv=function(a){return this.aa(null,a)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Ve(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return Ve(this,c,d)};return b}();h.qa=function(){return this.meta};h.Ra=function(){if(null==this.s){var a=this.nodes,b=this.i+2;return lj?lj(a,b,null):Zi.call(null,a,b,null)}a=this.nodes;b=this.i;var c=J(this.s);return lj?lj(a,b,c):Zi.call(null,a,b,c)};
h.sa=function(){var a=this.P;return null!=a?a:this.P=a=Ce(this)};h.aa=function(a,b){return Ye(this,b)};h.Ga=function(){return ye};h.Sa=function(a,b){return af(b,this)};h.Ta=function(a,b,c){return cf(b,c,this)};h.Xa=function(){return null==this.s?new Xh(this.nodes[this.i],this.nodes[this.i+1],null):I(this.s)};
h.Za=function(){var a=this,b=null==a.s?function(){var c=a.nodes,d=a.i+2;return lj?lj(c,d,null):Zi.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=J(a.s);return lj?lj(c,d,e):Zi.call(null,c,d,e)}();return null!=b?b:ye};h.va=function(){return this};h.ra=function(a,b){return b===this.meta?this:new kj(b,this.nodes,this.i,this.s,this.P)};h.Da=function(a,b){return Ze(b,this)};kj.prototype[yc]=function(){return Ae(this)};
function Zi(a){switch(arguments.length){case 1:return Yi(arguments[0]);case 3:return lj(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function Yi(a){return lj(a,0,null)}function lj(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new kj(null,a,b,null,null);var d=a[b+1];if(y(d)&&(d=d.Ld(),y(d)))return new kj(null,a,b+2,d,null);b+=2}else return null;else return new kj(null,a,b,c,null)}
function mj(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.P=e;this.F=32374988;this.T=0}h=mj.prototype;h.toString=function(){return ge(this)};h.equiv=function(a){return this.aa(null,a)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Ve(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return Ve(this,c,d)};return b}();h.qa=function(){return this.meta};h.Ra=function(){var a=this.nodes,b=this.i,c=J(this.s);return nj?nj(a,b,c):hj.call(null,a,b,c)};h.sa=function(){var a=this.P;return null!=a?a:this.P=a=Ce(this)};
h.aa=function(a,b){return Ye(this,b)};h.Ga=function(){return ye};h.Sa=function(a,b){return af(b,this)};h.Ta=function(a,b,c){return cf(b,c,this)};h.Xa=function(){return I(this.s)};h.Za=function(){var a=this.nodes;var b=this.i,c=J(this.s);a=nj?nj(a,b,c):hj.call(null,a,b,c);return null!=a?a:ye};h.va=function(){return this};h.ra=function(a,b){return b===this.meta?this:new mj(b,this.nodes,this.i,this.s,this.P)};h.Da=function(a,b){return Ze(b,this)};mj.prototype[yc]=function(){return Ae(this)};
function hj(a){switch(arguments.length){case 1:return gj(arguments[0]);case 3:return nj(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function gj(a){return nj(a,0,null)}function nj(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(y(d)&&(d=d.Ld(),y(d)))return new mj(null,a,b+1,d,null);b+=1}else return null;else return new mj(null,a,b,c,null)}function oj(a,b){this.jb=a;this.ig=b;this.seen=!1}
oj.prototype.Ea=function(){return!this.seen||this.ig.Ea()};oj.prototype.next=function(){if(this.seen)return this.ig.next();this.seen=!0;return new Xh(null,this.jb,null)};oj.prototype.remove=function(){return Error("Unsupported operation")};function pj(a,b,c,d,e,f){this.meta=a;this.J=b;this.root=c;this.gb=d;this.jb=e;this.P=f;this.F=16123663;this.T=139268}h=pj.prototype;h.vc=function(a,b){return null==b?this.gb?new Xh(null,this.jb,null):null:null==this.root?null:this.root.Kd(0,pe(b),b,null)};
h.toString=function(){return ge(this)};h.equiv=function(a){return this.aa(null,a)};h.keys=function(){return Ae(Ii.j?Ii.j(this):Ii.call(null,this))};h.entries=function(){return new Di(G(G(this)))};h.values=function(){return Ae(Ji.j?Ji.j(this):Ji.call(null,this))};h.has=function(a){return If(this,a)};h.get=function(a,b){return this.da(null,a,b)};
h.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.fa(null,e),g=S(f,0,null);f=S(f,1,null);a.B?a.B(f,g):a.call(null,f,g);e+=1}else if(b=G(b))Cf(b)?(c=Ud(b),b=Vd(b),g=c,d=R(c),c=g):(c=I(b),g=S(c,0,null),f=S(c,1,null),a.B?a.B(f,g):a.call(null,f,g),b=J(b),c=null,d=0),e=0;else return null};h.xa=function(a,b){return this.da(null,b,null)};h.da=function(a,b,c){return null==b?this.gb?this.jb:c:null==this.root?c:this.root.ad(0,pe(b),b,c)};
h.wc=function(a,b,c){a=this.gb?b.C?b.C(c,null,this.jb):b.call(null,c,null,this.jb):c;return Ie(a)?nd(a):null!=this.root?Je(this.root.cd(b,a)):a};h.Cb=function(){var a=this.root?ce(this.root):Og();return this.gb?new oj(this.jb,a):a};h.qa=function(){return this.meta};h.Bb=function(){return new pj(this.meta,this.J,this.root,this.gb,this.jb,this.P)};h.wa=function(){return this.J};h.sa=function(){var a=this.P;return null!=a?a:this.P=a=Ee(this)};h.aa=function(a,b){return Bi(this,b)};
h.hd=function(){return new qj(this.root,this.J,this.gb,this.jb)};h.Ga=function(){return qd(Mi,this.meta)};h.Sc=function(a,b){if(null==b)return this.gb?new pj(this.meta,this.J-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.Md(0,pe(b),b);return a===this.root?this:new pj(this.meta,this.J-1,a,this.gb,this.jb,null)};
h.kb=function(a,b,c){if(null==b)return this.gb&&c===this.jb?this:new pj(this.meta,this.gb?this.J:this.J+1,this.root,!0,c,null);a=new Pi;b=(null==this.root?$i:this.root).cc(0,pe(b),b,c,a);return b===this.root?this:new pj(this.meta,a.I?this.J+1:this.J,b,this.gb,this.jb,null)};h.va=function(){if(0<this.J){var a=null!=this.root?this.root.Ld():null;return this.gb?Ze(new Xh(null,this.jb,null),a):a}return null};h.ra=function(a,b){return b===this.meta?this:new pj(b,this.J,this.root,this.gb,this.jb,this.P)};
h.Da=function(a,b){if(Bf(b))return this.kb(null,Rc(b,0),Rc(b,1));a=this;for(b=G(b);;){if(null==b)return a;var c=I(b);if(Bf(c))a=bd(a,Rc(c,0),Rc(c,1)),b=J(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
h.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.xa(null,c);case 3:return this.da(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.B=function(b,c){return this.xa(null,c)};a.C=function(b,c,d){return this.da(null,c,d)};return a}();h.apply=function(a,b){return this.call.apply(this,[this].concat(Bc(b)))};h.j=function(a){return this.xa(null,a)};h.B=function(a,b){return this.da(null,a,b)};var Mi=new pj(null,0,null,!1,null,Fe);
function rj(a,b){for(var c=a.length,d=0,e=Md(Mi);;)if(d<c){var f=d+1;e=Pd(e,a[d],b[d]);d=f}else return Od(e)}pj.prototype[yc]=function(){return Ae(this)};function qj(a,b,c,d){this.Ha={};this.root=a;this.count=b;this.gb=c;this.jb=d;this.F=259;this.T=56}function sj(a,b,c){if(a.Ha){if(null==b)a.jb!==c&&(a.jb=c),a.gb||(a.count+=1,a.gb=!0);else{var d=new Pi;b=(null==a.root?$i:a.root).dc(a.Ha,0,pe(b),b,c,d);b!==a.root&&(a.root=b);d.I&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}h=qj.prototype;
h.wa=function(){if(this.Ha)return this.count;throw Error("count after persistent!");};h.xa=function(a,b){return null==b?this.gb?this.jb:null:null==this.root?null:this.root.ad(0,pe(b),b)};h.da=function(a,b,c){return null==b?this.gb?this.jb:c:null==this.root?c:this.root.ad(0,pe(b),b,c)};
h.kd=function(a,b){a:if(this.Ha)if(ei(b))a=sj(this,fi.j?fi.j(b):fi.call(null,b),gi.j?gi.j(b):gi.call(null,b));else if(Bf(b))a=sj(this,b.j?b.j(0):b.call(null,0),b.j?b.j(1):b.call(null,1));else for(a=G(b),b=this;;){var c=I(a);if(y(c))a=J(a),b=sj(b,fi.j?fi.j(c):fi.call(null,c),gi.j?gi.j(c):gi.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
h.Bd=function(){if(this.Ha){this.Ha=null;var a=new pj(null,this.count,this.root,this.gb,this.jb,null)}else throw Error("persistent! called twice");return a};h.jd=function(a,b,c){return sj(this,b,c)};h.Oe=function(a,b){if(this.Ha)null==b?this.gb&&(this.gb=!1,this.jb=null,--this.count):null!=this.root&&(a=new Pi,b=this.root.Nd(this.Ha,0,pe(b),b,a),b!==this.root&&(this.root=b),a.I&&--this.count);else throw Error("dissoc! after persistent!");return this};
h.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.xa(null,c);case 3:return this.da(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.B=function(b,c){return this.xa(null,c)};a.C=function(b,c,d){return this.da(null,c,d)};return a}();h.apply=function(a,b){return this.call.apply(this,[this].concat(Bc(b)))};h.j=function(a){return this.xa(null,a)};h.B=function(a,b){return this.da(null,a,b)};
function tj(a,b,c){for(var d=b;;)if(null!=a)b=c?a.left:a.right,d=ef.B(d,a),a=b;else return d}function uj(a,b,c,d,e){this.meta=a;this.stack=b;this.Qc=c;this.J=d;this.P=e;this.F=32374990;this.T=0}h=uj.prototype;h.toString=function(){return ge(this)};h.equiv=function(a){return this.aa(null,a)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Ve(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return Ve(this,c,d)};return b}();h.qa=function(){return this.meta};h.Ra=function(){var a=I(this.stack);a=tj(this.Qc?a.right:a.left,J(this.stack),this.Qc);return null==a?null:new uj(null,a,this.Qc,this.J-1,null)};
h.wa=function(){return 0>this.J?R(J(this))+1:this.J};h.sa=function(){var a=this.P;return null!=a?a:this.P=a=Ce(this)};h.aa=function(a,b){return Ye(this,b)};h.Ga=function(){return ye};h.Sa=function(a,b){return af(b,this)};h.Ta=function(a,b,c){return cf(b,c,this)};h.Xa=function(){var a=this.stack;return null==a?null:jd(a)};h.Za=function(){var a=I(this.stack);a=tj(this.Qc?a.right:a.left,J(this.stack),this.Qc);return null!=a?new uj(null,a,this.Qc,this.J-1,null):ye};h.va=function(){return this};
h.ra=function(a,b){return b===this.meta?this:new uj(b,this.stack,this.Qc,this.J,this.P)};h.Da=function(a,b){return Ze(b,this)};uj.prototype[yc]=function(){return Ae(this)};function vj(a,b,c){return new uj(null,tj(a,null,b),b,c,null)}function wj(a,b,c,d){return c instanceof xj?c.left instanceof xj?new xj(c.key,c.I,c.left.uc(),new yj(a,b,c.right,d)):c.right instanceof xj?new xj(c.right.key,c.right.I,new yj(c.key,c.I,c.left,c.right.left),new yj(a,b,c.right.right,d)):new yj(a,b,c,d):new yj(a,b,c,d)}
function zj(a,b,c,d){return d instanceof xj?d.right instanceof xj?new xj(d.key,d.I,new yj(a,b,c,d.left),d.right.uc()):d.left instanceof xj?new xj(d.left.key,d.left.I,new yj(a,b,c,d.left.left),new yj(d.key,d.I,d.left.right,d.right)):new yj(a,b,c,d):new yj(a,b,c,d)}
function Aj(a,b,c,d){if(c instanceof xj)return new xj(a,b,c.uc(),d);if(d instanceof yj)return zj(a,b,c,d.Pd());if(d instanceof xj&&d.left instanceof yj)return new xj(d.left.key,d.left.I,new yj(a,b,c,d.left.left),zj(d.key,d.I,d.left.right,d.right.Pd()));throw Error("red-black tree invariant violation");}
function Bj(a,b,c,d){if(d instanceof xj)return new xj(a,b,c,d.uc());if(c instanceof yj)return wj(a,b,c.Pd(),d);if(c instanceof xj&&c.right instanceof yj)return new xj(c.right.key,c.right.I,wj(c.key,c.I,c.left.Pd(),c.right.left),new yj(a,b,c.right.right,d));throw Error("red-black tree invariant violation");}
var Cj=function Cj(a,b,c){var e=null!=a.left?function(){var k=a.left;return Cj.C?Cj.C(k,b,c):Cj.call(null,k,b,c)}():c;if(Ie(e))return e;var f=function(){var k=a.key,l=a.I;return b.C?b.C(e,k,l):b.call(null,e,k,l)}();if(Ie(f))return f;if(null!=a.right){var g=a.right;return Cj.C?Cj.C(g,b,f):Cj.call(null,g,b,f)}return f};function yj(a,b,c,d){this.key=a;this.I=b;this.left=c;this.right=d;this.P=null;this.F=166619935;this.T=0}h=yj.prototype;
h.vc=function(a,b){switch(b){case 0:return new Xh(0,this.key,null);case 1:return new Xh(1,this.I,null);default:return null}};h.lastIndexOf=function(){function a(c){return Ve(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return Ve(this,c,d)};return b}();
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();h.yf=function(a){return a.Af(this)};h.Pd=function(){return new xj(this.key,this.I,this.left,this.right)};h.uc=function(){return this};h.xf=function(a){return a.zf(this)};h.replace=function(a,b,c,d){return new yj(a,b,c,d)};
h.zf=function(a){return new yj(a.key,a.I,this,a.right)};h.Af=function(a){return new yj(a.key,a.I,a.left,this)};h.cd=function(a,b){return Cj(this,a,b)};h.xa=function(a,b){return this.Aa(null,b,null)};h.da=function(a,b,c){return this.Aa(null,b,c)};h.fa=function(a,b){if(0===b)return this.key;if(1===b)return this.I;throw Error("Index out of bounds");};h.Aa=function(a,b,c){return 0===b?this.key:1===b?this.I:c};h.$b=function(a,b,c){return(new V(null,2,5,X,[this.key,this.I],null)).$b(null,b,c)};h.qa=function(){return null};
h.wa=function(){return 2};h.Ge=function(){return this.key};h.He=function(){return this.I};h.yc=function(){return this.I};h.zc=function(){return new V(null,1,5,X,[this.key],null)};h.xc=function(){return new ve([this.I,this.key],0,null)};h.sa=function(){var a=this.P;return null!=a?a:this.P=a=Ce(this)};h.aa=function(a,b){return Ye(this,b)};h.Ga=function(){return null};h.Sa=function(a,b){return Le(this,b)};h.Ta=function(a,b,c){return Me(this,b,c)};
h.kb=function(a,b,c){return kf.C(new V(null,2,5,X,[this.key,this.I],null),b,c)};h.va=function(){return new ve([this.key,this.I],0,null)};h.ra=function(a,b){return qd(new V(null,2,5,X,[this.key,this.I],null),b)};h.Da=function(a,b){return new V(null,3,5,X,[this.key,this.I,b],null)};
h.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.fa(null,c);case 3:return this.Aa(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.B=function(b,c){return this.fa(null,c)};a.C=function(b,c,d){return this.Aa(null,c,d)};return a}();h.apply=function(a,b){return this.call.apply(this,[this].concat(Bc(b)))};h.j=function(a){return this.fa(null,a)};h.B=function(a,b){return this.Aa(null,a,b)};yj.prototype[yc]=function(){return Ae(this)};
function xj(a,b,c,d){this.key=a;this.I=b;this.left=c;this.right=d;this.P=null;this.F=166619935;this.T=0}h=xj.prototype;h.vc=function(a,b){switch(b){case 0:return new Xh(0,this.key,null);case 1:return new Xh(1,this.I,null);default:return null}};
h.lastIndexOf=function(){function a(c){return Ve(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return Ve(this,c,d)};return b}();
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();h.yf=function(a){return new xj(this.key,this.I,this.left,a)};h.Pd=function(){throw Error("red-black tree invariant violation");};h.uc=function(){return new yj(this.key,this.I,this.left,this.right)};
h.xf=function(a){return new xj(this.key,this.I,a,this.right)};h.replace=function(a,b,c,d){return new xj(a,b,c,d)};h.zf=function(a){return this.left instanceof xj?new xj(this.key,this.I,this.left.uc(),new yj(a.key,a.I,this.right,a.right)):this.right instanceof xj?new xj(this.right.key,this.right.I,new yj(this.key,this.I,this.left,this.right.left),new yj(a.key,a.I,this.right.right,a.right)):new yj(a.key,a.I,this,a.right)};
h.Af=function(a){return this.right instanceof xj?new xj(this.key,this.I,new yj(a.key,a.I,a.left,this.left),this.right.uc()):this.left instanceof xj?new xj(this.left.key,this.left.I,new yj(a.key,a.I,a.left,this.left.left),new yj(this.key,this.I,this.left.right,this.right)):new yj(a.key,a.I,a.left,this)};h.cd=function(a,b){return Cj(this,a,b)};h.xa=function(a,b){return this.Aa(null,b,null)};h.da=function(a,b,c){return this.Aa(null,b,c)};
h.fa=function(a,b){if(0===b)return this.key;if(1===b)return this.I;throw Error("Index out of bounds");};h.Aa=function(a,b,c){return 0===b?this.key:1===b?this.I:c};h.$b=function(a,b,c){return(new V(null,2,5,X,[this.key,this.I],null)).$b(null,b,c)};h.qa=function(){return null};h.wa=function(){return 2};h.Ge=function(){return this.key};h.He=function(){return this.I};h.yc=function(){return this.I};h.zc=function(){return new V(null,1,5,X,[this.key],null)};
h.xc=function(){return new ve([this.I,this.key],0,null)};h.sa=function(){var a=this.P;return null!=a?a:this.P=a=Ce(this)};h.aa=function(a,b){return Ye(this,b)};h.Ga=function(){return null};h.Sa=function(a,b){return Le(this,b)};h.Ta=function(a,b,c){return Me(this,b,c)};h.kb=function(a,b,c){return kf.C(new V(null,2,5,X,[this.key,this.I],null),b,c)};h.va=function(){return new ve([this.key,this.I],0,null)};h.ra=function(a,b){return qd(new V(null,2,5,X,[this.key,this.I],null),b)};
h.Da=function(a,b){return new V(null,3,5,X,[this.key,this.I,b],null)};h.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.fa(null,c);case 3:return this.Aa(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.B=function(b,c){return this.fa(null,c)};a.C=function(b,c,d){return this.Aa(null,c,d)};return a}();h.apply=function(a,b){return this.call.apply(this,[this].concat(Bc(b)))};h.j=function(a){return this.fa(null,a)};
h.B=function(a,b){return this.Aa(null,a,b)};xj.prototype[yc]=function(){return Ae(this)};
var Dj=function Dj(a,b,c,d,e){if(null==b)return new xj(c,d,null,null);var g=function(){var k=b.key;return a.B?a.B(c,k):a.call(null,c,k)}();if(0===g)return e[0]=b,null;if(0>g)return g=function(){var k=b.left;return Dj.ga?Dj.ga(a,k,c,d,e):Dj.call(null,a,k,c,d,e)}(),null!=g?b.xf(g):null;g=function(){var k=b.right;return Dj.ga?Dj.ga(a,k,c,d,e):Dj.call(null,a,k,c,d,e)}();return null!=g?b.yf(g):null},Ej=function Ej(a,b){if(null==a)return b;if(null==b)return a;if(a instanceof xj){if(b instanceof xj){var d=
function(){var e=a.right,f=b.left;return Ej.B?Ej.B(e,f):Ej.call(null,e,f)}();return d instanceof xj?new xj(d.key,d.I,new xj(a.key,a.I,a.left,d.left),new xj(b.key,b.I,d.right,b.right)):new xj(a.key,a.I,a.left,new xj(b.key,b.I,d,b.right))}return new xj(a.key,a.I,a.left,function(){var e=a.right;return Ej.B?Ej.B(e,b):Ej.call(null,e,b)}())}if(b instanceof xj)return new xj(b.key,b.I,function(){var e=b.left;return Ej.B?Ej.B(a,e):Ej.call(null,a,e)}(),b.right);d=function(){var e=a.right,f=b.left;return Ej.B?
Ej.B(e,f):Ej.call(null,e,f)}();return d instanceof xj?new xj(d.key,d.I,new yj(a.key,a.I,a.left,d.left),new yj(b.key,b.I,d.right,b.right)):Aj(a.key,a.I,a.left,new yj(b.key,b.I,d,b.right))},Fj=function Fj(a,b,c,d){if(null!=b){var f=function(){var g=b.key;return a.B?a.B(c,g):a.call(null,c,g)}();if(0===f)return d[0]=b,Ej(b.left,b.right);if(0>f)return f=function(){var g=b.left;return Fj.ba?Fj.ba(a,g,c,d):Fj.call(null,a,g,c,d)}(),null!=f||null!=d[0]?b.left instanceof yj?Aj(b.key,b.I,f,b.right):new xj(b.key,
b.I,f,b.right):null;f=function(){var g=b.right;return Fj.ba?Fj.ba(a,g,c,d):Fj.call(null,a,g,c,d)}();return null!=f||null!=d[0]?b.right instanceof yj?Bj(b.key,b.I,b.left,f):new xj(b.key,b.I,b.left,f):null}return null},Jj=function Jj(a,b,c,d){var f=b.key,g=a.B?a.B(c,f):a.call(null,c,f);return 0===g?b.replace(f,d,b.left,b.right):0>g?b.replace(f,b.I,function(){var k=b.left;return Jj.ba?Jj.ba(a,k,c,d):Jj.call(null,a,k,c,d)}(),b.right):b.replace(f,b.I,b.left,function(){var k=b.right;return Jj.ba?Jj.ba(a,
k,c,d):Jj.call(null,a,k,c,d)}())};function Kj(a,b,c,d,e){this.Pb=a;this.tree=b;this.J=c;this.meta=d;this.P=e;this.F=418776847;this.T=8192}h=Kj.prototype;h.vc=function(a,b){return Lj(this,b)};h.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.fa(null,e),g=S(f,0,null);f=S(f,1,null);a.B?a.B(f,g):a.call(null,f,g);e+=1}else if(b=G(b))Cf(b)?(c=Ud(b),b=Vd(b),g=c,d=R(c),c=g):(c=I(b),g=S(c,0,null),f=S(c,1,null),a.B?a.B(f,g):a.call(null,f,g),b=J(b),c=null,d=0),e=0;else return null};
h.get=function(a,b){return this.da(null,a,b)};h.entries=function(){return new Di(G(G(this)))};h.toString=function(){return ge(this)};h.keys=function(){return Ae(Ii.j?Ii.j(this):Ii.call(null,this))};h.values=function(){return Ae(Ji.j?Ji.j(this):Ji.call(null,this))};h.equiv=function(a){return this.aa(null,a)};function Lj(a,b){for(var c=a.tree;;)if(null!=c){var d=c.key;d=a.Pb.B?a.Pb.B(b,d):a.Pb.call(null,b,d);if(0===d)return c;c=0>d?c.left:c.right}else return null}h.has=function(a){return If(this,a)};
h.xa=function(a,b){return this.da(null,b,null)};h.da=function(a,b,c){a=Lj(this,b);return null!=a?a.I:c};h.wc=function(a,b,c){return null!=this.tree?Je(Cj(this.tree,b,c)):c};h.qa=function(){return this.meta};h.Bb=function(){return new Kj(this.Pb,this.tree,this.J,this.meta,this.P)};h.wa=function(){return this.J};h.xc=function(){return 0<this.J?vj(this.tree,!1,this.J):null};h.sa=function(){var a=this.P;return null!=a?a:this.P=a=Ee(this)};h.aa=function(a,b){return Bi(this,b)};
h.Ga=function(){return new Kj(this.Pb,null,0,this.meta,0)};h.Sc=function(a,b){a=[null];b=Fj(this.Pb,this.tree,b,a);return null==b?null==Te(a,0)?this:new Kj(this.Pb,null,0,this.meta,null):new Kj(this.Pb,b.uc(),this.J-1,this.meta,null)};h.kb=function(a,b,c){a=[null];var d=Dj(this.Pb,this.tree,b,c,a);return null==d?(a=Te(a,0),M.B(c,a.I)?this:new Kj(this.Pb,Jj(this.Pb,this.tree,b,c),this.J,this.meta,null)):new Kj(this.Pb,d.uc(),this.J+1,this.meta,null)};
h.va=function(){return 0<this.J?vj(this.tree,!0,this.J):null};h.ra=function(a,b){return b===this.meta?this:new Kj(this.Pb,this.tree,this.J,b,this.P)};h.Da=function(a,b){if(Bf(b))return this.kb(null,Rc(b,0),Rc(b,1));a=this;for(b=G(b);;){if(null==b)return a;var c=I(b);if(Bf(c))a=bd(a,Rc(c,0),Rc(c,1)),b=J(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
h.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.xa(null,c);case 3:return this.da(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.B=function(b,c){return this.xa(null,c)};a.C=function(b,c,d){return this.da(null,c,d)};return a}();h.apply=function(a,b){return this.call.apply(this,[this].concat(Bc(b)))};h.j=function(a){return this.xa(null,a)};h.B=function(a,b){return this.da(null,a,b)};Kj.prototype[yc]=function(){return Ae(this)};
var Mj=function Mj(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ve(c.slice(0),0,null):null;return Mj.G(c)};Mj.G=function(a){a=G(a);for(var b=Md(Mi);;)if(a){var c=J(J(a));b=Ag(b,I(a),I(J(a)));a=c}else return Od(b)};Mj.R=0;Mj.Y=function(a){return this.G(G(a))};var Nj=function Nj(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ve(c.slice(0),0,null):null;return Nj.G(c)};
Nj.G=function(a){a=a instanceof ve&&0===a.i?a.D:Cc(a);return lf(a)};Nj.R=0;Nj.Y=function(a){return this.G(G(a))};function Oj(a,b){this.ya=a;this.nc=b;this.F=32374988;this.T=0}h=Oj.prototype;h.toString=function(){return ge(this)};h.equiv=function(a){return this.aa(null,a)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Ve(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return Ve(this,c,d)};return b}();h.qa=function(){return this.nc};h.Ra=function(){var a=(null!=this.ya?this.ya.F&128||p===this.ya.Ad||(this.ya.F?0:uc(Wc,this.ya)):uc(Wc,this.ya))?this.ya.Ra(null):J(this.ya);return null==a?null:new Oj(a,null)};h.sa=function(){return Ce(this)};
h.aa=function(a,b){return Ye(this,b)};h.Ga=function(){return ye};h.Sa=function(a,b){return af(b,this)};h.Ta=function(a,b,c){return cf(b,c,this)};h.Xa=function(){return this.ya.Xa(null).key};h.Za=function(){var a=(null!=this.ya?this.ya.F&128||p===this.ya.Ad||(this.ya.F?0:uc(Wc,this.ya)):uc(Wc,this.ya))?this.ya.Ra(null):J(this.ya);return null!=a?new Oj(a,null):ye};h.va=function(){return this};h.ra=function(a,b){return b===this.nc?this:new Oj(this.ya,b)};h.Da=function(a,b){return Ze(b,this)};
Oj.prototype[yc]=function(){return Ae(this)};function Ii(a){return(a=G(a))?new Oj(a,null):null}function fi(a){return fd(a)}function Pj(a,b){this.ya=a;this.nc=b;this.F=32374988;this.T=0}h=Pj.prototype;h.toString=function(){return ge(this)};h.equiv=function(a){return this.aa(null,a)};
h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Ve(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return Ve(this,c,d)};return b}();h.qa=function(){return this.nc};h.Ra=function(){var a=(null!=this.ya?this.ya.F&128||p===this.ya.Ad||(this.ya.F?0:uc(Wc,this.ya)):uc(Wc,this.ya))?this.ya.Ra(null):J(this.ya);return null==a?null:new Pj(a,null)};h.sa=function(){return Ce(this)};
h.aa=function(a,b){return Ye(this,b)};h.Ga=function(){return ye};h.Sa=function(a,b){return af(b,this)};h.Ta=function(a,b,c){return cf(b,c,this)};h.Xa=function(){return this.ya.Xa(null).I};h.Za=function(){var a=(null!=this.ya?this.ya.F&128||p===this.ya.Ad||(this.ya.F?0:uc(Wc,this.ya)):uc(Wc,this.ya))?this.ya.Ra(null):J(this.ya);return null!=a?new Pj(a,null):ye};h.va=function(){return this};h.ra=function(a,b){return b===this.nc?this:new Pj(this.ya,b)};h.Da=function(a,b){return Ze(b,this)};
Pj.prototype[yc]=function(){return Ae(this)};function Ji(a){return(a=G(a))?new Pj(a,null):null}function gi(a){return gd(a)}var Qj=function Qj(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ve(c.slice(0),0,null):null;return Qj.G(c)};Qj.G=function(a){return y(eh(a))?Dc.B(function(b,c){return ef.B(y(b)?b:Pg,c)},a):null};Qj.R=0;Qj.Y=function(a){return this.G(G(a))};
var Rj=function Rj(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new ve(c.slice(1),0,null):null;return Rj.G(arguments[0],c)};Rj.G=function(a,b){if(y(eh(b))){var c=function(d,e){var f=fd(e),g=gd(e);return If(d,f)?kf.C(d,f,function(){var k=C.B(d,f);return a.B?a.B(k,g):a.call(null,k,g)}()):kf.C(d,f,g)};return Dc.B(function(d,e){return Dc.C(c,y(d)?d:Pg,G(e))},b)}return null};Rj.R=1;Rj.Y=function(a){var b=I(a);a=J(a);return this.G(b,a)};
function Sj(a){for(var b=Pg,c=G(Tj);;)if(c){var d=I(c),e=C.C(a,d,Uj);b=Mg(e,Uj)?kf.C(b,d,e):b;c=J(c)}else return qd(b,tf(a))}function Vj(a){this.nd=a}Vj.prototype.Ea=function(){return this.nd.Ea()};Vj.prototype.next=function(){if(this.nd.Ea())return this.nd.next().key;throw Error("No such element");};Vj.prototype.remove=function(){return Error("Unsupported operation")};function Wj(a,b,c){this.meta=a;this.tc=b;this.P=c;this.F=15077647;this.T=139268}h=Wj.prototype;h.toString=function(){return ge(this)};
h.equiv=function(a){return this.aa(null,a)};h.keys=function(){return Ae(G(this))};h.entries=function(){return new Ei(G(G(this)))};h.values=function(){return Ae(G(this))};h.has=function(a){return If(this,a)};h.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.fa(null,e),g=S(f,0,null);f=S(f,1,null);a.B?a.B(f,g):a.call(null,f,g);e+=1}else if(b=G(b))Cf(b)?(c=Ud(b),b=Vd(b),g=c,d=R(c),c=g):(c=I(b),g=S(c,0,null),f=S(c,1,null),a.B?a.B(f,g):a.call(null,f,g),b=J(b),c=null,d=0),e=0;else return null};
h.xa=function(a,b){return this.da(null,b,null)};h.da=function(a,b,c){a=cd(this.tc,b);return y(a)?fd(a):c};h.Cb=function(){return new Vj(ce(this.tc))};h.qa=function(){return this.meta};h.Bb=function(){return new Wj(this.meta,this.tc,this.P)};h.wa=function(){return Jc(this.tc)};h.sa=function(){var a=this.P;return null!=a?a:this.P=a=Ee(this)};
h.aa=function(a,b){if(xf(b))if(R(this)===R(b))try{return Rf(function(c,d){return(c=If(b,d))?c:new He(!1)},!0,this.tc)}catch(c){if(c instanceof Error)return!1;throw c;}else return!1;else return!1};h.hd=function(){return new Xj(Md(this.tc))};h.Ga=function(){return qd(Yj,this.meta)};h.Je=function(a,b){return new Wj(this.meta,ed(this.tc,b),null)};h.va=function(){return Ii(this.tc)};h.ra=function(a,b){return b===this.meta?this:new Wj(b,this.tc,this.P)};
h.Da=function(a,b){return new Wj(this.meta,kf.C(this.tc,b,null),null)};h.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.xa(null,c);case 3:return this.da(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.B=function(b,c){return this.xa(null,c)};a.C=function(b,c,d){return this.da(null,c,d)};return a}();h.apply=function(a,b){return this.call.apply(this,[this].concat(Bc(b)))};h.j=function(a){return this.xa(null,a)};
h.B=function(a,b){return this.da(null,a,b)};var Yj=new Wj(null,Pg,Fe);Wj.prototype[yc]=function(){return Ae(this)};function Xj(a){this.Jc=a;this.T=136;this.F=259}h=Xj.prototype;h.kd=function(a,b){this.Jc=Pd(this.Jc,b,null);return this};h.Bd=function(){return new Wj(null,Od(this.Jc),null)};h.wa=function(){return R(this.Jc)};h.xa=function(a,b){return this.da(null,b,null)};h.da=function(a,b,c){return $c(this.Jc,b,Ef)===Ef?c:b};
h.call=function(){function a(d,e,f){return $c(this.Jc,e,Ef)===Ef?f:e}function b(d,e){return $c(this.Jc,e,Ef)===Ef?null:e}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+(arguments.length-1));};c.B=b;c.C=a;return c}();h.apply=function(a,b){return this.call.apply(this,[this].concat(Bc(b)))};h.j=function(a){return $c(this.Jc,a,Ef)===Ef?null:a};h.B=function(a,b){return $c(this.Jc,a,Ef)===Ef?b:a};
function Zj(a,b,c){this.meta=a;this.kc=b;this.P=c;this.F=417730831;this.T=8192}h=Zj.prototype;h.toString=function(){return ge(this)};h.equiv=function(a){return this.aa(null,a)};h.keys=function(){return Ae(G(this))};h.entries=function(){return new Ei(G(G(this)))};h.values=function(){return Ae(G(this))};h.has=function(a){return If(this,a)};
h.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.fa(null,e),g=S(f,0,null);f=S(f,1,null);a.B?a.B(f,g):a.call(null,f,g);e+=1}else if(b=G(b))Cf(b)?(c=Ud(b),b=Vd(b),g=c,d=R(c),c=g):(c=I(b),g=S(c,0,null),f=S(c,1,null),a.B?a.B(f,g):a.call(null,f,g),b=J(b),c=null,d=0),e=0;else return null};h.xa=function(a,b){return this.da(null,b,null)};h.da=function(a,b,c){a=Lj(this.kc,b);return null!=a?a.key:c};h.qa=function(){return this.meta};h.Bb=function(){return new Zj(this.meta,this.kc,this.P)};
h.wa=function(){return R(this.kc)};h.xc=function(){return 0<R(this.kc)?rh.B(fi,Fd(this.kc)):null};h.sa=function(){var a=this.P;return null!=a?a:this.P=a=Ee(this)};h.aa=function(a,b){if(xf(b))if(R(this)===R(b))try{return Rf(function(c,d){return(c=If(b,d))?c:new He(!1)},!0,this.kc)}catch(c){if(c instanceof Error)return!1;throw c;}else return!1;else return!1};h.Ga=function(){return new Zj(this.meta,Lc(this.kc),0)};h.Je=function(a,b){return new Zj(this.meta,mf.B(this.kc,b),null)};h.va=function(){return Ii(this.kc)};
h.ra=function(a,b){return b===this.meta?this:new Zj(b,this.kc,this.P)};h.Da=function(a,b){return new Zj(this.meta,kf.C(this.kc,b,null),null)};h.call=function(){var a=null;a=function(b,c,d){switch(arguments.length){case 2:return this.xa(null,c);case 3:return this.da(null,c,d)}throw Error("Invalid arity: "+(arguments.length-1));};a.B=function(b,c){return this.xa(null,c)};a.C=function(b,c,d){return this.da(null,c,d)};return a}();h.apply=function(a,b){return this.call.apply(this,[this].concat(Bc(b)))};
h.j=function(a){return this.xa(null,a)};h.B=function(a,b){return this.da(null,a,b)};Zj.prototype[yc]=function(){return Ae(this)};function ak(a){if(xf(a))return sf(a,null);a=G(a);if(null==a)return Yj;if(a instanceof ve&&0===a.i){a=a.D;for(var b=a.length,c=Md(Yj),d=0;;)if(d<b)Nd(c,a[d]),d+=1;else break;return Od(c)}for(c=Md(Yj);;)if(null!=a)b=J(a),c=Nd(c,Uc(a)),a=b;else return Od(c)}function bk(a){for(var b=ff;;)if(J(a))b=ef.B(b,I(a)),a=J(a);else return G(b)}
function lg(a){if(null!=a&&(a.T&4096||p===a.Ie))return a.yd(null);if("string"===typeof a)return a;throw Error(["Doesn't support name: ",B.j(a)].join(""));}function ck(a,b){var c=Md(Pg);a=G(a);for(b=G(b);;)if(a&&b)c=Ag(c,I(a),I(b)),a=J(a),b=J(b);else return Od(c)}
var dk=function dk(a){switch(arguments.length){case 2:return dk.B(arguments[0],arguments[1]);case 3:return dk.C(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ve(c.slice(3),0,null);return dk.G(arguments[0],arguments[1],arguments[2],c)}};dk.B=function(a,b){return b};dk.C=function(a,b,c){return(a.j?a.j(b):a.call(null,b))>(a.j?a.j(c):a.call(null,c))?b:c};
dk.G=function(a,b,c,d){return Dc.C(function(e,f){return dk.C(a,e,f)},dk.C(a,b,c),d)};dk.Y=function(a){var b=I(a),c=J(a);a=I(c);var d=J(c);c=I(d);d=J(d);return this.G(b,a,c,d)};dk.R=3;function ek(){this.D=[]}h=ek.prototype;h.add=function(a){return this.D.push(a)};h.size=function(){return this.D.length};h.clear=function(){return this.D=[]};h.isEmpty=function(){return 0===this.D.length};h.toArray=function(){return this.D};
function fk(){return function(a){var b=new ek;return function(){function c(g,k){b.add(k);return 2===b.size()?(k=di(b.toArray()),b.clear(),a.B?a.B(g,k):a.call(null,g,k)):g}function d(g){if(!y(b.isEmpty())){var k=di(b.toArray());b.clear();g=Je(a.B?a.B(g,k):a.call(null,g,k))}return a.j?a.j(g):a.call(null,g)}function e(){return a.O?a.O():a.call(null)}var f=null;f=function(g,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,g);case 2:return c.call(this,g,k)}throw Error("Invalid arity: "+
arguments.length);};f.O=e;f.j=d;f.B=c;return f}()}}function gk(a,b){return new mg(null,function(){var c=G(b);if(c){var d=I(c);d=a.j?a.j(d):a.call(null,d);c=y(d)?Ze(I(c),gk(a,xe(c))):null}else c=null;return c},null,null)}function hk(a,b,c){this.start=a;this.step=b;this.count=c;this.F=82;this.T=0}h=hk.prototype;h.wa=function(){return this.count};h.Xa=function(){return this.start};h.fa=function(a,b){return this.start+b*this.step};
h.Aa=function(a,b,c){return 0<=b&&b<this.count?this.start+b*this.step:c};h.Ce=function(){if(1>=this.count)throw Error("-drop-first of empty chunk");return new hk(this.start+this.step,this.step,this.count-1)};function ik(a,b,c){this.i=a;this.end=b;this.step=c}ik.prototype.Ea=function(){return 0<this.step?this.i<this.end:this.i>this.end};ik.prototype.next=function(){var a=this.i;this.i+=this.step;return a};
function jk(a,b,c,d,e,f,g){this.meta=a;this.start=b;this.end=c;this.step=d;this.Fa=e;this.xd=f;this.P=g;this.F=32375006;this.T=140800}h=jk.prototype;h.toString=function(){return ge(this)};h.equiv=function(a){return this.aa(null,a)};h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Ve(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return Ve(this,c,d)};return b}();function kk(a){if(null==a.Fa){var b=a.wa(null);32<b?(a.xd=new jk(null,a.start+32*a.step,a.end,a.step,null,null,null),a.Fa=new hk(a.start,a.step,32)):a.Fa=new hk(a.start,a.step,b)}}
h.fa=function(a,b){if(0<=b&&b<this.wa(null))return this.start+b*this.step;if(0<=b&&this.start>this.end&&0===this.step)return this.start;throw Error("Index out of bounds");};h.Aa=function(a,b,c){return 0<=b&&b<this.wa(null)?this.start+b*this.step:0<=b&&this.start>this.end&&0===this.step?this.start:c};h.Cb=function(){return new ik(this.start,this.end,this.step)};h.qa=function(){return this.meta};h.Bb=function(){return new jk(this.meta,this.start,this.end,this.step,this.Fa,this.xd,this.P)};
h.Ra=function(){return 0<this.step?this.start+this.step<this.end?new jk(null,this.start+this.step,this.end,this.step,null,null,null):null:this.start+this.step>this.end?new jk(null,this.start+this.step,this.end,this.step,null,null,null):null};h.wa=function(){return Math.ceil((this.end-this.start)/this.step)};h.sa=function(){var a=this.P;return null!=a?a:this.P=a=Ce(this)};h.aa=function(a,b){return Ye(this,b)};h.Ga=function(){return ye};h.Sa=function(a,b){return Le(this,b)};
h.Ta=function(a,b,c){for(a=this.start;;)if(0<this.step?a<this.end:a>this.end){c=b.B?b.B(c,a):b.call(null,c,a);if(Ie(c))return nd(c);a+=this.step}else return c};h.Xa=function(){return this.start};h.Za=function(){var a=this.Ra(null);return null==a?ye:a};h.va=function(){return this};h.Yd=function(){kk(this);return this.Fa};h.gd=function(){kk(this);return null==this.xd?ye:this.xd};h.ra=function(a,b){return b===this.meta?this:new jk(b,this.start,this.end,this.step,this.Fa,this.xd,this.P)};
h.Da=function(a,b){return Ze(b,this)};h.De=function(){return G(this.gd(null))};jk.prototype[yc]=function(){return Ae(this)};function lk(a,b,c){return 0<c?b<=a?ye:new jk(null,a,b,c,null,null,null):0>c?b>=a?ye:new jk(null,a,b,c,null,null,null):b===a?ye:new wh(null,-1,a,null,null)}function mk(a,b){return new mg(null,function(){var c=G(b);return c?Ze(I(c),mk(a,th(a,c))):null},null,null)}function nk(a){return Od(Dc.C(function(b,c){return Ag(b,c,C.C(b,c,0)+1)},Md(Pg),a))}
function ok(a,b){return function(){function c(l,m,n){return new V(null,2,5,X,[a.C?a.C(l,m,n):a.call(null,l,m,n),b.C?b.C(l,m,n):b.call(null,l,m,n)],null)}function d(l,m){return new V(null,2,5,X,[a.B?a.B(l,m):a.call(null,l,m),b.B?b.B(l,m):b.call(null,l,m)],null)}function e(l){return new V(null,2,5,X,[a.j?a.j(l):a.call(null,l),b.j?b.j(l):b.call(null,l)],null)}function f(){return new V(null,2,5,X,[a.O?a.O():a.call(null),b.O?b.O():b.call(null)],null)}var g=null,k=function(){function l(n,q,r,u){var x=null;
if(3<arguments.length){x=0;for(var z=Array(arguments.length-3);x<z.length;)z[x]=arguments[x+3],++x;x=new ve(z,0,null)}return m.call(this,n,q,r,x)}function m(n,q,r,u){return new V(null,2,5,X,[Kg(a,n,q,r,u),Kg(b,n,q,r,u)],null)}l.R=3;l.Y=function(n){var q=I(n);n=J(n);var r=I(n);n=J(n);var u=I(n);n=xe(n);return m(q,r,u,n)};l.G=m;return l}();g=function(l,m,n,q){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,l);case 2:return d.call(this,l,m);case 3:return c.call(this,l,m,
n);default:var r=null;if(3<arguments.length){r=0;for(var u=Array(arguments.length-3);r<u.length;)u[r]=arguments[r+3],++r;r=new ve(u,0,null)}return k.G(l,m,n,r)}throw Error("Invalid arity: "+arguments.length);};g.R=3;g.Y=k.Y;g.O=f;g.j=e;g.B=d;g.C=c;g.G=k.G;return g}()}function pk(a){a:for(var b=a;;)if(b=G(b))b=J(b);else break a;return a}
function qk(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&M.B(a[0],b)?1===a.length?a[0]:di(a):null;throw new TypeError("re-matches must match against a string.");}function rk(a,b){if("string"===typeof b)return a=a.exec(b),null==a?null:1===a.length?a[0]:di(a);throw new TypeError("re-find must match against a string.");}
var sk=function sk(a,b){var d=a.exec(b);if(null==d)return null;var e=d[0],f=1===d.length?e:di(d);return Ze(f,new mg(null,function(){var g=e.length;g=d.index+(1>g?1:g);return g<=b.length?(g=b.substring(g),sk.B?sk.B(a,g):sk.call(null,a,g)):null},null,null))};function tk(a){if(a instanceof RegExp)return a;var b=rk(/^\(\?([idmsux]*)\)/,a),c=S(b,0,null);b=S(b,1,null);a=a.substring(null==c?0:c.length);return new RegExp(a,y(b)?b:"")}
function uk(a,b,c,d,e,f,g){var k=kc;kc=null==kc?null:kc-1;try{if(null!=kc&&0>kc)return Hd(a,"#");Hd(a,c);if(0===qc.j(f))G(g)&&Hd(a,function(){var u=vk.j(f);return y(u)?u:"..."}());else{if(G(g)){var l=I(g);b.C?b.C(l,a,f):b.call(null,l,a,f)}for(var m=J(g),n=qc.j(f)-1;;)if(!m||null!=n&&0===n){G(m)&&0===n&&(Hd(a,d),Hd(a,function(){var u=vk.j(f);return y(u)?u:"..."}()));break}else{Hd(a,d);var q=I(m);c=a;g=f;b.C?b.C(q,c,g):b.call(null,q,c,g);var r=J(m);c=n-1;m=r;n=c}}return Hd(a,e)}finally{kc=k}}
function wk(a,b){b=G(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.fa(null,e);Hd(a,f);e+=1}else if(b=G(b))c=b,Cf(c)?(b=Ud(c),d=Vd(c),c=b,f=R(b),b=d,d=f):(f=I(c),Hd(a,f),b=J(c),c=null,d=0),e=0;else return null}var xk={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function yk(a){return['"',B.j(a.replace(/[\\"\b\f\n\r\t]/g,function(b){return xk[b]})),'"'].join("")}function zk(a,b){return Gf(C.B(a,oc))?null!=b&&(b.F&131072||p===b.Zd)?null!=tf(b):!1:!1}
function Ak(a,b,c){if(null==a)return Hd(b,"nil");if(zk(c,a)){Hd(b,"^");var d=tf(a);Bk.C?Bk.C(d,b,c):Bk.call(null,d,b,c);Hd(b," ")}if(a.ac)return a.rc(b);if(null!=a?a.F&2147483648||p===a.Ba||(a.F?0:uc(Id,a)):uc(Id,a))return Jd(a,b,c);if(!0===a||!1===a)return Hd(b,B.j(a));if("number"===typeof a)return Hd(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":B.j(a));if(null!=a&&a.constructor===Object)return Hd(b,"#js "),d=rh.B(function(f){return new Xh(null!=qk(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,
f)?kg.j(f):f,a[f],null)},nb(a)),Ck.ba?Ck.ba(d,Bk,b,c):Ck.call(null,d,Bk,b,c);if(sc(a))return uk(b,Bk,"#js ["," ","]",c,a);if("string"==typeof a)return y(nc.j(c))?Hd(b,yk(a)):Hd(b,a);if(ta(a)){var e=a.name;c=y(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Function":e;return wk(b,$e(["#object[",c,y(!1)?[' "',B.j(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,g){for(f=B.j(f);;)if(f.length<g)f=["0",f].join("");else return f},wk(b,$e(['#inst "',B.j(a.getUTCFullYear()),
"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return wk(b,$e(['#"',a.source,'"']));if(Ec(a))return wk(b,$e(["#object[",a.toString(),"]"]));if(y(function(){var f=null==a?null:a.constructor;return null==f?null:f.Ob}()))return wk(b,$e(["#object[",a.constructor.Ob.replace(/\//g,"."),"]"]));e=function(){var f=null==a?null:a.constructor;return null==
f?null:f.name}();c=y(function(){var f=null==e;return f?f:/^[\s\xa0]*$/.test(e)}())?"Object":e;return null==a.constructor?wk(b,$e(["#object[",c,"]"])):wk(b,$e(["#object[",c," ",B.j(a),"]"]))}function Bk(a,b,c){var d=Dk.j(c);return y(d)?(c=kf.C(c,Ek,Ak),d.C?d.C(a,b,c):d.call(null,a,b,c)):Ak(a,b,c)}
function Fk(a,b){var c=new fc;a:{var d=new fe(c);Bk(I(a),d,b);a=G(J(a));for(var e=null,f=0,g=0;;)if(g<f){var k=e.fa(null,g);Hd(d," ");Bk(k,d,b);g+=1}else if(a=G(a))e=a,Cf(e)?(a=Ud(e),f=Vd(e),e=a,k=R(a),a=f,f=k):(k=I(e),Hd(d," "),Bk(k,d,b),a=J(e),e=null,f=0),g=0;else break a}return c}function Gk(a){var b=lc();return vf(a)?"":B.j(Fk(a,b))}function Hk(a){return a instanceof se?te.B(null,lg(a)):kg.B(null,lg(a))}
function Ik(a){if(y(!1)){var b=G(a),c=G(b),d=I(c);J(c);S(d,0,null);S(d,1,null);c=hf(a);for(a=null;;){d=a;b=G(b);a=I(b);var e=J(b),f=a;a=S(f,0,null);b=S(f,1,null);if(y(f))if(a instanceof D||a instanceof se)if(y(d))if(M.B(d,ig(a)))c=kf.C(c,Hk(a),b),a=d,b=e;else return null;else if(d=ig(a),y(d))c=kf.C(c,Hk(a),b),a=d,b=e;else return null;else return null;else return new V(null,2,5,X,[d,c],null)}}else return null}
function Jk(a,b,c,d,e){return uk(d,function(f,g,k){var l=fd(f);c.C?c.C(l,g,k):c.call(null,l,g,k);Hd(g," ");f=gd(f);return c.C?c.C(f,g,k):c.call(null,f,g,k)},[B.j(a),"{"].join(""),", ","}",e,G(b))}function Ck(a,b,c,d){var e=zf(a)?Ik(a):null,f=S(e,0,null);e=S(e,1,null);return y(f)?Jk(["#:",B.j(f)].join(""),e,b,c,d):Jk(null,a,b,c,d)}qh.prototype.Ba=p;qh.prototype.ja=function(a,b,c){Hd(b,"#object[cljs.core.Volatile ");Bk(new t(null,1,[Kk,this.state],null),b,c);return Hd(b,"]")};ve.prototype.Ba=p;
ve.prototype.ja=function(a,b,c){return uk(b,Bk,"("," ",")",c,this)};mg.prototype.Ba=p;mg.prototype.ja=function(a,b,c){return uk(b,Bk,"("," ",")",c,this)};Xh.prototype.Ba=p;Xh.prototype.ja=function(a,b,c){return uk(b,Bk,"["," ","]",c,this)};uj.prototype.Ba=p;uj.prototype.ja=function(a,b,c){return uk(b,Bk,"("," ",")",c,this)};kj.prototype.Ba=p;kj.prototype.ja=function(a,b,c){return uk(b,Bk,"("," ",")",c,this)};yj.prototype.Ba=p;yj.prototype.ja=function(a,b,c){return uk(b,Bk,"["," ","]",c,this)};
Gi.prototype.Ba=p;Gi.prototype.ja=function(a,b,c){return uk(b,Bk,"("," ",")",c,this)};Be.prototype.Ba=p;Be.prototype.ja=function(a,b,c){return uk(b,Bk,"("," ",")",c,this)};Zj.prototype.Ba=p;Zj.prototype.ja=function(a,b,c){return uk(b,Bk,"#{"," ","}",c,this)};ni.prototype.Ba=p;ni.prototype.ja=function(a,b,c){return uk(b,Bk,"("," ",")",c,this)};gg.prototype.Ba=p;gg.prototype.ja=function(a,b,c){return uk(b,Bk,"("," ",")",c,this)};Xe.prototype.Ba=p;
Xe.prototype.ja=function(a,b,c){return uk(b,Bk,"("," ",")",c,this)};pj.prototype.Ba=p;pj.prototype.ja=function(a,b,c){return Ck(this,Bk,b,c)};mj.prototype.Ba=p;mj.prototype.ja=function(a,b,c){return uk(b,Bk,"("," ",")",c,this)};pi.prototype.Ba=p;pi.prototype.ja=function(a,b,c){return uk(b,Bk,"["," ","]",c,this)};Kj.prototype.Ba=p;Kj.prototype.ja=function(a,b,c){return Ck(this,Bk,b,c)};Wj.prototype.Ba=p;Wj.prototype.ja=function(a,b,c){return uk(b,Bk,"#{"," ","}",c,this)};rg.prototype.Ba=p;
rg.prototype.ja=function(a,b,c){return uk(b,Bk,"("," ",")",c,this)};lh.prototype.Ba=p;lh.prototype.ja=function(a,b,c){Hd(b,"#object[cljs.core.Atom ");Bk(new t(null,1,[Kk,this.state],null),b,c);return Hd(b,"]")};Pj.prototype.Ba=p;Pj.prototype.ja=function(a,b,c){return uk(b,Bk,"("," ",")",c,this)};xj.prototype.Ba=p;xj.prototype.ja=function(a,b,c){return uk(b,Bk,"["," ","]",c,this)};wh.prototype.Ba=p;wh.prototype.ja=function(a,b,c){return uk(b,Bk,"("," ",")",c,this)};V.prototype.Ba=p;
V.prototype.ja=function(a,b,c){return uk(b,Bk,"["," ","]",c,this)};wi.prototype.Ba=p;wi.prototype.ja=function(a,b,c){return uk(b,Bk,"("," ",")",c,this)};dg.prototype.Ba=p;dg.prototype.ja=function(a,b){return Hd(b,"()")};xi.prototype.Ba=p;xi.prototype.ja=function(a,b,c){return uk(b,Bk,"#queue ["," ","]",c,G(this))};t.prototype.Ba=p;t.prototype.ja=function(a,b,c){return Ck(this,Bk,b,c)};jk.prototype.Ba=p;jk.prototype.ja=function(a,b,c){return uk(b,Bk,"("," ",")",c,this)};bh.prototype.Ba=p;
bh.prototype.ja=function(a,b,c){return uk(b,Bk,"("," ",")",c,this)};Oj.prototype.Ba=p;Oj.prototype.ja=function(a,b,c){return uk(b,Bk,"("," ",")",c,this)};gf.prototype.Ba=p;gf.prototype.ja=function(a,b,c){return uk(b,Bk,"("," ",")",c,this)};se.prototype.qc=p;se.prototype.Tb=function(a,b){if(b instanceof se)return re(this,b);throw Error(["Cannot compare ",B.j(this)," to ",B.j(b)].join(""));};D.prototype.qc=p;
D.prototype.Tb=function(a,b){if(b instanceof D)return hg(this,b);throw Error(["Cannot compare ",B.j(this)," to ",B.j(b)].join(""));};pi.prototype.qc=p;pi.prototype.Tb=function(a,b){if(Bf(b))return Kf(this,b);throw Error(["Cannot compare ",B.j(this)," to ",B.j(b)].join(""));};V.prototype.qc=p;V.prototype.Tb=function(a,b){if(Bf(b))return Kf(this,b);throw Error(["Cannot compare ",B.j(this)," to ",B.j(b)].join(""));};Xh.prototype.qc=p;
Xh.prototype.Tb=function(a,b){if(Bf(b))return Kf(this,b);throw Error(["Cannot compare ",B.j(this)," to ",B.j(b)].join(""));};yj.prototype.qc=p;yj.prototype.Tb=function(a,b){if(Bf(b))return Kf(this,b);throw Error(["Cannot compare ",B.j(this)," to ",B.j(b)].join(""));};xj.prototype.qc=p;xj.prototype.Tb=function(a,b){if(Bf(b))return Kf(this,b);throw Error(["Cannot compare ",B.j(this)," to ",B.j(b)].join(""));};function Lk(a,b){Kd(a,Mk,b)}var Nk=null;
function Ok(a){null==Nk&&(Nk=mh(0));return te.j([B.j(a),B.j(oh.B(Nk,Ge))].join(""))}function Pk(a){this.zb=a;this.value=null;this.F=2147516416;this.T=1}Pk.prototype.lb=function(){y(this.zb)&&(this.value=this.zb.O?this.zb.O():this.zb.call(null),this.zb=null);return this.value};Pk.prototype.ja=function(a,b,c){Hd(b,"#object[cljs.core.Delay ");Bk(new t(null,2,[Qk,null==this.zb?Rk:Sk,Kk,this.value],null),b,c);return Hd(b,"]")};function Tk(a){return a instanceof Pk?nd(a):a}
function Uk(a,b){this.ue=a;this.ee=b;this.F=2173173760;this.T=131072}h=Uk.prototype;h.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.j=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
h.lastIndexOf=function(){function a(c){return Ve(this,c,R(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return Ve(this,c,d)};return b}();h.Cb=function(){var a=Vg(this.ee);return ch(this.ue,a)};h.va=function(){var a=Vg(this.ee);a=ch(this.ue,a);a=ah(a);return G(y(a)?a:ye)};h.Sa=function(a,b){return Uf(this.ue,Tf(b,Sf),this.ee)};
h.Ta=function(a,b,c){return Vf(this.ue,Tf(b,Sf),c,this.ee)};h.ja=function(a,b,c){return uk(b,Bk,"("," ",")",c,this)};Uk.prototype[yc]=function(){return Ae(this)};function Vk(){}function Wk(a){if(null!=a&&null!=a.Cg)a=a.Cg(a);else{var b=Wk[oa(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Wk._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw wc("IEncodeJS.-clj-\x3ejs",a);}return a}
function Xk(a,b){return(null!=a?p===a.Bg||(a.Se?0:uc(Vk,a)):uc(Vk,a))?Wk(a):"string"===typeof a||"number"===typeof a||a instanceof D||a instanceof se?b.j?b.j(a):b.call(null,a):Gk($e([a]))}var Yk=function Yk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new ve(c.slice(1),0,null):null;return Yk.G(arguments[0],c)};
Yk.G=function(a,b){b=null!=b&&(b.F&64||p===b.oa)?Hg(Mj,b):b;var c=C.C(b,Zk,lg),d=function g(f){if(null==f)return null;if(null!=f?p===f.Bg||(f.Se?0:uc(Vk,f)):uc(Vk,f))return Wk(f);if(f instanceof D)return c.j?c.j(f):c.call(null,f);if(f instanceof se)return B.j(f);if(zf(f)){var k={};f=G(f);for(var l=null,m=0,n=0;;)if(n<m){var q=l.fa(null,n),r=S(q,0,null);q=S(q,1,null);r=Xk(r,d);q=g(q);k[r]=q;n+=1}else if(f=G(f))Cf(f)?(m=Ud(f),f=Vd(f),l=m,m=R(m)):(m=I(f),l=S(m,0,null),m=S(m,1,null),l=Xk(l,d),m=g(m),
k[l]=m,f=J(f),l=null,m=0),n=0;else break;return k}if(wf(f)){k=[];f=G(rh.B(g,f));l=null;for(n=m=0;;)if(n<m)r=l.fa(null,n),k.push(r),n+=1;else if(f=G(f))l=f,Cf(l)?(f=Ud(l),n=Vd(l),l=f,m=R(f),f=n):(f=I(l),k.push(f),f=J(l),l=null,m=0),n=0;else break;return k}return f};return d(a)};Yk.R=1;Yk.Y=function(a){var b=I(a);a=J(a);return this.G(b,a)};function $k(){}
function al(a,b){if(null!=a&&null!=a.Ag)a=a.Ag(a,b);else{var c=al[oa(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=al._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw wc("IEncodeClojure.-js-\x3eclj",a);}return a}
function bl(a){var b=$e([cl,!1]),c=null!=b&&(b.F&64||p===b.oa)?Hg(Mj,b):b;c=C.B(c,cl);var d=y(c)?kg:B;return function g(f){return(null!=f?p===f.sh||(f.Se?0:uc($k,f)):uc($k,f))?al(f,Hg(Nj,b)):Ff(f)?pk(rh.B(g,f)):ei(f)?new Xh(g(fd(f)),g(gd(f)),null):wf(f)?Bh.C(hf(f),rh.j(g),f):sc(f)?Od(Dc.C(function(k,l){return zg.B(k,g(l))},Md(ff),f)):vc(f)===Object?Od(Dc.C(function(k,l){return Ag(k,d.j?d.j(l):d.call(null,l),g(ob(f,l)))},Md(Pg),nb(f))):f}(a)}var dl=null;
function el(){null==dl&&(dl=mh(new t(null,3,[fl,Pg,gl,Pg,hl,Pg],null)));return dl}function il(a,b,c){var d=M.B(b,c);if(d)return d;d=hl.j(a);d=d.j?d.j(b):d.call(null,b);if(d=If(d,c))return d;if(Bf(c))if(Bf(b))if(R(c)===R(b)){d=!0;for(var e=0;;)if(d&&e!==R(c))d=il(a,b.j?b.j(e):b.call(null,e),c.j?c.j(e):c.call(null,e)),e+=1;else return d}else return!1;else return!1;else return!1}function jl(a){var b=nd(el());return Ng(C.B(fl.j(b),a))}
function kl(a,b,c,d){oh.B(a,function(){return nd(b)});oh.B(c,function(){return nd(d)})}
var ll=function ll(a,b,c){var e=function(){var f=nd(c);return f.j?f.j(a):f.call(null,a)}();e=y(y(e)?e.j?e.j(b):e.call(null,b):e)?!0:null;if(y(e))return e;e=function(){for(var f=jl(b);;)if(0<R(f)){var g=I(f);ll.C?ll.C(a,g,c):ll.call(null,a,g,c);f=xe(f)}else return null}();if(y(e))return e;e=function(){for(var f=jl(a);;)if(0<R(f)){var g=I(f);ll.C?ll.C(g,b,c):ll.call(null,g,b,c);f=xe(f)}else return null}();return y(e)?e:!1};function ml(a,b,c,d){c=ll(a,b,c);return y(c)?c:il(d,a,b)}
var nl=function nl(a,b,c,d,e,f,g,k){var m=Dc.C(function(q,r){var u=S(r,0,null);S(r,1,null);if(il(nd(c),b,u)){q=null==q||ml(u,I(q),e,nd(c))?r:q;if(!ml(I(q),u,e,nd(c)))throw Error(["Multiple methods in multimethod '",B.j(a),"' match dispatch value: ",B.j(b)," -\x3e ",B.j(u)," and ",B.j(I(q)),", and neither is preferred"].join(""));return q}return q},null,nd(d)),n=function(){if(null==m){var q=nd(d);q=q.j?q.j(k):q.call(null,k)}else q=!1;return y(q)?new V(null,2,5,X,[k,q],null):m}();if(y(n)){if(M.B(nd(g),
nd(c)))return oh.ba(f,kf,b,I(J(n))),I(J(n));kl(f,d,g,c);return nl.cb?nl.cb(a,b,c,d,e,f,g,k):nl.call(null,a,b,c,d,e,f,g,k)}return null};function ol(a,b){throw Error(["No method in multimethod '",B.j(a),"' for dispatch value: ",B.j(b)].join(""));}function pl(a,b,c,d,e,f,g){var k=ql;this.name=a;this.N=b;this.Ng=k;this.hierarchy=c;this.me=d;this.dh=e;this.le=f;this.Wd=g;this.F=4194305;this.T=4352}h=pl.prototype;
h.call=function(){function a(v,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va,Ha,Wa,pb,$b){v=this;var Xc=Lg(v.N,w,A,E,F,$e([H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va,Ha,Wa,pb,$b])),sd=rl(this,Xc);y(sd)||ol(v.name,Xc);return Lg(sd,w,A,E,F,$e([H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va,Ha,Wa,pb,$b]))}function b(v,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va,Ha,Wa){v=this;var pb=v.N.vb?v.N.vb(w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va,Ha,Wa):v.N.call(null,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va,Ha,Wa),$b=rl(this,pb);y($b)||ol(v.name,pb);return $b.vb?
$b.vb(w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va,Ha,Wa):$b.call(null,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va,Ha,Wa)}function c(v,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va,Ha){v=this;var Wa=v.N.ub?v.N.ub(w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va,Ha):v.N.call(null,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va,Ha),pb=rl(this,Wa);y(pb)||ol(v.name,Wa);return pb.ub?pb.ub(w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va,Ha):pb.call(null,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va,Ha)}function d(v,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va){v=
this;var Ha=v.N.tb?v.N.tb(w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va):v.N.call(null,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va),Wa=rl(this,Ha);y(Wa)||ol(v.name,Ha);return Wa.tb?Wa.tb(w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va):Wa.call(null,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va)}function e(v,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra){v=this;var va=v.N.sb?v.N.sb(w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra):v.N.call(null,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra),Ha=rl(this,va);y(Ha)||ol(v.name,va);return Ha.sb?Ha.sb(w,A,E,F,H,N,
P,Q,U,W,Y,Z,ca,ka,pa,ra):Ha.call(null,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra)}function f(v,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa){v=this;var ra=v.N.rb?v.N.rb(w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa):v.N.call(null,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa),va=rl(this,ra);y(va)||ol(v.name,ra);return va.rb?va.rb(w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa):va.call(null,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa)}function g(v,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka){v=this;var pa=v.N.qb?v.N.qb(w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka):v.N.call(null,w,A,E,F,H,N,P,Q,
U,W,Y,Z,ca,ka),ra=rl(this,pa);y(ra)||ol(v.name,pa);return ra.qb?ra.qb(w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka):ra.call(null,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka)}function k(v,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca){v=this;var ka=v.N.pb?v.N.pb(w,A,E,F,H,N,P,Q,U,W,Y,Z,ca):v.N.call(null,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca),pa=rl(this,ka);y(pa)||ol(v.name,ka);return pa.pb?pa.pb(w,A,E,F,H,N,P,Q,U,W,Y,Z,ca):pa.call(null,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca)}function l(v,w,A,E,F,H,N,P,Q,U,W,Y,Z){v=this;var ca=v.N.ob?v.N.ob(w,A,E,F,H,N,P,Q,U,W,Y,Z):v.N.call(null,
w,A,E,F,H,N,P,Q,U,W,Y,Z),ka=rl(this,ca);y(ka)||ol(v.name,ca);return ka.ob?ka.ob(w,A,E,F,H,N,P,Q,U,W,Y,Z):ka.call(null,w,A,E,F,H,N,P,Q,U,W,Y,Z)}function m(v,w,A,E,F,H,N,P,Q,U,W,Y){v=this;var Z=v.N.nb?v.N.nb(w,A,E,F,H,N,P,Q,U,W,Y):v.N.call(null,w,A,E,F,H,N,P,Q,U,W,Y),ca=rl(this,Z);y(ca)||ol(v.name,Z);return ca.nb?ca.nb(w,A,E,F,H,N,P,Q,U,W,Y):ca.call(null,w,A,E,F,H,N,P,Q,U,W,Y)}function n(v,w,A,E,F,H,N,P,Q,U,W){v=this;var Y=v.N.mb?v.N.mb(w,A,E,F,H,N,P,Q,U,W):v.N.call(null,w,A,E,F,H,N,P,Q,U,W),Z=rl(this,
Y);y(Z)||ol(v.name,Y);return Z.mb?Z.mb(w,A,E,F,H,N,P,Q,U,W):Z.call(null,w,A,E,F,H,N,P,Q,U,W)}function q(v,w,A,E,F,H,N,P,Q,U){v=this;var W=v.N.yb?v.N.yb(w,A,E,F,H,N,P,Q,U):v.N.call(null,w,A,E,F,H,N,P,Q,U),Y=rl(this,W);y(Y)||ol(v.name,W);return Y.yb?Y.yb(w,A,E,F,H,N,P,Q,U):Y.call(null,w,A,E,F,H,N,P,Q,U)}function r(v,w,A,E,F,H,N,P,Q){v=this;var U=v.N.cb?v.N.cb(w,A,E,F,H,N,P,Q):v.N.call(null,w,A,E,F,H,N,P,Q),W=rl(this,U);y(W)||ol(v.name,U);return W.cb?W.cb(w,A,E,F,H,N,P,Q):W.call(null,w,A,E,F,H,N,P,Q)}
function u(v,w,A,E,F,H,N,P){v=this;var Q=v.N.xb?v.N.xb(w,A,E,F,H,N,P):v.N.call(null,w,A,E,F,H,N,P),U=rl(this,Q);y(U)||ol(v.name,Q);return U.xb?U.xb(w,A,E,F,H,N,P):U.call(null,w,A,E,F,H,N,P)}function x(v,w,A,E,F,H,N){v=this;var P=v.N.Ya?v.N.Ya(w,A,E,F,H,N):v.N.call(null,w,A,E,F,H,N),Q=rl(this,P);y(Q)||ol(v.name,P);return Q.Ya?Q.Ya(w,A,E,F,H,N):Q.call(null,w,A,E,F,H,N)}function z(v,w,A,E,F,H){v=this;var N=v.N.ga?v.N.ga(w,A,E,F,H):v.N.call(null,w,A,E,F,H),P=rl(this,N);y(P)||ol(v.name,N);return P.ga?
P.ga(w,A,E,F,H):P.call(null,w,A,E,F,H)}function K(v,w,A,E,F){v=this;var H=v.N.ba?v.N.ba(w,A,E,F):v.N.call(null,w,A,E,F),N=rl(this,H);y(N)||ol(v.name,H);return N.ba?N.ba(w,A,E,F):N.call(null,w,A,E,F)}function O(v,w,A,E){v=this;var F=v.N.C?v.N.C(w,A,E):v.N.call(null,w,A,E),H=rl(this,F);y(H)||ol(v.name,F);return H.C?H.C(w,A,E):H.call(null,w,A,E)}function ba(v,w,A){v=this;var E=v.N.B?v.N.B(w,A):v.N.call(null,w,A),F=rl(this,E);y(F)||ol(v.name,E);return F.B?F.B(w,A):F.call(null,w,A)}function ja(v,w){v=
this;var A=v.N.j?v.N.j(w):v.N.call(null,w),E=rl(this,A);y(E)||ol(v.name,A);return E.j?E.j(w):E.call(null,w)}function ma(v){v=this;var w=v.N.O?v.N.O():v.N.call(null),A=rl(this,w);y(A)||ol(v.name,w);return A.O?A.O():A.call(null)}var ha=null;ha=function(v,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va,Ha,Wa,pb,$b){switch(arguments.length){case 1:return ma.call(this,v);case 2:return ja.call(this,v,w);case 3:return ba.call(this,v,w,A);case 4:return O.call(this,v,w,A,E);case 5:return K.call(this,v,w,A,E,F);case 6:return z.call(this,
v,w,A,E,F,H);case 7:return x.call(this,v,w,A,E,F,H,N);case 8:return u.call(this,v,w,A,E,F,H,N,P);case 9:return r.call(this,v,w,A,E,F,H,N,P,Q);case 10:return q.call(this,v,w,A,E,F,H,N,P,Q,U);case 11:return n.call(this,v,w,A,E,F,H,N,P,Q,U,W);case 12:return m.call(this,v,w,A,E,F,H,N,P,Q,U,W,Y);case 13:return l.call(this,v,w,A,E,F,H,N,P,Q,U,W,Y,Z);case 14:return k.call(this,v,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca);case 15:return g.call(this,v,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka);case 16:return f.call(this,v,w,A,E,F,H,
N,P,Q,U,W,Y,Z,ca,ka,pa);case 17:return e.call(this,v,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra);case 18:return d.call(this,v,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va);case 19:return c.call(this,v,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va,Ha);case 20:return b.call(this,v,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va,Ha,Wa);case 21:var Xc=this.N.wb?this.N.wb(w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va,Ha,Wa,pb):this.N.call(null,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va,Ha,Wa,pb),sd=rl(this,Xc);y(sd)||ol(this.name,Xc);return sd.wb?
sd.wb(w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va,Ha,Wa,pb):sd.call(null,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va,Ha,Wa,pb);case 22:return a.call(this,v,w,A,E,F,H,N,P,Q,U,W,Y,Z,ca,ka,pa,ra,va,Ha,Wa,pb,$b)}throw Error("Invalid arity: "+(arguments.length-1));};ha.j=ma;ha.B=ja;ha.C=ba;ha.ba=O;ha.ga=K;ha.Ya=z;ha.xb=x;ha.cb=u;ha.yb=r;ha.mb=q;ha.nb=n;ha.ob=m;ha.pb=l;ha.qb=k;ha.rb=g;ha.sb=f;ha.tb=e;ha.ub=d;ha.vb=c;ha.wb=b;ha.Ee=a;return ha}();h.apply=function(a,b){return this.call.apply(this,[this].concat(Bc(b)))};
h.O=function(){var a=this.N.O?this.N.O():this.N.call(null),b=rl(this,a);y(b)||ol(this.name,a);return b.O?b.O():b.call(null)};h.j=function(a){var b=this.N.j?this.N.j(a):this.N.call(null,a),c=rl(this,b);y(c)||ol(this.name,b);return c.j?c.j(a):c.call(null,a)};h.B=function(a,b){var c=this.N.B?this.N.B(a,b):this.N.call(null,a,b),d=rl(this,c);y(d)||ol(this.name,c);return d.B?d.B(a,b):d.call(null,a,b)};
h.C=function(a,b,c){var d=this.N.C?this.N.C(a,b,c):this.N.call(null,a,b,c),e=rl(this,d);y(e)||ol(this.name,d);return e.C?e.C(a,b,c):e.call(null,a,b,c)};h.ba=function(a,b,c,d){var e=this.N.ba?this.N.ba(a,b,c,d):this.N.call(null,a,b,c,d),f=rl(this,e);y(f)||ol(this.name,e);return f.ba?f.ba(a,b,c,d):f.call(null,a,b,c,d)};h.ga=function(a,b,c,d,e){var f=this.N.ga?this.N.ga(a,b,c,d,e):this.N.call(null,a,b,c,d,e),g=rl(this,f);y(g)||ol(this.name,f);return g.ga?g.ga(a,b,c,d,e):g.call(null,a,b,c,d,e)};
h.Ya=function(a,b,c,d,e,f){var g=this.N.Ya?this.N.Ya(a,b,c,d,e,f):this.N.call(null,a,b,c,d,e,f),k=rl(this,g);y(k)||ol(this.name,g);return k.Ya?k.Ya(a,b,c,d,e,f):k.call(null,a,b,c,d,e,f)};h.xb=function(a,b,c,d,e,f,g){var k=this.N.xb?this.N.xb(a,b,c,d,e,f,g):this.N.call(null,a,b,c,d,e,f,g),l=rl(this,k);y(l)||ol(this.name,k);return l.xb?l.xb(a,b,c,d,e,f,g):l.call(null,a,b,c,d,e,f,g)};
h.cb=function(a,b,c,d,e,f,g,k){var l=this.N.cb?this.N.cb(a,b,c,d,e,f,g,k):this.N.call(null,a,b,c,d,e,f,g,k),m=rl(this,l);y(m)||ol(this.name,l);return m.cb?m.cb(a,b,c,d,e,f,g,k):m.call(null,a,b,c,d,e,f,g,k)};h.yb=function(a,b,c,d,e,f,g,k,l){var m=this.N.yb?this.N.yb(a,b,c,d,e,f,g,k,l):this.N.call(null,a,b,c,d,e,f,g,k,l),n=rl(this,m);y(n)||ol(this.name,m);return n.yb?n.yb(a,b,c,d,e,f,g,k,l):n.call(null,a,b,c,d,e,f,g,k,l)};
h.mb=function(a,b,c,d,e,f,g,k,l,m){var n=this.N.mb?this.N.mb(a,b,c,d,e,f,g,k,l,m):this.N.call(null,a,b,c,d,e,f,g,k,l,m),q=rl(this,n);y(q)||ol(this.name,n);return q.mb?q.mb(a,b,c,d,e,f,g,k,l,m):q.call(null,a,b,c,d,e,f,g,k,l,m)};h.nb=function(a,b,c,d,e,f,g,k,l,m,n){var q=this.N.nb?this.N.nb(a,b,c,d,e,f,g,k,l,m,n):this.N.call(null,a,b,c,d,e,f,g,k,l,m,n),r=rl(this,q);y(r)||ol(this.name,q);return r.nb?r.nb(a,b,c,d,e,f,g,k,l,m,n):r.call(null,a,b,c,d,e,f,g,k,l,m,n)};
h.ob=function(a,b,c,d,e,f,g,k,l,m,n,q){var r=this.N.ob?this.N.ob(a,b,c,d,e,f,g,k,l,m,n,q):this.N.call(null,a,b,c,d,e,f,g,k,l,m,n,q),u=rl(this,r);y(u)||ol(this.name,r);return u.ob?u.ob(a,b,c,d,e,f,g,k,l,m,n,q):u.call(null,a,b,c,d,e,f,g,k,l,m,n,q)};h.pb=function(a,b,c,d,e,f,g,k,l,m,n,q,r){var u=this.N.pb?this.N.pb(a,b,c,d,e,f,g,k,l,m,n,q,r):this.N.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r),x=rl(this,u);y(x)||ol(this.name,u);return x.pb?x.pb(a,b,c,d,e,f,g,k,l,m,n,q,r):x.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r)};
h.qb=function(a,b,c,d,e,f,g,k,l,m,n,q,r,u){var x=this.N.qb?this.N.qb(a,b,c,d,e,f,g,k,l,m,n,q,r,u):this.N.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u),z=rl(this,x);y(z)||ol(this.name,x);return z.qb?z.qb(a,b,c,d,e,f,g,k,l,m,n,q,r,u):z.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u)};
h.rb=function(a,b,c,d,e,f,g,k,l,m,n,q,r,u,x){var z=this.N.rb?this.N.rb(a,b,c,d,e,f,g,k,l,m,n,q,r,u,x):this.N.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u,x),K=rl(this,z);y(K)||ol(this.name,z);return K.rb?K.rb(a,b,c,d,e,f,g,k,l,m,n,q,r,u,x):K.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u,x)};
h.sb=function(a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z){var K=this.N.sb?this.N.sb(a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z):this.N.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z),O=rl(this,K);y(O)||ol(this.name,K);return O.sb?O.sb(a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z):O.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z)};
h.tb=function(a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z,K){var O=this.N.tb?this.N.tb(a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z,K):this.N.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z,K),ba=rl(this,O);y(ba)||ol(this.name,O);return ba.tb?ba.tb(a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z,K):ba.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z,K)};
h.ub=function(a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z,K,O){var ba=this.N.ub?this.N.ub(a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z,K,O):this.N.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z,K,O),ja=rl(this,ba);y(ja)||ol(this.name,ba);return ja.ub?ja.ub(a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z,K,O):ja.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z,K,O)};
h.vb=function(a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z,K,O,ba){var ja=this.N.vb?this.N.vb(a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z,K,O,ba):this.N.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z,K,O,ba),ma=rl(this,ja);y(ma)||ol(this.name,ja);return ma.vb?ma.vb(a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z,K,O,ba):ma.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z,K,O,ba)};
h.wb=function(a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z,K,O,ba,ja){var ma=this.N.wb?this.N.wb(a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z,K,O,ba,ja):this.N.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z,K,O,ba,ja),ha=rl(this,ma);y(ha)||ol(this.name,ma);return ha.wb?ha.wb(a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z,K,O,ba,ja):ha.call(null,a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z,K,O,ba,ja)};function sl(a,b,c){oh.ba(a.me,kf,b,c);kl(a.le,a.me,a.Wd,a.hierarchy)}
function rl(a,b){M.B(nd(a.Wd),nd(a.hierarchy))||kl(a.le,a.me,a.Wd,a.hierarchy);var c=nd(a.le);c=c.j?c.j(b):c.call(null,b);return y(c)?c:nl(a.name,b,a.hierarchy,a.me,a.dh,a.le,a.Wd,a.Ng)}h.yd=function(){return Wd(this.name)};h.zd=function(){return Xd(this.name)};h.sa=function(){return wa(this)};function tl(a,b){this.lc=a;this.P=b;this.F=2153775104;this.T=2048}h=tl.prototype;h.toString=function(){return this.lc};h.equiv=function(a){return this.aa(null,a)};
h.aa=function(a,b){return b instanceof tl&&this.lc===b.lc};h.ja=function(a,b){return Hd(b,['#uuid "',B.j(this.lc),'"'].join(""))};h.sa=function(){null==this.P&&(this.P=pe(this.lc));return this.P};h.Tb=function(a,b){return hb(this.lc,b.lc)};function ul(a,b,c){var d=Error(a);this.message=a;this.data=b;this.Ef=c;this.name=d.name;this.description=d.description;this.number=d.number;this.fileName=d.fileName;this.lineNumber=d.lineNumber;this.columnNumber=d.columnNumber;this.stack=d.stack;return this}
ul.prototype.__proto__=Error.prototype;ul.prototype.Ba=p;ul.prototype.ja=function(a,b,c){Hd(b,"#error {:message ");Bk(this.message,b,c);y(this.data)&&(Hd(b,", :data "),Bk(this.data,b,c));y(this.Ef)&&(Hd(b,", :cause "),Bk(this.Ef,b,c));return Hd(b,"}")};ul.prototype.toString=function(){return ge(this)};function vl(a,b){return new ul(a,b,null)}
function wl(){y(Ac)||(Ac=function(){for(var a=Mf(function(e,f){return f.length-e.length},nb(zc)),b="";;)if(G(a)){var c=J(a),d=[function(){var e=b;return""!==b?[e,"|"].join(""):e}(),B.j(I(a))].join("");a=c;b=d}else return[b,"|\\$"].join("")}());return Ac}
function xl(a){var b=B.j(a);if("_DOT__DOT_"===b)var c="..";else a:{c=new RegExp(wl(),"g");b=y(Bb(b,"$"))?b.substring(0,b.length-1):b;for(var d="",e=0;;){var f=c.exec(b);if(y(f))f=S(f,0,null),d=[d,B.j(b.substring(e,c.lastIndex-f.length)),B.j("$"===f?"/":ob(zc,f))].join(""),e=c.lastIndex;else{c=[d,B.j(b.substring(e,b.length))].join("");break a}}}a=a instanceof se?te:B;return a.j?a.j(c):a.call(null,c)};var yl=new D(null,"expected","expected",1583670997),zl=new D(null,"data-error","data-error",-1058016301),Al=new D(null,"apparent-success","apparent-success",242592222),Bl=new D("chsk","error","chsk/error",-984175439),Cl=new D(null,"table","table",-564943036),Dl=new D(null,"level","level",1290497552),El=new D(null,"?err_","?err_",789480858),Fl=new D(null,"ms","ms",-1152709733),Gl=new D(null,"middleware-fn","middleware-fn",-61585752),Hl=new D(null,"readers","readers",-2118263030),Il=new D(null,"line",
"line",212345235),Jl=new D(null,"lp-timeout","lp-timeout",1149461302),Kl=new D(null,"on-dispose","on-dispose",2105306360),Ll=new D(null,"descending","descending",-24766135),Ml=new D(null,"form-str","form-str",871608859),Nl=new D(null,"headers","headers",-835030129),Ol=new D(null,"string","string",-1989541586),Pl=new D(null,"factor","factor",-2103172748),Ql=new se(null,"fn*","fn*",-752876845,null),Rl=new D(null,"abort","abort",521193198),Sl=new D(null,"log-level","log-level",862121670),Tl=new D(null,
"handlers","handlers",79528781),Ul=new D(null,"?status","?status",938730360),Vl=new se(aa,"fn","cljs.core/fn",-1065745098,null),Qk=new D(null,"status","status",-1997798413),Wl=new D(null,"version","version",425292698),gl=new D(null,"descendants","descendants",1824886031),Xl=new D(null,"report","report",1394055010),Yl=new D(null,"days","days",-1394072564),Zl=new D(null,"ns-whitelist","ns-whitelist",-1717299774),$l=new D(null,"on-click","on-click",1632826543),am=new D(null,"vega-lite","vega-lite",-650304770),
bm=new D(null,"recur","recur",-437573268),cm=new D(null,"port","port",1534937262),dm=new D("chsk","timeout","chsk/timeout",-319776489),em=new D(null,"*?data*","*?data*",1047537922),fm=new D(null,"http","http",382524695),gm=new D(null,"ajax-chsk-opts","ajax-chsk-opts",1602591327),hm=new D(null,"udt","udt",2011712751),im=new D(null,"appender-id","appender-id",-1917983538),jm=new D(null,"timeout-ms","timeout-ms",754221406),km=new D(null,"getInitialState","getInitialState",1541760916),Mk=new D("chsk",
"auto-ajax-downgrade","chsk/auto-ajax-downgrade",-831528080),lm=new D(null,"downgrading-ws-to-ajax","downgrading-ws-to-ajax",402136720),mm=new D(null,"blacklist","blacklist",1248093170),nm=new D(null,"state","state",-1988618099),Uj=new D(aa,"not-found","cljs.core/not-found",-1572889185),om=new D(null,"no-cache","no-cache",1588056370),pm=new D(null,"vargs_","vargs_",552132148),qm=new D(null,"server","server",1499190120),rm=new D(null,"safari","safari",497115653),sm=new D(null,"raw-console?","raw-console?",
-2061489061),tm=new D(null,"exception","exception",-335277064),um=new se(null,"/","/",-1371932971,null),vm=new D("ajax","bad-response-type","ajax/bad-response-type",789441015),wm=new D(null,"clean?","clean?",-1675631009),xm=new D(null,"illegal-argument","illegal-argument",-1845493170),ym=new D(null,"data-table","data-table",-149582774),zm=new D("mem","all","mem/all",892075139),Am=new D(null,"first-open?","first-open?",396686530),Bm=new D("chsk","ws-ping","chsk/ws-ping",191675304),Cm=new D("debug",
"timeout","debug/timeout",309499949),Dm=new D(null,"wrong-id-type","wrong-id-type",-1213601689),Em=new D("taoensso.encore","dynamic","taoensso.encore/dynamic",-1726758399),Hm=new D(null,"uid","uid",-1447769400),Im=new D(null,"function-components","function-components",1492814963),Jm=new D(null,"th","th",-545608566),Km=new D(null,"tr","tr",-1424774646),Lm=new D(null,"qname","qname",-1983612179),Mm=new D(ea,"chsk-connected?","oz.app/chsk-connected?",-747783275),Nm=new D(null,"set","set",304602554),
Om=new D(null,"flush?","flush?",-108887231),Pm=new D(null,"handshake?","handshake?",-423743093),Qm=new D(da,"name","cljs.spec.alpha/name",205233570),Rm=new D(null,"td","td",1479933353),Sm=new D(null,"handshake","handshake",68079331),Tm=new D(null,"error","error",-978969032),Um=new D(null,"xhr-pool-depleted","xhr-pool-depleted",-1812092376),Vm=new D(null,"actual","actual",107306363),Wm=new D(null,"event","event",301435442),Xm=new D(null,"noop","noop",-673731258),Ym=new D(null,"div","div",1057191632),
Zm=new D(null,"handshake-data","handshake-data",-278378864),$m=new D(null,"function","function",-2127255473),an=new D(null,"canvas","canvas",-1798817489),bn=new D(null,"margin-bottom","margin-bottom",388334941),Zk=new D(null,"keyword-fn","keyword-fn",-64566675),cn=new D(null,"per-page","per-page",-54905429),dn=new D(null,"pathname","pathname",-1420497528),en=new D(null,"asset-path","asset-path",1500889617),fn=new D(null,"component-will-unmount","component-will-unmount",-2058314698),gn=new D(null,
"ns-blacklist","ns-blacklist",1957763142),hn=new D(null,"?err","?err",549653299),jn=new D(null,"?error","?error",1070752222),kn=new D(null,"href","href",-793805698),ln=new D(null,"type","type",1174270348),mn=new D(null,"style","style",-496642736),nn=new D(null,"impl_","impl_",1218818179),on=new D(null,"callback","callback",-705136228),pn=new D(null,"reader-error","reader-error",1610253121),qn=new se(null,"v","v",1661996586,null),rn=new D(da,"op","cljs.spec.alpha/op",-1269055252),sn=new D(null,"ws",
"ws",86841443),tn=new se(null,"k","k",-505765866,null),un=new D(null,"span","span",1394872991),vn=new D(null,"async?","async?",1523057758),wn=new D(null,"component-will-update","component-will-update",335247566),xn=new D(null,"no-stacktrace?","no-stacktrace?",1701072694),yn=new D(null,"code","code",1586293142),oc=new D(null,"meta","meta",1499536964),zn=new D(null,"search","search",1564939822),An=new D(null,"host","host",-1558485167),Bn=new D(null,"err","err",-2089457205),Cn=new D(null,"\x3cserver",
"\x3cserver",-2135373537),Dn=new D(null,"auto","auto",-566279492),En=new D(null,"fatal","fatal",1874419888),Fn=new D(null,"rate-limit","rate-limit",1748082022),Gn=new D(null,"namespaced-keyword","namespaced-keyword",131372895),Hn=new D(null,"logLevel","logLevel",1131406165),In=new D(null,"your-version","your-version",-351781765),Jn=new D(null,"col","col",-1959363084),Kn=new D(null,"?ns-str","?ns-str",2012733966),Ln=new D(null,"ch-recv","ch-recv",-990916861),Mn=new D(null,"instance-handle_","instance-handle_",
-1923384457),Nn=new D(null,"cljsLegacyRender","cljsLegacyRender",-1527295613),On=new D(null,"instant","instant",655498374),Pn=new D(null,"reagentRender","reagentRender",-358306383),Qn=new D(null,"ex-kind","ex-kind",1581199296),Rn=new D(null,"internal","internal",-854870097),Sn=new D(null,"last-ws-error","last-ws-error",-820288502),Tn=new D(null,"req-id","req-id",-471642231),Un=new D(null,"csrf-token","csrf-token",-1872302856),Vn=new D("chsk","state","chsk/state",-1991397620),Wn=new se(null,"-Inf",
"-Inf",-2123243689,null),Xn=new D(null,"client-uuid","client-uuid",-1717531965),ql=new D(null,"default","default",-1987822328),Yn=new D(null,"secs","secs",1532330091),Zn=new D(null,"firefox","firefox",1283768880),$n=new D(null,"unexpected","unexpected",-1137752424),ao=new D(null,"elidable?","elidable?",248362249),qc=new D(null,"print-length","print-length",1931866356),bo=new D(null,"nil","nil",99600501),co=new D(null,"json","json",1279968570),eo=new D(null,"reader-exception","reader-exception",-1938323098),
cl=new D(null,"keywordize-keys","keywordize-keys",1310784252),fo=new D(da,"v","cljs.spec.alpha/v",552625740),go=new D(null,"on-write","on-write",31519475),ho=new D(da,"k","cljs.spec.alpha/k",-1602615178),io=new D(null,"info","info",-317069002),jo=new D(null,"output-fn","output-fn",1600951539),ko=new D("mem","del","mem/del",574870667),lo=new D(null,"total","total",1916810418),mo=new D(null,"?content","?content",1697782054),no=new se(null,"%","%",-950237169,null),oo=new D(null,"length-computable?",
"length-computable?",1915473276),po=new D(null,"validator","validator",-1966190681),qo=new D(null,"unnamespaced-id","unnamespaced-id",1976189772),ro=new D("rl","all","rl/all",892118056),so=new D(null,"ever-opened?","ever-opened?",1128459732),Sk=new D(null,"pending","pending",-220036727),nc=new D(null,"readably","readably",1129599760),to=new D(null,"contextTypes","contextTypes",-2023853910),uo=new D(null,"chsk","chsk",-863703081),vo=new D(null,"file","file",-1269645878),wo=new D(null,"error-handler",
"error-handler",-484945776),xo=new D(null,"progress-fn","progress-fn",-1146547855),yo=new D(null,"client-id","client-id",-464622140),zo=new D(null,"months","months",-45571637),Ao=new D(null,"send-fn","send-fn",351002041),Bo=new D(null,"text","text",-1790561697),Co=new D(null,"ns-str","ns-str",-2062616499),Do=new se(null,"uuid","uuid",-504564192,null),Eo=new D(null,"udt-last-comms_","udt-last-comms_",-145799639),Fo=new se(null,"queue","queue",-1198599890,null),Go=new D(null,"relativize-url","relativize-url",
621482324),Ho=new D(null,"params","params",710516235),hl=new D(null,"ancestors","ancestors",-776045424),Io=new D(null,"retry-count_","retry-count_",20238093),Jo=new D(null,"hostname","hostname",2105669933),Ko=new D(null,"asset-root","asset-root",1771735072),Lo=new D(null,"?data","?data",-9471433),Mo=new D(null,"error-level?","error-level?",778415885),No=new D(null,"ring-req","ring-req",-747861961),Oo=new D(null,"loaded","loaded",-1246482293),Po=new D(null,"view-spec","view-spec",-1642989449),Kk=new D(null,
"val","val",128701612),Qo=new se(aa,"zipmap","cljs.core/zipmap",-1902130674,null),Ro=new D(null,"render","render",-1408033454),So=new D(null,"timeout","timeout",-318625318),To=new D(null,"auto-run","auto-run",1958400437),Uo=new D(null,"min-version","min-version",-1697197126),Vo=new D(null,"hours","hours",58380855),Wo=new D(null,"renderer","renderer",336841071),Xo=new D(null,"trace-evs?","trace-evs?",1502453512),Yo=new D(null,"get","get",1683182755),Zo=new D(da,"kvs-\x3emap","cljs.spec.alpha/kvs-\x3emap",
579713455),$o=new D(null,"component-did-catch","component-did-catch",652725810),ap=new D(null,"method","method",55703592),bp=new D(null,"val-type","val-type",-279850094),cp=new D(null,"years","years",-1298579689),dp=new D(null,"namespaced-map","namespaced-map",1235665380),ep=new D(null,"constructor","constructor",-1953928811),fp=new D(null,"childContextTypes","childContextTypes",578717991),gp=new D(null,"vega","vega",-1657843081),hp=new D(null,"xhr","xhr",-177710851),ip=new D(null,"mins","mins",467369676),
jp=new D(null,"tag","tag",-1290361223),kp=new D(null,"hostname_","hostname_",-2091647379),lp=new D(null,"?msg-fmt","?msg-fmt",-852453891),mp=new D(null,"th-style","th-style",-1504296072),np=new D(null,"edn","edn",1317840885),op=new D(null,"?line","?line",-631853385),Dk=new D(null,"alt-impl","alt-impl",670969595),pp=new D(null,"given","given",716253602),qp=new D(null,"div.viz","div.viz",1155063891),rp=new D(null,"sort-order","sort-order",1853277479),sp=new D(null,"udt-next-reconnect","udt-next-reconnect",
-1990375733),tp=new D(ea,"connection-established","oz.app/connection-established",-520291143),up=new D(null,"location","location",1815599388),vp=new D(null,"xml","xml",-1170142052),wp=new D(null,"?reply-fn","?reply-fn",-1479510592),mc=new D(null,"flush-on-newline","flush-on-newline",-151457939),xp=new D(null,"wrong-length","wrong-length",1367572281),yp=new D(null,"character","character",380652989),zp=new D(null,"reagent-render","reagent-render",-985383853),Ap=new D(null,"wrap-recv-evs?","wrap-recv-evs?",
-1996694153),Bp=new D(null,"hierarchy","hierarchy",-1053470341),Cp=new D(null,"f","f",-1597136552),Dp=new D(null,"trace","trace",-1082747415),Ep=new D(null,"ua-product","ua-product",938384227),Fp=new D(null,"a","a",-2123407586),Gp=new D("rl","reset","rl/reset",-800926172),Hp=new D(null,"ajax-cb","ajax-cb",-807060321),Ip=new D(null,"last-close","last-close",-2054255782),Jp=new D(null,"strable","strable",1877668047),Kp=new D(null,"componentWillUnmount","componentWillUnmount",1573788814),Lp=new D(null,
"p","p",151049309),Mp=new D(null,"nodejs","nodejs",321212524),Np=new D(null,"contextType","contextType",1033066077),Op=new D(null,"symbol","symbol",-1038572696),Pp=new D(null,"middleware","middleware",1462115504),Qp=new D(null,"getDerivedStateFromProps","getDerivedStateFromProps",-991834739),Rp=new D(null,"value","value",305978217),Sp=new D(null,"ws-chsk-opts","ws-chsk-opts",-1990170104),Ek=new D(null,"fallback-impl","fallback-impl",-1501286995),Tp=new D(null,"display-name","display-name",694513143),
Up=new D(null,"enabled?","enabled?",-1376075057),Vp=new D(null,"chs","chs",376886120),Wp=new D(null,"debug","debug",-1608172596),Xp=new D(null,"vector","vector",1902966158),Yp=new D(null,"wrong-type","wrong-type",929556915),Zp=new D(null,"connected-uids","connected-uids",1454332231),$p=new D(null,"className","className",-1983287057),aq=new D(null,"appenders","appenders",1245583998),bq=new D("rl","peek","rl/peek",-291391771),cq=new se(null,"p1__17829#","p1__17829#",-1973202598,null),dq=new D(null,
"eof","eof",-489063237),eq=new D(null,"ws-kalive-ms","ws-kalive-ms",1442179968),fq=new se(null,"js","js",-886355190,null),gq=new se(da,"conformer","cljs.spec.alpha/conformer",2140085535,null),hq=new se("oz","start-server!","oz/start-server!",203433743,null),iq=new D(null,"unknown","unknown",-935977881),vk=new D(null,"more-marker","more-marker",-14717935),jq=new D(null,"X-CSRF-Token","X-CSRF-Token",1562992453),kq=new D(null,"qualifier","qualifier",125841738),lq=new D(null,"td-style","td-style",1948769874),
mq=new D("chsk","bad-package","chsk/bad-package",501893679),nq=new D(null,"cbs-waiting_","cbs-waiting_",-1519029061),Rk=new D(null,"ready","ready",1086465795),oq=new D(null,"hash_","hash_",-827203612),pq=new D(null,"http-error","http-error",-1040049553),qq=new D(null,"displayName","displayName",-809144601),rq=new D(null,"?file","?file",1533429675),sq=new D(da,"gfn","cljs.spec.alpha/gfn",-593120375),tq=new D(null,"map","map",1371690461),uq=new D(null,"open?","open?",1238443125),vq=new D(null,"getDerivedStateFromError",
"getDerivedStateFromError",166658477),wq=new D(null,"mode","mode",654403691),xq=new D(null,"sort-key","sort-key",1285844623),yq=new D(null,"max","max",61366548),zq=new D(null,"host-port","host-port",1956551772),Aq=new D(null,"last-ws-close","last-ws-close",-798104932),Bq=new D(null,"url","url",276297046),Cq=new D(null,"ever-opened?_","ever-opened?_",1641338913),Dq=new D(null,"state_","state_",957667102),Eq=new D(null,"class","class",-2030961996),Fq=new D(null,"packer","packer",66077544),Gq=new D(null,
"success?","success?",-122854052),Hq=new se(null,"p1__17830#","p1__17830#",-104632318,null),Iq=new se(null,"inst","inst",-2008473268,null),Jq=new D(null,"tr-style","tr-style",1853585605),Mq=new D(null,"?meta","?meta",-793560773),Nq=new D(null,"cursor","cursor",1011937484),Oq=new D(null,"name","name",1843675177),Pq=new D(null,"vargs","vargs",-966597273),Qq=new D("chsk","bad-event","chsk/bad-event",-565206930),Rq=new D(null,"page","page",849072397),Sq=new D(null,"stacktrace-fonts","stacktrace-fonts",
830799382),Tq=new D(null,"warn","warn",-436710552),Uq=new D(null,"appender","appender",1267426510),Vq=new D("mem","fresh","mem/fresh",-1179989133),Wq=new D(null,"ajax","ajax",814345549),Xq=new D(null,"on-set","on-set",-140953470),Yq=new D(null,"parse-stacktrace","parse-stacktrace",-38208461),Zq=new D(null,"pointer","pointer",85071187),$q=new D(null,"chrome","chrome",1718738387),ar=new D(null,"ascending","ascending",-988350486),br=new D(null,"backoff-ms-fn","backoff-ms-fn",772895955),cr=new D(null,
"context","context",-830191113),dr=new D(null,"chsk-url-fn","chsk-url-fn",1968894294),er=new D(null,"raw-resp","raw-resp",-1924342506),fr=new se(null,"Inf","Inf",647172781,null),gr=new se(aa,"map","cljs.core/map",-338988913,null),pc=new D(null,"dup","dup",556298533),hr=new D(null,"timestamp_","timestamp_",-954533417),ir=new D("ajax","resp-as-text","ajax/resp-as-text",141416819),jr=new D(null,"socket_","socket_",-361048908),kr=new D(null,"h2","h2",-372662728),lr=new D(null,"h1","h1",-1896887462),mr=
new D(null,"fn","fn",-1175266204),nr=new D(null,"args","args",1315556576),or=new D(null,"h3","h3",2067611163),pr=new D(null,"output-dir","output-dir",-290956991),qr=new D(null,"priority","priority",1431093715),rr=new D(null,"inherit","inherit",-1840815422),sr=new D(null,"component-did-update","component-did-update",-1468549173),tr=new D(null,"msg_","msg_",-1925147E3),ur=new D(null,"ev","ev",-406827324),vr=new D(null,"component-did-mount","component-did-mount",-1126910518),wr=new D(null,"console",
"console",1228072057),xr=new D(null,"hash","hash",-13781596),yr=new D(null,"?content-type","?content-type",-2129759049),zr=new D(null,"post","post",269697687),Ar=new D(null,"simple-auto-threading?","simple-auto-threading?",1950754184),Br=new D(null,"min-level","min-level",1634684919),Cr=new D(null,"list","list",765357683),Dr=new D(null,"dt","dt",-368444759),Er=new D(null,"min","min",444991522),Fr=new D(null,"stub","stub",1339145807),Gr=new D(null,"column","column",2078222095),Hr=new D(null,"key",
"key",-1516042587),Ir=new D("chsk","recv","chsk/recv",561097091),Jr=new D(null,"?ratio","?ratio",-1275760831),Kr=new D(null,"resp-type","resp-type",1050675962),Lr=new D(null,"weeks","weeks",1844596125),Mr=new D(null,"cb","cb",589947841),Nr=new D("swap","dissoc","swap/dissoc",-605373782),Or=new D(null,"ppstr","ppstr",1557495252),fl=new D(null,"parents","parents",-2027538891),Pr=new D("chsk","handshake","chsk/handshake",64910686),Qr=new D(null,"with-credentials?","with-credentials?",-1773202222),Rr=
new D(null,"protocol","protocol",652470118),Sr=new D(null,"curr-xhr_","curr-xhr_",-1318773696),Tr=new D(null,"*assert*","*assert*",-160895053),Ur=new D("chsk","dummy-cb-200","chsk/dummy-cb-200",-1663130337),Vr=new D(null,"padding-right","padding-right",-1250249681),Wr=new D(da,"unknown","cljs.spec.alpha/unknown",651034818),Xr=new D(null,"output_","output_",-36797880),Yr=new D(null,"reason","reason",-2070751759),Zr=new D(null,"shouldComponentUpdate","shouldComponentUpdate",1795750960),$r=new D(null,
"config","config",994861415),as=new D(null,"id","id",-1388402092),bs=new D(null,"ajax-opts","ajax-opts",-518239109),cs=new se(null,"NaN","NaN",666918153,null),ds=new D("chsk","closed","chsk/closed",-922855264),es=new D(null,"msecs","msecs",1711980553),fs=new D(null,"recv-buf-or-n","recv-buf-or-n",1363950355),gs=new D(null,"keyword","keyword",811389747),hs=new D(null,"whitelist","whitelist",-979294437),is=new D(null,"errors","errors",-908790718);var js={},ks={},ls=[];function ms(a,b){var c=ks[a];if(void 0!==c)return c;try{ls.push(a);var d=js[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};js[a]=d}if(e){delete shadow$provide[a];try{e.call(d,la,ms,d,d.exports)}catch(g){throw console.warn("shadow-cljs - failed to load",a),g;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{ls.pop()}return d.exports}ms.cache={};ms.resolve=function(a){return a};var ns=ms(5,{});function os(a,b,c){var d=RegExp,e=b.source,f=y(b.ignoreCase)?"gi":"g";f=y(b.multiline)?[f,"m"].join(""):f;b=y(b.Fh)?[f,"u"].join(""):f;d=new d(e,b);return a.replace(d,c)}
function ps(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new ve(f,0,null)}return c.call(this,e)}function c(d){d=uh(d);if(M.B(R(d),1))return d=I(d),a.j?a.j(d):a.call(null,d);d=di(d);return a.j?a.j(d):a.call(null,d)}b.R=0;b.Y=function(d){d=G(d);return c(d)};b.G=c;return b}()}
function qs(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?os(a,b,c):os(a,b,ps(c));throw["Invalid match arg: ",B.j(b)].join("");}function rs(a,b){var c=new fc;for(b=G(b);;)if(null!=b)c.append(B.j(I(b))),b=J(b),null!=b&&c.append(a);else return c.toString()}
function ss(a,b){if(0>=b||b>=2+R(a))return ef.B(di(Ze("",rh.B(B,G(a)))),"");if(y(bg?xd(1,b):ag.call(null,1,b)))return new V(null,1,5,X,[a],null);if(y(bg?xd(2,b):ag.call(null,2,b)))return new V(null,2,5,X,["",a],null);b-=2;return ef.B(di(Ze("",ri(di(rh.B(B,G(a))),0,b))),a.substring(b))}function ts(a,b){return us(a,b,0)}
function us(a,b,c){if("/(?:)/"===B.j(b))b=ss(a,c);else if(1>c)b=di(B.j(a).split(b));else a:for(var d=c,e=ff;;){if(1===d){b=ef.B(e,a);break a}var f=rk(b,a);if(null!=f){var g=a.indexOf(f);f=a.substring(g+R(f));--d;e=ef.B(e,a.substring(0,g));a=f}else{b=ef.B(e,a);break a}}if(0===c&&1<R(b))a:for(c=b;;)if(""===(null==c?null:jd(c)))c=null==c?null:kd(c);else break a;else c=b;return c}function vs(a){return/^[\s\xa0]*$/.test(null==a?"":String(a))};function ws(a,b,c){if(cg(c)){var d=Hg(fg,rh.B(a,c));return b.j?b.j(d):b.call(null,d)}return ei(c)?(d=new Xh(function(){var e=fd(c);return a.j?a.j(e):a.call(null,e)}(),function(){var e=gd(c);return a.j?a.j(e):a.call(null,e)}(),null),b.j?b.j(d):b.call(null,d)):Ff(c)?(d=pk(rh.B(a,c)),b.j?b.j(d):b.call(null,d)):Af(c)?(d=Dc.C(function(e,f){return ef.B(e,a.j?a.j(f):a.call(null,f))},c,c),b.j?b.j(d):b.call(null,d)):wf(c)?(d=Bh.B(hf(c),rh.B(a,c)),b.j?b.j(d):b.call(null,d)):b.j?b.j(c):b.call(null,c)}
var xs=function xs(a,b){return ws(jh.B(xs,a),Sf,a.j?a.j(b):a.call(null,b))};var ys={};var zs={},As="undefined"!==typeof window&&null!=window.document,Bs=new Wj(null,new t(null,2,["aria",null,"data",null],null),null);function Cs(a){return 2>R(a)?a.toUpperCase():[a.substring(0,1).toUpperCase(),a.substring(1)].join("")}function Ds(a){if("string"===typeof a)return a;a=lg(a);var b=ts(a,/-/),c=G(b);b=I(c);c=J(c);return y(Bs.j?Bs.j(b):Bs.call(null,b))?a:Ig(B,b,rh.B(Cs,c))}
function Es(a){var b=function(){if(nf(a)){var c=a.displayName;y(c)||(c=a.name,c="string"===typeof c&&G(c)?c:null)}else c=!1;if(y(c))return c;c=null!=a&&(a.T&4096||p===a.Ie)?lg(a):!1;if(y(c))return c;c=tf(a);return zf(c)?Oq.j(c):null}();return y(b)?qs(B.j(b),"$","."):null}function Fs(a){return a instanceof D||a instanceof se}
var Gs=function Gs(a){switch(arguments.length){case 0:return Gs.O();case 1:return Gs.j(arguments[0]);case 2:return Gs.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ve(c.slice(2),0,null);return Gs.G(arguments[0],arguments[1],c)}};Gs.O=function(){return null};Gs.j=function(a){return wf(a)?(a=kh(function(b){return y(b)?Fs(b)?lg(b):b:null},a),G(a)?rs(" ",a):null):Fs(a)?lg(a):a};
Gs.B=function(a,b){return y(a)?y(b)?[B.j(Gs.j(a))," ",B.j(Gs.j(b))].join(""):Gs.j(a):Gs.j(b)};Gs.G=function(a,b,c){return Dc.C(Gs,Gs.B(a,b),c)};Gs.Y=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.G(b,a,c)};Gs.R=2;var Hs=!1;function Is(a){if(zf(a))try{var b=C.B(a,Hr)}catch(c){b=null}else b=null;return b}
function Js(a){var b=Hr.j(tf(a));if(y(b))return b;b=Is(S(a,1,null));if(y(b))return b;b=S(a,0,null);switch(b instanceof D?b.Ia:null){case "\x3e":case "f\x3e":return Is(S(a,2,null));case "r\x3e":return a=S(a,2,null),null==a?null:a.key;default:return null}};var Ks=0;function Ls(a){return setTimeout(a,16)}var Ms=As?function(){var a=window;return function(){var b=a.requestAnimationFrame;if(y(b))return b;b=a.webkitRequestAnimationFrame;if(y(b))return b;b=a.mozRequestAnimationFrame;if(y(b))return b;b=a.msRequestAnimationFrame;return y(b)?b:Ls}().bind(a)}():Ls;function Ns(a,b){return a.Ve-b.Ve}function Os(){return null}function Ps(a){for(var b=a.length,c=0;;)if(c<b){var d=a[c];d.O?d.O():d.call(null);c+=1}else return null}
function Qs(a){var b=a.Vd;if(null==b)return null;a.Vd=null;return Ps(b)}function Rs(a){function b(){a.oe=!1;var c=a.tg;null!=c&&(a.tg=null,Ps(c));Os();c=a.fe;if(null!=c)a:{a.fe=null,c.sort(Ns);for(var d=c.length,e=0;;)if(e<d){var f=c[e];!0===f.cljsIsDirty&&f.forceUpdate();e+=1}else break a}return Qs(a)}if(a.oe)return null;a.oe=!0;return Ms.j?Ms.j(b):Ms.call(null,b)}function Ss(a){var b=Ts;null==b.Vd&&(b.Vd=[]);b.Vd.push(a);return Rs(b)}var Ts=new function(a){this.oe=a}(!1);
function Us(a){if(y(a.cljsIsDirty))return null;a.cljsIsDirty=!0;var b=Ts;null==b.fe&&(b.fe=[]);b.fe.push(a);return Rs(b)};function Vs(a){if(null!=a&&null!=a.gh)a=a.id;else{var b=Vs[oa(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Vs._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw wc("Compiler.get-id",a);}return a}function Ws(a,b){if(null!=a&&null!=a.dg)a=a.dg(a,b);else{var c=Ws[oa(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Ws._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw wc("Compiler.as-element",a);}return a}
function Xs(a,b,c,d,e){if(null!=a&&null!=a.eg)a=a.eg(a,b,c,d,e);else{var f=Xs[oa(null==a?null:a)];if(null!=f)a=f.ga?f.ga(a,b,c,d,e):f.call(null,a,b,c,d,e);else if(f=Xs._,null!=f)a=f.ga?f.ga(a,b,c,d,e):f.call(null,a,b,c,d,e);else throw wc("Compiler.make-element",a);}return a};function Ys(a,b){var c=Ig(dk,a,b);return Ze(c,Ah(function(d){return c===d},b))}var Zs=function Zs(a){switch(arguments.length){case 0:return Zs.O();case 1:return Zs.j(arguments[0]);case 2:return Zs.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ve(c.slice(2),0,null);return Zs.G(arguments[0],arguments[1],c)}};Zs.O=function(){return Yj};Zs.j=function(a){return a};Zs.B=function(a,b){return R(a)<R(b)?Dc.C(ef,b,a):Dc.C(ef,a,b)};
Zs.G=function(a,b,c){a=Ys(R,ef.G(c,b,$e([a])));return Dc.C(Bh,I(a),xe(a))};Zs.Y=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.G(b,a,c)};Zs.R=2;var $s=function $s(a){switch(arguments.length){case 1:return $s.j(arguments[0]);case 2:return $s.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ve(c.slice(2),0,null);return $s.G(arguments[0],arguments[1],c)}};$s.j=function(a){return a};
$s.B=function(a,b){return R(a)<R(b)?Dc.C(function(c,d){return If(b,d)?uf.B(c,d):c},a,a):Dc.C(uf,a,b)};$s.G=function(a,b,c){return Dc.C($s,a,ef.B(c,b))};$s.Y=function(a){var b=I(a),c=J(a);a=I(c);c=J(c);return this.G(b,a,c)};$s.R=2;var at;
function bt(a,b){b.captured=null;a:{var c=at;at=b;try{var d=a.O?a.O():a.call(null);break a}finally{at=c}d=void 0}var e=b.captured;b.Nc=!1;a:if(a=b.ed,c=null==e?0:e.length,c===(null==a?0:a.length))for(var f=0;;){var g=f===c;if(g){a=g;break a}if(e[f]===a[f])f+=1;else{a=!1;break a}}else a=!1;if(!a)a:{a=ak(e);c=ak(b.ed);b.ed=e;e=G($s.B(a,c));f=null;for(var k=g=0;;)if(k<g){var l=f.fa(null,k);Kd(l,b,ct);k+=1}else if(e=G(e))f=e,Cf(f)?(e=Ud(f),k=Vd(f),f=e,g=R(e),e=k):(e=I(f),Kd(e,b,ct),e=J(f),f=null,g=0),
k=0;else break;a=G($s.B(c,a));c=null;for(g=f=0;;)if(g<f)e=c.fa(null,g),Ld(e,b),g+=1;else if(a=G(a))c=a,Cf(c)?(a=Ud(c),f=Vd(c),c=a,e=R(a),a=f,f=e):(e=I(c),Ld(e,b),a=J(c),c=null,f=0),g=0;else break a}return d}function dt(a){var b=at;if(null!=b){var c=b.captured;null==c?b.captured=[a]:c.push(a)}}function et(a,b,c){a.Ab=kf.C(a.Ab,b,c);return a.uf=null}function ft(a,b){a.Ab=mf.B(a.Ab,b);return a.uf=null}
function gt(a,b,c){var d=a.uf;d=null==d?a.uf=Rf(function(l,m,n){l.push(m);l.push(n);return l},[],a.Ab):d;for(var e=d.length,f=0;;)if(f<e){var g=d[f],k=d[f+1];k.ba?k.ba(g,a,b,c):k.call(null,g,a,b,c);f=2+f}else break}function ht(a,b,c,d){Hd(a,["#object[reagent.ratom.",B.j(c)," "].join(""));a:{c=at;at=null;try{var e=d;break a}finally{at=c}e=void 0}Bk(e,a,b);return Hd(a,"]")}var it=null;
function jt(){for(;;){var a=it;if(null==a)return null;it=null;for(var b=a.length,c=0;;)if(c<b){var d=a[c];d.Nc&&null!=d.ed&&kt(d,!0);c+=1}else break}}Os=jt;function lt(a,b,c,d){this.state=a;this.meta=b;this.validator=c;this.Ab=d;this.F=2154201088;this.T=114690}h=lt.prototype;h.ja=function(a,b,c){return ht(b,c,"RAtom",new t(null,1,[Kk,this.lb(null)],null))};h.qa=function(){return this.meta};h.sa=function(){return wa(this)};h.aa=function(a,b){return this===b};
h.Zb=function(a,b){a=this.state;this.state=b;null!=this.Ab&&gt(this,a,b);return b};h.Ke=function(a,b){return this.Zb(null,b.j?b.j(this.state):b.call(null,this.state))};h.Le=function(a,b,c){return this.Zb(null,b.B?b.B(this.state,c):b.call(null,this.state,c))};h.Me=function(a,b,c,d){return this.Zb(null,b.C?b.C(this.state,c,d):b.call(null,this.state,c,d))};h.Ne=function(a,b,c,d,e){return this.Zb(null,Kg(b,this.state,c,d,e))};h.Pe=function(a,b){gt(this,a,b)};h.$d=function(a,b,c){return et(this,b,c)};
h.ae=function(a,b){return ft(this,b)};h.ra=function(a,b){return new lt(this.state,b,this.validator,this.Ab)};h.lb=function(){dt(this);return this.state};var mt=function mt(a){switch(arguments.length){case 1:return mt.j(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ve(c.slice(1),0,null);return mt.G(arguments[0],c)}};mt.j=function(a){return new lt(a,null,null,null)};
mt.G=function(a,b){var c=null!=b&&(b.F&64||p===b.oa)?Hg(Mj,b):b;b=C.B(c,oc);c=C.B(c,po);return new lt(a,b,c,null)};mt.Y=function(a){var b=I(a);a=J(a);return this.G(b,a)};mt.R=1;function nt(a){if(null!=a&&null!=a.lf)a=a.lf(a);else{var b=nt[oa(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=nt._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw wc("IDisposable.dispose!",a);}return a}
function ct(a,b,c,d){c===d||a.Nc?a=null:null==a.oc?(a.Nc=!0,null==it&&(it=[],!1===Ts.oe&&Rs(Ts)),a=it.push(a)):a=!0===a.oc?kt(a,!1):a.oc.j?a.oc.j(a):a.oc.call(null,a);return a}function ot(a){this.zb=a;this.state=null;this.Nc=!0;this.Uf=!1;this.Ae=this.oc=this.Ab=this.ed=null;this.F=2153807872;this.T=114690}function pt(a){var b=at;at=null;try{return a.lb(null)}finally{at=b}}
function kt(a,b){var c=a.state;if(y(b)){b=a.zb;try{a.Ae=null;var d=bt(b,a)}catch(e){d=e,a.state=d,a.Ae=d,d=a.Nc=!1}}else d=bt(a.zb,a);a.Uf||(a.state=d,null==a.Ab||M.B(c,d)||gt(a,c,d));return d}function qt(a,b){var c=null!=b&&(b.F&64||p===b.oa)?Hg(Mj,b):b;b=C.B(c,To);var d=C.B(c,Xq),e=C.B(c,Kl);c=C.B(c,om);null!=b&&(a.oc=b);null!=d&&(a.bh=d);null!=e&&(a.Yf=e);null!=c&&(a.Uf=c)}h=ot.prototype;h.ja=function(a,b,c){return ht(b,c,"Reaction",new t(null,1,[Kk,this.lb(null)],null))};h.sa=function(){return wa(this)};
h.aa=function(a,b){return this===b};h.lf=function(){var a=this.state,b=this.ed;this.oc=this.state=this.ed=null;this.Nc=!0;b=G(ak(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.fa(null,e);Ld(f,this);e+=1}else if(b=G(b))c=b,Cf(c)?(b=Ud(c),e=Vd(c),c=b,d=R(b),b=e):(b=I(c),Ld(b,this),b=J(c),c=null,d=0),e=0;else break;null!=this.Yf&&this.Yf(a);a=this.Eh;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.j?d.j(this):d.call(null,this),c+=1;else return null};
h.Zb=function(a,b){a=this.state;this.state=b;this.bh(a,b);gt(this,a,b);return b};h.Ke=function(a,b){var c=this;return c.Zb(null,function(){var d=pt(c);return b.j?b.j(d):b.call(null,d)}())};h.Le=function(a,b,c){var d=this;return d.Zb(null,function(){var e=pt(d);return b.B?b.B(e,c):b.call(null,e,c)}())};h.Me=function(a,b,c,d){var e=this;return e.Zb(null,function(){var f=pt(e);return b.C?b.C(f,c,d):b.call(null,f,c,d)}())};h.Ne=function(a,b,c,d,e){return this.Zb(null,Kg(b,pt(this),c,d,e))};
h.Pe=function(a,b){gt(this,a,b)};h.$d=function(a,b,c){return et(this,b,c)};h.ae=function(a,b){a=vf(this.Ab);ft(this,b);return!a&&vf(this.Ab)&&null==this.oc?this.lf(null):null};h.lb=function(){var a=this.Ae;if(null!=a)throw a;(a=null==at)&&jt();a&&null==this.oc?this.Nc&&(a=this.state,this.state=this.zb.O?this.zb.O():this.zb.call(null),null==this.Ab||M.B(a,this.state)||gt(this,a,this.state)):(dt(this),this.Nc&&kt(this,!1));return this.state};
function rt(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=1<b.length?new ve(b.slice(1),0,null):null;b=arguments[0];var e=null!=c&&(c.F&64||p===c.oa)?Hg(Mj,c):c;c=C.B(e,To);d=C.B(e,Xq);e=C.B(e,Kl);b=new ot(b);qt(b,new t(null,3,[To,c,Xq,d,Kl,e],null));return b}var st=rt(null);function tt(a,b){var c=ut,d=st,e=bt(a,d);null!=d.ed&&(st=rt(null),qt(d,c),d.zb=a,d.oc=function(){return Us.j?Us.j(b):Us.call(null,b)},b.cljsRatom=d);return e};var vt;function wt(a,b){var c=b.argv;if(null==c){c=X;a=a.constructor;a:for(var d=nb(b),e=d.length,f=Pg,g=0;;)if(g<e){var k=d[g];f=kf.C(f,kg.j(k),ob(b,k));g+=1}else break a;b=new V(null,2,5,c,[a,f],null)}else b=c;return b}function xt(a){var b;if(b=nf(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.Pc);return b}
function yt(a,b){for(;;){var c=a.Pc,d=!0===a.Ig?c.call(a,a):function(){var e=wt(a,a.props);switch(R(e)){case 1:return c.call(a);case 2:return c.call(a,Te(e,1));case 3:return c.call(a,Te(e,1),Te(e,2));case 4:return c.call(a,Te(e,1),Te(e,2),Te(e,3));case 5:return c.call(a,Te(e,1),Te(e,2),Te(e,3),Te(e,4));default:return c.apply(a,Cc(e).slice(1))}}();if(Bf(d))return Ws(b,d);if(Hf(d))d=xt(d)?function(e,f,g,k,l){return function(){function m(q){var r=null;if(0<arguments.length){r=0;for(var u=Array(arguments.length-
0);r<u.length;)u[r]=arguments[r+0],++r;r=new ve(u,0,null)}return n.call(this,r)}function n(q){return Ws(f,Ig(mi,l,q))}m.R=0;m.Y=function(q){q=G(q);return n(q)};m.G=n;return m}()}(a,b,c,null,d):d,a.Pc=d;else return d}}var ut=new t(null,1,[om,!0],null);
function zt(a,b){switch(a instanceof D?a.Ia:null){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getDerivedStateFromProps":return function(c,d){return b.call(null,function(){var e=c.argv;null==e?e=c:(e=S(e,1,null),e=zf(e)?e:null);return e}(),d)};case "getInitialState":return function(c){var d=c.Kg;d=null!=d?d:c.Kg=mt.j(null);return nh(d,b.call(c,c))};case "getSnapshotBeforeUpdate":return function(c,d){return b.call(this,this,wt(this,c),d)};case "componentWillReceiveProps":return function(c){return b.call(this,
this,wt(this,c))};case "UNSAFE_componentWillReceiveProps":return function(c){return b.call(this,this,wt(this,c))};case "shouldComponentUpdate":return function(c){var d=Hs;if(y(d))return d;d=this.props.argv;var e=c.argv,f=null==d||null==e;if(null==b){if(f)return f;try{return Mg(d,e)}catch(g){return!1}}else return f?b.call(this,this,wt(this,this.props),wt(this,c)):b.call(this,this,d,e)};case "componentWillUpdate":return function(c,d){return b.call(this,this,wt(this,c),d)};case "UNSAFE_componentWillUpdate":return function(c,
d){return b.call(this,this,wt(this,c),d)};case "componentDidUpdate":return function(c,d,e){return b.call(this,this,wt(this,c),d,e)};case "componentWillMount":return function(){return b.call(this,this)};case "UNSAFE_componentWillMount":return function(){return b.call(this,this)};case "componentDidMount":return function(){return b.call(this,this)};case "componentWillUnmount":return function(){var c=ob(this,"cljsRatom");null!=c&&nt(c);this.cljsIsDirty=!1;return null==b?null:b.call(this,this)};case "componentDidCatch":return function(c,
d){return b.call(this,this,c,d)};default:return null}}function At(a,b){a=zt(a,b);return y(a)?a:b}var Bt=new t(null,2,[Zr,null,Kp,null],null),Ct=function(a){var b=mh(Pg);return function(c){var d=C.B(nd(b),c);if(null!=d)return d;d=a.j?a.j(c):a.call(null,c);oh.ba(b,kf,c,d);return d}}(function(a){if("string"===typeof a)return a;a=lg(a);a=qs(a,/(unsafe|UNSAFE)[-_]/,"UNSAFE_");a=ts(a,/-/);var b=G(a);a=I(b);b=J(b);return Ig(B,a,rh.B(Cs,b))});
function Dt(a){return Rf(function(b,c,d){return kf.C(b,kg.j(Ct(c)),d)},Pg,a)}
function Et(a,b){var c=function(){var g=Pn.j(a);return y(g)?g:Ro.j(a)}(),d=null==Pn.j(a),e=function(){var g=qq.j(a);if(y(g))return g;g=Es(c);return y(g)?g:B.j(Ok("reagent"))}(),f=Rf(function(g,k,l){return kf.C(g,k,At(k,l))},Pg,a);return kf.G(f,qq,e,$e([Nn,d,Pn,c,Ro,function(){var g=this,k=ob(g,"cljsRatom");g.cljsIsDirty=!1;return null==k?tt(function(){a:{var l=vt;vt=g;try{var m=yt(g,b);break a}finally{vt=l}m=void 0}return m},g):kt(k,!1)}]))}
function Ft(a){return Rf(function(b,c,d){c=lg(c);b[c]=d;return b},{},a)}function Gt(a,b){return Et(Qj.G($e([Bt,Dt(a)])),b)}var Tj=new V(null,5,5,X,[fp,to,Np,Qp,vq],null);
function Ht(a,b){function c(k,l,m){ns.Component.call(this,k,l,m);y(g)&&(g.B?g.B(this,k):g.call(null,this,k));y(f)&&(this.state=f.j?f.j(this):f.call(null,this));this.Ve=Ks+=1;return this}a=Gt(a,b);b=Ft(Lg(mf,a,qq,km,ep,$e([Ro,Pn,Tj])));var d=Ft(Sj(a)),e=qq.j(a),f=km.j(a),g=ep.j(a);rb(c.prototype,ns.Component.prototype,b);y(Ro.j(a))&&(c.prototype.render=Ro.j(a));y(Pn.j(a))&&(c.prototype.Pc=Pn.j(a));y(Nn.j(a))&&(c.prototype.Ig=Nn.j(a));rb(c,ns.Component,d);y(e)&&(c.displayName=e,c.Ob=e,c.rc=function(k){return Hd(k,
e)});c.ac=!0;return c.prototype.constructor=c}function It(a,b,c){a=Vs(a);return b[a]=c}
function Jt(a,b){for(;;){var c=b.Pc,d=b.argv,e=Hg(c,d);if(Bf(e))return Ws(a,e);if(Hf(e))c=xt(e)?function(f,g,k,l,m,n){return function(){function q(u){var x=null;if(0<arguments.length){x=0;for(var z=Array(arguments.length-0);x<z.length;)z[x]=arguments[x+0],++x;x=new ve(z,0,null)}return r.call(this,x)}function r(u){return Ws(f,Ig(mi,n,u))}q.R=0;q.Y=function(u){u=G(u);return r(u)};q.G=r;return q}()}(a,b,c,null,d,e):e,b.Pc=c;else return e}}
function Kt(a,b){var c=b.argv,d=b.Pc;b=ns.useState(0);S(b,0,null);var e=S(b,1,null),f=ns.useRef();y(f.current)||function(){var k={forceUpdate:function(){return e.j?e.j(Ge):e.call(null,Ge)}};k.Ve=Ks+=1;k.constructor=d;k.Pc=d;return f.current=k}();var g=f.current;b=ob(g,"cljsRatom");ns.useEffect(function(){return function(){var k=ob(g,"cljsRatom");return null==k?null:nt(k)}},[]);g.argv=c;g.cljsIsDirty=!1;return null==b?tt(function(){a:{var k=vt;vt=g;try{var l=Jt(a,g);break a}finally{vt=k}l=void 0}return l},
g):kt(b,!1)}function Lt(a,b){a=a.argv;b=b.argv;if(!1===Hs)try{return M.B(a,b)}catch(c){return!1}else return!1}function Mt(a,b){function c(e){return Kt(a,e)}var d=ob(b,Vs(a));if(y(d))return d;c.displayName=Es(b);d=ns.memo(c,Lt);It(a,b,d);return d};var Nt=new Wj(null,new t(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null);
function Ot(a,b,c,d){var e=Pg;e=null!=e&&(e.F&64||p===e.oa)?Hg(Mj,e):e;e=C.B(e,go);if(a===document.activeElement&&If(Nt,a.type)&&"string"===typeof b&&"string"===typeof c){var f=a.value;if(Mg(f,c))return Ss(function(){return Pt.j?Pt.j(d):Pt.call(null,d)});c=R(f)-a.selectionStart;c=R(b)-c;d.de=b;a.value=b;nf(e)&&(e.j?e.j(b):e.call(null,b));a.selectionStart=c;return a.selectionEnd=c}d.de=b;a.value=b;return nf(e)?e.j?e.j(b):e.call(null,b):null}
function Pt(a){if(y(a.Ue)){a.Lf=!1;var b=a.Jg,c=a.de,d=a.Qg;return Mg(b,c)?Ot(d,b,c,a):null}return null}function Qt(a,b,c){a.de=c.target.value;y(a.Lf)||(a.Lf=!0,Ss(function(){return Pt(a)}));return b.j?b.j(c):b.call(null,c)}
function Rt(a){var b=vt;if(y(null!=a?function(){var f=a.hasOwnProperty("onChange");return y(f)?a.hasOwnProperty("value"):f}():!1)){var c=a.value;c=null==c?"":c;var d=a.onChange,e=a.ref;y(b.Ue)||(b.Ue=!0,b.de=c);y(b.fg)||(b.fg=function(f){b.Qg=f;return y(e)?e.j?e.j(f):e.call(null,f):null});b.Jg=c;delete a.value;a.defaultValue=c;a.onChange=function(f){return Qt(b,d,f)};a.ref=b.fg}}
var St=new t(null,4,[Tp,"ReagentInput",sr,Pt,fn,function(a){return a.Ue=null},zp,function(a,b,c,d,e){Rt(c);return Xs(e,a,b,c,d)}],null);var Tt={},Ut,Vt=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/,Wt={"class":"className","for":"htmlFor",charset:"charSet"};function Xt(a,b){return a.hasOwnProperty(b)?ob(a,b):null}function Yt(a,b,c){if(Fs(b)){var d=Xt(Wt,lg(b));null==d?(d=Ds(b),b=lg(b),b=Wt[b]=d):b=d}c=Zt.j?Zt.j(c):Zt.call(null,c);a[b]=c;return a}
function Zt(a){return"object"!==oa(a)?a:Fs(a)?lg(a):zf(a)?Rf(Yt,{},a):wf(a)?Yk(a):Hf(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new ve(f,0,null)}return c.call(this,e)}function c(d){return Hg(a,d)}b.R=0;b.Y=function(d){d=G(d);return c(d)};b.G=c;return b}():Yk(a)}var $t={};function au(a,b,c){if(Fs(b)){var d=Xt($t,lg(b));null==d?(d=Ds(b),b=lg(b),b=$t[b]=d):b=d}c=Zt(c);a[b]=c;return a}
function bu(a){return"object"!==oa(a)?a:Fs(a)?lg(a):zf(a)?Rf(au,{},a):wf(a)?Yk(a):Hf(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new ve(f,0,null)}return c.call(this,e)}function c(d){return Hg(a,d)}b.R=0;b.Y=function(d){d=G(d);return c(d)};b.G=c;return b}():Yk(a)}
function cu(a,b){var c=b.id;b=b.className;c=null!=c&&null==as.j(a)?kf.C(a,as,c):a;return y(b)?kf.C(c,Eq,Gs.B(b,function(){var d=Eq.j(a);return y(d)?d:$p.j(a)}())):c}function du(a,b,c,d,e){switch(R(b)-e){case 0:return ns.createElement(c,d);case 1:return ns.createElement(c,d,Ws(a,S(b,e,null)));default:return ns.createElement.apply(null,Rf(function(f,g,k){g>=e&&f.push(Ws(a,k));return f},[c,d],b))}}function eu(a,b,c,d){this.tag=a;this.id=b;this.className=c;this.Lg=d}
function fu(a,b,c){var d=ob(a,Vs(c));null==d?xt(a)?a=It(c,a,a):(d=tf(a),d=kf.C(d,zp,a),d=Ht(d,c),a=It(c,a,d)):a=d;c={};c.argv=b;b=Js(b);null!=b&&(c.key=b);return ns.createElement(a,c)}function gu(a,b,c,d){var e={};e.Pc=a;e.argv=ri(b,c,R(b));b=Js(b);null!=b&&(e.key=b);return ns.createElement(Mt(d,a),e)}function hu(a,b,c){var d;if(d=nf(a))d=null==a?null:a.prototype,d=null!=(null==d?null:d.render);return d?fu(a,b,c):gu(a,b,1,c)}var iu={};
function ju(a,b,c,d){var e=a.tag,f=S(b,c,null),g=null==f||zf(f),k=function(){var m=g?f:null;var n=Eq.j(m);m=cu(y(n)?kf.C(m,Eq,Gs.j(n)):m,a);m=y(a.Lg)?bu(m):Zt(m);return y(m)?m:{}}();c+=g?1:0;a:switch(e){case "input":case "textarea":var l=!0;break a;default:l=!1}if(l)return l=function(){var m=d.hh;if(y(m))return m;m=Ht(St,d);return d.hh=m}(),Ws(d,sf(new V(null,6,5,X,[l,b,e,k,c,d],null),tf(b)));l=Is(tf(b));null!=l&&(k.key=l);return Xs(d,b,e,k,c)}
function ku(a,b){return Cc(rh.B(function(c){return Ws(b,c)},a))}
function lu(a,b,c){null==b&&console.error("vec-to-elem",Gk($e([a])));var d=S(a,0,null);switch(d instanceof D?d.Ia:null){case "\x3e":return c=S(a,1,null),ju(new eu(c,null,null,null),a,2,b);case "r\x3e":c=S(a,1,null);d=S(a,2,null);d=y(d)?d:{};var e=Is(tf(a));null!=e&&(d.key=e);return Xs(b,a,c,d,3);case "f\x3e":return gu(S(a,1,null),a,2,b);case "\x3c\x3e":return d=S(a,1,null),c=null==d||zf(d),d=Zt(c?d:null),d=y(d)?d:{},c=1+(c?1:0),e=Js(a),null!=e&&(d.key=e),Xs(b,a,ns.Fragment,d,c);default:if(Fs(d)||
"string"===typeof d)a:for(;;)switch(c=S(a,0,null),c=lg(c),d=c.indexOf("\x3e"),d){case -1:d=Xt(iu,c);if(null==d){var f=J(qk(Vt,lg(c)));d=S(f,0,null);e=S(f,1,null);f=S(f,2,null);f=null==f?null:qs(f,/\./," ");var g=Mg(-1,d.indexOf("-"));d=new eu(d,e,f,g);c=iu[c]=d}else c=d;a=ju(c,a,1,b);break a;case 0:a=null;break a;default:a=sf(new V(null,2,5,X,[c.substring(0,d),kf.C(sf(a,null),0,c.substring(d+1))],null),tf(a))}else a=c.C?c.C(d,a,b):c.call(null,d,a,b);return a}}
var mu=function(a){var b=Ok("G__"),c=y(Im.j(a))?hu:fu;if("undefined"===typeof ys||"undefined"===typeof zs||"undefined"===typeof Tt||"undefined"===typeof Ut)Ut=function(d,e,f,g){this.ic=d;this.id=e;this.Qf=f;this.Xg=g;this.F=393216;this.T=0},Ut.prototype.ra=function(d,e){return new Ut(this.ic,this.id,this.Qf,e)},Ut.prototype.qa=function(){return this.Xg},Ut.prototype.gh=function(){return this.id},Ut.prototype.dg=function(d,e){d=this.Qf;return"object"!==oa(e)?e:Bf(e)?lu(e,this,d):Ff(e)?ku(e,this):Fs(e)?
lg(e):(null!=e?e.F&2147483648||p===e.Ba||(e.F?0:uc(Id,e)):uc(Id,e))?Gk($e([e])):e},Ut.prototype.eg=function(d,e,f,g,k){return du(this,e,f,g,k)},Ut.ac=!0,Ut.Ob="reagent.impl.template/t_reagent$impl$template11969",Ut.rc=function(d){return Hd(d,"reagent.impl.template/t_reagent$impl$template11969")};return new Ut(a,b,c,Pg)}(Pg);var nu=ms(14,{});var ou=mh(Pg);function pu(a,b,c){var d=Hs;Hs=!0;try{nu.render(a.O?a.O():a.call(null),b,function(){var e=Hs;Hs=!1;try{return oh.ba(ou,kf,b,a),Qs(Ts),null!=c?c.O?c.O():c.call(null):null}finally{Hs=e}})}finally{Hs=d}}
function qu(){var a=new V(null,2,5,X,[ru,new V(null,2,5,X,[su,tu],null)],null),b=document.getElementById("app");jt();var c=nf(mu)?new V(null,2,5,X,[mu,mu],null):new V(null,2,5,X,[mu,on.j(mu)],null),d=S(c,0,null);c=S(c,1,null);pu(function(){return Ws(d,nf(a)?a.O?a.O():a.call(null):a)},b,c)};var uu={},vu,wu,xu,yu={};function zu(a,b){if(null!=a&&null!=a.Re)a=a.Re(a,b);else{var c=zu[oa(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=zu._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw wc("ReadPort.take!",a);}return a}function Au(a,b,c){if(null!=a&&null!=a.ce)a=a.ce(a,b,c);else{var d=Au[oa(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=Au._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw wc("WritePort.put!",a);}return a}
function Bu(a){if(null!=a&&null!=a.Cd)a=a.Cd(a);else{var b=Bu[oa(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Bu._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw wc("Channel.close!",a);}return a}function Cu(a){if(null!=a&&null!=a.Lb)a=a.Lb(a);else{var b=Cu[oa(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Cu._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw wc("Handler.active?",a);}return a}
function Du(a){if(null!=a&&null!=a.Hb)a=a.Hb(a);else{var b=Du[oa(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=Du._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw wc("Handler.commit",a);}return a}function Eu(a,b){if(null!=a&&null!=a.Qe)a=a.Qe(a,b);else{var c=Eu[oa(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Eu._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw wc("Buffer.add!*",a);}return a}
var Fu=function Fu(a){switch(arguments.length){case 1:return Fu.j(arguments[0]);case 2:return Fu.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Fu.j=function(a){return a};Fu.B=function(a,b){return Eu(a,b)};Fu.R=2;function Gu(a,b,c,d,e){for(var f=0;;)if(f<e)c[d+f]=a[b+f],f+=1;else break}function Hu(a){this.length=this.tail=this.head=0;this.D=a}Hu.prototype.pop=function(){if(0===this.length)return null;var a=this.D[this.tail];this.D[this.tail]=null;this.tail=(this.tail+1)%this.D.length;--this.length;return a};Hu.prototype.unshift=function(a){this.D[this.head]=a;this.head=(this.head+1)%this.D.length;this.length+=1;return null};function Iu(a,b){a.length+1===a.D.length&&a.resize();a.unshift(b)}
Hu.prototype.resize=function(){var a=Array(2*this.D.length);return this.tail<this.head?(Gu(this.D,this.tail,a,0,this.length),this.tail=0,this.head=this.length,this.D=a):this.tail>this.head?(Gu(this.D,this.tail,a,0,this.D.length-this.tail),Gu(this.D,0,a,this.D.length-this.tail,this.head),this.tail=0,this.head=this.length,this.D=a):this.tail===this.head?(this.head=this.tail=0,this.D=a):null};
function Ju(a,b){for(var c=a.length,d=0;;)if(d<c){var e=a.pop();(b.j?b.j(e):b.call(null,e))&&a.unshift(e);d+=1}else break}function Ku(a){return new Hu(Array(a))}function Lu(a,b){this.ma=a;this.n=b;this.F=2;this.T=0}Lu.prototype.be=function(){return this.ma.length>=this.n};Lu.prototype.Qe=function(a,b){Iu(this.ma,b);return this};Lu.prototype.wa=function(){return this.ma.length};function Mu(a,b){this.ma=a;this.n=b;this.F=2;this.T=0}Mu.prototype.be=function(){return!1};
Mu.prototype.Qe=function(a,b){this.ma.length===this.n&&this.ma.pop();this.ma.unshift(b);return this};Mu.prototype.wa=function(){return this.ma.length};function Nu(a){return new Mu(Ku(a),a)};function Ou(){return Kb("iPhone")&&!Kb("iPod")&&!Kb("iPad")};var Pu=Kb("Opera"),Qu=Kb("Trident")||Kb("MSIE"),Ru=Kb("Edge"),Su=Kb("Gecko")&&!(Db("WebKit")&&!Kb("Edge"))&&!(Kb("Trident")||Kb("MSIE"))&&!Kb("Edge"),Tu=Db("WebKit")&&!Kb("Edge");Tu&&Kb("Mobile");Kb("Macintosh");Kb("Windows");Kb("Linux")||Kb("CrOS");var Uu=la.navigator||null;Uu&&(Uu.appVersion||"").indexOf("X11");Kb("Android");Ou();Kb("iPad");Kb("iPod");Ou()||Kb("iPad")||Kb("iPod");Db("KaiOS");Db("GAFP");function Vu(){var a=la.document;return a?a.documentMode:void 0}var Wu;
a:{var Xu="",Yu=function(){var a=Eb;if(Su)return/rv:([^\);]+)(\)|;)/.exec(a);if(Ru)return/Edge\/([\d\.]+)/.exec(a);if(Qu)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Tu)return/WebKit\/(\S+)/.exec(a);if(Pu)return/(?:Version)[ \/]?(\S+)/.exec(a)}();Yu&&(Xu=Yu?Yu[1]:"");if(Qu){var Zu=Vu();if(null!=Zu&&Zu>parseFloat(Xu)){Wu=String(Zu);break a}}Wu=Xu}var $u={};
function av(a){return Fa($u,a,function(){{var b=0;const e=Cb(String(Wu)).split("."),f=Cb(String(a)).split("."),g=Math.max(e.length,f.length);for(let k=0;0==b&&k<g;k++){var c=e[k]||"",d=f[k]||"";do{c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""];d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""];if(0==c[0].length&&0==d[0].length)break;b=Fb(0==c[1].length?0:parseInt(c[1],10),0==d[1].length?0:parseInt(d[1],10))||Fb(0==c[2].length,0==d[2].length)||Fb(c[2],d[2]);c=c[3];d=d[3]}while(0==b)}}return 0<=b})}var bv;
bv=la.document&&Qu?Vu():void 0;!Su&&!Qu||Qu&&9<=Number(bv)||Su&&av("1.9.1");Qu&&av("9");function cv(a){var b=document;a=String(a);"application/xhtml+xml"===b.contentType&&(a=a.toLowerCase());return b.createElement(a)};var dv;
function ev(){var a=la.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!Kb("Presto")&&(a=function(){var e=cv(kb);e.style.display="none";Pb(e);document.documentElement.appendChild(e);var f=e.contentWindow;e=f.document;e.open();e.write(Nb());e.close();var g="callImmediate"+Math.random(),k="file:"==f.location.protocol?"*":f.location.protocol+"//"+f.location.host;e=Ba(function(l){if(("*"==k||l.origin==k)&&l.data==g)this.port1.onmessage()},this);
f.addEventListener("message",e,!1);this.port1={};this.port2={postMessage:function(){f.postMessage(g,k)}}});if("undefined"!==typeof a&&!Kb("Trident")&&!Kb("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var e=c.wd;c.wd=null;e()}};return function(e){d.next={wd:e};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in cv(lb)?function(e){var f=cv(lb);f.onreadystatechange=function(){f.onreadystatechange=null;f.parentNode.removeChild(f);
f=null;e();e=null};document.documentElement.appendChild(f)}:function(e){la.setTimeout(e,0)}};var fv=Ku(32),gv=!1,hv=!1;function iv(){gv=!0;hv=!1;for(var a=0;;){var b=fv.pop();if(null!=b&&(b.O?b.O():b.call(null),1024>a)){a+=1;continue}break}gv=!1;return 0<fv.length?jv.O?jv.O():jv.call(null):null}function jv(){if(hv&&gv)return null;hv=!0;!ta(la.setImmediate)||la.Window&&la.Window.prototype&&!Kb("Edge")&&la.Window.prototype.setImmediate==la.setImmediate?(dv||(dv=ev()),dv(iv)):la.setImmediate(iv)}function kv(a){Iu(fv,a);jv()}function lv(a,b){setTimeout(a,b)};var mv={},nv;
function ov(a){if("undefined"===typeof gc||"undefined"===typeof hc||"undefined"===typeof uu||"undefined"===typeof yu||"undefined"===typeof mv||"undefined"===typeof nv)nv=function(b,c){this.I=b;this.Sg=c;this.F=425984;this.T=0},nv.prototype.ra=function(b,c){return new nv(this.I,c)},nv.prototype.qa=function(){return this.Sg},nv.prototype.lb=function(){return this.I},nv.ac=!0,nv.Ob="cljs.core.async.impl.channels/t_cljs$core$async$impl$channels10324",nv.rc=function(b){return Hd(b,"cljs.core.async.impl.channels/t_cljs$core$async$impl$channels10324")};return new nv(a,
Pg)}function pv(a,b){this.handler=a;this.I=b}function qv(a){return Cu(a.handler)}function rv(a,b,c,d){this.rd=a;this.he=0;this.Hc=b;this.ge=0;this.ma=c;this.closed=!1;this.Sb=d}function sv(a){for(;;){var b=a.Hc.pop();if(null!=b){var c=b.handler,d=b.I;if(c.Lb(null)){var e=c.Hb(null);kv(function(f){return function(){return f.j?f.j(!0):f.call(null,!0)}}(e,c,d,b,a))}else continue}break}Ju(a.Hc,hh(!1));a.Cd(null)}
rv.prototype.ce=function(a,b,c){var d=this,e=this,f=d.closed;if(f||!c.Lb(null))return ov(!f);if(y(function(){var q=d.ma;return y(q)?tc(d.ma.be()):q}())){c.Hb(null);var g=Ie(d.Sb.B?d.Sb.B(d.ma,b):d.Sb.call(null,d.ma,b));c=function(){for(var q=ff;;)if(0<d.rd.length&&0<R(d.ma)){var r=d.rd.pop();if(r.Lb(null)){var u=r.Hb(null),x=d.ma.ma.pop();q=ef.B(q,function(z,K,O){return function(){return K.j?K.j(O):K.call(null,O)}}(q,u,x,r,g,f,e))}}else return q}();g&&sv(e);if(G(c)){c=G(c);a=null;for(var k=0,l=0;;)if(l<
k){var m=a.fa(null,l);kv(m);l+=1}else if(c=G(c))a=c,Cf(a)?(c=Ud(a),l=Vd(a),a=c,k=R(c),c=l):(c=I(a),kv(c),c=J(a),a=null,k=0),l=0;else break}return ov(!0)}a=function(){for(;;){var q=d.rd.pop();if(y(q)){if(y(q.Lb(null)))return q}else return null}}();if(y(a)){var n=a.Hb(null);c.Hb(null);kv(function(){return n.j?n.j(b):n.call(null,b)});return ov(!0)}64<d.ge?(d.ge=0,Ju(d.Hc,qv)):d.ge+=1;y(c.Dd())&&Iu(d.Hc,new pv(c,b));return null};
rv.prototype.Re=function(a,b){var c=this;if(b.Lb(null)){if(null!=c.ma&&0<R(c.ma)){a=b.Hb(null);if(y(a)){var d=c.ma.ma.pop(),e=tc(c.ma.be())&&0<c.Hc.length?function(){for(var z=ff;;){var K=c.Hc.pop(),O=K.handler;K=K.I;O=O.Lb(null)?O.Hb(null):!1;z=y(O)?ef.B(z,O):z;K=y(O)?Ie(c.Sb.B?c.Sb.B(c.ma,K):c.Sb.call(null,c.ma,K)):null;if(!(tc(K)&&tc(c.ma.be())&&0<c.Hc.length))return new V(null,2,5,X,[K,z],null)}}():null,f=S(e,0,null),g=S(e,1,null);y(f)&&sv(this);for(var k=G(g),l=null,m=0,n=0;;)if(n<m){var q=l.fa(null,
n);kv(function(z,K,O,ba,ja){return function(){return ja.j?ja.j(!0):ja.call(null,!0)}}(k,l,m,n,q,d,e,f,g,a,a,this));n+=1}else{var r=G(k);if(r){q=r;if(Cf(q))k=Ud(q),n=Vd(q),l=k,m=R(k),k=n;else{var u=I(q);kv(function(z,K,O,ba,ja){return function(){return ja.j?ja.j(!0):ja.call(null,!0)}}(k,l,m,n,u,q,r,d,e,f,g,a,a,this));k=J(q);l=null;m=0}n=0}else break}return ov(d)}return null}a=function(){for(;;){var z=c.Hc.pop();if(y(z)){if(Cu(z.handler))return z}else return null}}();if(y(a)){var x=Du(a.handler);b.Hb(null);
kv(function(){return x.j?x.j(!0):x.call(null,!0)});return ov(a.I)}if(y(c.closed))return y(c.ma)&&(c.Sb.j?c.Sb.j(c.ma):c.Sb.call(null,c.ma)),y(function(){var z=b.Lb(null);return y(z)?b.Hb(null):z}())?(a=function(){var z=c.ma;return y(z)?0<R(c.ma):z}(),d=y(a)?c.ma.ma.pop():null,ov(d)):null;64<c.he?(c.he=0,Ju(c.rd,Cu)):c.he+=1;y(b.Dd())&&Iu(c.rd,b)}return null};
rv.prototype.Cd=function(){var a=this;if(!a.closed)for(a.closed=!0,y(function(){var e=a.ma;return y(e)?0===a.Hc.length:e}())&&(a.Sb.j?a.Sb.j(a.ma):a.Sb.call(null,a.ma));;){var b=a.rd.pop();if(null!=b){if(b.Lb(null)){var c=b.Hb(null),d=y(function(){var e=a.ma;return y(e)?0<R(a.ma):e}())?a.ma.ma.pop():null;kv(function(e,f){return function(){return e.j?e.j(f):e.call(null,f)}}(c,d,b,this))}}else break}return null};function tv(a){console.log(a);return null}
function uv(a,b){var c=y(null)?null:tv;b=c.j?c.j(b):c.call(null,b);return null==b?a:Fu.B(a,b)}
function vv(a,b){return new rv(Ku(32),Ku(32),a,function(){var c=y(b)?b.j?b.j(Fu):b.call(null,Fu):Fu;return function(){function d(g,k){try{return c.B?c.B(g,k):c.call(null,g,k)}catch(l){return uv(g,l)}}function e(g){try{return c.j?c.j(g):c.call(null,g)}catch(k){return uv(g,k)}}var f=null;f=function(g,k){switch(arguments.length){case 1:return e.call(this,g);case 2:return d.call(this,g,k)}throw Error("Invalid arity: "+arguments.length);};f.j=e;f.B=d;return f}()}())};function wv(a,b,c){this.key=a;this.I=b;this.forward=c;this.F=2155872256;this.T=0}wv.prototype.va=function(){return new gf(null,this.key,new gf(null,this.I,null,1,null),2,null)};wv.prototype.ja=function(a,b,c){return uk(b,Bk,"["," ","]",c,this)};function xv(a,b,c){c=Array(c+1);for(var d=0;;)if(d<c.length)c[d]=null,d+=1;else break;return new wv(a,b,c)}
function yv(a,b,c,d){for(;;){if(0>c)return a;a:for(;;){var e=c<a.forward.length?a.forward[c]:null;if(y(e))if(e.key<b)a=e;else break a;else break a}null!=d&&(d[c]=a);--c}}function zv(){this.header=xv(null,null,0);this.level=0;this.F=2155872256;this.T=0}
zv.prototype.put=function(a,b){var c=Array(15),d=yv(this.header,a,this.level,c).forward[0];if(null!=d&&d.key===a)return d.I=b;a:for(d=0;;)if(.5>Math.random()&&15>d)d+=1;else break a;if(d>this.level){for(var e=this.level+1;;)if(e<=d+1)c[e]=this.header,e+=1;else break;this.level=d}a=xv(a,b,Array(d));for(b=0;;)if(b<=this.level)d=c[b].forward,a.forward[b]=d[b],d[b]=a,b+=1;else return null};
zv.prototype.remove=function(a){var b=Array(15),c=yv(this.header,a,this.level,b);c=0===c.forward.length?null:c.forward[0];if(null!=c&&c.key===a){for(a=0;;)if(a<=this.level){var d=b[a].forward;c===(a<d.length?d[a]:null)&&(d[a]=c.forward[a]);a+=1}else break;for(;;)if(0<this.level&&this.level<this.header.forward.length&&null==this.header.forward[this.level])--this.level;else return null}else return null};
function Av(a){var b=Bv,c=b.header;for(b=b.level;;){if(0>b)return M.B(c.key,a)?c:c.forward[0];var d;a:for(d=c;;){var e=b<d.forward.length?d.forward[b]:null;if(null!=e){if(e.key>a)break a;d=e}else{d=0===b?d:null;break a}}y(d)?(--b,c=d):--b}}zv.prototype.va=function(){return function c(b){return new mg(null,function(){return null==b?null:Ze(new V(null,2,5,X,[b.key,b.I],null),c(b.forward[0]))},null,null)}(this.header.forward[0])};
zv.prototype.ja=function(a,b,c){return uk(b,function(d){return uk(b,Bk,""," ","",c,d)},"{",", ","}",c,this)};var Bv=new zv;function Cv(a){var b=(new Date).valueOf()+a,c=Av(b);c=y(y(c)?c.key<b+10:c)?c.I:null;if(y(c))return c;var d=vv(null,null);Bv.put(b,d);lv(function(){Bv.remove(b);return Bu(d)},a);return d};var Dv={},Ev;
function Fv(a){if("undefined"===typeof gc||"undefined"===typeof hc||"undefined"===typeof uu||"undefined"===typeof yu||"undefined"===typeof Dv||"undefined"===typeof Ev)Ev=function(b,c){this.zb=b;this.Tg=c;this.F=393216;this.T=0},Ev.prototype.ra=function(b,c){return new Ev(this.zb,c)},Ev.prototype.qa=function(){return this.Tg},Ev.prototype.Lb=function(){return!0},Ev.prototype.Dd=function(){return!0},Ev.prototype.Hb=function(){return this.zb},Ev.ac=!0,Ev.Ob="cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers10327",Ev.rc=
function(b){return Hd(b,"cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers10327")};return new Ev(a,Pg)}function Gv(a){try{var b=a[0];return b.j?b.j(a):b.call(null,a)}catch(c){if(c instanceof Object)throw b=c,a[6].Cd(null),b;throw c;}}function Hv(a,b,c){c=c.Re(null,Fv(function(d){a[2]=d;a[1]=b;return Gv(a)}));return y(c)?(a[2]=nd(c),a[1]=b,bm):null}function Iv(a,b,c){b=b.ce(null,c,Fv(function(d){a[2]=d;a[1]=11;return Gv(a)}));return y(b)?(a[2]=nd(b),a[1]=11,bm):null}
function Jv(a,b){a=a[6];null!=b&&a.ce(null,b,Fv(function(){return null}));a.Cd(null);return a};function Kv(a,b){return Lv(a,b)}function Lv(a,b){a=M.B(a,0)?null:a;return vv("number"===typeof a?new Lu(Ku(a),a):a,b)}
var Mv=function(a){if("undefined"===typeof gc||"undefined"===typeof hc||"undefined"===typeof uu||"undefined"===typeof vu)vu=function(b,c,d){this.zb=b;this.Cf=c;this.Ug=d;this.F=393216;this.T=0},vu.prototype.ra=function(b,c){return new vu(this.zb,this.Cf,c)},vu.prototype.qa=function(){return this.Ug},vu.prototype.Lb=function(){return!0},vu.prototype.Dd=function(){return this.Cf},vu.prototype.Hb=function(){return this.zb},vu.ac=!0,vu.Ob="cljs.core.async/t_cljs$core$async10943",vu.rc=function(b){return Hd(b,
"cljs.core.async/t_cljs$core$async10943")};return new vu(a,!0,Pg)}(function(){return null});function Nv(a,b){a=Au(a,b,Mv);return y(a)?nd(a):!0}function Ov(a){for(var b=Array(a),c=0;;)if(c<a)b[c]=c,c+=1;else break;a=Math.random;for(c=b.length-1;0<c;c--){var d=Math.floor(a()*(c+1)),e=b[c];b[c]=b[d];b[d]=e}return b}
function Pv(){var a=mh(!0);if("undefined"===typeof gc||"undefined"===typeof hc||"undefined"===typeof uu||"undefined"===typeof wu)wu=function(b,c){this.Yc=b;this.Vg=c;this.F=393216;this.T=0},wu.prototype.ra=function(b,c){return new wu(this.Yc,c)},wu.prototype.qa=function(){return this.Vg},wu.prototype.Lb=function(){return nd(this.Yc)},wu.prototype.Dd=function(){return!0},wu.prototype.Hb=function(){nh(this.Yc,null);return!0},wu.ac=!0,wu.Ob="cljs.core.async/t_cljs$core$async11041",wu.rc=function(b){return Hd(b,
"cljs.core.async/t_cljs$core$async11041")};return new wu(a,Pg)}
function Qv(a,b){if("undefined"===typeof gc||"undefined"===typeof hc||"undefined"===typeof uu||"undefined"===typeof xu)xu=function(c,d,e){this.Yc=c;this.wd=d;this.Wg=e;this.F=393216;this.T=0},xu.prototype.ra=function(c,d){return new xu(this.Yc,this.wd,d)},xu.prototype.qa=function(){return this.Wg},xu.prototype.Lb=function(){return Cu(this.Yc)},xu.prototype.Dd=function(){return!0},xu.prototype.Hb=function(){Du(this.Yc);return this.wd},xu.ac=!0,xu.Ob="cljs.core.async/t_cljs$core$async11074",xu.rc=function(c){return Hd(c,
"cljs.core.async/t_cljs$core$async11074")};return new xu(a,b,Pg)}
function Rv(a,b,c){var d=Pv(),e=R(b),f=Ov(e),g=qr.j(c),k=function(){for(var l=0;;)if(l<e){var m=y(g)?l:f[l],n=Te(b,m),q=Bf(n)?n.j?n.j(0):n.call(null,0):null,r=y(q)?function(){var u=n.j?n.j(1):n.call(null,1);return Au(q,u,Qv(d,function(x,z,K,O,ba){return function(ja){ja=new V(null,2,5,X,[ja,ba],null);return a.j?a.j(ja):a.call(null,ja)}}(l,u,m,n,q,d,e,f,g)))}():zu(n,Qv(d,function(u,x,z){return function(K){K=new V(null,2,5,X,[K,z],null);return a.j?a.j(K):a.call(null,K)}}(l,m,n,q,d,e,f,g)));if(y(r))return ov(new V(null,
2,5,X,[nd(r),function(){var u=q;return y(u)?u:n}()],null));l+=1}else return null}();return y(k)?k:If(c,ql)?(k=function(){var l=d.Lb(null);return y(l)?d.Hb(null):l}(),y(k)?ov(new V(null,2,5,X,[ql.j(c),ql],null)):null):null}
function Sv(a,b){var c=Lv(1,null);kv(function(){var d=function(){function f(g){var k=g[1];return 7===k?(g[2]=g[2],g[1]=3,bm):1===k?(g[2]=null,g[1]=2,bm):4===k?(k=g[2],g[7]=k,g[1]=y(null==k)?5:6,bm):13===k?(g[2]=null,g[1]=14,bm):6===k?(k=g[7],Iv(g,b,k)):3===k?Jv(g,g[2]):12===k?(g[2]=null,g[1]=2,bm):2===k?Hv(g,4,a):11===k?(g[1]=y(g[2])?12:13,bm):9===k?(g[2]=null,g[1]=10,bm):5===k?(g[1]=y(!0)?8:9,bm):14===k||10===k?(g[2]=g[2],g[1]=7,bm):8===k?(k=Bu(b),g[2]=k,g[1]=10,bm):null}return function(){function g(m){for(;;){a:try{for(;;){var n=
f(m);if(!T(n,bm)){var q=n;break a}}}catch(r){q=r;m[2]=q;if(G(m[4]))m[1]=I(m[4]);else throw q;q=bm}if(!T(q,bm))return q}}function k(){var m=[null,null,null,null,null,null,null,null];m[0]=l;m[1]=1;return m}var l=null;l=function(m){switch(arguments.length){case 0:return k.call(this);case 1:return g.call(this,m)}throw Error("Invalid arity: "+arguments.length);};l.O=k;l.j=g;return l}()}(),e=function(){var f=d();f[6]=c;return f}();return Gv(e)})}
function Tv(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=3<b.length?new ve(b.slice(3),0,null):null;return Uv(arguments[0],arguments[1],arguments[2],b)}function Uv(a,b,c,d){d=null!=d&&(d.F&64||p===d.oa)?Hg(Mj,d):d;a[1]=b;b=Rv(function(e){a[2]=e;return Gv(a)},c,d);return y(b)?(a[2]=nd(b),bm):null}
function Vv(a,b){var c=Lv(b,null),d=Lv(1,null);kv(function(){var e=function(){function g(k){var l=k[1];if(7===l){l=k[7];l=k[2];var m=S(l,0,null),n=S(l,1,null);k[9]=n;k[7]=m;k[8]=l;k[1]=y(null==m)?8:9;return bm}return 1===l?(l=di(a),k[10]=l,k[2]=null,k[1]=2,bm):4===l?(l=k[10],Tv(k,7,l)):6===l?(k[2]=k[2],k[1]=3,bm):3===l?Jv(k,k[2]):2===l?(l=k[10],l=0<R(l),k[1]=y(l)?4:5,bm):11===l?(l=k[10],k[11]=k[2],k[10]=l,k[2]=null,k[1]=2,bm):9===l?(l=k[7],Iv(k,c,l)):5===l?(l=Bu(c),k[2]=l,k[1]=6,bm):10===l?(k[2]=
k[2],k[1]=6,bm):8===l?(n=k[9],l=k[7],l=k[10],l=Dh(function(){var q=n;return function(r){return Mg(q,r)}}(),l),k[10]=l,k[2]=null,k[1]=2,bm):null}return function(){function k(n){for(;;){a:try{for(;;){var q=g(n);if(!T(q,bm)){var r=q;break a}}}catch(u){r=u;n[2]=r;if(G(n[4]))n[1]=I(n[4]);else throw r;r=bm}if(!T(r,bm))return r}}function l(){var n=[null,null,null,null,null,null,null,null,null,null,null,null];n[0]=m;n[1]=1;return n}var m=null;m=function(n){switch(arguments.length){case 0:return l.call(this);
case 1:return k.call(this,n)}throw Error("Invalid arity: "+arguments.length);};m.O=l;m.j=k;return m}()}(),f=function(){var g=e();g[6]=d;return g}();return Gv(f)});return c};var Wv=/[\s]/;function Xv(a){return null==a?null:","===a?!0:Wv.test(a)}function Yv(a){return null==a?null:!/[^0-9]/.test(a)}
function Zv(a,b){return function e(d){return new mg(null,function(){for(;;){var f=G(d);if(f){if(Cf(f)){var g=Ud(f),k=R(g),l=qg(k);return function(){for(var n=0;;)if(n<k){var q=Rc(g,n),r=l;if(q instanceof se||q instanceof D){var u=ok(ig,lg)(q),x=S(u,0,null);u=S(u,1,null);var z=q instanceof se?te:kg;q=null==x?z.B?z.B(a,u):z.call(null,a,u):M.B("_",x)?z.j?z.j(u):z.call(null,u):q}r.add(q);n+=1}else return!0}()?sg(l.Fa(),e(Vd(f))):sg(l.Fa(),null)}var m=I(f);return Ze(m instanceof se||m instanceof D?function(){var n=
ok(ig,lg)(m),q=S(n,0,null);n=S(n,1,null);var r=m instanceof se?te:kg;return null==q?r.B?r.B(a,n):r.call(null,a,n):M.B("_",q)?r.j?r.j(n):r.call(null,n):m}():m,e(xe(f)))}return null}},null,null)}(b)}function $v(a,b){a=parseInt(a,b);return y(isNaN(a))?-1:a};function aw(a){if(null!=a&&null!=a.Vc)a=a.Vc(a);else{var b=aw[oa(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=aw._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw wc("Reader.read-char",a);}return a}function bw(a){if(null!=a&&null!=a.Ed)a=a.Ed(a);else{var b=bw[oa(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=bw._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw wc("Reader.peek-char",a);}return a}
function cw(a,b){if(null!=a&&null!=a.Kf)a.Kf(a,b);else{var c=cw[oa(null==a?null:a)];if(null!=c)c.B?c.B(a,b):c.call(null,a,b);else if(c=cw._,null!=c)c.B?c.B(a,b):c.call(null,a,b);else throw wc("IPushbackReader.unread",a);}}function dw(a){if(null!=a&&null!=a.Hg)a=a.Hg(a);else{var b=dw[oa(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=dw._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw wc("IndexingReader.get-line-number",a);}return a}
function ew(a){if(null!=a&&null!=a.Fg)a=a.Fg(a);else{var b=ew[oa(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=ew._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw wc("IndexingReader.get-column-number",a);}return a}function fw(a){if(null!=a&&null!=a.Gg)a=a.Gg(a);else{var b=fw[oa(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=fw._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw wc("IndexingReader.get-file-name",a);}return a}
function gw(a,b){this.s=a;this.jg=b;this.qd=0}gw.prototype.Vc=function(){if(this.jg>this.qd){var a=this.s.charAt(this.qd);this.qd+=1;return a}return null};gw.prototype.Ed=function(){return this.jg>this.qd?this.s.charAt(this.qd):null};function hw(a,b){this.cg=a;this.ma=b;this.Yb=this.ze=1}hw.prototype.Vc=function(){var a=this.Yb<this.ze?this.ma[this.Yb]:this.cg.Vc(null);this.Yb<this.ze&&(this.Yb+=1);return null==a?null:Xf(a)};
hw.prototype.Ed=function(){var a=this.Yb<this.ze?this.ma[this.Yb]:this.cg.Ed(null);return null==a?null:Xf(a)};hw.prototype.Kf=function(a,b){if(y(b)){if(0===this.Yb)throw Error("Pushback buffer is full");--this.Yb;return this.ma[this.Yb]=b}return null};function iw(a){return null!=a?p===a.Dh?!0:!1:!1};function jw(a,b,c,d){var e=R(b);a=y(a)?0:10<e?10:e;b=rh.B(jh.B(kw,!0),sh.B(a,b));b=Hg(B,th(1,xh.B(new wh(null,-1," ",null,null),b)));e=a<e?"...":null;return[B.j(c),B.j(b),e,B.j(d)].join("")}var kw,lw=mh(Pg),mw=mh(Pg),nw=mh(Pg),ow=mh(Pg),pw=C.C(Pg,Bp,el.O?el.O():el.call(null));
kw=new pl(te.B("cljs.tools.reader.impl.inspect","inspect*"),function(a,b){return null==b?bo:"string"===typeof b?Ol:b instanceof D?Jp:"number"===typeof b?Jp:b instanceof se?Jp:Bf(b)?Xp:cg(b)?Cr:zf(b)?tq:xf(b)?Nm:M.B(b,!0)?Jp:M.B(b,!1)?Jp:vc(b)},pw,lw,mw,nw,ow);sl(kw,Ol,function(a,b){a=y(a)?5:20;var c=b.length>a?'..."':'"',d=b.length;return['"',B.j(b.substring(0,a<d?a:d)),c].join("")});sl(kw,Jp,function(a,b){return B.j(b)});sl(kw,ve,function(){return"\x3cindexed seq\x3e"});sl(kw,Gi,function(){return"\x3cmap seq\x3e"});
sl(kw,kj,function(){return"\x3cmap seq\x3e"});sl(kw,gg,function(){return"\x3ccons\x3e"});sl(kw,mg,function(){return"\x3clazy seq\x3e"});sl(kw,bo,function(){return"nil"});sl(kw,Cr,function(a,b){return jw(a,b,"(",")")});sl(kw,tq,function(a,b){var c=R(b),d=y(a)?0:c;b=Hg(wg,sh.B(d,b));return jw(a,b,"{",c>d?"...}":"}")});sl(kw,Nm,function(a,b){return jw(a,b,"#{","}")});sl(kw,Xp,function(a,b){return jw(a,b,"[","]")});sl(kw,ql,function(a,b){return Gk($e([vc(b)]))});function qw(a,b,c){b=new t(null,2,[ln,eo,Qn,b],null);a=iw(a)?kf.G(b,vo,fw(a),$e([Il,dw(a),Jn,ew(a)])):b;var d=vo.j(a);b=Il.j(a);var e=Jn.j(a);d=y(d)?[B.j(d)," "].join(""):null;b=y(b)?["[line ",B.j(b),", col ",B.j(e),"]"].join(""):null;c=Kg(B,d,b,y(y(d)?d:b)?" ":null,c);throw vl(c,a);}function rw(a,b){return qw(a,pn,$e([Hg(B,b)]))}function sw(a,b){return qw(a,xm,$e([Hg(B,b)]))}function tw(a,b){return qw(a,dq,$e([Hg(B,b)]))}
function uw(a,b,c,d){rw(a,$e(["The map literal starting with ",kw.B(!1,I(d)),y(b)?[" on line ",B.j(b)," column ",B.j(c)].join(""):null," contains ",R(d)," form(s). Map literals must contain an even number of forms."]))}function vw(a,b,c){return rw(a,$e(["Invalid ",lg(b),": ",c,"."]))}function ww(a,b,c){return rw(a,$e(["Invalid character: ",c," found while reading ",lg(b),"."]))}
function xw(a,b){a:{var c=Ol instanceof D?Ol.Ia:null;switch(c){case "regex":c='#"';break a;case "string":c='"';break a;default:throw Error(["No matching clause: ",B.j(c)].join(""));}}return tw(a,$e(["Unexpected EOF reading ",lg(Ol)," starting ",Ig(B,c,b),"."]))}function yw(a,b){return sw(a,$e(["Invalid digit ",b," in unicode character."]))}function zw(a){return rw(a,$e(["Octal escape sequence must be in range [0, 377]."]))}
function Aw(a,b){b=function(c){return function f(e){return new mg(null,function(){for(var g=e;;)if(g=G(g)){if(Cf(g)){var k=Ud(g),l=R(k),m=qg(l);a:for(var n=0;;)if(n<l){var q=Rc(k,n),r=S(q,0,null);1<S(q,1,null)&&m.add(r);n+=1}else{k=!0;break a}return k?sg(m.Fa(),f(Vd(g))):sg(m.Fa(),null)}m=I(g);k=S(m,0,null);if(1<S(m,1,null))return Ze(k,f(xe(g)));g=xe(g)}else return null},null,null)}(nk(c))}(b);return Kg(B,a,1<R(b)?"s":null,": ",th(1,xh.B(new wh(null,-1,", ",null,null),b)))}
function Fw(a,b,c){b=lg(b);rw(a,$e([Aw([String(b.charAt(0)).toUpperCase()+String(b.substr(1)).toLowerCase()," literal contains duplicate key"].join(""),c)]))};function Gw(a){for(var b=a.Vc(null);;)if(Xv.j?Xv.j(b):Xv.call(null,b))b=a.Vc(null);else return b}var Hw=/^([-+]?)(?:(0)|([1-9][0-9]*)|0[xX]([0-9A-Fa-f]+)|0([0-7]+)|([1-9][0-9]?)[rR]([0-9A-Za-z]+)|0[0-9]+)(N)?$/,Iw=/([-+]?[0-9]+)\/([0-9]+)/,Jw=/([-+]?[0-9]+(\.[0-9]*)?([eE][-+]?[0-9]+)?)(M)?/;function Kw(a,b){a=rk(a,b);return S(a,0,null)===b}
function Lw(a){if(Kw(Hw,a)){var b=di(rk(Hw,a));if(null!=(b.j?b.j(2):b.call(null,2)))a=0;else{a="-"===(b.j?b.j(1):b.call(null,1));b=null!=(b.j?b.j(3):b.call(null,3))?new V(null,2,5,X,[b.j?b.j(3):b.call(null,3),10],null):null!=(b.j?b.j(4):b.call(null,4))?new V(null,2,5,X,[b.j?b.j(4):b.call(null,4),16],null):null!=(b.j?b.j(5):b.call(null,5))?new V(null,2,5,X,[b.j?b.j(5):b.call(null,5),8],null):null!=(b.j?b.j(7):b.call(null,7))?new V(null,2,5,X,[b.j?b.j(7):b.call(null,7),parseInt(b.j?b.j(6):b.call(null,
6))],null):new V(null,2,5,X,[null,null],null);var c=b.j?b.j(0):b.call(null,0);null==c?a=null:(b=parseInt(c,b.j?b.j(1):b.call(null,1)),a=a?-1*b:b,a=y(isNaN(a))?null:a)}}else Kw(Jw,a)?(b=di(rk(Jw,a)),a=null!=(b.j?b.j(4):b.call(null,4))?parseFloat(b.j?b.j(1):b.call(null,1)):parseFloat(a)):Kw(Iw,a)?(b=di(rk(Iw,a)),a=b.j?b.j(1):b.call(null,1),b=b.j?b.j(2):b.call(null,2),a=y(rk(/^\+/,a))?a.substring(1):a,a=parseInt(a)/parseInt(b)):a=null;return a}
function Mw(a){if(""===a||!0===/:$/.test(a)||!0===/^::/.test(a))return null;var b=a.indexOf("/"),c=0<b?a.substring(0,b):null;if(null!=c){b+=1;if(b===R(a))return null;a=a.substring(b);return Yv(Te(a,0))||""===a||!1!==/:$/.test(c)||"/"!==a&&-1!==a.indexOf("/")?null:new V(null,2,5,X,[c,a],null)}return"/"===a||-1===a.indexOf("/")?new V(null,2,5,X,[null,a],null):null}
var Nw=function Nw(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new ve(c.slice(1),0,null):null;return Nw.G(arguments[0],c)};Nw.G=function(a){for(;;){var b=a.Vc(null);if("\n"===b||"\n"===b||null==b)break}return a};Nw.R=1;Nw.Y=function(a){var b=I(a);a=J(a);return this.G(b,a)};
function Ow(){return function(){function a(c,d){var e=null;if(1<arguments.length){e=0;for(var f=Array(arguments.length-1);e<f.length;)f[e]=arguments[e+1],++e;e=new ve(f,0,null)}return b.call(this,c,e)}function b(c){return rw(c,$e(["Unreadable form"]))}a.R=1;a.Y=function(c){var d=I(c);c=xe(c);return b(d,c)};a.G=b;return a}()};new fc;function Pw(a){return"#"!==a?"'"!==a?":"!==a?Qw.j?Qw.j(a):Qw.call(null,a):!1:!1:!1}function Rw(a){return"@"===a||"`"===a||"~"===a}function Sw(a,b,c,d){if(tc(c))return tw(a,$e(["Unexpected EOF while reading start of ",lg(b),"."]));if(y(y(d)?Rw(c):d))return ww(a,b,c);d=new fc;for(cw(a,c);;){if(Xv(c)||Pw(c)||null==c)return B.j(d);if(Rw(c))return ww(a,b,c);d.append(aw(a));c=bw(a)}}
function Tw(a,b,c){b=aw(a);if(y(b)){var d=Uw.j?Uw.j(b):Uw.call(null,b);if(y(d))return d.C?d.C(a,b,c):d.call(null,a,b,c);cw(a,b);return Vw.C?Vw.C(a,b,c):Vw.call(null,a,b,c)}return tw(a,$e(["Unexpected EOF while reading dispatch character."]))}function Ww(a,b){return rw(a,$e(["Unmatched delimiter ",b,"."]))}
function Xw(a,b,c){b=1+b;if(R(a)!==b)throw sw(null,$e(["Invalid unicode literal: \\",a,"."]));for(var d=1,e=0;;){if(d===b)return String.fromCharCode(e);var f=$v(Te(a,d),c);if(-1===f)return c=Te(a,d),sw(null,$e(["Invalid digit ",c," in unicode character \\",a,"."]));e=f+e*c;d+=1}}
function Yw(a,b,c,d,e){for(var f=1,g=$v(b,c);;){if(-1===g)return yw(a,b);if(f!==d){var k=bw(a);var l=Xv(k);l||(l=Qw.j?Qw.j(k):Qw.call(null,k),l=y(l)?l:null==k);if(y(l))return y(e)?sw(a,$e(["Invalid unicode literal. Unicode literals should be ",d,"characters long.  ","value suppled is ",f,"characters long."])):String.fromCharCode(g);l=$v(k,c);aw(a);if(-1===l)return yw(a,k);g=l+g*c;f+=1}else return String.fromCharCode(g)}}
function Zw(a){var b=aw(a);if(null!=b){b=Pw(b)||Rw(b)||Xv(b)?B.j(b):Sw(a,yp,b,!1);var c=b.length;if(1===c)return Te(b,0);if("newline"===b)return"\n";if("space"===b)return" ";if("tab"===b)return"\t";if("backspace"===b)return"\b";if("formfeed"===b)return"\f";if("return"===b)return"\r";if(y(Ab(b,"u")))return b=Xw(b,4,16),c=b.charCodeAt(),55295<c&&57344>c?(b=c.toString(16),a=rw(a,$e(["Invalid character literal \\u",b,"."]))):a=b,a;if(y(Ab(b,"o"))){--c;if(3<c)return rw(a,$e(["Invalid octal escape sequence in a character literal:",
b,". Octal escape sequences must be 3 or fewer digits."]));b=Xw(b,c,8);return 255<(b|0)?zw(a):b}return rw(a,$e(["Unsupported character: ",b,"."]))}return tw(a,$e(["Unexpected EOF while reading character."]))}function $w(a){return iw(a)?new V(null,2,5,X,[dw(a),(ew(a)|0)-1|0],null):null}
function ax(a,b,c,d){var e=$w(c),f=S(e,0,null);e=S(e,1,null);b=null==b?null:Xf(b);for(var g=Md(ff);;){var k=Gw(c);if(!y(k)){var l=a,m=f,n=e,q=R(g);tw(c,$e(["Unexpected EOF while reading ",y(q)?["item ",B.j(q)," of "].join(""):null,lg(l),y(m)?[", starting at line ",B.j(m)," and column ",B.j(n)].join(""):null,"."]))}if(M.B(b,null==k?null:Xf(k)))return Od(g);l=Qw.j?Qw.j(k):Qw.call(null,k);y(l)?(k=l.C?l.C(c,k,d):l.call(null,c,k,d),g=k!==c?zg.B(g,k):g):(cw(c,k),k=bx?bx(c,!0,null,d):cx.call(null,c,!0,null,
d),g=k!==c?zg.B(g,k):g)}}function dx(a,b,c){a=ax(Cr,")",a,c);return vf(a)?ye:Hg(fg,a)}function ex(a,b,c){return ax(Xp,"]",a,c)}function fx(a,b,c){var d=$w(a);b=S(d,0,null);d=S(d,1,null);c=ax(tq,"}",a,c);var e=R(c),f=mk(2,c),g=ak(f);!fh(e)&&uw(a,b,d,c);M.B(R(g),R(f))||Fw(a,tq,f);if(e<=2*Li)a=Ni(Nf(c),!0,!0);else a:for(a=Nf(c),b=a.length,d=0,e=Md(Mi);;)if(d<b)c=d+2,e=Pd(e,a[d],a[d+1]),d=c;else{a=Od(e);break a}return a}
function gx(a,b){for(var c=function(){var g=new fc;g.append(b);return g}(),d=aw(a);;){if(y(function(){var g=Xv(d);if(g)return g;g=Qw.j?Qw.j(d):Qw.call(null,d);return y(g)?g:null==d}())){var e=B.j(c);cw(a,d);var f=Lw(e);return y(f)?f:rw(a,$e(["Invalid number: ",e,"."]))}e=function(){var g=c;g.append(d);return g}();f=aw(a);c=e;d=f}}
function hx(a){var b=aw(a);switch(b){case "t":return"\t";case "r":return"\r";case "n":return"\n";case "\\":return"\\";case '"':return'"';case "b":return"\b";case "f":return"\f";case "u":return b=aw(a),-1===parseInt(b|0,16)?rw(a,$e(["Invalid unicode escape: \\u",b,"."])):Yw(a,b,16,4,!0);default:return Yv(b)?(b=Yw(a,b,8,3,!1),255<(b|0)?zw(a):b):rw(a,$e(["Unsupported escape character: \\",b,"."]))}}
function ix(a){for(var b=new fc,c=aw(a);;){var d=c;if(M.B(null,d))return xw(a,$e(['"',b]));if(M.B("\\",d)){d=function(){var f=b;f.append(hx(a));return f}();var e=aw(a);b=d;c=e}else{if(M.B('"',d))return B.j(b);d=function(){var f=b;f.append(c);return f}();e=aw(a);b=d;c=e}}}
function jx(a,b){b=Sw(a,Op,b,!0);if(y(b))switch(b){case "nil":return null;case "true":return!0;case "false":return!1;case "/":return um;default:var c=Mw(b);c=y(c)?te.B(c.j?c.j(0):c.call(null,0),c.j?c.j(1):c.call(null,1)):null;return y(c)?c:vw(a,Op,b)}else return null}
function kx(a){var b=aw(a);if(Xv(b))return rw(a,$e(["A single colon is not a valid keyword."]));b=Sw(a,gs,b,!0);var c=Mw(b);if(y(y(c)?-1===b.indexOf("::"):c)){var d=c.j?c.j(0):c.call(null,0);c=c.j?c.j(1):c.call(null,1);return":"===Te(b,0)?vw(a,gs,b):kg.B(d,c)}return vw(a,gs,b)}
function lx(a,b,c){b=bx?bx(a,!0,null,c):cx.call(null,a,!0,null,c);b=b instanceof D?lf([b,!0]):b instanceof se?new t(null,1,[jp,b],null):"string"===typeof b?new t(null,1,[jp,b],null):b;zf(b)||rw(a,$e(["Metadata cannot be ",kw.B(!1,b),". Metadata must be a Symbol, Keyword, String or Map."]));c=bx?bx(a,!0,null,c):cx.call(null,a,!0,null,c);return null!=c&&(c.F&131072||p===c.Zd)?sf(c,Qj.G($e([tf(c),b]))):rw(a,$e(["Metadata can not be applied to ",kw.B(!1,c),". ","Metadata can only be applied to IMetas."]))}
function mx(a,b,c){b=ax(Nm,"}",a,c);c=ak(b);M.B(R(b),R(c))||Fw(a,Nm,b);return c}function nx(a){bx?bx(a,!0,null,!0):cx.call(null,a,!0,null,!0);return a}
function ox(a,b,c){b=aw(a);b=Sw(a,dp,b,!0);var d=null==b?null:Mw(b);if(null==d)var e=null;else e=S(d,0,null),d=S(d,1,null),e=y(e)?null:d;return y(e)?"{"===Gw(a)?(c=ax(dp,"}",a,c),!fh(R(c))&&uw(a,null,null,c),b=Zv(B.j(e),mk(2,c)),c=mk(2,xe(c)),M.B(R(ak(b)),R(b))||Fw(a,dp,b),ck(b,c)):rw(a,$e(["Namespaced map with namespace ",b," does not specify a map."])):rw(a,$e(["Invalid value used as namespace in namespaced map: ",b,"."]))}
function px(a,b,c){b=bx?bx(a,!0,null,c):cx.call(null,a,!0,null,c);return M.B(cs,b)?Number.NaN:M.B(Wn,b)?Number.NEGATIVE_INFINITY:M.B(fr,b)?Number.POSITIVE_INFINITY:rw(a,$e([["Invalid token: ##",B.j(b)].join("")]))}function Qw(a){switch(a){case '"':return ix;case ":":return kx;case ";":return Nw;case "^":return lx;case "(":return dx;case ")":return Ww;case "[":return ex;case "]":return Ww;case "{":return fx;case "}":return Ww;case "\\":return Zw;case "#":return Tw;default:return null}}
function Uw(a){switch(a){case "^":return lx;case "{":return mx;case "\x3c":return Ow();case "!":return Nw;case "_":return nx;case ":":return ox;case "#":return px;default:return null}}
function Vw(a,b,c){b=bx?bx(a,!0,null,c):cx.call(null,a,!0,null,c);var d=bx?bx(a,!0,null,c):cx.call(null,a,!0,null,c);b instanceof se||rw(a,$e(["Invalid reader tag: ",kw.B(!1,"Reader tag must be a symbol"),". Reader tags must be symbols."]));var e=C.B(Hl.j(c),b);e=y(e)?e:Pg.j?Pg.j(b):Pg.call(null,b);if(y(e))return e.j?e.j(d):e.call(null,d);c=ql.j(c);return y(c)?c.B?c.B(b,d):c.call(null,b,d):rw(a,$e(["No reader function for tag ",kw.B(!1,b),"."]))}
function cx(a){switch(arguments.length){case 1:return qx(Pg,arguments[0]);case 2:return qx(arguments[0],arguments[1]);case 4:return bx(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function qx(a,b){a=null!=a&&(a.F&64||p===a.oa)?Hg(Mj,a):a;var c=C.B(a,dq),d=!If(a,dq);return bx(b,d,c,a)}
function bx(a,b,c,d){try{for(;;){var e=aw(a);if(!Xv(e)){if(null==e){if(y(b)){b=a;var f=y(null)?tw(b,$e(["EOF while reading, starting at line ",null,"."])):tw(b,$e(["EOF while reading."]))}else f=c;return f}if(Yv(e)||("+"===e||"-"===e)&&Yv(a.Ed(null)))return gx(a,e);var g=Qw(e);if(y(g)){var k=g.C?g.C(a,e,d):g.call(null,a,e,d);if(k!==a)return k}else return jx(a,e)}}}catch(l){if(l instanceof Error){f=l;if(f instanceof ul){b=f instanceof ul?f.data:null;if(M.B(eo,ln.j(b)))throw f;a=Qj.G($e([new t(null,
1,[ln,eo],null),b,iw(a)?new t(null,3,[Il,dw(a),Gr,ew(a),vo,fw(a)],null):null]));throw new ul(f.message,a,f);}a=Qj.G($e([new t(null,1,[ln,eo],null),iw(a)?new t(null,3,[Il,dw(a),Gr,ew(a),vo,fw(a)],null):null]));throw new ul(f.message,a,f);}throw l;}};var rx=function(){var a=new V(null,13,5,X,[null,31,28,31,30,31,30,31,31,30,31,30,31],null),b=new V(null,13,5,X,[null,31,29,31,30,31,30,31,31,30,31,30,31],null);return function(c,d){return C.B(y(d)?b:a,c)}}(),sx=/(\d\d\d\d)(?:-(\d\d)(?:-(\d\d)(?:[T](\d\d)(?::(\d\d)(?::(\d\d)(?:[.](\d+))?)?)?)?)?)?(?:[Z]|([-+])(\d\d):(\d\d))?/;function tx(a){a=parseInt(a,10);return tc(isNaN(a))?a:null}
function ux(a,b,c,d){if(!(a<=b&&b<=c))throw Error([B.j(d)," Failed:  ",B.j(a),"\x3c\x3d",B.j(b),"\x3c\x3d",B.j(c)].join(""));return b}
function vx(a){var b=qk(sx,a);S(b,0,null);var c=S(b,1,null),d=S(b,2,null),e=S(b,3,null),f=S(b,4,null),g=S(b,5,null),k=S(b,6,null),l=S(b,7,null),m=S(b,8,null),n=S(b,9,null),q=S(b,10,null);if(tc(b))throw Error(["Unrecognized date/time syntax: ",B.j(a)].join(""));a=tx(c);b=function(){var K=tx(d);return y(K)?K:1}();c=function(){var K=tx(e);return y(K)?K:1}();var r=function(){var K=tx(f);return y(K)?K:0}(),u=function(){var K=tx(g);return y(K)?K:0}(),x=function(){var K=tx(k);return y(K)?K:0}(),z=function(){a:if(M.B(3,
R(l)))var K=l;else if(3<R(l))K=l.substring(0,3);else for(K=new fc(l);;)if(3>K.getLength())K=K.append("0");else{K=K.toString();break a}K=tx(K);return y(K)?K:0}();m=(M.B(m,"-")?-1:1)*(60*function(){var K=tx(n);return y(K)?K:0}()+function(){var K=tx(q);return y(K)?K:0}());return new V(null,8,5,X,[a,ux(1,b,12,"timestamp month field must be in range 1..12"),ux(1,c,rx(b,0===(a%4+4)%4&&(0!==(a%100+100)%100||0===(a%400+400)%400)),"timestamp day field must be in range 1..last day in month"),ux(0,r,23,"timestamp hour field must be in range 0..23"),
ux(0,u,59,"timestamp minute field must be in range 0..59"),ux(0,x,M.B(u,59)?60:59,"timestamp second field must be in range 0..60"),ux(0,z,999,"timestamp millisecond field must be in range 0..999"),m],null)}
var wx=mh(null),xx=mh(Qj.G($e([new t(null,4,[Iq,function(a){if("string"===typeof a){var b=vx(a);if(y(b)){a=S(b,0,null);var c=S(b,1,null),d=S(b,2,null),e=S(b,3,null),f=S(b,4,null),g=S(b,5,null),k=S(b,6,null);b=S(b,7,null);b=new Date(Date.UTC(a,c-1,d,e,f,g,k)-6E4*b)}else throw Error(["Unrecognized date/time syntax: ",B.j(a)].join(""));return b}throw Error("Instance literal expects a string for its timestamp.");},Do,function(a){if("string"===typeof a)return new tl(a.toLowerCase(),null);throw Error("UUID literal expects a string as its representation.");
},Fo,function(a){if(Bf(a))return Bh.B(yi,a);throw Error("Queue literal expects a vector for its elements.");},fq,function(a){if(Bf(a)){var b=[];a=G(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.fa(null,e);b.push(f);e+=1}else if(a=G(a))c=a,Cf(c)?(a=Ud(c),e=Vd(c),c=a,d=R(a),a=e):(a=I(c),b.push(a),a=J(c),c=null,d=0),e=0;else break;return b}if(zf(a)){b={};a=G(a);c=null;for(e=d=0;;)if(e<d){var g=c.fa(null,e);f=S(g,0,null);g=S(g,1,null);f=lg(f);b[f]=g;e+=1}else if(a=G(a))Cf(a)?(d=Ud(a),a=Vd(a),c=d,d=R(d)):
(d=I(a),c=S(d,0,null),d=S(d,1,null),c=lg(c),b[c]=d,a=J(a),c=null,d=0),e=0;else break;return b}throw Error("JS literal expects a vector or map containing only string or unqualified keyword keys");}],null),Pg])));function yx(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\- \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(e,f,g,k,l,m,n,q){if("%"==m)return"%";var r=c.shift();if("undefined"==typeof r)throw Error("[goog.string.format] Not enough arguments");arguments[0]=r;return yx.Cc[m].apply(null,arguments)})}yx.Cc={};
yx.Cc.s=function(a,b,c){return isNaN(c)||""==c||a.length>=Number(c)?a:a=-1<b.indexOf("-",0)?a+Qb(" ",Number(c)-a.length):Qb(" ",Number(c)-a.length)+a};
yx.Cc.f=function(a,b,c,d,e){d=a.toString();isNaN(e)||""==e||(d=parseFloat(a).toFixed(e));var f=0>Number(a)?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=Number(a)&&(d=f+d);if(isNaN(c)||d.length>=Number(c))return d;d=isNaN(e)?Math.abs(Number(a)).toString():Math.abs(Number(a)).toFixed(e);a=Number(c)-d.length-f.length;0<=b.indexOf("-",0)?d=f+d+Qb(" ",a):(b=0<=b.indexOf("0",0)?"0":" ",d=f+Qb(b,a)+d);return d};yx.Cc.d=function(a,b,c,d,e,f,g,k){return yx.Cc.f(parseInt(a,10),b,c,d,0,f,g,k)};
yx.Cc.i=yx.Cc.d;yx.Cc.u=yx.Cc.d;var zx=!Qu||9<=Number(bv),Ax=Qu&&!av("9");!Tu||av("528");Su&&av("1.9b")||Qu&&av("8")||Pu&&av("9.5")||Tu&&av("528");Su&&!av("8")||Qu&&av("9");var Bx=function(){if(!la.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{la.addEventListener("test",na,b),la.removeEventListener("test",na,b)}catch(c){}return a}();function Cx(){0!=Dx&&(Ex[wa(this)]=this);this.ld=this.ld;this.pd=this.pd}var Dx=0,Ex={};Cx.prototype.ld=!1;Cx.prototype.Of=function(){if(!this.ld&&(this.ld=!0,this.Dc(),0!=Dx)){var a=wa(this);if(0!=Dx&&this.pd&&0<this.pd.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ex[a]}};Cx.prototype.Dc=function(){if(this.pd)for(;this.pd.length;)this.pd.shift()()};function Fx(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.dd=!1;this.hg=!0}Fx.prototype.stopPropagation=function(){this.dd=!0};Fx.prototype.preventDefault=function(){this.defaultPrevented=!0;this.hg=!1};function Gx(a,b){Fx.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.Hd=null;a&&this.init(a,b)}Da(Gx,Fx);var Hx={2:"touch",3:"pen",4:"mouse"};
Gx.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(Su){a:{try{Ea(b.nodeName);var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=
d.screenY||0):(this.offsetX=Tu||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=Tu||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pointerId=
a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:Hx[a.pointerType]||"";this.state=a.state;this.Hd=a;a.defaultPrevented&&this.preventDefault()};Gx.prototype.stopPropagation=function(){Gx.Ic.stopPropagation.call(this);this.Hd.stopPropagation?this.Hd.stopPropagation():this.Hd.cancelBubble=!0};
Gx.prototype.preventDefault=function(){Gx.Ic.preventDefault.call(this);var a=this.Hd;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Ax)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var Ix="closure_listenable_"+(1E6*Math.random()|0),Jx=0;function Kx(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.handler=e;this.key=++Jx;this.removed=this.Xd=!1}function Lx(a){a.removed=!0;a.listener=null;a.proxy=null;a.src=null;a.handler=null};function Mx(a){this.src=a;this.listeners={};this.Sd=0}Mx.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.listeners[f];a||(a=this.listeners[f]=[],this.Sd++);var g=Nx(a,b,d,e);-1<g?(b=a[g],c||(b.Xd=!1)):(b=new Kx(b,this.src,f,!!d,e),b.Xd=c,a.push(b));return b};
Mx.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.listeners))return!1;var e=this.listeners[a];b=Nx(e,b,c,d);return-1<b?(Lx(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.listeners[a],this.Sd--),!0):!1};function Ox(a,b){var c=b.type;c in a.listeners&&db(a.listeners[c],b)&&(Lx(b),0==a.listeners[c].length&&(delete a.listeners[c],a.Sd--))}
Mx.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.listeners)if(!a||c==a){for(var d=this.listeners[c],e=0;e<d.length;e++)++b,Lx(d[e]);delete this.listeners[c];this.Sd--}return b};Mx.prototype.$e=function(a,b,c,d){a=this.listeners[a.toString()];var e=-1;a&&(e=Nx(a,b,c,d));return-1<e?a[e]:null};function Nx(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.listener==b&&f.capture==!!c&&f.handler==d)return e}return-1};var Px="closure_lm_"+(1E6*Math.random()|0),Qx={},Rx=0;function Sx(a,b,c,d,e){if(d&&d.once)return Tx(a,b,c,d,e);if(qa(b)){for(var f=0;f<b.length;f++)Sx(a,b[f],c,d,e);return null}c=Ux(c);return a&&a[Ix]?a.Fc.add(String(b),c,!1,ua(d)?!!d.capture:!!d,e):Vx(a,b,c,!1,d,e)}
function Vx(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=ua(e)?!!e.capture:!!e,k=Wx(a);k||(a[Px]=k=new Mx(a));c=k.add(b,c,d,g,f);if(c.proxy)return c;d=Xx();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)Bx||(e=g),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(Yx(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");Rx++;return c}
function Xx(){var a=Zx,b=zx?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function Tx(a,b,c,d,e){if(qa(b)){for(var f=0;f<b.length;f++)Tx(a,b[f],c,d,e);return null}c=Ux(c);return a&&a[Ix]?a.Fc.add(String(b),c,!0,ua(d)?!!d.capture:!!d,e):Vx(a,b,c,!0,d,e)}
function $x(a,b,c,d,e){if(qa(b))for(var f=0;f<b.length;f++)$x(a,b[f],c,d,e);else d=ua(d)?!!d.capture:!!d,c=Ux(c),a&&a[Ix]?a.Fc.remove(String(b),c,d,e):a&&(a=Wx(a))&&(b=a.$e(b,c,d,e))&&ay(b)}
function ay(a){if("number"!==typeof a&&a&&!a.removed){var b=a.src;if(b&&b[Ix])Ox(b.Fc,a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(Yx(c),d):b.addListener&&b.removeListener&&b.removeListener(d);Rx--;(c=Wx(b))?(Ox(c,a),0==c.Sd&&(c.src=null,b[Px]=null)):Lx(a)}}}function Yx(a){return a in Qx?Qx[a]:Qx[a]="on"+a}
function by(a,b,c,d){var e=!0;if(a=Wx(a))if(b=a.listeners[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.removed&&(f=cy(f,d),e=e&&!1!==f)}return e}function cy(a,b){var c=a.listener,d=a.handler||a.src;a.Xd&&ay(a);return c.call(d,b)}
function Zx(a,b){if(a.removed)return!0;if(!zx){if(!b)a:{b=["window","event"];for(var c=la,d=0;d<b.length;d++)if(c=c[b[d]],null==c){b=null;break a}b=c}d=b;b=new Gx(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(g){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.currentTarget;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;!b.dd&&0<=e;e--){b.currentTarget=d[e];var f=by(d[e],a,!0,b);c=c&&f}for(e=0;!b.dd&&e<d.length;e++)b.currentTarget=
d[e],f=by(d[e],a,!1,b),c=c&&f}return c}return cy(a,new Gx(b,this))}function Wx(a){a=a[Px];return a instanceof Mx?a:null}var dy="__closure_events_fn_"+(1E9*Math.random()>>>0);function Ux(a){if(ta(a))return a;a[dy]||(a[dy]=function(b){return a.handleEvent(b)});return a[dy]};function ey(){Cx.call(this);this.Fc=new Mx(this);this.sg=this;this.jf=null}Da(ey,Cx);ey.prototype[Ix]=!0;h=ey.prototype;h.addEventListener=function(a,b,c,d){Sx(this,a,b,c,d)};h.removeEventListener=function(a,b,c,d){$x(this,a,b,c,d)};
h.dispatchEvent=function(a){var b,c=this.jf;if(c)for(b=[];c;c=c.jf)b.push(c);c=this.sg;var d=a.type||a;if("string"===typeof a)a=new Fx(a,c);else if(a instanceof Fx)a.target=a.target||c;else{var e=a;a=new Fx(d,c);rb(a,e)}e=!0;if(b)for(var f=b.length-1;!a.dd&&0<=f;f--){var g=a.currentTarget=b[f];e=fy(g,d,!0,a)&&e}a.dd||(g=a.currentTarget=c,e=fy(g,d,!0,a)&&e,a.dd||(e=fy(g,d,!1,a)&&e));if(b)for(f=0;!a.dd&&f<b.length;f++)g=a.currentTarget=b[f],e=fy(g,d,!1,a)&&e;return e};
h.Dc=function(){ey.Ic.Dc.call(this);this.removeAllListeners();this.jf=null};h.removeAllListeners=function(a){return this.Fc?this.Fc.removeAll(a):0};function fy(a,b,c,d){b=a.Fc.listeners[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.removed&&g.capture==c){var k=g.listener,l=g.handler||g.src;g.Xd&&Ox(a.Fc,g);e=!1!==k.call(l,d)&&e}}return e&&0!=d.hg}h.$e=function(a,b,c,d){return this.Fc.$e(String(a),b,c,d)};function gy(a,b,c){if(ta(a))c&&(a=Ba(a,c));else if(a&&"function"==typeof a.handleEvent)a=Ba(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:la.setTimeout(a,b||0)};function hy(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function iy(){}iy.prototype.Df=null;function jy(a){var b;(b=a.Df)||(b={},ky(a)&&(b[0]=!0,b[1]=!0),b=a.Df=b);return b};var ly;function my(){}Da(my,iy);function ny(a){return(a=ky(a))?new ActiveXObject(a):new XMLHttpRequest}function ky(a){if(!a.Rf&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Rf=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.Rf}ly=new my;function oy(a){ey.call(this);this.headers=new Wb;this.we=a||null;this.Kc=!1;this.ve=this.ta=null;this.ef="";this.od=0;this.$c=this.cf=this.je=this.Ze=!1;this.se=0;this.qe=null;this.gg=py;this.tf=this.ag=this.td=!1}Da(oy,ey);var py="",qy=/^https?$/i,ry=["POST","PUT"];h=oy.prototype;
h.send=function(a,b,c,d){if(this.ta)throw Error("[goog.net.XhrIo] Object is active with another request\x3d"+this.ef+"; newUri\x3d"+a);b=b?b.toUpperCase():"GET";this.ef=a;this.od=0;this.Ze=!1;this.Kc=!0;this.ta=this.we?ny(this.we):ny(ly);this.ve=this.we?jy(this.we):jy(ly);this.ta.onreadystatechange=Ba(this.Xf,this);this.ag&&"onprogress"in this.ta&&(this.ta.onprogress=Ba(function(f){this.Wf(f,!0)},this),this.ta.upload&&(this.ta.upload.onprogress=Ba(this.Wf,this)));try{this.cf=!0,this.ta.open(b,String(a),
!0),this.cf=!1}catch(f){sy(this);return}a=c||"";var e=this.headers.clone();d&&Ub(d,function(f,g){e.set(g,f)});d=ab(e.Jb());c=la.FormData&&a instanceof la.FormData;!(0<=Va(ry,b))||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset\x3dutf-8");e.forEach(function(f,g){this.ta.setRequestHeader(g,f)},this);this.gg&&(this.ta.responseType=this.gg);"withCredentials"in this.ta&&this.ta.withCredentials!==this.td&&(this.ta.withCredentials=this.td);try{ty(this),0<this.se&&((this.tf=uy(this.ta))?
(this.ta.timeout=this.se,this.ta.ontimeout=Ba(this.kg,this)):this.qe=gy(this.kg,this.se,this)),this.je=!0,this.ta.send(a),this.je=!1}catch(f){sy(this)}};function uy(a){return Qu&&av(9)&&"number"===typeof a.timeout&&void 0!==a.ontimeout}function bb(a){return"content-type"==a.toLowerCase()}h.kg=function(){"undefined"!=typeof ia&&this.ta&&(this.od=8,this.dispatchEvent("timeout"),this.abort(8))};function sy(a){a.Kc=!1;a.ta&&(a.$c=!0,a.ta.abort(),a.$c=!1);a.od=5;vy(a);wy(a)}
function vy(a){a.Ze||(a.Ze=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}h.abort=function(a){this.ta&&this.Kc&&(this.Kc=!1,this.$c=!0,this.ta.abort(),this.$c=!1,this.od=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),wy(this))};h.Dc=function(){this.ta&&(this.Kc&&(this.Kc=!1,this.$c=!0,this.ta.abort(),this.$c=!1),wy(this,!0));oy.Ic.Dc.call(this)};h.Xf=function(){this.ld||(this.cf||this.je||this.$c?xy(this):this.ah())};h.ah=function(){xy(this)};
function xy(a){if(a.Kc&&"undefined"!=typeof ia&&(!a.ve[1]||4!=yy(a)||2!=zy(a)))if(a.je&&4==yy(a))gy(a.Xf,0,a);else if(a.dispatchEvent("readystatechange"),4==yy(a)){a.Kc=!1;try{Ay(a)?(a.dispatchEvent("complete"),a.dispatchEvent("success")):(a.od=6,vy(a))}finally{wy(a)}}}h.Wf=function(a,b){this.dispatchEvent(By(a,"progress"));this.dispatchEvent(By(a,b?"downloadprogress":"uploadprogress"))};function By(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}}
function wy(a,b){if(a.ta){ty(a);var c=a.ta,d=a.ve[0]?na:null;a.ta=null;a.ve=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){}}}function ty(a){a.ta&&a.tf&&(a.ta.ontimeout=null);a.qe&&(la.clearTimeout(a.qe),a.qe=null)}
function Ay(a){var b=zy(a);a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=String(a.ef).match(ac)[1]||null,!a&&la.self&&la.self.location&&(a=la.self.location.protocol,a=a.substr(0,a.length-1)),b=!qy.test(a?a.toLowerCase():"");c=b}return c}function yy(a){return a.ta?a.ta.readyState:0}function zy(a){try{return 2<yy(a)?a.ta.status:-1}catch(b){return-1}}
function Cy(a){try{return a.ta?a.ta.responseText:""}catch(b){return""}}h.getResponseHeader=function(a){if(this.ta&&4==yy(this))return a=this.ta.getResponseHeader(a),null===a?void 0:a};h.getAllResponseHeaders=function(){return this.ta&&4==yy(this)?this.ta.getAllResponseHeaders()||"":""};function Dy(){this.Wb=[];this.pc=[]}function Ey(a){0==a.Wb.length&&(a.Wb=a.pc,a.Wb.reverse(),a.pc=[])}h=Dy.prototype;h.enqueue=function(a){this.pc.push(a)};h.Gd=function(){Ey(this);return this.Wb.pop()};h.peek=function(){Ey(this);var a=this.Wb;return a[a.length-1]};h.$a=function(){return this.Wb.length+this.pc.length};h.isEmpty=function(){return 0==this.Wb.length&&0==this.pc.length};h.clear=function(){this.Wb=[];this.pc=[]};h.contains=function(a){return 0<=Va(this.Wb,a)||0<=Va(this.pc,a)};
h.remove=function(a){var b=this.Wb;var c=Xa(b,a);0<=c?(Array.prototype.splice.call(b,c,1),b=!0):b=!1;return b||db(this.pc,a)};h.Ib=function(){for(var a=[],b=this.Wb.length-1;0<=b;--b)a.push(this.Wb[b]);var c=this.pc.length;for(b=0;b<c;++b)a.push(this.pc[b]);return a};function Fy(a){this.ib=new Wb;a&&this.addAll(a)}function Gy(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+wa(a):b.substr(0,1)+a}h=Fy.prototype;h.$a=function(){return this.ib.$a()};h.add=function(a){this.ib.set(Gy(a),a)};h.addAll=function(a){a=Sb(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};h.removeAll=function(a){a=Sb(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};h.remove=function(a){return this.ib.remove(Gy(a))};h.clear=function(){this.ib.clear()};h.isEmpty=function(){return this.ib.isEmpty()};
h.contains=function(a){return this.ib.Wc(Gy(a))};h.intersection=function(a){var b=new Fy;a=Sb(a);for(var c=0;c<a.length;c++){var d=a[c];this.contains(d)&&b.add(d)}return b};h.difference=function(a){var b=this.clone();b.removeAll(a);return b};h.Ib=function(){return this.ib.Ib()};h.clone=function(){return new Fy(this)};h.equals=function(a){return this.$a()==Rb(a)&&Hy(this,a)};
function Hy(a,b){var c=Rb(b);if(a.$a()>c)return!1;!(b instanceof Fy)&&5<c&&(b=new Fy(b));return Vb(a,function(d){var e=b;if(e.contains&&"function"==typeof e.contains)d=e.contains(d);else if(e.Fd&&"function"==typeof e.Fd)d=e.Fd(d);else if(sa(e)||"string"===typeof e)d=0<=Va(e,d);else a:{for(const f in e)if(e[f]==d){d=!0;break a}d=!1}return d})};function Iy(a,b){Cx.call(this);this.Tf=a||0;this.ke=b||10;if(this.Tf>this.ke)throw Error(Jy);this.sc=new Dy;this.Oc=new Fy;this.delay=0;this.df=null;this.Ud()}Da(Iy,Cx);var Jy="[goog.structs.Pool] Min can not be greater than max";h=Iy.prototype;h.ie=function(){var a=Ca();if(!(null!=this.df&&a-this.df<this.delay)){for(var b;0<this.sc.$a()&&(b=this.sc.Gd(),!this.hf(b));)this.Ud();!b&&this.$a()<this.ke&&(b=this.Xe());b&&(this.df=a,this.Oc.add(b));return b}};
function Ky(a,b){return a.Oc.remove(b)?(a.ye(b),!0):!1}h.ye=function(a){this.Oc.remove(a);this.hf(a)&&this.$a()<this.ke?this.sc.enqueue(a):Ly(a)};h.Ud=function(){for(var a=this.sc;this.$a()<this.Tf;)a.enqueue(this.Xe());for(;this.$a()>this.ke&&0<this.sc.$a();)Ly(a.Gd())};h.Xe=function(){return{}};function Ly(a){if("function"==typeof a.Of)a.Of();else for(var b in a)a[b]=null}h.hf=function(a){return"function"==typeof a.vg?a.vg():!0};h.contains=function(a){return this.sc.contains(a)||this.Oc.contains(a)};
h.$a=function(){return this.sc.$a()+this.Oc.$a()};h.isEmpty=function(){return this.sc.isEmpty()&&this.Oc.isEmpty()};h.Dc=function(){Iy.Ic.Dc.call(this);if(0<this.Oc.$a())throw Error("[goog.structs.Pool] Objects not released");delete this.Oc;for(var a=this.sc;!a.isEmpty();)Ly(a.Gd());delete this.sc};function My(a,b){this.Sf=a;this.ng=b}My.prototype.getKey=function(){return this.Sf};My.prototype.getValue=function(){return this.ng};My.prototype.clone=function(){return new My(this.Sf,this.ng)};function Ny(a){this.Qb=[];if(a)a:{if(a instanceof Ny){var b=a.Jb();a=a.Ib();if(0>=this.$a()){for(var c=this.Qb,d=0;d<b.length;d++)c.push(new My(b[d],a[d]));break a}}else b=nb(a),a=mb(a);for(d=0;d<b.length;d++)this.insert(b[d],a[d])}}h=Ny.prototype;h.insert=function(a,b){var c=this.Qb;c.push(new My(a,b));a=c.length-1;b=this.Qb;for(c=b[a];0<a;){var d=a-1>>1;if(b[d].getKey()>c.getKey())b[a]=b[d],a=d;else break}b[a]=c};
h.remove=function(){var a=this.Qb,b=a.length,c=a[0];if(!(0>=b)){if(1==b)cb(a);else{a[0]=a.pop();a=0;b=this.Qb;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,g=2*a+2;f=g<d&&b[g].getKey()<b[f].getKey()?g:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};h.peek=function(){var a=this.Qb;if(0!=a.length)return a[0].getValue()};h.Ib=function(){for(var a=this.Qb,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getValue());return b};
h.Jb=function(){for(var a=this.Qb,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};h.Fd=function(a){return Za(this.Qb,function(b){return b.getValue()==a})};h.Wc=function(a){return Za(this.Qb,function(b){return b.getKey()==a})};h.clone=function(){return new Ny(this)};h.$a=function(){return this.Qb.length};h.isEmpty=function(){return 0==this.Qb.length};h.clear=function(){cb(this.Qb)};function Oy(){Ny.call(this)}Da(Oy,Ny);Oy.prototype.enqueue=function(a,b){this.insert(a,b)};Oy.prototype.Gd=function(){return this.remove()};function Py(a,b){this.Nf=void 0;this.mf=new Oy;Iy.call(this,a,b)}Da(Py,Iy);h=Py.prototype;h.ie=function(){var a=Py.Ic.ie.call(this);a&&this.delay&&(this.Nf=la.setTimeout(Ba(this.bf,this),this.delay));return a};h.bf=function(){for(var a=this.mf;0<a.$a();){var b=this.ie();if(b)a.Gd().apply(this,[b]);else break}};h.ye=function(a){Py.Ic.ye.call(this,a);this.bf()};h.Ud=function(){Py.Ic.Ud.call(this);this.bf()};h.Dc=function(){Py.Ic.Dc.call(this);la.clearTimeout(this.Nf);this.mf.clear();this.mf=null};function Qy(a,b,c,d){this.Og=a;this.td=!!d;Py.call(this,b,c)}Da(Qy,Py);Qy.prototype.Xe=function(){var a=new oy,b=this.Og;b&&b.forEach(function(c,d){a.headers.set(d,c)});this.td&&(a.td=!0);return a};Qy.prototype.hf=function(a){return!a.ld&&!a.ta};function Ry(a){a=nd(a);throw vl(nd(tr.j(a)),mf.B(a,tr));}var Sy={};
function Ty(a,b,c,d){if(y(Ry)){var e=new Pk(function(){var f=new Date,g=y(a)?a:"?",k=B.j(b),l=null==c?"\x3ctruss/nil\x3e":Gk($e([c])),m=Sy===d?null:d,n=new Pk(function(){var r=y(m)?B.j(m):null;var u=["Invariant violation in `",B.j(fa),":",B.j(g),"`. Test form `",B.j(k),"` failed against input val `",B.j(l),"`."].join("");return tc(m)?u:[u," An error was thrown while evaluating test form: [",r,"]."].join("")}),q=function(){if(y(null))try{return null.O?null.O():null.call(null)}catch(r){if(r instanceof
Error)return new t(null,1,[zl,r],null);throw r;}else return null}();return rj([em,tr,ao,Dr,Kk,Co,bp,hn,Tr,Lo,op,Ml],[null,n,null,f,c,fa,vc(c),m,!0,q,a,k])});return Ry.j?Ry.j(e):Ry.call(null,e)}return null};var Uy=new V(null,3,5,X,[2,120,0],null);
function Vy(a){if(null==a||""===a)return null;if("string"===typeof a){var b=C.C(null,Hl,Em),c=C.C(null,ql,Em);y(T.B?T.B(b,Em):T.call(null,b,Em))&&(b=nd(xx),b=Wy.B?Wy.B(te,b):Wy.call(null,te,b));c=y(T.B?T.B(c,Em):T.call(null,c,Em))?nd(wx):c;c=kf.G(null,Hl,b,$e([ql,c]));if(y(y(a)?Mg(a,""):a)){a=new gw(a,R(a));a:if(b=Array(1),Ff(null))for(var d=0,e=G(null);;)if(e&&1>d)b[d]=I(e),d+=1,e=J(e);else break a;else for(d=0;;)if(1>d)b[d]=null,d+=1;else break;c=qx(c,new hw(a,b))}else c=null;return c}throw vl("`read-edn` attempt against non-nil, non-string arg",
new t(null,2,[pp,a,ln,vc(a)],null));}function Xy(a){if(null!=a&&(a.T&4096||p===a.Ie)){var b=lg(a);a=ig(a);return y(a)?[a,"/",b].join(""):b}return"string"===typeof a?a:null}function Yy(a){return"string"===typeof a?M.B(a,"")?null:a:null}function Zy(a){return"number"===typeof a?Yf(a):"string"===typeof a?(a=parseInt(a,10),y(isNaN(a))?null:a):null}function $y(a){var b=Xy(a);if(!y(b))throw vl(["`as-",lg(Lm),"` failed against: `",Gk($e([a])),"`"].join(""),new t(null,2,[pp,a,ln,vc(a)],null));return b}
function az(a,b,c){return Vf(fk(),Tf(function(d,e){var f=S(e,0,null);e=S(e,1,null);return a.C?a.C(d,f,e):a.call(null,d,f,e)},Sf),b,c)}function bz(a,b){return Dc.C(function(c,d){c=a.j?a.j(d):a.call(null,d);return y(c)?new He(c):null},null,b)}
function cz(){var a=new qh(-1);return function(){function b(e){return a.Ac(null,a.lb(null)+e)}function c(){return a.Ac(null,a.lb(null)+1)}var d=null;d=function(e){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,e)}throw Error("Invalid arity: "+arguments.length);};d.O=c;d.j=b;return d}()}
var dz=function dz(a){switch(arguments.length){case 1:return dz.j(arguments[0]);case 2:return dz.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};dz.j=function(a){return dz.B(a,null)};dz.B=function(a,b){var c=null!=b&&(b.F&64||p===b.oa)?Hg(Mj,b):b,d=C.B(c,Er);b=C.B(c,yq);c=C.C(c,Pl,1E3);a=Math.pow(2,36<a?36:a);a=Yf(.5*(a+Math.random()*a)*c);d=Yf(y(d)?a<d?d:a:a);return Yf(y(b)?d>b?b:d:d)};dz.R=2;M.B("default","nodejs");
var ez="undefined"!==typeof window?window:null;function fz(a){a=us(B.j(a),/-/,2);var b=S(a,0,null);a=S(a,1,null);var c=/\d+/;if("string"===typeof b)b=sk(c,b);else throw new TypeError("re-seq must match against a string.");b=y(b)?Ch(Zy,b):null;return new t(null,2,[Wl,b,kq,y(a)?a.toLowerCase():null],null)}
function gz(a){var b=S(Uy,0,null),c=S(Uy,1,null),d=S(Uy,2,null),e=Bf(a)?a:Wl.j(fz(a));a=S(e,0,null);var f=S(e,1,null);e=S(e,2,null);e=Ch(function(g){return y(g)?g:0},new V(null,3,5,X,[a,f,e],null));a=S(e,0,null);f=S(e,1,null);e=S(e,2,null);if(!(b>a||M.B(b,a)&&(c>f||M.B(c,f)&&d>=e)))throw vl("Insufficient `com.taoensso/encore` version, you may have a dependency conflict: see http://goo.gl/qBbLvC for solutions.",new t(null,2,[Uo,rs(".",new V(null,3,5,X,[a,f,e],null)),In,rs(".",new V(null,3,5,X,[b,c,
d],null))],null));}function hz(a,b){return ob(a,lg(b),null)}function iz(a,b){return null==b?null==a?Pg:a:kf.C(a,"x-requested-with",b)}var jz=function jz(a){switch(arguments.length){case 3:return jz.C(arguments[0],arguments[1],arguments[2]);case 2:return jz.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new ve(c.slice(3),0,null);return jz.G(arguments[0],arguments[1],arguments[2],c)}};
jz.C=function(a,b,c){return If(a,b)?a:kf.C(a,b,c)};jz.G=function(a,b,c,d){return az(jz,jz.C(a,b,c),d)};jz.Y=function(a){var b=I(a),c=J(a);a=I(c);var d=J(c);c=I(d);d=J(d);return this.G(b,a,c,d)};jz.B=function(a,b){return Rf(function(c,d,e){return If(c,d)?c:kf.C(c,d,e)},null==a?Pg:a,b)};jz.R=3;
var kz=function kz(a){switch(arguments.length){case 2:return kz.B(arguments[0],arguments[1]);case 3:return kz.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};kz.B=function(a,b){b=0>b?0:b;var c=R(a);return b>=c?ff:ri(a,b,c)};kz.C=function(a,b,c){b=0>b?0:b;var d=Yf(R(a));c=c>d?d:c;return b>=c?ff:ri(a,b,c)};kz.R=3;
var lz=function lz(a){switch(arguments.length){case 2:return lz.B(arguments[0],arguments[1]);case 3:return lz.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};lz.B=function(a,b){var c=R(a);return 0>b?(b+=c,ri(a,0>b?0:b,c)):b>=c?ff:ri(a,b,c)};lz.C=function(a,b,c){if(0>=c)return ff;var d=Yf(R(a));if(0>b)return b+=d,b=0>b?0:b,c=b+c,ri(a,b,c>d?d:c);c=b+c;d=c>d?d:c;return b>=d?ff:ri(a,b,d)};lz.R=3;
function mz(a,b){for(var c=ff;;){var d=G(b);b=I(d);if(d=J(d))c=ef.B(c,b),b=d;else return a.B?a.B(c,b):a.call(null,c,b)}}jh.B(Dc,wg);function Wy(a,b){b=Rf(function(c,d,e){return Ag(c,a.j?a.j(d):a.call(null,d),e)},xg.j?xg.j(Pg):xg.call(null,Pg),b);return yg.j?yg.j(b):yg.call(null,b)}function nz(a,b){return M.B(ak(Ii(b)),ak.j?ak.j(a):ak.call(null,a))}
function oz(a,b,c,d){var e=G(b);if(e){b=Te(b,0);if(e=J(e))return kf.C(a,b,oz(C.B(a,b),e,c,d));if(y(T.B?T.B(d,Nr):T.call(null,d,Nr)))return mf.B(a,b);c=C.C(a,b,c);d=d.j?d.j(c):d.call(null,c);return y(T.B?T.B(d,Nr):T.call(null,d,Nr))?mf.B(a,b):kf.C(a,b,d)}return d.j?d.j(a):d.call(null,a)}function pz(a,b,c){return oz(a,b,null,function(d){return mf.B(d,c)})}var qz={};
function rz(a,b){return Dc.C(function(c,d){return null==d?c:Rf(function l(f,g,k){var m=C.C(f,g,qz);if(m===qz)return kf.C(f,g,k);if(y(T.B?T.B(k,Nr):T.call(null,k,Nr)))return mf.B(f,g);if(y(y(!1)?zf(k)&&zf(m):!1))return kf.C(f,g,Rf(l,m,k));k=a.B?a.B(m,k):a.call(null,m,k);return y(T.B?T.B(k,Nr):T.call(null,k,Nr))?mf.B(f,g):kf.C(f,g,k)},y(c)?c:Pg,d)},null,b)}function sz(a){return rz(function(b,c){return c},a)}function tz(a,b){this.gf=a;this.nf=b}
function uz(a,b,c){for(;;){var d=nd(b);c=c.j?c.j(d):c.call(null,d);var e=c instanceof tz,f=e?c.gf:c;nh(b,f);return e?c.nf:a.B?a.B(d,f):a.call(null,d,f)}}
function vz(a,b,c,d){if(y(T.B?T.B(d,Nr):T.call(null,d,Nr)))for(;;){var e=nd(b);d=mf.B(e,c);nh(b,d);b=C.C(e,c,null);c=Nr;return a.B?a.B(b,c):a.call(null,b,c)}else for(;;){e=nd(b);var f=C.C(e,c,null),g=d.j?d.j(f):d.call(null,f),k=g instanceof tz,l=k?g.gf:g;d=y(T.B?T.B(l,Nr):T.call(null,l,Nr))?mf.B(e,c):kf.C(e,c,l);nh(b,d);return k?g.nf:a.B?a.B(f,l):a.call(null,f,l)}}
function wz(a,b,c){var d=xz,e=G(b);if(e)if(J(e))if(y(T.B?T.B(c,Nr):T.call(null,c,Nr)))for(;;){var f=nd(a);e=mz(function(m){return function(n,q){return pz(m,n,q)}}(f,e,e),b);nh(a,e);a=Fh(f,b);b=Nr;return d.B?d.B(a,b):d.call(null,a,b)}else for(;;){f=nd(a);var g=Fh(f,b);c=c.j?c.j(g):c.call(null,g);var k=c instanceof tz,l=k?c.gf:c;e=y(T.B?T.B(l,Nr):T.call(null,l,Nr))?mz(function(m){return function(n,q){return pz(m,n,q)}}(f,g,c,k,l,e,e),b):Gh(f,b,l);nh(a,e);return k?c.nf:d.B?d.B(g,l):d.call(null,g,l)}else return vz(d,
a,Te(b,0),c);else return uz(d,a,c)}function xz(a,b){return b}function yz(a,b){return uz(xz,a,b)}function zz(a,b,c){return wz(a,b,c)}function Az(a){return a}function Bz(a,b,c){a:{var d=G(b);if(d)if(J(d))for(;;){d=nd(a);var e=Gh(d,b,c);nh(a,e);a=Fh(d,b);Az.B?Az.B(a,c):Az.call(null,a,c);break a}else b:for(b=Te(b,0);;){d=nd(a);e=kf.C(d,b,c);nh(a,e);a=C.C(d,b,null);Az.B?Az.B(a,c):Az.call(null,a,c);break b}else b:for(;;){b=nd(a);nh(a,c);Az.B?Az.B(b,c):Az.call(null,b,c);break b}}}
function Cz(){return(new Date).getTime()}(function(){var a=hz(ez,"performance");if(y(a)){var b=function(){var c=hz(a,"now");if(y(c))return c;c=hz(a,"mozNow");if(y(c))return c;c=hz(a,"msNow");if(y(c))return c;c=hz(a,"oNow");return y(c)?c:hz(a,"webkitNow")}();return y(b)?function(){return 1E6*Yf(b.call(a))}:function(){return 1E6*(new Date).getTime()}}return function(){return 1E6*(new Date).getTime()}})();
function Dz(a){var b=new qh(Pg),c={};return function(){function d(f){var g=null;if(0<arguments.length){g=0;for(var k=Array(arguments.length-0);g<k.length;)k[g]=arguments[g+0],++g;g=new ve(k,0,null)}return e.call(this,g)}function e(f){var g=I(f);if(y(T.B?T.B(g,ko):T.call(null,g,ko)))return f=J(f),g=I(f),y(T.B?T.B(g,zm):T.call(null,g,zm))?ae(b,Pg):b.Ac(null,mf.B(b.lb(null),f)),null;if(y(T.B?T.B(g,Vq):T.call(null,g,Vq)))return f=J(f),g=Hg(a,f),b.Ac(null,kf.C(b.lb(null),f,g)),g;g=C.C(nd(b),f,c);return g===
c?(g=Hg(a,f),b.Ac(null,kf.C(b.lb(null),f,g)),g):g}d.R=0;d.Y=function(f){f=G(f);return e(f)};d.G=e;return d}()}function Ez(a,b){this.n=a;this.ff=b}function Fz(a,b){this.n=a;this.sf=b}function Gz(a,b,c){this.m=a;this.og=b;this.vf=c}
function Hz(a){if(zf(a))return Rf(function(c,d,e){var f=S(e,0,null);e=S(e,1,null);return kf.C(c,d,new Ez(f,e))},Pg,a);if(Bf(a)){var b=new qh(-1);return Dc.C(function(c,d){var e=S(d,0,null),f=S(d,1,null);d=S(d,2,null);return kf.C(c,y(d)?d:b.Ac(null,b.lb(null)+1),new Ez(e,f))},Pg,a)}throw vl("No matching `encore/cond!` clause",Pg);}
function Iz(a){function b(f,g){var k=(new Date).getTime();tc(g)&&6.25E-5>=Math.random()&&(nh(c,null),oh.B(d,function(q){return Od(Rf(function(r,u,x){x=Rf(function(z,K,O){var ba=C.B(e,K);return y(ba)?k>=O.sf+ba.ff?mf.B(z,K):z:mf.B(z,K)},x,x);return vf(x)?Qd(r,u):Pd(r,u,x)},Md(y(q)?q:Pg),q))}));for(;;){var l=nd(d),m=C.B(l,f),n=null==m?null:Rf(function(q,r,u,x,z,K){return function(O,ba,ja){var ma=C.B(K,ba);if(y(ma)){if(ja.n<ma.n)return O;ja=ja.sf+ma.ff-u;return 0>=ja?O:null==O?new Gz(lf([ba,ja]),ba,
ja):ja>O.vf?new Gz(kf.C(O.m,ba,ja),ba,ja):new Gz(kf.C(O.m,ba,ja),O.og,O.vf)}return O}}(l,m,k,c,d,e),null,m);if(y(y(g)?g:n))return g=n,y(g)?(f=g,new V(null,3,5,X,[f.og,f.vf,f.m],null)):null;g=nd(c);y(g)||(m=Rf(function(q,r,u,x,z){return function(K,O,ba){return kf.C(K,O,function(){var ja=C.B(u,O);if(y(ja)){var ma=ja.sf;return z>=ma+ba.ff?new Fz(1,z):new Fz(ja.n+1,ma)}return new Fz(1,z)}())}}(g,l,m,n,k,c,d,e),m,e),nh(d,kf.C(l,f,m)));return null}}if(vf(a))return new V(null,2,5,X,[null,hh(null)],null);
var c=mh(null),d=mh(null),e=Hz(a);return new V(null,2,5,X,[d,function(){function f(m,n){if(y(T.B?T.B(m,Gp):T.call(null,m,Gp)))return y(T.B?T.B(n,ro):T.call(null,n,ro))?nh(d,null):oh.C(d,mf,n),null;if(y(T.B?T.B(m,bq):T.call(null,m,bq)))return b(n,!0);throw vl("Unrecognized rate limiter command",new t(null,2,[pp,m,Tn,n],null));}function g(m){return b(m,!1)}function k(){return b(null,!1)}var l=null;l=function(m,n){switch(arguments.length){case 0:return k.call(this);case 1:return g.call(this,m);case 2:return f.call(this,
m,n)}throw Error("Invalid arity: "+arguments.length);};l.O=k;l.j=g;l.B=f;return l}()],null)}
var Jz=function(){function a(d){return new fc(d)}function b(){return new fc}var c=null;c=function(d){switch(arguments.length){case 0:return b.call(this);case 1:return a.call(this,d)}throw Error("Invalid arity: "+arguments.length);};c.O=b;c.j=a;return c}(),Kz=function(){function a(e,f){e=e instanceof fc?e:Jz.j(B.j(e));f=B.j(f);return e.append(f)}function b(e){return e instanceof fc?e:Jz.j(B.j(e))}function c(){return Jz.O()}var d=null;d=function(e,f){switch(arguments.length){case 0:return c.call(this);
case 1:return b.call(this,e);case 2:return a.call(this,e,f)}throw Error("Invalid arity: "+arguments.length);};d.O=c;d.j=b;d.B=a;return d}();function Lz(a,b){if(y(y(" ")?Mg(" ",""):" ")){var c=yh(),d=Tf(Kz,B);return y(a)?Uf(ih.B(a,c),d,b):Uf(c,d,b)}return y(a)?Uf(a,Tf(Kz,B),b):B.j(Dc.B(Kz,b))}
var Mz=function Mz(a){switch(arguments.length){case 2:return Mz.B(arguments[0],arguments[1]);case 3:return Mz.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Mz.B=function(a,b){return a.substring(b)};Mz.C=function(a,b,c){return b>=c?"":a.substring(b,c)};Mz.R=3;
var Nz=function Nz(a){switch(arguments.length){case 2:return Nz.B(arguments[0],arguments[1]);case 3:return Nz.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};Nz.B=function(a,b){return Yy(a.substr(b))};Nz.C=function(a,b,c){return Yy(a.substr(b,c))};Nz.R=3;function Oz(a){return void 0===a||null==a?"nil":a}
function Pz(a){if(vs("/"))return B.j(Dc.C(Kz,"",a));var b=new qh(!1),c=new qh(!0);return B.j(Dc.C(function(d,e){e=B.j(e);var f=M.B(e,""),g=0===e.indexOf("/");var k=e.length;k=1<=k?Mg(-1,e.indexOf("/",k-1)):null;var l=nd(b),m=nd(c);ae(b,k);y(m)&&ae(c,f);if(y(l))return g?(e=e.substring(1),d=d.append(e)):d=d.append(e),d;g||y(y(m)?m:f)||d.append("/");return d.append(e)},Jz.O(),a))}
function Qz(){function a(){return Math.floor(16*Math.random()).toString(16)}var b=(8|3&Math.floor(16*Math.random())).toString(16);return[B.j(a()),B.j(a()),B.j(a()),B.j(a()),B.j(a()),B.j(a()),B.j(a()),B.j(a()),"-",B.j(a()),B.j(a()),B.j(a()),B.j(a()),"-4",B.j(a()),B.j(a()),B.j(a()),"-",B.j(b),B.j(a()),B.j(a()),B.j(a()),"-",B.j(a()),B.j(a()),B.j(a()),B.j(a()),B.j(a()),B.j(a()),B.j(a()),B.j(a()),B.j(a()),B.j(a()),B.j(a()),B.j(a())].join("")}
var Rz=function Rz(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new ve(c.slice(0),0,null):null;return Rz.G(c)};Rz.G=function(a){a=null!=a&&(a.F&64||p===a.oa)?Hg(Mj,a):a;var b=C.B(a,Fl),c=C.B(a,Lr),d=C.B(a,es),e=C.B(a,zo),f=C.B(a,Yn),g=C.B(a,ip),k=C.B(a,Yl),l=C.B(a,Vo),m=C.B(a,cp);Ii(a);return Math.round((y(m)?31536E6*m:0)+(y(e)?2551392E3*e:0)+(y(c)?6048E5*c:0)+(y(k)?864E5*k:0)+(y(l)?36E5*l:0)+(y(g)?6E4*g:0)+(y(f)?1E3*f:0)+(y(d)?d:0)+(y(b)?b:0))};
Rz.R=0;Rz.Y=function(a){return this.G(G(a))};ih.B(function(a){return Zf(Yf(a),1E3)},Rz);var Sz=new Pk(function(){return new Qy});function Tz(){var a=nd(Sz).ie();return void 0===a?null:a}
var Uz="undefined"!==typeof FormData?function(a){return a instanceof FormData}:function(){return null},Vz="undefined"!==typeof File?function(a){return a instanceof File}:function(){return null},Wz=function(){function a(c,d){if(y(Uz(d)))return new V(null,2,5,X,[c,d],null);if(y("undefined"!==typeof FormData?bz(Vz,Ji(d)):!1)){var e=new FormData;d=G(d);for(var f=null,g=0,k=0;;)if(k<g){var l=f.fa(null,k),m=S(l,0,null);l=S(l,1,null);e.append(lg(m),l);k+=1}else if(d=G(d))Cf(d)?(g=Ud(d),d=Vd(d),f=g,g=R(g)):
(g=I(d),f=S(g,0,null),g=S(g,1,null),e.append(lg(f),g),d=J(d),f=null,g=0),k=0;else break;return new V(null,2,5,X,[c,e],null)}return new V(null,2,5,X,[c,b(d)],null)}var b=function(){function c(f,g){g=e.j(g);f=vs(g)?f:[B.j(f),"?",B.j(g)].join("");return new V(null,2,5,X,[f,null],null)}function d(f){if(G(f)){var g=Yk(f);f=Tb(g);if("undefined"==typeof f)throw Error("Keys are undefined");var k=new cc(null,void 0);g=Sb(g);for(var l=0;l<f.length;l++){var m=f[l],n=g[l];if(qa(n)){var q=k;q.remove(m);0<n.length&&
(q.Vb=null,q.bb.set(ec(q,m),fb(n)),q.Pa+=n.length)}else k.add(m,n)}f=k.toString()}else f=null;return f}var e=null;e=function(f,g){switch(arguments.length){case 1:return d.call(this,f);case 2:return c.call(this,f,g)}throw Error("Invalid arity: "+arguments.length);};e.j=d;e.B=c;return e}();return function(c,d,e){d=d instanceof D?d.Ia:null;switch(d){case "get":return b(c,e);case "post":return a(c,e);case "put":return a(c,e);default:throw Error(["No matching clause: ",B.j(d)].join(""));}}}();
function Xz(a,b,c){var d=null!=b&&(b.F&64||p===b.oa)?Hg(Mj,b):b,e=C.C(d,ap,Yo);b=C.B(d,Ho);var f=C.B(d,Nl),g=C.C(d,jm,1E4),k=C.C(d,Kr,Dn),l=C.B(d,Qr),m=Tz();if(y(m))try{var n=function(){var O=So.j(d);return y(O)?O:g}(),q=function(){var O=e instanceof D?e.Ia:null;switch(O){case "get":return"GET";case "post":return"POST";case "put":return"PUT";default:throw Error(["No matching clause: ",B.j(O)].join(""));}}(),r=Wz(a,e,b),u=S(r,0,null),x=S(r,1,null),z=function(){var O=Wy(function(ba){return lg(ba).toLowerCase()},
f);O=iz(O,C.C(O,"x-requested-with","XMLHTTPRequest"));return Yk(O)}(),K=function(){var O=xo.j(d);return y(O)?(m.ag=!0,Sx(m,"progress",function(ba){var ja=ba.lengthComputable,ma=ba.loaded,ha=ba.total,v=y(y(ja)?Mg(ha,0):ja)?ma/ha:null;ba=new t(null,5,[Jr,v,oo,ja,Oo,ma,lo,ha,ur,ba],null);return O.j?O.j(ba):O.call(null,ba)})):null}();Tx(m,"ready",function(){return Ky(nd(Sz),m)});Tx(m,"complete",function(O){var ba=Ay(m),ja=zy(m),ma=Mg(ja,-1)?function(){var w=m.getResponseHeader("content-type"),A=function(){if(Mg(k,
Dn))var E=k;else null==w?E=Bo:(E=B.j(w).toLowerCase(),E=Mg(-1,E.indexOf("/edn"))?np:Mg(-1,E.indexOf("/json"))?co:Mg(-1,E.indexOf("/xml"))?vp:Bo);try{var F=E instanceof D?E.Ia:null;switch(F){case "edn":return Vy(Cy(m));case "json":if(m.ta){b:{var H=m.ta.responseText;if(la.JSON)try{var N=la.JSON.parse(H);break b}catch(U){}N=hy(H)}var P=N}else P=void 0;return P;case "xml":try{var Q=m.ta?m.ta.responseXML:null}catch(U){Q=null}return Q;case "text":return Cy(m);default:throw Error(["No matching clause: ",
B.j(F)].join(""));}}catch(U){if(U instanceof Error)return new t(null,2,[vm,E,ir,Cy(m)],null);throw U;}}();return new V(null,3,5,X,[ja,w,A],null)}():null,ha=S(ma,0,null),v=S(ma,1,null);ma=S(ma,2,null);y(K)&&ay(K);O=new t(null,7,[er,O,hp,m,Gq,ba,Ul,ha,yr,v,mo,ma,jn,y(ba)?null:y(ha)?ha:C.C(lf([0,null,5,tm,6,pq,7,Rl,8,So]),m.od,iq)],null);return c.j?c.j(O):c.call(null,O)});m.se=Math.max(0,y(n)?n:0);y(l)&&(m.td=!0);m.send(u,q,x,z);return m}catch(O){if(O instanceof Error)return a=O,Ky(nd(Sz),m),a=new t(null,
1,[jn,a],null),c.j?c.j(a):c.call(null,a),null;throw O;}else return a=new t(null,1,[jn,Um],null),c.j?c.j(a):c.call(null,a),null}function Yz(a){return y(a)?qs(encodeURIComponent(B.j(a),a),"*","%2A"):null}function Zz(a,b){S(b,0,null);return y(a)?decodeURIComponent(B.j(a)):null}
function $z(a){function b(c,d){return[Yz($y(c)),"\x3d",Yz(function(){var e=Xy(d);return y(e)?e:B.j(d)}())].join("")}return vf(a)?"":rs("\x26",function(){return function e(d){return new mg(null,function(){for(var f=d;;)if(f=G(f)){if(Cf(f)){var g=Ud(f),k=R(g),l=qg(k);return function(){for(var r=0;;)if(r<k){var u=Rc(g,r),x=S(u,0,null),z=S(u,1,null);if(null!=z){u=l;if(yf(z)){var K=Ch;x=jh.B(b,x);z=G(z);K=rs("\x26",K(x,z?z:new V(null,1,5,X,[""],null)))}else K=b(x,z);u.add(K)}r+=1}else return!0}()?sg(l.Fa(),
e(Vd(f))):sg(l.Fa(),null)}var m=I(f),n=S(m,0,null),q=S(m,1,null);if(null!=q)return Ze(yf(q)?rs("\x26",Ch(jh.B(b,n),function(){var r=G(q);return r?r:new V(null,1,5,X,[""],null)}())):b(n,q),e(xe(f)));f=xe(f)}else return null},null,null)}(a)}())}function aA(a,b,c){return kf.C(a,b,function(){var d=C.B(a,b);return y(d)?Bf(d)?ef.B(d,c):new V(null,2,5,X,[d,c],null):c}())}
function bA(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new ve(b.slice(1),0,null):null;return cA(arguments[0],b)}function cA(a,b){var c=S(b,0,null),d=S(b,1,null);if(vs(a)||!Mg(-1,a.indexOf("\x3d")))return Pg;a=0===a.indexOf("?")?a.substring(1):a;a=Dc.C(function(e,f){var g=us(f,/=/,2);return y(g)?(f=S(g,0,null),g=S(g,1,null),aA(e,Zz(f,$e([d])),Zz(g,$e([d])))):e},Pg,ts(a,/&/));return y(c)?Wy(kg,a):a}
function dA(a,b){var c=us(B.j(a),/\?/,2);a=S(c,0,null);c=S(c,1,null);b=sz($e([y(c)?Wy(kg,bA(c)):null,Wy(kg,b)]));b=$z(b);b="string"===typeof b?vs(b)?null:b:null;return y(b)?[B.j(a),"?",b].join(""):a}
var eA=function(a){return new qh(function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new ve(f,0,null)}return c.call(this,e)}function c(d){throw vl(["Attempting to call uninitialized stub fn (",B.j(a),")"].join(""),new t(null,2,[Fr,a,nr,d],null));}b.R=0;b.Y=function(d){d=G(d);return c(d)};b.G=c;return b}())}("stub-test"),fA;
if(nf(Sf))fA=Sf;else throw vl("Unstub value must be a fn",new t(null,2,[pp,Sf,ln,vc(Sf)],null));ae(eA,fA);
var gA=function(){function a(b){if(b instanceof RegExp)return function(d){return rk(b,d)};if("string"===typeof b){if(Mg(-1,b.indexOf("*"))){var c=tk(qs(qs(["^",b,"$"].join(""),".","\\."),"*","(.*)"));return function(d){return rk(c,d)}}return function(d){return M.B(d,b)}}throw vl("Unexpected ns-pattern type",new t(null,2,[pp,b,ln,vc(b)],null));}return function(){function b(e,f){var g=G(e)?function(){var l=Ch(a,e),m=G(l),n=I(m);return J(m)?function(q){return bz(function(r){return r.j?r.j(q):r.call(null,
q)},l)}:function(q){return n.j?n.j(q):n.call(null,q)}}():null,k=G(f)?function(){var l=Ch(a,f),m=G(l),n=I(m);return J(m)?function(q){return tc(bz(function(r){return r.j?r.j(q):r.call(null,q)},l))}:function(q){return tc(n.j?n.j(q):n.call(null,q))}}():null;return y(y(g)?k:g)?function(l){l=B.j(l);return y(g.j?g.j(l):g.call(null,l))?y(k.j?k.j(l):k.call(null,l))?!0:null:null}:y(g)?function(l){return y(g(B.j(l)))?!0:null}:y(k)?function(l){return y(k(B.j(l)))?!0:null}:function(){return!0}}function c(e){if(zf(e))return d.B(hs.j(e),
mm.j(e));if(Bf(e)||xf(e))return d.B(e,null);if(M.B(e,"*"))return function(){return!0};var f=a(e);return function(g){return y(f(B.j(g)))?!0:null}}var d=null;d=function(e,f){switch(arguments.length){case 1:return c.call(this,e);case 2:return b.call(this,e,f)}throw Error("Invalid arity: "+arguments.length);};d.j=c;d.B=b;return d}()}();ih.B(Ng,kz);ih.B(Ng,lz);ih.B(Yy,Mz);ih.B(Yy,Nz);function hA(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new ve(b.slice(0),0,null):null;return iA(b)}
function iA(a){S(a,0,null);return new t(null,6,[Up,!0,vn,!1,Br,null,Fn,null,jo,rr,mr,"undefined"!==typeof console?function(){function b(c){var d=function(){var e=c instanceof D?c.Ia:null;switch(e){case "trace":return console.trace;case "debug":return console.debug;case "info":return console.info;case "warn":return console.warn;case "error":return console.error;case "fatal":return console.error;case "report":return console.info;default:throw Error(["No matching clause: ",B.j(e)].join(""));}}();return y(d)?
d:console.log}return function(c){var d=b(Dl.j(c));if(y(d)){if(y(function(){var g=sm.j(c);return y(g)?g:Eh(c,new V(null,2,5,X,[Mq,sm],null))}())){var e=function(){var g=kf.G(c,tr,"",$e([hn,null])),k=jo.j(c);return k.j?k.j(g):k.call(null,g)}(),f=function(){var g=Pq.j(c),k=hn.j(c);return y(k)?Ze(e,Ze(k,g)):Ze(e,g)}();return d.apply(console,Cc(f))}return d.call(console,Tk(Xr.j(c)))}return null}}():function(){return null}],null)};Bf(Uy)?gz(new V(null,3,5,X,[2,87,0],null)):gz(2.87);var jA=function jA(a){switch(arguments.length){case 1:return jA.j(arguments[0]);case 2:return jA.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};jA.j=function(a){return jA.B(null,a)};
jA.B=function(a,b){var c=null!=a&&(a.F&64||p===a.oa)?Hg(Mj,a):a,d=C.B(c,xn);C.B(c,Sq);var e=null!=b&&(b.F&64||p===b.oa)?Hg(Mj,b):b;b=C.B(e,Dl);c=C.B(e,hn);var f=C.B(e,tr),g=C.B(e,Kn),k=C.B(e,rq);C.B(e,kp);C.B(e,hr);e=C.B(e,op);return[lg(b).toUpperCase()," [",B.j(y(g)?g:y(k)?k:"?"),":",B.j(y(e)?e:"?"),"] - ",B.j(Tk(f)),y(d)?null:y(c)?["\n",B.j(kA?kA(c,a):lA.call(null,c,a))].join(""):null].join("")};jA.R=2;
var mA=new t(null,6,[Dl,Wp,Zl,ff,gn,ff,Pp,ff,jo,jA,aq,new t(null,1,[wr,hA.j?hA.j(Pg):hA.call(null,Pg)],null)],null);function nA(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new ve(b.slice(1),0,null):null;return mA=Ig(arguments[0],mA,b)}var oA=ak(new V(null,7,5,X,[Dp,Wp,io,Tq,Tm,En,Xl],null)),pA=ck(new V(null,7,5,X,[Dp,Wp,io,Tq,Tm,En,Xl],null),J(lk(0,Number.MAX_VALUE,1)));
function qA(a){var b=oA.j?oA.j(a):oA.call(null,a);if(y(b))return b;throw vl("Invalid Timbre logging level",new t(null,1,[pp,a],null));}function rA(a,b){return function(){var c=qA(a);return pA.j?pA.j(c):pA.call(null,c)}()>=function(){var c=qA(b);return pA.j?pA.j(c):pA.call(null,c)}()}var sA=Dz(gA),tA=Dz(function(a,b,c){a=sA(a,b);return a.j?a.j(c):a.call(null,c)});function uA(a,b,c){c=y(c)?c:mA;var d=C.C(c,Dl,Xl);return rA(a,d)&&Gf(tA(C.B(c,Zl),C.B(c,gn),b))&&!0}
function vA(a){return Lz(rh.j(function(b){b=Oz(b);return Af(b)?Gk($e([b])):b}),a)}var wA=Dz(function(a,b){a=Iz(b);S(a,0,null);return S(a,1,null)});function xA(a){return 1<R(a)?ri(a,1,R(a)):ff}
function yA(a){var b=T.B?T.B(Dn,Dn):T.call(null,Dn,Dn),c=T.B?T.B(Cp,Cp):T.call(null,Cp,Cp),d=S(a,0,null);if(y(y(b)?d instanceof Error:b)){b=d;d=null;var e=xA(a);a=y(c)?S(e,0,null):null;c=y(c)?xA(e):e;return new V(null,4,5,X,[b,d,a,c],null)}d=y(zf(d)?oc.j(tf(d)):!1)?d:null;e=Bn.j(d);b=y(e)?e:y(b)?null:Dn;d=mf.B(d,Bn);e=y(d)?xA(a):a;a=y(c)?S(e,0,null):null;c=y(c)?xA(e):e;return new V(null,4,5,X,[b,d,a,c],null)}
function zA(a,b,c,d,e){var f=mA;if(uA(a,b,f)){var g=new Date;d=nd(d);d=yA(d);var k=S(d,0,null),l=S(d,1,null),m=S(d,2,null);d=S(d,3,null);g=ef.B(y(null)?null:Pg,rj([On,$r,Pq,rq,Mo,Kn,Dl,hn,cr,op,El,Mq,lp],[g,f,d,null,function(){var u=new Wj(null,new t(null,2,[En,null,Tm,null],null),null);return u.j?u.j(a):u.call(null,a)}(),b,a,k,null,c,new Pk(function(){return k}),l,m]));g=Dc.C(function(u,x){u=x.j?x.j(u):x.call(null,u);return null==u?new He(null):u},g,Pp.j(f));if(y(g)){d=null!=g&&(g.F&64||p===g.oa)?
Hg(Mj,g):g;var n=C.B(d,Pq);g=kf.C(g,pm,new Pk(function(){return n}));var q=jz.G(g,tr,new Pk(function(){if(M.B(null,Cp))return"";if(M.B(Lp,Cp))return vA(n);if(M.B(Cp,Cp)){if("string"!==typeof m)throw vl("Timbre format-style logging call without a format pattern (string)",new t(null,2,[Dl,a,up,[B.j(y(b)?b:y(null)?null:"?"),":",B.j(y(c)?c:"?")].join("")],null));var u=y(m)?m:"",x=Ch(Oz,n);return Ig(yx,u,x)}throw Error(["No matching clause: ",B.j(Cp)].join(""));}),$e([oq,new Pk(function(){return pe(new V(null,
3,5,X,[e,m,C.C(l,xr,n)],null))})])),r=Dz(C.C(f,jo,jA));Rf(function(u,x,z){if(y(function(){var ma=Up.j(z);y(ma)&&(ma=Br.j(z),ma=rA(a,y(ma)?ma:Dp));return ma}())&&y(tA(Zl.j(z),gn.j(z),b))){var K=Fn.j(z);if(function(){var ma=vf(K);if(ma)return ma;ma=wA(x,K);var ha=Tk(oq.j(q));ma=ma.j?ma.j(ha):ma.call(null,ha);return tc(ma)}()){var O=null!=z&&(z.F&64||p===z.oa)?Hg(Mj,z):z;u=C.B(O,mr);C.B(O,vn);var ba=function(){var ma=jo.j(z);var ha=(ha=null==ma)?ha:T.B?T.B(ma,rr):T.call(null,ma,rr);return y(ha)?r:ma}(),
ja=ef.B(q,new t(null,4,[im,x,Uq,z,jo,ba,Xr,new Pk(function(){return ba.j?ba.j(q):ba.call(null,q)})],null));O=function(){var ma=Gl.j(z);return y(ma)?ma.j?ma.j(ja):ma.call(null,ja):ja}();return y(O)?u.j?u.j(O):u.call(null,O):null}}return null},null,aq.j(f))}}return null}function lA(a){switch(arguments.length){case 1:return kA(arguments[0],null);case 2:return kA(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}}function kA(a){return B.j(a)};var AA=function(){var a=mh(Pg),b=mh(Pg),c=mh(Pg),d=mh(Pg),e=C.C(Pg,Bp,el.O?el.O():el.call(null));return new pl(te.B("cljs.stacktrace","parse-stacktrace"),function(f,g,k){return Ep.j(k)},e,a,b,c,d)}();sl(AA,ql,function(a,b){return b});
function BA(a){if(tc(rk(/:/,a)))return new V(null,3,5,X,[a,null,null],null);a=ts(a,/:/);var b=Dc.C(function(d,e){var f=S(d,0,null);d=S(d,1,null);var g=S(e,0,null);return 2>=S(e,1,null)?new V(null,2,5,X,[f,ef.B(d,g)],null):new V(null,2,5,X,[ef.B(f,g),d],null)},new V(null,2,5,X,[ff,ff],null),rh.C(mi,a,lk(R(a),0,-1)));a=S(b,0,null);var c=S(b,1,null);b=S(c,0,null);c=S(c,1,null);a=rs(":",a);return new V(null,3,5,X,[Ab(a,"(")?qs(a,"(",""):a,parseInt(Bb(b,")")?qs(b,")",""):b,10),parseInt(Bb(c,")")?qs(c,
")",""):c,10)],null)}
function CA(a,b,c){var d=null!=a&&(a.F&64||p===a.oa)?Hg(Mj,a):a;a=C.B(d,An);var e=C.B(d,zq);d=C.B(d,cm);var f=null!=c&&(c.F&64||p===c.oa)?Hg(Mj,c):c,g=C.B(f,en);c=y(a)?new RegExp(["http://",B.j(a),":",B.j(y(e)?e:d),"/"].join("")):"";a=y(a)?rk(c,b):If(f,pr);if(y(a))return qs(qs(b,c,""),new RegExp(["^",B.j(function(){var k=y(g)?qs(g,/^\//,""):g;y(k)||(k=pr.j(f),k=y(k)?k:"out");return k}()),"/"].join("")),"");c=Ko.j(f);if(y(c))return qs(b,c,"");throw vl(["Could not relativize URL ",B.j(b)].join(""),
new t(null,2,[ln,Yq,Yr,Go],null));}
sl(AA,$q,function(a,b,c,d){return di(Ah(rc,rh.B(function(e){e=ts(qs(e,/\s+at\s+/,""),/\s+/);var f=1===R(e)?new V(null,2,5,X,[null,I(e)],null):new V(null,2,5,X,[I(e),df(e)],null);e=S(f,0,null);f=S(f,1,null);var g=BA(f);f=S(g,0,null);var k=S(g,1,null);g=S(g,2,null);return y(y(f)?y(e)?y(k)?g:k:e:f)?new t(null,4,[vo,CA(a,f,d),$m,qs(e,/Object\./,""),Il,k,Gr,g],null):vs(e)?null:new t(null,4,[vo,null,$m,qs(e,/Object\./,""),Il,null,Gr,null],null)},gk(function(e){return!Ab(e,"    at eval")},vh(function(e){return Ab(e,
"Error")},ts(b,/\n|\r\n/))))))});sl(AA,rm,function(a,b,c,d){return di(Ah(rc,rh.B(function(e){var f=y(rk(/@/,e))?ts(e,/@/):new V(null,2,5,X,[null,e],null);e=S(f,0,null);f=S(f,1,null);var g=BA(f);f=S(g,0,null);var k=S(g,1,null);g=S(g,2,null);return y(y(f)?y(e)?y(k)?g:k:e:f)?new t(null,4,[vo,CA(a,f,d),$m,Cb(e),Il,k,Gr,g],null):vs(e)?null:new t(null,4,[vo,null,$m,Cb(e),Il,null,Gr,null],null)},Ah(vs,gk(function(e){return!Ab(e,"eval code")},vh(function(e){return Ab(e,"Error")},ts(b,/\n|\r\n/)))))))});
function DA(a){if(vs(a))a=null;else if(Mg(a.indexOf("\x3c/"),-1)){var b=a.indexOf("\x3c/");a=a.substring(b+2)}return qs(qs(a,/</,""),/\//,"")}
sl(AA,Zn,function(a,b,c,d){return di(Ah(rc,rh.B(function(e){var f=y(rk(/@/,e))?ts(e,/@/):new V(null,2,5,X,[null,e],null);e=S(f,0,null);f=S(f,1,null);var g=BA(f);f=S(g,0,null);var k=S(g,1,null);g=S(g,2,null);return y(y(f)?y(e)?y(k)?g:k:e:f)?new t(null,4,[vo,CA(a,f,d),$m,DA(e),Il,k,Gr,g],null):vs(e)?null:new t(null,4,[vo,null,$m,DA(e),Il,null,Gr,null],null)},Ah(vs,gk(function(e){return M.B(e.indexOf("\x3e eval"),-1)},vh(function(e){return Ab(e,"Error")},ts(b,/\n|\r\n/)))))))});
sl(AA,Mp,function(a,b,c,d){a=null!=d&&(d.F&64||p===d.oa)?Hg(Mj,d):d;var e=C.B(a,pr);return di(Ah(rc,rh.B(function(f){if(vs(f)||null==rk(/^\s+at/,f))return null;f=qs(f,/\s+at\s+/,"");if(Ab(f,"repl:"))return null;var g=ts(f,/\s+/);if(2===R(g)){f=X;var k=I(g);var l=I(J(g));g=R(I(J(g)))-1;l=l.substring(1,g);f=new V(null,2,5,f,[k,l],null)}else f=new V(null,2,5,X,[null,I(g)],null);k=f;f=S(k,0,null);k=S(k,1,null);g=ts(k,/:/);k=S(g,0,null);l=S(g,1,null);g=S(g,2,null);return new t(null,4,[vo,y(f)?y(e)?qs(k,
[B.j(e),"/"].join(""),""):k:k,$m,f,Il,y(y(l)?!vs(l):l)?parseInt(l,10):null,Gr,y(y(g)?!vs(g):g)?parseInt(g,10):null],null)},ts(b,/\n/))))});function EA(a,b){if(null!=a&&null!=a.qf)a=a.qf(a,b);else{var c=EA[oa(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=EA._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw wc("IPacker.pack",a);}return a}function FA(a,b){if(null!=a&&null!=a.rf)a=a.rf(a,b);else{var c=FA[oa(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=FA._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw wc("IPacker.unpack",a);}return a};Bf(Uy)?gz(new V(null,3,5,X,[2,79,1],null)):gz(2.79);var GA=M.B("default","nodejs"),HA=mh(!1);function IA(a,b){return new t(null,2,[yl,a,Vm,new t(null,2,[ln,vc(b),Rp,b],null)],null)}
function JA(a){if(Bf(a)){var b=R(a);var c=new Wj(null,new t(null,2,[1,null,2,null],null),null);b=c.j?c.j(b):c.call(null,b);if(tc(b))return new t(null,1,[xp,IA(new Wj(null,new t(null,2,[1,null,2,null],null),null),a)],null);b=S(a,0,null);S(a,1,null);return b instanceof D?tc(ig(b))?new t(null,1,[qo,IA(Gn,b)],null):null:new t(null,1,[Dm,IA(gs,b)],null)}return new t(null,1,[Yp,IA(Xp,a)],null)}function KA(a){var b=JA(a);if(y(b))throw vl("Invalid event",new t(null,2,[pp,a,is,b],null));}
function LA(a,b){var c=0===b.indexOf("+"),d=b.substring(1),e=function(){try{return FA(a,d)}catch(l){var k=l;zA(Wp,fa,208,new Pk(function(){return new V(null,3,5,X,["Bad package: %s (%s)",d,k],null)}),2128489259);return new V(null,2,5,X,[mq,d],null)}}();c=c?e:new V(null,2,5,X,[e,null],null);var f=S(c,0,null);c=S(c,1,null);var g=M.B(0,c)?Hp:c;zA(Dp,fa,214,new Pk(function(){return new V(null,3,5,X,["Unpacking: %s -\x3e %s",b,new V(null,2,5,X,[f,g],null)],null)}),-666594496);return new V(null,2,5,X,[f,
g],null)}function MA(a,b,c){c=M.B(c,Hp)?0:c;var d=y(c)?new V(null,2,5,X,[b,c],null):new V(null,1,5,X,[b],null),e=["+",B.j(EA(a,d))].join("");zA(Dp,fa,230,new Pk(function(){return new V(null,3,5,X,["Packing (wrapped): %s -\x3e %s",d,e],null)}),-2001393716);return e}function NA(){}NA.prototype.qf=function(a,b){a:{a=kc;var c=jc;jc=kc=null;try{var d=Gk($e([b]));break a}finally{jc=c,kc=a}d=void 0}return d};NA.prototype.rf=function(a,b){return Vy(b)};var OA=new NA;function PA(a){return M.B(a,np)?OA:a}
cz.O&&cz.O();function QA(a){if(null!=a&&null!=a.sd)a=a.sd(a);else{var b=QA[oa(null==a?null:a)];if(null!=b)a=b.j?b.j(a):b.call(null,a);else if(b=QA._,null!=b)a=b.j?b.j(a):b.call(null,a);else throw wc("IChSocket.-chsk-connect!",a);}return a}function RA(a,b){if(null!=a&&null!=a.pe)a=a.pe(a,b);else{var c=RA[oa(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=RA._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw wc("IChSocket.-chsk-disconnect!",a);}return a}
function SA(a,b,c){if(null!=a&&null!=a.Rd)a=a.Rd(a,b,c);else{var d=SA[oa(null==a?null:a)];if(null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else if(d=SA._,null!=d)a=d.C?d.C(a,b,c):d.call(null,a,b,c);else throw wc("IChSocket.-chsk-send!",a);}return a}
var TA=function TA(a){switch(arguments.length){case 2:return TA.B(arguments[0],arguments[1]);case 4:return TA.ba(arguments[0],arguments[1],arguments[2],arguments[3]);case 3:return TA.C(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};TA.B=function(a,b){return TA.C(a,b,Pg)};TA.ba=function(a,b,c,d){return TA.C(a,b,new t(null,2,[jm,c,Mr,d],null))};
TA.C=function(a,b,c){zA(Dp,fa,773,new Pk(function(){return new V(null,3,5,X,["Chsk send: (%s) %s",kf.C(c,Mr,Gf(Mr.j(c))),b],null)}),1554179141);return SA(a,b,c)};TA.R=4;function UA(a){zA(Tq,fa,778,new Pk(function(){return new V(null,1,5,X,["Chsk send against closed chsk."],null)}),-618607825);y(a)&&(a.j?a.j(ds):a.call(null,ds));return!1}function VA(a,b){return y(b)?zz(a,new V(null,1,5,X,[b],null),function(c){return new tz(Nr,c)}):null}
function WA(a,b){var c=yz(Dq.j(a),function(e){var f=b.j?b.j(e):b.call(null,e);f=y(Am.j(e))?kf.C(f,Am,!1):f;f=y(uq.j(f))?mf.B(f,sp):f;return new tz(f,new V(null,2,5,X,[e,f],null))}),d=S(c,0,null);c=S(c,1,null);return Mg(d,c)?(d=new V(null,2,5,X,[d,c],null),Nv(Eh(a,new V(null,2,5,X,[Vp,nm],null)),new V(null,2,5,X,[Vn,d],null)),d):null}function XA(a,b){var c=uq.j(a);c=y(c)?c:Mg(b,$n);return y(c)?kf.G(mf.B(a,sp),uq,!1,$e([Ip,new t(null,2,[hm,Cz(),Yr,b],null)])):a}
function YA(a,b){if(null==a||Hf(a))return a;KA(b);var c=S(b,0,null);S(b,1,null);return function(d){return Nv(a,new V(null,2,5,X,[kg.j([$y(c),".cb"].join("")),d],null))}}
function ZA(a,b){zA(Dp,fa,858,new Pk(function(){return new V(null,2,5,X,["receive-buffered-evs!: %s",b],null)}),347451140);for(var c=G(b),d=null,e=0,f=0;;)if(f<e){var g=d.fa(null,f);KA(g);S(g,0,null);Nv(Cn.j(a),g);f+=1}else if(c=G(c))d=c,Cf(d)?(c=Ud(d),e=Vd(d),d=c,g=R(c),c=e,e=g):(g=I(d),KA(g),S(g,0,null),Nv(Cn.j(a),g),c=J(d),d=null,e=0),f=0;else return null}function $A(a){return Bf(a)?(a=S(a,0,null),M.B(a,Pr)):!1}
function aB(a,b,c){zA(Dp,fa,875,new Pk(function(){return new V(null,3,5,X,["receive-handshake! (%s): %s",a,c],null)}),-913029430);S(c,0,null);var d=S(c,1,null),e=S(d,0,null),f=S(d,1,null),g=S(d,2,null),k=null!=b&&(b.F&64||p===b.oa)?Hg(Mj,b):b;d=C.B(k,Vp);k=C.B(k,Cq);k=ph(k);var l=new t(null,7,[ln,a,uq,!0,so,!0,Hm,e,Un,f,Zm,g,Am,k],null);e=new V(null,2,5,X,[Pr,new V(null,4,5,X,[e,f,g,k],null)],null);KA(e);vs(f)&&zA(Tq,fa,894,new Pk(function(){return new V(null,1,5,X,["SECURITY WARNING: no CSRF token available for use by Sente"],
null)}),-1688838291);WA(b,function(m){return Qj.G($e([m,l]))});Nv(Rn.j(d),e)}var bB=new Pk(function(){if(GA&&"undefined"!==typeof require)try{return require("websocket")}catch(a){return null}else return null});function cB(a,b,c,d,e,f,g,k,l,m,n,q,r,u,x,z,K){this.pa=a;this.na=b;this.params=c;this.ka=d;this.url=e;this.ab=f;this.ea=g;this.ha=k;this.Ua=l;this.ua=m;this.ia=n;this.Oa=q;this.Va=r;this.Qa=u;this.la=x;this.ca=z;this.P=K;this.F=2230716170;this.T=139264}h=cB.prototype;
h.xa=function(a,b){return this.da(null,b,null)};
h.da=function(a,b,c){switch(b instanceof D?b.Ia:null){case "client-id":return this.pa;case "chs":return this.na;case "params":return this.params;case "packer":return this.ka;case "url":return this.url;case "ws-kalive-ms":return this.ab;case "state_":return this.ea;case "instance-handle_":return this.ha;case "retry-count_":return this.Ua;case "ever-opened?_":return this.ua;case "backoff-ms-fn":return this.ia;case "cbs-waiting_":return this.Oa;case "socket_":return this.Va;case "udt-last-comms_":return this.Qa;
default:return C.C(this.ca,b,c)}};h.wc=function(a,b,c){return Dc.C(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
h.ja=function(a,b,c){return uk(b,function(d){return uk(b,Bk,""," ","",c,d)},"#taoensso.sente.ChWebSocket{",", ","}",c,wg.B(new V(null,14,5,X,[new V(null,2,5,X,[yo,this.pa],null),new V(null,2,5,X,[Vp,this.na],null),new V(null,2,5,X,[Ho,this.params],null),new V(null,2,5,X,[Fq,this.ka],null),new V(null,2,5,X,[Bq,this.url],null),new V(null,2,5,X,[eq,this.ab],null),new V(null,2,5,X,[Dq,this.ea],null),new V(null,2,5,X,[Mn,this.ha],null),new V(null,2,5,X,[Io,this.Ua],null),new V(null,2,5,X,[Cq,this.ua],
null),new V(null,2,5,X,[br,this.ia],null),new V(null,2,5,X,[nq,this.Oa],null),new V(null,2,5,X,[jr,this.Va],null),new V(null,2,5,X,[Eo,this.Qa],null)],null),this.ca))};h.Cb=function(){return new Ci(this,14,new V(null,14,5,X,[yo,Vp,Ho,Fq,Bq,eq,Dq,Mn,Io,Cq,br,nq,jr,Eo],null),y(this.ca)?ce(this.ca):Og())};h.qa=function(){return this.la};h.Bb=function(){return new cB(this.pa,this.na,this.params,this.ka,this.url,this.ab,this.ea,this.ha,this.Ua,this.ua,this.ia,this.Oa,this.Va,this.Qa,this.la,this.ca,this.P)};
h.wa=function(){return 14+R(this.ca)};h.sa=function(){var a=this.P;return null!=a?a:this.P=a=1998688700^Ee(this)};h.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&M.B(this.pa,b.pa)&&M.B(this.na,b.na)&&M.B(this.params,b.params)&&M.B(this.ka,b.ka)&&M.B(this.url,b.url)&&M.B(this.ab,b.ab)&&M.B(this.ea,b.ea)&&M.B(this.ha,b.ha)&&M.B(this.Ua,b.Ua)&&M.B(this.ua,b.ua)&&M.B(this.ia,b.ia)&&M.B(this.Oa,b.Oa)&&M.B(this.Va,b.Va)&&M.B(this.Qa,b.Qa)&&M.B(this.ca,b.ca)};
h.Sc=function(a,b){return If(new Wj(null,new t(null,14,[eq,null,Cq,null,yo,null,Fq,null,Vp,null,Eo,null,Ho,null,Io,null,br,null,jr,null,Bq,null,Mn,null,nq,null,Dq,null],null),null),b)?mf.B(qd(Bh.B(Pg,this),this.la),b):new cB(this.pa,this.na,this.params,this.ka,this.url,this.ab,this.ea,this.ha,this.Ua,this.ua,this.ia,this.Oa,this.Va,this.Qa,this.la,Ng(mf.B(this.ca,b)),null)};
h.kb=function(a,b,c){return y(T.B?T.B(yo,b):T.call(null,yo,b))?new cB(c,this.na,this.params,this.ka,this.url,this.ab,this.ea,this.ha,this.Ua,this.ua,this.ia,this.Oa,this.Va,this.Qa,this.la,this.ca,null):y(T.B?T.B(Vp,b):T.call(null,Vp,b))?new cB(this.pa,c,this.params,this.ka,this.url,this.ab,this.ea,this.ha,this.Ua,this.ua,this.ia,this.Oa,this.Va,this.Qa,this.la,this.ca,null):y(T.B?T.B(Ho,b):T.call(null,Ho,b))?new cB(this.pa,this.na,c,this.ka,this.url,this.ab,this.ea,this.ha,this.Ua,this.ua,this.ia,
this.Oa,this.Va,this.Qa,this.la,this.ca,null):y(T.B?T.B(Fq,b):T.call(null,Fq,b))?new cB(this.pa,this.na,this.params,c,this.url,this.ab,this.ea,this.ha,this.Ua,this.ua,this.ia,this.Oa,this.Va,this.Qa,this.la,this.ca,null):y(T.B?T.B(Bq,b):T.call(null,Bq,b))?new cB(this.pa,this.na,this.params,this.ka,c,this.ab,this.ea,this.ha,this.Ua,this.ua,this.ia,this.Oa,this.Va,this.Qa,this.la,this.ca,null):y(T.B?T.B(eq,b):T.call(null,eq,b))?new cB(this.pa,this.na,this.params,this.ka,this.url,c,this.ea,this.ha,this.Ua,
this.ua,this.ia,this.Oa,this.Va,this.Qa,this.la,this.ca,null):y(T.B?T.B(Dq,b):T.call(null,Dq,b))?new cB(this.pa,this.na,this.params,this.ka,this.url,this.ab,c,this.ha,this.Ua,this.ua,this.ia,this.Oa,this.Va,this.Qa,this.la,this.ca,null):y(T.B?T.B(Mn,b):T.call(null,Mn,b))?new cB(this.pa,this.na,this.params,this.ka,this.url,this.ab,this.ea,c,this.Ua,this.ua,this.ia,this.Oa,this.Va,this.Qa,this.la,this.ca,null):y(T.B?T.B(Io,b):T.call(null,Io,b))?new cB(this.pa,this.na,this.params,this.ka,this.url,this.ab,
this.ea,this.ha,c,this.ua,this.ia,this.Oa,this.Va,this.Qa,this.la,this.ca,null):y(T.B?T.B(Cq,b):T.call(null,Cq,b))?new cB(this.pa,this.na,this.params,this.ka,this.url,this.ab,this.ea,this.ha,this.Ua,c,this.ia,this.Oa,this.Va,this.Qa,this.la,this.ca,null):y(T.B?T.B(br,b):T.call(null,br,b))?new cB(this.pa,this.na,this.params,this.ka,this.url,this.ab,this.ea,this.ha,this.Ua,this.ua,c,this.Oa,this.Va,this.Qa,this.la,this.ca,null):y(T.B?T.B(nq,b):T.call(null,nq,b))?new cB(this.pa,this.na,this.params,this.ka,
this.url,this.ab,this.ea,this.ha,this.Ua,this.ua,this.ia,c,this.Va,this.Qa,this.la,this.ca,null):y(T.B?T.B(jr,b):T.call(null,jr,b))?new cB(this.pa,this.na,this.params,this.ka,this.url,this.ab,this.ea,this.ha,this.Ua,this.ua,this.ia,this.Oa,c,this.Qa,this.la,this.ca,null):y(T.B?T.B(Eo,b):T.call(null,Eo,b))?new cB(this.pa,this.na,this.params,this.ka,this.url,this.ab,this.ea,this.ha,this.Ua,this.ua,this.ia,this.Oa,this.Va,c,this.la,this.ca,null):new cB(this.pa,this.na,this.params,this.ka,this.url,this.ab,
this.ea,this.ha,this.Ua,this.ua,this.ia,this.Oa,this.Va,this.Qa,this.la,kf.C(this.ca,b,c),null)};h.va=function(){return G(wg.B(new V(null,14,5,X,[new Xh(yo,this.pa,null),new Xh(Vp,this.na,null),new Xh(Ho,this.params,null),new Xh(Fq,this.ka,null),new Xh(Bq,this.url,null),new Xh(eq,this.ab,null),new Xh(Dq,this.ea,null),new Xh(Mn,this.ha,null),new Xh(Io,this.Ua,null),new Xh(Cq,this.ua,null),new Xh(br,this.ia,null),new Xh(nq,this.Oa,null),new Xh(jr,this.Va,null),new Xh(Eo,this.Qa,null)],null),this.ca))};
h.ra=function(a,b){return new cB(this.pa,this.na,this.params,this.ka,this.url,this.ab,this.ea,this.ha,this.Ua,this.ua,this.ia,this.Oa,this.Va,this.Qa,b,this.ca,this.P)};h.Da=function(a,b){return Bf(b)?this.kb(null,Rc(b,0),Rc(b,1)):Dc.C(Nc,this,b)};h.pe=function(a,b){nh(this.ha,null);WA(this,function(c){return XA(c,b)});a=nd(this.Va);return y(a)?a.close(1E3,"CLOSE_NORMAL"):null};
h.Rd=function(a,b,c){var d=this;a=null!=c&&(c.F&64||p===c.oa)?Hg(Mj,c):c;var e=C.B(a,jm);c=C.B(a,Mr);C.B(a,Om);KA(b);var f=YA(c,b);if(tc(uq.j(nd(d.ea))))return UA(f);var g=y(f)?Nz.C(Qz(),0,6):null;b=MA(d.ka,b,g);if(y(g)&&(Bz(d.Oa,new V(null,1,5,X,[g],null),f),y(e))){var k=Lv(1,null);kv(function(){var m=function(){function q(r){var u=r[1];if(1===u)return u=Cv(e),Hv(r,2,u);if(2===u){u=r[2];var x=VA(d.Oa,g);r[8]=u;r[7]=x;r[1]=y(x)?3:4;return bm}return 3===u?(u=r[7],u=u.j?u.j(dm):u.call(null,dm),r[2]=
u,r[1]=5,bm):4===u?(r[2]=null,r[1]=5,bm):5===u?Jv(r,r[2]):null}return function(){function r(z){for(;;){a:try{for(;;){var K=q(z);if(!T(K,bm)){var O=K;break a}}}catch(ba){O=ba;z[2]=O;if(G(z[4]))z[1]=I(z[4]);else throw O;O=bm}if(!T(O,bm))return O}}function u(){var z=[null,null,null,null,null,null,null,null,null];z[0]=x;z[1]=1;return z}var x=null;x=function(z){switch(arguments.length){case 0:return u.call(this);case 1:return r.call(this,z)}throw Error("Invalid arity: "+arguments.length);};x.O=u;x.j=r;
return x}()}(),n=function(){var q=m();q[6]=k;return q}();return Gv(n)})}try{return nd(d.Va).send(b),nh(d.Qa,Cz()),Al}catch(m){var l=m;zA(Tm,fa,976,new Pk(function(){return new V(null,2,5,X,[l,"Chsk send error"],null)}),1667518625);y(g)&&(b=function(){var n=VA(d.Oa,g);return y(n)?n:f}(),b.j?b.j(Bl):b.call(null,Bl));return!1}};
h.sd=function(){var a=this,b=this,c=function(){var k=hz(la,"WebSocket");if(y(k))return k;k=hz(la,"MozWebSocket");return y(k)?k:hz(nd(bB),"w3cwebsocket")}();if(y(c)){var d=nh(a.ha,Qz()),e=function(){return M.B(nd(a.ha),d)},f=a.ab;if(y(f)){var g=Lv(1,null);kv(function(){var k=function(){function m(n){var q=n[1];if(7===q)return n[2]=n[2],n[1]=3,bm;if(1===q)return n[2]=null,n[1]=2,bm;if(4===q){q=n[2];var r=e();n[7]=q;n[1]=r?5:6;return bm}return 6===q?(n[2]=null,n[1]=7,bm):3===q?Jv(n,n[2]):2===q?(q=nd(a.Qa),
r=Cv(f),n[8]=q,Hv(n,4,r)):9===q?(n[2]=null,n[1]=10,bm):5===q?(q=n[8],r=nd(a.Qa),q=M.B(q,r),n[1]=q?8:9,bm):10===q?(n[9]=n[2],n[2]=null,n[1]=2,bm):8===q?(q=new V(null,1,5,X,[Bm],null),r=rj([Om],[!0]),q=b.Rd(null,q,r),n[2]=q,n[1]=10,bm):null}return function(){function n(u){for(;;){a:try{for(;;){var x=m(u);if(!T(x,bm)){var z=x;break a}}}catch(K){z=K;u[2]=z;if(G(u[4]))u[1]=I(u[4]);else throw z;z=bm}if(!T(z,bm))return z}}function q(){var u=[null,null,null,null,null,null,null,null,null,null];u[0]=r;u[1]=
1;return u}var r=null;r=function(u){switch(arguments.length){case 0:return q.call(this);case 1:return n.call(this,u)}throw Error("Invalid arity: "+arguments.length);};r.O=q;r.j=n;return r}()}(),l=function(){var m=k();m[6]=g;return m}();return Gv(l)})}nh(a.Ua,0);(function l(){if(e()){var m=function(){if(e()){var q=oh.B(a.Ua,Ge),r=a.ia.j?a.ia.j(q):a.ia.call(null,q),u=Cz()+r;zA(Tq,fa,1001,new Pk(function(){return new V(null,3,5,X,["Chsk is closed: will try reconnect attempt (%s) in %s ms",q,r],null)}),
685733804);la.setTimeout(l,r);return WA(b,function(x){return kf.C(x,sp,u)})}return null},n=function(){try{return new c(dA(a.url,Qj.G($e([a.params,new t(null,1,[yo,a.pa],null)]))))}catch(r){var q=r;zA(Tm,fa,1015,new Pk(function(){return new V(null,2,5,X,[q,"WebSocket error"],null)}),-601478081);return null}}();return tc(n)?m():nh(a.Va,function(){n.onerror=function(q){zA(Tm,fa,1025,new Pk(function(){var u=X;try{var x=bl(q)}catch(z){x=q}return new V(null,2,5,u,["WebSocket error: %s",x],null)}),-244295659);
var r=new t(null,2,[hm,Cz(),ur,q],null);return WA(b,function(u){return kf.C(u,Sn,r)})};n.onmessage=function(q){q=hz(q,"data");q=LA(a.ka,q);var r=S(q,0,null);q=S(q,1,null);nh(a.Qa,Cz());if($A(r)){aB(sn,b,r);nh(a.Ua,0);var u=Sm}else u=null;if(y(u))return u;M.B(r,Bm)?(Nv(Cn.j(a.na),new V(null,1,5,X,[Bm],null)),u=Xm):u=null;return y(u)?u:y(q)?(q=VA(a.Oa,q),y(q)?q.j?q.j(r):q.call(null,r):zA(Tq,fa,1061,new Pk(function(){return new V(null,2,5,X,["Cb reply w/o local cb-fn: %s",r],null)}),768586479)):ZA(a.na,
r)};n.onclose=function(q){var r=hz(q,"wasClean"),u=hz(q,"code"),x=hz(q,"reason"),z=new t(null,5,[hm,Cz(),ur,q,wm,r,yn,u,Yr,x],null);if(y(r))return zA(Wp,fa,1083,new Pk(function(){return new V(null,1,5,X,["Clean WebSocket close, will not attempt reconnect"],null)}),-1407947700),WA(b,function(K){return kf.C(K,Aq,z)});WA(b,function(K){return kf.C(XA(K,$n),Aq,z)});return m()};return n}())}return null})();return b}return null};
function dB(a){a=Qj.G($e([new t(null,7,[Dq,mh(new t(null,3,[ln,sn,uq,!1,so,!1],null)),Mn,mh(null),Io,mh(0),Cq,mh(!1),nq,mh(Pg),jr,mh(null),Eo,mh(null)],null),a]));var b=mf.G(a,yo,$e([Vp,Ho,Fq,Bq,eq,Dq,Mn,Io,Cq,br,nq,jr,Eo]));b=Af(a)?Bh.B(Pg,b):b;return new cB(yo.j(a),Vp.j(a),Ho.j(a),Fq.j(a),Bq.j(a),eq.j(a),Dq.j(a),Mn.j(a),Io.j(a),Cq.j(a),br.j(a),nq.j(a),jr.j(a),Eo.j(a),null,Ng(b),null)}var eB=Rz.G($e([Yn,60]));
function fB(a,b,c,d,e,f,g,k,l,m,n,q,r,u){this.pa=a;this.na=b;this.params=c;this.ka=d;this.url=e;this.ea=f;this.ha=g;this.ua=k;this.ia=l;this.Wa=m;this.eb=n;this.la=q;this.ca=r;this.P=u;this.F=2230716170;this.T=139264}h=fB.prototype;h.xa=function(a,b){return this.da(null,b,null)};
h.da=function(a,b,c){switch(b instanceof D?b.Ia:null){case "client-id":return this.pa;case "chs":return this.na;case "params":return this.params;case "packer":return this.ka;case "url":return this.url;case "state_":return this.ea;case "instance-handle_":return this.ha;case "ever-opened?_":return this.ua;case "backoff-ms-fn":return this.ia;case "ajax-opts":return this.Wa;case "curr-xhr_":return this.eb;default:return C.C(this.ca,b,c)}};
h.wc=function(a,b,c){return Dc.C(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
h.ja=function(a,b,c){return uk(b,function(d){return uk(b,Bk,""," ","",c,d)},"#taoensso.sente.ChAjaxSocket{",", ","}",c,wg.B(new V(null,11,5,X,[new V(null,2,5,X,[yo,this.pa],null),new V(null,2,5,X,[Vp,this.na],null),new V(null,2,5,X,[Ho,this.params],null),new V(null,2,5,X,[Fq,this.ka],null),new V(null,2,5,X,[Bq,this.url],null),new V(null,2,5,X,[Dq,this.ea],null),new V(null,2,5,X,[Mn,this.ha],null),new V(null,2,5,X,[Cq,this.ua],null),new V(null,2,5,X,[br,this.ia],null),new V(null,2,5,X,[bs,this.Wa],
null),new V(null,2,5,X,[Sr,this.eb],null)],null),this.ca))};h.Cb=function(){return new Ci(this,11,new V(null,11,5,X,[yo,Vp,Ho,Fq,Bq,Dq,Mn,Cq,br,bs,Sr],null),y(this.ca)?ce(this.ca):Og())};h.qa=function(){return this.la};h.Bb=function(){return new fB(this.pa,this.na,this.params,this.ka,this.url,this.ea,this.ha,this.ua,this.ia,this.Wa,this.eb,this.la,this.ca,this.P)};h.wa=function(){return 11+R(this.ca)};h.sa=function(){var a=this.P;return null!=a?a:this.P=a=-266770752^Ee(this)};
h.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&M.B(this.pa,b.pa)&&M.B(this.na,b.na)&&M.B(this.params,b.params)&&M.B(this.ka,b.ka)&&M.B(this.url,b.url)&&M.B(this.ea,b.ea)&&M.B(this.ha,b.ha)&&M.B(this.ua,b.ua)&&M.B(this.ia,b.ia)&&M.B(this.Wa,b.Wa)&&M.B(this.eb,b.eb)&&M.B(this.ca,b.ca)};
h.Sc=function(a,b){return If(new Wj(null,new t(null,11,[Sr,null,Cq,null,yo,null,Fq,null,Vp,null,Ho,null,br,null,Bq,null,Mn,null,bs,null,Dq,null],null),null),b)?mf.B(qd(Bh.B(Pg,this),this.la),b):new fB(this.pa,this.na,this.params,this.ka,this.url,this.ea,this.ha,this.ua,this.ia,this.Wa,this.eb,this.la,Ng(mf.B(this.ca,b)),null)};
h.kb=function(a,b,c){return y(T.B?T.B(yo,b):T.call(null,yo,b))?new fB(c,this.na,this.params,this.ka,this.url,this.ea,this.ha,this.ua,this.ia,this.Wa,this.eb,this.la,this.ca,null):y(T.B?T.B(Vp,b):T.call(null,Vp,b))?new fB(this.pa,c,this.params,this.ka,this.url,this.ea,this.ha,this.ua,this.ia,this.Wa,this.eb,this.la,this.ca,null):y(T.B?T.B(Ho,b):T.call(null,Ho,b))?new fB(this.pa,this.na,c,this.ka,this.url,this.ea,this.ha,this.ua,this.ia,this.Wa,this.eb,this.la,this.ca,null):y(T.B?T.B(Fq,b):T.call(null,
Fq,b))?new fB(this.pa,this.na,this.params,c,this.url,this.ea,this.ha,this.ua,this.ia,this.Wa,this.eb,this.la,this.ca,null):y(T.B?T.B(Bq,b):T.call(null,Bq,b))?new fB(this.pa,this.na,this.params,this.ka,c,this.ea,this.ha,this.ua,this.ia,this.Wa,this.eb,this.la,this.ca,null):y(T.B?T.B(Dq,b):T.call(null,Dq,b))?new fB(this.pa,this.na,this.params,this.ka,this.url,c,this.ha,this.ua,this.ia,this.Wa,this.eb,this.la,this.ca,null):y(T.B?T.B(Mn,b):T.call(null,Mn,b))?new fB(this.pa,this.na,this.params,this.ka,
this.url,this.ea,c,this.ua,this.ia,this.Wa,this.eb,this.la,this.ca,null):y(T.B?T.B(Cq,b):T.call(null,Cq,b))?new fB(this.pa,this.na,this.params,this.ka,this.url,this.ea,this.ha,c,this.ia,this.Wa,this.eb,this.la,this.ca,null):y(T.B?T.B(br,b):T.call(null,br,b))?new fB(this.pa,this.na,this.params,this.ka,this.url,this.ea,this.ha,this.ua,c,this.Wa,this.eb,this.la,this.ca,null):y(T.B?T.B(bs,b):T.call(null,bs,b))?new fB(this.pa,this.na,this.params,this.ka,this.url,this.ea,this.ha,this.ua,this.ia,c,this.eb,
this.la,this.ca,null):y(T.B?T.B(Sr,b):T.call(null,Sr,b))?new fB(this.pa,this.na,this.params,this.ka,this.url,this.ea,this.ha,this.ua,this.ia,this.Wa,c,this.la,this.ca,null):new fB(this.pa,this.na,this.params,this.ka,this.url,this.ea,this.ha,this.ua,this.ia,this.Wa,this.eb,this.la,kf.C(this.ca,b,c),null)};
h.va=function(){return G(wg.B(new V(null,11,5,X,[new Xh(yo,this.pa,null),new Xh(Vp,this.na,null),new Xh(Ho,this.params,null),new Xh(Fq,this.ka,null),new Xh(Bq,this.url,null),new Xh(Dq,this.ea,null),new Xh(Mn,this.ha,null),new Xh(Cq,this.ua,null),new Xh(br,this.ia,null),new Xh(bs,this.Wa,null),new Xh(Sr,this.eb,null)],null),this.ca))};h.ra=function(a,b){return new fB(this.pa,this.na,this.params,this.ka,this.url,this.ea,this.ha,this.ua,this.ia,this.Wa,this.eb,b,this.ca,this.P)};
h.Da=function(a,b){return Bf(b)?this.kb(null,Rc(b,0),Rc(b,1)):Dc.C(Nc,this,b)};h.pe=function(a,b){nh(this.ha,null);WA(this,function(c){return XA(c,b)});a=nd(this.eb);return y(a)?a.abort():null};
h.Rd=function(a,b,c){function d(m){var n=null!=m&&(m.F&64||p===m.oa)?Hg(Mj,m):m;m=C.B(n,jn);n=C.B(n,mo);if(y(m)){if(M.B(m,So))return y(k)?k.j?k.j(dm):k.call(null,dm):null;WA(f,function(r){return XA(r,$n)});return y(k)?k.j?k.j(Bl):k.call(null,Bl):null}m=LA(e.ka,n);var q=S(m,0,null);S(m,1,null);y(k)?k.j?k.j(q):k.call(null,q):Mg(q,Ur)&&zA(Tq,fa,1203,new Pk(function(){return new V(null,2,5,X,["Cb reply w/o local cb-fn: %s",q],null)}),689849828);return WA(f,function(r){return kf.C(r,uq,!0)})}var e=this,
f=this;a=null!=c&&(c.F&64||p===c.oa)?Hg(Mj,c):c;var g=C.B(a,jm);c=C.B(a,Mr);C.B(a,Om);KA(b);var k=YA(c,b);if(tc(uq.j(nd(e.ea))))return UA(k);var l=Un.j(nd(e.ea));a=e.url;c=Qj.G($e([e.Wa,new t(null,5,[ap,zr,jm,function(){if(y(g))return g;var m=jm.j(e.Wa);return y(m)?m:eB}(),Kr,Bo,Nl,Qj.G($e([Nl.j(e.Wa),new t(null,1,[jq,l],null)])),Ho,function(){var m=MA(e.ka,b,y(k)?Hp:null);return Qj.G($e([e.params,new t(null,4,[hm,Cz(),Un,l,yo,e.pa,Or,m],null)]))}()],null)]));Xz.C?Xz.C(a,c,d):Xz.call(null,a,c,d);
return Al};
h.sd=function(){var a=this,b=this,c=nh(a.ha,Qz());(function f(e){zA(Dp,fa,1213,new Pk(function(){return new V(null,1,5,X,["async-poll-for-update!"],null)}),-1247969466);if(M.B(nd(a.ha),c)){var g=function(){if(M.B(nd(a.ha),c)){var k=e+1,l=a.ia.j?a.ia.j(k):a.ia.call(null,k),m=Cz()+l;zA(Tq,fa,1221,new Pk(function(){return new V(null,3,5,X,["Chsk is closed: will try reconnect attempt (%s) in %s ms",k,l],null)}),918707465);la.setTimeout(function(){return f(k)},l);return WA(b,function(n){return kf.C(n,sp,
m)})}return null};return nh(a.eb,function(){function k(n){var q=null!=n&&(n.F&64||p===n.oa)?Hg(Mj,n):n;n=C.B(q,jn);q=C.B(q,mo);if(y(n)){if(M.B(n,So))return f(0);WA(b,function(r){return XA(r,$n)});return g()}n=LA(a.ka,q);n=S(n,0,null);(q=$A(n))&&aB(Wq,b,n);WA(b,function(r){return kf.C(r,uq,!0)});f(0);if(q)return null;M.B(n,dm)?(y(nd(HA))&&ZA(a.na,new V(null,1,5,X,[new V(null,1,5,X,[Cm],null)],null)),q=Xm):q=null;return y(q)?q:ZA(a.na,n)}var l=a.url,m=Qj.G($e([a.Wa,new t(null,4,[ap,Yo,jm,function(){var n=
jm.j(a.Wa);return y(n)?n:eB}(),Kr,Bo,Ho,Qj.G($e([a.params,new t(null,2,[hm,Cz(),yo,a.pa],null),y(uq.j(nd(a.ea)))?null:new t(null,1,[Pm,!0],null)]))],null)]));return Xz.C?Xz.C(l,m,k):Xz.call(null,l,m,k)}())}return null})(0);return b};
function gB(a){a=Qj.G($e([new t(null,4,[Dq,mh(new t(null,3,[ln,Wq,uq,!1,so,!1],null)),Mn,mh(null),Cq,mh(!1),Sr,mh(null)],null),a]));var b=mf.G(a,yo,$e([Vp,Ho,Fq,Bq,Dq,Mn,Cq,br,bs,Sr]));b=Af(a)?Bh.B(Pg,b):b;return new fB(yo.j(a),Vp.j(a),Ho.j(a),Fq.j(a),Bq.j(a),Dq.j(a),Mn.j(a),Cq.j(a),br.j(a),bs.j(a),Sr.j(a),null,Ng(b),null)}function hB(a,b,c,d,e,f,g){this.Rb=a;this.Nb=b;this.ea=c;this.Fb=d;this.la=e;this.ca=f;this.P=g;this.F=2230716170;this.T=139264}h=hB.prototype;
h.xa=function(a,b){return this.da(null,b,null)};h.da=function(a,b,c){switch(b instanceof D?b.Ia:null){case "ws-chsk-opts":return this.Rb;case "ajax-chsk-opts":return this.Nb;case "state_":return this.ea;case "impl_":return this.Fb;default:return C.C(this.ca,b,c)}};h.wc=function(a,b,c){return Dc.C(function(d,e){var f=S(e,0,null);e=S(e,1,null);return b.C?b.C(d,f,e):b.call(null,d,f,e)},c,this)};
h.ja=function(a,b,c){return uk(b,function(d){return uk(b,Bk,""," ","",c,d)},"#taoensso.sente.ChAutoSocket{",", ","}",c,wg.B(new V(null,4,5,X,[new V(null,2,5,X,[Sp,this.Rb],null),new V(null,2,5,X,[gm,this.Nb],null),new V(null,2,5,X,[Dq,this.ea],null),new V(null,2,5,X,[nn,this.Fb],null)],null),this.ca))};h.Cb=function(){return new Ci(this,4,new V(null,4,5,X,[Sp,gm,Dq,nn],null),y(this.ca)?ce(this.ca):Og())};h.qa=function(){return this.la};
h.Bb=function(){return new hB(this.Rb,this.Nb,this.ea,this.Fb,this.la,this.ca,this.P)};h.wa=function(){return 4+R(this.ca)};h.sa=function(){var a=this.P;return null!=a?a:this.P=a=-1193508708^Ee(this)};h.aa=function(a,b){return null!=b&&this.constructor===b.constructor&&M.B(this.Rb,b.Rb)&&M.B(this.Nb,b.Nb)&&M.B(this.ea,b.ea)&&M.B(this.Fb,b.Fb)&&M.B(this.ca,b.ca)};
h.Sc=function(a,b){return If(new Wj(null,new t(null,4,[nn,null,Sp,null,Dq,null,gm,null],null),null),b)?mf.B(qd(Bh.B(Pg,this),this.la),b):new hB(this.Rb,this.Nb,this.ea,this.Fb,this.la,Ng(mf.B(this.ca,b)),null)};
h.kb=function(a,b,c){return y(T.B?T.B(Sp,b):T.call(null,Sp,b))?new hB(c,this.Nb,this.ea,this.Fb,this.la,this.ca,null):y(T.B?T.B(gm,b):T.call(null,gm,b))?new hB(this.Rb,c,this.ea,this.Fb,this.la,this.ca,null):y(T.B?T.B(Dq,b):T.call(null,Dq,b))?new hB(this.Rb,this.Nb,c,this.Fb,this.la,this.ca,null):y(T.B?T.B(nn,b):T.call(null,nn,b))?new hB(this.Rb,this.Nb,this.ea,c,this.la,this.ca,null):new hB(this.Rb,this.Nb,this.ea,this.Fb,this.la,kf.C(this.ca,b,c),null)};
h.va=function(){return G(wg.B(new V(null,4,5,X,[new Xh(Sp,this.Rb,null),new Xh(gm,this.Nb,null),new Xh(Dq,this.ea,null),new Xh(nn,this.Fb,null)],null),this.ca))};h.ra=function(a,b){return new hB(this.Rb,this.Nb,this.ea,this.Fb,b,this.ca,this.P)};h.Da=function(a,b){return Bf(b)?this.kb(null,Rc(b,0),Rc(b,1)):Dc.C(Nc,this,b)};h.pe=function(a,b){a=nd(this.Fb);return y(a)?RA(a,b):null};
h.Rd=function(a,b,c){a=nd(this.Fb);if(y(a))return SA(a,b,c);c=null!=c&&(c.F&64||p===c.oa)?Hg(Mj,c):c;c=C.B(c,Mr);b=YA(c,b);return UA(b)};
h.sd=function(){function a(){var f=mh(!1);Lk(c.ea,function(g,k,l,m){g=nd(c.Fb);if(y(g)&&(k=Cq.j(g),y(k))){if(y(nd(k)))return null;if(y(Sn.j(m))&&ph(f))return zA(Tq,fa,1349,new Pk(function(){return new V(null,1,5,X,["Permanently downgrading :auto chsk -\x3e :ajax"],null)}),944888414),RA(g,lm),nh(c.Fb,b())}return null});return dB(e).sd(null)}function b(){Ld(c.ea,Mk);return gB(d).sd(null)}var c=this,d=kf.C(c.Nb,Dq,c.ea),e=kf.C(c.Rb,Dq,c.ea);nh(c.Fb,function(){var f=a();return y(f)?f:b()}());return this};
function iB(a,b,c,d){var e=function(){switch(a instanceof D?a.Ia:null){case "http":return"http:";case "https":return"https:";default:return a}}(),f=function(){var g=d instanceof D?d.Ia:null;switch(g){case "ajax":return e;case "ws":switch(e){case "https:":return"wss:";case "http:":return"ws:";default:throw Error(["No matching clause: ",B.j(e)].join(""));}default:throw Error(["No matching clause: ",B.j(g)].join(""));}}();return[B.j(f),"//",Pz($e([b,c]))].join("")}
function jB(a,b,c){function d(m){return m.O?m.O():m.call(null)}var e=tc(qm);c=null!=c&&(c.F&64||p===c.oa)?Hg(Mj,c):c;var f=C.B(c,Xo),g=C.B(c,wo);C.B(c,Ar);var k=Lv(null,null),l=Lv(1,null);kv(function(){var m=function(){function q(r){var u=r[1];if(7===u)return r[2]=r[2],r[1]=3,bm;if(1===u)return r[2]=null,r[1]=2,bm;if(4===u){u=r[9];u=r[2];var x=S(u,0,null),z=S(u,1,null),K=M.B(z,k)||null==x;r[7]=u;r[8]=K;r[9]=x;r[10]=z;r[1]=y(K)?5:6;return bm}if(15===u)return u=r[9],r[2]=u,r[1]=16,bm;if(13===u)return r[2]=
r[2],r[1]=10,bm;if(6===u)return u=r[9],r[1]=tc(null==u)?8:9,bm;if(3===u)return Jv(r,r[2]);if(12===u)return r[2]=!1,r[1]=13,bm;if(2===u)return Tv(r,4,new V(null,2,5,X,[a,k],null));if(11===u)return r[2]=!0,r[1]=13,bm;if(9===u)return r[2]=!1,r[1]=10,bm;if(5===u)return r[2]=null,r[1]=7,bm;if(14===u)return u=r[9],u=Hg(Mj,u),r[2]=u,r[1]=16,bm;if(16===u){u=r[9];var O=r[2],ba=C.B(O,Wm);u=d(function(){return function(){try{y(f)&&zA(Dp,fa,1530,new Pk(function(){return new V(null,2,5,X,["Pre-handler event: %s",
ba],null)}),-651532987);var ja=y(e)?function(){try{if(zf(O)&&nz(new Wj(null,new t(null,10,[wp,null,Ln,null,yo,null,Zp,null,Hm,null,Wm,null,as,null,No,null,Lo,null,Ao,null],null),null),O)){var v=null!=O&&(O.F&64||p===O.oa)?Hg(Mj,O):O,w=C.B(v,Ln),A=C.B(v,Ao),E=C.B(v,Zp),F=C.B(v,No),H=C.B(v,yo),N=C.B(v,Wm),P=C.B(v,wp);var Q=w instanceof rv&&Hf(A)&&E instanceof lh&&zf(F)&&"string"===typeof H&&!vs(H)&&null==JA(N)&&(null==P||Hf(P))}else Q=!1;var U=Q?null:Sy}catch(W){if(W instanceof Error)U=W;else throw W;
}return null==U?O:Ty(1533,"(server-event-msg? event-msg)",O,U)}():function(){try{if(zf(O)&&nz(new Wj(null,new t(null,6,[Ln,null,nm,null,Wm,null,as,null,Lo,null,Ao,null],null),null),O)){var v=null!=O&&(O.F&64||p===O.oa)?Hg(Mj,O):O,w=C.B(v,Ln),A=C.B(v,Ao),E=C.B(v,nm),F=C.B(v,Wm);var H=w instanceof rv&&Hf(A)&&E instanceof lh&&null==JA(F)}else H=!1;var N=H?null:Sy}catch(P){if(P instanceof Error)N=P;else throw P;}return null==N?O:Ty(1534,"(client-event-msg? event-msg)",O,N)}();return b.j?b.j(ja):b.call(null,
ja)}catch(v){if(v instanceof Error){var ma=v;try{return y(g)?g.B?g.B(ma,O):g.call(null,ma,O):zA(Tm,fa,1539,new Pk(function(){return new V(null,3,5,X,[ma,"Chsk router `event-msg-handler` error: %s",ba],null)}),-288096675)}catch(w){if(w instanceof Error){var ha=w;return zA(Tm,fa,1540,new Pk(function(){return new V(null,3,5,X,[ha,"Chsk router `error-handler` error: %s",ba],null)}),1555636383)}throw w;}}else throw v;}}}());r[11]=u;r[2]=null;r[1]=2;return bm}return 10===u?(r[1]=y(r[2])?14:15,bm):8===u?
(u=r[9],x=p===u.oa,r[1]=y(u.F&64||x)?11:12,bm):null}return function(){function r(z){for(;;){a:try{for(;;){var K=q(z);if(!T(K,bm)){var O=K;break a}}}catch(ba){O=ba;z[2]=O;if(G(z[4]))z[1]=I(z[4]);else throw O;O=bm}if(!T(O,bm))return O}}function u(){var z=[null,null,null,null,null,null,null,null,null,null,null,null];z[0]=x;z[1]=1;return z}var x=null;x=function(z){switch(arguments.length){case 0:return u.call(this);case 1:return r.call(this,z)}throw Error("Invalid arity: "+arguments.length);};x.O=u;x.j=
r;return x}()}(),n=function(){var q=m();q[6]=l;return q}();return Gv(n)});return function(){return Bu(k)}}function kB(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;d=2<b.length?new ve(b.slice(2),0,null):null;b=arguments[0];c=arguments[1];d=S(d,0,null);d=null!=d&&(d.F&64||p===d.oa)?Hg(Mj,d):d;C.B(d,Xo);C.B(d,wo);return jB(b,c,d)};var lB="undefined"!=typeof Object.keys?function(a){return Object.keys(a)}:function(a){return nb(a)},mB="undefined"!=typeof Array.isArray?function(a){return Array.isArray(a)}:function(a){return"array"===oa(a)};function nB(){return Math.round(15*Math.random()).toString(16)};function oB(a,b){if(3<a.length){if(b)return!0;b=a.charAt(1);return"~"===a.charAt(0)?":"===b||"$"===b||"#"===b:!1}return!1}function pB(a){var b=Math.floor(a/44);a=String.fromCharCode(a%44+48);return 0===b?"^"+a:"^"+String.fromCharCode(b+48)+a}function qB(){this.ug=this.Id=this.idx=0;this.cache={}}
qB.prototype.write=function(a,b){return oB(a,b)?(4096===this.ug?(this.clear(),this.Id=0,this.cache={}):1936===this.idx&&this.clear(),b=this.cache[a],null==b?(this.cache[a]=[pB(this.idx),this.Id],this.idx++,a):b[1]!=this.Id?(b[1]=this.Id,b[0]=pB(this.idx),this.idx++,a):b[0]):a};qB.prototype.clear=function(){this.idx=0;this.Id++};function rB(){this.idx=0;this.cache=[]}rB.prototype.write=function(a){1936==this.idx&&(this.idx=0);this.cache[this.idx]=a;this.idx++;return a};
rB.prototype.read=function(a){return this.cache[2===a.length?a.charCodeAt(1)-48:44*(a.charCodeAt(1)-48)+(a.charCodeAt(2)-48)]};rB.prototype.clear=function(){this.idx=0};var sB=1;function tB(a,b){if(null==a)return null==b;if(a===b)return!0;if("object"===typeof a){if(mB(a)){if(mB(b)&&a.length===b.length){for(var c=0;c<a.length;c++)if(!tB(a[c],b[c]))return!1;return!0}return!1}if(a.Ub)return a.Ub(b);if(null!=b&&"object"===typeof b){if(b.Ub)return b.Ub(a);c=0;var d=lB(b).length,e;for(e in a)if(a.hasOwnProperty(e)&&(c++,!b.hasOwnProperty(e)||!tB(a[e],b[e])))return!1;return c===d}}return!1}function uB(a,b){return a^b+2654435769+(a<<6)+(a>>2)}var vB={},wB=0;
function xB(a){var b=0;if(null!=a.forEach)a.forEach(function(g,k){b=(b+(yB(k)^yB(g)))%4503599627370496});else for(var c=lB(a),d=0;d<c.length;d++){var e=c[d],f=a[e];b=(b+(yB(e)^yB(f)))%4503599627370496}return b}function zB(a){var b=0;if(mB(a))for(var c=0;c<a.length;c++)b=uB(b,yB(a[c]));else a.forEach&&a.forEach(function(d){b=uB(b,yB(d))});return b}
function yB(a){if(null==a)return 0;switch(typeof a){case "number":return a;case "boolean":return!0===a?1:0;case "string":var b=vB[a];if(null!=b)a=b;else{for(var c=b=0;c<a.length;++c)b=31*b+a.charCodeAt(c),b%=4294967296;wB++;256<=wB&&(vB={},wB=1);a=vB[a]=b}return a;case "function":return b=a.transit$hashCode$,b||(b=sB,"undefined"!=typeof Object.defineProperty?Object.defineProperty(a,"transit$hashCode$",{value:b,enumerable:!1}):a.transit$hashCode$=b,sB++),b;default:return a instanceof Date?a.valueOf():
mB(a)?zB(a):a.bc?a.bc():xB(a)}};var AB="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function BB(a,b){this.tag=a;this.za=b;this.La=-1}BB.prototype.toString=function(){return"[TaggedValue: "+this.tag+", "+this.za+"]"};BB.prototype.equiv=function(a){return tB(this,a)};BB.prototype.equiv=BB.prototype.equiv;BB.prototype.Ub=function(a){return a instanceof BB?this.tag===a.tag&&tB(this.za,a.za):!1};BB.prototype.bc=function(){-1===this.La&&(this.La=uB(yB(this.tag),yB(this.za)));return this.La};
function CB(a,b){return new BB(a,b)}var DB=Oa("9007199254740991"),EB=Oa("-9007199254740991");Ia.prototype.equiv=function(a){return tB(this,a)};Ia.prototype.equiv=Ia.prototype.equiv;Ia.prototype.Ub=function(a){return a instanceof Ia&&this.equals(a)};Ia.prototype.bc=function(){return this.Ma};function FB(a){this._name=a;this.La=-1}FB.prototype.toString=function(){return":"+this._name};FB.prototype.namespace=function(){var a=this._name.indexOf("/");return-1!=a?this._name.substring(0,a):null};
FB.prototype.name=function(){var a=this._name.indexOf("/");return-1!=a?this._name.substring(a+1,this._name.length):this._name};FB.prototype.equiv=function(a){return tB(this,a)};FB.prototype.equiv=FB.prototype.equiv;FB.prototype.Ub=function(a){return a instanceof FB&&this._name==a._name};FB.prototype.bc=function(){-1===this.La&&(this.La=yB(this._name));return this.La};function GB(a){this._name=a;this.La=-1}
GB.prototype.namespace=function(){var a=this._name.indexOf("/");return-1!=a?this._name.substring(0,a):null};GB.prototype.name=function(){var a=this._name.indexOf("/");return-1!=a?this._name.substring(a+1,this._name.length):this._name};GB.prototype.toString=function(){return this._name};GB.prototype.equiv=function(a){return tB(this,a)};GB.prototype.equiv=GB.prototype.equiv;GB.prototype.Ub=function(a){return a instanceof GB&&this._name==a._name};
GB.prototype.bc=function(){-1===this.La&&(this.La=yB(this._name));return this.La};function HB(a,b,c){var d="";c=c||b+1;for(var e=8*(7-b),f=(new Ia(255,0)).shiftLeft(e);b<c;b++,e-=8,f=Ua(f,8)){var g=Ua(a.and(f),e).toString(16);1==g.length&&(g="0"+g);d+=g}return d}function IB(a,b){this.high=a;this.low=b;this.La=-1}IB.prototype.toString=function(){var a=this.high,b=this.low;var c=HB(a,0,4)+"-";c+=HB(a,4,6)+"-";c+=HB(a,6,8)+"-";c+=HB(b,0,2)+"-";return c+=HB(b,2,8)};
IB.prototype.equiv=function(a){return tB(this,a)};IB.prototype.equiv=IB.prototype.equiv;IB.prototype.Ub=function(a){return a instanceof IB&&this.high.equals(a.high)&&this.low.equals(a.low)};IB.prototype.bc=function(){-1===this.La&&(this.La=yB(this.toString()));return this.La};Date.prototype.Ub=function(a){return a instanceof Date?this.valueOf()===a.valueOf():!1};Date.prototype.bc=function(){return this.valueOf()};function JB(a,b){this.entries=a;this.type=b||0;this.idx=0}
JB.prototype.next=function(){if(this.idx<this.entries.length){var a={value:0===this.type?this.entries[this.idx]:1===this.type?this.entries[this.idx+1]:[this.entries[this.idx],this.entries[this.idx+1]],done:!1};this.idx+=2;return a}return{value:null,done:!0}};JB.prototype.next=JB.prototype.next;JB.prototype[AB]=function(){return this};function KB(a,b){this.map=a;this.type=b||0;this.keys=this.map.Jb();this.idx=0;this.Rc=null;this.Lc=0}
KB.prototype.next=function(){if(this.idx<this.map.size){null!=this.Rc&&this.Lc<this.Rc.length||(this.Rc=this.map.map[this.keys[this.idx]],this.Lc=0);var a={value:0===this.type?this.Rc[this.Lc]:1===this.type?this.Rc[this.Lc+1]:[this.Rc[this.Lc],this.Rc[this.Lc+1]],done:!1};this.idx++;this.Lc+=2;return a}return{value:null,done:!0}};KB.prototype.next=KB.prototype.next;KB.prototype[AB]=function(){return this};
function LB(a,b){if(a instanceof MB&&(b instanceof NB||b instanceof MB)){if(a.size!==b.size)return!1;for(var c in a.map)for(var d=a.map[c],e=0;e<d.length;e+=2)if(!tB(d[e+1],b.get(d[e])))return!1;return!0}if(a instanceof NB&&(b instanceof NB||b instanceof MB)){if(a.size!==b.size)return!1;a=a.Ka;for(e=0;e<a.length;e+=2)if(!tB(a[e+1],b.get(a[e])))return!1;return!0}if(null!=b&&"object"===typeof b&&(e=lB(b),c=e.length,a.size===c)){for(d=0;d<c;d++){var f=e[d];if(!a.has(f)||!tB(b[f],a.get(f)))return!1}return!0}return!1}
function OB(a){return null==a?"null":qa(a)?"["+a.toString()+"]":"string"==typeof a?'"'+a+'"':a.toString()}function PB(a){var b=0,c="TransitMap {";a.forEach(function(d,e){c+=OB(e)+" \x3d\x3e "+OB(d);b<a.size-1&&(c+=", ");b++});return c+"}"}function QB(a){var b=0,c="TransitSet {";a.forEach(function(d){c+=OB(d);b<a.size-1&&(c+=", ");b++});return c+"}"}function NB(a){this.Ka=a;this.Ja=null;this.La=-1;this.size=a.length/2;this.wf=0}NB.prototype.toString=function(){return PB(this)};
NB.prototype.inspect=function(){return this.toString()};function RB(a){if(a.Ja)throw Error("Invalid operation, already converted");if(8>a.size)return!1;a.wf++;return 32<a.wf?(a.Ja=SB(a.Ka,!1,!0),a.Ka=[],!0):!1}NB.prototype.clear=function(){this.La=-1;this.Ja?this.Ja.clear():this.Ka=[];this.size=0};NB.prototype.clear=NB.prototype.clear;NB.prototype.keys=function(){return this.Ja?this.Ja.keys():new JB(this.Ka,0)};NB.prototype.keys=NB.prototype.keys;
NB.prototype.bd=function(){if(this.Ja)return this.Ja.bd();for(var a=[],b=0,c=0;c<this.Ka.length;b++,c+=2)a[b]=this.Ka[c];return a};NB.prototype.keySet=NB.prototype.bd;NB.prototype.entries=function(){return this.Ja?this.Ja.entries():new JB(this.Ka,2)};NB.prototype.entries=NB.prototype.entries;NB.prototype.values=function(){return this.Ja?this.Ja.values():new JB(this.Ka,1)};NB.prototype.values=NB.prototype.values;
NB.prototype.forEach=function(a){if(this.Ja)this.Ja.forEach(a);else for(var b=0;b<this.Ka.length;b+=2)a(this.Ka[b+1],this.Ka[b])};NB.prototype.forEach=NB.prototype.forEach;NB.prototype.get=function(a,b){if(this.Ja)return this.Ja.get(a);if(RB(this))return this.get(a);for(var c=0;c<this.Ka.length;c+=2)if(tB(this.Ka[c],a))return this.Ka[c+1];return b};NB.prototype.get=NB.prototype.get;
NB.prototype.has=function(a){if(this.Ja)return this.Ja.has(a);if(RB(this))return this.has(a);for(var b=0;b<this.Ka.length;b+=2)if(tB(this.Ka[b],a))return!0;return!1};NB.prototype.has=NB.prototype.has;NB.prototype.set=function(a,b){this.La=-1;if(this.Ja)this.Ja.set(a,b),this.size=this.Ja.size;else{for(var c=0;c<this.Ka.length;c+=2)if(tB(this.Ka[c],a)){this.Ka[c+1]=b;return}this.Ka.push(a);this.Ka.push(b);this.size++;32<this.size&&(this.Ja=SB(this.Ka,!1,!0),this.Ka=null)}};NB.prototype.set=NB.prototype.set;
NB.prototype["delete"]=function(a){this.La=-1;if(this.Ja)return a=this.Ja.delete(a),this.size=this.Ja.size,a;for(var b=0;b<this.Ka.length;b+=2)if(tB(this.Ka[b],a))return a=this.Ka[b+1],this.Ka.splice(b,2),this.size--,a};NB.prototype.clone=function(){var a=SB();this.forEach(function(b,c){a.set(c,b)});return a};NB.prototype.clone=NB.prototype.clone;NB.prototype[AB]=function(){return this.entries()};NB.prototype.bc=function(){if(this.Ja)return this.Ja.bc();-1===this.La&&(this.La=xB(this));return this.La};
NB.prototype.Ub=function(a){return this.Ja?LB(this.Ja,a):LB(this,a)};function MB(a,b,c){this.map=b||{};this._keys=a||[];this.size=c||0;this.La=-1}MB.prototype.toString=function(){return PB(this)};MB.prototype.inspect=function(){return this.toString()};MB.prototype.clear=function(){this.La=-1;this.map={};this._keys=[];this.size=0};MB.prototype.clear=MB.prototype.clear;MB.prototype.Jb=function(){return null!=this._keys?this._keys:lB(this.map)};
MB.prototype["delete"]=function(a){this.La=-1;this._keys=null;for(var b=yB(a),c=this.map[b],d=0;d<c.length;d+=2)if(tB(a,c[d]))return a=c[d+1],c.splice(d,2),0===c.length&&delete this.map[b],this.size--,a};MB.prototype.entries=function(){return new KB(this,2)};MB.prototype.entries=MB.prototype.entries;MB.prototype.forEach=function(a){for(var b=this.Jb(),c=0;c<b.length;c++)for(var d=this.map[b[c]],e=0;e<d.length;e+=2)a(d[e+1],d[e],this)};MB.prototype.forEach=MB.prototype.forEach;
MB.prototype.get=function(a,b){var c=yB(a);c=this.map[c];if(null!=c)for(b=0;b<c.length;b+=2){if(tB(a,c[b]))return c[b+1]}else return b};MB.prototype.get=MB.prototype.get;MB.prototype.has=function(a){var b=yB(a);b=this.map[b];if(null!=b)for(var c=0;c<b.length;c+=2)if(tB(a,b[c]))return!0;return!1};MB.prototype.has=MB.prototype.has;MB.prototype.keys=function(){return new KB(this,0)};MB.prototype.keys=MB.prototype.keys;
MB.prototype.bd=function(){for(var a=this.Jb(),b=[],c=0;c<a.length;c++)for(var d=this.map[a[c]],e=0;e<d.length;e+=2)b.push(d[e]);return b};MB.prototype.keySet=MB.prototype.bd;MB.prototype.set=function(a,b){this.La=-1;var c=yB(a),d=this.map[c];if(null==d)this._keys&&this._keys.push(c),this.map[c]=[a,b],this.size++;else{c=!0;for(var e=0;e<d.length;e+=2)if(tB(b,d[e])){c=!1;d[e]=b;break}c&&(d.push(a),d.push(b),this.size++)}};MB.prototype.set=MB.prototype.set;
MB.prototype.values=function(){return new KB(this,1)};MB.prototype.values=MB.prototype.values;MB.prototype.clone=function(){var a=SB();this.forEach(function(b,c){a.set(c,b)});return a};MB.prototype.clone=MB.prototype.clone;MB.prototype[AB]=function(){return this.entries()};MB.prototype.bc=function(){-1===this.La&&(this.La=xB(this));return this.La};MB.prototype.Ub=function(a){return LB(this,a)};
function SB(a,b,c){a=a||[];b=!1===b?b:!0;if((!0!==c||!c)&&64>=a.length){if(b){var d=a;a=[];for(b=0;b<d.length;b+=2){var e=!1;for(c=0;c<a.length;c+=2)if(tB(a[c],d[b])){a[c+1]=d[b+1];e=!0;break}e||(a.push(d[b]),a.push(d[b+1]))}}return new NB(a)}d={};e=[];var f=0;for(b=0;b<a.length;b+=2){c=yB(a[b]);var g=d[c];if(null==g)e.push(c),d[c]=[a[b],a[b+1]],f++;else{var k=!0;for(c=0;c<g.length;c+=2)if(tB(g[c],a[b])){g[c+1]=a[b+1];k=!1;break}k&&(g.push(a[b]),g.push(a[b+1]),f++)}}return new MB(e,d,f)}
function TB(a){this.map=a;this.size=a.size}TB.prototype.toString=function(){return QB(this)};TB.prototype.inspect=function(){return this.toString()};TB.prototype.add=function(a){this.map.set(a,a);this.size=this.map.size};TB.prototype.add=TB.prototype.add;TB.prototype.clear=function(){this.map=new MB;this.size=0};TB.prototype.clear=TB.prototype.clear;TB.prototype["delete"]=function(a){a=this.map.delete(a);this.size=this.map.size;return a};TB.prototype.entries=function(){return this.map.entries()};
TB.prototype.entries=TB.prototype.entries;TB.prototype.forEach=function(a){var b=this;this.map.forEach(function(c,d){a(d,b)})};TB.prototype.forEach=TB.prototype.forEach;TB.prototype.has=function(a){return this.map.has(a)};TB.prototype.has=TB.prototype.has;TB.prototype.keys=function(){return this.map.keys()};TB.prototype.keys=TB.prototype.keys;TB.prototype.bd=function(){return this.map.bd()};TB.prototype.keySet=TB.prototype.bd;TB.prototype.values=function(){return this.map.values()};
TB.prototype.values=TB.prototype.values;TB.prototype.clone=function(){var a=UB();this.forEach(function(b){a.add(b)});return a};TB.prototype.clone=TB.prototype.clone;TB.prototype[AB]=function(){return this.values()};TB.prototype.Ub=function(a){if(a instanceof TB){if(this.size===a.size)return tB(this.map,a.map)}else return!1};TB.prototype.bc=function(){return yB(this.map)};
function UB(a){a=a||[];for(var b={},c=[],d=0,e=0;e<a.length;e++){var f=yB(a[e]),g=b[f];if(null==g)c.push(f),b[f]=[a[e],a[e]],d++;else{f=!0;for(var k=0;k<g.length;k+=2)if(tB(g[k],a[e])){f=!1;break}f&&(g.push(a[e]),g.push(a[e]),d++)}}return new TB(new MB(c,b,d))};function VB(a){this.Gb=a}
function WB(a){this.options=a||{};this.fb={};for(var b in this.defaults.fb)this.fb[b]=this.defaults.fb[b];for(b in this.options.handlers){a:{switch(b){case "_":case "s":case "?":case "i":case "d":case "b":case "'":case "array":case "map":a=!0;break a}a=!1}if(a)throw Error('Cannot override handler for ground type "'+b+'"');this.fb[b]=this.options.handlers[b]}this.ne=null!=this.options.preferStrings?this.options.preferStrings:this.defaults.ne;this.kf=null!=this.options.preferBuffers?this.options.preferBuffers:
this.defaults.kf;this.Ye=this.options.defaultHandler||this.defaults.Ye;this.Xb=this.options.mapBuilder;this.fd=this.options.arrayBuilder}
WB.prototype.defaults={fb:{_:function(){return null},"?":function(a){return"t"===a},b:function(a,b){if(b&&!1===b.kf||"undefined"==typeof la.Buffer)if("undefined"!=typeof Uint8Array){if("undefined"!=typeof atob)var c=atob(a);else{a=String(a).replace(/=+$/,"");if(1==a.length%4)throw Error("'atob' failed: The string to be decoded is not correctly encoded.");b=0;for(var d,e=0,f="";d=a.charAt(e++);~d&&(c=b%4?64*c+d:d,b++%4)?f+=String.fromCharCode(255&c>>(-2*b&6)):0)d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".indexOf(d);
c=f}a=c.length;b=new Uint8Array(a);for(d=0;d<a;d++)b[d]=c.charCodeAt(d);c=b}else c=CB("b",a);else c=new la.Buffer(a,"base64");return c},i:function(a){"number"===typeof a||a instanceof Ia||(a=Oa(a,10),a=0<a.compare(DB)||0>a.compare(EB)?a:a.toNumber());return a},n:function(a){return CB("n",a)},d:function(a){return parseFloat(a)},f:function(a){return CB("f",a)},c:function(a){return a},":":function(a){return new FB(a)},$:function(a){return new GB(a)},r:function(a){return CB("r",a)},z:function(a){a:switch(a){case "-INF":a=
-Infinity;break a;case "INF":a=Infinity;break a;case "NaN":a=NaN;break a;default:throw Error("Invalid special double value "+a);}return a},"'":function(a){return a},m:function(a){a="number"===typeof a?a:parseInt(a,10);return new Date(a)},t:function(a){return new Date(a)},u:function(a){a=a.replace(/-/g,"");var b,c;var d=b=0;for(c=24;8>d;d+=2,c-=8)b|=parseInt(a.substring(d,d+2),16)<<c;var e=0;d=8;for(c=24;16>d;d+=2,c-=8)e|=parseInt(a.substring(d,d+2),16)<<c;var f=Ga(e,b);b=0;d=16;for(c=24;24>d;d+=2,
c-=8)b|=parseInt(a.substring(d,d+2),16)<<c;e=0;for(c=d=24;32>d;d+=2,c-=8)e|=parseInt(a.substring(d,d+2),16)<<c;return new IB(f,Ga(e,b))},set:function(a){return UB(a)},list:function(a){return CB("list",a)},link:function(a){return CB("link",a)},cmap:function(a){return SB(a,!1)}},Ye:function(a,b){return CB(a,b)},ne:!0,kf:!0};
WB.prototype.decode=function(a,b,c,d){if(null==a)return null;switch(typeof a){case "string":return oB(a,c)?(a=XB(this,a),b&&b.write(a,c),b=a):b="^"===a.charAt(0)&&" "!==a.charAt(1)?b.read(a,c):XB(this,a),b;case "object":if(mB(a))if("^ "===a[0])if(this.Xb)if(17>a.length&&this.Xb.Zc){d=[];for(c=1;c<a.length;c+=2)d.push(this.decode(a[c],b,!0,!1)),d.push(this.decode(a[c+1],b,!1,!1));b=this.Xb.Zc(d,a)}else{d=this.Xb.init(a);for(c=1;c<a.length;c+=2)d=this.Xb.add(d,this.decode(a[c],b,!0,!1),this.decode(a[c+
1],b,!1,!1),a);b=this.Xb.finalize(d,a)}else{d=[];for(c=1;c<a.length;c+=2)d.push(this.decode(a[c],b,!0,!1)),d.push(this.decode(a[c+1],b,!1,!1));b=SB(d,!1)}else b=YB(this,a,b,c,d);else{c=lB(a);var e=c[0];if((d=1==c.length?this.decode(e,b,!1,!1):null)&&d instanceof VB)a=a[e],c=this.fb[d.Gb],b=null!=c?c(this.decode(a,b,!1,!0),this):CB(d.Gb,this.decode(a,b,!1,!1));else if(this.Xb)if(16>c.length&&this.Xb.Zc){var f=[];for(d=0;d<c.length;d++)e=c[d],f.push(this.decode(e,b,!0,!1)),f.push(this.decode(a[e],b,
!1,!1));b=this.Xb.Zc(f,a)}else{f=this.Xb.init(a);for(d=0;d<c.length;d++)e=c[d],f=this.Xb.add(f,this.decode(e,b,!0,!1),this.decode(a[e],b,!1,!1),a);b=this.Xb.finalize(f,a)}else{f=[];for(d=0;d<c.length;d++)e=c[d],f.push(this.decode(e,b,!0,!1)),f.push(this.decode(a[e],b,!1,!1));b=SB(f,!1)}}return b}return a};WB.prototype.decode=WB.prototype.decode;
function YB(a,b,c,d,e){if(e){var f=[];for(e=0;e<b.length;e++)f.push(a.decode(b[e],c,d,!1));return f}f=c&&c.idx;if(2===b.length&&"string"===typeof b[0]&&(e=a.decode(b[0],c,!1,!1))&&e instanceof VB)return b=b[1],f=a.fb[e.Gb],null!=f?f=f(a.decode(b,c,d,!0),a):CB(e.Gb,a.decode(b,c,d,!1));c&&f!=c.idx&&(c.idx=f);if(a.fd){if(32>=b.length&&a.fd.Zc){f=[];for(e=0;e<b.length;e++)f.push(a.decode(b[e],c,d,!1));return a.fd.Zc(f,b)}f=a.fd.init(b);for(e=0;e<b.length;e++)f=a.fd.add(f,a.decode(b[e],c,d,!1),b);return a.fd.finalize(f,
b)}f=[];for(e=0;e<b.length;e++)f.push(a.decode(b[e],c,d,!1));return f}function XB(a,b){if("~"===b.charAt(0)){var c=b.charAt(1);if("~"===c||"^"===c||"`"===c)return b.substring(1);if("#"===c)return new VB(b.substring(2));var d=a.fb[c];return null==d?a.Ye(c,b.substring(2)):d(b.substring(2),a)}return b};function ZB(a){this.Mg=new WB(a)}function $B(a,b){this.mh=a;this.options=b||{};this.cache=this.options.cache?this.options.cache:new rB}$B.prototype.read=function(a){var b=this.cache;a=this.mh.Mg.decode(JSON.parse(a),b);this.cache.clear();return a};$B.prototype.read=$B.prototype.read;var aC=0,bC=(8|3&Math.round(14*Math.random())).toString(16),cC="transit$guid$"+(nB()+nB()+nB()+nB()+nB()+nB()+nB()+nB()+"-"+nB()+nB()+nB()+nB()+"-4"+nB()+nB()+nB()+"-"+bC+nB()+nB()+nB()+"-"+nB()+nB()+nB()+nB()+nB()+nB()+nB()+nB()+nB()+nB()+nB()+nB());
function dC(a){if(null==a)return"null";if(a===String)return"string";if(a===Boolean)return"boolean";if(a===Number)return"number";if(a===Array)return"array";if(a===Object)return"map";var b=a[cC];null==b&&("undefined"!=typeof Object.defineProperty?(b=++aC,Object.defineProperty(a,cC,{value:b,enumerable:!1})):a[cC]=b=++aC);return b}function eC(a,b){a=a.toString();for(var c=a.length;c<b;c++)a="0"+a;return a}function fC(){}fC.prototype.tag=function(){return"_"};fC.prototype.za=function(){return null};
fC.prototype.Na=function(){return"null"};function gC(){}gC.prototype.tag=function(){return"s"};gC.prototype.za=function(a){return a};gC.prototype.Na=function(a){return a};function hC(){}hC.prototype.tag=function(){return"i"};hC.prototype.za=function(a){return a};hC.prototype.Na=function(a){return a.toString()};function iC(){}iC.prototype.tag=function(){return"i"};iC.prototype.za=function(a){return a.toString()};iC.prototype.Na=function(a){return a.toString()};function jC(){}jC.prototype.tag=function(){return"?"};
jC.prototype.za=function(a){return a};jC.prototype.Na=function(a){return a.toString()};function kC(){}kC.prototype.tag=function(){return"array"};kC.prototype.za=function(a){return a};kC.prototype.Na=function(){return null};function lC(){}lC.prototype.tag=function(){return"map"};lC.prototype.za=function(a){return a};lC.prototype.Na=function(){return null};function mC(){}mC.prototype.tag=function(){return"t"};
mC.prototype.za=function(a){return a.getUTCFullYear()+"-"+eC(a.getUTCMonth()+1,2)+"-"+eC(a.getUTCDate(),2)+"T"+eC(a.getUTCHours(),2)+":"+eC(a.getUTCMinutes(),2)+":"+eC(a.getUTCSeconds(),2)+"."+eC(a.getUTCMilliseconds(),3)+"Z"};mC.prototype.Na=function(a,b){return b.za(a)};function nC(){}nC.prototype.tag=function(){return"m"};nC.prototype.za=function(a){return a.valueOf()};nC.prototype.Na=function(a){return a.valueOf().toString()};function oC(){}oC.prototype.tag=function(){return"u"};
oC.prototype.za=function(a){return a.toString()};oC.prototype.Na=function(a){return a.toString()};function pC(){}pC.prototype.tag=function(){return":"};pC.prototype.za=function(a){return a._name};pC.prototype.Na=function(a,b){return b.za(a)};function qC(){}qC.prototype.tag=function(){return"$"};qC.prototype.za=function(a){return a._name};qC.prototype.Na=function(a,b){return b.za(a)};function rC(){}rC.prototype.tag=function(a){return a.tag};rC.prototype.za=function(a){return a.za};
rC.prototype.Na=function(){return null};function sC(){}sC.prototype.tag=function(){return"set"};sC.prototype.za=function(a){var b=[];a.forEach(function(c){b.push(c)});return CB("array",b)};sC.prototype.Na=function(){return null};function tC(){}tC.prototype.tag=function(){return"map"};tC.prototype.za=function(a){return a};tC.prototype.Na=function(){return null};function uC(){}uC.prototype.tag=function(){return"map"};uC.prototype.za=function(a){return a};uC.prototype.Na=function(){return null};
function vC(){}vC.prototype.tag=function(){return"b"};vC.prototype.za=function(a){return a.toString("base64")};vC.prototype.Na=function(){return null};function wC(){}wC.prototype.tag=function(){return"b"};
wC.prototype.za=function(a){for(var b,c=0,d=a.length,e="",f;c<d;)f=a.subarray(c,Math.min(c+32768,d)),e+=String.fromCharCode.apply(null,f),c+=32768;if("undefined"!=typeof btoa)b=btoa(e);else{a=String(e);d=0;e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d";for(f="";a.charAt(d|0)||(e="\x3d",d%1);f+=e.charAt(63&b>>8-d%1*8)){c=a.charCodeAt(d+=.75);if(255<c)throw Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");b=b<<8|c}b=f}return b};
wC.prototype.Na=function(){return null};
function xC(){this.fb={};this.set(null,new fC);this.set(String,new gC);this.set(Number,new hC);this.set(Ia,new iC);this.set(Boolean,new jC);this.set(Array,new kC);this.set(Object,new lC);this.set(Date,new nC);this.set(IB,new oC);this.set(FB,new pC);this.set(GB,new qC);this.set(BB,new rC);this.set(TB,new sC);this.set(NB,new tC);this.set(MB,new uC);"undefined"!=typeof la.Buffer&&this.set(la.Buffer,new vC);"undefined"!=typeof Uint8Array&&this.set(Uint8Array,new wC)}
xC.prototype.get=function(a){a="string"===typeof a?this.fb[a]:this.fb[dC(a)];return null!=a?a:this.fb["default"]};xC.prototype.get=xC.prototype.get;xC.prototype.set=function(a,b){var c;if(c="string"===typeof a)a:{switch(a){case "null":case "string":case "boolean":case "number":case "array":case "map":c=!1;break a}c=!0}c?this.fb[a]=b:this.fb[dC(a)]=b};function yC(a){this.ic=a||{};this.ne=null!=this.ic.preferStrings?this.ic.preferStrings:!0;this.Vf=this.ic.objectBuilder||null;this.transform=this.ic.transform||null;this.fb=new xC;if(a=this.ic.handlers){if(mB(a)||!a.forEach)throw Error('transit writer "handlers" option must be a map');var b=this;a.forEach(function(c,d){if(void 0!==d)b.fb.set(d,c);else throw Error("Cannot create handler for JavaScript undefined");})}this.Jd=this.ic.handlerForForeign;this.te=this.ic.unpack||function(c){return c instanceof
NB&&null===c.Ja?c.Ka:!1};this.Td=this.ic&&this.ic.verbose||!1}yC.prototype.handler=function(a){var b=this.fb.get(null==a?null:a.constructor);return null!=b?b:(a=a&&a.transitTag)?this.fb.get(a):null};function zC(a,b,c,d,e){a=a+b+c;return e?e.write(a,d):a}function AC(a,b,c){var d=[];if(mB(b))for(var e=0;e<b.length;e++)d.push(BC(a,b[e],!1,c));else b.forEach(function(f){d.push(BC(a,f,!1,c))});return d}function CC(a,b){return"string"!==typeof b?(a=a.handler(b))&&1===a.tag(b).length:!0}
function DC(a,b){var c=a.te(b),d=!0;if(c){for(b=0;b<c.length&&(d=CC(a,c[b]),d);b+=2);return d}if(b.keys){c=b.keys();var e=null;if(c.next){for(e=c.next();!e.done;){d=CC(a,e.value);if(!d)break;e=c.next()}return d}}if(b.forEach)return b.forEach(function(f,g){d=d&&CC(a,g)}),d;throw Error("Cannot walk keys of object type "+(null==b?null:b.constructor).name);}
function EC(a){if(a.constructor.transit$isObject)return!0;var b=a.constructor.toString();b=b.substr(9);b=b.substr(0,b.indexOf("("));b="Object"==b;"undefined"!=typeof Object.defineProperty?Object.defineProperty(a.constructor,"transit$isObject",{value:b,enumerable:!1}):a.constructor.transit$isObject=b;return b}
function FC(a,b,c){var d=null,e=null,f=null;d=null;var g=0;if(b.constructor===Object||null!=b.forEach||a.Jd&&EC(b)){if(a.Td){if(null!=b.forEach)if(DC(a,b)){var k={};b.forEach(function(l,m){k[BC(a,m,!0,!1)]=BC(a,l,!1,c)})}else{d=a.te(b);e=[];f=zC("~#","cmap","",!0,c);if(d)for(;g<d.length;g+=2)e.push(BC(a,d[g],!1,!1)),e.push(BC(a,d[g+1],!1,c));else b.forEach(function(l,m){e.push(BC(a,m,!1,!1));e.push(BC(a,l,!1,c))});k={};k[f]=e}else for(d=lB(b),k={};g<d.length;g++)k[BC(a,d[g],!0,!1)]=BC(a,b[d[g]],!1,
c);return k}if(null!=b.forEach){if(DC(a,b)){d=a.te(b);k=["^ "];if(d)for(;g<d.length;g+=2)k.push(BC(a,d[g],!0,c)),k.push(BC(a,d[g+1],!1,c));else b.forEach(function(l,m){k.push(BC(a,m,!0,c));k.push(BC(a,l,!1,c))});return k}d=a.te(b);e=[];f=zC("~#","cmap","",!0,c);if(d)for(;g<d.length;g+=2)e.push(BC(a,d[g],!1,c)),e.push(BC(a,d[g+1],!1,c));else b.forEach(function(l,m){e.push(BC(a,m,!1,c));e.push(BC(a,l,!1,c))});return[f,e]}k=["^ "];for(d=lB(b);g<d.length;g++)k.push(BC(a,d[g],!0,c)),k.push(BC(a,b[d[g]],
!1,c));return k}if(null!=a.Vf)return a.Vf(b,function(l){return BC(a,l,!0,c)},function(l){return BC(a,l,!1,c)});g=(null==b?null:b.constructor).name;d=Error("Cannot write "+g);d.data={obj:b,type:g};throw d;}
function BC(a,b,c,d){null!==a.transform&&(b=a.transform(b));var e=a.handler(b)||(a.Jd?a.Jd(b,a.fb):null),f=e?e.tag(b):null,g=e?e.za(b):null;if(null!=e&&null!=f)switch(f){case "_":return c?zC("~","_","",c,d):null;case "s":return 0<g.length?(a=g.charAt(0),a="~"===a||"^"===a||"`"===a?"~"+g:g):a=g,zC("","",a,c,d);case "?":return c?zC("~","?",g.toString()[0],c,d):g;case "i":return Infinity===g?zC("~","z","INF",c,d):-Infinity===g?zC("~","z","-INF",c,d):isNaN(g)?zC("~","z","NaN",c,d):c||"string"===typeof g||
g instanceof Ia?zC("~","i",g.toString(),c,d):g;case "d":return c?zC(g.oh,"d",g,c,d):g;case "b":return zC("~","b",g,c,d);case "'":return a.Td?(c={},b=zC("~#","'","",!0,d),c[b]=BC(a,g,!1,d),d=c):d=[zC("~#","'","",!0,d),BC(a,g,!1,d)],d;case "array":return AC(a,g,d);case "map":return FC(a,g,d);default:a:{if(1===f.length){if("string"===typeof g){d=zC("~",f,g,c,d);break a}if(c||a.ne){(a=a.Td&&new mC)?(f=a.tag(b),g=a.Na(b,a)):g=e.Na(b,e);if(null!==g){d=zC("~",f,g,c,d);break a}d=Error('Tag "'+f+'" cannot be encoded as string');
d.data={tag:f,za:g,obj:b};throw d;}}c=f;b=g;a.Td?(e={},e[zC("~#",c,"",!0,d)]=BC(a,b,!1,d),d=e):d=[zC("~#",c,"",!0,d),BC(a,b,!1,d)]}return d}else throw d=(null==b?null:b.constructor).name,a=Error("Cannot write "+d),a.data={obj:b,type:d},a;}function GC(a,b){a=a.handler(b)||(a.Jd?a.Jd(b,a.fb):null);if(null!=a)return 1===a.tag(b).length?CB("'",b):b;a=(null==b?null:b.constructor).name;var c=Error("Cannot write "+a);c.data={obj:b,type:a};throw c;}
function HC(a,b){this.ud=a;this.options=b||{};this.cache=!1===this.options.cache?null:this.options.cache?this.options.cache:new qB}HC.prototype.Rg=function(){return this.ud};HC.prototype.marshaller=HC.prototype.Rg;HC.prototype.write=function(a,b){var c=b||{};b=c.asMapKey||!1;var d=this.ud.Td?!1:this.cache;!1===c.marshalTop?a=BC(this.ud,a,b,d):(c=this.ud,a=JSON.stringify(BC(c,GC(c,a),b,d)));null!=this.cache&&this.cache.clear();return a};HC.prototype.write=HC.prototype.write;
HC.prototype.register=function(a,b){this.ud.fb.set(a,b)};HC.prototype.register=HC.prototype.register;function IC(a,b){if("json"===a||"json-verbose"===a||null==a)return a=new ZB(b),new $B(a,b);throw Error("Cannot create reader of type "+a);}function JC(a,b){if("json"===a||"json-verbose"===a||null==a)return"json-verbose"===a&&(null==b&&(b={}),b.verbose=!0),a=new yC(b),new HC(a,b);b=Error('Type must be "json"');b.data={type:a};throw b;};tl.prototype.aa=function(a,b){return b instanceof tl?this.lc===b.lc:b instanceof IB?this.lc===b.toString():!1};tl.prototype.qc=p;tl.prototype.Tb=function(a,b){if(b instanceof tl||b instanceof IB)return Jf(this.toString(),b.toString());throw Error(["Cannot compare ",B.j(this)," to ",B.j(b)].join(""));};IB.prototype.qc=p;IB.prototype.Tb=function(a,b){if(b instanceof tl||b instanceof IB)return Jf(this.toString(),b.toString());throw Error(["Cannot compare ",B.j(this)," to ",B.j(b)].join(""));};
Ia.prototype.aa=function(a,b){return this.equiv(b)};IB.prototype.aa=function(a,b){return b instanceof tl?b.aa(null,this):this.equiv(b)};BB.prototype.aa=function(a,b){return this.equiv(b)};Ia.prototype.Fe=p;Ia.prototype.sa=function(){return yB(this)};IB.prototype.Fe=p;IB.prototype.sa=function(){return pe(this.toString())};BB.prototype.Fe=p;BB.prototype.sa=function(){return yB(this)};IB.prototype.Ba=p;IB.prototype.ja=function(a,b){return Hd(b,['#uuid "',B.j(this.toString()),'"'].join(""))};
function KC(a,b){for(var c=G(nb(b)),d=null,e=0,f=0;;)if(f<e){var g=d.fa(null,f);a[g]=b[g];f+=1}else if(c=G(c))d=c,Cf(d)?(c=Ud(d),f=Vd(d),d=c,e=R(c),c=f):(c=I(d),a[c]=b[c],c=J(d),d=null,e=0),f=0;else break;return a}function LC(){}LC.prototype.init=function(){return Md(Pg)};LC.prototype.add=function(a,b,c){return Pd(a,b,c)};LC.prototype.finalize=function(a){return Od(a)};LC.prototype.Zc=function(a){return Ni.C?Ni.C(a,!0,!0):Ni.call(null,a,!0,!0)};function MC(){}MC.prototype.init=function(){return Md(ff)};
MC.prototype.add=function(a,b){return zg.B(a,b)};MC.prototype.finalize=function(a){return Od(a)};MC.prototype.Zc=function(a){return ci.B?ci.B(a,!0):ci.call(null,a,!0)};
function NC(a,b){return IC(lg(a),KC({handlers:Yk(Qj.G($e([new t(null,6,["$",function(c){return te.j(c)},":",function(c){return kg.j(c)},"set",function(c){return Bh.B(Yj,c)},"list",function(c){return Bh.B(ye,c.reverse())},"cmap",function(c){for(var d=0,e=Md(Pg);;)if(d<c.length){var f=d+2;e=Pd(e,c[d],c[d+1]);d=f}else return Od(e)},"with-meta",function(c){return sf(c[0],c[1])}],null),mf.B(Tl.j(b),ql)]))),defaultHandler:ql.j(Tl.j(b)),mapBuilder:new LC,arrayBuilder:new MC,prefersStrings:!1},Yk(mf.B(b,
Tl))))}function OC(){}OC.prototype.tag=function(){return":"};OC.prototype.za=function(a){return a.Ia};OC.prototype.Na=function(a){return a.Ia};function PC(){}PC.prototype.tag=function(){return"$"};PC.prototype.za=function(a){return a.Gb};PC.prototype.Na=function(a){return a.Gb};function QC(){}QC.prototype.tag=function(){return"list"};
QC.prototype.za=function(a){var b=[];a=G(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.fa(null,e);b.push(f);e+=1}else if(a=G(a))c=a,Cf(c)?(a=Ud(c),e=Vd(c),c=a,d=R(a),a=e):(a=I(c),b.push(a),a=J(c),c=null,d=0),e=0;else break;return CB("array",b)};QC.prototype.Na=function(){return null};function RC(){}RC.prototype.tag=function(){return"map"};RC.prototype.za=function(a){return a};RC.prototype.Na=function(){return null};function SC(){}SC.prototype.tag=function(){return"set"};
SC.prototype.za=function(a){var b=[];a=G(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.fa(null,e);b.push(f);e+=1}else if(a=G(a))c=a,Cf(c)?(a=Ud(c),e=Vd(c),c=a,d=R(a),a=e):(a=I(c),b.push(a),a=J(c),c=null,d=0),e=0;else break;return CB("array",b)};SC.prototype.Na=function(){return null};function TC(){}TC.prototype.tag=function(){return"array"};
TC.prototype.za=function(a){var b=[];a=G(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.fa(null,e);b.push(f);e+=1}else if(a=G(a))c=a,Cf(c)?(a=Ud(c),e=Vd(c),c=a,d=R(a),a=e):(a=I(c),b.push(a),a=J(c),c=null,d=0),e=0;else break;return b};TC.prototype.Na=function(){return null};function UC(){}UC.prototype.tag=function(){return"u"};UC.prototype.za=function(a){return a.lc};UC.prototype.Na=function(a){return this.za(a)};function VC(a,b){this.value=a;this.meta=b}function WC(){}WC.prototype.tag=function(){return"with-meta"};
WC.prototype.za=function(a){return CB("array",[a.value,a.meta])};WC.prototype.Na=function(){return null};
function XC(a,b){var c=new QC,d=new RC,e=new SC,f=new TC,g=Qj.G($e([rj([pj,gg,t,kj,xi,ve,D,dg,mg,pi,wi,mj,Pj,VC,Gi,V,gf,Xe,Wj,Kj,Oj,ni,Zj,rg,se,tl,jk,uj],[d,c,d,c,c,c,new OC,c,c,f,c,c,c,new WC,c,f,c,c,e,d,c,c,e,c,new PC,new UC,c,c]),"undefined"!==typeof gc&&"undefined"!==typeof hc&&"undefined"!==typeof Uk?lf([Uk,c]):null,"undefined"!==typeof gc&&"undefined"!==typeof hc&&"undefined"!==typeof wh?lf([wh,c]):null,"undefined"!==typeof gc&&"undefined"!==typeof hc&&"undefined"!==typeof Xh?lf([Xh,f]):null,
Tl.j(b)]));return JC(lg(a),KC({objectBuilder:function(k,l,m){return Rf(function(n,q,r){n.push(l.j?l.j(q):l.call(null,q),m.j?m.j(r):m.call(null,r));return n},["^ "],k)},handlers:function(){var k=Hc(g);k.forEach=function(l){for(var m=G(this),n=null,q=0,r=0;;)if(r<q){var u=n.fa(null,r),x=S(u,0,null);u=S(u,1,null);M.B(ql,x)?l.B?l.B(u,"default"):l.call(null,u,"default"):l.B?l.B(u,x):l.call(null,u,x);r+=1}else if(m=G(m))Cf(m)?(n=Ud(m),m=Vd(m),x=n,q=R(n),n=x):(n=I(m),x=S(n,0,null),u=S(n,1,null),M.B(ql,x)?
l.B?l.B(u,"default"):l.call(null,u,"default"):l.B?l.B(u,x):l.call(null,u,x),m=J(m),n=null,q=0),r=0;else return null};return k}(),unpack:function(k){return k instanceof t?k.D:!1}},Yk(mf.B(b,Tl))))};var YC=Dz(function(a,b){var c=XC(a,b);return function(d){return c.write(d)}}),ZC=Dz(function(a,b){var c=NC(a,b);return function(d){return c.read(d)}});function $C(){var a=Pg,b=Pg;this.lg=co;this.nh=a;this.fh=b}$C.prototype.qf=function(a,b){a=YC(this.lg,this.nh);return a.j?a.j(b):a.call(null,b)};$C.prototype.rf=function(a,b){a=ZC(this.lg,this.fh);return a.j?a.j(b):a.call(null,b)};var aD=ms(64,{});var bD=ms(67,{});var cD={};var dD={},eD,fD;function gD(a,b){if(null!=a&&null!=a.Te)a=a.Te(a,b);else{var c=gD[oa(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=gD._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw wc("Spec.with-gen*",a);}return a}var hD=mh(Pg);function iD(a){if(jg(a)){var b=nd(hD);a=C.B(b,a);if(jg(a))a:for(;;)if(jg(a))a=C.B(b,a);else{b=a;break a}else b=a;return b}return a}
function jD(a){if(jg(a)){var b=iD(a);if(y(b))return b;throw Error(["Unable to resolve spec: ",B.j(a)].join(""));}return a}function kD(a){return null!=a&&p===a.Jf?a:null}function lD(a){var b=rn.j(a);return y(b)?a:b}function mD(a,b){return jg(a)?a:y(lD(a))?kf.C(a,Qm,b):null!=a&&(a.F&131072||p===a.Zd)?sf(a,kf.C(tf(a),Qm,b)):null}function nD(a){return jg(a)?a:y(lD(a))?Qm.j(a):null!=a&&(a.F&131072||p===a.Zd)?Qm.j(tf(a)):null}
function oD(a){var b=function(){var c=jg(a)?iD(a):!1;if(y(c))return c;c=kD(a);if(y(c))return c;c=lD(a);return y(c)?c:null}();return y(lD(b))?mD(pD(b,null),nD(b)):b}function qD(a){var b=oD(a);if(y(b))return b;if(jg(a))throw Error(["Unable to resolve spec: ",B.j(a)].join(""));return null}function rD(a){if(vs(a))return null;a=rh.B(xl,ts(a,"$"));if(2<=R(a)&&dh(function(c){return!vs(c)},a)){var b=ok(bk,df)(a);a=S(b,0,null);b=S(b,1,null);return te.j([rs(".",a),"/",B.j(b)].join(""))}return null}
var tD=function(){function a(d,e){var f=sD[oa(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=sD._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw wc("Specize.specize*",d);}function b(d){var e=sD[oa(null==d?null:d)];if(null!=e)return e.j?e.j(d):e.call(null,d);e=sD._;if(null!=e)return e.j?e.j(d):e.call(null,d);throw wc("Specize.specize*",d);}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+
arguments.length);};c.j=b;c.B=a;return c}(),sD=function sD(a){switch(arguments.length){case 1:return sD.j(arguments[0]);case 2:return sD.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};sD.j=function(a){return null!=a&&null!=a.Tc?a.Tc(a):tD(a)};sD.B=function(a,b){return null!=a&&null!=a.Uc?a.Uc(a,b):tD(a,b)};sD.R=2;D.prototype.Tc=function(){return sD(jD(this))};D.prototype.Uc=function(){return sD(jD(this))};se.prototype.Tc=function(){return sD(jD(this))};
se.prototype.Uc=function(){return sD(jD(this))};Wj.prototype.Tc=function(){return uD(this,this)};Wj.prototype.Uc=function(a,b){return uD(b,this)};Zj.prototype.Tc=function(){return uD(this,this)};Zj.prototype.Uc=function(a,b){return uD(b,this)};
sD._=function(){function a(c){var d=nf(c)?rD(c.name):!1;return y(d)?uD(d,c):uD(Wr,c)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return uD(d,c)}throw Error("Invalid arity: "+arguments.length);};b.j=a;b.B=function(c,d){return uD(d,c)};return b}();var vD=function vD(a){switch(arguments.length){case 1:return vD.j(arguments[0]);case 2:return vD.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};
vD.j=function(a){var b=kD(a);return y(b)?b:sD(a)};vD.B=function(a,b){var c=kD(a);return y(c)?c:sD(a,b)};vD.R=2;function wD(a,b){a=iD(a);return y(lD(a))?kf.C(a,sq,b):gD(vD.j(a),b)}function uD(a,b){return xD(a,b,null,null,null)}
function xD(a,b,c,d,e){if(y(kD(b)))return y(c)?wD(b,c):b;if(y(lD(b)))return pD(b,c);if(jg(b))return a=qD(b),y(c)?wD(a,c):a;if("undefined"===typeof gc||"undefined"===typeof cD||"undefined"===typeof dD||"undefined"===typeof eD)eD=function(f,g,k,l,m,n){this.form=f;this.Zf=g;this.af=k;this.Mf=l;this.mg=m;this.Yg=n;this.F=393216;this.T=0},eD.prototype.ra=function(f,g){return new eD(this.form,this.Zf,this.af,this.Mf,this.mg,g)},eD.prototype.qa=function(){return this.Yg},eD.prototype.Tc=function(){return this},
eD.prototype.Uc=function(){return this},eD.prototype.Jf=p,eD.prototype.Te=function(f,g){return xD(this.form,this.Zf,g,this.Mf,this.mg)},eD.ac=!0,eD.Ob="cljs.spec.alpha/t_cljs$spec$alpha17319",eD.rc=function(f){return Hd(f,"cljs.spec.alpha/t_cljs$spec$alpha17319")};return new eD(a,b,c,d,e,Pg)}
var pD=function pD(a,b){if("undefined"===typeof gc||"undefined"===typeof cD||"undefined"===typeof dD||"undefined"===typeof fD)fD=function(d,e,f){this.re=d;this.af=e;this.Zg=f;this.F=393216;this.T=0},fD.prototype.ra=function(d,e){return new fD(this.re,this.af,e)},fD.prototype.qa=function(){return this.Zg},fD.prototype.Tc=function(){return this},fD.prototype.Uc=function(){return this},fD.prototype.Jf=p,fD.prototype.Te=function(d,e){return pD.B?pD.B(this.re,e):pD.call(null,this.re,e)},fD.ac=!0,fD.Ob=
"cljs.spec.alpha/t_cljs$spec$alpha17815",fD.rc=function(d){return Hd(d,"cljs.spec.alpha/t_cljs$spec$alpha17815")};return new fD(a,b,Pg)},yD=fg(gq,fg(Ql,new V(null,1,5,X,[cq],null),fg(Qo,fg(gr,ho,cq),fg(gr,fo,cq))),fg(Ql,new V(null,1,5,X,[Hq],null),fg(gr,fg(Vl,new V(null,1,5,X,[new V(null,2,5,X,[tn,qn],null)],null),new t(null,2,[ho,tn,fo,qn],null)),Hq))),zD=xD(fg(gq,fg(Vl,new V(null,1,5,X,[no],null),fg(Qo,fg(gr,ho,no),fg(gr,fo,no))),fg(Vl,new V(null,1,5,X,[no],null),fg(gr,fg(Vl,new V(null,1,5,X,[new V(null,
2,5,X,[tn,qn],null)],null),new t(null,2,[ho,tn,fo,qn],null)),no))),function(a){return ck(rh.B(ho,a),rh.B(fo,a))},null,!0,function(a){return rh.B(function(b){var c=S(b,0,null);b=S(b,1,null);return new t(null,2,[ho,c,fo,b],null)},a)});if(null==zD)oh.C(hD,mf,Zo);else{var AD;var BD=kD(zD);if(y(BD))AD=BD;else{var CD=lD(zD);AD=y(CD)?CD:C.B(nd(hD),zD)}var DD=y(AD)?zD:uD(yD,zD);oh.ba(hD,kf,Zo,mD(DD,Zo))};function ED(a){a=null!=a&&(a.F&64||p===a.oa)?Hg(Mj,a):a;var b=C.B(a,Sl);return b instanceof D||"string"===typeof b?kf.C(mf.B(a,Sl),Hn,function(){var c=kg.j(b);c=c instanceof D?c.Ia:null;switch(c){case "debug":return aD.Debug;case "info":return aD.Info;case "warn":return aD.Warn;default:throw Error(["No matching clause: ",B.j(c)].join(""));}}()):a}
function FD(a,b,c){return y(b)?(b=Yk(b),c=ED(Qj.G($e([new t(null,2,[Wo,an,wq,"vega-lite"],null),c]))),c=Qj.G($e([new t(null,1,[Wo,an],null),c])),bD(a,b,Yk(c)).catch(function(d){return console.log(d)})):null}var GD=function GD(a){switch(arguments.length){case 1:return GD.j(arguments[0]);case 2:return GD.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};GD.j=function(a){return GD.B(a,Pg)};
GD.B=function(a,b){var c=Qj.G($e([new t(null,1,[wq,"vega"],null),b]));return Ht(new t(null,4,[Tp,"vega",vr,function(d){return FD(nu.findDOMNode(d),a,c)},wn,function(d,e){S(e,0,null);var f=S(e,1,null);e=S(e,2,null);return FD(nu.findDOMNode(d),f,e)},zp,function(){return new V(null,1,5,X,[qp],null)}],null),mu)};GD.R=2;
var HD=function HD(a){switch(arguments.length){case 1:return HD.j(arguments[0]);case 2:return HD.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};HD.j=function(a){return HD.B(a,Pg)};HD.B=function(a,b){return GD.B(a,Qj.G($e([b,new t(null,1,[wq,"vega-lite"],null)])))};HD.R=2;
var ID=mt.j(new t(null,2,[gp,GD,am,HD],null)),JD=new t(null,4,[cn,50,Jq,Pg,lq,new t(null,1,[Vr,10],null),mp,new t(null,2,[Vr,10,Nq,Zq],null)],null),KD=function KD(a){switch(arguments.length){case 1:return KD.j(arguments[0]);case 2:return KD.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",B.j(arguments.length)].join(""));}};KD.j=function(a){return KD.B(a,Pg)};
KD.B=function(a,b){var c=null!=b&&(b.F&64||p===b.oa)?Hg(Mj,b):b,d=C.B(c,Rq),e=C.B(c,xq),f=C.B(c,rp),g=mt.j(new t(null,3,[Rq,y(d)?d:0,xq,e,rp,y(f)?f:ar],null)),k=Dc.B(Zs,rh.B(ih.B(ak,Ii),sh.B(10,a)));return function(l,m){var n=nd(g),q=null!=n&&(n.F&64||p===n.oa)?Hg(Mj,n):n,r=C.B(q,Rq),u=C.B(q,xq),x=C.B(q,rp),z=Rj.G(function(w,A){return zf(w)&&zf(A)?Qj.G($e([w,A])):A},$e([JD,m])),K=null!=z&&(z.F&64||p===z.oa)?Hg(Mj,z):z,O=C.B(K,cn),ba=C.B(K,Jq),ja=C.B(K,lq),ma=C.B(K,mp),ha=function(){var w=y(u)?Of(u,
l):l;w=M.B(Ll,x)?eg(w):w;w=y(O)?th(O*r,w):w;return y(O)?sh.B(O,w):w}(),v=Zf(R(l),O);return new V(null,3,5,X,[Ym,R(l)>O?new V(null,5,5,X,[Lp,new t(null,1,[mn,new t(null,1,[bn,10],null)],null),new V(null,4,5,X,[un,new t(null,1,[mn,new t(null,1,[Vr,20],null)],null),"Current page: ",r+1],null),0<r?new V(null,3,5,X,[Fp,new t(null,2,[$l,function(){function w(E){var F=null;if(0<arguments.length){F=0;for(var H=Array(arguments.length-0);F<H.length;)H[F]=arguments[F+0],++F;F=new ve(H,0,null)}return A.call(this,
F)}function A(){return oh.ba(g,Hh,Rq,Wf)}w.R=0;w.Y=function(E){E=G(E);return A(E)};w.G=A;return w}(),mn,new t(null,2,[Vr,10,Nq,Zq],null)],null),"prev"],null):null,r<v?new V(null,3,5,X,[Fp,new t(null,2,[$l,function(){function w(E){var F=null;if(0<arguments.length){F=0;for(var H=Array(arguments.length-0);F<H.length;)H[F]=arguments[F+0],++F;F=new ve(H,0,null)}return A.call(this,F)}function A(){return oh.ba(g,Hh,Rq,Ge)}w.R=0;w.Y=function(E){E=G(E);return A(E)};w.G=A;return w}(),mn,new t(null,2,[Vr,10,
Nq,Zq],null)],null),"next"],null):null],null):null,new V(null,3,5,X,[Cl,new V(null,3,5,X,[Km,new t(null,1,[mn,ba],null),function(){return function E(A){return new mg(null,function(){for(;;){var F=G(A);if(F){var H=F;if(Cf(H)){var N=Ud(H),P=R(N),Q=qg(P);return function(){for(var W=0;;)if(W<P){var Y=Rc(N,W);tg(Q,sf(new V(null,4,5,X,[Jm,new t(null,2,[mn,ma,$l,function(Z,ca,ka,pa,ra,va,Ha,Wa,pb,$b,Xc,sd,Gj,hi,de,Gd,pf,Oc,Pc,ee,Kq){return function(){function ii(ji){var qf=null;if(0<arguments.length){qf=
0;for(var Hj=Array(arguments.length-0);qf<Hj.length;)Hj[qf]=arguments[qf+0],++qf;qf=new ve(Hj,0,null)}return Ij.call(this,qf)}function Ij(){return oh.C(Kq,Qj,new t(null,2,[xq,ca,rp,M.B(ca,Xc)&&M.B(sd,ar)?Ll:ar],null))}ii.R=0;ii.Y=function(ji){ji=G(ji);return Ij(ji)};ii.G=Ij;return ii}()}(W,Y,N,P,Q,H,F,n,q,r,u,x,z,K,O,ba,ja,ma,ha,v,g,k,b,c,d,e,f)],null),lg(Y),M.B(u,Y)?function(){var Z=x instanceof D?x.Ia:null;switch(Z){case "ascending":return"";case "descending":return"";default:throw Error(["No matching clause: ",
B.j(Z)].join(""));}}():null],null),new t(null,1,[Hr,Y],null)));W+=1}else return!0}()?sg(Q.Fa(),E(Vd(H))):sg(Q.Fa(),null)}var U=I(H);return Ze(sf(new V(null,4,5,X,[Jm,new t(null,2,[mn,ma,$l,function(W,Y,Z,ca,ka,pa,ra,va,Ha,Wa,pb,$b,Xc,sd,Gj,hi,de){return function(){function Gd(Oc){var Pc=null;if(0<arguments.length){Pc=0;for(var ee=Array(arguments.length-0);Pc<ee.length;)ee[Pc]=arguments[Pc+0],++Pc;Pc=new ve(ee,0,null)}return pf.call(this,Pc)}function pf(){return oh.C(de,Qj,new t(null,2,[xq,W,rp,M.B(W,
ra)&&M.B(va,ar)?Ll:ar],null))}Gd.R=0;Gd.Y=function(Oc){Oc=G(Oc);return pf(Oc)};Gd.G=pf;return Gd}()}(U,H,F,n,q,r,u,x,z,K,O,ba,ja,ma,ha,v,g,k,b,c,d,e,f)],null),lg(U),M.B(u,U)?function(){var W=x instanceof D?x.Ia:null;switch(W){case "ascending":return"";case "descending":return"";default:throw Error(["No matching clause: ",B.j(W)].join(""));}}():null],null),new t(null,1,[Hr,U],null)),E(xe(H)))}return null}},null,null)}(k)}()],null),function(){return function E(A){return new mg(null,function(){for(;;){var F=
G(A);if(F){var H=F;if(Cf(H)){var N=Ud(H),P=R(N),Q=qg(P);return function(){for(var W=0;;)if(W<P){var Y=Rc(N,W);tg(Q,sf(new V(null,3,5,X,[Km,new t(null,1,[mn,ba],null),function(){return function(Z,ca,ka,pa,ra,va,Ha,Wa,pb,$b,Xc,sd,Gj,hi,de,Gd,pf,Oc,Pc,ee,Kq,ii,Ij,ji,qf,Hj,TD){return function Bw(UD){return new mg(null,function(dE,Cw,eE,fE,gE,hE,iE,jE,kE,lE,mE,nE,oE,pE,qE,rE,Dw){return function(){for(;;){var ki=G(UD);if(ki){if(Cf(ki)){var Fm=Ud(ki),Ew=R(Fm),li=qg(Ew);a:for(var Lq=0;;)if(Lq<Ew){var Gm=
Rc(Fm,Lq);Gm=sf(new V(null,3,5,X,[Rm,new t(null,1,[mn,Dw],null),C.B(Cw,Gm)],null),new t(null,1,[Hr,Gm],null));li.add(Gm);Lq+=1}else{Fm=!0;break a}return Fm?sg(li.Fa(),Bw(Vd(ki))):sg(li.Fa(),null)}li=I(ki);return Ze(sf(new V(null,3,5,X,[Rm,new t(null,1,[mn,Dw],null),C.B(Cw,li)],null),new t(null,1,[Hr,li],null)),Bw(xe(ki)))}return null}}}(Z,ca,ka,pa,ra,va,Ha,Wa,pb,$b,Xc,sd,Gj,hi,de,Gd,pf,Oc,Pc,ee,Kq,ii,Ij,ji,qf,Hj,TD),null,null)}}(W,Y,N,P,Q,H,F,n,q,r,u,x,z,K,O,ba,ja,ma,ha,v,g,k,b,c,d,e,f)(k)}()],null),
new t(null,1,[Hr,pe(Y)],null)));W+=1}else return!0}()?sg(Q.Fa(),E(Vd(H))):sg(Q.Fa(),null)}var U=I(H);return Ze(sf(new V(null,3,5,X,[Km,new t(null,1,[mn,ba],null),function(){return function(W,Y,Z,ca,ka,pa,ra,va,Ha,Wa,pb,$b,Xc){return function hi(Gj){return new mg(null,function(){for(;;){var de=G(Gj);if(de){if(Cf(de)){var Gd=Ud(de),pf=R(Gd),Oc=qg(pf);a:for(var Pc=0;;)if(Pc<pf){var ee=Rc(Gd,Pc);ee=sf(new V(null,3,5,X,[Rm,new t(null,1,[mn,Xc],null),C.B(W,ee)],null),new t(null,1,[Hr,ee],null));Oc.add(ee);
Pc+=1}else{Gd=!0;break a}return Gd?sg(Oc.Fa(),hi(Vd(de))):sg(Oc.Fa(),null)}Oc=I(de);return Ze(sf(new V(null,3,5,X,[Rm,new t(null,1,[mn,Xc],null),C.B(W,Oc)],null),new t(null,1,[Hr,Oc],null)),hi(xe(de)))}return null}},null,null)}}(U,H,F,n,q,r,u,x,z,K,O,ba,ja,ma,ha,v,g,k,b,c,d,e,f)(k)}()],null),new t(null,1,[Hr,pe(U)],null)),E(xe(H)))}return null}},null,null)}(ha)}()],null)],null)}};KD.R=2;var LD=$e([gp,GD,am,HD,ym,KD]),MD=null!=LD&&(LD.F&64||p===LD.oa)?Hg(Mj,LD):LD;oh.C(ID,Qj,MD);
function ND(a){var b=nd(ID),c=ak(Ii(b));return xs(function(d){if(wf(d)){var e=I(d);e=c.j?c.j(e):c.call(null,e)}else e=!1;return y(e)?Bh.B(new V(null,1,5,X,[C.B(b,I(d))],null),xe(d)):d},a)};(function(a){return nA(function(b){return kf.C(b,Dl,a)})})(io);
var tu=mt.j(new t(null,3,[Bo,"Pay no attention to the man behind the curtain!",Po,null,Tm,null],null)),OD=function(a,b){var c=S(b,0,null),d=null!=c&&(c.F&64||p===c.oa)?Hg(Mj,c):c,e=C.B(d,bs),f=C.C(d,eq,Rz.G($e([Yn,20]))),g=C.C(d,yo,function(){var v=Xn.j(d);return y(v)?v:Qz()}()),k=C.B(d,Rr),l=C.C(d,Fq,np),m=C.B(d,Ho),n=C.C(d,ln,Dn),q=C.B(d,An);c=C.C(d,fs,Nu(2048));var r=C.C(d,br,dz),u=C.C(d,Ap,!0);null!=S(b,1,null)&&zA(Tq,fa,1414,new Pk(function(){return new V(null,1,5,X,["`make-channel-socket-client!` fn signature CHANGED with Sente v0.10.0."],
null)}),1475865693);If(d,Jl)&&zA(Tq,fa,1415,new Pk(function(){return new V(null,1,5,X,[":lp-timeout opt has CHANGED; please use :lp-timout-ms."],null)}),-799498577);var x=PA(l);l=function(){if(y(ez)){var v=ez.location;var w=y(v)?new t(null,7,[kn,v.href,Rr,v.protocol,Jo,v.hostname,An,v.host,dn,v.pathname,zn,v.search,xr,v.hash],null):null}else w=null;v=y(a)?a:dn.j(w);var A=dr.j(d);if(y(A))return new V(null,2,5,X,[A.C?A.C(v,w,sn):A.call(null,v,w,sn),A.C?A.C(v,w,Wq):A.call(null,v,w,Wq)],null);y(k)?A=
k:(A=Rr.j(w),A=y(A)?A:fm);w=y(q)?q:An.j(w);return new V(null,2,5,X,[iB(A,w,v,sn),iB(A,w,v,Wq)],null)}();b=S(l,0,null);var z=S(l,1,null);l=new t(null,3,[Rn,Lv(Nu(128),null),nm,Lv(Nu(10),null),Cn,function(){var v=Nu(512);return y(u)?Kv(v,rh.j(function(w){return new V(null,2,5,X,[Ir,w],null)})):Lv(v,null)}()],null);f=new t(null,5,[yo,g,Vp,l,Ho,m,Fq,x,eq,f],null);var K=Qj.G($e([f,new t(null,2,[Bq,b,br,r],null)])),O=Qj.G($e([f,new t(null,3,[Bq,z,bs,e,br,r],null)])),ba=new t(null,2,[Sp,K,gm,O],null);e=
QA(function(){var v=n instanceof D?n.Ia:null;switch(v){case "ws":return dB(K);case "ajax":return gB(O);case "auto":v=Qj.G($e([new t(null,2,[Dq,mh(new t(null,3,[ln,Dn,uq,!1,so,!1],null)),nn,mh(null)],null),ba]));var w=mf.G(v,Sp,$e([gm,Dq,nn]));w=Af(v)?Bh.B(Pg,w):w;return new hB(Sp.j(v),gm.j(v),Dq.j(v),nn.j(v),null,Ng(w),null);default:throw Error(["No matching clause: ",B.j(v)].join(""));}}());if(y(e)){var ja=Dq.j(e),ma=Rn.j(l),ha=jh.B(TA,e);c=Vv(new V(null,3,5,X,[Rn.j(l),nm.j(l),Cn.j(l)],null),c);
r=Kv(1,rh.j(function(v){var w=JA(v);v=y(w)?new V(null,2,5,X,[Qq,v],null):v;w=S(v,0,null);var A=S(v,1,null);return new t(null,6,[Ln,ma,Ao,ha,nm,ja,Wm,v,as,w,Lo,A],null)}));Sv(c,r);return new t(null,4,[uo,e,Ln,r,Ao,ha,nm,Dq.j(e)],null)}return zA(Tq,fa,1503,new Pk(function(){return new V(null,1,5,X,["Failed to create channel socket"],null)}),-267868129)}("/chsk",$e([new t(null,2,[ln,Dn,Fq,new $C],null)])),PD=null!=OD&&(OD.F&64||p===OD.oa)?Hg(Mj,OD):OD;C.B(PD,uo);
var QD=C.B(PD,Ln),RD=C.B(PD,Ao),SD=C.B(PD,nm),VD,WD=mh(Pg),XD=mh(Pg),YD=mh(Pg),ZD=mh(Pg),$D=C.C(Pg,Bp,el.O?el.O():el.call(null));VD=new pl(te.B(ea,"-event-msg-handler"),as,$D,WD,XD,YD,ZD);function aE(a){a=null!=a&&(a.F&64||p===a.oa)?Hg(Mj,a):a;C.B(a,as);C.B(a,Lo);var b=C.B(a,Wm);zA(Wp,ea,35,new Pk(function(){return new V(null,2,5,X,["Event: %s",b],null)}),704245732);ff;return VD.j(a)}
sl(VD,ql,function(a){a=null!=a&&(a.F&64||p===a.oa)?Hg(Mj,a):a;var b=C.B(a,Wm);return zA(Wp,ea,40,new Pk(function(){return new V(null,2,5,X,["Unhandled event: %s",b],null)}),-2082314971)});
sl(VD,Vn,function(a){a=null!=a&&(a.F&64||p===a.oa)?Hg(Mj,a):a;var b=C.B(a,Lo);S(b,0,null);a=S(b,1,null);return y(Am.j(a))?zA(Wp,ea,46,new Pk(function(){return new V(null,2,5,X,["Channel socket successfully established!: %s",b],null)}),-1013165801):zA(Wp,ea,47,new Pk(function(){return new V(null,2,5,X,["Channel socket state change: %s",b],null)}),-691131662)});
sl(VD,Pr,function(a){a=null!=a&&(a.F&64||p===a.oa)?Hg(Mj,a):a;var b=C.B(a,Lo);S(b,0,null);S(b,1,null);S(b,2,null);return zA(Wp,ea,52,new Pk(function(){return new V(null,2,5,X,["Handshake: %s",b],null)}),554185044)});
sl(VD,Ir,function(a){a=null!=a&&(a.F&64||p===a.oa)?Hg(Mj,a):a;var b=C.B(a,Lo);a=S(b,0,null);var c=S(b,1,null);switch(a instanceof D?a.Ia:null){case "oz.core/view-doc":return oh.C(tu,Qj,new t(null,2,[Po,c,Tm,null],null));default:return zA(Wp,ea,63,new Pk(function(){return new V(null,2,5,X,["Push event from server: %s",b],null)}),-986688377)}});var bE=mh(null);
function su(a){a=Po.j(nd(a));return y(a)?new V(null,2,5,X,[ND,a],null):new V(null,3,5,X,[Ym,new V(null,2,5,X,[lr,"Waiting for first spec to load..."],null),new V(null,4,5,X,[Lp,"This may take a second the first time if you call a plot function, unless you first call ",new V(null,2,5,X,[yn,fg(hq)],null),"."],null)],null)}
function ru(){return Ht(new t(null,2,[$o,function(a,b){return oh.ba(tu,kf,Tm,b)},zp,function(a){var b=Tm.j(nd(tu));return y(b)?new V(null,4,5,X,[Ym,new V(null,2,5,X,[kr,"Unable to process document!"],null),new V(null,2,5,X,[or,"Error:"],null),new V(null,2,5,X,[yn,Gk($e([b]))],null)],null):a}],null),mu)}
Kd(SD,Mm,function(){if(y(uq.j(nd(SD)))){console.log("chsk now open; sending connection established message.");var a=Lv(1,null);kv(function(){var b=function(){return function(){function d(g){for(;;){a:try{for(;;){var k=g,l=k[1];if(1===l){var m=Cv(1E3);var n=Hv(k,2,m)}else if(2===l){var q=k[2],r=new V(null,1,5,X,[tp],null),u=RD.j?RD.j(r):RD.call(null,r);k[7]=q;n=Jv(k,u)}else n=null;if(!T(n,bm)){var x=n;break a}}}catch(z){x=z;g[2]=x;if(G(g[4]))g[1]=I(g[4]);else throw x;x=bm}if(!T(x,bm))return x}}function e(){var g=
[null,null,null,null,null,null,null,null];g[0]=f;g[1]=1;return g}var f=null;f=function(g){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,g)}throw Error("Invalid arity: "+arguments.length);};f.O=e;f.j=d;return f}()}(),c=function(){var d=b();d[6]=a;return d}();return Gv(c)});return a}return null});function cE(){var a=nd(bE);y(a)&&(a.O?a.O():a.call(null));nh(bE,kB(QD,aE));qu()}cE();try{cE()}catch(a){throw console.error("An error occurred when calling (oz.app/init)"),a;};
}).call(this);